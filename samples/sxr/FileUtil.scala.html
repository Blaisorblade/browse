<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>FileUtil.scala</title>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sxr -- Scala X-Ray
 * Copyright 2009 Mark Harrah
 */</span>

<span class="keyword">package</span> sxr

<span class="keyword">import</span> java.io.{FileOutputStream, InputStream, OutputStream}
<span class="keyword">import</span> java.io.{BufferedReader, BufferedWriter, File, FileReader, FileWriter}

<span class="comment">/** A collection of utilities for I/O*/</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object sxr.FileUtil</span><a id="6256">FileUtil</a></span>
{
	<span class="comment">/** Managed resource operation.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)((java.io.BufferedReader) =&gt; Unit)Unit</span><a id="18287">withReader</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="22738">source</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>)(<span class="typed"><span class="type">(java.io.BufferedReader) =&gt; Unit</span><a id="22739">f</a></span>: BufferedReader =&gt; Unit)
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">java.io.BufferedReader</span><a id="23409">input</a></span> = <span class="typed"><span class="type">(java.io.Reader)java.io.BufferedReader</span><a id="22741" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.BufferedReader</span><a id="3524">BufferedReader</a></span>(<span class="typed"><span class="type">(java.io.File)java.io.FileReader</span><a id="23412" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileReader</span><a id="3803">FileReader</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#22738">source</a></span>))
		<span class="keyword">try</span> { <span class="typed"><span class="type">(java.io.BufferedReader)Unit</span><a href="#22739" id="12211">f</a></span>(<span class="typed"><span class="type">java.io.BufferedReader</span><a href="#23409">input</a></span>) }
		<span class="keyword">finally</span> { <span class="typed"><span class="type">java.io.BufferedReader</span><a href="#23409">input</a></span>.<span class="typed"><span class="type">()Unit</span><a id="22751">close</a></span>() }
	}
	<span class="comment">/** Managed resource operation.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)((java.io.BufferedWriter) =&gt; Unit)Unit</span><a id="18288">withWriter</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="21011">target</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>)(<span class="typed"><span class="type">(java.io.BufferedWriter) =&gt; Unit</span><a id="21012">f</a></span>: BufferedWriter =&gt; Unit)
	{
		<span class="typed"><span class="type">java.io.File</span><a href="#21011">target</a></span>.<span class="typed"><span class="type">()java.io.File</span><a id="12312">getParentFile</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="12338">mkdirs</a></span>()
		<span class="keyword">import</span> java.io.{BufferedWriter, FileWriter}
		<span class="keyword">val</span> <span class="typed"><span class="type">java.io.BufferedWriter</span><a id="23488">output</a></span> = <span class="typed"><span class="type">java.io.BufferedWriter</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.BufferedWriter</span><a id="3782">BufferedWriter</a></span>(<span class="typed"><span class="type">(java.io.File)java.io.FileWriter</span><a id="23492" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileWriter</span><a id="3599">FileWriter</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#21011">target</a></span>))
		<span class="keyword">try</span> { <span class="typed"><span class="type">(java.io.BufferedWriter)Unit</span><a href="#21012" id="12211">f</a></span>(<span class="typed"><span class="type">java.io.BufferedWriter</span><a href="#23488">output</a></span>) }
		<span class="keyword">finally</span> { <span class="typed"><span class="type">java.io.BufferedWriter</span><a href="#23488">output</a></span>.<span class="typed"><span class="type">()Unit</span><a id="21021">close</a></span>() }
	}
	<span class="comment">/** Get the number of common path components from the root.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">[S](Array[S],Array[S])Int</span><a id="18289">commonPrefix</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="18291">S</a></span>](<span class="typed"><span class="type">Array[S]</span><a id="23508">a</a></span>: <span class="typed"><span class="type">Array[S]</span><a id="1047">Array</a></span>[S], <span class="typed"><span class="type">Array[S]</span><a id="23509">b</a></span>: <span class="typed"><span class="type">Array[S]</span><a id="1047">Array</a></span>[S]): <span class="typed"><span class="type">Int</span><a id="2369">Int</a></span> =
	{
		<span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="23510">common</a></span>(<span class="typed"><span class="type">Int</span><a id="23511">count</a></span>: <span class="typed"><span class="type">Int</span><a id="2369">Int</a></span>): <span class="typed"><span class="type">Int</span><a id="2369">Int</a></span> =
		{
			<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Int</span><a href="#23511">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3121">&gt;=</a></span> <span class="typed"><span class="type">Array[S]</span><a href="#23508">a</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11962">length</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2725">||</a></span> <span class="typed"><span class="type">Int</span><a href="#23511">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3121">&gt;=</a></span> <span class="typed"><span class="type">Array[S]</span><a href="#23509">b</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11962">length</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2725">||</a></span> <span class="typed"><span class="type">(Int)S</span><a href="#23508" id="11963">a</a></span>(<span class="typed"><span class="type">Int</span><a href="#23511">count</a></span>) <span class="typed"><span class="type">(Any)Boolean</span><a id="3472">!=</a></span> <span class="typed"><span class="type">(Int)S</span><a href="#23509" id="11963">b</a></span>(<span class="typed"><span class="type">Int</span><a href="#23511">count</a></span>))
				<span class="typed"><span class="type">Int</span><a href="#23511">count</a></span>
			<span class="keyword">else</span>
				<span class="typed"><span class="type">(Int)Int</span><a href="#23510">common</a></span>(<span class="typed"><span class="type">Int</span><a href="#23511">count</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3122">+</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
		}
		<span class="typed"><span class="type">(Int)Int</span><a href="#23510">common</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
	}
	<span class="comment">/** Converts the given file to an array of path component strings. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)Array[String]</span><a id="18292">toPathArray</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="23539">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>): <span class="typed"><span class="type">Array[String]</span><a id="1047">Array</a></span>[String] =
	{
		<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,List[String])List[String]</span><a id="23540">toPathList</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="23541">f</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>, <span class="typed"><span class="type">List[String]</span><a id="23542">current</a></span>: <span class="typed"><span class="type">List[String]</span><a id="501">List</a></span>[String]): <span class="typed"><span class="type">List[String]</span><a id="501">List</a></span>[String] =
		{
			<span class="typed"><span class="type">List[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">java.io.File</span><a href="#23541">f</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3484">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
				<span class="typed"><span class="type">List[String]</span><a href="#23542">current</a></span>
			<span class="keyword">else</span>
				<span class="typed"><span class="type">(java.io.File,List[String])List[String]</span><a href="#23540">toPathList</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#23541">f</a></span>.<span class="typed"><span class="type">()java.io.File</span><a id="12312">getParentFile</a></span>, <span class="typed"><span class="type">java.io.File</span><a href="#23541">f</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="12310">getName</a></span> <span class="typed"><span class="type">(String)List[String]</span><a href="#23544" id="11789">::</a></span> <span class="typed"><span class="type">List[String]</span><a href="#23542">current</a></span>)
		}
		<span class="typed"><span class="type">(java.io.File,List[String])List[String]</span><a href="#23540">toPathList</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#23539">file</a></span>.<span class="typed"><span class="type">()java.io.File</span><a id="12318">getCanonicalFile</a></span>, <span class="typed"><span class="type">object Nil</span><a id="310">Nil</a></span>).<span class="typed"><span class="type">Array[String]</span><a id="12129">toArray</a></span>
	}
	<span class="comment">/** Creates a relative path from 'fromFile' to 'toFile' (for use in an 'href' attribute).*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,java.io.File)String</span><a id="18293">relativePath</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="18299">fromFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>, <span class="typed"><span class="type">java.io.File</span><a id="18300">toFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>): <span class="typed"><span class="type">String</span><a id="1836">String</a></span> =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">Array[String]</span><a id="23552">fromPath</a></span> = <span class="typed"><span class="type">(java.io.File)Array[String]</span><a href="#18292">toPathArray</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#18299">fromFile</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Array[String]</span><a id="23553">toPath</a></span> = <span class="typed"><span class="type">(java.io.File)Array[String]</span><a href="#18292">toPathArray</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#18300">toFile</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="23554">commonLength</a></span> = <span class="typed"><span class="type">(Array[String],Array[String])Int</span><a href="#18289">commonPrefix</a></span>(<span class="typed"><span class="type">Array[String]</span><a href="#23552">fromPath</a></span>, <span class="typed"><span class="type">Array[String]</span><a href="#23553">toPath</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Array.Projection[String]</span><a id="23555">relativeTo</a></span> = <span class="typed"><span class="type">Array[String]</span><a href="#23553">toPath</a></span>.<span class="typed"><span class="type">(Int)Array.Projection[String]</span><a id="11946">drop</a></span>(<span class="typed"><span class="type">Int</span><a href="#23554">commonLength</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="23556">parentsToCommon</a></span> = (<span class="typed"><span class="type">Array[String]</span><a href="#23552">fromPath</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11962">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3123">-</a></span> <span class="typed"><span class="type">Int</span><a href="#23554">commonLength</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3123">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
		<span class="typed"><span class="type">(Boolean)Unit</span><span id="5965"><a id="796">require</a></span></span>(<span class="typed"><span class="type">Int</span><a href="#23556">parentsToCommon</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3121">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="23557">up</a></span> = <span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6098"><a id="796" class="string">&quot;../&quot;</a></span></span> <span class="typed"><span class="type">(Int)String</span><a id="17122">*</a></span> <span class="typed"><span class="type">Int</span><a href="#23556">parentsToCommon</a></span>
		<span class="typed"><span class="type">Array.Projection[String]</span><a href="#23555">relativeTo</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a id="12272">mkString</a></span>(<span class="typed"><span class="type">String</span><a href="#23557">up</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;/&quot;)</span><span class="string">&quot;/&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
	}
	
	<span class="comment">/** Copies the 'resource' to be found on the classpath to the file 'to'.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(String,java.io.File)Unit</span><a id="18294">writeResource</a></span>(<span class="typed"><span class="type">String</span><a id="20997">resource</a></span>: <span class="typed"><span class="type">String</span><a id="1836">String</a></span>, <span class="typed"><span class="type">java.io.File</span><a id="20998">to</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>)
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">java.io.InputStream</span><a id="23572">source</a></span> = <span class="typed"><span class="type">()java.lang.Class[_ &lt;: java.lang.Object]</span><a id="3486">getClass</a></span>.<span class="typed"><span class="type">(java.lang.String)java.io.InputStream</span><a id="4335">getResourceAsStream</a></span>(<span class="typed"><span class="type">String</span><a href="#20997">resource</a></span>)
		<span class="keyword">try</span> { <span class="typed"><span class="type">(java.io.InputStream,java.io.File)Unit</span><a href="#18295">write</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#23572">source</a></span>, <span class="typed"><span class="type">java.io.File</span><a href="#20998">to</a></span>) }
		<span class="keyword">finally</span> { <span class="typed"><span class="type">java.io.InputStream</span><a href="#23572">source</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23594">close</a></span>() }
	}
	<span class="comment">/** Writes the 'input' stream to the file 'to'.*/</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream,java.io.File)Unit</span><a id="18295">write</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="23598">input</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3719">InputStream</a></span>, <span class="typed"><span class="type">java.io.File</span><a id="23599">to</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>)
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">java.io.FileOutputStream</span><a id="23600">out</a></span> = <span class="typed"><span class="type">(java.io.File)java.io.FileOutputStream</span><a id="23603" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileOutputStream</span><a id="3773">FileOutputStream</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#23599">to</a></span>)
		<span class="keyword">try</span> { <span class="typed"><span class="type">(java.io.InputStream,java.io.OutputStream)Unit</span><a href="#18296">transfer</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#23598">input</a></span>, <span class="typed"><span class="type">java.io.FileOutputStream</span><a href="#23600">out</a></span>) }
		<span class="keyword">finally</span> { <span class="typed"><span class="type">java.io.FileOutputStream</span><a href="#23600">out</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23609">close</a></span>() }
	}
	<span class="comment">/** Copies all bytes from the 'input' stream to the 'output' strem. */</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream,java.io.OutputStream)Unit</span><a id="18296">transfer</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="23747">input</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3719">InputStream</a></span>, <span class="typed"><span class="type">java.io.OutputStream</span><a id="23748">out</a></span>: <span class="typed"><span class="type">java.io.OutputStream</span><a id="3776">OutputStream</a></span>)
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="23749">buffer</a></span> = <span class="typed"><span class="type">Array[Byte]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Byte]</span><a id="1047">Array</a></span>[Byte](<span class="typed"><span class="type">Int(8192)</span><span class="int">8192</span></span>)
		<span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="23750">transfer</a></span>()
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="23781">read</a></span> = <span class="typed"><span class="type">java.io.InputStream</span><a href="#23747">input</a></span>.<span class="typed"><span class="type">(Array[Byte])Int</span><a id="23590">read</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#23749">buffer</a></span>)
			<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Int</span><a href="#23781">read</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3121">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
			{
				<span class="typed"><span class="type">java.io.OutputStream</span><a href="#23748">out</a></span>.<span class="typed"><span class="type">(Array[Byte],Int,Int)Unit</span><a id="23742">write</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#23749">buffer</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Int</span><a href="#23781">read</a></span>)
				<span class="typed"><span class="type">()Unit</span><a href="#23750">transfer</a></span>()
			}
		}
		<span class="typed"><span class="type">()Unit</span><a href="#23750">transfer</a></span>()
	}
	<span class="comment">/** Relativies the path of the given file against the given base file.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,java.io.File)Option[String]</span><a id="18297">relativize</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="20993">baseFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>, <span class="typed"><span class="type">java.io.File</span><a id="20994">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>): <span class="typed"><span class="type">Option[String]</span><a id="909">Option</a></span>[String] =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="23805">pathString</a></span> = <span class="typed"><span class="type">java.io.File</span><a href="#20994">file</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="12317">getCanonicalPath</a></span>
		<span class="typed"><span class="type">(java.io.File)Option[String]</span><a href="#18298">baseFileString</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#20993">baseFile</a></span>) <span class="typed"><span class="type">((String) =&gt; Option[String])Option[String]</span><a id="12366">flatMap</a></span> { <span class="typed"><span class="type">String</span><a id="23809">baseString</a></span> =&gt;
			<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23805">pathString</a></span>.<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5807">startsWith</a></span>(<span class="typed"><span class="type">String</span><a href="#23809">baseString</a></span>))
				<span class="typed"><span class="type">(java.lang.String)Some[java.lang.String]</span><span id="20399"><a id="283">Some</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23805">pathString</a></span>.<span class="typed"><span class="type">(Int)java.lang.String</span><a id="5820">substring</a></span>(<span class="typed"><span class="type">String</span><a href="#23809">baseString</a></span>.<span class="typed"><span class="type">()Int</span><a id="5787">length</a></span>))
			<span class="keyword">else</span>
				<span class="typed"><span class="type">object None</span><a id="511">None</a></span>
		}
	}
	<span class="comment">// used by relativize</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)Option[String]</span><a id="18298">baseFileString</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="23806">baseFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3644">File</a></span>): <span class="typed"><span class="type">Option[String]</span><a id="909">Option</a></span>[String] =
	{
		<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">java.io.File</span><a href="#23806">baseFile</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="12324">isDirectory</a></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="23813">cp</a></span> = <span class="typed"><span class="type">java.io.File</span><a href="#23806">baseFile</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="12317">getCanonicalPath</a></span>
			<span class="typed"><span class="type">(Boolean)Unit</span><span id="5961"><a id="796">assert</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23813">cp</a></span>.<span class="typed"><span class="type">()Int</span><a id="5787">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3120">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
			<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23813">cp</a></span>.<span class="typed"><span class="type">(Int)Char</span><a id="5788">charAt</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23813">cp</a></span>.<span class="typed"><span class="type">()Int</span><a id="5787">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3123">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">(Char)Boolean</span><a id="2993">==</a></span> <span class="typed"><span class="type">object java.io.File</span><a id="3645">File</a></span>.<span class="typed"><span class="type">Char</span><a id="12300">separatorChar</a></span>)
				<span class="typed"><span class="type">(java.lang.String)Some[java.lang.String]</span><span id="20399"><a id="283">Some</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23813">cp</a></span>)
			<span class="keyword">else</span>
				<span class="typed"><span class="type">(java.lang.String)Some[java.lang.String]</span><span id="20399"><a id="283">Some</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#23813">cp</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5768">+</a></span> <span class="typed"><span class="type">object java.io.File</span><a id="3645">File</a></span>.<span class="typed"><span class="type">Char</span><a id="12300">separatorChar</a></span>)
		}
		<span class="keyword">else</span>
			<span class="typed"><span class="type">object None</span><a id="511">None</a></span>
	}
}

        </pre>
    </body>
</html>