<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Escape.scala</title>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sxr -- Scala X-Ray
 * Copyright 2009 Mark Harrah
 */</span>

<span class="keyword">package</span> sxr

<span class="comment">/** Escapes a raw string for use in HTML.*/</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object sxr.Escape</span><a id="6207">Escape</a></span>
{
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)String</span><a id="21092">apply</a></span>(<span class="typed"><span class="type">String</span><a id="21094">s</a></span>: <span class="typed"><span class="type">String</span><a id="1836">String</a></span>) =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="21096">out</a></span> = <span class="typed"><span class="type">()StringBuilder</span><a id="17885" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a id="1410">StringBuilder</a></span>
		<span class="keyword">for</span>(<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="21254"><a id="21274">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6091"><a id="796" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="21232">until</a></span> <span class="typed"><span class="type">String</span><a href="#21094">s</a></span>.<span class="typed"><span class="type">()Int</span><a id="5787">length</a></span>)
		{
			<span class="typed"><span class="type">String</span><a href="#21094">s</a></span>.<span class="typed"><span class="type">(Int)Char</span><a id="5788">charAt</a></span>(<span class="typed"><span class="type">Int</span><a href="#21274">i</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span>
			{
				<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('&gt;')</span><span class="char">'&gt;'</span></span> =&gt; <span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a id="17904">append</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&amp;gt;&quot;)</span><span class="string">&quot;&amp;gt;&quot;</span></span>)
				<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('&amp;')</span><span class="char">'&amp;'</span></span> =&gt; <span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a id="17904">append</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&amp;amp;&quot;)</span><span class="string">&quot;&amp;amp;&quot;</span></span>)
				<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('&lt;')</span><span class="char">'&lt;'</span></span> =&gt; <span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a id="17904">append</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&amp;lt;&quot;)</span><span class="string">&quot;&amp;lt;&quot;</span></span>)
				<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('&quot;')</span><span class="char">'&quot;'</span></span> =&gt; <span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a id="17904">append</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&amp;quot;&quot;)</span><span class="string">&quot;&amp;quot;&quot;</span></span>)
				<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char</span><a id="21283">c</a></span> =&gt; <span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">(Char)StringBuilder</span><a id="17911">append</a></span>(<span class="typed"><span class="type">Char</span><a href="#21283">c</a></span>)
			}
		}
		<span class="typed"><span class="type">StringBuilder</span><a href="#21096">out</a></span>.<span class="typed"><span class="type">()String</span><a id="17937">toString</a></span>
	}
}
        </pre>
    </body>
</html>