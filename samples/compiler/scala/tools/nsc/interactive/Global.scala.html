<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/interactive/Global.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> interactive

<span class="keyword">import</span> java.io.{ PrintWriter, StringWriter }

<span class="keyword">import</span> scala.collection.mutable.{LinkedHashMap, SynchronizedMap}
<span class="keyword">import</span> scala.concurrent.SyncVar
<span class="keyword">import</span> scala.util.control.ControlException
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.tools.nsc.util.{SourceFile, Position, RangePosition, OffsetPosition, NoPosition, WorkScheduler}
<span class="keyword">import</span> scala.tools.nsc.reporters._
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.ast._

/** The main class of the presentation compiler in an interactive environment such as an IDE
 */
<span class="keyword">class</span> <a title="class Global extends scala.tools.nsc.Global with scala.tools.nsc.interactive.CompilerControl with scala.tools.nsc.interactive.RangePositions with scala.tools.nsc.interactive.ContextTrees with scala.tools.nsc.interactive.RichCompilationUnits with ScalaObject" id="18716">Global</a><span title="ScalaObject">(</span><a title="scala.tools.nsc.Settings" id="255739">settings</a>: <a href="../Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="255740">reporter</a>: <a href="../reporters/Reporter.scala.html#13075" title="scala.tools.nsc.reporters.Reporter">Reporter</a>) 
  <span class="keyword">extends</span> scala.tools.nsc.<a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>(<a href="#255739" title="scala.tools.nsc.Settings">settings</a>, <a href="#255740" title="scala.tools.nsc.reporters.Reporter">reporter</a>) 
     <span class="keyword">with</span> <a href="CompilerControl.scala.html#18623" title="scala.tools.nsc.interactive.CompilerControl">CompilerControl</a> 
     <span class="keyword">with</span> <a href="RangePositions.scala.html#18452" title="scala.tools.nsc.interactive.RangePositions">RangePositions</a>
     <span class="keyword">with</span> <a href="ContextTrees.scala.html#18578" title="scala.tools.nsc.interactive.ContextTrees">ContextTrees</a> 
     <span class="keyword">with</span> <a href="RichCompilationUnits.scala.html#18599" title="scala.tools.nsc.interactive.RichCompilationUnits">RichCompilationUnits</a> { 
self =&gt;

  <span class="keyword">import</span> definitions._

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="255636">debugIDE</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="255638">onlyPresentation</a> = <span title="Boolean(true)" class="keyword">true</span>

  /** A list indicating in which order some units should be typechecked.
   *  All units in firsts are typechecked before any unit not in this list
   *  Modified by askToDoFirst, reload, typeAtTree.
   */
  <span class="keyword">var</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="255640">firsts</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile] = List<a title="object Nil" id="7634">(</a>)

  /** A map of all loaded files to the rich compilation units that correspond to them.
   */ 
  <span class="keyword">val</span> <a title="&lt;refinement&gt; extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="255642">unitOfFile</a> = <a href="#326306" title="scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="326306">LinkedHashMap</a>[AbstractFile, RichCompilationUnit] <span class="keyword">with</span>
                       <a title="scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="25035">SynchronizedMap</a>[AbstractFile, RichCompilationUnit]

  /** The currently active typer run */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Global.this.TyperRun" id="255645">currentTyperRun</a>: <a href="#255687" title="Global.this.TyperRun">TyperRun</a> = _

  /** Is a background compiler run needed? */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="255648">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>

  /** Units compiled by a run with id &gt;= minRunId are considered up-to-date  */
  <span class="keyword">private</span>[interactive] <span class="keyword">var</span> <a title="Int" id="255651">minRunId</a> = <span title="Int(1)" class="int">1</span>

  /** Is a reload/background compiler currently running? */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="255654">acting</a> = <span title="Boolean(false)" class="keyword">false</span>

  // ----------- Overriding hooks in nsc.Global -----------------------
  
  /** Called from typechecker, which signal hereby that a node has been completely typechecked.
   *  If the node is included in unit.targetPos, abandons run and returns newly attributed tree.
   *  Otherwise, if there's some higher priority work to be done, also abandons run with a FreshRunReq.
   *  @param  context  The context that typechecked the node
   *  @param  old      The original node
   *  @param  result   The transformed node
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Global.this.Context,old: Global.this.Tree,result: Global.this.Tree)Unit" id="255656">signalDone</a>(<a title="Global.this.Context" id="555799">context</a>: <a href="../typechecker/Contexts.scala.html#39821" title="Global.this.Context">Context</a>, <a title="Global.this.Tree" id="555800">old</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>, <a title="Global.this.Tree" id="555801">result</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>) {
    <span class="keyword">def</span> <a title="()Unit" id="555806">integrateNew</a>() {
      <a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45438" title="(x$1: Global.this.analyzer.global.Tree)Unit">body</a> = <a href="#555817" title="(t: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="#255686" title="Global.this.TreeReplacer">TreeReplacer</a>(<a href="#555800" title="Global.this.Tree">old</a>, <a href="#555801" title="Global.this.Tree">result</a>) transform <a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Global.this.analyzer.global.Tree">body</a>
    }
    <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26121" title="(x$1: Int)Boolean">activeLocks</a> == <span title="Int(0)" class="int">0</span>) {
      <span title="Unit" class="keyword">if</span> (<a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="(x$1: AnyRef)Boolean">unit</a> <span title="(x$1: Boolean)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#555801" title="Global.this.Tree">result</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30282" title="=&gt; Boolean">isOpaqueRange</a> &amp;&amp; 
          (<a href="#555801" title="Global.this.Tree">result</a>.<a href="../util/Position.scala.html#30298" title="(pos: scala.tools.nsc.util.Position)Boolean">pos</a> includes <a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45452" title="=&gt; scala.tools.nsc.util.Position">targetPos</a>)) {
        <a href="#555806" title="()Unit">integrateNew</a>()
        <span class="keyword">var</span> <a title="Global.this.Tree" id="555853">located</a> = <a href="RangePositions.scala.html#70839" title="(root: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="RangePositions.scala.html#68027" title="Global.this.Locator">Locator</a>(<a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45452" title="=&gt; scala.tools.nsc.util.Position">targetPos</a>) locateIn <a href="#555801" title="Global.this.Tree">result</a>
        <span title="Unit" class="keyword">if</span> (<a href="#555853" title="(x$1: AnyRef)Boolean">located</a> == <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>) {
          <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;something's wrong: no &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555799" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555801" title="Global.this.Tree">result</a>+<a href="#555801" title="Global.this.Tree">result</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
          <a href="#555853" title="Global.this.Tree">located</a> = <a href="#555801" title="Global.this.Tree">result</a>
        }
        <span title="Nothing" class="keyword">throw</span> <span title="Global.this.TyperResult" class="keyword">new</span> <a href="#255688" title="Global.this.TyperResult">TyperResult</a>(<a href="#555853" title="Global.this.Tree">located</a>)
      }
      <span class="keyword">val</span> <a title="Global.this.TyperRun" id="555839">typerRun</a> = <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>
      
      <span title="Unit" class="keyword">while</span>(<span title="Boolean(true)" class="keyword">true</span>) 
        <a href="#555887" title="()Unit" class="keyword">try</a> {
          <a href="#255658" title="()Unit">pollForWork</a>()
          <span title="Unit" class="keyword">if</span> (<a href="#555839" title="(x$1: AnyRef)Boolean">typerRun</a> == <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>)
            <span title="Nothing" class="keyword">return</span>
            
          <a href="#555806" title="()Unit">integrateNew</a>()
          <span title="Nothing" class="keyword">throw</span> <span title="Global.this.FreshRunReq" class="keyword">new</span> <a href="CompilerControl.scala.html#255720" title="Global.this.FreshRunReq">FreshRunReq</a>
        } <span class="keyword">catch</span> {
          <span title="Unit" class="keyword">case</span> <a title="Global.this.ValidateError" id="555901">ex</a> : <a href="RangePositions.scala.html#68026" title="Global.this.ValidateError">ValidateError</a> =&gt; // Ignore, this will have been reported elsewhere
          <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="555902">t</a> : <span title="Throwable">Throwable</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#555902" title="java.lang.Throwable">t</a>
        }
    }
  }

  /** Called from typechecker every time a context is created.
   *  Registers the context in a context tree
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(c: Global.this.Context)Unit" id="255657">registerContext</a>(<a title="Global.this.Context" id="555905">c</a>: <a href="../typechecker/Contexts.scala.html#39821" title="Global.this.Context">Context</a>) = <a href="#555905" title="Global.this.Context">c</a>.<a href="../typechecker/Contexts.scala.html#48356" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a> <span title="Unit" class="keyword">match</span> {
    <span title="Unit" class="keyword">case</span> <a title="Global.this.RichCompilationUnit" id="555913">u</a>: <a href="RichCompilationUnits.scala.html#255738" title="Global.this.RichCompilationUnit">RichCompilationUnit</a> =&gt; <a href="ContextTrees.scala.html#255730" title="(contexts: Global.this.Contexts,context: Global.this.Context)Unit">addContext</a>(<a href="#555913" title="Global.this.RichCompilationUnit">u</a>.<a href="RichCompilationUnits.scala.html#326303" title="=&gt; Global.this.Contexts">contexts</a>, <a href="#555905" title="Global.this.Context">c</a>)
    <span title="Unit" class="keyword">case</span> _ =&gt;
  }

  // ----------------- Polling ---------------------------------------

  /** Called from runner thread and signalDone:
   *  Poll for exeptions. 
   *  Poll for work reload/typedTreeAt/doFirst commands during background checking.
   */
  <span class="keyword">def</span> <a title="()Unit" id="255658">pollForWork</a>() {
    <a href="CompilerControl.scala.html#255702" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256042" title="()Option[Exception]">pollException</a>() <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Some(<a title="Global.this.CancelActionReq" id="555937">ex</a>: <a href="CompilerControl.scala.html#255719" title="Global.this.CancelActionReq">CancelActionReq</a>) =&gt; <span title="Unit" class="keyword">if</span> (<a href="#255654" title="=&gt; Boolean">acting</a>) <span title="Nothing" class="keyword">throw</span> <a href="#555937" title="Global.this.CancelActionReq">ex</a>
      <span title="Unit" class="keyword">case</span> Some(<a title="Global.this.FreshRunReq" id="555941">ex</a>: <a href="CompilerControl.scala.html#255720" title="Global.this.FreshRunReq">FreshRunReq</a>) =&gt; 
        <a href="#255645" title="(x$1: Global.this.TyperRun)Unit">currentTyperRun</a> = <span title="Global.this.TyperRun" class="keyword">new</span> <a href="#255687" title="Global.this.TyperRun">TyperRun</a>()
        <a href="#255651" title="(x$1: Int)Unit">minRunId</a> = <a href="../Global.scala.html#39177" title="=&gt; Int">currentRunId</a>
        <span title="Unit" class="keyword">if</span> (<a href="#255648" title="=&gt; Boolean">outOfDate</a>) <span title="Nothing" class="keyword">throw</span> <a href="#555941" title="Global.this.FreshRunReq">ex</a> 
        <span class="keyword">else</span> <a href="#255648" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span title="Nothing" class="keyword">case</span> Some(<a title="java.lang.Exception" id="555953">ex</a>: <span title="Throwable">Throwable</span>) =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#555953" title="java.lang.Exception">ex</a>
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }
    <a href="CompilerControl.scala.html#255702" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256041" title="()Option[() =&gt; Unit]">nextWorkItem</a>() <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Some(<a title="() =&gt; Unit" id="555960">action</a>) =&gt;
        <span class="keyword">try</span> {
          <a href="#255654" title="(x$1: Boolean)Unit">acting</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;picked up work item: &quot;</span>+<a href="#555960" title="() =&gt; Unit">action</a>)
          <a href="#555960" title="()Unit" id="44711">action</a>()
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;done with work item: &quot;</span>+<a href="#555960" title="() =&gt; Unit">action</a>)
        } <span class="keyword">catch</span> {
          <span title="Unit" class="keyword">case</span> <a title="Global.this.CancelActionReq" id="555979">ex</a>: <a href="CompilerControl.scala.html#255719" title="Global.this.CancelActionReq">CancelActionReq</a> =&gt;
            <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cancelled work item: &quot;</span>+<a href="#555960" title="() =&gt; Unit">action</a>)
        } <span class="keyword">finally</span> {
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;quitting work item: &quot;</span>+<a href="#555960" title="() =&gt; Unit">action</a>)
          <a href="#255654" title="(x$1: Boolean)Unit">acting</a> = <span title="Boolean(false)" class="keyword">false</span>
        }
      <span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt;
    }
  }    

  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,start: Int,length: Int)String" id="255659">debugInfo</a>(<a title="scala.tools.nsc.util.SourceFile" id="555994">source</a> : <a href="../util/SourceFile.scala.html#14713" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Int" id="555995">start</a> : <span title="Int">Int</span>, <a title="Int" id="555996">length</a> : <span title="Int">Int</span>): <a title="String" id="1605">String</a> = {
    <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;DEBUG INFO &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555994" title="scala.tools.nsc.util.SourceFile">source</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555995" title="Int">start</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>+<a href="#555996" title="Int">length</a>)
    <span class="keyword">val</span> <a title="Int" id="555998">end</a> = <a href="#555995" title="(x$1: Int)Int" id="2964">start</a>+<a href="#555996" title="Int">length</a>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.RangePosition" id="555999">pos</a> = <a href="RangePositions.scala.html#68009" title="(source: scala.tools.nsc.util.SourceFile,start: Int,point: Int,end: Int)scala.tools.nsc.util.RangePosition">rangePos</a>(<a href="#555994" title="scala.tools.nsc.util.SourceFile">source</a>, <a href="#555995" title="Int">start</a>, <a href="#555995" title="Int">start</a>, <a href="#555998" title="Int">end</a>)

    <span class="keyword">val</span> <a title="Global.this.Tree" id="556000">tree</a> = <a href="CompilerControl.scala.html#255707" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">locateTree</a>(<a href="#555999" title="scala.tools.nsc.util.RangePosition">pos</a>)
    <span class="keyword">val</span> <a title="java.io.StringWriter" id="556001">sw</a> = <span title="java.io.StringWriter" class="keyword">new</span> <span title="java.io.StringWriter">StringWriter</span>
    <span class="keyword">val</span> <a title="java.io.PrintWriter" id="556002">pw</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#556001" title="java.io.StringWriter">sw</a>)
    <a href="../ast/Trees.scala.html#26578" title="object Global.this.treePrinters">treePrinters</a>.<a href="../ast/TreePrinters.scala.html#81406" title="(writer: java.io.PrintWriter)Global.this.treePrinters.TreePrinter">create</a>(<a href="#556002" title="java.io.PrintWriter">pw</a>).<a href="../ast/TreePrinters.scala.html#81477" title="(tree: Global.this.treePrinters.trees.Tree)Unit">print</a>(<a href="#556000" title="Global.this.Tree">tree</a>)
    <a href="#556002" title="java.io.PrintWriter">pw</a>.<span title="()Unit">flush</span>
    
    <span class="keyword">val</span> <a title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]" id="556003">typed</a> = <span title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]" class="keyword">new</span> <span title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">Response</span>[Tree]
    <a href="CompilerControl.scala.html#255711" title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[Global.this.Tree])Unit">askTypeAt</a>(<a href="#555999" title="scala.tools.nsc.util.RangePosition">pos</a>, <a href="#556003" title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">typed</a>)
    <span class="keyword">val</span> <a title="java.lang.String" id="556004">typ</a> = <a href="#556003" title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">typed</a>.<span title="=&gt; Either[Global.this.Tree,Throwable]">get</span>.<span title="=&gt; Either.LeftProjection[Global.this.Tree,Throwable]">left</span>.<span title="=&gt; Option[Global.this.Tree]">toOption</span> <span title="java.lang.String" class="keyword">match</span> {
      <span title="java.lang.String" class="keyword">case</span> Some(<a title="Global.this.Tree" id="556075">tree</a>) =&gt;
        <span class="keyword">val</span> <a title="java.io.StringWriter" id="556078">sw</a> = <span title="java.io.StringWriter" class="keyword">new</span> <span title="java.io.StringWriter">StringWriter</span>
        <span class="keyword">val</span> <a title="java.io.PrintWriter" id="556079">pw</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#556078" title="java.io.StringWriter">sw</a>)
        <a href="../ast/Trees.scala.html#26578" title="object Global.this.treePrinters">treePrinters</a>.<a href="../ast/TreePrinters.scala.html#81406" title="(writer: java.io.PrintWriter)Global.this.treePrinters.TreePrinter">create</a>(<a href="#556079" title="java.io.PrintWriter">pw</a>).<a href="../ast/TreePrinters.scala.html#81477" title="(tree: Global.this.treePrinters.trees.Tree)Unit">print</a>(<a href="#556075" title="Global.this.Tree">tree</a>)
        <a href="#556079" title="java.io.PrintWriter">pw</a>.<span title="()Unit">flush</span>
        <a href="#556078" title="java.io.StringWriter">sw</a>.<span title="()java.lang.String">toString</span>
      <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="string">&quot;&lt;None&gt;&quot;</span>      
    }

    <span class="keyword">val</span> <a title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]" id="556005">completionResponse</a> = <span title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]" class="keyword">new</span> <span title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">Response</span>[List[Member]]
    <a href="CompilerControl.scala.html#255713" title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit">askTypeCompletion</a>(<a href="#555999" title="scala.tools.nsc.util.RangePosition">pos</a>, <a href="#556005" title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">completionResponse</a>)
    <span class="keyword">val</span> <a title="String" id="556006">completion</a> = <a href="#556005" title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">completionResponse</a>.<span title="=&gt; Either[List[Global.this.Member],Throwable]">get</span>.<span title="=&gt; Either.LeftProjection[List[Global.this.Member],Throwable]">left</span>.<span title="=&gt; Option[List[Global.this.Member]]">toOption</span> <span title="String" class="keyword">match</span> {
      <span title="String" class="keyword">case</span> Some(<a title="List[Global.this.Member]" id="556126">members</a>) =&gt;
        <a href="#556126" title="(sep: String)String" id="25364">members</a> mkString <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>
      <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="string">&quot;&lt;None&gt;&quot;</span>      
    }
    
    <a href="#555994" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68206" title="=&gt; Array[Char]">content</a>.<a title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="25872">view</a>.<a title="(n: Int)scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="56862">drop</a>(<a href="#555995" title="Int">start</a>).<a title="(n: Int)scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="56864">take</a>(<a href="#555996" title="Int">length</a>).<a title="(x$1: Any)java.lang.String" id="25366">mkString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555994" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68217" title="=&gt; String">path</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555995" title="Int">start</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#555998" title="Int">end</a><span title="(x$1: Any)java.lang.String">+</span>
    <span title="java.lang.String(&quot;)\012\012locateTree:\012&quot;)" class="string">&quot;)\n\nlocateTree:\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#556001" title="java.io.StringWriter">sw</a>.<span title="()java.lang.String">toString</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012\012askTypeAt:\012&quot;)" class="string">&quot;\n\naskTypeAt:\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#556004" title="java.lang.String">typ</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012\012completion:\012&quot;)" class="string">&quot;\n\ncompletion:\n&quot;</span>+<a href="#556006" title="String">completion</a>
  }

  // ----------------- The Background Runner Thread -----------------------

  /** The current presentation compiler runner */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="java.lang.Thread" id="255661">compileRunner</a> = <a href="#255663" title="=&gt; java.lang.Thread">newRunnerThread</a>

  /** Create a new presentation compiler runner.
   */
  <span class="keyword">def</span> <a title="=&gt; java.lang.Thread" id="255663">newRunnerThread</a>: <span title="java.lang.Thread">Thread</span> = <a href="#130536" title="java.lang.Thread{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Thread" id="130536">Thread</a>(<span title="java.lang.String(&quot;Scala Presentation Compiler&quot;)" class="string">&quot;Scala Presentation Compiler&quot;</span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="556307">run</a>() {
      <span class="keyword">try</span> {
        <span title="Unit" class="keyword">while</span> (<span title="Boolean(true)" class="keyword">true</span>) <a href="#556317" title="()Unit">{</a>
          <a href="CompilerControl.scala.html#255702" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256039" title="()Unit">waitForMoreWork</a>()
          <a href="#255658" title="()Unit">pollForWork</a>()
          <span title="Unit" class="keyword">while</span> (<a href="#255648" title="=&gt; Boolean">outOfDate</a>) {
            <a href="#556355" title="()Unit" class="keyword">try</a> {
              <a href="#255664" title="()Unit">backgroundCompile</a>()
              <a href="#255648" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>
            } <span class="keyword">catch</span> {
              <span title="Unit" class="keyword">case</span> <a title="Global.this.FreshRunReq" id="556361">ex</a>: <a href="CompilerControl.scala.html#255720" title="Global.this.FreshRunReq">FreshRunReq</a> =&gt; 
            }
          }
        }
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="Global.this.ShutdownReq" id="556366">ex</a>: <a href="CompilerControl.scala.html#255721" title="Global.this.ShutdownReq">ShutdownReq</a> =&gt; 
          ;
        <span title="Unit" class="keyword">case</span> <a title="java.lang.Throwable" id="556367">ex</a> =&gt; 
          <a href="#255648" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="#255661" title="(x$1: java.lang.Thread)Unit">compileRunner</a> = <a href="#255663" title="=&gt; java.lang.Thread">newRunnerThread</a>
          <a href="#556367" title="java.lang.Throwable">ex</a> <span title="Unit" class="keyword">match</span> { 
            <span title="Unit" class="keyword">case</span> _ : <a href="RangePositions.scala.html#68026" title="Global.this.ValidateError">ValidateError</a> =&gt; // This will have been reported elsewhere
            <span title="Unit" class="keyword">case</span> _ =&gt; <a href="#556367" title="java.lang.Throwable">ex</a>.<a title="()Unit" id="25932">printStackTrace</a>(); <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Fatal Error: &quot;</span>+<a href="#556367" title="java.lang.Throwable">ex</a>)
          }
      }
    }
    <a href="#130536" title="()Unit" id="130553">start</a>()
  }

  /** Compile all given units
   */ 
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="255664">backgroundCompile</a>() {
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<span title="java.lang.String(&quot;Starting new presentation compiler type checking pass&quot;)" class="string">&quot;Starting new presentation compiler type checking pass&quot;</span>)
    <a href="#255740" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38770" title="=&gt; Unit">reset</a>
    <a href="#255640" title="(x$1: List[scala.tools.nsc.util.SourceFile])Unit">firsts</a> = <a href="#255640" title="(p: (scala.tools.nsc.util.SourceFile) =&gt; Boolean)List[scala.tools.nsc.util.SourceFile]">firsts</a> filter (<a title="scala.tools.nsc.util.SourceFile" id="556410">s</a> =&gt; <a href="#255642" title="(key: scala.tools.nsc.io.AbstractFile)Boolean" id="326347">unitOfFile</a> contains (<a href="#556410" title="scala.tools.nsc.util.SourceFile">s</a>.<a href="../util/SourceFile.scala.html#68207" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>))
    <span class="keyword">val</span> <a title="List[Global.this.RichCompilationUnit]" id="556398">prefix</a> = <a href="#255640" title="(f: (scala.tools.nsc.util.SourceFile) =&gt; Global.this.RichCompilationUnit)(implicit bf: scala.collection.generic.BuilderFactory[Global.this.RichCompilationUnit,List[Global.this.RichCompilationUnit],List[scala.tools.nsc.util.SourceFile]])List[Global.this.RichCompilationUnit]" id="25243">firsts</a> <a title="scala.collection.generic.BuilderFactory[Global.this.RichCompilationUnit,List[Global.this.RichCompilationUnit],List#Coll]" id="24313">map</a> <a href="CompilerControl.scala.html#255704" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>
    <span class="keyword">val</span> <a title="List[Global.this.RichCompilationUnit]" id="556399">units</a> = <a href="#556398" title="List[Global.this.RichCompilationUnit]">prefix</a> <a href="#556516" title="(p: (Global.this.RichCompilationUnit) =&gt; Boolean)List[Global.this.RichCompilationUnit]">:::</a> <span title="(prefix: List[Global.this.RichCompilationUnit])List[Global.this.RichCompilationUnit]">(</span><a href="#255642" title="=&gt; &lt;refinement&gt; extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a>.<a title="=&gt; Iterator[Global.this.RichCompilationUnit]" id="326336">valuesIterator</a>.<span title="(that: Sequence[Global.this.RichCompilationUnit])List[Global.this.RichCompilationUnit]">toList</span> diff <a href="#556398" title="List[Global.this.RichCompilationUnit]">prefix</a>) filter (<span title="=&gt; Boolean">!</span><a href="#556535" title="Global.this.RichCompilationUnit">_</a>.<a href="RichCompilationUnits.scala.html#326294" title="=&gt; Boolean">isUpToDate</a>)
    <a href="#255667" title="(units: List[Global.this.RichCompilationUnit])Unit">recompile</a>(<a href="#556399" title="List[Global.this.RichCompilationUnit]">units</a>)
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<span title="java.lang.String(&quot;Everything is now up to date&quot;)" class="string">&quot;Everything is now up to date&quot;</span>)
  }

  /** Reset unit to just-parsed state */
  <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Unit" id="255665">reset</a>(<a title="Global.this.RichCompilationUnit" id="556552">unit</a>: <a href="RichCompilationUnits.scala.html#255738" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> (<a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326289" title="(x$1: Int)Boolean" id="2960">status</a> &gt; <span title="Int(0)">JustParsed</span>) {
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45440" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">depends</a>.<span title="()Unit">clear</span>()
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45442" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">defined</a>.<span title="()Unit">clear</span>()
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45444" title="=&gt; scala.collection.mutable.HashMap[Global.this.Symbol,Global.this.Tree]">synthetics</a>.<a title="()Unit" id="44378">clear</a>()
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45446" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a>.<a title="()Unit" id="61582">clear</a>()
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326302" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326303" title="=&gt; Global.this.Contexts">contexts</a>.<a title="()Unit" id="108543">clear</a>()
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45438" title="(x$1: Global.this.Tree)Unit">body</a> = <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>
      <a href="#556552" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326290" title="(x$1: Int)Unit">status</a> = <span title="Int(-1)">NotLoaded</span>
    }

  /** Parse unit and create a name index. */
  <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Unit" id="255666">parse</a>(<a title="Global.this.RichCompilationUnit" id="556585">unit</a>: <a href="RichCompilationUnits.scala.html#255738" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <span title="Unit">Unit</span> = {
    <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="../Global.scala.html#40222" title="(unit: Global.this.CompilationUnit)Unit">compileLate</a>(<a href="#556585" title="Global.this.RichCompilationUnit">unit</a>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#255740" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38774" title="=&gt; Boolean">hasErrors</a>) <a href="RangePositions.scala.html#68025" title="(tree: Global.this.Tree)Unit">validatePositions</a>(<a href="#556585" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Global.this.Tree">body</a>)
    //println(&quot;parsed: [[&quot;+unit.body+&quot;]]&quot;)
    <a href="#556585" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326290" title="(x$1: Int)Unit">status</a> = <span title="Int(0)">JustParsed</span>
  }

  /** Make sure symbol and type attributes are reset and recompile units. 
   */
  <span class="keyword">def</span> <a title="(units: List[Global.this.RichCompilationUnit])Unit" id="255667">recompile</a>(<a title="List[Global.this.RichCompilationUnit]" id="556540">units</a>: <span title="List[Global.this.RichCompilationUnit]">List</span>[RichCompilationUnit]) {
    <span class="keyword">for</span> (<a title="Global.this.RichCompilationUnit" id="556619">unit</a> &lt;- <a href="#556540" title="(f: (Global.this.RichCompilationUnit) =&gt; Unit)Unit">units</a>) {
      <a href="#255665" title="(unit: Global.this.RichCompilationUnit)Unit">reset</a>(<a href="#556619" title="Global.this.RichCompilationUnit">unit</a>)
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;parsing: &quot;</span>+<a href="#556619" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#255666" title="(unit: Global.this.RichCompilationUnit)Unit">parse</a>(<a href="#556619" title="Global.this.RichCompilationUnit">unit</a>)
    }
    <span class="keyword">for</span> (<a title="Global.this.RichCompilationUnit" id="556653">unit</a> &lt;- <a href="#556540" title="(f: (Global.this.RichCompilationUnit) =&gt; Unit)Unit">units</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;type checking: &quot;</span>+<a href="#556653" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="../symtab/Symbols.scala.html#26122" title="(x$1: Int)Unit">activeLocks</a> = <span title="Int(0)" class="int">0</span>
      <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#555754" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#556653" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#556653" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326290" title="(x$1: Int)Unit">status</a> = <a href="../Global.scala.html#39177" title="=&gt; Int">currentRunId</a>
    }
  }

  /** Move list of files to front of firsts */
  <span class="keyword">def</span> <a title="(fs: List[scala.tools.nsc.util.SourceFile])Unit" id="255668">moveToFront</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="326694">fs</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile]) {
    <a href="#255640" title="(x$1: List[scala.tools.nsc.util.SourceFile])Unit">firsts</a> = <a href="#326694" title="List[scala.tools.nsc.util.SourceFile]">fs</a> <a href="#556675" title="List[scala.tools.nsc.util.SourceFile]">:::</a> <span title="(prefix: List[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]">(</span><a href="#255640" title="(that: Sequence[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]">firsts</a> diff <a href="#326694" title="List[scala.tools.nsc.util.SourceFile]">fs</a>)
  }

  // ----------------- Implementations of client commmands -----------------------
  
  <span class="keyword">def</span> <a title="[T](result: Global.this.Response[T])(op: =&gt; T)Unit" id="255669">respond</a>[<a title="&gt;: Nothing &lt;: Any" id="255671">T</a>](<a title="Global.this.Response[T]" id="556694">result</a>: <span title="Global.this.Response[T]">Response</span>[T])(<a title="=&gt; T" id="556695">op</a>: =&gt; T): <span title="Unit">Unit</span> = <span class="keyword">try</span> {
    <a href="#556694" title="(x: Either[T,Throwable])Unit">result</a> set <a title="(a: T)Left[T,Nothing]" id="1026">Left</a>(<a href="#556695" title="=&gt; T">op</a>)
  } <span class="keyword">catch</span> {
    <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="556741">ex</a> =&gt;
      <a href="#556694" title="(x: Either[T,Throwable])Unit">result</a> set <a title="(b: java.lang.Throwable)Right[Nothing,java.lang.Throwable]" id="456">Right</a>(<a href="#556741" title="java.lang.Throwable">ex</a>)
      <span title="Nothing" class="keyword">throw</span> <a href="#556741" title="java.lang.Throwable">ex</a>
  }

  /** Make sure a set of compilation units is loaded and parsed */
  <span class="keyword">def</span> <a title="(sources: List[scala.tools.nsc.util.SourceFile])Unit" id="255672">reloadSources</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="556784">sources</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile]) {
    <a href="#255645" title="(x$1: Global.this.TyperRun)Unit">currentTyperRun</a> = <span title="Global.this.TyperRun" class="keyword">new</span> <a href="#255687" title="Global.this.TyperRun">TyperRun</a>()
    <span class="keyword">for</span> (<a title="scala.tools.nsc.util.SourceFile" id="556806">source</a> &lt;- <a href="#556784" title="(f: (scala.tools.nsc.util.SourceFile) =&gt; Unit)Unit">sources</a>) {
      <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="556807">unit</a> = <span title="Global.this.RichCompilationUnit" class="keyword">new</span> <a href="RichCompilationUnits.scala.html#255738" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>(<a href="#556806" title="scala.tools.nsc.util.SourceFile">source</a>)
      <a href="#255642" title="(key: scala.tools.nsc.io.AbstractFile,value: Global.this.RichCompilationUnit)Unit" id="326321">unitOfFile</a>(<a href="#556806" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68207" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>) = <a href="#556807" title="Global.this.RichCompilationUnit">unit</a>
      <a href="#255666" title="(unit: Global.this.RichCompilationUnit)Unit">parse</a>(<a href="#556807" title="Global.this.RichCompilationUnit">unit</a>)
    }
    <a href="#255668" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#556784" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
  }

  /** Make sure a set of compilation units is loaded and parsed */
  <span class="keyword">def</span> <a title="(sources: List[scala.tools.nsc.util.SourceFile],result: Global.this.Response[Unit])Unit" id="255673">reload</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="256072">sources</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile], <a title="Global.this.Response[Unit]" id="256073">result</a>: <span title="Global.this.Response[Unit]">Response</span>[Unit]) {
    <a href="#255669" title="(result: Global.this.Response[Unit])(op: =&gt; Unit)Unit">respond</a>(<a href="#256073" title="Global.this.Response[Unit]">result</a>)(<a href="#255672" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#256072" title="List[scala.tools.nsc.util.SourceFile]">sources</a>))
    <span title="Unit" class="keyword">if</span> (<a href="#255648" title="=&gt; Boolean">outOfDate</a>) <span title="Nothing" class="keyword">throw</span> <span title="Global.this.FreshRunReq" class="keyword">new</span> <a href="CompilerControl.scala.html#255720" title="Global.this.FreshRunReq">FreshRunReq</a>
    <span class="keyword">else</span> <a href="#255648" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(true)" class="keyword">true</span>
  }

  /** A fully attributed tree located at position `pos`  */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Global.this.Tree" id="255674">typedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="556842">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
    <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="556844">unit</a> = <a href="CompilerControl.scala.html#255705" title="(pos: scala.tools.nsc.util.Position)Global.this.RichCompilationUnit">unitOf</a>(<a href="#556842" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="556845">sources</a> = <span title="(xs: scala.tools.nsc.util.SourceFile*)List[scala.tools.nsc.util.SourceFile]">List</span>(<a href="#556844" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>)
    <span title="Unit" class="keyword">if</span> (<a href="#556844" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326289" title="(x$1: Int)Boolean">status</a> == <span title="Int(-1)">NotLoaded</span>) <a href="#255672" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#556845" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#255668" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#556845" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <span class="keyword">val</span> <a title="Global.this.Tree" id="556846">typedTree</a> = <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#555756" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#556842" title="scala.tools.nsc.util.Position">pos</a>)
    <a href="RangePositions.scala.html#70839" title="(root: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="RangePositions.scala.html#68027" title="Global.this.Locator">Locator</a>(<a href="#556842" title="scala.tools.nsc.util.Position">pos</a>) locateIn <a href="#556846" title="Global.this.Tree">typedTree</a>
  }

  /** A fully attributed tree corresponding to the entire compilation unit  */
  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean)Global.this.Tree" id="255675">typedTree</a>(<a title="scala.tools.nsc.util.SourceFile" id="556883">source</a>: <a href="../util/SourceFile.scala.html#14713" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Boolean" id="556884">forceReload</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
    <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="556886">unit</a> = <a href="CompilerControl.scala.html#255704" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>(<a href="#556883" title="scala.tools.nsc.util.SourceFile">source</a>)
    <span class="keyword">val</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="556887">sources</a> = <span title="(xs: scala.tools.nsc.util.SourceFile*)List[scala.tools.nsc.util.SourceFile]">List</span>(<a href="#556883" title="scala.tools.nsc.util.SourceFile">source</a>)
    <span title="Unit" class="keyword">if</span> (<a href="#556886" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326289" title="(x$1: Int)Boolean">status</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(-1)">NotLoaded</span> || <a href="#556884" title="Boolean">forceReload</a>) <a href="#255672" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#556887" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#255668" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#556887" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#255645" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#555757" title="(unit: Global.this.RichCompilationUnit)Global.this.Tree">typedTree</a>(<a href="CompilerControl.scala.html#255704" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>(<a href="#556883" title="scala.tools.nsc.util.SourceFile">source</a>))
  }

  /** Set sync var `result` to a fully attributed tree located at position `pos`  */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[Global.this.Tree])Unit" id="255676">getTypedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="326570">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[Global.this.Tree]" id="326571">result</a>: <span title="Global.this.Response[Global.this.Tree]">Response</span>[Tree]) {
    <a href="#255669" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a>(<a href="#326571" title="Global.this.Response[Global.this.Tree]">result</a>)(<a href="#255674" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#326570" title="scala.tools.nsc.util.Position">pos</a>))
  }

  /** Set sync var `result` to a fully attributed tree corresponding to the entire compilation unit  */
  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean,result: Global.this.Response[Global.this.Tree])Unit" id="255677">getTypedTree</a>(<a title="scala.tools.nsc.util.SourceFile" id="326603">source</a> : <a href="../util/SourceFile.scala.html#14713" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Boolean" id="326604">forceReload</a>: <span title="Boolean">Boolean</span>, <a title="Global.this.Response[Global.this.Tree]" id="326605">result</a>: <span title="Global.this.Response[Global.this.Tree]">Response</span>[Tree]) {
    <a href="#255669" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a>(<a href="#326605" title="Global.this.Response[Global.this.Tree]">result</a>)(<a href="#255675" title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean)Global.this.Tree">typedTree</a>(<a href="#326603" title="scala.tools.nsc.util.SourceFile">source</a>, <a href="#326604" title="Boolean">forceReload</a>))
  }

  <span class="keyword">def</span> <a title="(tree: Global.this.Tree)Global.this.Type" id="255678">stabilizedType</a>(<a title="Global.this.Tree" id="556954">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>): <a href="../symtab/Types.scala.html#26205" title="Global.this.Type">Type</a> = <a href="#556954" title="Global.this.Tree">tree</a> <span title="Global.this.Type" class="keyword">match</span> {
    <span title="Global.this.Type" class="keyword">case</span> Ident(_) <span class="keyword">if</span> <a href="#556954" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Global.this.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26952" title="=&gt; Boolean">isStable</a> =&gt; <a href="../symtab/Types.scala.html#26287" title="(pre: Global.this.Type,sym: Global.this.Symbol)Global.this.Type">singleType</a>(<a href="../symtab/Types.scala.html#26226" title="object Global.this.NoPrefix">NoPrefix</a>, <a href="#556954" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Global.this.Symbol">symbol</a>)
    <span title="Global.this.Type" class="keyword">case</span> Select(<a title="Global.this.Tree" id="556967">qual</a>, _) <span class="keyword">if</span> <a href="#556954" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Global.this.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26952" title="=&gt; Boolean">isStable</a> =&gt; <a href="../symtab/Types.scala.html#26287" title="(pre: Global.this.Type,sym: Global.this.Symbol)Global.this.Type">singleType</a>(<a href="#556967" title="Global.this.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>, <a href="#556954" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Global.this.Symbol">symbol</a>)
    <span title="Global.this.Type" class="keyword">case</span> _ =&gt; <a href="#556954" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>
  }

  <span class="keyword">import</span> analyzer.{SearchResult, ImplicitSearch}

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit" id="255680">getScopeCompletion</a>(<a title="scala.tools.nsc.util.Position" id="326663">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="326664">result</a>: <span title="Global.this.Response[List[Global.this.Member]]">Response</span>[List[Member]]) {
    <a href="#255669" title="(result: Global.this.Response[List[Global.this.Member]])(op: =&gt; List[Global.this.Member])Unit">respond</a>(<a href="#326664" title="Global.this.Response[List[Global.this.Member]]">result</a>) { <a href="#255683" title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]">scopeMembers</a>(<a href="#326663" title="scala.tools.nsc.util.Position">pos</a>) }
  }

  <span class="keyword">val</span> <a title="Global.this.Name" id="255681">Dollar</a> = <a href="../symtab/Names.scala.html#26048" title="(s: String)Global.this.Name">newTermName</a>(<span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>)

  /** Return all members visible without prefix in context enclosing `pos`. */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]" id="255683">scopeMembers</a>(<a title="scala.tools.nsc.util.Position" id="556983">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <span title="List[Global.this.ScopeMember]">List</span>[ScopeMember] = {
    <a href="#255674" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#556983" title="scala.tools.nsc.util.Position">pos</a>) // to make sure context is entered
    <span class="keyword">val</span> <a title="Global.this.Context" id="556989">context</a> = <a href="CompilerControl.scala.html#255709" title="(pos: scala.tools.nsc.util.Position)Global.this.Context">doLocateContext</a>(<a href="#556983" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]" id="556990">locals</a> = <span title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">LinkedHashMap</span>[Name, ScopeMember]
    <span class="keyword">def</span> <a title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit" id="556991">addScopeMember</a>(<a title="Global.this.Symbol" id="557001">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="557002">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Global.this.Type">Type</a>, <a title="Global.this.Tree" id="557003">viaImport</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>) =
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#557001" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Global.this.Name">name</a>.<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Global.this.Name">decode</a>.<a href="../symtab/Names.scala.html#28221" title="(subname: Global.this.Name)Boolean">containsName</a>(<a href="#255681" title="=&gt; Global.this.Name">Dollar</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>  
          <span title="=&gt; Boolean">!</span><a href="#557001" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(2097152L)">SYNTHETIC</span>) &amp;&amp;
          <span title="=&gt; Boolean">!</span><a href="#556990" title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">locals</a>.<a title="(key: Global.this.Name)Boolean" id="44446">contains</a>(<a href="#557001" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Global.this.Name">name</a>)) {
        //println(&quot;adding scope member: &quot;+pre+&quot; &quot;+sym)
        <a href="#556990" title="(key: Global.this.Name,value: Global.this.ScopeMember)Unit">locals</a>(<a href="#557001" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Global.this.Name">name</a>) = <span title="Global.this.ScopeMember" class="keyword">new</span> <a href="CompilerControl.scala.html#255699" title="Global.this.ScopeMember">ScopeMember</a>(
          <a href="#557001" title="Global.this.Symbol">sym</a>, 
          <a href="#557002" title="Global.this.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a>(<a href="#557001" title="Global.this.Symbol">sym</a>), 
          <a href="#556989" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48453" title="(sym: Global.this.analyzer.global.Symbol,pre: Global.this.analyzer.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#557001" title="Global.this.Symbol">sym</a>, <a href="#557002" title="Global.this.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span>),
          <a href="#557003" title="Global.this.Tree">viaImport</a>)
      }
    <span class="keyword">var</span> <a title="Global.this.Context" id="556992">cx</a> = <a href="#556989" title="Global.this.Context">context</a>
    <span title="Unit" class="keyword">while</span> (<a href="#556992" title="(x$1: AnyRef)Boolean">cx</a> != <a href="ContextTrees.scala.html#255725" title="=&gt; Global.this.analyzer.Context">NoContext</a>) <a href="#556994" title="()Unit">{</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="557073">sym</a> &lt;- <a href="#556992" title="Global.this.Context">cx</a>.<a href="../symtab/Scopes.scala.html#27146" title="(p: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">scope</a>)
        <a href="#556991" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#557073" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="../symtab/Types.scala.html#26226" title="object Global.this.NoPrefix">NoPrefix</a>, <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>)
      <a href="#556992" title="Global.this.Context">cx</a> = <a href="#556992" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48371" title="=&gt; Global.this.analyzer.Context">enclClass</a>
      <span class="keyword">val</span> <a title="Global.this.analyzer.global.Type" id="557055">pre</a> = <a href="#556992" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48395" title="=&gt; Global.this.analyzer.global.Type">prefix</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="557096">sym</a> &lt;- <a href="#557055" title="Global.this.analyzer.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30213" title="(f: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">members</a>) 
        <a href="#556991" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#557096" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="#557055" title="Global.this.analyzer.global.Type">pre</a>, <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>)
      <a href="#556992" title="Global.this.Context">cx</a> = <a href="#556992" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48368" title="=&gt; Global.this.analyzer.Context">outer</a>
    }
    <span class="keyword">for</span> (<a title="Global.this.analyzer.ImportInfo" id="557121">imp</a> &lt;- <a href="#556989" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48386" title="(f: (Global.this.analyzer.ImportInfo) =&gt; Unit)Unit">imports</a>) {
      <span class="keyword">val</span> <a title="Global.this.analyzer.global.Type" id="557122">pre</a> = <a href="#557121" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#279383" title="=&gt; Global.this.analyzer.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.analyzer.global.Type">tpe</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="557142">sym</a> &lt;- <a href="#557121" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#279386" title="(f: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">allImportedSymbols</a>) {
        <a href="#556991" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#557142" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="#557122" title="Global.this.analyzer.global.Type">pre</a>, <a href="#557121" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#279383" title="=&gt; Global.this.analyzer.global.Tree">qual</a>)
      }
    }
    <span class="keyword">val</span> <a title="List[Global.this.ScopeMember]" id="556993">result</a> = <a href="#556990" title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">locals</a>.<span title="=&gt; Iterator[Global.this.ScopeMember]">valuesIterator</span>.<span title="=&gt; List[Global.this.ScopeMember]">toList</span>
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span class="keyword">for</span> (<a title="Global.this.ScopeMember" id="557167">m</a> &lt;- <a href="#556993" title="(f: (Global.this.ScopeMember) =&gt; Unit)Unit">result</a>) <span title="(x: Any)Unit">println</span>(<a href="#557167" title="Global.this.ScopeMember">m</a>)
    <a href="#556993" title="List[Global.this.ScopeMember]">result</a>
  }

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit" id="255684">getTypeCompletion</a>(<a title="scala.tools.nsc.util.Position" id="326631">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="326632">result</a>: <span title="Global.this.Response[List[Global.this.Member]]">Response</span>[List[Member]]) {
    <a href="#255669" title="(result: Global.this.Response[List[Global.this.Member]])(op: =&gt; List[Global.this.Member])Unit">respond</a>(<a href="#326632" title="Global.this.Response[List[Global.this.Member]]">result</a>) { <a href="#255685" title="(pos: scala.tools.nsc.util.Position)List[Global.this.TypeMember]">typeMembers</a>(<a href="#326631" title="scala.tools.nsc.util.Position">pos</a>) }
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="#255683" title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]">scopeMembers</a><span title="Unit">(</span><a href="#326631" title="scala.tools.nsc.util.Position">pos</a>)
  }

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)List[Global.this.TypeMember]" id="255685">typeMembers</a>(<a title="scala.tools.nsc.util.Position" id="557184">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <span title="List[Global.this.TypeMember]">List</span>[TypeMember] = {
    <span class="keyword">val</span> <a title="Global.this.Tree" id="557192">tree</a> = <a href="#255674" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#557184" title="scala.tools.nsc.util.Position">pos</a>)
    <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typeMembers at &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557192" title="Global.this.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#557192" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>)
    <span class="keyword">val</span> <a title="Global.this.Context" id="557193">context</a> = <a href="CompilerControl.scala.html#255709" title="(pos: scala.tools.nsc.util.Position)Global.this.Context">doLocateContext</a>(<a href="#557184" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="Boolean" id="557194">superAccess</a> = <a href="#557192" title="Global.this.Tree">tree</a>.<a title="[T0]Boolean" id="3620">isInstanceOf</a><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26720" title="Global.this.Super">Super</a>]
    <span class="keyword">val</span> <a title="Global.this.Scope" id="557195">scope</a> = <a href="../symtab/Scopes.scala.html#25966" title="=&gt; Global.this.Scope">newScope</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]" id="557196">members</a> = <span title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]">LinkedHashMap</span>[Symbol, TypeMember]
    <span class="keyword">def</span> <a title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit" id="557197">addTypeMember</a>(<a title="Global.this.Symbol" id="557230">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="557231">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Global.this.Type">Type</a>, <a title="Boolean" id="557232">inherited</a>: <span title="Boolean">Boolean</span>, <a title="Global.this.Symbol" id="557233">viaView</a>: <a href="../symtab/Symbols.scala.html#26127" title="Global.this.Symbol">Symbol</a>) {
      <span class="keyword">val</span> <a title="Global.this.Type" id="557234">symtpe</a> = <a href="#557231" title="Global.this.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a>(<a href="#557230" title="Global.this.Symbol">sym</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#557195" title="Global.this.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27139" title="(name: Global.this.Name)Iterator[Global.this.Symbol]">lookupAll</a><a title="(p: (Global.this.Symbol) =&gt; Boolean)Boolean" id="32176">(</a><a href="#557230" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Global.this.Name">name</a>) forall (<a title="Global.this.Symbol" id="557243">sym</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="#557196" title="(key: Global.this.Symbol)Global.this.TypeMember" id="44444">members</a>(<a href="#557243" title="Global.this.Symbol">sym</a>).<a href="../symtab/Types.scala.html#30238" title="(that: Global.this.Type)Boolean">tpe</a> matches <a href="#557234" title="Global.this.Type">symtpe</a>))) {
        <a href="../symtab/Scopes.scala.html#27131" title="(sym: Global.this.Symbol)Global.this.Symbol">scope</a> enter <a href="#557230" title="Global.this.Symbol">sym</a>
        <a href="#557196" title="(key: Global.this.Symbol,value: Global.this.TypeMember)Unit">members</a>(<a href="#557230" title="Global.this.Symbol">sym</a>) = <span title="Global.this.TypeMember" class="keyword">new</span> <a href="CompilerControl.scala.html#255696" title="Global.this.TypeMember">TypeMember</a>(
          <a href="#557230" title="Global.this.Symbol">sym</a>,
          <a href="#557234" title="Global.this.Type">symtpe</a>,
          <a href="#557193" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48453" title="(sym: Global.this.analyzer.global.Symbol,pre: Global.this.analyzer.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#557230" title="Global.this.Symbol">sym</a>, <a href="#557231" title="Global.this.Type">pre</a>, <a href="#557194" title="(x$1: Boolean)Boolean">superAccess</a> &amp;&amp; (<a href="#557233" title="(x$1: AnyRef)Boolean">viaView</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Global.this.NoSymbol">NoSymbol</a>)),
          <a href="#557232" title="Boolean">inherited</a>,
          <a href="#557233" title="Global.this.Symbol">viaView</a>)
      }
    }        
    <span class="keyword">def</span> <a title="(view: Global.this.analyzer.SearchResult)Global.this.Tree" id="557198">viewApply</a>(<a title="Global.this.analyzer.SearchResult" id="557311">view</a>: <a href="../typechecker/Implicits.scala.html#40000" title="Global.this.analyzer.SearchResult">SearchResult</a>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#557311" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258079" title="(x$1: AnyRef)Boolean">tree</a> != <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>)
      <span class="keyword">try</span> {
        <a href="../Global.scala.html#39102" title="object Global.this.analyzer">analyzer</a>.<a href="../typechecker/Typers.scala.html#39880" title="(context: Global.this.analyzer.Context)Global.this.analyzer.Typer">newTyper</a>(<a href="#557193" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48439" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a>(<span title="Boolean(false)" class="keyword">false</span>)).<a href="../typechecker/Typers.scala.html#42640" title="(tree: Global.this.analyzer.global.Tree)Global.this.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#49125" title="(fun: Global.this.Tree,args: List[Global.this.Tree])Global.this.Apply">Apply</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)Global.this.Apply">(</a><a href="#557311" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258079" title="=&gt; Global.this.analyzer.global.Tree">tree</a>, <span title="(xs: Global.this.Tree*)List[Global.this.Tree]">List</span>(<a href="#557192" title="Global.this.Tree">tree</a>)) setPos <a href="#557192" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      } <span class="keyword">catch</span> {
        <span title="Global.this.EmptyTree.type" class="keyword">case</span> <a title="Global.this.TypeError" id="557371">ex</a>: <a href="../symtab/Types.scala.html#26459" title="Global.this.TypeError">TypeError</a> =&gt; <a href="../ast/Trees.scala.html#26602" title="object Global.this.EmptyTree">EmptyTree</a>
      }
    }
    <span class="keyword">val</span> <a title="Global.this.Type" id="557199">pre</a> = <a href="#255678" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a>(<a href="#557192" title="Global.this.Tree">tree</a>)
    <span class="keyword">for</span> (<a title="Global.this.Symbol" id="557391">sym</a> &lt;- <a href="#557192" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Scopes.scala.html#27146" title="(p: (Global.this.Symbol) =&gt; Unit)Unit">decls</a>)
      <a href="#557197" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#557391" title="Global.this.Symbol">sym</a>, <a href="#557199" title="Global.this.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Symbols.scala.html#26134" title="object Global.this.NoSymbol">NoSymbol</a>)
    <span class="keyword">for</span> (<a title="Global.this.Symbol" id="557414">sym</a> &lt;- <a href="#557192" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Types.scala.html#30213" title="(f: (Global.this.Symbol) =&gt; Unit)Unit">members</a>)
      <a href="#557197" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#557414" title="Global.this.Symbol">sym</a>, <a href="#557199" title="Global.this.Type">pre</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Symbols.scala.html#26134" title="object Global.this.NoSymbol">NoSymbol</a>)
    <span class="keyword">val</span> <a title="List[Global.this.analyzer.SearchResult]" id="557200">applicableViews</a>: <span title="List[Global.this.analyzer.SearchResult]">List</span>[SearchResult] = 
      <span title="Global.this.analyzer.ImplicitSearch" class="keyword">new</span> <a href="../typechecker/Implicits.scala.html#40006" title="Global.this.analyzer.ImplicitSearch">ImplicitSearch</a>(<a href="#557192" title="Global.this.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#28473" title="(formals: List[Global.this.Type],restpe: Global.this.Type)Global.this.Type">functionType</a>(<span title="(xs: Global.this.Type*)List[Global.this.Type]">List</span>(<a href="#557192" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>), <a href="../symtab/Definitions.scala.html#28261" title="=&gt; Global.this.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Global.this.Type">tpe</a>), <span title="Boolean(true)" class="keyword">true</span>, <a href="#557193" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48439" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a>(<span title="Boolean(false)" class="keyword">false</span>))
        .<a href="../typechecker/Implicits.scala.html#557452" title="=&gt; List[Global.this.analyzer.SearchResult]">allImplicits</a>
    <span class="keyword">for</span> (<a title="Global.this.analyzer.SearchResult" id="557496">view</a> &lt;- <a href="#557200" title="(f: (Global.this.analyzer.SearchResult) =&gt; Unit)Unit">applicableViews</a>) {
      <span class="keyword">val</span> <a title="Global.this.Tree" id="557497">vtree</a> = <a href="#557198" title="(view: Global.this.analyzer.SearchResult)Global.this.Tree">viewApply</a>(<a href="#557496" title="Global.this.analyzer.SearchResult">view</a>)
      <span class="keyword">val</span> <a title="Global.this.Type" id="557498">vpre</a> = <a href="#255678" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a>(<a href="#557497" title="Global.this.Tree">vtree</a>)
      <span class="keyword">for</span> (<a title="Global.this.Symbol" id="557520">sym</a> &lt;- <a href="#557497" title="Global.this.Tree">vtree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Types.scala.html#30213" title="(f: (Global.this.Symbol) =&gt; Unit)Unit">members</a>) {
        <a href="#557197" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#557520" title="Global.this.Symbol">sym</a>, <a href="#557498" title="Global.this.Type">vpre</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#557496" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258079" title="=&gt; Global.this.analyzer.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Global.this.analyzer.global.Symbol">symbol</a>)
      }
    }
    <a href="#557196" title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]">members</a>.<span title="=&gt; Iterator[Global.this.TypeMember]">valuesIterator</span>.<span title="=&gt; List[Global.this.TypeMember]">toList</span>
  }

  // ---------------- Helper classes ---------------------------

  /** A transformer that replaces tree `from` with tree `to` in a given tree */
  <span class="keyword">class</span> <a title="class TreeReplacer extends Global.this.Transformer with ScalaObject" id="255686">TreeReplacer</a><span title="ScalaObject">(</span><a title="Global.this.Tree" id="555818">from</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>, <a title="Global.this.Tree" id="555819">to</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26773" title="Global.this.Transformer">Transformer</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Global.this.Tree)Global.this.Tree" id="555817">transform</a>(<a title="Global.this.Tree" id="555823">t</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
      <span title="Global.this.Tree" class="keyword">if</span> (<a href="#555823" title="(x$1: AnyRef)Boolean">t</a> == <a href="#555818" title="Global.this.Tree">from</a>) <a href="#555819" title="Global.this.Tree">to</a>
      <span class="keyword">else</span> <span title="Global.this.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#555823" title="Global.this.Tree">t</a>.<a href="../util/Position.scala.html#30298" title="(pos: scala.tools.nsc.util.Position)Boolean">pos</a> includes <a href="#555818" title="Global.this.Tree">from</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) || <a href="#555823" title="Global.this.Tree">t</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30280" title="=&gt; Boolean">isTransparent</a>) <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45473" title="(tree: Global.this.Tree)Global.this.Tree">transform</a>(<a href="#555823" title="Global.this.Tree">t</a>)
      <span class="keyword">else</span> <a href="#555823" title="Global.this.Tree">t</a>
    }
  }

  /** A traverser that resets all type and symbol attributes in a tree
  object ResetAttrs extends Transformer {
    override def transform(t: Tree): Tree = {
      if (t.hasSymbol) t.symbol = NoSymbol
      t match {
        case EmptyTree =&gt; 
          t
        case tt: TypeTree =&gt;
          if (tt.original != null) tt.original
          else t
        case _ =&gt; 
          t.tpe = null
          super.transform(t)
      }
    }
  }
  */

  /** The typer run */
  <span class="keyword">class</span> <a title="class TyperRun extends Global.this.Run with ScalaObject" id="255687">TyperRun</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../Global.scala.html#39178" title="Global.this.Run">Run</a> {
    // units is always empty
    // symSource, symData are ignored
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Global.this.Symbol)Boolean" id="555753">compiles</a>(<a title="Global.this.Symbol" id="557551">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Global.this.Symbol">Symbol</a>) = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(unit: Global.this.CompilationUnit)Unit" id="555754">typeCheck</a>(<a title="Global.this.CompilationUnit" id="556666">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Global.this.CompilationUnit">CompilationUnit</a>): <span title="Unit">Unit</span> = <a href="#555758" title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit">applyPhase</a>(<a href="../Global.scala.html#40188" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>, <a href="#556666" title="Global.this.CompilationUnit">unit</a>)

    <span class="keyword">def</span> <a title="(unit: Global.this.CompilationUnit)Unit" id="555755">enterNames</a>(<a title="Global.this.CompilationUnit" id="557562">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Global.this.CompilationUnit">CompilationUnit</a>): <span title="Unit">Unit</span> = <a href="#555758" title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit">applyPhase</a>(<a href="../Global.scala.html#40186" title="=&gt; scala.tools.nsc.Phase">namerPhase</a>, <a href="#557562" title="Global.this.CompilationUnit">unit</a>)

    /** Return fully attributed tree at given position
     *  (i.e. largest tree that's contained by position)
     */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Global.this.Tree" id="555756">typedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="556874">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
      <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;starting typedTreeAt&quot;)" class="string">&quot;starting typedTreeAt&quot;</span>)
      <span class="keyword">val</span> <a title="Global.this.Tree" id="557568">tree</a> = <a href="CompilerControl.scala.html#255707" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">locateTree</a>(<a href="#556874" title="scala.tools.nsc.util.Position">pos</a>)
      <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;at pos &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#556874" title="scala.tools.nsc.util.Position">pos</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; was found: &quot;)" class="string">&quot; was found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557568" title="Global.this.Tree">tree</a>+<a href="#557568" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30309" title="=&gt; String">show</a>)
      <span title="Global.this.Tree" class="keyword">if</span> (<a href="#557568" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="(x$1: AnyRef)Boolean" id="6544">tpe</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;already attributed&quot;)" class="string">&quot;already attributed&quot;</span>)
        <a href="#557568" title="Global.this.Tree">tree</a>
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="557593">unit</a> = <a href="CompilerControl.scala.html#255705" title="(pos: scala.tools.nsc.util.Position)Global.this.RichCompilationUnit">unitOf</a>(<a href="#556874" title="scala.tools.nsc.util.Position">pos</a>)
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#557593" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326289" title="(x$1: Int)Boolean">status</a> &gt;= <span title="Int(0)">JustParsed</span>)
        <a href="#557593" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326302" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="#556874" title="scala.tools.nsc.util.Position">pos</a>
        <span class="keyword">try</span> {
          <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;starting targeted type check&quot;)" class="string">&quot;starting targeted type check&quot;</span>)
          <a href="#555754" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#557593" title="Global.this.RichCompilationUnit">unit</a>)
          <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#8220" title="scala.tools.nsc.FatalError">FatalError</a>(<span title="java.lang.String(&quot;tree not found&quot;)" class="string">&quot;tree not found&quot;</span>)
        } <span class="keyword">catch</span> {
          <span title="Global.this.Tree" class="keyword">case</span> <a title="Global.this.TyperResult" id="557621">ex</a>: <a href="#255688" title="Global.this.TyperResult">TyperResult</a> =&gt; 
            <a href="#557621" title="Global.this.TyperResult">ex</a>.<a href="#555884" title="=&gt; Global.this.Tree">tree</a>
        } <span class="keyword">finally</span> {
          <a href="#557593" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326302" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
        }
      }
    } 

    <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Global.this.Tree" id="555757">typedTree</a>(<a title="Global.this.RichCompilationUnit" id="556917">unit</a>: <a href="RichCompilationUnits.scala.html#255738" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a> = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#556917" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326289" title="(x$1: Int)Boolean">status</a> &gt;= <span title="Int(0)">JustParsed</span>)
      <a href="#556917" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#326302" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
      <a href="#555754" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#556917" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#556917" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Global.this.Tree">body</a>
    } 

    /** Apply a phase to a compilation unit
     *  @return true iff typechecked correctly
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit" id="555758">applyPhase</a>(<a title="scala.tools.nsc.Phase" id="557557">phase</a>: <a href="../Phase.scala.html#8862" title="scala.tools.nsc.Phase">Phase</a>, <a title="Global.this.CompilationUnit" id="557558">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Global.this.CompilationUnit">CompilationUnit</a>) {
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.SourceFile" id="557638">oldSource</a> = <a href="#255740" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38781" title="=&gt; scala.tools.nsc.util.SourceFile">getSource</a>          
      <span class="keyword">try</span> {
        <a href="#255740" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38780" title="(source: scala.tools.nsc.util.SourceFile)Unit">setSource</a>(<a href="#557558" title="Global.this.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>)    
        <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="#557557" title="scala.tools.nsc.Phase">phase</a>) { <a href="#557557" title="scala.tools.nsc.Phase">phase</a>.<a title="[T0]T0" id="3623">asInstanceOf</a><a href="../Global.scala.html#82273" title="(unit: Global.this.CompilationUnit)Unit">[</a><a href="../Global.scala.html#39099" title="Global.this.GlobalPhase">GlobalPhase</a>] applyPhase <a href="#557558" title="Global.this.CompilationUnit">unit</a> }
      } <span class="keyword">finally</span> {
        <a href="../reporters/Reporter.scala.html#38780" title="(source: scala.tools.nsc.util.SourceFile)Unit">reporter</a> setSource <a href="#557638" title="scala.tools.nsc.util.SourceFile">oldSource</a>
      }
    }
  }

  <span class="keyword">class</span> <a title="class TyperResult extends java.lang.Exception with scala.util.control.ControlException with ScalaObject" id="255688">TyperResult</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Global.this.Tree" id="555884">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Global.this.Tree">Tree</a>) <span class="keyword">extends</span> <a title="java.lang.Exception" id="7820">Exception</a> <span class="keyword">with</span> <a title="scala.util.control.ControlException" id="47048">ControlException</a>
  
  <span title="(assertion: Boolean)Unit">assert</span>(<a href="../Global.scala.html#39092" title="=&gt; scala.tools.nsc.Phase">globalPhase</a>.<a href="../Phase.scala.html#23147" title="(x$1: Int)Boolean">id</a> == <span title="Int(0)" class="int">0</span>)
}


        </pre>
    </body>
</html>