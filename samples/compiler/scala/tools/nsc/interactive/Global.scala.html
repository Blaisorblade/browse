<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/interactive/Global.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> interactive

<span class="keyword">import</span> java.io.{ PrintWriter, StringWriter }

<span class="keyword">import</span> scala.collection.mutable.{LinkedHashMap, SynchronizedMap}
<span class="keyword">import</span> scala.concurrent.SyncVar
<span class="keyword">import</span> scala.util.control.ControlException
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.tools.nsc.util.{SourceFile, Position, RangePosition, OffsetPosition, NoPosition, WorkScheduler}
<span class="keyword">import</span> scala.tools.nsc.reporters._
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.ast._

/** The main class of the presentation compiler in an interactive environment such as an IDE
 */
<span class="keyword">class</span> <a title="class Global extends scala.tools.nsc.Global with scala.tools.nsc.interactive.CompilerControl with scala.tools.nsc.interactive.RangePositions with scala.tools.nsc.interactive.ContextTrees with scala.tools.nsc.interactive.RichCompilationUnits with ScalaObject" id="18851">Global</a><span title="ScalaObject">(</span><a title="scala.tools.nsc.Settings" id="256523">settings</a>: <a href="../Settings.scala.html#8775" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="256524">reporter</a>: <a href="../reporters/Reporter.scala.html#13147" title="scala.tools.nsc.reporters.Reporter">Reporter</a>) 
  <span class="keyword">extends</span> scala.tools.nsc.<a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>(<a href="#256523" title="scala.tools.nsc.Settings">settings</a>, <a href="#256524" title="scala.tools.nsc.reporters.Reporter">reporter</a>) 
     <span class="keyword">with</span> <a href="CompilerControl.scala.html#18758" title="scala.tools.nsc.interactive.CompilerControl">CompilerControl</a> 
     <span class="keyword">with</span> <a href="RangePositions.scala.html#18587" title="scala.tools.nsc.interactive.RangePositions">RangePositions</a>
     <span class="keyword">with</span> <a href="ContextTrees.scala.html#18713" title="scala.tools.nsc.interactive.ContextTrees">ContextTrees</a> 
     <span class="keyword">with</span> <a href="RichCompilationUnits.scala.html#18734" title="scala.tools.nsc.interactive.RichCompilationUnits">RichCompilationUnits</a> { 
self =&gt;

  <span class="keyword">import</span> definitions._

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="256420">debugIDE</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="256422">onlyPresentation</a> = <span title="Boolean(true)" class="keyword">true</span>

  /** A list indicating in which order some units should be typechecked.
   *  All units in firsts are typechecked before any unit not in this list
   *  Modified by askToDoFirst, reload, typeAtTree.
   */
  <span class="keyword">var</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="256424">firsts</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile] = List<a title="object Nil" id="7700">(</a>)

  /** A map of all loaded files to the rich compilation units that correspond to them.
   */ 
  <span class="keyword">val</span> <a title="&lt;refinement&gt; extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="256426">unitOfFile</a> = <a href="#327266" title="scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="327266">LinkedHashMap</a>[AbstractFile, RichCompilationUnit] <span class="keyword">with</span>
                       <a title="scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="25188">SynchronizedMap</a>[AbstractFile, RichCompilationUnit]

  /** The currently active typer run */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Global.this.TyperRun" id="256429">currentTyperRun</a>: <a href="#256471" title="Global.this.TyperRun">TyperRun</a> = _

  /** Is a background compiler run needed? */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="256432">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>

  /** Units compiled by a run with id &gt;= minRunId are considered up-to-date  */
  <span class="keyword">private</span>[interactive] <span class="keyword">var</span> <a title="Int" id="256435">minRunId</a> = <span title="Int(1)" class="int">1</span>

  /** Is a reload/background compiler currently running? */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="256438">acting</a> = <span title="Boolean(false)" class="keyword">false</span>

  // ----------- Overriding hooks in nsc.Global -----------------------
  
  /** Called from typechecker, which signal hereby that a node has been completely typechecked.
   *  If the node is included in unit.targetPos, abandons run and returns newly attributed tree.
   *  Otherwise, if there's some higher priority work to be done, also abandons run with a FreshRunReq.
   *  @param  context  The context that typechecked the node
   *  @param  old      The original node
   *  @param  result   The transformed node
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Global.this.Context,old: Global.this.Tree,result: Global.this.Tree)Unit" id="256440">signalDone</a>(<a title="Global.this.Context" id="557178">context</a>: <a href="../typechecker/Contexts.scala.html#40053" title="Global.this.Context">Context</a>, <a title="Global.this.Tree" id="557179">old</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>, <a title="Global.this.Tree" id="557180">result</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>) {
    <span class="keyword">def</span> <a title="()Unit" id="557185">integrateNew</a>() {
      <a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45670" title="(x$1: Global.this.analyzer.global.Tree)Unit">body</a> = <a href="#557196" title="(t: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="#256470" title="Global.this.TreeReplacer">TreeReplacer</a>(<a href="#557179" title="Global.this.Tree">old</a>, <a href="#557180" title="Global.this.Tree">result</a>) transform <a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Global.this.analyzer.global.Tree">body</a>
    }
    <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26280" title="(x$1: Int)Boolean">activeLocks</a> == <span title="Int(0)" class="int">0</span>) {
      <span title="Unit" class="keyword">if</span> (<a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="(x$1: AnyRef)Boolean">unit</a> <span title="(x$1: Boolean)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#557180" title="Global.this.Tree">result</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30468" title="=&gt; Boolean">isOpaqueRange</a> &amp;&amp; 
          (<a href="#557180" title="Global.this.Tree">result</a>.<a href="../util/Position.scala.html#30484" title="(pos: scala.tools.nsc.util.Position)Boolean">pos</a> includes <a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45684" title="=&gt; scala.tools.nsc.util.Position">targetPos</a>)) {
        <a href="#557185" title="()Unit">integrateNew</a>()
        <span class="keyword">var</span> <a title="Global.this.Tree" id="557232">located</a> = <a href="RangePositions.scala.html#71123" title="(root: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="RangePositions.scala.html#68299" title="Global.this.Locator">Locator</a>(<a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45684" title="=&gt; scala.tools.nsc.util.Position">targetPos</a>) locateIn <a href="#557180" title="Global.this.Tree">result</a>
        <span title="Unit" class="keyword">if</span> (<a href="#557232" title="(x$1: AnyRef)Boolean">located</a> == <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>) {
          <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;something's wrong: no &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557178" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557180" title="Global.this.Tree">result</a>+<a href="#557180" title="Global.this.Tree">result</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
          <a href="#557232" title="Global.this.Tree">located</a> = <a href="#557180" title="Global.this.Tree">result</a>
        }
        <span title="Nothing" class="keyword">throw</span> <span title="Global.this.TyperResult" class="keyword">new</span> <a href="#256472" title="Global.this.TyperResult">TyperResult</a>(<a href="#557232" title="Global.this.Tree">located</a>)
      }
      <span class="keyword">val</span> <a title="Global.this.TyperRun" id="557218">typerRun</a> = <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>
      
      <span title="Unit" class="keyword">while</span>(<span title="Boolean(true)" class="keyword">true</span>) 
        <a href="#557266" title="()Unit" class="keyword">try</a> {
          <a href="#256442" title="()Unit">pollForWork</a>()
          <span title="Unit" class="keyword">if</span> (<a href="#557218" title="(x$1: AnyRef)Boolean">typerRun</a> == <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>)
            <span title="Nothing" class="keyword">return</span>
            
          <a href="#557185" title="()Unit">integrateNew</a>()
          <span title="Nothing" class="keyword">throw</span> <span title="Global.this.FreshRunReq" class="keyword">new</span> <a href="CompilerControl.scala.html#256504" title="Global.this.FreshRunReq">FreshRunReq</a>
        } <span class="keyword">catch</span> {
          <span title="Unit" class="keyword">case</span> <a title="Global.this.ValidateError" id="557280">ex</a> : <a href="RangePositions.scala.html#68298" title="Global.this.ValidateError">ValidateError</a> =&gt; // Ignore, this will have been reported elsewhere
          <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="557281">t</a> : <span title="Throwable">Throwable</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#557281" title="java.lang.Throwable">t</a>
        }
    }
  }

  /** Called from typechecker every time a context is created.
   *  Registers the context in a context tree
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(c: Global.this.Context)Unit" id="256441">registerContext</a>(<a title="Global.this.Context" id="557284">c</a>: <a href="../typechecker/Contexts.scala.html#40053" title="Global.this.Context">Context</a>) = <a href="#557284" title="Global.this.Context">c</a>.<a href="../typechecker/Contexts.scala.html#48609" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a> <span title="Unit" class="keyword">match</span> {
    <span title="Unit" class="keyword">case</span> <a title="Global.this.RichCompilationUnit" id="557292">u</a>: <a href="RichCompilationUnits.scala.html#256522" title="Global.this.RichCompilationUnit">RichCompilationUnit</a> =&gt; <a href="ContextTrees.scala.html#256514" title="(contexts: Global.this.Contexts,context: Global.this.Context)Unit">addContext</a>(<a href="#557292" title="Global.this.RichCompilationUnit">u</a>.<a href="RichCompilationUnits.scala.html#327263" title="=&gt; Global.this.Contexts">contexts</a>, <a href="#557284" title="Global.this.Context">c</a>)
    <span title="Unit" class="keyword">case</span> _ =&gt;
  }

  // ----------------- Polling ---------------------------------------

  /** Called from runner thread and signalDone:
   *  Poll for exeptions. 
   *  Poll for work reload/typedTreeAt/doFirst commands during background checking.
   */
  <span class="keyword">def</span> <a title="()Unit" id="256442">pollForWork</a>() {
    <a href="CompilerControl.scala.html#256486" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256829" title="()Option[Exception]">pollException</a>() <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Some(<a title="Global.this.CancelActionReq" id="557316">ex</a>: <a href="CompilerControl.scala.html#256503" title="Global.this.CancelActionReq">CancelActionReq</a>) =&gt; <span title="Unit" class="keyword">if</span> (<a href="#256438" title="=&gt; Boolean">acting</a>) <span title="Nothing" class="keyword">throw</span> <a href="#557316" title="Global.this.CancelActionReq">ex</a>
      <span title="Unit" class="keyword">case</span> Some(<a title="Global.this.FreshRunReq" id="557320">ex</a>: <a href="CompilerControl.scala.html#256504" title="Global.this.FreshRunReq">FreshRunReq</a>) =&gt; 
        <a href="#256429" title="(x$1: Global.this.TyperRun)Unit">currentTyperRun</a> = <span title="Global.this.TyperRun" class="keyword">new</span> <a href="#256471" title="Global.this.TyperRun">TyperRun</a>()
        <a href="#256435" title="(x$1: Int)Unit">minRunId</a> = <a href="../Global.scala.html#39409" title="=&gt; Int">currentRunId</a>
        <span title="Unit" class="keyword">if</span> (<a href="#256432" title="=&gt; Boolean">outOfDate</a>) <span title="Nothing" class="keyword">throw</span> <a href="#557320" title="Global.this.FreshRunReq">ex</a> 
        <span class="keyword">else</span> <a href="#256432" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span title="Nothing" class="keyword">case</span> Some(<a title="java.lang.Exception" id="557332">ex</a>: <span title="Throwable">Throwable</span>) =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#557332" title="java.lang.Exception">ex</a>
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }
    <a href="CompilerControl.scala.html#256486" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256828" title="()Option[() =&gt; Unit]">nextWorkItem</a>() <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Some(<a title="() =&gt; Unit" id="557339">action</a>) =&gt;
        <span class="keyword">try</span> {
          <a href="#256438" title="(x$1: Boolean)Unit">acting</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;picked up work item: &quot;</span>+<a href="#557339" title="() =&gt; Unit">action</a>)
          <a href="#557339" title="()Unit" id="44943">action</a>()
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;done with work item: &quot;</span>+<a href="#557339" title="() =&gt; Unit">action</a>)
        } <span class="keyword">catch</span> {
          <span title="Unit" class="keyword">case</span> <a title="Global.this.CancelActionReq" id="557358">ex</a>: <a href="CompilerControl.scala.html#256503" title="Global.this.CancelActionReq">CancelActionReq</a> =&gt;
            <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cancelled work item: &quot;</span>+<a href="#557339" title="() =&gt; Unit">action</a>)
        } <span class="keyword">finally</span> {
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;quitting work item: &quot;</span>+<a href="#557339" title="() =&gt; Unit">action</a>)
          <a href="#256438" title="(x$1: Boolean)Unit">acting</a> = <span title="Boolean(false)" class="keyword">false</span>
        }
      <span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt;
    }
  }    

  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,start: Int,length: Int)String" id="256443">debugInfo</a>(<a title="scala.tools.nsc.util.SourceFile" id="557373">source</a> : <a href="../util/SourceFile.scala.html#14788" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Int" id="557374">start</a> : <span title="Int">Int</span>, <a title="Int" id="557375">length</a> : <span title="Int">Int</span>): <a title="String" id="1626">String</a> = {
    <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;DEBUG INFO &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557373" title="scala.tools.nsc.util.SourceFile">source</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557374" title="Int">start</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>+<a href="#557375" title="Int">length</a>)
    <span class="keyword">val</span> <a title="Int" id="557377">end</a> = <a href="#557374" title="(x$1: Int)Int" id="2985">start</a>+<a href="#557375" title="Int">length</a>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.RangePosition" id="557378">pos</a> = <a href="RangePositions.scala.html#68281" title="(source: scala.tools.nsc.util.SourceFile,start: Int,point: Int,end: Int)scala.tools.nsc.util.RangePosition">rangePos</a>(<a href="#557373" title="scala.tools.nsc.util.SourceFile">source</a>, <a href="#557374" title="Int">start</a>, <a href="#557374" title="Int">start</a>, <a href="#557377" title="Int">end</a>)

    <span class="keyword">val</span> <a title="Global.this.Tree" id="557379">tree</a> = <a href="CompilerControl.scala.html#256491" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">locateTree</a>(<a href="#557378" title="scala.tools.nsc.util.RangePosition">pos</a>)
    <span class="keyword">val</span> <a title="java.io.StringWriter" id="557380">sw</a> = <span title="java.io.StringWriter" class="keyword">new</span> <span title="java.io.StringWriter">StringWriter</span>
    <span class="keyword">val</span> <a title="java.io.PrintWriter" id="557381">pw</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#557380" title="java.io.StringWriter">sw</a>)
    <a href="../ast/Trees.scala.html#26737" title="object Global.this.treePrinters">treePrinters</a>.<a href="../ast/TreePrinters.scala.html#81705" title="(writer: java.io.PrintWriter)Global.this.treePrinters.TreePrinter">create</a>(<a href="#557381" title="java.io.PrintWriter">pw</a>).<a href="../ast/TreePrinters.scala.html#81776" title="(tree: Global.this.treePrinters.trees.Tree)Unit">print</a>(<a href="#557379" title="Global.this.Tree">tree</a>)
    <a href="#557381" title="java.io.PrintWriter">pw</a>.<span title="()Unit">flush</span>
    
    <span class="keyword">val</span> <a title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]" id="557382">typed</a> = <span title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]" class="keyword">new</span> <span title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">Response</span>[Tree]
    <a href="CompilerControl.scala.html#256495" title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[Global.this.Tree])Unit">askTypeAt</a>(<a href="#557378" title="scala.tools.nsc.util.RangePosition">pos</a>, <a href="#557382" title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">typed</a>)
    <span class="keyword">val</span> <a title="java.lang.String" id="557383">typ</a> = <a href="#557382" title="scala.concurrent.SyncVar[Either[Global.this.Tree,Throwable]]">typed</a>.<span title="=&gt; Either[Global.this.Tree,Throwable]">get</span>.<span title="=&gt; Either.LeftProjection[Global.this.Tree,Throwable]">left</span>.<span title="=&gt; Option[Global.this.Tree]">toOption</span> <span title="java.lang.String" class="keyword">match</span> {
      <span title="java.lang.String" class="keyword">case</span> Some(<a title="Global.this.Tree" id="557454">tree</a>) =&gt;
        <span class="keyword">val</span> <a title="java.io.StringWriter" id="557457">sw</a> = <span title="java.io.StringWriter" class="keyword">new</span> <span title="java.io.StringWriter">StringWriter</span>
        <span class="keyword">val</span> <a title="java.io.PrintWriter" id="557458">pw</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#557457" title="java.io.StringWriter">sw</a>)
        <a href="../ast/Trees.scala.html#26737" title="object Global.this.treePrinters">treePrinters</a>.<a href="../ast/TreePrinters.scala.html#81705" title="(writer: java.io.PrintWriter)Global.this.treePrinters.TreePrinter">create</a>(<a href="#557458" title="java.io.PrintWriter">pw</a>).<a href="../ast/TreePrinters.scala.html#81776" title="(tree: Global.this.treePrinters.trees.Tree)Unit">print</a>(<a href="#557454" title="Global.this.Tree">tree</a>)
        <a href="#557458" title="java.io.PrintWriter">pw</a>.<span title="()Unit">flush</span>
        <a href="#557457" title="java.io.StringWriter">sw</a>.<span title="()java.lang.String">toString</span>
      <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="string">&quot;&lt;None&gt;&quot;</span>      
    }

    <span class="keyword">val</span> <a title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]" id="557384">completionResponse</a> = <span title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]" class="keyword">new</span> <span title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">Response</span>[List[Member]]
    <a href="CompilerControl.scala.html#256497" title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit">askTypeCompletion</a>(<a href="#557378" title="scala.tools.nsc.util.RangePosition">pos</a>, <a href="#557384" title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">completionResponse</a>)
    <span class="keyword">val</span> <a title="String" id="557385">completion</a> = <a href="#557384" title="scala.concurrent.SyncVar[Either[List[Global.this.Member],Throwable]]">completionResponse</a>.<span title="=&gt; Either[List[Global.this.Member],Throwable]">get</span>.<span title="=&gt; Either.LeftProjection[List[Global.this.Member],Throwable]">left</span>.<span title="=&gt; Option[List[Global.this.Member]]">toOption</span> <span title="String" class="keyword">match</span> {
      <span title="String" class="keyword">case</span> Some(<a title="List[Global.this.Member]" id="557505">members</a>) =&gt;
        <a href="#557505" title="(sep: String)String" id="25523">members</a> mkString <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>
      <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="java.lang.String(&quot;&lt;None&gt;&quot;)" class="string">&quot;&lt;None&gt;&quot;</span>      
    }
    
    <a href="#557373" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68478" title="=&gt; Array[Char]">content</a>.<a title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="26031">view</a>.<a title="(n: Int)scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="57122">drop</a>(<a href="#557374" title="Int">start</a>).<a title="(n: Int)scala.collection.generic.MutableVectorView[Char,scala.collection.mutable.Vector[Char]]" id="57124">take</a>(<a href="#557375" title="Int">length</a>).<a title="(x$1: Any)java.lang.String" id="25525">mkString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557373" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68489" title="=&gt; String">path</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; (&quot;)" class="string">&quot; (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557374" title="Int">start</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557377" title="Int">end</a><span title="(x$1: Any)java.lang.String">+</span>
    <span title="java.lang.String(&quot;)\012\012locateTree:\012&quot;)" class="string">&quot;)\n\nlocateTree:\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557380" title="java.io.StringWriter">sw</a>.<span title="()java.lang.String">toString</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012\012askTypeAt:\012&quot;)" class="string">&quot;\n\naskTypeAt:\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557383" title="java.lang.String">typ</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012\012completion:\012&quot;)" class="string">&quot;\n\ncompletion:\n&quot;</span>+<a href="#557385" title="String">completion</a>
  }

  // ----------------- The Background Runner Thread -----------------------

  /** The current presentation compiler runner */
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="java.lang.Thread" id="256445">compileRunner</a> = <a href="#256447" title="=&gt; java.lang.Thread">newRunnerThread</a>

  /** Create a new presentation compiler runner.
   */
  <span class="keyword">def</span> <a title="=&gt; java.lang.Thread" id="256447">newRunnerThread</a>: <span title="java.lang.Thread">Thread</span> = <a href="#131083" title="java.lang.Thread{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Thread" id="131083">Thread</a>(<span title="java.lang.String(&quot;Scala Presentation Compiler&quot;)" class="string">&quot;Scala Presentation Compiler&quot;</span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="557686">run</a>() {
      <span class="keyword">try</span> {
        <span title="Unit" class="keyword">while</span> (<span title="Boolean(true)" class="keyword">true</span>) <a href="#557696" title="()Unit">{</a>
          <a href="CompilerControl.scala.html#256486" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#256826" title="()Unit">waitForMoreWork</a>()
          <a href="#256442" title="()Unit">pollForWork</a>()
          <span title="Unit" class="keyword">while</span> (<a href="#256432" title="=&gt; Boolean">outOfDate</a>) {
            <a href="#557734" title="()Unit" class="keyword">try</a> {
              <a href="#256448" title="()Unit">backgroundCompile</a>()
              <a href="#256432" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>
            } <span class="keyword">catch</span> {
              <span title="Unit" class="keyword">case</span> <a title="Global.this.FreshRunReq" id="557740">ex</a>: <a href="CompilerControl.scala.html#256504" title="Global.this.FreshRunReq">FreshRunReq</a> =&gt; 
            }
          }
        }
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="Global.this.ShutdownReq" id="557745">ex</a>: <a href="CompilerControl.scala.html#256505" title="Global.this.ShutdownReq">ShutdownReq</a> =&gt; 
          ;
        <span title="Unit" class="keyword">case</span> <a title="java.lang.Throwable" id="557746">ex</a> =&gt; 
          <a href="#256432" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="#256445" title="(x$1: java.lang.Thread)Unit">compileRunner</a> = <a href="#256447" title="=&gt; java.lang.Thread">newRunnerThread</a>
          <a href="#557746" title="java.lang.Throwable">ex</a> <span title="Unit" class="keyword">match</span> { 
            <span title="Unit" class="keyword">case</span> _ : <a href="RangePositions.scala.html#68298" title="Global.this.ValidateError">ValidateError</a> =&gt; // This will have been reported elsewhere
            <span title="Unit" class="keyword">case</span> _ =&gt; <a href="#557746" title="java.lang.Throwable">ex</a>.<a title="()Unit" id="26091">printStackTrace</a>(); <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Fatal Error: &quot;</span>+<a href="#557746" title="java.lang.Throwable">ex</a>)
          }
      }
    }
    <a href="#131083" title="()Unit" id="131100">start</a>()
  }

  /** Compile all given units
   */ 
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="256448">backgroundCompile</a>() {
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<span title="java.lang.String(&quot;Starting new presentation compiler type checking pass&quot;)" class="string">&quot;Starting new presentation compiler type checking pass&quot;</span>)
    <a href="#256524" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39002" title="=&gt; Unit">reset</a>
    <a href="#256424" title="(x$1: List[scala.tools.nsc.util.SourceFile])Unit">firsts</a> = <a href="#256424" title="(p: (scala.tools.nsc.util.SourceFile) =&gt; Boolean)List[scala.tools.nsc.util.SourceFile]">firsts</a> filter (<a title="scala.tools.nsc.util.SourceFile" id="557789">s</a> =&gt; <a href="#256426" title="(key: scala.tools.nsc.io.AbstractFile)Boolean" id="327307">unitOfFile</a> contains (<a href="#557789" title="scala.tools.nsc.util.SourceFile">s</a>.<a href="../util/SourceFile.scala.html#68479" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>))
    <span class="keyword">val</span> <a title="List[Global.this.RichCompilationUnit]" id="557777">prefix</a> = <a href="#256424" title="(f: (scala.tools.nsc.util.SourceFile) =&gt; Global.this.RichCompilationUnit)(implicit bf: scala.collection.generic.BuilderFactory[Global.this.RichCompilationUnit,List[Global.this.RichCompilationUnit],List[scala.tools.nsc.util.SourceFile]])List[Global.this.RichCompilationUnit]" id="25402">firsts</a> <a title="scala.collection.generic.BuilderFactory[Global.this.RichCompilationUnit,List[Global.this.RichCompilationUnit],List#Coll]" id="24472">map</a> <a href="CompilerControl.scala.html#256488" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>
    <span class="keyword">val</span> <a title="List[Global.this.RichCompilationUnit]" id="557778">units</a> = <a href="#557777" title="List[Global.this.RichCompilationUnit]">prefix</a> <a href="#557898" title="(p: (Global.this.RichCompilationUnit) =&gt; Boolean)List[Global.this.RichCompilationUnit]">:::</a> <span title="(prefix: List[Global.this.RichCompilationUnit])List[Global.this.RichCompilationUnit]">(</span><a href="#256426" title="=&gt; &lt;refinement&gt; extends scala.collection.mutable.LinkedHashMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[scala.tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a>.<a title="=&gt; Iterator[Global.this.RichCompilationUnit]" id="327296">valuesIterator</a>.<span title="(that: Sequence[Global.this.RichCompilationUnit])List[Global.this.RichCompilationUnit]">toList</span> diff <a href="#557777" title="List[Global.this.RichCompilationUnit]">prefix</a>) filter (<span title="=&gt; Boolean">!</span><a href="#557917" title="Global.this.RichCompilationUnit">_</a>.<a href="RichCompilationUnits.scala.html#327254" title="=&gt; Boolean">isUpToDate</a>)
    <a href="#256451" title="(units: List[Global.this.RichCompilationUnit])Unit">recompile</a>(<a href="#557778" title="List[Global.this.RichCompilationUnit]">units</a>)
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<span title="java.lang.String(&quot;Everything is now up to date&quot;)" class="string">&quot;Everything is now up to date&quot;</span>)
  }

  /** Reset unit to just-parsed state */
  <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Unit" id="256449">reset</a>(<a title="Global.this.RichCompilationUnit" id="557934">unit</a>: <a href="RichCompilationUnits.scala.html#256522" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> (<a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327249" title="(x$1: Int)Boolean" id="2981">status</a> &gt; <span title="Int(0)">JustParsed</span>) {
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45672" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">depends</a>.<span title="()Unit">clear</span>()
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45674" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">defined</a>.<span title="()Unit">clear</span>()
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45676" title="=&gt; scala.collection.mutable.HashMap[Global.this.Symbol,Global.this.Tree]">synthetics</a>.<a title="()Unit" id="44610">clear</a>()
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45678" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a>.<a title="()Unit" id="61854">clear</a>()
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327262" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327263" title="=&gt; Global.this.Contexts">contexts</a>.<a title="()Unit" id="108941">clear</a>()
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45670" title="(x$1: Global.this.Tree)Unit">body</a> = <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>
      <a href="#557934" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327250" title="(x$1: Int)Unit">status</a> = <span title="Int(-1)">NotLoaded</span>
    }

  /** Parse unit and create a name index. */
  <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Unit" id="256450">parse</a>(<a title="Global.this.RichCompilationUnit" id="557967">unit</a>: <a href="RichCompilationUnits.scala.html#256522" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <span title="Unit">Unit</span> = {
    <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="../Global.scala.html#40454" title="(unit: Global.this.CompilationUnit)Unit">compileLate</a>(<a href="#557967" title="Global.this.RichCompilationUnit">unit</a>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#256524" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39006" title="=&gt; Boolean">hasErrors</a>) <a href="RangePositions.scala.html#68297" title="(tree: Global.this.Tree)Unit">validatePositions</a>(<a href="#557967" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Global.this.Tree">body</a>)
    //println(&quot;parsed: [[&quot;+unit.body+&quot;]]&quot;)
    <a href="#557967" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327250" title="(x$1: Int)Unit">status</a> = <span title="Int(0)">JustParsed</span>
  }

  /** Make sure symbol and type attributes are reset and recompile units. 
   */
  <span class="keyword">def</span> <a title="(units: List[Global.this.RichCompilationUnit])Unit" id="256451">recompile</a>(<a title="List[Global.this.RichCompilationUnit]" id="557922">units</a>: <span title="List[Global.this.RichCompilationUnit]">List</span>[RichCompilationUnit]) {
    <span class="keyword">for</span> (<a title="Global.this.RichCompilationUnit" id="558001">unit</a> &lt;- <a href="#557922" title="(f: (Global.this.RichCompilationUnit) =&gt; Unit)Unit">units</a>) {
      <a href="#256449" title="(unit: Global.this.RichCompilationUnit)Unit">reset</a>(<a href="#558001" title="Global.this.RichCompilationUnit">unit</a>)
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;parsing: &quot;</span>+<a href="#558001" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#256450" title="(unit: Global.this.RichCompilationUnit)Unit">parse</a>(<a href="#558001" title="Global.this.RichCompilationUnit">unit</a>)
    }
    <span class="keyword">for</span> (<a title="Global.this.RichCompilationUnit" id="558035">unit</a> &lt;- <a href="#557922" title="(f: (Global.this.RichCompilationUnit) =&gt; Unit)Unit">units</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;type checking: &quot;</span>+<a href="#558035" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="../symtab/Symbols.scala.html#26281" title="(x$1: Int)Unit">activeLocks</a> = <span title="Int(0)" class="int">0</span>
      <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#557133" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#558035" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#558035" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327250" title="(x$1: Int)Unit">status</a> = <a href="../Global.scala.html#39409" title="=&gt; Int">currentRunId</a>
    }
  }

  /** Move list of files to front of firsts */
  <span class="keyword">def</span> <a title="(fs: List[scala.tools.nsc.util.SourceFile])Unit" id="256452">moveToFront</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="327654">fs</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile]) {
    <a href="#256424" title="(x$1: List[scala.tools.nsc.util.SourceFile])Unit">firsts</a> = <a href="#327654" title="List[scala.tools.nsc.util.SourceFile]">fs</a> <a href="#558057" title="List[scala.tools.nsc.util.SourceFile]">:::</a> <span title="(prefix: List[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]">(</span><a href="#256424" title="(that: Sequence[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]">firsts</a> diff <a href="#327654" title="List[scala.tools.nsc.util.SourceFile]">fs</a>)
  }

  // ----------------- Implementations of client commmands -----------------------
  
  <span class="keyword">def</span> <a title="[T](result: Global.this.Response[T])(op: =&gt; T)Unit" id="256453">respond</a>[<a title="&gt;: Nothing &lt;: Any" id="256455">T</a>](<a title="Global.this.Response[T]" id="558076">result</a>: <span title="Global.this.Response[T]">Response</span>[T])(<a title="=&gt; T" id="558077">op</a>: =&gt; T): <span title="Unit">Unit</span> = <span class="keyword">try</span> {
    <a href="#558076" title="(x: Either[T,Throwable])Unit">result</a> set <a title="(a: T)Left[T,Nothing]" id="1047">Left</a>(<a href="#558077" title="=&gt; T">op</a>)
  } <span class="keyword">catch</span> {
    <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="558123">ex</a> =&gt;
      <a href="#558076" title="(x: Either[T,Throwable])Unit">result</a> set <a title="(b: java.lang.Throwable)Right[Nothing,java.lang.Throwable]" id="468">Right</a>(<a href="#558123" title="java.lang.Throwable">ex</a>)
      <span title="Nothing" class="keyword">throw</span> <a href="#558123" title="java.lang.Throwable">ex</a>
  }

  /** Make sure a set of compilation units is loaded and parsed */
  <span class="keyword">def</span> <a title="(sources: List[scala.tools.nsc.util.SourceFile])Unit" id="256456">reloadSources</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="558166">sources</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile]) {
    <a href="#256429" title="(x$1: Global.this.TyperRun)Unit">currentTyperRun</a> = <span title="Global.this.TyperRun" class="keyword">new</span> <a href="#256471" title="Global.this.TyperRun">TyperRun</a>()
    <span class="keyword">for</span> (<a title="scala.tools.nsc.util.SourceFile" id="558188">source</a> &lt;- <a href="#558166" title="(f: (scala.tools.nsc.util.SourceFile) =&gt; Unit)Unit">sources</a>) {
      <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="558189">unit</a> = <span title="Global.this.RichCompilationUnit" class="keyword">new</span> <a href="RichCompilationUnits.scala.html#256522" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>(<a href="#558188" title="scala.tools.nsc.util.SourceFile">source</a>)
      <a href="#256426" title="(key: scala.tools.nsc.io.AbstractFile,value: Global.this.RichCompilationUnit)Unit" id="327281">unitOfFile</a>(<a href="#558188" title="scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68479" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>) = <a href="#558189" title="Global.this.RichCompilationUnit">unit</a>
      <a href="#256450" title="(unit: Global.this.RichCompilationUnit)Unit">parse</a>(<a href="#558189" title="Global.this.RichCompilationUnit">unit</a>)
    }
    <a href="#256452" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#558166" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
  }

  /** Make sure a set of compilation units is loaded and parsed */
  <span class="keyword">def</span> <a title="(sources: List[scala.tools.nsc.util.SourceFile],result: Global.this.Response[Unit])Unit" id="256457">reload</a>(<a title="List[scala.tools.nsc.util.SourceFile]" id="256859">sources</a>: <span title="List[scala.tools.nsc.util.SourceFile]">List</span>[SourceFile], <a title="Global.this.Response[Unit]" id="256860">result</a>: <span title="Global.this.Response[Unit]">Response</span>[Unit]) {
    <a href="#256453" title="(result: Global.this.Response[Unit])(op: =&gt; Unit)Unit">respond</a>(<a href="#256860" title="Global.this.Response[Unit]">result</a>)(<a href="#256456" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#256859" title="List[scala.tools.nsc.util.SourceFile]">sources</a>))
    <span title="Unit" class="keyword">if</span> (<a href="#256432" title="=&gt; Boolean">outOfDate</a>) <span title="Nothing" class="keyword">throw</span> <span title="Global.this.FreshRunReq" class="keyword">new</span> <a href="CompilerControl.scala.html#256504" title="Global.this.FreshRunReq">FreshRunReq</a>
    <span class="keyword">else</span> <a href="#256432" title="(x$1: Boolean)Unit">outOfDate</a> = <span title="Boolean(true)" class="keyword">true</span>
  }

  /** A fully attributed tree located at position `pos`  */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Global.this.Tree" id="256458">typedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="558224">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
    <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="558226">unit</a> = <a href="CompilerControl.scala.html#256489" title="(pos: scala.tools.nsc.util.Position)Global.this.RichCompilationUnit">unitOf</a>(<a href="#558224" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="558227">sources</a> = <span title="(xs: scala.tools.nsc.util.SourceFile*)List[scala.tools.nsc.util.SourceFile]">List</span>(<a href="#558226" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45663" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>)
    <span title="Unit" class="keyword">if</span> (<a href="#558226" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327249" title="(x$1: Int)Boolean">status</a> == <span title="Int(-1)">NotLoaded</span>) <a href="#256456" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#558227" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#256452" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#558227" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <span class="keyword">val</span> <a title="Global.this.Tree" id="558228">typedTree</a> = <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#557135" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#558224" title="scala.tools.nsc.util.Position">pos</a>)
    <a href="RangePositions.scala.html#71123" title="(root: Global.this.Tree)Global.this.Tree" class="keyword">new</a> <a href="RangePositions.scala.html#68299" title="Global.this.Locator">Locator</a>(<a href="#558224" title="scala.tools.nsc.util.Position">pos</a>) locateIn <a href="#558228" title="Global.this.Tree">typedTree</a>
  }

  /** A fully attributed tree corresponding to the entire compilation unit  */
  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean)Global.this.Tree" id="256459">typedTree</a>(<a title="scala.tools.nsc.util.SourceFile" id="558265">source</a>: <a href="../util/SourceFile.scala.html#14788" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Boolean" id="558266">forceReload</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
    <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="558268">unit</a> = <a href="CompilerControl.scala.html#256488" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>(<a href="#558265" title="scala.tools.nsc.util.SourceFile">source</a>)
    <span class="keyword">val</span> <a title="List[scala.tools.nsc.util.SourceFile]" id="558269">sources</a> = <span title="(xs: scala.tools.nsc.util.SourceFile*)List[scala.tools.nsc.util.SourceFile]">List</span>(<a href="#558265" title="scala.tools.nsc.util.SourceFile">source</a>)
    <span title="Unit" class="keyword">if</span> (<a href="#558268" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327249" title="(x$1: Int)Boolean">status</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(-1)">NotLoaded</span> || <a href="#558266" title="Boolean">forceReload</a>) <a href="#256456" title="(sources: List[scala.tools.nsc.util.SourceFile])Unit">reloadSources</a>(<a href="#558269" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#256452" title="(fs: List[scala.tools.nsc.util.SourceFile])Unit">moveToFront</a>(<a href="#558269" title="List[scala.tools.nsc.util.SourceFile]">sources</a>)
    <a href="#256429" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#557136" title="(unit: Global.this.RichCompilationUnit)Global.this.Tree">typedTree</a>(<a href="CompilerControl.scala.html#256488" title="(s: scala.tools.nsc.util.SourceFile)Global.this.RichCompilationUnit">unitOf</a>(<a href="#558265" title="scala.tools.nsc.util.SourceFile">source</a>))
  }

  /** Set sync var `result` to a fully attributed tree located at position `pos`  */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[Global.this.Tree])Unit" id="256460">getTypedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="327530">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[Global.this.Tree]" id="327531">result</a>: <span title="Global.this.Response[Global.this.Tree]">Response</span>[Tree]) {
    <a href="#256453" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a>(<a href="#327531" title="Global.this.Response[Global.this.Tree]">result</a>)(<a href="#256458" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#327530" title="scala.tools.nsc.util.Position">pos</a>))
  }

  /** Set sync var `result` to a fully attributed tree corresponding to the entire compilation unit  */
  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean,result: Global.this.Response[Global.this.Tree])Unit" id="256461">getTypedTree</a>(<a title="scala.tools.nsc.util.SourceFile" id="327563">source</a> : <a href="../util/SourceFile.scala.html#14788" title="scala.tools.nsc.util.SourceFile">SourceFile</a>, <a title="Boolean" id="327564">forceReload</a>: <span title="Boolean">Boolean</span>, <a title="Global.this.Response[Global.this.Tree]" id="327565">result</a>: <span title="Global.this.Response[Global.this.Tree]">Response</span>[Tree]) {
    <a href="#256453" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a>(<a href="#327565" title="Global.this.Response[Global.this.Tree]">result</a>)(<a href="#256459" title="(source: scala.tools.nsc.util.SourceFile,forceReload: Boolean)Global.this.Tree">typedTree</a>(<a href="#327563" title="scala.tools.nsc.util.SourceFile">source</a>, <a href="#327564" title="Boolean">forceReload</a>))
  }

  <span class="keyword">def</span> <a title="(tree: Global.this.Tree)Global.this.Type" id="256462">stabilizedType</a>(<a title="Global.this.Tree" id="558336">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>): <a href="../symtab/Types.scala.html#26364" title="Global.this.Type">Type</a> = <a href="#558336" title="Global.this.Tree">tree</a> <span title="Global.this.Type" class="keyword">match</span> {
    <span title="Global.this.Type" class="keyword">case</span> Ident(_) <span class="keyword">if</span> <a href="#558336" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Global.this.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27111" title="=&gt; Boolean">isStable</a> =&gt; <a href="../symtab/Types.scala.html#26446" title="(pre: Global.this.Type,sym: Global.this.Symbol)Global.this.Type">singleType</a>(<a href="../symtab/Types.scala.html#26385" title="object Global.this.NoPrefix">NoPrefix</a>, <a href="#558336" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Global.this.Symbol">symbol</a>)
    <span title="Global.this.Type" class="keyword">case</span> Select(<a title="Global.this.Tree" id="558349">qual</a>, _) <span class="keyword">if</span> <a href="#558336" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Global.this.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27111" title="=&gt; Boolean">isStable</a> =&gt; <a href="../symtab/Types.scala.html#26446" title="(pre: Global.this.Type,sym: Global.this.Symbol)Global.this.Type">singleType</a>(<a href="#558349" title="Global.this.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>, <a href="#558336" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Global.this.Symbol">symbol</a>)
    <span title="Global.this.Type" class="keyword">case</span> _ =&gt; <a href="#558336" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>
  }

  <span class="keyword">import</span> analyzer.{SearchResult, ImplicitSearch}

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit" id="256464">getScopeCompletion</a>(<a title="scala.tools.nsc.util.Position" id="327623">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="327624">result</a>: <span title="Global.this.Response[List[Global.this.Member]]">Response</span>[List[Member]]) {
    <a href="#256453" title="(result: Global.this.Response[List[Global.this.Member]])(op: =&gt; List[Global.this.Member])Unit">respond</a>(<a href="#327624" title="Global.this.Response[List[Global.this.Member]]">result</a>) { <a href="#256467" title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]">scopeMembers</a>(<a href="#327623" title="scala.tools.nsc.util.Position">pos</a>) }
  }

  <span class="keyword">val</span> <a title="Global.this.Name" id="256465">Dollar</a> = <a href="../symtab/Names.scala.html#26207" title="(s: String)Global.this.Name">newTermName</a>(<span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>)

  /** Return all members visible without prefix in context enclosing `pos`. */
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]" id="256467">scopeMembers</a>(<a title="scala.tools.nsc.util.Position" id="558365">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <span title="List[Global.this.ScopeMember]">List</span>[ScopeMember] = {
    <a href="#256458" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#558365" title="scala.tools.nsc.util.Position">pos</a>) // to make sure context is entered
    <span class="keyword">val</span> <a title="Global.this.Context" id="558371">context</a> = <a href="CompilerControl.scala.html#256493" title="(pos: scala.tools.nsc.util.Position)Global.this.Context">doLocateContext</a>(<a href="#558365" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]" id="558372">locals</a> = <span title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">LinkedHashMap</span>[Name, ScopeMember]
    <span class="keyword">def</span> <a title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit" id="558373">addScopeMember</a>(<a title="Global.this.Symbol" id="558383">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="558384">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Global.this.Type">Type</a>, <a title="Global.this.Tree" id="558385">viaImport</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>) =
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#558383" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Global.this.Name">name</a>.<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Global.this.Name">decode</a>.<a href="../symtab/Names.scala.html#28407" title="(subname: Global.this.Name)Boolean">containsName</a>(<a href="#256465" title="=&gt; Global.this.Name">Dollar</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>  
          <span title="=&gt; Boolean">!</span><a href="#558383" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(2097152L)">SYNTHETIC</span>) &amp;&amp;
          <span title="=&gt; Boolean">!</span><a href="#558372" title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">locals</a>.<a title="(key: Global.this.Name)Boolean" id="44678">contains</a>(<a href="#558383" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Global.this.Name">name</a>)) {
        //println(&quot;adding scope member: &quot;+pre+&quot; &quot;+sym)
        <a href="#558372" title="(key: Global.this.Name,value: Global.this.ScopeMember)Unit">locals</a>(<a href="#558383" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Global.this.Name">name</a>) = <span title="Global.this.ScopeMember" class="keyword">new</span> <a href="CompilerControl.scala.html#256483" title="Global.this.ScopeMember">ScopeMember</a>(
          <a href="#558383" title="Global.this.Symbol">sym</a>, 
          <a href="#558384" title="Global.this.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a>(<a href="#558383" title="Global.this.Symbol">sym</a>), 
          <a href="#558371" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48706" title="(sym: Global.this.analyzer.global.Symbol,pre: Global.this.analyzer.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#558383" title="Global.this.Symbol">sym</a>, <a href="#558384" title="Global.this.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span>),
          <a href="#558385" title="Global.this.Tree">viaImport</a>)
      }
    <span class="keyword">var</span> <a title="Global.this.Context" id="558374">cx</a> = <a href="#558371" title="Global.this.Context">context</a>
    <span title="Unit" class="keyword">while</span> (<a href="#558374" title="(x$1: AnyRef)Boolean">cx</a> != <a href="ContextTrees.scala.html#256509" title="=&gt; Global.this.analyzer.Context">NoContext</a>) <a href="#558376" title="()Unit">{</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="558455">sym</a> &lt;- <a href="#558374" title="Global.this.Context">cx</a>.<a href="../symtab/Scopes.scala.html#27305" title="(p: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">scope</a>)
        <a href="#558373" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#558455" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="../symtab/Types.scala.html#26385" title="object Global.this.NoPrefix">NoPrefix</a>, <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>)
      <a href="#558374" title="Global.this.Context">cx</a> = <a href="#558374" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48624" title="=&gt; Global.this.analyzer.Context">enclClass</a>
      <span class="keyword">val</span> <a title="Global.this.analyzer.global.Type" id="558437">pre</a> = <a href="#558374" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48648" title="=&gt; Global.this.analyzer.global.Type">prefix</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="558478">sym</a> &lt;- <a href="#558437" title="Global.this.analyzer.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30399" title="(f: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">members</a>) 
        <a href="#558373" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#558478" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="#558437" title="Global.this.analyzer.global.Type">pre</a>, <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>)
      <a href="#558374" title="Global.this.Context">cx</a> = <a href="#558374" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#48621" title="=&gt; Global.this.analyzer.Context">outer</a>
    }
    <span class="keyword">for</span> (<a title="Global.this.analyzer.ImportInfo" id="558503">imp</a> &lt;- <a href="#558371" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48639" title="(f: (Global.this.analyzer.ImportInfo) =&gt; Unit)Unit">imports</a>) {
      <span class="keyword">val</span> <a title="Global.this.analyzer.global.Type" id="558504">pre</a> = <a href="#558503" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#280248" title="=&gt; Global.this.analyzer.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.analyzer.global.Type">tpe</a>
      <span class="keyword">for</span> (<a title="Global.this.analyzer.global.Symbol" id="558524">sym</a> &lt;- <a href="#558503" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#280251" title="(f: (Global.this.analyzer.global.Symbol) =&gt; Unit)Unit">allImportedSymbols</a>) {
        <a href="#558373" title="(sym: Global.this.Symbol,pre: Global.this.Type,viaImport: Global.this.Tree)Unit">addScopeMember</a>(<a href="#558524" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="#558504" title="Global.this.analyzer.global.Type">pre</a>, <a href="#558503" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#280248" title="=&gt; Global.this.analyzer.global.Tree">qual</a>)
      }
    }
    <span class="keyword">val</span> <a title="List[Global.this.ScopeMember]" id="558375">result</a> = <a href="#558372" title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Global.this.ScopeMember]">locals</a>.<span title="=&gt; Iterator[Global.this.ScopeMember]">valuesIterator</span>.<span title="=&gt; List[Global.this.ScopeMember]">toList</span>
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <span class="keyword">for</span> (<a title="Global.this.ScopeMember" id="558549">m</a> &lt;- <a href="#558375" title="(f: (Global.this.ScopeMember) =&gt; Unit)Unit">result</a>) <span title="(x: Any)Unit">println</span>(<a href="#558549" title="Global.this.ScopeMember">m</a>)
    <a href="#558375" title="List[Global.this.ScopeMember]">result</a>
  }

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,result: Global.this.Response[List[Global.this.Member]])Unit" id="256468">getTypeCompletion</a>(<a title="scala.tools.nsc.util.Position" id="327591">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="327592">result</a>: <span title="Global.this.Response[List[Global.this.Member]]">Response</span>[List[Member]]) {
    <a href="#256453" title="(result: Global.this.Response[List[Global.this.Member]])(op: =&gt; List[Global.this.Member])Unit">respond</a>(<a href="#327592" title="Global.this.Response[List[Global.this.Member]]">result</a>) { <a href="#256469" title="(pos: scala.tools.nsc.util.Position)List[Global.this.TypeMember]">typeMembers</a>(<a href="#327591" title="scala.tools.nsc.util.Position">pos</a>) }
    <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">debugIDE</span>) <a href="#256467" title="(pos: scala.tools.nsc.util.Position)List[Global.this.ScopeMember]">scopeMembers</a><span title="Unit">(</span><a href="#327591" title="scala.tools.nsc.util.Position">pos</a>)
  }

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)List[Global.this.TypeMember]" id="256469">typeMembers</a>(<a title="scala.tools.nsc.util.Position" id="558566">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <span title="List[Global.this.TypeMember]">List</span>[TypeMember] = {
    <span class="keyword">val</span> <a title="Global.this.Tree" id="558574">tree</a> = <a href="#256458" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">typedTreeAt</a>(<a href="#558566" title="scala.tools.nsc.util.Position">pos</a>)
    <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typeMembers at &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558574" title="Global.this.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#558574" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>)
    <span class="keyword">val</span> <a title="Global.this.Context" id="558575">context</a> = <a href="CompilerControl.scala.html#256493" title="(pos: scala.tools.nsc.util.Position)Global.this.Context">doLocateContext</a>(<a href="#558566" title="scala.tools.nsc.util.Position">pos</a>)
    <span class="keyword">val</span> <a title="Boolean" id="558576">superAccess</a> = <a href="#558574" title="Global.this.Tree">tree</a>.<a title="[T0]Boolean" id="3641">isInstanceOf</a><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26879" title="Global.this.Super">Super</a>]
    <span class="keyword">val</span> <a title="Global.this.Scope" id="558577">scope</a> = <a href="../symtab/Scopes.scala.html#26125" title="=&gt; Global.this.Scope">newScope</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]" id="558578">members</a> = <span title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]">LinkedHashMap</span>[Symbol, TypeMember]
    <span class="keyword">def</span> <a title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit" id="558579">addTypeMember</a>(<a title="Global.this.Symbol" id="558612">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="558613">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Global.this.Type">Type</a>, <a title="Boolean" id="558614">inherited</a>: <span title="Boolean">Boolean</span>, <a title="Global.this.Symbol" id="558615">viaView</a>: <a href="../symtab/Symbols.scala.html#26286" title="Global.this.Symbol">Symbol</a>) {
      <span class="keyword">val</span> <a title="Global.this.Type" id="558616">symtpe</a> = <a href="#558613" title="Global.this.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a>(<a href="#558612" title="Global.this.Symbol">sym</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#558577" title="Global.this.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27298" title="(name: Global.this.Name)Iterator[Global.this.Symbol]">lookupAll</a><a title="(p: (Global.this.Symbol) =&gt; Boolean)Boolean" id="32362">(</a><a href="#558612" title="Global.this.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Global.this.Name">name</a>) forall (<a title="Global.this.Symbol" id="558625">sym</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="#558578" title="(key: Global.this.Symbol)Global.this.TypeMember" id="44676">members</a>(<a href="#558625" title="Global.this.Symbol">sym</a>).<a href="../symtab/Types.scala.html#30424" title="(that: Global.this.Type)Boolean">tpe</a> matches <a href="#558616" title="Global.this.Type">symtpe</a>))) {
        <a href="../symtab/Scopes.scala.html#27290" title="(sym: Global.this.Symbol)Global.this.Symbol">scope</a> enter <a href="#558612" title="Global.this.Symbol">sym</a>
        <a href="#558578" title="(key: Global.this.Symbol,value: Global.this.TypeMember)Unit">members</a>(<a href="#558612" title="Global.this.Symbol">sym</a>) = <span title="Global.this.TypeMember" class="keyword">new</span> <a href="CompilerControl.scala.html#256480" title="Global.this.TypeMember">TypeMember</a>(
          <a href="#558612" title="Global.this.Symbol">sym</a>,
          <a href="#558616" title="Global.this.Type">symtpe</a>,
          <a href="#558575" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48706" title="(sym: Global.this.analyzer.global.Symbol,pre: Global.this.analyzer.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#558612" title="Global.this.Symbol">sym</a>, <a href="#558613" title="Global.this.Type">pre</a>, <a href="#558576" title="(x$1: Boolean)Boolean">superAccess</a> &amp;&amp; (<a href="#558615" title="(x$1: AnyRef)Boolean">viaView</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Global.this.NoSymbol">NoSymbol</a>)),
          <a href="#558614" title="Boolean">inherited</a>,
          <a href="#558615" title="Global.this.Symbol">viaView</a>)
      }
    }        
    <span class="keyword">def</span> <a title="(view: Global.this.analyzer.SearchResult)Global.this.Tree" id="558580">viewApply</a>(<a title="Global.this.analyzer.SearchResult" id="558693">view</a>: <a href="../typechecker/Implicits.scala.html#40232" title="Global.this.analyzer.SearchResult">SearchResult</a>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#558693" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258869" title="(x$1: AnyRef)Boolean">tree</a> != <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>)
      <span class="keyword">try</span> {
        <a href="../Global.scala.html#39334" title="object Global.this.analyzer">analyzer</a>.<a href="../typechecker/Typers.scala.html#40112" title="(context: Global.this.analyzer.Context)Global.this.analyzer.Typer">newTyper</a>(<a href="#558575" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48692" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a>(<span title="Boolean(false)" class="keyword">false</span>)).<a href="../typechecker/Typers.scala.html#42872" title="(tree: Global.this.analyzer.global.Tree)Global.this.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#49378" title="(fun: Global.this.Tree,args: List[Global.this.Tree])Global.this.Apply">Apply</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)Global.this.Apply">(</a><a href="#558693" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258869" title="=&gt; Global.this.analyzer.global.Tree">tree</a>, <span title="(xs: Global.this.Tree*)List[Global.this.Tree]">List</span>(<a href="#558574" title="Global.this.Tree">tree</a>)) setPos <a href="#558574" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      } <span class="keyword">catch</span> {
        <span title="Global.this.EmptyTree.type" class="keyword">case</span> <a title="Global.this.TypeError" id="558753">ex</a>: <a href="../symtab/Types.scala.html#26618" title="Global.this.TypeError">TypeError</a> =&gt; <a href="../ast/Trees.scala.html#26761" title="object Global.this.EmptyTree">EmptyTree</a>
      }
    }
    <span class="keyword">val</span> <a title="Global.this.Type" id="558581">pre</a> = <a href="#256462" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a>(<a href="#558574" title="Global.this.Tree">tree</a>)
    <span class="keyword">for</span> (<a title="Global.this.Symbol" id="558773">sym</a> &lt;- <a href="#558574" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Scopes.scala.html#27305" title="(p: (Global.this.Symbol) =&gt; Unit)Unit">decls</a>)
      <a href="#558579" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#558773" title="Global.this.Symbol">sym</a>, <a href="#558581" title="Global.this.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Symbols.scala.html#26293" title="object Global.this.NoSymbol">NoSymbol</a>)
    <span class="keyword">for</span> (<a title="Global.this.Symbol" id="558796">sym</a> &lt;- <a href="#558574" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Types.scala.html#30399" title="(f: (Global.this.Symbol) =&gt; Unit)Unit">members</a>)
      <a href="#558579" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#558796" title="Global.this.Symbol">sym</a>, <a href="#558581" title="Global.this.Type">pre</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Symbols.scala.html#26293" title="object Global.this.NoSymbol">NoSymbol</a>)
    <span class="keyword">val</span> <a title="List[Global.this.analyzer.SearchResult]" id="558582">applicableViews</a>: <span title="List[Global.this.analyzer.SearchResult]">List</span>[SearchResult] = 
      <span title="Global.this.analyzer.ImplicitSearch" class="keyword">new</span> <a href="../typechecker/Implicits.scala.html#40238" title="Global.this.analyzer.ImplicitSearch">ImplicitSearch</a>(<a href="#558574" title="Global.this.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#28659" title="(formals: List[Global.this.Type],restpe: Global.this.Type)Global.this.Type">functionType</a>(<span title="(xs: Global.this.Type*)List[Global.this.Type]">List</span>(<a href="#558574" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>), <a href="../symtab/Definitions.scala.html#28447" title="=&gt; Global.this.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Global.this.Type">tpe</a>), <span title="Boolean(true)" class="keyword">true</span>, <a href="#558575" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#48692" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a>(<span title="Boolean(false)" class="keyword">false</span>))
        .<a href="../typechecker/Implicits.scala.html#558834" title="=&gt; List[Global.this.analyzer.SearchResult]">allImplicits</a>
    <span class="keyword">for</span> (<a title="Global.this.analyzer.SearchResult" id="558878">view</a> &lt;- <a href="#558582" title="(f: (Global.this.analyzer.SearchResult) =&gt; Unit)Unit">applicableViews</a>) {
      <span class="keyword">val</span> <a title="Global.this.Tree" id="558879">vtree</a> = <a href="#558580" title="(view: Global.this.analyzer.SearchResult)Global.this.Tree">viewApply</a>(<a href="#558878" title="Global.this.analyzer.SearchResult">view</a>)
      <span class="keyword">val</span> <a title="Global.this.Type" id="558880">vpre</a> = <a href="#256462" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a>(<a href="#558879" title="Global.this.Tree">vtree</a>)
      <span class="keyword">for</span> (<a title="Global.this.Symbol" id="558902">sym</a> &lt;- <a href="#558879" title="Global.this.Tree">vtree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Global.this.Type">tpe</a>.<a href="../symtab/Types.scala.html#30399" title="(f: (Global.this.Symbol) =&gt; Unit)Unit">members</a>) {
        <a href="#558579" title="(sym: Global.this.Symbol,pre: Global.this.Type,inherited: Boolean,viaView: Global.this.Symbol)Unit">addTypeMember</a>(<a href="#558902" title="Global.this.Symbol">sym</a>, <a href="#558880" title="Global.this.Type">vpre</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#558878" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#258869" title="=&gt; Global.this.analyzer.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Global.this.analyzer.global.Symbol">symbol</a>)
      }
    }
    <a href="#558578" title="scala.collection.mutable.LinkedHashMap[Global.this.Symbol,Global.this.TypeMember]">members</a>.<span title="=&gt; Iterator[Global.this.TypeMember]">valuesIterator</span>.<span title="=&gt; List[Global.this.TypeMember]">toList</span>
  }

  // ---------------- Helper classes ---------------------------

  /** A transformer that replaces tree `from` with tree `to` in a given tree */
  <span class="keyword">class</span> <a title="class TreeReplacer extends Global.this.Transformer with ScalaObject" id="256470">TreeReplacer</a><span title="ScalaObject">(</span><a title="Global.this.Tree" id="557197">from</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>, <a title="Global.this.Tree" id="557198">to</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26932" title="Global.this.Transformer">Transformer</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Global.this.Tree)Global.this.Tree" id="557196">transform</a>(<a title="Global.this.Tree" id="557202">t</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
      <span title="Global.this.Tree" class="keyword">if</span> (<a href="#557202" title="(x$1: AnyRef)Boolean">t</a> == <a href="#557197" title="Global.this.Tree">from</a>) <a href="#557198" title="Global.this.Tree">to</a>
      <span class="keyword">else</span> <span title="Global.this.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#557202" title="Global.this.Tree">t</a>.<a href="../util/Position.scala.html#30484" title="(pos: scala.tools.nsc.util.Position)Boolean">pos</a> includes <a href="#557197" title="Global.this.Tree">from</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) || <a href="#557202" title="Global.this.Tree">t</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30466" title="=&gt; Boolean">isTransparent</a>) <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: Global.this.Tree)Global.this.Tree">transform</a>(<a href="#557202" title="Global.this.Tree">t</a>)
      <span class="keyword">else</span> <a href="#557202" title="Global.this.Tree">t</a>
    }
  }

  /** A traverser that resets all type and symbol attributes in a tree
  object ResetAttrs extends Transformer {
    override def transform(t: Tree): Tree = {
      if (t.hasSymbol) t.symbol = NoSymbol
      t match {
        case EmptyTree =&gt; 
          t
        case tt: TypeTree =&gt;
          if (tt.original != null) tt.original
          else t
        case _ =&gt; 
          t.tpe = null
          super.transform(t)
      }
    }
  }
  */

  /** The typer run */
  <span class="keyword">class</span> <a title="class TyperRun extends Global.this.Run with ScalaObject" id="256471">TyperRun</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../Global.scala.html#39410" title="Global.this.Run">Run</a> {
    // units is always empty
    // symSource, symData are ignored
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Global.this.Symbol)Boolean" id="557132">compiles</a>(<a title="Global.this.Symbol" id="558933">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Global.this.Symbol">Symbol</a>) = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(unit: Global.this.CompilationUnit)Unit" id="557133">typeCheck</a>(<a title="Global.this.CompilationUnit" id="558048">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Global.this.CompilationUnit">CompilationUnit</a>): <span title="Unit">Unit</span> = <a href="#557137" title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit">applyPhase</a>(<a href="../Global.scala.html#40420" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>, <a href="#558048" title="Global.this.CompilationUnit">unit</a>)

    <span class="keyword">def</span> <a title="(unit: Global.this.CompilationUnit)Unit" id="557134">enterNames</a>(<a title="Global.this.CompilationUnit" id="558944">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Global.this.CompilationUnit">CompilationUnit</a>): <span title="Unit">Unit</span> = <a href="#557137" title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit">applyPhase</a>(<a href="../Global.scala.html#40418" title="=&gt; scala.tools.nsc.Phase">namerPhase</a>, <a href="#558944" title="Global.this.CompilationUnit">unit</a>)

    /** Return fully attributed tree at given position
     *  (i.e. largest tree that's contained by position)
     */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Global.this.Tree" id="557135">typedTreeAt</a>(<a title="scala.tools.nsc.util.Position" id="558256">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
      <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;starting typedTreeAt&quot;)" class="string">&quot;starting typedTreeAt&quot;</span>)
      <span class="keyword">val</span> <a title="Global.this.Tree" id="558950">tree</a> = <a href="CompilerControl.scala.html#256491" title="(pos: scala.tools.nsc.util.Position)Global.this.Tree">locateTree</a>(<a href="#558256" title="scala.tools.nsc.util.Position">pos</a>)
      <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;at pos &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558256" title="scala.tools.nsc.util.Position">pos</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; was found: &quot;)" class="string">&quot; was found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558950" title="Global.this.Tree">tree</a>+<a href="#558950" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30495" title="=&gt; String">show</a>)
      <span title="Global.this.Tree" class="keyword">if</span> (<a href="#558950" title="Global.this.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="(x$1: AnyRef)Boolean" id="6613">tpe</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;already attributed&quot;)" class="string">&quot;already attributed&quot;</span>)
        <a href="#558950" title="Global.this.Tree">tree</a>
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="Global.this.RichCompilationUnit" id="558975">unit</a> = <a href="CompilerControl.scala.html#256489" title="(pos: scala.tools.nsc.util.Position)Global.this.RichCompilationUnit">unitOf</a>(<a href="#558256" title="scala.tools.nsc.util.Position">pos</a>)
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#558975" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327249" title="(x$1: Int)Boolean">status</a> &gt;= <span title="Int(0)">JustParsed</span>)
        <a href="#558975" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327262" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="#558256" title="scala.tools.nsc.util.Position">pos</a>
        <span class="keyword">try</span> {
          <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;starting targeted type check&quot;)" class="string">&quot;starting targeted type check&quot;</span>)
          <a href="#557133" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#558975" title="Global.this.RichCompilationUnit">unit</a>)
          <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#8289" title="scala.tools.nsc.FatalError">FatalError</a>(<span title="java.lang.String(&quot;tree not found&quot;)" class="string">&quot;tree not found&quot;</span>)
        } <span class="keyword">catch</span> {
          <span title="Global.this.Tree" class="keyword">case</span> <a title="Global.this.TyperResult" id="559003">ex</a>: <a href="#256472" title="Global.this.TyperResult">TyperResult</a> =&gt; 
            <a href="#559003" title="Global.this.TyperResult">ex</a>.<a href="#557263" title="=&gt; Global.this.Tree">tree</a>
        } <span class="keyword">finally</span> {
          <a href="#558975" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327262" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
        }
      }
    } 

    <span class="keyword">def</span> <a title="(unit: Global.this.RichCompilationUnit)Global.this.Tree" id="557136">typedTree</a>(<a title="Global.this.RichCompilationUnit" id="558299">unit</a>: <a href="RichCompilationUnits.scala.html#256522" title="Global.this.RichCompilationUnit">RichCompilationUnit</a>): <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a> = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#558299" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327249" title="(x$1: Int)Boolean">status</a> &gt;= <span title="Int(0)">JustParsed</span>)
      <a href="#558299" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#327262" title="(p: scala.tools.nsc.util.Position)Unit">targetPos</a> = <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
      <a href="#557133" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a>(<a href="#558299" title="Global.this.RichCompilationUnit">unit</a>)
      <a href="#558299" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Global.this.Tree">body</a>
    } 

    /** Apply a phase to a compilation unit
     *  @return true iff typechecked correctly
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(phase: scala.tools.nsc.Phase,unit: Global.this.CompilationUnit)Unit" id="557137">applyPhase</a>(<a title="scala.tools.nsc.Phase" id="558939">phase</a>: <a href="../Phase.scala.html#8931" title="scala.tools.nsc.Phase">Phase</a>, <a title="Global.this.CompilationUnit" id="558940">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Global.this.CompilationUnit">CompilationUnit</a>) {
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.SourceFile" id="559020">oldSource</a> = <a href="#256524" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39013" title="=&gt; scala.tools.nsc.util.SourceFile">getSource</a>          
      <span class="keyword">try</span> {
        <a href="#256524" title="scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39012" title="(source: scala.tools.nsc.util.SourceFile)Unit">setSource</a>(<a href="#558940" title="Global.this.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45663" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>)    
        <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="#558939" title="scala.tools.nsc.Phase">phase</a>) { <a href="#558939" title="scala.tools.nsc.Phase">phase</a>.<a title="[T0]T0" id="3644">asInstanceOf</a><a href="../Global.scala.html#82575" title="(unit: Global.this.CompilationUnit)Unit">[</a><a href="../Global.scala.html#39331" title="Global.this.GlobalPhase">GlobalPhase</a>] applyPhase <a href="#558940" title="Global.this.CompilationUnit">unit</a> }
      } <span class="keyword">finally</span> {
        <a href="../reporters/Reporter.scala.html#39012" title="(source: scala.tools.nsc.util.SourceFile)Unit">reporter</a> setSource <a href="#559020" title="scala.tools.nsc.util.SourceFile">oldSource</a>
      }
    }
  }

  <span class="keyword">class</span> <a title="class TyperResult extends java.lang.Exception with scala.util.control.ControlException with ScalaObject" id="256472">TyperResult</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Global.this.Tree" id="557263">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Global.this.Tree">Tree</a>) <span class="keyword">extends</span> <a title="java.lang.Exception" id="7889">Exception</a> <span class="keyword">with</span> <a title="scala.util.control.ControlException" id="47286">ControlException</a>
  
  <span title="(assertion: Boolean)Unit">assert</span>(<a href="../Global.scala.html#39324" title="=&gt; scala.tools.nsc.Phase">globalPhase</a>.<a href="../Phase.scala.html#23291" title="(x$1: Int)Boolean">id</a> == <span title="Int(0)" class="int">0</span>)
}


        </pre>
    </body>
</html>