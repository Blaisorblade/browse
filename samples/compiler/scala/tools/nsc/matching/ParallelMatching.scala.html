<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/matching/ParallelMatching.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */</span>
<span class="comment">// $Id: ParallelMatching.scala 17121 2009-02-16 16:29:05Z extempore $</span>

<span class="keyword">package</span> scala.tools.nsc.matching

<span class="keyword">import</span> util.Position
<span class="keyword">import</span> collection._
<span class="keyword">import</span> mutable.BitSet
<span class="keyword">import</span> immutable.IntMap
<span class="keyword">import</span> MatchUtil.ListPlus._
<span class="keyword">import</span> MatchUtil.Implicits._
<span class="keyword">import</span> MatchUtil._

<span class="comment">/** Translation of match expressions.
 *
 *  `p':  pattern
 *  `g':  guard
 *  `bx': body index
 *
 *   internal representation is (temp:List[Symbol], row:List[Row])
 *
 *         tmp1      tmp_n
 *    Row( p_11  ...  p_1n   g_1  b_1 ) + subst
 *
 *    Row( p_m1  ...  p_mn   g_m  b_m ) + subst
 *
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait ParallelMatching extends java.lang.Object with ScalaObject</span><a id="8005">ParallelMatching</a></span>  {
  self: transform.ExplicitOuter <span class="keyword">with</span> PatternNodes <span class="keyword">with</span> CodeFactory =&gt;

  <span class="keyword">import</span> global.{typer =&gt; _, _}
  <span class="keyword">import</span> analyzer.Typer;
  <span class="keyword">import</span> symtab.Flags
  <span class="keyword">import</span> Types._
  <span class="keyword">import</span> Code.{ fn, Const }
 
  <span class="comment">/**
   * Encapsulates a symbol being matched on.
   * 
   * sym match { ... }
   *
   * results in Scrutinee(sym).
   *
   * Note that we only ever match on Symbols, not Trees: A temporary variable is created for any 
   * expressions being matched on. 
   */</span> 
  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Scrutinee extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="101180"><span id="101172"><span id="29737"><span id="29814"><span id="3500"><span id="101177"><span id="29815"><span id="101171"><span id="101170"><span id="101173"><span id="2750"><span id="29856"><span id="101184"><span id="308"><span id="3501"><span id="101176"><span id="29559"><span id="101182"><span id="101175"><span id="101183"><span id="5794"><span id="29558"><span id="101185"><a id="3509">Scrutinee</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="101087"><span id="101086"><span id="101108"><a id="104040">sym</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
    <span class="keyword">import</span> definitions._
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a id="101090">mkList</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="101109">xs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol]) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)List[ParallelMatching.this.global.Symbol]</span><a href="#101111" id="21335">::</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#101109">xs</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a id="101091">mkList</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="101114">prefix</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="101115">suffix</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol]) = <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#101114">prefix</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101117" id="21339">:::</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)List[ParallelMatching.this.global.Symbol]</span><a href="#101118" id="21335">::</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#101115">suffix</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101092">isDefined</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="101093">accessors</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25264">caseFieldAccessors</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a id="101094">id</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a id="101095">tpe</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a id="101096">pos</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101097">isChar</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">widen</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29698">isChar</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101098">isSimple</a></span> = <span class="typed"><span class="type">=&gt; Boolean</span><a href="#101097">isChar</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">widen</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29697">isInt</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101100">sequenceType</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25654">widen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25687">baseType</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25888">SeqClass</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101102">elementType</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101099">sequenceType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span> =&gt; <span class="typed"><span class="type">object Predef</span><a id="821">Predef</a></span>.<span class="typed"><span class="type">(String)Nothing</span><a id="6000">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;arg &quot;)</span><span class="string">&quot;arg &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; not subtype of Seq[A]&quot;)</span><span class="string">&quot; not subtype of Seq[A]&quot;</span></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> _      =&gt; <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25662" id="21361">typeArgs</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
    }
    <span class="comment">// for propagating &quot;unchecked&quot; to synthetic vars</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[Long]</span><a id="101103">flags</a></span>: <span class="typed"><span class="type">List[Long]</span><a id="526">List</a></span>[Long] = <span class="typed"><span class="type">List[Long]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(274877906944L)</span><span >TRANS_FLAG</span></span>) <span class="typed"><span class="type">(Long*)List[Long]</span><span id="21328"><a id="527">List</a></span></span>(Flags.<span class="typed"><span class="type">Long(274877906944L)</span><span >TRANS_FLAG</span></span>) <span class="keyword">else</span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Unit</span><a id="101104">assertIsSubtype</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101151">other</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) = <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#22132">isSubType</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101151">other</a></span>), <span class="typed"><span class="type">java.lang.String(&quot;problem &quot;)</span><span class="string">&quot;problem &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; not &lt;: &quot;)</span><span class="string">&quot; not &lt;: &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101151">other</a></span>)
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Scrutinee</span><a id="101105">casted</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101166">headType</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101167">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
      <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101166">headType</a></span>) <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558" class="keyword">this</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>(<span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29595">newVar</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#101096">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101166">headType</a></span>, <span class="typed"><span class="type">=&gt; List[Long]</span><a href="#101103">flags</a></span>))
  }
    
  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Pattern extends java.lang.Object with ScalaObject with Product</span><span id="101286"><span id="2751"><span id="101293"><span id="101222"><span id="29737"><span id="29814"><span id="101294"><span id="3500"><span id="29562"><span id="29815"><span id="29561"><span id="101288"><span id="101291"><span id="101285"><span id="2750"><span id="29856"><span id="101296"><span id="308"><span id="3501"><span id="5794"><span id="101295"><span id="101284"><span id="101287"><span id="101223"><a id="3509">Pattern</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="101189"><span id="101188"><span id="101218"><a id="101224">tree</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
    <span class="keyword">implicit</span> <span class="keyword">def</span> <span class="typed"><span class="type">implicit scala.tools.nsc.matching.ParallelMatching.Pattern.mkPattern : (ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern</span><a id="101191">mkPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101219">t</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern</span><a href="#101222">Pattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101219">t</a></span>)
    <span class="keyword">import</span> definitions._
    <span class="keyword">lazy</span> <span class="keyword">val</span>    <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101194">sym</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span>    <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101196">tpe</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101198">symtpe</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101193">sym</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101200">prefix</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25660">prefix</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101202">stripped</a></span>   = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101213">strip2</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101204">tpeIfHead</a></span>  = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101201">stripped</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101226">p</a></span> @ (_:<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="../ast/Trees.scala.html#22510">Ident</a></span> | _:<span class="typed"><span class="type">ParallelMatching.this.global.Select</span><a href="../ast/Trees.scala.html#22506">Select</a></span>) =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101201">stripped</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101199">prefix</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101201">stripped</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101193">sym</a></span>) <span class="comment">//should be singleton object</span>
      <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Type, List[ParallelMatching.this.global.Tree])]</span><a href="PatternNodes.scala.html#31414">__UnApply</a></span>(_,<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101228">argtpe</a></span>,_)    =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101228">argtpe</a></span>
      <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> _                        =&gt; <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>
    }
    
    <span class="comment">/** 
     * Can this pattern be part of a switch statement?
     */</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="101206">isSimpleSwitchCandidate</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101201">stripped</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Literal</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a id="101230">const</a></span> : <span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a href="../symtab/Constants.scala.html#22297">Constant</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">(Int)Boolean</span><a href="../symtab/Constants.scala.html#22296">isNumeric</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a href="#101230">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Constants.scala.html#37590">tag</a></span>) =&gt;
        <span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a href="#101230">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Constants.scala.html#37590">tag</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(8)</span><span >FloatTag</span></span> | <span class="typed"><span class="type">Int(9)</span><span >DoubleTag</span></span> | <span class="typed"><span class="type">Int(7)</span><span >LongTag</span></span> =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
          <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
        }
      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    }
    
    <span class="comment">/** returns if pattern can be considered a no-op test ??for expected type?? */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101207">isDefault</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>);
    
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101208">isEquals</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(_, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101234">sym</a></span>, _) =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#101234">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25958">EqualsPatternClass</a></span>
      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _                  =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    }
    
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101209">isAlternative</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> { 
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Bind</a>(_, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101237">t</a></span>)         =&gt; <span class="typed"><span class="type">implicit scala.tools.nsc.matching.ParallelMatching.Pattern.mkPattern : (ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern</span><a href="#101191">t</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101209">isAlternative</a></span>
      <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.Alternative</span><a href="../ast/Trees.scala.html#22444">Alternative</a></span>     =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span> 
      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _                  =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    }
    
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a id="101210">getAlternativeBranches</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
      <span class="keyword">def</span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="101245">get_BIND</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a id="101246">pctx</a></span>: Tree =&gt; Tree, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101247">p</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101247">p</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">match</span></span> { 
        <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a id="101248">b</a></span> @ <a id="1">Bind</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a id="101250">n</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101251">p</a></span>)   =&gt; <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101245">get_BIND</a></span>((<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101253">x</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#101246" id="21757">pctx</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.LazyTreeCopier</span><a href="../ast/Trees.scala.html#22362">copy</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Name,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Bind</span><a href="../ast/Trees.scala.html#43618">Bind</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a href="#101248">b</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a href="#101250">n</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101253">x</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Bind</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101253">x</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101251">p</a></span>)
        <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">Alternative</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101256">ps</a></span>)  =&gt; <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#101256">ps</a></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a href="#101246">pctx</a></span>
      }
      <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101245">get_BIND</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101259">x</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101259">x</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>)
    }

    <span class="comment">/** returns all variables that are binding the given pattern 
     *  @param   x a pattern
     *  @return  vs variables bound, p pattern proper
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; (scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><a id="101211">strip</a></span>: <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><a id="1378">(</a></span>immutable.Set[Symbol], Pattern) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a id="101261">b</a></span> @ <a id="1">Bind</a>(_, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101263">t</a></span>)   =&gt; <span class="keyword">val</span> <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span id="23625"><a href="#101267" id="1379">(</a></span></span><span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><span id="101267"><span id="101265"><a href="#101264" id="23614">vs</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><span id="101268"><span id="101266"><a href="#101264" id="23616">p</a></span></span></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern</span><a href="#101222">Pattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101263">t</a></span>).<span class="typed"><span class="type">=&gt; (scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><a href="#101211">strip</a></span> ; <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol],ParallelMatching.this.Pattern)(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#101265">vs</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="31138">+</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a href="#101261">b</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101266">p</a></span>)
      <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span class="keyword">case</span></span> _                =&gt; <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol],ParallelMatching.this.Pattern)(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#21861">emptySymbolSet</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#29561" class="keyword">this</a></span>)
    }
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="101212">strip1</a></span>: <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="19799">Set</a></span>[Symbol] = <span class="typed"><span class="type">=&gt; (scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><a href="#101211">strip</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="23614">_1</a></span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a id="101213">strip2</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#29561">Pattern</a></span>     = <span class="typed"><span class="type">=&gt; (scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.Pattern)</span><a href="#101211">strip</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a id="23616">_2</a></span>

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="101214">definedVars</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol] = <span class="typed"><span class="type">ParallelMatching.this.type</span><a href="#8005">ParallelMatching</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29438">definedVars</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>)

    <span class="comment">/** returns true if pattern tests an object */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a id="101215">isObjectTest</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101280">head</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) =
      (<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101193">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101193">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101199">prefix</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Types.scala.html#25645">isStable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101280">head</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101199">prefix</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101193">sym</a></span>))
  }
  
  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Patterns extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="101557"><span id="101559"><span id="101544"><span id="101553"><span id="101554"><span id="3509"><span id="29564"><span id="101560"><span id="29814"><span id="101341"><span id="29737"><span id="101548"><span id="101340"><span id="3500"><span id="29815"><span id="101547"><span id="23625"><span id="2750"><span id="29856"><span id="1379"><span id="101558"><span id="308"><span id="101545"><span id="29565"><span id="3501"><span id="5794"><a id="101546">Patterns</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="101301"><span id="101300"><span id="101334"><a id="101342">scrut</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="101303"><span id="101302"><span id="101335"><a id="101343">ps</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><a id="526">List</a></span>[Pattern]) {
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101306">column</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Pattern) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101338">_</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101308">head</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a id="21332">head</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a id="101310">tail</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee,List[ParallelMatching.this.Pattern])ParallelMatching.this.Patterns</span><a href="#101340">Patterns</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101300">scrut</a></span>, <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a id="21334">tail</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101312">last</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a id="21350">last</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101314">headType</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101203">tpeIfHead</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="101316">isCaseHead</a></span> = <span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">headType</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29703">isCaseClass</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101318">dummies</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101315">isCaseHead</a></span>) <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25264">caseFieldAccessors</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="101320">size</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a id="101321">apply</a></span>(<span class="typed"><span class="type">Int</span><a id="101349">i</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">(Int)ParallelMatching.this.Pattern</span><a href="#101302" id="21361">ps</a></span>(<span class="typed"><span class="type">Int</span><a href="#101349">i</a></span>).<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">()List[(ParallelMatching.this.global.Tree, Int)]</span><a id="101322">zip</a></span>() = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101305">column</a></span>.<span class="typed"><span class="type">=&gt; List[(ParallelMatching.this.global.Tree, Int)]</span><a id="21388">zipWithIndex</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">[T](List[T])List[(ParallelMatching.this.global.Tree, T)]</span><a id="101323">zip</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="101325">T</a></span>](<span class="typed"><span class="type">List[T]</span><a id="101354">ys</a></span>: <span class="typed"><span class="type">List[T]</span><a id="526">List</a></span>[T]) = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101305">column</a></span>.<span class="typed"><span class="type">(List[T])List[(ParallelMatching.this.global.Tree, T)]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">List[T]</span><a href="#101354">ys</a></span>)
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Pattern)Boolean</span><a id="101326">isObjectTest</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101357">pat</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#29561">Pattern</a></span>)  = <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101357">pat</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="#101215">isObjectTest</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span>)
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a id="101327">isObjectTest</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101359">pat</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>)     = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern</span><a href="#101222">Pattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101359">pat</a></span>).<span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="#101215">isObjectTest</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span>)
    <span class="comment">// an unapply for which we don't need a type test</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101328">isUnapplyHead</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Type, List[ParallelMatching.this.global.Tree])]</span><a href="PatternNodes.scala.html#31414">__UnApply</a></span>(_,<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="101364">argtpe</a></span>,_)  =&gt; <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101300">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#101364">argtpe</a></span>
      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _                      =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    }
    
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101329">isSimpleSwitch</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
      <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101300">scrut</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101098">isSimple</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a id="21349">init</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Pattern) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101368">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101205">isSimpleSwitchCandidate</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
      <span class="comment">// TODO: This needs to also allow the case that the last is a compatible type pattern.</span>
      (<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101311">last</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101205">isSimpleSwitchCandidate</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101311">last</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101207">isDefault</a></span>)
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Rep)(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a id="101330">mkRule</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="101369">rest</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="101370">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>): <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ParallelMatching.this.MixEquals</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101378">x</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101378">x</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101208">isEquals</a></span>          =&gt; <span class="typed"><span class="type">ParallelMatching.this.MixEquals</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixEquals</span><a href="#29584">MixEquals</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><span class="keyword">case</span></span> <a id="1">Pattern</a>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="101400">x</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#22457">ArrayValue</a></span>)   =&gt; <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#101400">x</a></span>)) <span class="typed"><span class="type">ParallelMatching.this.MixSequenceStar</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixSequenceStar</span><a href="#29583">MixSequenceStar</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
                                       <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.MixSequence</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixSequence</span><a href="#29582">MixSequence</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.MixLiterals</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="#101329">isSimpleSwitch</a></span>      =&gt; <span class="typed"><span class="type">ParallelMatching.this.MixLiterals</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixLiterals</span><a href="#29580">MixLiterals</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.MixUnapply</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="#101328">isUnapplyHead</a></span>       =&gt; <span class="typed"><span class="type">ParallelMatching.this.MixUnapply</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixUnapply</span><a href="#29581">MixUnapply</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.MixTypes</span><span class="keyword">case</span></span> _                        =&gt; <span class="typed"><span class="type">ParallelMatching.this.MixTypes</span><a href="#101370" class="keyword">new</a></span> <span class="typed"><span class="type">ParallelMatching.this.MixTypes</span><a href="#29585">MixTypes</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564" class="keyword">this</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101369">rest</a></span>)
    }
  }
 
  <span class="comment">/**
   * Class encapsulating a guard expression in a pattern match:
   *   case ... if(tree) =&gt; ...
   */</span> 
  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Guard extends java.lang.Object with ScalaObject with Product</span><span id="101574"><span id="2751"><span id="101582"><span id="29737"><span id="29814"><span id="101579"><span id="3500"><span id="29815"><span id="52973"><span id="2750"><span id="29856"><span id="101573"><span id="308"><span id="101583"><span id="52965"><span id="3501"><span id="29568"><span id="101576"><span id="101584"><span id="101575"><span id="29567"><span id="5794"><span id="101572"><span id="101581"><a id="3509">Guard</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="52968"><span id="52967"><span id="101564"><a id="52974">tree</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="52970">isEmpty</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#52967">tree</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a id="52971">duplicate</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Guard</span><a href="#52965">Guard</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#52967">tree</a></span>.<span class="typed"><span class="type">=&gt; Guard.this.tree.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>)
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a id="52972">mkIf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101569">thenPart</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101570">elsePart</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#52967">tree</a></span>.<span class="typed"><span class="type">=&gt; Guard.this.tree.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101569">thenPart</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101570">elsePart</a></span>)
  }
  <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Guard</span><span id="29571"><a id="29570">NoGuard</a></span></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Guard</span><a href="#52965">Guard</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)

  <span class="comment">/** picks which rewrite rule to apply
   *  @precondition: column does not contain alternatives (ensured by initRep)
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee,List[ParallelMatching.this.global.Tree],ParallelMatching.this.Rep)(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a id="29572">MixtureRule</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a id="101586">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101587">column</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="101588">rest</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="101589">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>): <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span> =
    <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee,List[ParallelMatching.this.Pattern])ParallelMatching.this.Patterns</span><a href="#101340">Patterns</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#101586">scrut</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#101587">column</a></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]</span><a id="21362">map</a></span> <span class="typed"><span class="type">object ParallelMatching.this.Pattern</span><a href="#29562">Pattern</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.Rep)(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a href="#101330">mkRule</a></span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101588">rest</a></span>

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class RuleApplication extends java.lang.Object with ScalaObject</span><a id="29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101372"><a id="101593">rep</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) {
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a id="101374">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a id="101375">typer</a></span> = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101372">rep</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#52715">typer</a></span>

    <span class="comment">// used in MixEquals and MixSequence</span>
    <span class="keyword">final</span> <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Patterns,ParallelMatching.this.Rep)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="101376">repWithoutHead</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a id="101597">pats</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="101598">rest</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101599">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="101600">nfailrow</a></span> = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.Pattern],List[ParallelMatching.this.Row])((ParallelMatching.this.Pattern, ParallelMatching.this.Row) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21449">map2</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#101597">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101309">tail</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Pattern]</span><a href="#101302">ps</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101598">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a id="21334">tail</a></span>)((<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101605">p</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="101606">r</a></span>) =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#101606">r</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.Pattern)ParallelMatching.this.Row</span><a href="#52953">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101605">p</a></span>))
      <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101372">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101374">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101090">mkList</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101598">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#101600">nfailrow</a></span>)
    }

    <span class="comment">/** translate outcome of the rule application into code (possible involving recursive application of rewriting) */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101377">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101625">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101626">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> 
  }

  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class ErrorRule extends ParallelMatching.this.RuleApplication with ScalaObject with Product</span><span id="101653"><span id="2751"><span id="101646"><span id="29737"><span id="29574"><span id="29814"><span id="101643"><span id="3500"><span id="29815"><span id="2750"><span id="101654"><span id="29856"><span id="101641"><span id="308"><span id="29575"><span id="3501"><span id="101647"><span id="101642"><span id="101648"><span id="101652"><span id="101644"><span id="5794"><a id="101651">ErrorRule</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101629"><span id="101628"><span id="101635"><a id="103783">rep</a></span></span></span></span>:<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101635">rep</a></span>) {
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a id="101631">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span> = <span class="typed"><span class="type">=&gt; Nothing</span><a href="MatchUtil.scala.html#52041">impossible</a></span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101632">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101638">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101639">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101639">failTree</a></span>
  }

  <span class="comment">/**  {case ... if guard =&gt; bx} else {guardedRest} */</span>
  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class VariableRule extends ParallelMatching.this.RuleApplication with ScalaObject with Product</span><span id="2751"><span id="101710"><span id="101726"><span id="3141"><span id="1259"><span id="101705"><span id="101704"><span id="101719"><span id="101727"><span id="101728"><span id="3509"><span id="29737"><span id="29814"><span id="101707"><span id="3500"><span id="29815"><span id="2750"><span id="29856"><span id="29577"><span id="101718"><span id="308"><span id="101706"><span id="101711"><span id="101721"><span id="3501"><span id="101729"><span id="23548"><span id="29578"><span id="101720"><span id="5794"><a id="101709">VariableRule</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span id="101662"><span id="101661"><span id="101679"><a id="103869">subst</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Guard</span><span id="101664"><span id="101663"><span id="101680"><a id="103870">guard</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Guard</span><a href="#29567">Guard</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101666"><span id="101665"><span id="101681"><a id="103871">guardedRest</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>, <span class="typed"><span class="type">Int</span><span id="101668"><span id="101667"><span id="101682"><a id="103872">bx</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101669"><span id="101683"><a id="103873">rep</a></span></span></span>:<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101683">rep</a></span>) {
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a id="101671">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span> = <span class="typed"><span class="type">=&gt; Nothing</span><a href="MatchUtil.scala.html#52041">impossible</a></span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101672">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101685">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101686">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="101687">body</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> { <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101669">rep</a></span>.<span class="typed"><span class="type">(Int,ParallelMatching.this.Bindings)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="#52741">requestBody</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#101667">bx</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#101661">subst</a></span>) }
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.ValDef]</span><a id="101689">vdefs</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#101661">subst</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.analyzer.Typer)List[ParallelMatching.this.global.ValDef]</span><a href="PatternNodes.scala.html#31704">targetParams</a></span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101691">typedElse</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101665">guardedRest</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="101693">typedIf</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#101663">guard</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="#52972">mkIf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#101687">body</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101690">typedElse</a></span>))

      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#101663">guard</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52970">isEmpty</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#101687">body</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.ValDef]</span><a href="#101688">vdefs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.global.Tree</span><a href="#101692">typedIf</a></span>))
    }
  } 

  <span class="comment">/** mixture rule for literals
   */</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class MixLiterals extends ParallelMatching.this.RuleApplication with ScalaObject</span><a id="29580">MixLiterals</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101442"><span id="101441"><a id="101473">pats</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101444"><span id="101443"><a id="101474">rest</a></span></span></span>:<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101445"><a id="101475">rep</a></span></span>:<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101475">rep</a></span>) {
    <span class="comment">// e.g. (1,1) (1,3) (42,2) for column { case ..1.. =&gt; ;; case ..42..=&gt; ;; case ..1.. =&gt; }</span>
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><span id="101449"><span id="101447"><span id="101448"><a id="101735">defaultV</a></span></span></span></span>: immutable.<span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="26500">Set</a></span>[Symbol] = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#21861">emptySymbolSet</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><span id="101452"><span id="101450"><span id="101451"><a id="101737">defaultIndexSet</a></span></span></span></span> = <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><a id="19946">BitSet</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101441">pats</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#101319">size</a></span>)
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(Int,scala.collection.Set[ParallelMatching.this.global.Symbol])Unit</span><a id="101453">insertDefault</a></span>(<span class="typed"><span class="type">Int</span><a id="101839">tag</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="101840">vs</a></span>: <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="19799">Set</a></span>[Symbol]) {
      <span class="typed"><span class="type">=&gt; scala.collection.mutable.BitSet</span><a href="#101450">defaultIndexSet</a></span> <span class="typed"><span class="type">(Int)Unit</span><a id="32844">+=</a></span> <span class="typed"><span class="type">Int</span><a href="#101839">tag</a></span>
      <span class="typed"><span class="type">(scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])Unit</span><a href="#101448">defaultV</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#101447">defaultV</a></span> <span class="typed"><span class="type">(Iterable[ParallelMatching.this.global.Symbol])scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="31140">++</a></span> <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a href="#101840">vs</a></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="101454">haveDefault</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>          = <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.mutable.BitSet</span><a href="#101450">defaultIndexSet</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span> 
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a id="101455">defaultRows</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row]   = <span class="typed"><span class="type">=&gt; scala.collection.mutable.BitSet</span><a href="#101450">defaultIndexSet</a></span>.<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21815">toList</a></span> <span class="typed"><span class="type">((Int) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21364">reverseMap</a></span> <span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a href="#101459">grabRow</a></span>

    <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.IntMap[List[Int]]</span><span id="101458"><span id="101456"><span id="101457"><a id="101834">tagIndices</a></span></span></span></span> = <span class="typed"><span class="type">object scala.collection.immutable.IntMap</span><a id="26249">IntMap</a></span>.<span class="typed"><span class="type">scala.collection.immutable.IntMap[List[Int]]</span><a id="101739">empty</a></span>[<span class="typed"><span class="type">List[Int]</span><a id="526">List</a></span>[Int]]
    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a id="101459">grabRow</a></span>(<span class="typed"><span class="type">Int</span><a id="101865">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#29586">Row</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="101868">r</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101443">rest</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a href="#53024" id="21361">row</a></span>(<span class="typed"><span class="type">Int</span><a href="#101865">index</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.Row</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#101447">defaultV</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span>) <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#101868">r</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#101868">r</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Row</span><a href="#52952">insert2</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Set[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29430">strip1</a></span>(<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#101321">pats</a></span>(<span class="typed"><span class="type">Int</span><a href="#101865">index</a></span>)), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)  <span class="comment">// get vars</span>
    }

    <span class="comment">/** inserts row indices using in to list of tagIndices */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)List[(Int, ParallelMatching.this.Rep)]</span><a id="101460">tagIndicesToReps</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101880">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) : <span class="typed"><span class="type">List[(Int, ParallelMatching.this.Rep)]</span><a id="526">List</a></span>[(Int, Rep)] = 
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.IntMap[List[Int]]</span><a href="#101456">tagIndices</a></span> <span class="typed"><span class="type">(((Int, List[Int])) =&gt; (Int, ParallelMatching.this.Rep))Iterable[(Int, ParallelMatching.this.Rep)]</span><a id="21782">map</a></span> <span class="typed"><span class="type">(Int, ParallelMatching.this.Rep)</span><a href="#101883">{</a></span> <span class="typed"><span class="type">(Int, ParallelMatching.this.Rep)</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="101884">k</a></span>, <span class="typed"><span class="type">List[Int]</span><a id="101885">v</a></span>) =&gt; <span class="typed"><span class="type">(Int,ParallelMatching.this.Rep)(Int, ParallelMatching.this.Rep)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#101884">k</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101445">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101443">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">List[Int]</span><a href="#101885">v</a></span>.<span class="typed"><span class="type">((Int) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21364">reverseMap</a></span>(<span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a href="#101459">grabRow</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a href="#101889" id="21339">:::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#101455">defaultRows</a></span>)) } <span class="typed"><span class="type">=&gt; List[(Int, ParallelMatching.this.Rep)]</span><a id="21815">toList</a></span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="101461">defaultsToRep</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101895">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101445">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101443">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#101455">defaultRows</a></span>)

    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,Int)Unit</span><a id="101462">insertTagIndexPair</a></span>(<span class="typed"><span class="type">Int</span><a id="101899">tag</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="101900">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) =
      <span class="typed"><span class="type">(scala.collection.immutable.IntMap[List[Int]])Unit</span><a href="#101457">tagIndices</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.IntMap[List[Int]]</span><a href="#101456">tagIndices</a></span>.<span class="typed"><span class="type">(Int,List[Int])scala.collection.immutable.IntMap[List[Int]]</span><a id="101761">update</a></span>(<span class="typed"><span class="type">Int</span><a href="#101899">tag</a></span>, <span class="typed"><span class="type">Int</span><a href="#101900">index</a></span> <span class="typed"><span class="type">(Int)List[Int]</span><a href="#101907" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.IntMap[List[Int]]</span><a href="#101456">tagIndices</a></span>.<span class="typed"><span class="type">(Int,=&gt; List[Int])List[Int]</span><a id="101758">getOrElse</a></span>(<span class="typed"><span class="type">Int</span><a href="#101899">tag</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>))

    <span class="comment">/** returns 
     *  @return list of continuations, 
     *  @return variables bound to default continuation,  
     *  @return optionally, a default continuation
     **/</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(List[(Int, ParallelMatching.this.Rep)], scala.collection.Set[ParallelMatching.this.global.Symbol], Option[ParallelMatching.this.Rep])</span><a id="101463">getTransition</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101915">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.Rep)], scala.collection.Set[ParallelMatching.this.global.Symbol], Option[ParallelMatching.this.Rep])</span><a id="448">(</a></span>List[(Int,Rep)], Set[Symbol], Option[Rep]) =
      <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.Rep)],scala.collection.immutable.Set[ParallelMatching.this.global.Symbol],Option[ParallelMatching.this.Rep])(List[(Int, ParallelMatching.this.Rep)], scala.collection.immutable.Set[ParallelMatching.this.global.Symbol], Option[ParallelMatching.this.Rep])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)List[(Int, ParallelMatching.this.Rep)]</span><a href="#101460">tagIndicesToReps</a></span>, <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#101447">defaultV</a></span>, <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101454">haveDefault</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.Rep)Some[ParallelMatching.this.Rep]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#101461">defaultsToRep</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span>)


    <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, List[ParallelMatching.this.Pattern])</span><span id="23625"><a href="#101835" id="1379">Patterns</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="101835"><span id="101466"><span id="23614"><a href="#101464" id="101465">scrut</a></span></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="101836"><span id="101468"><span id="23616"><a href="#101464" id="101467">patterns</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101441">pats</a></span>
    
    <span class="keyword">val</span> <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><span id="101470"><a id="101469">varMap</a></span></span>: <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="526">List</a></span>[(Int, List[Symbol])] =
      (<span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, Int)) =&gt; Option[(Int, List[ParallelMatching.this.global.Symbol])])List[Option[(Int, List[ParallelMatching.this.global.Symbol])]]</span><span id="21362"><a href="#101923" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="101924"><a id="101930">x</a></span></span>, <span class="typed"><span class="type">Int</span><span id="101925"><a id="101931">i</a></span></span>) &lt;- <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101441">pats</a></span>.<span class="typed"><span class="type">()List[(ParallelMatching.this.global.Tree, Int)]</span><a href="#101322">zip</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29431">strip2</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101930">x</a></span>) <span class="typed"><span class="type">Option[(Int, List[ParallelMatching.this.global.Symbol])]</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Some[(Int, List[ParallelMatching.this.global.Symbol])]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101932">p</a></span> @ <span class="typed"><span class="type">(Any)Option[Any]</span><a href="CodeFactory.scala.html#101935">Const</a></span>(<span class="typed"><span class="type">Int</span><a id="101960">c</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>)        =&gt; <span class="typed"><span class="type">(Int,Int)Unit</span><a href="#101462">insertTagIndexPair</a></span>(<span class="typed"><span class="type">Int</span><a href="#101960">c</a></span>, <span class="typed"><span class="type">Int</span><a href="#101931">i</a></span>)       ; <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Symbol]))Some[(Int, List[ParallelMatching.this.global.Symbol])]</span><span id="29737"><span id="308"><span id="23625"><a id="1379">Some</a></span></span></span></span>(<span class="typed"><span class="type">Int</span><a href="#101960">c</a></span>,       <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29438">definedVars</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101930">x</a></span>))
        <span class="typed"><span class="type">Some[(Int, List[ParallelMatching.this.global.Symbol])]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101964">p</a></span> @ <span class="typed"><span class="type">(Any)Option[Any]</span><a href="CodeFactory.scala.html#101935">Const</a></span>(<span class="typed"><span class="type">Char</span><a id="101966">c</a></span>: <span class="typed"><span class="type">Char</span><a id="2389">Char</a></span>)       =&gt; <span class="typed"><span class="type">(Int,Int)Unit</span><a href="#101462">insertTagIndexPair</a></span>(<span class="typed"><span class="type">Char</span><a href="#101966">c</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="2976">toInt</a></span>, <span class="typed"><span class="type">Int</span><a href="#101931">i</a></span>) ; <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Symbol]))Some[(Int, List[ParallelMatching.this.global.Symbol])]</span><span id="29737"><span id="308"><span id="23625"><a id="1379">Some</a></span></span></span></span>(<span class="typed"><span class="type">Char</span><a href="#101966">c</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="2976">toInt</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29438">definedVars</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101930">x</a></span>))
        <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101970">p</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101970">p</a></span>) =&gt; <span class="typed"><span class="type">(Int,scala.collection.Set[ParallelMatching.this.global.Symbol])Unit</span><a href="#101453">insertDefault</a></span>(<span class="typed"><span class="type">Int</span><a href="#101931">i</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Set[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29430">strip1</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101930">x</a></span>))    ; <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
      }) . <span class="typed"><span class="type">((Option[(Int, List[ParallelMatching.this.global.Symbol])]) =&gt; Iterable[(Int, List[ParallelMatching.this.global.Symbol])])List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">Option[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="101992">x</a></span> =&gt; <span class="typed"><span class="type">(Option[(Int, List[ParallelMatching.this.global.Symbol])])Iterable[(Int, List[ParallelMatching.this.global.Symbol])]</span><span id="25402"><a href="#101992" id="935">x</a></span></span>) . <span class="typed"><span class="type">=&gt; List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="21385">reverse</a></span>

    <span class="comment">// lazy</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a id="101471">bindVars</a></span>(<span class="typed"><span class="type">Int</span><a id="102003">Tag</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="102004">orig</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>  = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, List[ParallelMatching.this.global.Symbol])],ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a id="102005">myBindVars</a></span>(<span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="102006">rest</a></span>:<span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="526">List</a></span>[(Int,List[Symbol])], <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="102007">bnd</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>  = <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a href="#102006">rest</a></span> <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#102007">bnd</a></span>
        <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Int</span><a href="#102003">Tag</a></span>,<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102008">vs</a></span>)<a id="1">::</a><span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="102009">xs</a></span> =&gt; <span class="typed"><span class="type">(List[(Int, List[ParallelMatching.this.global.Symbol])],ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a href="#102005">myBindVars</a></span>(<span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a href="#102009">xs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#102007">bnd</a></span>.<span class="typed"><span class="type">(Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#31702">add</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102008">vs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>))
        <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span class="keyword">case</span></span> <a id="1">(</a>_,  <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102010">vs</a></span>)<a id="1">::</a><span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a id="102011">xs</a></span> =&gt; <span class="typed"><span class="type">(List[(Int, List[ParallelMatching.this.global.Symbol])],ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a href="#102005">myBindVars</a></span>(<span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a href="#102011">xs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#102007">bnd</a></span>)
      }
      <span class="typed"><span class="type">(List[(Int, List[ParallelMatching.this.global.Symbol])],ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a href="#102005">myBindVars</a></span>(<span class="typed"><span class="type">=&gt; List[(Int, List[ParallelMatching.this.global.Symbol])]</span><a href="#101469">varMap</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#102004">orig</a></span>)
    }

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101472">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102012">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102013">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.Rep)], scala.collection.Set[ParallelMatching.this.global.Symbol], Option[ParallelMatching.this.Rep])</span><span id="23590"><a href="#102023" id="449">(</a></span></span><span class="typed"><span class="type">List[(Int, ParallelMatching.this.Rep)]</span><span id="102023"><span id="102015"><a href="#102014" id="23578">branches</a></span></span></span>, <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><span id="102024"><span id="102016"><a href="#102014" id="23580">defaultV</a></span></span></span>, <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span id="102025"><span id="102017"><a href="#102014" id="23582">defaultRep</a></span></span></span>) = <span class="typed"><span class="type">MixLiterals.this.type</span><a href="#29580" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(List[(Int, ParallelMatching.this.Rep)], scala.collection.Set[ParallelMatching.this.global.Symbol], Option[ParallelMatching.this.Rep])</span><a href="#101463">getTransition</a></span> <span class="comment">// tag body pairs</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.CaseDef]</span><a id="102018">cases</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">(((Int, ParallelMatching.this.Rep)) =&gt; ParallelMatching.this.global.CaseDef)List[ParallelMatching.this.global.CaseDef]</span><span id="21362"><a href="#102030" id="21367">(</a></span></span><span class="typed"><span class="type">Int</span><span id="102031"><a id="102037">tag</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102032"><a id="102038">r</a></span></span>) &lt;- <span class="typed"><span class="type">List[(Int, ParallelMatching.this.Rep)]</span><a href="#102015">branches</a></span>) <span class="keyword">yield</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="102039">r2</a></span> = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101445">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102038">r</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102038">r</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="102043">x</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102043">x</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.Bindings)ParallelMatching.this.Row</span><a href="#52951">rebind</a></span>(<span class="typed"><span class="type">(Int,ParallelMatching.this.Bindings)ParallelMatching.this.Bindings</span><a href="#101471">bindVars</a></span>(<span class="typed"><span class="type">Int</span><a href="#102037">tag</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102043">x</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>))))
        <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">(Any)ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Int</span><a href="#102037">tag</a></span>), <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102039">r2</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>)
      }
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102020">ndefault</a></span> = <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a href="#102017">defaultRep</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Rep) =&gt; ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a id="25413">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102050">_</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>) <span class="typed"><span class="type">(=&gt; ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="25411">getOrElse</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102013">failTree</a></span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.CaseDef]</span><a id="102022">casesWithDefault</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.global.CaseDef]</span><a href="#102018">cases</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.CaseDef])List[ParallelMatching.this.global.CaseDef]</span><a href="#102053" id="21339">:::</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.CaseDef*)List[ParallelMatching.this.global.CaseDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29528">mk_</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25839">IntClass</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#102019">ndefault</a></span>))
      
      <span class="typed"><span class="type">List[ParallelMatching.this.global.CaseDef]</span><a href="#102018">cases</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">ParallelMatching.this.global.If</span><span class="keyword">case</span></span> <a id="1">CaseDef</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102059">lit</a></span>,_,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102060">body</a></span>) <a id="1">::</a> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>   =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29535">Equals</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102059">lit</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102060">body</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#102019">ndefault</a></span>)
        <span class="typed"><span class="type">ParallelMatching.this.global.Match</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101097">isChar</a></span>            =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.CaseDef])ParallelMatching.this.global.Match</span><a href="../ast/Trees.scala.html#42765">Match</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Name)ParallelMatching.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">object ParallelMatching.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/StdNames.scala.html#31034">toInt</a></span>), <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.CaseDef]</span><a href="#102021">casesWithDefault</a></span>) <span class="comment">// chars to ints</span>
        <span class="typed"><span class="type">ParallelMatching.this.global.Match</span><span class="keyword">case</span></span> _                            =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.CaseDef])ParallelMatching.this.global.Match</span><a href="../ast/Trees.scala.html#42765">Match</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101465">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.CaseDef]</span><a href="#102021">casesWithDefault</a></span>)
      }
    }
  }
  
  <span class="comment">/** mixture rule for unapply pattern
   */</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class MixUnapply extends ParallelMatching.this.RuleApplication with ScalaObject</span><a id="29581">MixUnapply</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101480"><span id="101479"><a id="101510">pats</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101482"><span id="101481"><a id="101511">rest</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101483"><a id="101512">rep</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>)
  <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101512">rep</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, List[ParallelMatching.this.Pattern])</span><span id="23625"><a href="#102069" id="1379">Patterns</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="102069"><span id="101487"><span id="23614"><a href="#101485" id="101486">scrut</a></span></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="102070"><span id="101489"><span id="23616"><a href="#101485" id="101488">patterns</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101479">pats</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span id="23625"><a href="PatternNodes.scala.html#31130" id="1379">Strip</a></span></span>(<span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><span id="102074"><span id="101492"><span id="23614"><a href="#101490" id="101491">vs</a></span></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102075"><span id="101494"><span id="23616"><a href="#101490" id="101493">unapp</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101479">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.global.UnApply, ParallelMatching.this.global.Apply, ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], List[ParallelMatching.this.global.Tree])</span><span id="101496"><span id="23482"><span id="512"><span id="102078"><span id="101498"><a id="23498">ua</a></span></span></span></span></span></span> @ <a id="1">UnApply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><span id="102079"><span id="101500"><a href="#101495" id="23484">app</a></span></span></span> @ <a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102080"><span id="101502"><a href="#101495" id="23486">fxn</a></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="102081"><span id="101504"><a href="#101495" id="23488">appargs</a></span></span></span>), <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="102082"><span id="101506"><a href="#101495" id="23490">args</a></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101493">unapp</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a id="101507">newVarCapture</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="102088">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="102089">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102090">theOwner</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29595">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#102088">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#102089">tpe</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101486">scrut</a></span>.<span class="typed"><span class="type">=&gt; List[Long]</span><a href="#101103">flags</a></span>)

    <span class="comment">/** returns (unapply-call, success-rep, optional fail-rep*/</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a id="101508">getTransition</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102094">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a id="1258">(</a></span>Tree, List[Tree], Rep, Option[Rep]) = {
      <span class="keyword">object</span> <span class="typed"><span class="type">object sameUnapplyCall</span><a id="102095">sameUnapplyCall</a></span> {
        <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a id="102106">unapply</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102108">t</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102108">t</a></span> <span class="typed"><span class="type">Option[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <a id="1">UnApply</a>(<a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102110">fn1</a></span>,_), <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102111">differentArgs</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101501">fxn</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102110">fn1</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101501">fxn</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="../ast/Trees.scala.html#25375">equalsStructure</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102110">fn1</a></span>) =&gt;
            <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102111">differentArgs</a></span>)
          <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> _ =&gt; 
            <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
        }
      }
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102097">ures</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#101507">newVarCapture</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.UnApply</span><a href="#101497">ua</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Apply</span><a href="#101499">app</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a id="102098">rhs</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101501">fxn</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101486">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#102134" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101503">appargs</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a id="21334">tail</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Apply</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102097">ures</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102099">uacall</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102097">ures</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a href="#102098">rhs</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a id="102100">zipped</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101479">pats</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.Row])List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a href="#101323">zip</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101481">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102101">nrowsOther</a></span> = <span class="typed"><span class="type">List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a href="#102100">zipped</a></span>.<span class="typed"><span class="type">=&gt; List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a id="21334">tail</a></span> <span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, ParallelMatching.this.Row)) =&gt; Iterable[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a id="21383">flatMap</a></span>
        <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102145">{</a></span> <span class="typed"><span class="type">Nil.type</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#31488">Strip2</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a href="#102106">sameUnapplyCall</a></span>(_)), _) =&gt; <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> ; <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102148">pat</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="102149">r</a></span>) =&gt; <span class="typed"><span class="type">(ParallelMatching.this.Row*)List[ParallelMatching.this.Row]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102149">r</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Row</span><a href="#52948">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102148">pat</a></span>)) }
        
      <span class="keyword">val</span> <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a id="102102">nrepFail</a></span> = 
        <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102101">nrowsOther</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
        <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.Rep)Some[ParallelMatching.this.Rep]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101483">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101486">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101090">mkList</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101481">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102101">nrowsOther</a></span>))
        
      <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a id="102103">mkTransition</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102177">vdefs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102178">ntemps</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102179">nrows</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row]) =
        <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree,List[ParallelMatching.this.global.Tree],ParallelMatching.this.Rep,Option[ParallelMatching.this.Rep])(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span id="23548"><a id="1259">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102099">uacall</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102177">vdefs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101483">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101486">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101091">mkList</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102178">ntemps</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101481">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102179">nrows</a></span>), <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a href="#102102">nrepFail</a></span>)          
        
      <span class="comment">// Second argument is number of dummies to prepend in the default case</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">((List[ParallelMatching.this.global.Tree]) =&gt; List[ParallelMatching.this.global.Tree],Int)List[ParallelMatching.this.Row]</span><a id="102104">mkNewRows</a></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree]) =&gt; List[ParallelMatching.this.global.Tree]</span><a id="102196">sameFilter</a></span>: (List[Tree]) =&gt; List[Tree], <span class="typed"><span class="type">Int</span><a id="102197">dum</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) =
        <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, ParallelMatching.this.Row)) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><span id="21362"><a href="#102199" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102200"><a id="102209">pat</a></span></span> @ <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)]</span><a href="PatternNodes.scala.html#31130">Strip</a></span>(<span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><span id="102202"><a id="102211">vs</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102203"><a id="102212">p</a></span></span>), <span class="typed"><span class="type">ParallelMatching.this.Row</span><span id="102204"><a id="102213">r</a></span></span>) &lt;- <span class="typed"><span class="type">List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a href="#102100">zipped</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102212">p</a></span> <span class="typed"><span class="type">ParallelMatching.this.Row</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">ParallelMatching.this.Row</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a href="#102106">sameUnapplyCall</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102215">args</a></span>)  =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102213">r</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Row</span><a href="#52952">insert2</a></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102196" id="21757">sameFilter</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102215">args</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102216" id="21339">:::</a></span> <span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree*)List[object ParallelMatching.this.global.EmptyTree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>), <span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><a href="#102211">vs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101486">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
          <span class="typed"><span class="type">ParallelMatching.this.Row</span><span class="keyword">case</span></span> _                      =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102213">r</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a href="#52949">insert</a></span>(<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">Int</span><a href="#102197">dum</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102221" id="21339">:::</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102209">pat</a></span>))
        }
      
      <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101505">args</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>  =&gt; <span class="comment">// special case for unapply(), app.tpe is boolean</span>
          <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a href="#102103">mkTransition</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">((List[ParallelMatching.this.global.Tree]) =&gt; List[ParallelMatching.this.global.Tree],Int)List[ParallelMatching.this.Row]</span><a href="#102104">mkNewRows</a></span>((<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102226">xs</a></span>) =&gt; <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>))
          
        <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> =&gt; <span class="comment">// special case for unapply(p), app.tpe is Option[T]</span>
          <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="102227">vtpe</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Apply</span><a href="#101499">app</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25662" id="21361">typeArgs</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102228">vsym</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#101507">newVarCapture</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.UnApply</span><a href="#101497">ua</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#102227">vtpe</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102229">nrows</a></span> = <span class="typed"><span class="type">((List[ParallelMatching.this.global.Tree]) =&gt; List[ParallelMatching.this.global.Tree],Int)List[ParallelMatching.this.Row]</span><a href="#102104">mkNewRows</a></span>((<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102236">xs</a></span>) =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102236">xs</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a id="21332">head</a></span>), <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102230">vdef</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102228">vsym</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply</span><a href="CodeFactory.scala.html#29542">Get</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102097">ures</a></span>)))
          <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a href="#102103">mkTransition</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree*)List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102230">vdef</a></span>), <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol*)List[ParallelMatching.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102228">vsym</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102229">nrows</a></span>)
                  
        <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span class="keyword">case</span></span> _ =&gt; <span class="comment">// app.tpe is Option[? &lt;: ProductN[T1,...,Tn]]</span>
          <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102254">uresGet</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#101507">newVarCapture</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.UnApply</span><a href="#101497">ua</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Apply</span><a href="#101499">app</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25662" id="21361">typeArgs</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>))
          <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102255">vdefHead</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102254">uresGet</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply</span><a href="CodeFactory.scala.html#29542">Get</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102097">ures</a></span>)))
          <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a id="102256">ts</a></span> = <span class="typed"><span class="type">object ParallelMatching.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Type)Option[List[ParallelMatching.this.global.Type]]</span><a href="../symtab/Definitions.scala.html#25981">getProductArgs</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102254">uresGet</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>).<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Type]</span><a id="25408">get</a></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102257">nrows</a></span> = <span class="typed"><span class="type">((List[ParallelMatching.this.global.Tree]) =&gt; List[ParallelMatching.this.global.Tree],Int)List[ParallelMatching.this.Row]</span><a href="#102104">mkNewRows</a></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><span id="6129"><a href="#102271" id="821">identity</a></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#102256">ts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21644">size</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.analyzer.global.Tree], List[ParallelMatching.this.global.Symbol])</span><span id="23625"><a href="#102319" id="1379">(</a></span></span><span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="102319"><span id="102259"><a href="#102258" id="23614">vdefs</a></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span id="102320"><span id="102260"><a href="#102258" id="23616">vsyms</a></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol]) = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[(ParallelMatching.this.global.analyzer.global.Tree, ParallelMatching.this.global.Symbol)])(List[ParallelMatching.this.global.analyzer.global.Tree], List[ParallelMatching.this.global.Symbol])</span><a id="21423">unzip</a></span>(
            <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Type, Int)) =&gt; (ParallelMatching.this.global.analyzer.global.Tree, ParallelMatching.this.global.Symbol))List[(ParallelMatching.this.global.analyzer.global.Tree, ParallelMatching.this.global.Symbol)]</span><span id="21362"><a href="#102284" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span id="102285"><a id="102291">vtpe</a></span></span>, <span class="typed"><span class="type">Int</span><span id="102286"><a id="102292">i</a></span></span>) &lt;- <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#102256">ts</a></span>.<span class="typed"><span class="type">(List[Int])List[(ParallelMatching.this.global.Type, Int)]</span><a id="21386">zip</a></span>((<span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6133"><a id="821" class="int">1</a></span></span> <span class="typed"><span class="type">(Int)Range.Inclusive</span><a id="26780">to</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#102256">ts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21644">size</a></span>).<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21815">toList</a></span>)) <span class="keyword">yield</span> {
              <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102293">vchild</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#101507">newVarCapture</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.UnApply</span><a href="#101497">ua</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#102291">vtpe</a></span>)
              <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102294">accSym</a></span> = <span class="typed"><span class="type">object ParallelMatching.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,Int)ParallelMatching.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25977">productProj</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102254">uresGet</a></span>, <span class="typed"><span class="type">Int</span><a href="#102292">i</a></span>)
              <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102295">rhs</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.Code</span><a href="CodeFactory.scala.html#29524">Code</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply</span><a href="CodeFactory.scala.html#30388">fn</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102254">uresGet</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102294">accSym</a></span>))

              <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree,ParallelMatching.this.global.Symbol)(ParallelMatching.this.global.analyzer.global.Tree, ParallelMatching.this.global.Symbol)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102293">vchild</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102295">rhs</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102293">vchild</a></span>)
            })
          <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(ParallelMatching.this.global.analyzer.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a href="#102103">mkTransition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102255">vdefHead</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#102323" id="21335">::</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102259">vdefs</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102260">vsyms</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102257">nrows</a></span>)
      }
    } <span class="comment">/* def getTransition(...) */</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a id="101509">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102326">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102327">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span id="23548"><a href="#102337" id="1259">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102337"><span id="102330"><a href="#102329" id="23534">uacall</a></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="102338"><span id="102331"><a href="#102329" id="23536">vdefs</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102339"><span id="102332"><a href="#102329" id="23538">srep</a></span></span></span>, <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span id="102340"><span id="102333"><a href="#102329" id="23540">frep</a></span></span></span>) = <span class="typed"><span class="type">MixUnapply.this.type</span><a href="#29581" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree], ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a href="#101508">getTransition</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102334">succ</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102332">srep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102335">fail</a></span> = <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a href="#102333">frep</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Rep) =&gt; ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a id="25413">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102347">_</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>) <span class="typed"><span class="type">(=&gt; ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="25411">getOrElse</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102327">failTree</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102336">cond</a></span> = 
        <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102330">uacall</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29700">isBoolean</a></span>) <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102330">uacall</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>))
        <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29530">nonEmptinessCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102330">uacall</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)

      <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>( <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101483">rep</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#52713" id="21757">handleOuter</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102330">uacall</a></span>)), <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102336">cond</a></span>,<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102331">vdefs</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102334">succ</a></span>),<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102335">fail</a></span>)) )
    }
  }

  <span class="comment">/** handle sequence pattern and ArrayValue (but not star patterns)
   */</span>
  <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="typed"><span class="type">class MixSequence extends ParallelMatching.this.RuleApplication with ScalaObject</span><a id="29582">MixSequence</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101405"><span id="101404"><a id="101435">pats</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101407"><span id="101406"><a id="101436">rest</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101408"><a id="101437">rep</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101437">rep</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, List[ParallelMatching.this.Pattern])</span><span id="23625"><a href="#102371" id="1379">Patterns</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="102371"><span id="101412"><span id="23614"><a href="#101410" id="101411">scrut</a></span></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="102372"><span id="101414"><span id="23616"><a href="#101410" id="101413">patterns</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>
        
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a id="101415">removeStar</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102375">xs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree]): <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = 
      <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102375">xs</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a id="21349">init</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102376" id="21339">:::</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29409">makeBind</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Set[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29430">strip1</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102375">xs</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a id="21350">last</a></span>).<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="21815">toList</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29528">mk_</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101099">sequenceType</a></span>)) <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#102377" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
    
    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a id="101416">getSubPatterns</a></span>(<span class="typed"><span class="type">Int</span><a id="102382">len</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102383">x</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>):<span class="typed"><span class="type">Option[List[ParallelMatching.this.global.Tree]]</span><a id="934">Option</a></span>[List[Tree]] = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102383">x</a></span> <span class="typed"><span class="type">Option[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102384">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102385">xs</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102384">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102385">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#102382">len</a></span>)   =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102385">xs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102389" id="21339">:::</a></span> <span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree*)List[object ParallelMatching.this.global.EmptyTree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>))
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102393">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102394">xs</a></span>) <span class="keyword">if</span> ( <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102393">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102394">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#102382">len</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#101415">removeStar</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102394">xs</a></span>)) <span class="comment">// (*) </span>
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> | <a id="1">Ident</a>(<span class="typed"><span class="type">object ParallelMatching.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>)                                       =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">Int</span><a href="#102382">len</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>))
      <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> _                                                                     =&gt; <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
    }

    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="101417">makeSuccRep</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102420">vs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102421">tail</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102422">nrows</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102423">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
      <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101408">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102420">vs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#102426" id="21339">:::</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102421">tail</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)List[ParallelMatching.this.global.Symbol]</span><a href="#102427" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101406">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102422">nrows</a></span>)
        
    <span class="comment">/** True if x must be checked even if y failed to match after passing its length test
      * (the conditional supplied by getCond)
      */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)Boolean</span><a id="101418">mustCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102433">x</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102434">y</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
      <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102433">x</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102433">x</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102434">y</a></span>) <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102437">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102438">xs</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102439">bv</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102440">ys</a></span>)) =&gt; 
          <span class="comment">// if they are both right-ignoring, x must be more general if it has fewer literals - bug #889</span>
          <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102437">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102439">bv</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102438">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102440">ys</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>) <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="comment">// otherwise, x is more general only if it is y plus a star      </span>
          <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102437">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102439">bv</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102438">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102440">ys</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>                   <span class="comment">// see (*) </span>
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; 
          <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      })
    <span class="comment">// context (to be used in IF), success and failure Rep </span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.Rep)</span><a id="101419">getTransition</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102445">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.Rep)</span><a id="448">(</a></span>Tree =&gt; Tree =&gt; Tree, Rep, Rep) = { 
      <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Type)Unit</span><a href="#101104">assertIsSubtype</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a id="102446">treeAsSeq</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>                <span class="comment">// scrut.tpe &lt;:&lt; column.head.tpe confirmed by assertion</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue, List[ParallelMatching.this.global.Tree])</span><span id="23625"><span id="23614"><span id="102463"><span id="1379"><a id="102448">av</a></span></span></span></span></span> @ <a id="1">ArrayValue</a>(_, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="102464"><span id="102449"><a href="#102447" id="23616">xs</a></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102450">ys</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102448">av</a></span>)) <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102449">xs</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a id="21349">init</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102449">xs</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102451">vs</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102450">ys</a></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Symbol)List[ParallelMatching.this.global.Symbol]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102469">y</a></span> =&gt; <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29596">newVar</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29431">strip2</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102469">y</a></span>).<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101101">elementType</a></span>))
      
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102453">tail</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29596">newVar</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#101096">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101099">sequenceType</a></span>)
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102455">lastBinding</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102450">ys</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21644">size</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29531">seqDrop</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#102446">treeAsSeq</a></span>.<span class="typed"><span class="type">=&gt; treeAsSeq.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102450">ys</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21644">size</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a id="102456">bindings</a></span> = 
        (<span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Symbol, Int)) =&gt; ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="21362"><a href="#102486" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="102487"><a id="102493">v</a></span></span>, <span class="typed"><span class="type">Int</span><span id="102488"><a id="102494">i</a></span></span>) &lt;- <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102451">vs</a></span>.<span class="typed"><span class="type">=&gt; List[(ParallelMatching.this.global.Symbol, Int)]</span><a id="21388">zipWithIndex</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102493">v</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29532">seqElement</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#102446">treeAsSeq</a></span>.<span class="typed"><span class="type">=&gt; treeAsSeq.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">Int</span><a href="#102494">i</a></span>))) <span class="typed"><span class="type">(List[ParallelMatching.this.global.analyzer.global.Tree])List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#102483" id="21339">:::</a></span>
        <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree*)List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#102452">tail</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#102454">lastBinding</a></span>))
              
      <span class="keyword">val</span> <span class="typed"><span class="type">(List[Option[ParallelMatching.this.Row]], List[Option[ParallelMatching.this.Row]])</span><span id="23625"><a href="#102614" id="1379">(</a></span></span><span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><span id="102614"><span id="102458"><a href="#102457" id="23614">nrows</a></span></span></span>, <span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><span id="102615"><span id="102459"><a href="#102457" id="23616">frows</a></span></span></span>) = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[(Option[ParallelMatching.this.Row], Option[ParallelMatching.this.Row])])(List[Option[ParallelMatching.this.Row]], List[Option[ParallelMatching.this.Row]])</span><a id="21423">unzip</a></span>(
        <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, ParallelMatching.this.Row)) =&gt; (Option[ParallelMatching.this.Row], Option[ParallelMatching.this.Row]))List[(Option[ParallelMatching.this.Row], Option[ParallelMatching.this.Row])]</span><span id="21362"><a href="#102514" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102515"><a id="102521">c</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><span id="102516"><a id="102522">row</a></span></span>) &lt;- <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.Row])List[(ParallelMatching.this.global.Tree, ParallelMatching.this.Row)]</span><a href="#101323">zip</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101406">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>)) <span class="keyword">yield</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a href="#101416">getSubPatterns</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102450">ys</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21644">size</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102521">c</a></span>) <span class="typed"><span class="type">(Option[ParallelMatching.this.Row], Option[ParallelMatching.this.Row])</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">(Some[ParallelMatching.this.Row], Option[ParallelMatching.this.Row])</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102523">ps</a></span>) =&gt; <span class="typed"><span class="type">(Some[ParallelMatching.this.Row],Option[ParallelMatching.this.Row])(Some[ParallelMatching.this.Row], Option[ParallelMatching.this.Row])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102522">row</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a href="#52949">insert</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102523">ps</a></span>)), <span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)Boolean</span><a href="#101418">mustCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102521">c</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102448">av</a></span>)) <span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102522">row</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Row</span><a href="#52948">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102521">c</a></span>)) <span class="keyword">else</span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span>)
          <span class="typed"><span class="type">(object None, Some[ParallelMatching.this.Row])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span>     =&gt; <span class="typed"><span class="type">(object None,Some[ParallelMatching.this.Row])(object None, Some[ParallelMatching.this.Row])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102522">row</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Row</span><a href="#52948">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102521">c</a></span>)))
        })

      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="102460">succRep</a></span> = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#101417">makeSuccRep</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102451">vs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#102452">tail</a></span>, <span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><a href="#102458">nrows</a></span>.<span class="typed"><span class="type">((Option[ParallelMatching.this.Row]) =&gt; Iterable[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><a id="102620">x</a></span> =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.Row])Iterable[ParallelMatching.this.Row]</span><span id="25402"><a href="#102620" id="935">x</a></span></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="102461">failRep</a></span> = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101408">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101090">mkList</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101406">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><a href="#102459">frows</a></span>.<span class="typed"><span class="type">((Option[ParallelMatching.this.Row]) =&gt; Iterable[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><a id="102629">x</a></span> =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.Row])Iterable[ParallelMatching.this.Row]</span><span id="25402"><a href="#102629" id="935">x</a></span></span>))
      
      <span class="comment">// fixed length</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102462">cond</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)ParallelMatching.this.global.analyzer.global.Tree</span><a href="#101420">getCond</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#102446">treeAsSeq</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102449">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.If,ParallelMatching.this.Rep,ParallelMatching.this.Rep)((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.If, ParallelMatching.this.Rep, ParallelMatching.this.Rep)</span><span id="23590"><a id="449">(</a></span></span>{<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102649">thenp</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =&gt; {<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102651">elsep</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =&gt; 
        <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102462">cond</a></span>, <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#102456">bindings</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102649">thenp</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102651">elsep</a></span>)}}, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102460">succRep</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102461">failRep</a></span>)
    }

    <span class="comment">// lengthArg is exact length</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)ParallelMatching.this.global.analyzer.global.Tree</span><a id="101420">getCond</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102634">tree</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">Int</span><a id="102635">lengthArg</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Type,Int)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29533">seqHasLength</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102634">tree</a></span>.<span class="typed"><span class="type">=&gt; tree.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>, <span class="typed"><span class="type">Int</span><a href="#102635">lengthArg</a></span>)

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101421">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102652">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102653">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.Rep)</span><span id="23590"><a href="#102661" id="449">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><span id="102661"><span id="102656"><a href="#102655" id="23578">cx</a></span></span></span>,<span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102662"><span id="102657"><a href="#102655" id="23580">srep</a></span></span></span>,<span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102663"><span id="102658"><a href="#102655" id="23582">frep</a></span></span></span>) = <span class="typed"><span class="type">MixSequence.this.type</span><a href="#29582" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)((ParallelMatching.this.global.Tree) =&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.Rep)</span><a href="#101419">getTransition</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102659">succ</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102657">srep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102660">fail</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102658">frep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>
      <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#102656" id="21757">cx</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102659">succ</a></span>)(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102660">fail</a></span>)
    }    
  }

  <span class="comment">/** handle sequence pattern and ArrayValue with star patterns
   */</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <span class="typed"><span class="type">class MixSequenceStar extends ParallelMatching.this.MixSequence with ScalaObject</span><a id="29583">MixSequenceStar</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101425"><a id="101432">pats</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101426"><a id="101433">rest</a></span></span>:<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101427"><a id="101434">rep</a></span></span>:<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.MixSequence</span><a href="#29582">MixSequence</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#101432">pats</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#101433">rest</a></span>) {    
    <span class="comment">// in principle, we could optimize more, but variable binding gets complicated (@todo use finite state methods instead)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.global.Tree)Option[List[ParallelMatching.this.global.Tree]]</span><a id="101429">getSubPatterns</a></span>(<span class="typed"><span class="type">Int</span><a id="102672">minlen</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102673">x</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102673">x</a></span> <span class="typed"><span class="type">Option[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.gen.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102675">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102676">xs</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102675">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102676">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>   <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#102672">minlen</a></span>) =&gt;  <span class="comment">// Seq(p1,...,pN)</span>
        <span class="typed"><span class="type">(List[ParallelMatching.this.global.gen.global.Tree])Some[List[ParallelMatching.this.global.gen.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102676">xs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.gen.global.Tree])List[ParallelMatching.this.global.gen.global.Tree]</span><a href="#102680" id="21339">:::</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27619">mkNil</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Tree)List[ParallelMatching.this.global.gen.global.Tree]</span><a href="#102681" id="21335">::</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> <span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree)List[object ParallelMatching.this.global.EmptyTree]</span><a href="#102683" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102690">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102691">xs</a></span>) <span class="keyword">if</span> ( <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102690">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102691">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#102672">minlen</a></span>) =&gt;  <span class="comment">// Seq(p1,...,pN,_*)</span>
        <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(                                   <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#101415">removeStar</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102691">xs</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102696" id="21339">:::</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> <span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree)List[object ParallelMatching.this.global.EmptyTree]</span><a href="#102697" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a id="102702">av</a></span> @ <a id="1">ArrayValue</a>(_,<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="102703">xs</a></span>) <span class="keyword">if</span> ( <span class="typed"><span class="type">(ParallelMatching.this.global.ArrayValue)Boolean</span><a href="TransMatcher.scala.html#29513">isRightIgnoring</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="#102702">av</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#102703">xs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>  <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#102672">minlen</a></span>) =&gt;  <span class="comment">// Seq(p1..,pJ,_*)   J &lt; N</span>
        <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(                                  <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">Int</span><a href="#102672">minlen</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#102707" id="21339">:::</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102673">x</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#102727" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
      <span class="typed"><span class="type">Some[List[ParallelMatching.this.global.Tree]]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> | <a id="1">Ident</a>(<span class="typed"><span class="type">object ParallelMatching.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>)      =&gt; 
        <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="29737"><a id="308">Some</a></span></span>(                                  <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">Int</span><a href="#102672">minlen</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>          <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>))
      <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> _                                    =&gt; 
        <span class="typed"><span class="type">object None</span><a id="536">None</a></span>

    }

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="101430">makeSuccRep</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102753">vs</a></span>:<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102754">tail</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102755">nrows</a></span>:<span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102756">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
      <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101427">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101411">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101091">mkList</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102753">vs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#102770" id="21339">:::</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol*)List[ParallelMatching.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102754">tail</a></span>), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101406">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102755">nrows</a></span>)

    <span class="comment">// lengthArg is minimal length</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)ParallelMatching.this.global.Tree</span><a id="101431">getCond</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102774">tree</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">Int</span><a id="102775">lengthArg</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Type,Int)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29534">seqLongerThan</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102774">tree</a></span>.<span class="typed"><span class="type">=&gt; tree.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101404">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>, <span class="typed"><span class="type">Int</span><a href="#102775">lengthArg</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
  }

  
  <span class="comment">// @todo: equals test for same constant</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class MixEquals extends ParallelMatching.this.RuleApplication with ScalaObject</span><a id="29584">MixEquals</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101383"><span id="101382"><a id="101397">pats</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101385"><span id="101384"><a id="101398">rest</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101386"><a id="101399">rep</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101399">rep</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, List[ParallelMatching.this.Pattern])</span><span id="23625"><a href="#102806" id="1379">Patterns</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="102806"><span id="101390"><span id="23614"><a href="#101388" id="101389">scrut</a></span></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="102807"><span id="101392"><span id="23616"><a href="#101388" id="101391">patterns</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101382">pats</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><span id="101394"><a id="101393">head</a></span></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101382">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101307">head</a></span>
    
    <span class="comment">/** condition (to be used in IF), success and failure Rep */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.global.Symbol, ParallelMatching.this.Rep)</span><a id="101395">getTransition</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102810">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">(ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.global.Symbol, ParallelMatching.this.Rep)</span><a id="1258">(</a></span>Tree, Rep, Symbol, Rep) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><a id="102811">vlue</a></span> = (<span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101393">head</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101195">tpe</a></span>: @<span class="typed"><span class="type">ParallelMatching.this.global.Type @unchecked</span><a href="../symtab/Types.scala.html#21944">unchecked</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(_,_,<span class="typed"><span class="type">(List[ParallelMatching.this.global.Type])Some[List[ParallelMatching.this.global.Type]]</span><span id="21410"><a href="#102819" id="527">List</a></span></span>(<a id="1">SingleType</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="102822">pre</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102823">sym</a></span>))) =&gt; <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Type,ParallelMatching.this.global.gen.global.Symbol)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27603">mkAttributedRef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#102822">pre</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102823">sym</a></span>)
        <span class="typed"><span class="type">o.type</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(_,_,<span class="typed"><span class="type">(List[ParallelMatching.this.global.Type])Some[List[ParallelMatching.this.global.Type]]</span><span id="21410"><a href="#102831" id="527">List</a></span></span>(<a id="1">PseudoType</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102834">o</a></span>)))       =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102834">o</a></span>.<span class="typed"><span class="type">=&gt; o.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>
      }
      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><a href="#102811">vlue</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.gen.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;value tpe is null&quot;)</span><span class="string">&quot;value tpe is null&quot;</span></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="102812">vs</a></span>        = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Pattern</span><a href="#101393">head</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a href="#101212">strip1</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="21815">toList</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="102813">nsuccFst</a></span>  = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101384">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Row</span><a id="21332">head</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Row</span><a href="#52952">insert2</a></span>(<span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree*)List[object ParallelMatching.this.global.EmptyTree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#102812">vs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101389">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a id="102814">fLabel</a></span>    = <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102810">theOwner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Name)ParallelMatching.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25103">newLabel</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101389">scrut</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#101096">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)ParallelMatching.this.global.Name</span><a href="../symtab/Names.scala.html#21102">newName</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101389">scrut</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#101096">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;failCont%&quot;)</span><span class="string">&quot;failCont%&quot;</span></span>)) <span class="comment">// warning, untyped</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="102815">sx</a></span>        = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101386">rep</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Int</span><a href="#52734">shortCut</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#102814">fLabel</a></span>) <span class="comment">// register shortcut</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="102816">nsuccRow</a></span>  = <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#102813">nsuccFst</a></span> <span class="typed"><span class="type">(ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a href="#102856" id="21335">::</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>( <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="comment">/* scrutinee */</span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101384">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29445">NoBinding</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#29570">NoGuard</a></span>, <span class="typed"><span class="type">Int</span><a href="#102815">sx</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a href="#102857" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>

      <span class="comment">// todo: optimize if no guard, and no further tests</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="102817">nsucc</a></span> = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101386">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101389">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101090">mkList</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101384">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#102816">nsuccRow</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="102818">nfail</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.Patterns,ParallelMatching.this.Rep)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#101376">repWithoutHead</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101382">pats</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101384">rest</a></span>)
      
      <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree,ParallelMatching.this.Rep,ParallelMatching.this.global.TermSymbol,ParallelMatching.this.Rep)(ParallelMatching.this.global.analyzer.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.global.TermSymbol, ParallelMatching.this.Rep)</span><span id="23548"><a id="1259">(</a></span></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29535">Equals</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101389">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><a href="#102811">vlue</a></span>)), <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102817">nsucc</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#102814">fLabel</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102818">nfail</a></span>) 
    }

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a id="101396">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102887">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102888">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.global.Symbol, ParallelMatching.this.Rep)</span><span id="23548"><a href="#102898" id="1259">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102898"><span id="102891"><a href="#102890" id="23534">cond</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102899"><span id="102892"><a href="#102890" id="23536">srep</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="102900"><span id="102893"><a href="#102890" id="23538">fLabel</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="102901"><span id="102894"><a href="#102890" id="23540">frep</a></span></span></span>) = <span class="typed"><span class="type">MixEquals.this.type</span><a href="#29584" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.global.Tree, ParallelMatching.this.Rep, ParallelMatching.this.global.Symbol, ParallelMatching.this.Rep)</span><a href="#101395">getTransition</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102895">cond2</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>( <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101386">rep</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#52713" id="21757">handleOuter</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102891">cond</a></span>) )
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="102896">fail</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>( <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102894">frep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102893">fLabel</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)fLabel.type</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Type],ParallelMatching.this.global.Type)ParallelMatching.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102896">fail</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)

      <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>( <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102895">cond2</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#102892">srep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.LabelDef</span><a href="../ast/Trees.scala.html#22420">LabelDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102893">fLabel</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#102896">fail</a></span>)) )
    }
  }

  <span class="comment">/** mixture rule for type tests
  **/</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class MixTypes extends ParallelMatching.this.RuleApplication with ScalaObject</span><a id="29585">MixTypes</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><span id="101517"><span id="101516"><a id="101541">pats</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Patterns</span><a href="#29564">Patterns</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="101519"><span id="101518"><a id="101542">rest</a></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><span id="101520"><a id="101543">rep</a></span></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101543">rep</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, List[ParallelMatching.this.Pattern])</span><span id="23625"><a href="#102914" id="1379">Patterns</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="102914"><span id="101524"><span id="23614"><a href="#101522" id="101523">scrut</a></span></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Pattern]</span><span id="102915"><span id="101526"><span id="23616"><a href="#101522" id="101525">patterns</a></span></span></span></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>
  
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="101527">subpatterns</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102968">p</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102968">p</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">Bind</a>(_, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103032">p</a></span>)                                                 =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101527">subpatterns</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103032">p</a></span>)
      <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a id="103033">app</a></span> @ <a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103034">fn</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103035">ps</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a href="#103033">app</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29703">isCaseClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103034">fn</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25364">isType</a></span>    =&gt; <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101315">isCaseHead</a></span>) <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103035">ps</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101317">dummies</a></span>
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103041">fn</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103042">xs</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103042">xs</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103041">fn</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25364">isType</a></span>                  =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;strange Apply&quot;)</span><span class="string">&quot;strange Apply&quot;</span></span>)
      <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> _                                                          =&gt; <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101317">dummies</a></span>
    }

    <span class="comment">// moreSpecific: more specific patterns</span>
    <span class="comment">//     subsumed: more general patterns (subsuming current), row index and subpatterns</span>
    <span class="comment">//    remaining: remaining, row index and pattern</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">[T](List[Option[T]])List[T]</span><a id="101528">join</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="101530">T</a></span>](<span class="typed"><span class="type">List[Option[T]]</span><a id="103021">xs</a></span>: <span class="typed"><span class="type">List[Option[T]]</span><a id="526">List</a></span>[Option[T]]): <span class="typed"><span class="type">List[T]</span><a id="526">List</a></span>[T] = <span class="typed"><span class="type">List[Option[T]]</span><a href="#103021">xs</a></span>.<span class="typed"><span class="type">((Option[T]) =&gt; Iterable[T])List[T]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">Option[T]</span><a id="103045">x</a></span> =&gt; <span class="typed"><span class="type">(Option[T])Iterable[T]</span><span id="25402"><a href="#103045" id="935">x</a></span></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree], List[(Int, List[ParallelMatching.this.global.Tree])], List[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a href="#103025" id="449">(</a></span></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="103025"><span id="101533"><span id="23578"><a href="#101531" id="101532">moreSpecific</a></span></span></span></span>, <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Tree])]</span><span id="103026"><span id="101535"><span id="23580"><a href="#101531" id="101534">subsumed</a></span></span></span></span>, <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Tree)]</span><span id="103027"><span id="101537"><span id="23582"><a href="#101531" id="101536">remaining</a></span></span></span></span>) : <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree], List[(Int, List[ParallelMatching.this.global.Tree])], List[(Int, ParallelMatching.this.global.Tree)])</span><a id="448">(</a></span>List[Tree], List[(Int, List[Tree])], List[(Int, Tree)]) = <span class="typed"><span class="type">(List[(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])])(List[Option[ParallelMatching.this.global.Tree]], List[Option[(Int, List[ParallelMatching.this.global.Tree])]], List[Option[(Int, ParallelMatching.this.global.Tree)]])</span><a href="MatchUtil.scala.html#52054">unzip3</a></span>(
      <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, Int)) =&gt; (Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)]))List[(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])]</span><span id="21362"><a href="#102924" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102925"><a id="102933">pat</a></span></span> @ <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#31488">Strip2</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="102927"><a id="102935">spat</a></span></span>), <span class="typed"><span class="type">Int</span><span id="102928"><a id="102936">j</a></span></span>) &lt;- <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">()List[(ParallelMatching.this.global.Tree, Int)]</span><a href="#101322">zip</a></span>) <span class="keyword">yield</span> {
        <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a id="102937">eqHead</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="102953">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#102953">tpe</a></span>
        <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="102938">alts</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102954">yes</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102955">no</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="#102937">eqHead</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)) <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102954">yes</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102955">no</a></span>

        <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="102940">isDef</a></span>                = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>)
        <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.TypeComparison</span><a id="102942">cmp</a></span>: <span class="typed"><span class="type">ParallelMatching.this.TypeComparison</span><a href="PatternNodes.scala.html#29402">TypeComparison</a></span>  = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102935">spat</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.TypeComparison</span><a href="PatternNodes.scala.html#29704">cmp</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span>)  <span class="comment">// contains type info about pattern's type vs. head pattern</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">(Int, List[ParallelMatching.this.global.Tree])</span><a id="102944">dummy</a></span>                = <span class="typed"><span class="type">(Int,List[ParallelMatching.this.global.Tree])(Int, List[ParallelMatching.this.global.Tree])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#102936">j</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101317">dummies</a></span>)
        <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">(Int, ParallelMatching.this.global.Tree)</span><a id="102946">pass</a></span>                 = <span class="typed"><span class="type">(Int,ParallelMatching.this.global.Tree)(Int, ParallelMatching.this.global.Tree)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#102936">j</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>)
        <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">(Int, List[ParallelMatching.this.global.Tree])</span><a id="102948">subs</a></span>                 = <span class="typed"><span class="type">(Int,List[ParallelMatching.this.global.Tree])(Int, List[ParallelMatching.this.global.Tree])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#102936">j</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101527">subpatterns</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>))
        
        <span class="keyword">import</span> cmp._  <span class="comment">// imports xIsaY, etc.</span>
        
        <span class="comment">// each pattern will yield a triple of options corresponding to the three lists,</span>
        <span class="comment">// which will be flattened down to the values</span>
        <span class="keyword">implicit</span> <span class="keyword">def</span> <span class="typed"><span class="type">[T](T)Option[T]</span><a id="102950">mkOpt</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="102952">T</a></span>](<span class="typed"><span class="type">T</span><a id="102959">x</a></span>: <span class="typed"><span class="type">T</span><a href="#102952">T</a></span>): <span class="typed"><span class="type">Option[T]</span><a id="934">Option</a></span>[T] = <span class="typed"><span class="type">(T)Some[T]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">T</span><a href="#102959">x</a></span>)    <span class="comment">// limits noise from Some(value)</span>
        (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102935">spat</a></span> <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(Any)Option[Any]</span><a href="CodeFactory.scala.html#101935">Const</a></span>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="#102937">eqHead</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102935">spat</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)           =&gt; <span class="typed"><span class="type">(object None,object None,Option[(Int, ParallelMatching.this.global.Tree)])(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Tree))Option[(Int, ParallelMatching.this.global.Tree)]</span><a href="#102950">pass</a></span>)           <span class="comment">// special case for constant null</span>
          <span class="typed"><span class="type">(Option[object ParallelMatching.this.global.EmptyTree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="#101327">isObjectTest</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>)                =&gt; <span class="typed"><span class="type">(Option[object ParallelMatching.this.global.EmptyTree],Option[(Int, List[ParallelMatching.this.global.Tree])],object None)(Option[object ParallelMatching.this.global.EmptyTree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree)Option[object ParallelMatching.this.global.EmptyTree]</span><a href="#102950">EmptyTree</a></span>, <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Tree]))Option[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#102950">dummy</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>)     <span class="comment">// matching an object</span>
          <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span class="keyword">case</span></span> <a id="1">Typed</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102981">p</a></span> @ <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#31488">Strip2</a></span>(_: <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="../ast/Trees.scala.html#22454">UnApply</a></span>), _) <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29619">xIsaY</a></span>  =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree],Option[(Int, List[ParallelMatching.this.global.Tree])],object None)(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="#102950">p</a></span>, <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Tree]))Option[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#102950">dummy</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>)             <span class="comment">// &lt;:&lt; is never &lt;equals&gt;</span>
          <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Typed</span><a id="102988">q</a></span> @ <a id="1">Typed</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="102989">pp</a></span>, _) <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29619">xIsaY</a></span>                  =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree],Option[(Int, List[ParallelMatching.this.global.Tree])],object None)(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="#102950">alts</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102989">pp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Typed</span><a href="#102988">q</a></span>), <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Tree]))Option[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#102950">dummy</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>)   <span class="comment">// never =:= for &lt;equals&gt;</span>
          <span class="typed"><span class="type">(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a id="102995">z</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="../ast/Trees.scala.html#22454">UnApply</a></span>                                 =&gt; <span class="typed"><span class="type">(object None,object None,Option[(Int, ParallelMatching.this.global.Tree)])(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Tree))Option[(Int, ParallelMatching.this.global.Tree)]</span><a href="#102950">pass</a></span>)            
          <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">object cmp.erased</span><a href="PatternNodes.scala.html#29632">erased</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29679">xIsaY</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29619">xIsaY</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#102939">isDef</a></span>       =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree],Option[(Int, List[ParallelMatching.this.global.Tree])],object None)(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], object None)</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="#102950">alts</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#102933">pat</a></span>), <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Tree]))Option[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#102950">subs</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>) <span class="comment">// never =:= for &lt;equals&gt;          </span>
          <span class="typed"><span class="type">(Option[object ParallelMatching.this.global.EmptyTree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">object cmp.erased</span><a href="PatternNodes.scala.html#29632">erased</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29680">yIsaX</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29620">yIsaX</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="#102939">isDef</a></span>        =&gt; <span class="typed"><span class="type">(Option[object ParallelMatching.this.global.EmptyTree],Option[(Int, List[ParallelMatching.this.global.Tree])],Option[(Int, ParallelMatching.this.global.Tree)])(Option[object ParallelMatching.this.global.EmptyTree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(object ParallelMatching.this.global.EmptyTree)Option[object ParallelMatching.this.global.EmptyTree]</span><a href="#102950">EmptyTree</a></span>, <span class="typed"><span class="type">((Int, List[ParallelMatching.this.global.Tree]))Option[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#102950">dummy</a></span>, <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Tree))Option[(Int, ParallelMatching.this.global.Tree)]</span><a href="#102950">pass</a></span>)     <span class="comment">// subsuming (matched *and* remaining pattern)</span>
          <span class="typed"><span class="type">(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">case</span></span> _                                          =&gt; <span class="typed"><span class="type">(object None,object None,Option[(Int, ParallelMatching.this.global.Tree)])(object None, object None, Option[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">object None</span><a id="536">None</a></span>, <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Tree))Option[(Int, ParallelMatching.this.global.Tree)]</span><a href="#102950">pass</a></span>)
        }) : <span class="typed"><span class="type">(Option[ParallelMatching.this.global.Tree], Option[(Int, List[ParallelMatching.this.global.Tree])], Option[(Int, ParallelMatching.this.global.Tree)])</span><a id="448">(</a></span>Option[Tree], Option[(Int, List[Tree])], Option[(Int, Tree)])
      }
    ) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree], List[(Int, List[ParallelMatching.this.global.Tree])], List[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">match</span></span> { <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree], List[(Int, List[ParallelMatching.this.global.Tree])], List[(Int, ParallelMatching.this.global.Tree)])</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">List[Option[ParallelMatching.this.global.Tree]]</span><a id="103015">x</a></span>,<span class="typed"><span class="type">List[Option[(Int, List[ParallelMatching.this.global.Tree])]]</span><a id="103016">y</a></span>,<span class="typed"><span class="type">List[Option[(Int, ParallelMatching.this.global.Tree)]]</span><a id="103017">z</a></span>) =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[(Int, List[ParallelMatching.this.global.Tree])],List[(Int, ParallelMatching.this.global.Tree)])(List[ParallelMatching.this.global.Tree], List[(Int, List[ParallelMatching.this.global.Tree])], List[(Int, ParallelMatching.this.global.Tree)])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">(List[Option[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]</span><a href="#101528">join</a></span>(<span class="typed"><span class="type">List[Option[ParallelMatching.this.global.Tree]]</span><a href="#103015">x</a></span>), <span class="typed"><span class="type">(List[Option[(Int, List[ParallelMatching.this.global.Tree])]])List[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#101528">join</a></span>(<span class="typed"><span class="type">List[Option[(Int, List[ParallelMatching.this.global.Tree])]]</span><a href="#103016">y</a></span>), <span class="typed"><span class="type">(List[Option[(Int, ParallelMatching.this.global.Tree)]])List[(Int, ParallelMatching.this.global.Tree)]</span><a href="#101528">join</a></span>(<span class="typed"><span class="type">List[Option[(Int, ParallelMatching.this.global.Tree)]]</span><a href="#103017">z</a></span>)) }    

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()java.lang.String</span><a id="101538">toString</a></span> = {
      <span class="typed"><span class="type">java.lang.String(&quot;MixTypes(&quot;)</span><span class="string">&quot;MixTypes(&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;) {\012  moreSpecific:&quot;)</span><span class="string">&quot;) {\n  moreSpecific:&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101532">moreSpecific</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;\012  subsumed:&quot;)</span><span class="string">&quot;\n  subsumed:&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; List[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#101534">subsumed</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;\012  remaining&quot;)</span><span class="string">&quot;\n  remaining&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; List[(Int, ParallelMatching.this.global.Tree)]</span><a href="#101536">remaining</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;\012}&quot;)</span><span class="string">&quot;\n}&quot;</span></span>
    }
    
    <span class="comment">/** returns casted symbol, success matrix and optionally fail matrix for type test on the top of this column */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.Scrutinee, ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a id="101539">getTransition</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103051">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a id="448">(</a></span>Scrutinee, Rep, Option[Rep]) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a id="103052">casted</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Scrutinee</span><a href="#101105">casted</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101313">headType</a></span>)
      
      <span class="comment">// succeeding =&gt; transition to translate(subsumed) (taking into account more specific)</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="103053">nmatrix</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="103055">ms</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101532">moreSpecific</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103061">_</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103056">accessorTemps</a></span> = 
          <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101315">isCaseHead</a></span>) <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> 
          <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103052">casted</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#101093">accessors</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.Symbol)List[ParallelMatching.this.global.Symbol]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103066">meth</a></span> =&gt; <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29595">newVar</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#101096">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103052">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103066">meth</a></span>).<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25663">resultType</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">=&gt; List[Long]</span><a href="#101103">flags</a></span>))
        <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103057">subtestTemps</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#103055">ms</a></span>) <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol*)List[ParallelMatching.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103052">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Tree])]</span><a id="103058">subtests</a></span> =
          <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Tree])]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#103055">ms</a></span>) <span class="typed"><span class="type">=&gt; List[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#101534">subsumed</a></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#101532">moreSpecific</a></span>.<span class="typed"><span class="type">(List[(Int, List[ParallelMatching.this.global.Tree])])List[(ParallelMatching.this.global.Tree, (Int, List[ParallelMatching.this.global.Tree]))]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">=&gt; List[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#101534">subsumed</a></span>) <span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, (Int, List[ParallelMatching.this.global.Tree]))) =&gt; (Int, List[ParallelMatching.this.global.Tree]))List[(Int, List[ParallelMatching.this.global.Tree])]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(Int, List[ParallelMatching.this.global.Tree])</span><a href="#103074">{</a></span> <span class="typed"><span class="type">(Int, List[ParallelMatching.this.global.Tree])</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103075">mspat</a></span>, <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="103076">j</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103077">pats</a></span>)) =&gt; <span class="typed"><span class="type">(Int,List[ParallelMatching.this.global.Tree])(Int, List[ParallelMatching.this.global.Tree])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#103076">j</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103075">mspat</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103080" id="21335">::</a></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103077">pats</a></span>) }
        <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103059">ntriples</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">(((Int, List[ParallelMatching.this.global.Tree])) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><span id="21362"><a href="#103084" id="21367">(</a></span></span><span class="typed"><span class="type">Int</span><span id="103085"><a id="103091">j</a></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="103086"><a id="103092">ps</a></span></span>) &lt;- <span class="typed"><span class="type">List[(Int, List[ParallelMatching.this.global.Tree])]</span><a href="#103058">subtests</a></span>) <span class="keyword">yield</span> {
          <span class="keyword">val</span> <span class="typed"><span class="type">(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span id="23625"><a href="#103096" id="1379">(</a></span></span><span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><span id="103096"><span id="103094"><a href="#103093" id="23614">vs</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103097"><span id="103095"><a href="#103093" id="23616">thePat</a></span></span></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><a href="PatternNodes.scala.html#29429">strip</a></span>(<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#101321">pats</a></span>(<span class="typed"><span class="type">Int</span><a href="#103091">j</a></span>))
          <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101518">rest</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a href="#53024" id="21361">row</a></span>(<span class="typed"><span class="type">Int</span><a href="#103091">j</a></span>).<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Row</span><a href="#52952">insert2</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103092">ps</a></span>, <span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><a href="#103094">vs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103052">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
        }
        <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101520">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103057">subtestTemps</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#103104" id="21339">:::</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103056">accessorTemps</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#103105" id="21339">:::</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101518">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103059">ntriples</a></span>)
      }
      
      <span class="comment">// fails      =&gt; transition to translate(remaining)</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a id="103054">nmatrixFail</a></span>: <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a id="934">Option</a></span>[Rep] = {
        <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103110">ntemps</a></span>   = <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#101090">mkList</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101518">rest</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103111">ntriples</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">(((Int, ParallelMatching.this.global.Tree)) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><span id="21362"><a href="#103114" id="21367">(</a></span></span><span class="typed"><span class="type">Int</span><span id="103115"><a id="103121">j</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103116"><a id="103122">pat</a></span></span>) &lt;- <span class="typed"><span class="type">=&gt; List[(Int, ParallelMatching.this.global.Tree)]</span><a href="#101536">remaining</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#101518">rest</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.Row</span><a href="#53024" id="21361">row</a></span>(<span class="typed"><span class="type">Int</span><a href="#103121">j</a></span>).<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Row</span><a href="#52948">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103122">pat</a></span>)          
        <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103111">ntriples</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">object None</span><a id="536">None</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.Rep)Some[ParallelMatching.this.Rep]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#101520">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103110">ntemps</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103111">ntriples</a></span>))
      }
      
      <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee,ParallelMatching.this.Rep,Option[ParallelMatching.this.Rep])(ParallelMatching.this.Scrutinee, ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103052">casted</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#103053">nmatrix</a></span>, <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a href="#103054">nmatrixFail</a></span>)
    }

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="101540">tree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103132">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103133">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee, ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><span id="23590"><a href="#103144" id="449">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span id="103144"><span id="103135"><a href="#103134" id="23578">casted</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span id="103145"><span id="103136"><a href="#103134" id="23580">srep</a></span></span></span>, <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><span id="103146"><span id="103137"><a href="#103134" id="23582">frep</a></span></span></span>) = <span class="typed"><span class="type">MixTypes.this.type</span><a href="#29585" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol)(ParallelMatching.this.Scrutinee, ParallelMatching.this.Rep, Option[ParallelMatching.this.Rep])</span><a href="#101539">getTransition</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103138">cond</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.Scrutinee)(implicit ParallelMatching.this.global.analyzer.Typer,ParallelMatching.this.global.Symbol,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#29597">condition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103139">succ</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#103136">srep</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103140">fail</a></span> = <span class="typed"><span class="type">Option[ParallelMatching.this.Rep]</span><a href="#103137">frep</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Rep) =&gt; ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a id="25413">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#103161">_</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a href="#53027">toTree</a></span>) <span class="typed"><span class="type">(=&gt; ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="25411">getOrElse</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103133">failTree</a></span>
      
      <span class="comment">// dig out case field accessors that were buried in (***)</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103141">cfa</a></span>       = <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; ParallelMatching.this.Patterns</span><a href="#101516">pats</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101315">isCaseHead</a></span>) <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#101093">accessors</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103142">caseTemps</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#103136">srep</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">match</span></span> { <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103164">x</a></span> <a id="1">::</a> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103165">xs</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103164">x</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> =&gt; <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103165">xs</a></span> ; <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103167">x</a></span> =&gt; <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103167">x</a></span> }
            
      <span class="keyword">var</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a id="103143">vdefs</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol)) =&gt; ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="21362"><a href="#103171" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="103172"><a id="103178">tmp</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="103173"><a id="103179">accessorMethod</a></span></span>) &lt;- <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103142">caseTemps</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol)]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103141">cfa</a></span>)) <span class="keyword">yield</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a id="103180">untypedAccess</a></span> = <span class="typed"><span class="type">object ParallelMatching.this.Code</span><a href="CodeFactory.scala.html#29524">Code</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply</span><a href="CodeFactory.scala.html#30388">fn</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103179">accessorMethod</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a id="103181">typedAccess</a></span> = <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a href="#103180">untypedAccess</a></span>)
        <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103178">tmp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><a href="#103181">typedAccess</a></span>)
      }
      
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>)
        <span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#103143">vdefs</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.ValDef</span><a href="../ast/Trees.scala.html#22401">ValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="#101086">sym</a></span>, <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Tree,ParallelMatching.this.global.gen.global.Type)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27615">mkAsInstanceOf</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.Scrutinee</span><a href="#101523">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103135">casted</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>)) <span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#103184" id="21335">::</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#103143">vdefs</a></span>
      
      <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.analyzer.Typer</span><a href="#101375">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>( <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103138">cond</a></span>, <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#103143">vdefs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103139">succ</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103140">fail</a></span>) )
    }
  }

  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Row extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="103320"><span id="103302"><span id="3141"><span id="1259"><span id="103313"><span id="103310"><span id="29586"><span id="3509"><span id="103300"><span id="29737"><span id="29814"><span id="103299"><span id="3500"><span id="103321"><span id="29815"><span id="103319"><span id="103311"><span id="2750"><span id="29856"><span id="103312"><span id="308"><span id="52957"><span id="3501"><span id="23548"><span id="103303"><span id="29587"><span id="5794"><span id="52958"><span id="103318"><a id="103301">Row</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="52940"><span id="52939"><span id="103200"><a id="52959">pat</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><span id="52942"><span id="52941"><span id="103201"><a id="52960">subst</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Guard</span><span id="52944"><span id="52943"><span id="103202"><a id="52961">guard</a></span></span></span></span>: <span class="typed"><span class="type">ParallelMatching.this.Guard</span><a href="#29567">Guard</a></span>, <span class="typed"><span class="type">Int</span><span id="52946"><span id="52945"><span id="103203"><a id="52962">bx</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) {
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Row</span><a id="52948">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="101618">h</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>)                               = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#101618">h</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101620" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a id="52949">insert</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101613">hs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree])                        = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#101613">hs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#101615" id="21339">:::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)           <span class="comment">// prepends supplied tree</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a id="52950">replace</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103204">hs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree])                       = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103204">hs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)                   <span class="comment">// substitutes for patterns</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Bindings)ParallelMatching.this.Row</span><a id="52951">rebind</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="102044">b</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>)                           = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#102044">b</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)                      <span class="comment">// substitutes for bindings</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Row</span><a id="52952">insert2</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="101873">hs</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">Iterable[ParallelMatching.this.global.Symbol]</span><a id="101874">vs</a></span>: <span class="typed"><span class="type">Iterable[ParallelMatching.this.global.Symbol]</span><a id="403">Iterable</a></span>[Symbol], <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101875">temp</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =                               <span class="comment">// prepends and prepends</span>
      <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#101873">hs</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#101877" id="21339">:::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>.<span class="typed"><span class="type">(Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#31702">add</a></span>(<span class="typed"><span class="type">Iterable[ParallelMatching.this.global.Symbol]</span><a href="#101874">vs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#101875">temp</a></span>), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)
      
    <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.Pattern)ParallelMatching.this.Row</span><a id="52953">insert</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a id="101608">p</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#29561">Pattern</a></span>)                            = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Pattern</span><a href="#101608">p</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#101188">tree</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#101610" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)        <span class="comment">// transitioning to patterns</span>
    
    <span class="comment">/** returns true if the patterns in this row cover a type symbols &quot;combination&quot; and there is no guard
     *  @param comb pairs of (column index, type symbol)
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])Boolean</span><a id="52954">covers</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103206">comb</a></span>: <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="526">List</a></span>[(Int, Symbol)]) = {
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[Boolean]</span><a id="103209">results</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">((((Int, ParallelMatching.this.global.Symbol), ParallelMatching.this.global.Tree)) =&gt; Boolean)List[Boolean]</span><span id="23625"><span id="21362"><span id="21367"><span id="103218"><a href="#103211" id="1379">(</a></span></span></span></span></span><span class="typed"><span class="type">Int</span><span id="103212"><span id="103219"><a id="103231">i</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="103213"><span id="103220"><a id="103232">sym</a></span></span></span>) &lt;- <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103206">comb</a></span> ; <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103221"><a id="103233">p</a></span></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29431">strip2</a></span>(<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#52939" id="21361">pat</a></span>(<span class="typed"><span class="type">Int</span><a href="#103219">i</a></span>))) <span class="keyword">yield</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103233">p</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103233">p</a></span>)   =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
        <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="../ast/Trees.scala.html#22454">UnApply</a></span> | _: <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#22457">ArrayValue</a></span> =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> _                          =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103233">p</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Boolean</span><a href="PatternNodes.scala.html#29705">coversSym</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103232">sym</a></span>)
      }
      
      <span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52970">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; List[Boolean]</span><a href="#103208">results</a></span>.<span class="typed"><span class="type">((Boolean) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span>(<span class="typed"><span class="type">Boolean</span><a href="#103239">_</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">==</a></span> <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
    }    

    <span class="comment">// returns this row with alternatives expanded</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree, Int) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.Row]</span><a id="52955">expand</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree, Int) =&gt; ParallelMatching.this.global.Tree</span><a id="103241">classifyPat</a></span>: (Tree, Int) =&gt; Tree): <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row] = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a id="103242">isAlternative</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103256">p</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103256">p</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> { 
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Bind</a>(_,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103258">p</a></span>)       =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="#103242">isAlternative</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103258">p</a></span>)
        <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">Alternative</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103259">ps</a></span>) =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span> 
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _               =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      }
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="103243">getAlternativeBranches</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103260">p</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
        <span class="keyword">def</span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="103261">get_BIND</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a id="103262">pctx</a></span>:Tree =&gt; Tree, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103263">p</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103263">p</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">match</span></span> { 
          <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a id="103264">b</a></span> @ <a id="1">Bind</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a id="103266">n</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103267">p</a></span>)   =&gt; <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103261">get_BIND</a></span>((<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103269">x</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#103262" id="21757">pctx</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.LazyTreeCopier</span><a href="../ast/Trees.scala.html#22362">copy</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Name,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Bind</span><a href="../ast/Trees.scala.html#43618">Bind</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Bind</span><a href="#103264">b</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a href="#103266">n</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103269">x</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Bind</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103269">x</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103267">p</a></span>)
          <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">Alternative</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103272">ps</a></span>) =&gt; <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103272">ps</a></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a href="#103262">pctx</a></span>
        }
        <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103261">get_BIND</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103275">x</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103275">x</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103260">p</a></span>)
      }
      
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="103244">indexOfAlternative</a></span>            = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span> <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; Boolean)Int</span><a id="21658">findIndexOf</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="#103242">isAlternative</a></span>      
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103245">pats</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree]              = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],List[Int])((ParallelMatching.this.global.Tree, Int) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="21449">map2</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>, <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span>.<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21346">indices</a></span>)(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree, Int) =&gt; ParallelMatching.this.global.Tree</span><a href="#103241">classifyPat</a></span>)
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree], ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])</span><span id="23590"><a href="#103281" id="449">(</a></span></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="103281"><span id="103249"><a href="#103246" id="23578">prefix</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103282"><span id="103251"><a href="#103246" id="23580">alts</a></span></span></span> <a id="1">::</a> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="103283"><span id="103253"><a href="#103246" id="23582">suffix</a></span></span></span>) = <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103245">pats</a></span>.<span class="typed"><span class="type">(Int)(List[ParallelMatching.this.global.Tree], List[ParallelMatching.this.global.Tree])</span><a id="21356">splitAt</a></span>(<span class="typed"><span class="type">Int</span><a href="#103244">indexOfAlternative</a></span>)
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103255">alternativeBranches</a></span>      = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103243">getAlternativeBranches</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#103250">alts</a></span>) <span class="typed"><span class="type">((ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21362">map</a></span> { <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103290">p</a></span> =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a href="#52950">replace</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#103248">prefix</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]</span><a href="#103291" id="21339">:::</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103290">p</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103292" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#103252">suffix</a></span>) }

      <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103244">indexOfAlternative</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">(ParallelMatching.this.Row*)List[ParallelMatching.this.Row]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a href="#52950">replace</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103245">pats</a></span>)) <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#103254">alternativeBranches</a></span>
    }
  }

  <span class="keyword">class</span> <span class="typed"><span class="type">class RepFactory extends java.lang.Object with ScalaObject</span><a id="29589">RepFactory</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><span id="52714"><span id="52713"><a id="52743">handleOuter</a></span></span></span>: Tree =&gt; Tree)(<span class="keyword">implicit</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><span id="52716"><span id="52715"><a id="52744">typer</a></span></span></span> : <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="../typechecker/Typers.scala.html#28453">Typer</a></span>) {
    <span class="keyword">var</span> <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><span id="52720"><span id="52718"><span id="52719"><a id="103326">vss</a></span></span></span></span>: <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><a id="526">List</a></span>[List[Symbol]] = _
    <span class="keyword">var</span> <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><span id="52723"><span id="52721"><span id="52722"><a id="103327">labels</a></span></span></span></span>: <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><a id="1072">Array</a></span>[Symbol] = <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><a id="1072">Array</a></span>[Symbol](<span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="52726"><span id="52724"><span id="52725"><a id="103328">targets</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree] = _
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><span id="52729"><span id="52727"><span id="52728"><a id="103329">reached</a></span></span></span></span>: <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><a id="19946">BitSet</a></span> = _ 
    <span class="keyword">var</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span id="52732"><span id="52730"><span id="52731"><a id="103330">shortCuts</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol] = <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row],List[ParallelMatching.this.global.Tree],List[List[ParallelMatching.this.global.Symbol]])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="52733">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="52993">temp</a></span>:<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="52994">row</a></span>:<span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row], <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="52995">targets</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><a id="52996">vss</a></span>:<span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><a id="526">List</a></span>[List[Symbol]])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52997">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span> = {
      <span class="comment">// ensured that labels(i) eq null for all i, cleanup() has to be called after translation</span>
      <span class="typed"><span class="type">RepFactory.this.type</span><a href="#29589" class="keyword">this</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Unit</span><a href="#52725">targets</a></span>      = <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52995">targets</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52995">targets</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">=&gt; Array[ParallelMatching.this.global.Symbol]</span><a href="#52721">labels</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) 
        <span class="typed"><span class="type">RepFactory.this.type</span><a href="#29589" class="keyword">this</a></span>.<span class="typed"><span class="type">(Array[ParallelMatching.this.global.Symbol])Unit</span><a href="#52722">labels</a></span>     = <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[ParallelMatching.this.global.Symbol]</span><a id="1072">Array</a></span>[Symbol](<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52995">targets</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="typed"><span class="type">RepFactory.this.type</span><a href="#29589" class="keyword">this</a></span>.<span class="typed"><span class="type">(List[List[ParallelMatching.this.global.Symbol]])Unit</span><a href="#52719">vss</a></span>          = <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><a href="#52996">vss</a></span>
      <span class="typed"><span class="type">RepFactory.this.type</span><a href="#29589" class="keyword">this</a></span>.<span class="typed"><span class="type">(scala.collection.mutable.BitSet)Unit</span><a href="#52728">reached</a></span>      = <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.BitSet</span><a id="19946">BitSet</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52995">targets</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52993">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#52994">row</a></span>)
    }

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Int</span><a id="52734">shortCut</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="102855">theLabel</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
      <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])Unit</span><a href="#52731">shortCuts</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#52730">shortCuts</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.Symbol]</span><a href="#103337" id="21339">:::</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol*)List[ParallelMatching.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#102855">theLabel</a></span>)
      -<span class="typed"><span class="type">=&gt; Int</span><a href="#52730" id="3097">shortCuts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>
    }

    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a id="52735">cleanup</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="53060">tree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="53061">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = { 
      <span class="keyword">object</span> <span class="typed"><span class="type">object lxtt</span><a id="103342">lxtt</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">ParallelMatching.this.global.Transformer</span><a href="../ast/Trees.scala.html#22548">Transformer</a></span> {
        <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="103346">transform</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103348">tree</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103348">tree</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Block</span><a id="103349">blck</a></span> @ <a id="1">Block</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103350">vdefs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a id="103351">ld</a></span> @ <a id="1">LabelDef</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a id="103353">name</a></span>,<span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a id="103354">params</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103355">body</a></span>)) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="103356">bx</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Int</span><a href="#52740">labelIndex</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a href="#103351">ld</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>)
            <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103356">bx</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(Int)Boolean</span><a href="#52739">isReachedTwice</a></span>(<span class="typed"><span class="type">Int</span><a href="#103356">bx</a></span>)) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103350">vdefs</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103355">body</a></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.global.Block</span><a href="#103349">blck</a></span>

          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">If</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103366">cond</a></span>, <span class="typed"><span class="type">(Any)Option[Any]</span><a href="CodeFactory.scala.html#101935">Const</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>), <span class="typed"><span class="type">(Any)Option[Any]</span><a href="CodeFactory.scala.html#101935">Const</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)) =&gt; 
            <span class="keyword">super</span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103366">cond</a></span>)
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">If</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103370">cond1</a></span>, <a id="1">If</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103371">cond2</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103372">thenp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103373">elsep1</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103374">elsep2</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103373">elsep1</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="../ast/Trees.scala.html#25375">equalsStructure</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103374">elsep2</a></span>) =&gt; 
            <span class="keyword">super</span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29538">And</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103370">cond1</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103371">cond2</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103372">thenp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103373">elsep1</a></span>))
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">If</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103377">cond1</a></span>, <a id="1">If</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103378">cond2</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103379">thenp</a></span>, <a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103380">jmp</a></span>,<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]</span><span id="21410"><a href="#103381" id="527">List</a></span></span>())), <span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a id="103384">ld</a></span>:<span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a href="../ast/Trees.scala.html#22417">LabelDef</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103380">jmp</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a href="#103384">ld</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>) =&gt; 
            <span class="keyword">super</span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29538">And</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103377">cond1</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103378">cond2</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103379">thenp</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.LabelDef</span><a href="#103384">ld</a></span>))

          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103386">t</a></span> =&gt; <span class="keyword">super</span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103386">t</a></span>)
        }
      }
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103344">res</a></span> = <span class="typed"><span class="type">object lxtt</span><a href="#103342">lxtt</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#103346">transform</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#53060">tree</a></span>)
      <span class="typed"><span class="type">()Unit</span><a href="#52736">cleanup</a></span>()
      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103344">res</a></span>
    }
    
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="52736">cleanup</a></span>() {
      <span class="keyword">for</span> (<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="40475"><a id="103399">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6133"><a id="821" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="26778">until</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52724">targets</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>) <span class="typed"><span class="type">=&gt; Array[ParallelMatching.this.global.Symbol]</span><a href="#52721">labels</a></span>(<span class="typed"><span class="type">Int</span><a href="#103399">i</a></span>) = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
      <span class="typed"><span class="type">(scala.collection.mutable.BitSet)Unit</span><a href="#52728">reached</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
      <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])Unit</span><a href="#52731">shortCuts</a></span> = <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
    }
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Boolean</span><a id="52737">isReached</a></span>(<span class="typed"><span class="type">Int</span><a id="53053">bx</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>)   = <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52721" id="21509">labels</a></span>(<span class="typed"><span class="type">Int</span><a href="#53053">bx</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Unit</span><a id="52738">markReachedTwice</a></span>(<span class="typed"><span class="type">Int</span><a id="103401">bx</a></span>:<span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) { <span class="typed"><span class="type">=&gt; scala.collection.mutable.BitSet</span><a href="#52727">reached</a></span> <span class="typed"><span class="type">(Int)Unit</span><a id="32844">+=</a></span> <span class="typed"><span class="type">Int</span><a href="#103401">bx</a></span> }
    <span class="comment">/** @pre bx &lt; 0 || labelIndex(bx) != -1 */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Boolean</span><a id="52739">isReachedTwice</a></span>(<span class="typed"><span class="type">Int</span><a id="103359">bx</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) = (<span class="typed"><span class="type">Int</span><a href="#103359">bx</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a href="#52727" id="25543">reached</a></span>(<span class="typed"><span class="type">Int</span><a href="#103359">bx</a></span>)
    <span class="comment">/* @returns bx such that labels(bx) eq label, -1 if no such bx exists */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Int</span><a id="52740">labelIndex</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103357">label</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">=&gt; Array[ParallelMatching.this.global.Symbol]</span><a href="#52721">labels</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Boolean)Int</span><a id="21658">findIndexOf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103406">_</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103357">label</a></span>)

    <span class="comment">/** first time bx is requested, a LabelDef is returned. next time, a jump.
     *  the function takes care of binding
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.Bindings)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a id="52741">requestBody</a></span>(<span class="typed"><span class="type">Int</span><a id="101695">bx</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="101696">subst</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29442">Bindings</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="101697">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) { <span class="comment">// is shortcut</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103412">jlabel</a></span> = <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52730" id="21361">shortCuts</a></span>(-<span class="typed"><span class="type">=&gt; Int</span><a href="#101695" id="3097">bx</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103412">jlabel</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
      }
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(Int)Boolean</span><a href="#52737">isReached</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>)) { <span class="comment">// first time this bx is requested</span>
        <span class="comment">// might be bound elsewhere ( see `x @ unapply' ) &lt;-- this comment refers to null check</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol], List[ParallelMatching.this.global.Type], List[ParallelMatching.this.global.Tree])</span><span id="23590"><a href="#103473" id="449">(</a></span></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span id="103473"><span id="103432"><a href="#103431" id="23578">vsyms</a></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><span id="103474"><span id="103433"><a href="#103431" id="23580">argts</a></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="103475"><span id="103434"><a href="#103431" id="23582">vdefs</a></span></span></span>) : <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol], List[ParallelMatching.this.global.Type], List[ParallelMatching.this.global.Tree])</span><a id="448">(</a></span>List[Symbol], List[Type], List[Tree]) = <span class="typed"><span class="type">(List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)])(List[ParallelMatching.this.global.Symbol], List[ParallelMatching.this.global.Type], List[ParallelMatching.this.global.analyzer.global.Tree])</span><a href="MatchUtil.scala.html#52054">unzip3</a></span>(
          <span class="keyword">for</span> (<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Iterable[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)])List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)]</span><span id="21383"><a id="103448">v</a></span></span> &lt;- <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Symbol]</span><a href="#52718" id="21361">vss</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>) ; <span class="typed"><span class="type">(Option[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)])Iterable[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)]</span><span id="25402"><span id="935"><span id="25413"><a id="103459">substv</a></span></span></span></span> &lt;- <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Option[ParallelMatching.this.global.Ident]</span><a href="PatternNodes.scala.html#31703">subst</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103448">v</a></span>)) <span class="keyword">yield</span> 
            <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Type,ParallelMatching.this.global.analyzer.global.Tree)(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type, ParallelMatching.this.global.analyzer.global.Tree)</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103448">v</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103448">v</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103448">v</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#103459">substv</a></span>))
        )
              
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103435">body</a></span>  = <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#52724" id="21361">targets</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>)
        <span class="comment">// @bug: typer is not able to digest a body of type Nothing being assigned result type Unit</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103436">tpe</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29702">isNothing</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="TransMatcher.scala.html#29506">resultType</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a id="103437">label</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#101697">theOwner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Name)ParallelMatching.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25103">newLabel</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;body%&quot;)</span><span class="string">&quot;body%&quot;</span></span><span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)ParallelMatching.this.global.Name</span><a href="../symtab/Names.scala.html#21102" id="5802">+</a></span><span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Type],ParallelMatching.this.global.Type)ParallelMatching.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#103433">argts</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103436">tpe</a></span>)
        <span class="comment">// TODO - newLabel doesn't get a fresh name, is that okay? or should it be more like this:</span>
        <span class="comment">// val label = theOwner.newLabel(body.pos, cunit.fresh.newName(body.pos, &quot;body%&quot;+bx)) setInfo MethodType(argts, tpe)</span>
        <span class="typed"><span class="type">=&gt; Array[ParallelMatching.this.global.Symbol]</span><a href="#52721">labels</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#103437">label</a></span>

        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.Throw</span><a href="../ast/Trees.scala.html#22478">Throw</a></span> | _: <span class="typed"><span class="type">ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#22515">Literal</a></span>  =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103434">vdefs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span>.<span class="typed"><span class="type">=&gt; body.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)body.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103436">tpe</a></span>)
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _                      =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103434">vdefs</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a id="21385">reverse</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.LabelDef</span><a href="../ast/Trees.scala.html#22420">LabelDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#103437">label</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103432">vsyms</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103435">body</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)body.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103436">tpe</a></span>))
        }
      }
 
      <span class="comment">// if some bx is not reached twice, its LabelDef is replaced with body itself</span>
      <span class="typed"><span class="type">(Int)Unit</span><a href="#52738">markReachedTwice</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>) 
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a id="103407">args</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a id="526">List</a></span>[Ident] = <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Symbol]</span><a href="#52718" id="21361">vss</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>).<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Iterable[ParallelMatching.this.global.Ident])List[ParallelMatching.this.global.Ident]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">(Option[ParallelMatching.this.global.Ident])Iterable[ParallelMatching.this.global.Ident]</span><span id="25402"><a href="PatternNodes.scala.html#31703" id="935">subst</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103498">_</a></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103408">label</a></span> = <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52721" id="21509">labels</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103409">body</a></span> = <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#52724" id="21361">targets</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#103515">MethodType</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><span id="103410"><a id="103515">fmls</a></span></span>, _) = <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103408">label</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>

      <span class="comment">// sanity checks</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#103410">fmls</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a href="#103407">args</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>) {
        <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103409">body</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;consistency problem in target generation ! I have args &quot;)</span><span class="string">&quot;consistency problem in target generation ! I have args &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
          <span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a href="#103407">args</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; and need to jump to a label with fmls &quot;)</span><span class="string">&quot; and need to jump to a label with fmls &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#103410">fmls</a></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(String)scala.tools.nsc.FatalError</span><a href="../FatalError.scala.html#53288">FatalError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;consistency problem&quot;)</span><span class="string">&quot;consistency problem&quot;</span></span>)
      }
      <span class="typed"><span class="type">List[ParallelMatching.this.global.Type]</span><a href="#103410">fmls</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Ident])List[(ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a href="#103407">args</a></span>).<span class="typed"><span class="type">(((ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)) =&gt; Boolean)Option[(ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)]</span><a id="21374">find</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)</span><a id="103521">x</a></span> =&gt; <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)</span><a href="#103521">x</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a id="23616">_2</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type, ParallelMatching.this.global.Ident)</span><a href="#103521">x</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a id="23614">_1</a></span>)) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <a id="1">Some</a>(<a id="1">Tuple2</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103522">f</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a id="103523">a</a></span>)) =&gt; <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103409">body</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;consistency problem ! &quot;)</span><span class="string">&quot;consistency problem ! &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#103523">a</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103522">f</a></span>) ; <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(String)scala.tools.nsc.FatalError</span><a href="../FatalError.scala.html#53288">FatalError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;consistency problem&quot;)</span><span class="string">&quot;consistency problem&quot;</span></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
      }

      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103409">body</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.Throw</span><a href="../ast/Trees.scala.html#22478">Throw</a></span> | _: <span class="typed"><span class="type">ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#22515">Literal</a></span> =&gt;       <span class="comment">// might be bound elsewhere (see `x @ unapply')</span>
          <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a id="103524">vdefs</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Iterable[ParallelMatching.this.global.analyzer.global.Tree])List[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="21383"><a id="103532">v</a></span></span> &lt;- <span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Symbol]</span><a href="#52718" id="21361">vss</a></span>(<span class="typed"><span class="type">Int</span><a href="#101695">bx</a></span>) ; <span class="typed"><span class="type">(Option[ParallelMatching.this.global.analyzer.global.Tree])Iterable[ParallelMatching.this.global.analyzer.global.Tree]</span><span id="25402"><span id="935"><span id="25413"><a id="103543">substv</a></span></span></span></span> &lt;- <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)Option[ParallelMatching.this.global.Ident]</span><a href="PatternNodes.scala.html#31703">subst</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103532">v</a></span>)) <span class="keyword">yield</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29526">typedValDef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103532">v</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#103543">substv</a></span>)
          <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29549">squeezedBlock</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.analyzer.global.Tree]</span><a href="#103524">vdefs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103409">body</a></span>.<span class="typed"><span class="type">=&gt; body.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)body.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="TransMatcher.scala.html#29506">resultType</a></span>)
        <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29527">mkIdent</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103408">label</a></span>),<span class="typed"><span class="type">List[ParallelMatching.this.global.Ident]</span><a href="#103407">args</a></span>)
      }
    }

    <span class="comment">/** the injection here handles alternatives and unapply type tests */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="52990">temp</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="52991">row1</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52992">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#29590">Rep</a></span> = {
      <span class="comment">// equals check: call singleType(NoPrefix, o.symbol) `stpe'. Then we could also return </span>
      <span class="comment">// `typeRef(definitions.ScalaPackageClass.tpe, definitions.EqualsPatternClass, List(stpe))'</span>
      <span class="comment">// and force an equality check. However, exhaustivity checking would not work anymore.</span>
      <span class="comment">// so first, extend exhaustivity check to equalspattern</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a id="103552">sType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103558">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103558">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25660">prefix</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103558">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a id="103553">equalsCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103559">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103559">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25134">isValue</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103559">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103552">sType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103559">o</a></span>)
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a id="103554">isModule</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103560">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103560">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103560">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25649">termSymbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a id="103555">applyType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103561">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103562">fn</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103562">fn</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">match</span></span> { 
        <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="#103554">isModule</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103561">o</a></span>)     =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103552">sType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103561">o</a></span>)
        <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <a id="1">Select</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103564">path</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a id="103565">sym</a></span>)    =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Type)(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Type)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103564">path</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103564">path</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <a id="1">(</a>_, <span class="typed"><span class="type">ParallelMatching.this.global.ThisType</span><a id="103568">t</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.ThisType</span><a href="../symtab/Types.scala.html#21967">ThisType</a></span>)     =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.ThisType</span><a href="#103568">t</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103561">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)            <span class="comment">// cases 2/3 are e.g. `case Some(p._2)' in s.c.jcl.Map</span>
          <span class="typed"><span class="type">ParallelMatching.this.Types.PseudoType</span><span class="keyword">case</span></span> <a id="1">(</a>_: <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a href="../ast/Trees.scala.html#22492">Apply</a></span>, _)        =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Types.PseudoType</span><a href="PatternNodes.scala.html#29918">PseudoType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103561">o</a></span>)                      <span class="comment">// outer-matching: test/files/pos/t154.scala</span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <a id="1">(</a>_, _)               =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103552">sType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103564">path</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103561">o</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)  <span class="comment">// old</span>
        }
        <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a id="103569">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="../ast/Trees.scala.html#22510">Ident</a></span>             =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103553">equalsCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#103569">o</a></span>)
      }
    
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)ParallelMatching.this.global.Tree</span><a id="103556">classifyPat</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103570">opat</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">Int</span><a id="103571">j</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span id="23625"><a href="#103579" id="1379">(</a></span></span><span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span id="103579"><span id="103573"><a href="#103572" id="23614">vs</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103580"><span id="103574"><a href="#103572" id="23616">strippedPat</a></span></span></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><a href="PatternNodes.scala.html#29429">strip</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span class="keyword">match</span></span> { <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><a id="103575">vset</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103576">pat</a></span>) =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)(List[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><a href="#103575">vset</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="21815">toList</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103576">pat</a></span>) }
        <span class="comment">// @todo: rewrite UnApply(Apply(fn, _), _) case, using __UnApply instead of UnApply like so:</span>
        <span class="comment">// case  ua @ __UnApply(_,argtpe,_) =&gt;</span>
        <span class="comment">//   val ua = prepat</span>
        <span class="comment">//   val npat = (if (temp(j).tpe &lt;:&lt; argtpe) ua else Typed(ua,TypeTree(argtpe)).setType(argtpe))</span>
        <span class="comment">//   pats = (makeBind(vs, npat) setType argtpe)::pats</span>
                
        <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103574">strippedPat</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.Alternative</span><a href="../ast/Trees.scala.html#22444">Alternative</a></span>                       =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Typed</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103583">p</a></span> @ <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Option[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#31488">Strip2</a></span>(_: <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="../ast/Trees.scala.html#22454">UnApply</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103585">tpt</a></span>)   =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52990" id="21361">temp</a></span>(<span class="typed"><span class="type">Int</span><a href="#103571">j</a></span>).<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103585">tpt</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29409">makeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103583">p</a></span>)
                                                       <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="comment">// case Ident_Or_Empty()                     =&gt; opat    // this doesn't work - see notes in PatternNode</span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">object ParallelMatching.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>) | <span class="typed"><span class="type">object ParallelMatching.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>      =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#22515">Literal</a></span> | _: <span class="typed"><span class="type">ParallelMatching.this.global.Typed</span><a href="../ast/Trees.scala.html#22485">Typed</a></span>                =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a id="103590">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="../ast/Trees.scala.html#22510">Ident</a></span>                             =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29410">mkTypedBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103553">equalsCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Ident</span><a href="#103590">o</a></span>))  <span class="comment">// Ident(_) != nme.WILDCARD</span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Select</span><a id="103591">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Select</span><a href="../ast/Trees.scala.html#22506">Select</a></span>                            =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29410">mkTypedBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103553">equalsCheck</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Select</span><a href="#103591">o</a></span>))
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.This</span><a id="103592">o</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.This</span><a href="../ast/Trees.scala.html#22502">This</a></span>                              =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="comment">// @pre for UnApply_TypeApply: is not right-ignoring (no star pattern) ; no exhaustivity check</span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.UnApply)Option[(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])]</span><a href="PatternNodes.scala.html#31315">UnApply_TypeApply</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103596">tptArg</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103597">xs</a></span>)        =&gt; <span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52990" id="21361">temp</a></span>(<span class="typed"><span class="type">Int</span><a href="#103571">j</a></span>) <span class="typed"><span class="type">(Long)ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> Flags.<span class="typed"><span class="type">Long(274877906944L)</span><span >TRANS_FLAG</span></span>
                                                       <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29409">makeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29413">normalizedListPattern</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103597">xs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103596">tptArg</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>))
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a id="103603">ua</a></span> @ <a id="1">UnApply</a>(<a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103604">fn</a></span>, _), _)        =&gt; <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103610">MethodType</a></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Type])Some[List[ParallelMatching.this.global.Type]]</span><span id="21410"><a href="#103607" id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><span id="103605"><a id="103610">argtpe</a></span></span>, _*), _) = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103604">fn</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>
                                                       <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends ParallelMatching.this.global.TermTree with Product</span><a id="103606">npat</a></span> = <span class="typed"><span class="type">&lt;refinement&gt; extends ParallelMatching.this.global.TermTree with Product</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Symbol</span><a href="#52990" id="21361">temp</a></span>(<span class="typed"><span class="type">Int</span><a href="#103571">j</a></span>).<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103605">argtpe</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="#103603">ua</a></span> 
                                                                  <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Typed</span><a href="../ast/Trees.scala.html#30379">Typed</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.UnApply</span><a href="#103603">ua</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103605">argtpe</a></span>)) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Typed</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103605">argtpe</a></span>
                                                       <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29409">makeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">&lt;refinement&gt; extends ParallelMatching.this.global.TermTree with Product</span><a href="#103606">npat</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103605">argtpe</a></span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a id="103631">o</a></span> @ <span class="typed"><span class="type">(ParallelMatching.this.global.Apply)Option[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#31246">Apply_Function</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103635">fn</a></span>)               =&gt; <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103636">stpe</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Type</span><a href="#103555">applyType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Apply</span><a href="#103631">o</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103635">fn</a></span>)
                                                       <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103637">ttst</a></span> = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Type])ParallelMatching.this.global.Type</span><a href="PatternNodes.scala.html#29412">mkEqualsRef</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type*)List[ParallelMatching.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103636">stpe</a></span>))
                                                       <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29409">makeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Typed</span><a href="../ast/Trees.scala.html#30379">Typed</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident</span><a href="CodeFactory.scala.html#29528">mk_</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103637">ttst</a></span>), <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103636">stpe</a></span>)) <span class="typed"><span class="type">(ParallelMatching.this.global.Type)ParallelMatching.this.global.Typed</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103637">ttst</a></span>)
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Apply)Option[(ParallelMatching.this.global.Type, ParallelMatching.this.global.Symbol)]</span><a href="PatternNodes.scala.html#31208">Apply_Value</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103645">pre</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103646">sym</a></span>)                =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29411">mkEmptyTreeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">(List[ParallelMatching.this.global.Type])ParallelMatching.this.global.Type</span><a href="PatternNodes.scala.html#29412">mkEqualsRef</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type*)List[ParallelMatching.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#22023">singleType</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103645">pre</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103646">sym</a></span>))))            
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Apply)Option[ParallelMatching.this.global.Type]</span><a href="PatternNodes.scala.html#31276">Apply_CaseClass_NoArgs</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103651">tpe</a></span>)          =&gt; <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type)ParallelMatching.this.global.Tree</span><a href="PatternNodes.scala.html#29411">mkEmptyTreeBind</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103573">vs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103651">tpe</a></span>)
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Apply)Boolean</span><a href="PatternNodes.scala.html#31300">Apply_CaseClass_WithArgs</a></span>()           =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#22457">ArrayValue</a></span>                        =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103570">opat</a></span>
          <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103655">x</a></span>                                    =&gt; <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.Exception</span><a id="29864" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Exception</span><span id="5974"><a id="821">Exception</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unexpected pattern: &quot;)</span><span class="string">&quot;Unexpected pattern: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103655">x</a></span>.<span class="typed"><span class="type">()java.lang.Class[_ &lt;: java.lang.Object]</span><a id="3511">getClass</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; =&gt; &quot;)</span><span class="string">&quot; =&gt; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103655">x</a></span>)
        }
      }
            
      <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103557">row</a></span> = <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#52991">row1</a></span> <span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; Iterable[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a id="21383">flatMap</a></span> { <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103661">_</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Tree, Int) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.Row]</span><a href="#52955">expand</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,Int)ParallelMatching.this.global.Tree</span><a href="#103556">classifyPat</a></span>) }
      <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103557">row</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#52991">row1</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>) <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52990">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103557">row</a></span>)  <span class="comment">// recursive call if any change</span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])ParallelMatching.this.Rep</span><a href="#103669">Rep</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52990">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103557">row</a></span>).<span class="typed"><span class="type">=&gt; ParallelMatching.this.Rep</span><a href="#53031">init</a></span>
    }
  }

  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Rep extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="103925"><span id="29737"><span id="103669"><span id="29591"><span id="3500"><span id="29815"><span id="29590"><span id="103923"><span id="23625"><span id="103932"><span id="103924"><span id="2750"><span id="29856"><span id="1379"><span id="103931"><span id="308"><span id="103670"><span id="3501"><span id="103938"><span id="103926"><span id="103936"><span id="5794"><span id="103935"><span id="3509"><a id="103937">Rep</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><span id="53023"><span id="53022"><span id="103679"><a id="103671">temp</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><span id="53025"><span id="53024"><span id="103680"><a id="103672">row</a></span></span></span></span>: <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="526">List</a></span>[Row]) {
    <span class="comment">/** converts this to a tree - performs recursive call to translation in the process to get sub reps
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a id="53027">toTree</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="53039">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="53040">failTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="53041">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =
      <span class="typed"><span class="type">Rep.this.type</span><a href="#29590" class="keyword">this</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a href="#53032">applyRule</a></span>.<span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#101377">tree</a></span>

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[(Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])]</span><a id="53028">setsToCombine</a></span>: <span class="typed"><span class="type">List[(Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])]</span><a id="526">List</a></span>[(Int, immutable.Set[Symbol])] = <span class="keyword">for</span> {
      <span class="typed"><span class="type">(((ParallelMatching.this.global.Symbol, Int)) =&gt; (Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]))List[(Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])]</span><span id="21362"><a href="#103686" id="21367">(</a></span></span><span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="103697"><span id="103692"><span id="103702"><span id="103687"><a id="103708">sym</a></span></span></span></span></span>, <span class="typed"><span class="type">Int</span><span id="103688"><span id="103703"><span id="103709"><span id="103698"><a id="103693">i</a></span></span></span></span></span>) &lt;- <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>.<span class="typed"><span class="type">=&gt; List[(ParallelMatching.this.global.Symbol, Int)]</span><a id="21388">zipWithIndex</a></span>
      <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103692">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(4096L)</span><span >MUTABLE</span></span>          <span class="comment">// indicates that have not yet checked exhaustivity</span>
      <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103697">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(274877906944L)</span><span >TRANS_FLAG</span></span>)    <span class="comment">// indicates @unchecked</span>
      <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103702">sym</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(1024L)</span><span >SEALED</span></span>
    } <span class="keyword">yield</span> {
      <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103708">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span> Flags.<span class="typed"><span class="type">Long(4096L)</span><span >MUTABLE</span></span>
      <span class="comment">// this should enumerate all cases... however, also the superclass is taken if it is not abstract</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="103710">candidates</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103711">tpesym</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): immutable.<span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="26500">Set</a></span>[Symbol] = {
        <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="103712">countCandidates</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103713">x</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103713">x</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#103710">candidates</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103713">x</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#103710">candidates</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103713">x</a></span>) <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="31138">+</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103713">x</a></span>          
        <span class="typed"><span class="type">scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103711">tpesym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(1024L)</span><span >SEALED</span></span>) <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103711">tpesym</a></span>.<span class="typed"><span class="type">=&gt; Set[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25304">children</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Iterable[ParallelMatching.this.global.Symbol])scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a id="31154">flatMap</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#103712">countCandidates</a></span>)
        <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#21861">emptySymbolSet</a></span>
      }
      <span class="typed"><span class="type">(Int,scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])(Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#103709">i</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)scala.collection.immutable.Set[ParallelMatching.this.global.Symbol]</span><a href="#103710">candidates</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103708">sym</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>))
    }
     
    <span class="comment">// computes cartesian product, keeps indices available</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a id="53029">combine</a></span>(<span class="typed"><span class="type">List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])]</span><a id="103721">colcom</a></span>: <span class="typed"><span class="type">List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])]</span><a id="526">List</a></span>[(Int, Set[Symbol])]): <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a id="526">List</a></span>[List[(Int, Symbol)]] = <span class="typed"><span class="type">List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])]</span><a href="#103721">colcom</a></span> <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Nil.type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
      <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="103722">i</a></span>,<span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="103723">syms</a></span>)<a id="1">::</a><span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a href="#103723">syms</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="21815">toList</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; List[(Int, ParallelMatching.this.global.Symbol)])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a id="21362">map</a></span> { <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103727">sym</a></span> =&gt; <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Symbol)*)List[(Int, ParallelMatching.this.global.Symbol)]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(Int,ParallelMatching.this.global.Symbol)(Int, ParallelMatching.this.global.Symbol)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#103722">i</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103727">sym</a></span>)) }
      <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="103731">i</a></span>,<span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a id="103732">syms</a></span>)<a id="1">::</a><span class="typed"><span class="type">List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])]</span><a id="103733">cs</a></span>  =&gt; <span class="keyword">for</span> (<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; Iterable[List[(Int, ParallelMatching.this.global.Symbol)]])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><span id="21383"><a id="103737">s</a></span></span> &lt;- <span class="typed"><span class="type">scala.collection.Set[ParallelMatching.this.global.Symbol]</span><a href="#103732">syms</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a id="21815">toList</a></span>; <span class="typed"><span class="type">((List[(Int, ParallelMatching.this.global.Symbol)]) =&gt; List[(Int, ParallelMatching.this.global.Symbol)])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><span id="21362"><a id="103741">rest</a></span></span> &lt;- <span class="typed"><span class="type">(List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a href="#53029">combine</a></span>(<span class="typed"><span class="type">List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])]</span><a href="#103733">cs</a></span>)) <span class="keyword">yield</span> <span class="typed"><span class="type">(Int,ParallelMatching.this.global.Symbol)(Int, ParallelMatching.this.global.Symbol)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#103731">i</a></span>,<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103737">s</a></span>) <span class="typed"><span class="type">((Int, ParallelMatching.this.global.Symbol))List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103742" id="21335">::</a></span> <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103741">rest</a></span>
    }
                
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])Boolean</span><a id="53030">comboCovers</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103747">combo</a></span>: <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="526">List</a></span>[(Int, Symbol)]) = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span> <span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> { <span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="103750">r</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103750">r</a></span>.<span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])Boolean</span><a href="#52954">covers</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103747">combo</a></span>) }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Rep.this.type</span><a id="53031">init</a></span>: <span class="keyword">this</span>.<span class="keyword">type</span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a id="103751">allcomb</a></span> = <span class="typed"><span class="type">(List[(Int, scala.collection.Set[ParallelMatching.this.global.Symbol])])List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a href="#53029">combine</a></span>(<span class="typed"><span class="type">=&gt; List[(Int, scala.collection.immutable.Set[ParallelMatching.this.global.Symbol])]</span><a href="#53028">setsToCombine</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a href="#103751">allcomb</a></span> <span class="typed"><span class="type">((List[(Int, ParallelMatching.this.global.Symbol)]) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])Boolean</span><a href="#53030">comboCovers</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">Rep.this.type</span><a href="#29590" class="keyword">this</a></span>
      
      <span class="comment">// if we reach here, patterns were not exhaustive</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)],Int)String</span><a id="103752">mkPad</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103757">xs</a></span>: <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="526">List</a></span>[(Int, Symbol)], <span class="typed"><span class="type">Int</span><a id="103758">i</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103757">xs</a></span> <span class="typed"><span class="type">String</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">String</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>                  =&gt; <span class="typed"><span class="type">(String)String</span><a href="#53037">pad</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;*&quot;)</span><span class="string">&quot;*&quot;</span></span>)
        <span class="typed"><span class="type">String</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="103762">j</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103763">sym</a></span>) <a id="1">::</a> <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103764">rest</a></span>     =&gt; <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103762">j</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#103758">i</a></span>) <span class="typed"><span class="type">(String)String</span><a href="#53037">pad</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103763">sym</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Names.scala.html#23898">toString</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)],Int)String</span><a href="#103752">mkPad</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103764">rest</a></span>, <span class="typed"><span class="type">Int</span><a href="#103758">i</a></span>)
      }
      <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])java.lang.String</span><a id="103753">mkMissingStr</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103768">open</a></span>: <span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="526">List</a></span>[(Int, Symbol)]) =
        <span class="typed"><span class="type">java.lang.String(&quot;missing combination &quot;)</span><span class="string">&quot;missing combination &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>.<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21346">indices</a></span>.<span class="typed"><span class="type">((Int) =&gt; String)List[String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)],Int)String</span><a href="#103752">mkPad</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103768">open</a></span>, <span class="typed"><span class="type">Int</span><a href="#103772">_</a></span>)).<span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>
        
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="103754">missingCombos</a></span> = <span class="typed"><span class="type">List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a href="#103751">allcomb</a></span>
        . <span class="typed"><span class="type">((List[(Int, ParallelMatching.this.global.Symbol)]) =&gt; Boolean)List[List[(Int, ParallelMatching.this.global.Symbol)]]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a id="103775">open</a></span> =&gt; <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103777">_</a></span>.<span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])Boolean</span><a href="#52954">covers</a></span>(<span class="typed"><span class="type">List[(Int, ParallelMatching.this.global.Symbol)]</span><a href="#103775">open</a></span>)))
        . <span class="typed"><span class="type">((List[(Int, ParallelMatching.this.global.Symbol)]) =&gt; java.lang.String)List[java.lang.String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">(List[(Int, ParallelMatching.this.global.Symbol)])java.lang.String</span><a href="#103753">mkMissingStr</a></span>)
        . <span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span>
        
      <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24151">warning</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;match is not exhaustive!\012&quot;)</span><span class="string">&quot;match is not exhaustive!\n&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#103754">missingCombos</a></span>)
      <span class="typed"><span class="type">Rep.this.type</span><a href="#29590" class="keyword">this</a></span>
    }
        
    <span class="comment">/*   internal representation is (temp:List[Symbol], row:List[Row])
     *   
     *         tmp1       tmp_m
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(implicit ParallelMatching.this.global.Symbol,ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a id="53032">applyRule</a></span>(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103681">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="103682">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>): <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#29573">RuleApplication</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ParallelMatching.this.ErrorRule</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>                              =&gt; <span class="typed"><span class="type">()(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.ErrorRule</span><a href="#101646">ErrorRule</a></span>()
      <span class="typed"><span class="type">ParallelMatching.this.VariableRule</span><span class="keyword">case</span></span> <a id="1">Row</a>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103784">pats</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="103785">subst</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Guard</span><a id="103786">g</a></span>, <span class="typed"><span class="type">Int</span><a id="103787">bx</a></span>) <a id="1">::</a> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103788">xs</a></span>    =&gt; 
        <span class="keyword">var</span> <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a id="103789">bnd</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#103785">subst</a></span>
        <span class="keyword">for</span> (<span class="typed"><span class="type">((((ParallelMatching.this.global.Tree, ParallelMatching.this.global.Symbol), Int)) =&gt; Unit)Unit</span><span id="21366"><a href="#103794" id="21367">(</a></span></span><a id="1">(</a><span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103795"><a id="103801">rpat</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><span id="103796"><a id="103802">t</a></span></span>), <span class="typed"><span class="type">Int</span><span id="103797"><a id="103803">px</a></span></span>) &lt;- <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103784">pats</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])List[(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Symbol)]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>).<span class="typed"><span class="type">=&gt; List[((ParallelMatching.this.global.Tree, ParallelMatching.this.global.Symbol), Int)]</span><a id="21388">zipWithIndex</a></span>) {
          <span class="keyword">val</span> <span class="typed"><span class="type">(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><span id="23625"><a href="#103807" id="1379">(</a></span></span><span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><span id="103807"><span id="103805"><a href="#103804" id="23614">vs</a></span></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="103808"><span id="103806"><a href="#103804" id="23616">p</a></span></span></span>) = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)(Set[ParallelMatching.this.global.Symbol], ParallelMatching.this.global.Tree)</span><a href="PatternNodes.scala.html#29429">strip</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103801">rpat</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)Boolean</span><a href="PatternNodes.scala.html#29428">isDefaultPattern</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103806">p</a></span>)) <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#103789">bnd</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#103789">bnd</a></span>.<span class="typed"><span class="type">(Iterable[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#31702">add</a></span>(<span class="typed"><span class="type">Set[ParallelMatching.this.global.Symbol]</span><a href="#103805">vs</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103802">t</a></span>)
          <span class="keyword">else</span> {
            <span class="comment">// Row( _  ... _ p_1i  ...  p_1n   g_m  b_m ) :: rows</span>
            <span class="comment">// cut out column px that contains the non-default pattern</span>
            <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="103811">column</a></span>    = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103801">rpat</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a href="#103815" id="21335">::</a></span> <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a id="21334">tail</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103819">_</a></span>.<span class="typed"><span class="type">(Int)ParallelMatching.this.global.Tree</span><a href="#52939" id="21361">pat</a></span>(<span class="typed"><span class="type">Int</span><a href="#103803">px</a></span>))
            <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="103812">restTemp</a></span>  = <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol])scala.tools.nsc.matching.MatchUtil.ListPlus[ParallelMatching.this.global.Symbol]</span><a href="MatchUtil.scala.html#52050">temp</a></span>.<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Symbol]</span><a href="MatchUtil.scala.html#53008">dropIndex</a></span>(<span class="typed"><span class="type">Int</span><a href="#103803">px</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a id="103813">restRows</a></span>  = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; ParallelMatching.this.Row)List[ParallelMatching.this.Row]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="103858">r</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103858">r</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])ParallelMatching.this.Row</span><a href="#52950">replace</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103858">r</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree])scala.tools.nsc.matching.MatchUtil.ListPlus[ParallelMatching.this.global.Tree]</span><a href="MatchUtil.scala.html#52050">pat</a></span>.<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="MatchUtil.scala.html#53008">dropIndex</a></span>(<span class="typed"><span class="type">Int</span><a href="#103803">px</a></span>)))
            <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a id="103814">mr</a></span>        = <span class="typed"><span class="type">(ParallelMatching.this.Scrutinee,List[ParallelMatching.this.global.Tree],ParallelMatching.this.Rep)(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.RuleApplication</span><a href="#29572">MixtureRule</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103802">t</a></span>), <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#103811">column</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#103682">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#103812">restTemp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103813">restRows</a></span>))
            <span class="typed"><span class="type">(=&gt; String)Unit</span><a href="PatternNodes.scala.html#29407">DBG</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;\012---\012mixture rule is = &quot;)</span><span class="string">&quot;\n---\nmixture rule is = &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#103814">mr</a></span>.<span class="typed"><span class="type">()java.lang.Class[_ &lt;: java.lang.Object]</span><a id="3511">getClass</a></span>)
            <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">ParallelMatching.this.RuleApplication</span><a href="#103814">mr</a></span>
          }
        }
        <span class="comment">// Row(   _   ...   _     g_1  b_1 ) :: rows     it's all default patterns</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a id="103790">rest</a></span> = <span class="typed"><span class="type">ParallelMatching.this.Rep</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.Guard</span><a href="#103786">g</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52970">isEmpty</a></span>) <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#103682">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52742">make</a></span>(<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.Row]</span><a href="#103788">xs</a></span>)    <span class="comment">// TODO - why null?</span>
        <span class="typed"><span class="type">(=&gt; String)Unit</span><a href="PatternNodes.scala.html#29407">DBG</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;\012---\012mixture rule is = VariableRule&quot;)</span><span class="string">&quot;\n---\nmixture rule is = VariableRule&quot;</span></span>)
        <span class="typed"><span class="type">(ParallelMatching.this.Bindings,ParallelMatching.this.Guard,ParallelMatching.this.Rep,Int)(implicit ParallelMatching.this.RepFactory)ParallelMatching.this.VariableRule</span><a href="#101709">VariableRule</a></span> (<span class="typed"><span class="type">ParallelMatching.this.Bindings</span><a href="#103789">bnd</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Guard</span><a href="#103786">g</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Rep</span><a href="#103790">rest</a></span>, <span class="typed"><span class="type">Int</span><a href="#103787">bx</a></span>)
    }

    <span class="comment">// a fancy toString method for debugging</span>
    <span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">()java.lang.String</span><a id="53033">toString</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="103876">tempStr</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Symbol]</span><a href="#53022">temp</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.global.Symbol) =&gt; String)List[String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103880">t</a></span> =&gt; <span class="typed"><span class="type">(Any)String</span><a href="#53036">pad</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103880">t</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)).<span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="103877">rowStr</a></span> = <span class="typed"><span class="type">=&gt; List[ParallelMatching.this.Row]</span><a href="#53024">row</a></span>.<span class="typed"><span class="type">((ParallelMatching.this.Row) =&gt; java.lang.String)List[java.lang.String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a id="103885">r</a></span> =&gt; (<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103885">r</a></span>.<span class="typed"><span class="type">=&gt; List[ParallelMatching.this.global.Tree]</span><a href="#52939">pat</a></span> <span class="typed"><span class="type">(List[Any])List[Any]</span><a href="#103886" id="21339">:::</a></span> <span class="typed"><span class="type">(Any*)List[Any]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103885">r</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="#52941">subst</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103885">r</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.Guard</span><a href="#52943">guard</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Row</span><a href="#103885">r</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#52945">bx</a></span>)).<span class="typed"><span class="type">((Any) =&gt; String)List[String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">(Any)String</span><a href="#53036">pad</a></span>).<span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>).<span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span>      
      <span class="typed"><span class="type">java.lang.String</span><a href="#103876">tempStr</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#103877">rowStr</a></span>
    }
     
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="53035"><a id="53034">NPAD</a></span></span> = <span class="typed"><span class="type">Int(15)</span><span class="int">15</span></span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Any)String</span><a id="53036">pad</a></span>(<span class="typed"><span class="type">Any</span><a id="103761">s</a></span>: <span class="typed"><span class="type">Any</span><a id="51">Any</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">(String)String</span><a href="#53037">pad</a></span>(<span class="typed"><span class="type">Any</span><a href="#103761">s</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="3500">toString</a></span>)
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(String)String</span><a id="53037">pad</a></span>(<span class="typed"><span class="type">String</span><a id="103760">s</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(Int,java.lang.String)List[java.lang.String]</span><a id="21415">make</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#53034">NPAD</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">String</span><a href="#103760">s</a></span>.<span class="typed"><span class="type">()Int</span><a id="5821">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>, <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>).<span class="typed"><span class="type">=&gt; String</span><a id="21820">mkString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#103760">s</a></span>
  } 
  
  <span class="comment">/** creates initial clause matrix
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.global.Tree],ParallelMatching.this.RepFactory)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a id="29593">initRep</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="52902">roots</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="52903">cases</a></span>: <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="52904">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52905">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = {
    <span class="comment">// communicate whether exhaustiveness-checking is enabled via some flag</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">(List[Option[ParallelMatching.this.Row]], List[ParallelMatching.this.global.Tree], List[List[ParallelMatching.this.global.Symbol]])</span><span id="23590"><a href="#52983" id="449">(</a></span></span><span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><span id="52983"><span id="52908"><a href="#52907" id="23578">rows</a></span></span></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><span id="52984"><span id="52909"><a href="#52907" id="23580">targets</a></span></span></span>, <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><span id="52985"><span id="52910"><a href="#52907" id="23582">vss</a></span></span></span>): <span class="typed"><span class="type">(List[Option[ParallelMatching.this.Row]], List[ParallelMatching.this.global.Tree], List[List[ParallelMatching.this.global.Symbol]])</span><a id="448">(</a></span>List[Option[Row]], List[Tree], List[List[Symbol]]) = <span class="typed"><span class="type">(List[(Option[ParallelMatching.this.Row], ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Symbol])])(List[Option[ParallelMatching.this.Row]], List[ParallelMatching.this.global.Tree], List[List[ParallelMatching.this.global.Symbol]])</span><a href="MatchUtil.scala.html#52054">unzip3</a></span>(
      <span class="keyword">for</span> (<span class="typed"><span class="type">(((ParallelMatching.this.global.Tree, Int)) =&gt; (Option[ParallelMatching.this.Row], ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Symbol]))List[(Option[ParallelMatching.this.Row], ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Symbol])]</span><span id="21362"><a href="#52917" id="21367">(</a></span></span><a id="1">CaseDef</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="52919"><a id="52928">pat</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="52920"><a id="52929">g</a></span></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span id="52921"><a id="52930">b</a></span></span>), <span class="typed"><span class="type">Int</span><span id="52922"><a id="52931">bx</a></span></span>) &lt;- <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52903">cases</a></span>.<span class="typed"><span class="type">=&gt; List[(ParallelMatching.this.global.Tree, Int)]</span><a id="21388">zipWithIndex</a></span>) <span class="keyword">yield</span> {  <span class="comment">// stash away pvars and bodies for later</span>
        <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Option[ParallelMatching.this.Row]</span><a id="52932">rowForPat</a></span>: <span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><a id="934">Option</a></span>[Row] = <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52928">pat</a></span> <span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Some[ParallelMatching.this.Row]</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52902">roots</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&lt;=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> =&gt; <span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52928">pat</a></span>), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29445">NoBinding</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Guard</span><a href="#52965">Guard</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52929">g</a></span>), <span class="typed"><span class="type">Int</span><a href="#52931">bx</a></span>))
          <span class="typed"><span class="type">Some[ParallelMatching.this.Row]</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="52975">fn</a></span>, <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a id="52976">pargs</a></span>)       =&gt; <span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52976">pargs</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29445">NoBinding</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Guard</span><a href="#52965">Guard</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52929">g</a></span>), <span class="typed"><span class="type">Int</span><a href="#52931">bx</a></span>))
          <span class="typed"><span class="type">Some[ParallelMatching.this.Row]</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">object ParallelMatching.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>)    =&gt; <span class="typed"><span class="type">(ParallelMatching.this.Row)Some[ParallelMatching.this.Row]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">(List[ParallelMatching.this.global.Tree],ParallelMatching.this.Bindings,ParallelMatching.this.Guard,Int)ParallelMatching.this.Row</span><a href="#52957">Row</a></span>(<span class="typed"><span class="type">(Int)List[ParallelMatching.this.global.Tree]</span><a href="PatternNodes.scala.html#29408">getDummies</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52902">roots</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>), <span class="typed"><span class="type">=&gt; ParallelMatching.this.Bindings</span><a href="PatternNodes.scala.html#29445">NoBinding</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.Guard</span><a href="#52965">Guard</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52929">g</a></span>), <span class="typed"><span class="type">Int</span><a href="#52931">bx</a></span>))
          <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> _                      =&gt; <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
        }
        <span class="typed"><span class="type">(Option[ParallelMatching.this.Row],ParallelMatching.this.global.Tree,List[ParallelMatching.this.global.Symbol])(Option[ParallelMatching.this.Row], ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Symbol])</span><span id="23590"><a id="449">(</a></span></span><span class="typed"><span class="type">=&gt; Option[ParallelMatching.this.Row]</span><a href="#52932">rowForPat</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52930">b</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Symbol]</span><a href="PatternNodes.scala.html#29438">definedVars</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#52928">pat</a></span>))
      }
    )
    
    <span class="comment">// flatMap the list of options yields the list of values</span>
    <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#52904">rep</a></span>.<span class="typed"><span class="type">(List[ParallelMatching.this.global.Symbol],List[ParallelMatching.this.Row],List[ParallelMatching.this.global.Tree],List[List[ParallelMatching.this.global.Symbol]])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.Rep</span><a href="#52733">make</a></span>(<span class="typed"><span class="type">List[ParallelMatching.this.global.Symbol]</span><a href="#52902">roots</a></span>, <span class="typed"><span class="type">List[Option[ParallelMatching.this.Row]]</span><a href="#52908">rows</a></span>.<span class="typed"><span class="type">((Option[ParallelMatching.this.Row]) =&gt; Iterable[ParallelMatching.this.Row])List[ParallelMatching.this.Row]</span><a id="21383">flatMap</a></span>(<span class="typed"><span class="type">Option[ParallelMatching.this.Row]</span><a id="53000">x</a></span> =&gt; <span class="typed"><span class="type">(Option[ParallelMatching.this.Row])Iterable[ParallelMatching.this.Row]</span><span id="25402"><a href="#53000" id="935">x</a></span></span>), <span class="typed"><span class="type">List[ParallelMatching.this.global.Tree]</span><a href="#52909">targets</a></span>, <span class="typed"><span class="type">List[List[ParallelMatching.this.global.Symbol]]</span><a href="#52910">vss</a></span>)
  }

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Name,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a id="29594">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="52792">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a id="52793">name</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a href="../symtab/Names.scala.html#21103">Name</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="52794">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">List[Long]</span><a id="52795">flags</a></span>: <span class="typed"><span class="type">List[Long]</span><a id="526">List</a></span>[Long])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52796">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = {
    <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#52794">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;newVar(&quot;)</span><span class="string">&quot;newVar(&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a href="#52793">name</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;, null)&quot;)</span><span class="string">&quot;, null)&quot;</span></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a id="103940">sym</a></span> = <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#52796">theOwner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Name)ParallelMatching.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25099">newVariable</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#52792">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Name</span><a href="#52793">name</a></span>) <span class="comment">// careful: pos has special meaning</span>
    <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#103940">sym</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)sym.type</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#52794">tpe</a></span>
    <span class="typed"><span class="type">ParallelMatching.this.global.TermSymbol</span><a href="#103940">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> <span class="typed"><span class="type">List[Long]</span><a href="#52795">flags</a></span>.<span class="typed"><span class="type">(Long)((Long, Long) =&gt; Long)Long</span><a id="21375">foldLeft</a></span>(Flags.<span class="typed"><span class="type">Int(2097152)</span><span >SYNTHETIC</span></span>.<span class="typed"><span class="type">=&gt; Long</span><a id="3086">toLong</a></span>)(<span class="typed"><span class="type">Long</span><a href="#103950">_</a></span><span class="typed"><span class="type">(Long)Long</span><a id="3275">|</a></span><span class="typed"><span class="type">Long</span><a href="#103951">_</a></span>)
  }
  
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a id="29595">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="52788">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="52789">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">List[Long]</span><a id="52790">flags</a></span>: <span class="typed"><span class="type">List[Long]</span><a id="526">List</a></span>[Long])(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52791">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> =
    <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Name,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29594">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#52788">pos</a></span>, <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)ParallelMatching.this.global.Name</span><a href="../symtab/Names.scala.html#21102">newName</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#52788">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;temp&quot;)</span><span class="string">&quot;temp&quot;</span></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#52789">tpe</a></span>, <span class="typed"><span class="type">List[Long]</span><a href="#52790">flags</a></span>)
  
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type)(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a id="29596">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="52785">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="52786">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="52787">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> =
    <span class="typed"><span class="type">(scala.tools.nsc.util.Position,ParallelMatching.this.global.Type,List[Long])(implicit ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="#29595">newVar</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#52785">pos</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#52786">tpe</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
  
  <span class="comment">/** returns the condition in &quot;if (cond) k1 else k2&quot; 
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.Scrutinee)(implicit ParallelMatching.this.global.analyzer.Typer,ParallelMatching.this.global.Symbol,ParallelMatching.this.RepFactory)ParallelMatching.this.global.Tree</span><a id="29597">condition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103154">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a id="103155">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#29558">Scrutinee</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a id="103156">typer</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="../typechecker/Typers.scala.html#28453">Typer</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103157">theOwner</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a id="103158">rep</a></span>: <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#29589">RepFactory</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103155">scrut</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#101092">isDefined</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103967">cond</a></span> = <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#103158">rep</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#52713" id="21757">handleOuter</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="#103156">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.Tree</span><a href="#29598">condition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103154">tpe</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103155">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>)))
    
    <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Type,ParallelMatching.this.global.Symbol)Boolean</span><a href="../symtab/Types.scala.html#22111">needsOuterTest</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103154">tpe</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103155">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="#101095">tpe</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103157">theOwner</a></span>)) <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103967">cond</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Type,ParallelMatching.this.global.Tree,(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#29599">addOuterCondition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103967">cond</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103154">tpe</a></span>, <span class="typed"><span class="type">ParallelMatching.this.Scrutinee</span><a href="#103155">scrut</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Ident</span><a href="#101094">id</a></span>, <span class="typed"><span class="type">ParallelMatching.this.RepFactory</span><a href="#103158">rep</a></span>.<span class="typed"><span class="type">=&gt; (ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a href="#52713">handleOuter</a></span>)
  }

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type,ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.Tree</span><a id="29598">condition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103151">tpe</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103152">scrutTree</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>)(<span class="keyword">implicit</span> <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a id="103153">typer</a></span> : <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="../typechecker/Typers.scala.html#28453">Typer</a></span>): <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>((<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span>))
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103995">equalsRef</a></span>      = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29535">Equals</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Symbol)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27604">mkAttributedRef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25649">termSymbol</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><a id="103997">isInst</a></span>         = <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Tree,ParallelMatching.this.global.gen.global.Type)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27613">mkIsInstanceOf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>)

    <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">ParallelMatching.this.global.SingletonType</span><a href="../symtab/Types.scala.html#21955">SingletonType</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3501">isInstanceOf</a></span>[<span class="typed"><span class="type">ParallelMatching.this.global.ConstantType</span><a href="../symtab/Types.scala.html#21990">ConstantType</a></span>] =&gt;
        <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25649">termSymbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span>)                            <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#103994">equalsRef</a></span>               <span class="comment">// object</span>
        <span class="keyword">else</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25660">prefix</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span>)                        <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="#103153">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.gen.global.Tree</span><a href="#103996">isInst</a></span>)
        <span class="keyword">else</span>                                                    <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.Typer</span><a href="#103153">typer</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Tree</span><a href="#103994">equalsRef</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.ConstantType</span><a id="104010">ct</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.ConstantType</span><a href="../symtab/Types.scala.html#21990">ConstantType</a></span> =&gt; <span class="typed"><span class="type">ParallelMatching.this.global.ConstantType</span><a href="#104010">ct</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Constant</span><a href="../symtab/Types.scala.html#27977">value</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {                                         <span class="comment">// constant</span>
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a id="104011">v</a></span> @ <a id="1">Constant</a>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29699">isAnyRef</a></span>     =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29536">Eq</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#43688">Literal</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a href="#104011">v</a></span>))
          <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a id="104017">v</a></span>                                                =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29535">Equals</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal</span><a href="../ast/Trees.scala.html#43688">Literal</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Constant</span><a href="#104017">v</a></span>))
        }
      <span class="typed"><span class="type">ParallelMatching.this.global.analyzer.global.Tree</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(ParallelMatching.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">implicit scala.tools.nsc.matching.PatternNodes.Types.enrichType : (ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType</span><a href="PatternNodes.scala.html#29607">tpe</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="PatternNodes.scala.html#29699">isAnyRef</a></span>           =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)(implicit ParallelMatching.this.global.analyzer.Typer)ParallelMatching.this.global.analyzer.global.Tree</span><a href="CodeFactory.scala.html#29541">NotNull</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><span class="keyword">case</span></span> _                                                    =&gt; <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Tree,ParallelMatching.this.global.gen.global.Type)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27613">mkIsInstanceOf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103152">scrutTree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103151">tpe</a></span>)
    }
  }

  <span class="comment">/** adds a test comparing the dynamic outer to the static outer */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Type,ParallelMatching.this.global.Tree,(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a id="29599">addOuterCondition</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103971">cond</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103972">tpe2test</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103973">scrut</a></span>: <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree</span><a id="103974">handleOuter</a></span>: Tree=&gt;Tree) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a id="103976">theRef</a></span> = <span class="typed"><span class="type">(ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="#103974" id="21757">handleOuter</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103972">tpe2test</a></span> <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">object ParallelMatching.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span>, _, _)          =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;assertion failed: NoPrefix&quot;)</span><span class="string">&quot;assertion failed: NoPrefix&quot;</span></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<a id="1">ThisType</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103977">clazz</a></span>), _, _)   =&gt; <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Symbol)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27609">mkAttributedThis</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103977">clazz</a></span>)
      <span class="typed"><span class="type">ParallelMatching.this.global.gen.global.Tree</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a id="103979">prefix</a></span>, _, _)            =&gt; <span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Type,ParallelMatching.this.global.gen.global.Symbol)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27603">mkAttributedRef</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103979">prefix</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Type</span><a href="../symtab/Types.scala.html#25660">prefix</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103979">prefix</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25649">termSymbol</a></span>)
    })
    
    <span class="typed"><span class="type">(ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol</span><a href="../transform/ExplicitOuter.scala.html#29491">outerAccessor</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103972">tpe2test</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>) <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object ParallelMatching.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">=&gt; ParallelMatching.this.global.CompilationUnit</span><a href="TransMatcher.scala.html#29503">cunit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24151">warning</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103973">scrut</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;no outer acc for &quot;)</span><span class="string">&quot;no outer acc for &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103972">tpe2test</a></span>.<span class="typed"><span class="type">=&gt; ParallelMatching.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>) ; <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103971">cond</a></span>
      <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a id="103988">outerAcc</a></span> =&gt; <span class="typed"><span class="type">(ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29538">And</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103971">cond</a></span>, <span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree</span><a href="CodeFactory.scala.html#29536">Eq</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.Code</span><a href="CodeFactory.scala.html#29524">Code</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.Tree,ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply</span><a href="CodeFactory.scala.html#30388">fn</a></span>(<span class="typed"><span class="type">object ParallelMatching.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(ParallelMatching.this.global.gen.global.Tree,ParallelMatching.this.global.gen.global.Type,Boolean)ParallelMatching.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27614">mkAsInstanceOf</a></span>(<span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103973">scrut</a></span>, <span class="typed"><span class="type">ParallelMatching.this.global.Type</span><a href="#103972">tpe2test</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Symbol</span><a href="#103988">outerAcc</a></span>), <span class="typed"><span class="type">ParallelMatching.this.global.Tree</span><a href="#103976">theRef</a></span>))
    }
  }
  
}

        </pre>
    </body>
</html>