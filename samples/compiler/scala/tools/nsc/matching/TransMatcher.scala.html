<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/matching/TransMatcher.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */
// $Id: TransMatcher.scala 18387 2009-07-24 15:28:37Z odersky $

/**
 * Simple pattern types:
 *
 * 1 Variable               x
 * 3 Literal                56
 *
 * Types which must be decomposed into conditionals and simple types:
 *
 * 2 Typed                  x: Int
 * 4 Stable Identifier      Bob
 * 5 Constructor            Symbol(&quot;abc&quot;)
 * 6 Tuple                  (5, 5)
 * 7 Extractor              List(1, 2)
 * 8 Sequence               List(1, 2, _*)
 * 9 Infix                  5 :: xs
 * 10 Alternative           &quot;foo&quot; | &quot;bar&quot;
 * 11 XML                   --
 * 12 Regular Expression    --
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> util.Position
<span class="keyword">import</span> ast.{ TreePrinters, Trees }
<span class="keyword">import</span> symtab.SymbolTable
<span class="keyword">import</span> java.io.{ StringWriter, PrintWriter }
<span class="keyword">import</span> scala.util.NameTransformer.decode

/** Translation of pattern matching
 *
 *  @author Burak Emir
 */
<span class="keyword">trait</span> <a title="trait TransMatcher extends java.lang.Object with scala.tools.nsc.ast.TreeDSL with scala.tools.nsc.matching.CompactTreePrinter with ScalaObject" id="18984">TransMatcher</a> <span title="ScalaObject" class="keyword">extends</span> ast.<a href="../ast/TreeDSL.scala.html#11964" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="keyword">with</span> <a href="#19308" title="scala.tools.nsc.matching.CompactTreePrinter">CompactTreePrinter</a> {
  self: transform.ExplicitOuter <span class="keyword">with</span> PatternNodes <span class="keyword">with</span> ParallelMatching =&gt; 

  <span class="keyword">import</span> global.{ typer =&gt; _, _ }
  <span class="keyword">import</span> analyzer.Typer;
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> symtab.Flags
  <span class="keyword">import</span> CODE._

  <span class="keyword">var</span> <a title="TransMatcher.this.global.CompilationUnit" id="79457">cunit</a>: <a href="../CompilationUnits.scala.html#39428" title="TransMatcher.this.global.CompilationUnit">CompilationUnit</a> = _  // memory leak?
  
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,s: String)String" id="79459">newName</a>(<a title="scala.tools.nsc.util.Position" id="79634">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="79635">s</a>: <span title="String">String</span>) = <a href="#79457" title="=&gt; TransMatcher.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#79634" title="scala.tools.nsc.util.Position">pos</a>, <a href="#79635" title="String">s</a>)

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean" id="79460">settings_squeeze</a> = <a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37369" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">Xsqueeze</a>.<a href="../Settings.scala.html#37988" title="(x$1: AnyRef)Boolean">value</a> == <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>
  
  /** Contains data structures which the match algorithm implementation
   *  requires but which aren't essential to the algorithm itself.
   */
  case <span class="keyword">class</span> <a title="class MatchMatrixContext extends java.lang.Object with ScalaObject with Product" id="80285">MatchMatrixContext</a><span title="ScalaObject">(</span>
    <a title="(TransMatcher.this.global.Tree) =&gt; TransMatcher.this.global.Tree" id="81815">handleOuter</a>: <a title="(TransMatcher.this.global.Tree) =&gt; TransMatcher.this.global.Tree" id="170">TreeFunction1</a>,   // Tree =&gt; Tree function 
    <a title="TransMatcher.this.global.analyzer.Typer" id="81816">typer</a>: <a href="../typechecker/Typers.scala.html#40153" title="TransMatcher.this.global.analyzer.Typer">Typer</a>,                 // a local typer
    <a title="TransMatcher.this.global.Symbol" id="81817">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a>,                // the current owner
    <a title="TransMatcher.this.global.Type" id="81818">resultType</a>: <a href="../symtab/Types.scala.html#26364" title="TransMatcher.this.global.Type">Type</a>)             // the expected result type of the whole match
  {  
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol" id="79675">newVar</a>(
      <a title="scala.tools.nsc.util.Position" id="79691">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>,
      <a title="TransMatcher.this.global.Type" id="79692">tpe</a>: <a href="../symtab/Types.scala.html#26364" title="TransMatcher.this.global.Type">Type</a>,
      <a title="List[Long]" id="79696">flags</a>: <span title="List[Long]">List</span>[Long] = <span title="object Nil">Nil</span>,
      <a title="TransMatcher.this.global.Name" id="79697">name</a>: <a href="../symtab/Names.scala.html#26214" title="TransMatcher.this.global.Name">Name</a> = <span title="Null(null)" class="keyword">null</span>): <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a> =
    {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Name" id="79698">n</a>: <a href="../symtab/Names.scala.html#26214" title="TransMatcher.this.global.Name">Name</a> = <span title="TransMatcher.this.global.Name" class="keyword">if</span> (<a href="#79697" title="(x$1: AnyRef)Boolean">name</a> == <span title="Null(null)" class="keyword">null</span>) <a href="#79459" title="(pos: scala.tools.nsc.util.Position,s: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)TransMatcher.this.global.Name">(</a><a href="#79691" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;temp&quot;)" class="string">&quot;temp&quot;</span>) <span class="keyword">else</span> <a href="#79697" title="TransMatcher.this.global.Name">name</a>
      // careful: pos has special meaning 
      <a href="#81817" title="=&gt; TransMatcher.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27023" title="(pos: scala.tools.nsc.util.Position,name: TransMatcher.this.global.Name)TransMatcher.this.global.TermSymbol">newVariable</a><a href="../symtab/Symbols.scala.html#27164" title="(info: TransMatcher.this.global.Type)TransMatcher.this.global.TermSymbol">(</a><a href="#79691" title="scala.tools.nsc.util.Position">pos</a>, <a href="#79698" title="TransMatcher.this.global.Name">n</a>) <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)TransMatcher.this.global.TermSymbol">setInfo</a> <a href="#79692" title="TransMatcher.this.global.Type">tpe</a> setFlag (<span title="Long(0L)" class="long">0L</span> <a href="#79735" title="Long">/:</a> <a href="#79696" title="(z: Long)(op: (Long, Long) =&gt; Long)Long" id="25451">flags</a>)(<a href="#79747" title="(x$1: Long)Long" id="3231">_</a>|<a href="#79748" title="Long">_</a>)
    }
    
    <span class="keyword">def</span> <a title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree" id="79676">typedValDef</a>(<a title="TransMatcher.this.global.Symbol" id="79761">x</a>: <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a>, <a title="TransMatcher.this.global.Tree" id="79762">rhs</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>) = {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="79765">finalRhs</a> = <a href="#79761" title="TransMatcher.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; TransMatcher.this.global.Type">tpe</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a href="../symtab/Types.scala.html#26378" title="object TransMatcher.this.global.WildcardType">WildcardType</a>   =&gt;
          <a href="../ast/Trees.scala.html#29552" title="(tp: TransMatcher.this.global.Type)rhs.type">rhs</a> setType <span title="Null(null)" class="keyword">null</span>
          <a href="../symtab/Symbols.scala.html#27164" title="(info: TransMatcher.this.global.Type)x.type">x</a> setInfo (<a href="../typechecker/Typers.scala.html#42872" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="#79762" title="TransMatcher.this.global.Tree">rhs</a>).<a href="../ast/Trees.scala.html#29549" title="=&gt; TransMatcher.this.global.analyzer.global.Type">tpe</a>
          <a href="#79762" title="TransMatcher.this.global.Tree">rhs</a>
        <span title="TransMatcher.this.global.analyzer.global.Tree" class="keyword">case</span> _              =&gt;
          <a href="#81816" title="=&gt; TransMatcher.this.global.analyzer.Typer">typer</a>.<a href="../typechecker/Typers.scala.html#42874" title="(tree: TransMatcher.this.global.analyzer.global.Tree,pt: TransMatcher.this.global.analyzer.global.Type)TransMatcher.this.global.analyzer.global.Tree">typed</a>(<a href="#79762" title="TransMatcher.this.global.Tree">rhs</a>, <a href="#79761" title="TransMatcher.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; TransMatcher.this.global.Type">tpe</a>)
      }
      <a href="../typechecker/Typers.scala.html#42872" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed (<a href="../ast/TreeDSL.scala.html#42753" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: TransMatcher.this.global.Tree)TransMatcher.this.global.ValDef">(</a><a href="#79761" title="TransMatcher.this.global.Symbol">x</a>) === <a href="#79765" title="TransMatcher.this.global.Tree">finalRhs</a>)
    }
    
    <span class="keyword">def</span> <a title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="79677">squeezedBlock</a>(<a title="List[TransMatcher.this.global.Tree]" id="79871">vds</a>: <span title="List[TransMatcher.this.global.Tree]">List</span>[Tree], <a title="TransMatcher.this.global.Tree" id="79872">exp</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a> =
      <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#79460" title="=&gt; Boolean">settings_squeeze</a>) <a href="../ast/Trees.scala.html#49279" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<span title="object Nil">Nil</span>, <a href="#79678" title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">squeezedBlock1</a>(<a href="#79871" title="List[TransMatcher.this.global.Tree]">vds</a>, <a href="#79872" title="TransMatcher.this.global.Tree">exp</a>))
      <span class="keyword">else</span>                  <a href="../ast/Trees.scala.html#49279" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79871" title="List[TransMatcher.this.global.Tree]">vds</a>, <a href="#79872" title="TransMatcher.this.global.Tree">exp</a>)

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="79678">squeezedBlock1</a>(<a title="List[TransMatcher.this.global.Tree]" id="79892">vds</a>: <span title="List[TransMatcher.this.global.Tree]">List</span>[Tree], <a title="TransMatcher.this.global.Tree" id="79893">exp</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a> = {
      <span class="keyword">class</span> <a title="class RefTraverser extends TransMatcher.this.global.Traverser with ScalaObject" id="79919">RefTraverser</a><span title="ScalaObject">(</span><a title="TransMatcher.this.global.Symbol" id="79938">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26933" title="TransMatcher.this.global.Traverser">Traverser</a> {
        <span class="keyword">var</span> <a title="Int" id="79928">nref</a>, <a title="Int" id="79931">nsafeRef</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TransMatcher.this.global.Tree)Unit" id="79933">traverse</a>(<a title="TransMatcher.this.global.Tree" id="79941">tree</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="#79941" title="TransMatcher.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Ident" id="79947">t</a>: <a href="../ast/Trees.scala.html#26891" title="TransMatcher.this.global.Ident">Ident</a> <span class="keyword">if</span> <a href="#79947" title="TransMatcher.this.global.Ident">t</a>.<a href="../ast/Trees.scala.html#48738" title="(x$1: AnyRef)Boolean">symbol</a> eq <a href="#79938" title="TransMatcher.this.global.Symbol">sym</a> =&gt; 
            <a href="#79928" title="(x$1: Int)Unit">nref</a> += <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> (<a href="#79938" title="TransMatcher.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="../ast/Trees.scala.html#71106" title="=&gt; TransMatcher.this.global.Symbol">currentOwner</a>) // oldOwner should match currentOwner
              <a href="#79931" title="(x$1: Int)Unit">nsafeRef</a> += <span title="Int(1)" class="int">1</span>

          <span title="Unit" class="keyword">case</span> LabelDef(_, <a title="List[TransMatcher.this.global.Ident]" id="80034">args</a>, <a title="TransMatcher.this.global.Tree" id="80035">rhs</a>) =&gt;
            (<a href="#80034" title="(p: (TransMatcher.this.global.Ident) =&gt; Boolean)List[TransMatcher.this.global.Ident]" id="24456">args</a> dropWhile(<a href="#80042" title="TransMatcher.this.global.Ident">_</a>.<a href="../ast/Trees.scala.html#48738" title="(x$1: AnyRef)Boolean" id="6613">symbol</a> ne <a href="#79938" title="TransMatcher.this.global.Symbol">sym</a>)) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <span title="object Nil">Nil</span>  =&gt; 
              <span title="Unit" class="keyword">case</span> _    =&gt; <a href="#79928" title="(x$1: Int)Unit">nref</a> += <span title="Int(2)" class="int">2</span>  // cannot substitute this one
            }
            <a href="#79933" title="(tree: TransMatcher.this.global.Tree)Unit">traverse</a>(<a href="#80035" title="TransMatcher.this.global.Tree">rhs</a>)
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="80086">t</a> <span class="keyword">if</span> <a href="#79928" title="(x$1: Int)Boolean" id="2981">nref</a> &gt; <span title="Int(1)" class="int">1</span> =&gt;       // abort, no story to tell
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="80093">t</a> =&gt;
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: TransMatcher.this.global.Tree)Unit">traverse</a>(<a href="#80093" title="TransMatcher.this.global.Tree">t</a>)
        }
      }

      <span class="keyword">class</span> <a title="class Subst extends TransMatcher.this.global.Transformer with ScalaObject" id="79920">Subst</a><span title="ScalaObject">(</span><a title="TransMatcher.this.global.Symbol" id="80111">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a>, <a title="TransMatcher.this.global.Tree" id="80112">rhs</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26932" title="TransMatcher.this.global.Transformer">Transformer</a> {
        <span class="keyword">var</span> <a title="Boolean" id="80104">stop</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="80106">transform</a>(<a title="TransMatcher.this.global.Tree" id="80115">tree</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="#80115" title="TransMatcher.this.global.Tree">tree</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
          <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a title="TransMatcher.this.global.Ident" id="80121">t</a>: <a href="../ast/Trees.scala.html#26891" title="TransMatcher.this.global.Ident">Ident</a> <span class="keyword">if</span> <a href="#80121" title="TransMatcher.this.global.Ident">t</a>.<a href="../ast/Trees.scala.html#48738" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#80111" title="TransMatcher.this.global.Symbol">sym</a> =&gt; 
            <a href="#80104" title="(x$1: Boolean)Unit">stop</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#80112" title="TransMatcher.this.global.Tree">rhs</a>
          <span title="TransMatcher.this.global.Tree" class="keyword">case</span> _ =&gt; <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#80104" title="=&gt; Boolean">stop</a>) <a href="#80115" title="TransMatcher.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">transform</a>(<a href="#80115" title="TransMatcher.this.global.Tree">tree</a>)
        }
      }

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="79922">squeezedTail</a> = <a href="#79677" title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">squeezedBlock</a>(<a href="#79892" title="List[TransMatcher.this.global.Tree]">vds</a>.<a title="=&gt; List[TransMatcher.this.global.Tree]" id="25477">tail</a>, <a href="#79893" title="TransMatcher.this.global.Tree">exp</a>)
      <span class="keyword">def</span> <a title="=&gt; TransMatcher.this.global.Block" id="79923">default</a> = <a href="#79921" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a> <span title="TransMatcher.this.global.Block" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> Block(<a title="List[TransMatcher.this.global.Tree]" id="80157">vds2</a>, <a title="TransMatcher.this.global.Tree" id="80158">exp2</a>) =&gt; <a href="../ast/Trees.scala.html#49279" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79892" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <a href="#80179" title="TransMatcher.this.global.Tree">::</a> <a href="#80157" title="(x: TransMatcher.this.global.Tree)List[TransMatcher.this.global.Tree]">vds2</a>, <a href="#80158" title="TransMatcher.this.global.Tree">exp2</a>)  
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="80189">exp2</a>              =&gt; <a href="../ast/Trees.scala.html#49279" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79892" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <a href="#80208" title="TransMatcher.this.global.Tree">::</a> <span title="(x: TransMatcher.this.global.Tree)List[TransMatcher.this.global.Tree]">Nil</span>,  <a href="#80189" title="TransMatcher.this.global.Tree">exp2</a>)  
      }

      <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#79892" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#79893" title="TransMatcher.this.global.Tree">exp</a> 
      <span class="keyword">else</span> <a href="#79892" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a title="TransMatcher.this.global.ValDef" id="80218">vd</a>: <a href="../ast/Trees.scala.html#26778" title="TransMatcher.this.global.ValDef">ValDef</a> =&gt;
          <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="80219">sym</a> = <a href="#80218" title="TransMatcher.this.global.ValDef">vd</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; TransMatcher.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="RefTraverser" id="80220">rt</a> = <span title="RefTraverser" class="keyword">new</span> <a href="#79919" title="RefTraverser">RefTraverser</a>(<a href="#80219" title="TransMatcher.this.global.Symbol">sym</a>)
          <a href="#80220" title="RefTraverser">rt</a>.<a href="../ast/Trees.scala.html#71116" title="(owner: TransMatcher.this.global.Symbol)(traverse: =&gt; Unit)Unit">atOwner</a> (<a href="#81817" title="=&gt; TransMatcher.this.global.Symbol">owner</a>) (<a href="#79933" title="(tree: TransMatcher.this.global.Tree)Unit">rt</a> traverse <a href="#79921" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>)

          <a href="#80220" title="RefTraverser">rt</a>.<a href="#79928" title="=&gt; Int">nref</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
            <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <span title="Int(0)" class="int">0</span>                      =&gt; <a href="#79921" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>
            <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <span title="Int(1)" class="int">1</span> <span class="keyword">if</span> <a href="#80220" title="RefTraverser">rt</a>.<a href="#79931" title="(x$1: Int)Boolean" id="2973">nsafeRef</a> == <span title="Int(1)" class="int">1</span>  =&gt; <a href="#80106" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" class="keyword">new</a> <a href="#79920" title="Subst">Subst</a>(<a href="#80219" title="TransMatcher.this.global.Symbol">sym</a>, <a href="#80218" title="TransMatcher.this.global.ValDef">vd</a>.<a href="../ast/Trees.scala.html#53785" title="=&gt; TransMatcher.this.global.Tree">rhs</a>) transform <a href="#79921" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>
            <span title="TransMatcher.this.global.Block" class="keyword">case</span> _                      =&gt; <a href="#79923" title="=&gt; TransMatcher.this.global.Block">default</a>
          }
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> _          =&gt;
          <a href="#79923" title="=&gt; TransMatcher.this.global.Block">default</a>
      }
    }
  }
    
  case <span class="keyword">class</span> <a title="class MatchMatrixInit extends java.lang.Object with ScalaObject with Product" id="80412">MatchMatrixInit</a><span title="ScalaObject">(</span>
    <a title="List[TransMatcher.this.global.Symbol]" id="80832">roots</a>: <span title="List[TransMatcher.this.global.Symbol]">List</span>[Symbol],
    <a title="List[TransMatcher.this.global.CaseDef]" id="80833">cases</a>: <span title="List[TransMatcher.this.global.CaseDef]">List</span>[CaseDef],
    <a title="TransMatcher.this.global.Tree" id="80834">default</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>
  )

  /** Handles all translation of pattern matching.
   */
  <span class="keyword">def</span> <a title="(selector: TransMatcher.this.global.Tree,cases: List[TransMatcher.this.global.CaseDef],isChecked: Boolean,context: TransMatcher.this.MatchMatrixContext)TransMatcher.this.global.Tree" id="79468">handlePattern</a>(
    <a title="TransMatcher.this.global.Tree" id="80478">selector</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>,         // tree being matched upon (called scrutinee after this)
    <a title="List[TransMatcher.this.global.CaseDef]" id="80479">cases</a>: <span title="List[TransMatcher.this.global.CaseDef]">List</span>[CaseDef],   // list of cases in the match
    <a title="Boolean" id="80480">isChecked</a>: <span title="Boolean">Boolean</span>,     // whether exhaustiveness checking is enabled (disabled with @unchecked)
    <a title="TransMatcher.this.MatchMatrixContext" id="80481">context</a>: <a href="#80285" title="TransMatcher.this.MatchMatrixContext">MatchMatrixContext</a>): <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a> =
  {
    <span class="keyword">import</span> context._
    
    // TRANS_FLAG communicates that there should be no exhaustiveness checking
    <span class="keyword">val</span> <a title="List[Long]" id="80484">flags</a>                 = <span title="(xs: Long*)List[Long]">List</span><a title="(p: (Long) =&gt; Boolean)List[Long]" id="25430">(</a>Flags.<span title="Long(274877906944L)">TRANS_FLAG</span>) filterNot (<a title="Long" id="80508">_</a> =&gt; <a href="#80480" title="Boolean">isChecked</a>)    
    <span class="keyword">def</span> <a title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw" id="80485">matchError</a>(<a title="TransMatcher.this.global.Tree" id="80511">obj</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: TransMatcher.this.global.Throw)TransMatcher.this.global.Throw">atPos</a>(<a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42750" title="(sym: TransMatcher.this.global.Symbol,msg: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">THROW</a>(<a href="../symtab/Definitions.scala.html#28493" title="=&gt; TransMatcher.this.global.Symbol">MatchErrorClass</a>, <a href="#80511" title="TransMatcher.this.global.Tree">obj</a>))
    <span class="keyword">def</span> <a title="(c: TransMatcher.this.global.CaseDef)Boolean" id="80486">caseIsOk</a>(<a title="TransMatcher.this.global.CaseDef" id="80758">c</a>: <a href="../ast/Trees.scala.html#26815" title="TransMatcher.this.global.CaseDef">CaseDef</a>)  = <a href="../ast/TreeDSL.scala.html#42709" title="(x: TransMatcher.this.global.Tree)(f: PartialFunction[TransMatcher.this.global.Tree,Boolean])Boolean">cond</a>(<a href="#80758" title="TransMatcher.this.global.CaseDef">c</a>.<a href="../ast/Trees.scala.html#51685" title="=&gt; TransMatcher.this.global.Tree">pat</a>) <a href="#80783" title="Boolean">{</a> <span title="Boolean(true)" class="keyword">case</span> _: <a href="../ast/Trees.scala.html#26873" title="TransMatcher.this.global.Apply">Apply</a> | Ident(<a href="../symtab/StdNames.scala.html#26690" title="object TransMatcher.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; TransMatcher.this.global.Name">WILDCARD</a>) =&gt; <span title="Boolean(true)" class="keyword">true</span> }

    // this appears to be an attempt at optimizing when all case defs are constructor
    // patterns, but I don't think it's correct.
    <span class="keyword">def</span> <a title="(fn: TransMatcher.this.global.Tree)Boolean" id="80487">doApply</a>(<a title="TransMatcher.this.global.Tree" id="80796">fn</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> =
      <span title="(x$1: Boolean)Boolean">(</span><a href="#80796" title="TransMatcher.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> eq (<a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; TransMatcher.this.global.Type">tpe</a>.<a href="../symtab/Scopes.scala.html#27297" title="(name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">decls</a> lookup <a href="../symtab/StdNames.scala.html#26690" title="object TransMatcher.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29905" title="=&gt; TransMatcher.this.global.Name">CONSTRUCTOR</a>)) &amp;&amp;
      (<a href="#80479" title="(p: (TransMatcher.this.global.CaseDef) =&gt; Boolean)Boolean" id="29121">cases</a> forall <a href="#80486" title="(c: TransMatcher.this.global.CaseDef)Boolean">caseIsOk</a>)
      
    // For x match { ... we start with a single root
    <span class="keyword">def</span> <a title="()(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" id="80488">singleMatch</a>(): <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span>List[Tree], MatchMatrixInit) = {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="80813">root</a>: <a href="../symtab/Symbols.scala.html#26286" title="TransMatcher.this.global.Symbol">Symbol</a>      = <a href="#79675" title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">newVar</a>(<a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; TransMatcher.this.global.Type">tpe</a>, <a href="#80484" title="List[Long]">flags</a>)
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="80814">varDef</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>      = <a href="#79676" title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typedValDef</a>(<a href="#80813" title="TransMatcher.this.global.Symbol">root</a>, <a href="#80478" title="TransMatcher.this.global.Tree">selector</a>)
      
      <span title="(_1: List[TransMatcher.this.global.Tree],_2: TransMatcher.this.MatchMatrixInit)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span><span title="(xs: TransMatcher.this.global.Tree*)List[TransMatcher.this.global.Tree]">List</span>(<a href="#80814" title="TransMatcher.this.global.Tree">varDef</a>), <a href="#80412" title="(roots: List[TransMatcher.this.global.Symbol],cases: List[TransMatcher.this.global.CaseDef],default: TransMatcher.this.global.Tree)TransMatcher.this.MatchMatrixInit">MatchMatrixInit</a>(<span title="(xs: TransMatcher.this.global.Symbol*)List[TransMatcher.this.global.Symbol]">List</span>(<a href="#80813" title="TransMatcher.this.global.Symbol">root</a>), <a href="#80479" title="List[TransMatcher.this.global.CaseDef]">cases</a>, <a href="#80485" title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">matchError</a>(<a href="../ast/TreeDSL.scala.html#42764" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.global.gen.global.Tree">ID</a>(<a href="#80813" title="TransMatcher.this.global.Symbol">root</a>))))
    }
    
    // For (x, y, z) match { ... we start with multiple roots, called tpXX.
    <span class="keyword">def</span> <a title="(app: TransMatcher.this.global.Apply)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" id="80489">tupleMatch</a>(<a title="TransMatcher.this.global.Apply" id="80878">app</a>: <a href="../ast/Trees.scala.html#26873" title="TransMatcher.this.global.Apply">Apply</a>): <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span>List[Tree], MatchMatrixInit) = {
      <span class="keyword">val</span> Apply<a href="#80880" title="(TransMatcher.this.global.Tree, List[TransMatcher.this.global.Tree])">(</a><a href="#80879" title="TransMatcher.this.global.Tree" id="80880">fn</a>, <a href="#80879" title="List[TransMatcher.this.global.Tree]" id="80881">args</a>) = <a href="#80878" title="TransMatcher.this.global.Apply">app</a>
      <span class="keyword">val</span> <a href="#80883" title="(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree])">(</a><a href="#80882" title="List[TransMatcher.this.global.Symbol]" id="80883">roots</a>, <a href="#80882" title="List[TransMatcher.this.global.analyzer.global.Tree]" id="80884">vars</a>) = <span title="object List">List</span>.<a title="(xs: List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)])(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree])" id="24492">unzip</a><span title="(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree]) @unchecked">(</span>
        <span class="keyword">for</span> ((<a title="TransMatcher.this.global.Tree" id="81031">arg</a>, <a title="TransMatcher.this.global.Type" id="81032">typeArg</a>) &lt;- <a href="#80881" title="(that: Iterable[TransMatcher.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type),List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)],List[TransMatcher.this.global.Tree]])List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)]" id="25607">args</a> <a href="#81007" title="(f: ((TransMatcher.this.global.Tree, TransMatcher.this.global.Type)) =&gt; (TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree))(implicit bf: scala.collection.generic.BuilderFactory[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree),List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)],List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)]])List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)]">zip</a> <a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; TransMatcher.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[TransMatcher.this.global.Type]">typeArgs</a>) <span class="keyword">yield</span> {
          <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="81035">v</a> = <a href="#79675" title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">newVar</a>(<a href="#81031" title="TransMatcher.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#81032" title="TransMatcher.this.global.Type">typeArg</a>, <a href="#80484" title="List[Long]">flags</a>, <a href="#79459" title="(pos: scala.tools.nsc.util.Position,s: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)TransMatcher.this.global.Name">(</a><a href="#81031" title="TransMatcher.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;tp&quot;)" class="string">&quot;tp&quot;</span>))
          <span title="(_1: TransMatcher.this.global.Symbol,_2: TransMatcher.this.global.analyzer.global.Tree)(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)">(</span><a href="#81035" title="TransMatcher.this.global.Symbol">v</a>, <a href="#79676" title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typedValDef</a>(<a href="#81035" title="TransMatcher.this.global.Symbol">v</a>, <a href="#81031" title="TransMatcher.this.global.Tree">arg</a>))
        }
      )
      <span title="(_1: List[TransMatcher.this.global.analyzer.global.Tree],_2: TransMatcher.this.MatchMatrixInit)(List[TransMatcher.this.global.analyzer.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span><a href="#80884" title="List[TransMatcher.this.global.analyzer.global.Tree]">vars</a>, <a href="#80412" title="(roots: List[TransMatcher.this.global.Symbol],cases: List[TransMatcher.this.global.CaseDef],default: TransMatcher.this.global.Tree)TransMatcher.this.MatchMatrixInit">MatchMatrixInit</a>(<a href="#80883" title="List[TransMatcher.this.global.Symbol]">roots</a>, <a href="#80479" title="List[TransMatcher.this.global.CaseDef]">cases</a>, <a href="#80485" title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">matchError</a>(<a href="../ast/Trees.scala.html#26743" title="=&gt; TransMatcher.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48871" title="(tree: TransMatcher.this.global.Tree,fun: TransMatcher.this.global.Tree,args: List[TransMatcher.this.global.Tree])TransMatcher.this.global.Apply">Apply</a>(<a href="#80878" title="TransMatcher.this.global.Apply">app</a>, <a href="#80880" title="TransMatcher.this.global.Tree">fn</a>, <a href="#80883" title="(f: (TransMatcher.this.global.Symbol) =&gt; TransMatcher.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[TransMatcher.this.global.gen.global.Tree,List[TransMatcher.this.global.Tree],List[TransMatcher.this.global.Symbol]])List[TransMatcher.this.global.Tree]">roots</a> <span title="scala.collection.generic.BuilderFactory[TransMatcher.this.global.gen.global.Tree,List[TransMatcher.this.global.gen.global.Tree],List#Coll]">map</span> <a href="../ast/TreeDSL.scala.html#42764" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.global.gen.global.Tree">ID</a>))))
    }

    // sets up top level variables and algorithm input
    <span class="keyword">val</span> <a href="#80491" title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</a><a href="#80490" title="List[TransMatcher.this.global.Tree]" id="80491">vars</a>, <a href="#80490" title="TransMatcher.this.MatchMatrixInit" id="80492">matrixInit</a>) = <a href="#80478" title="TransMatcher.this.global.Tree">selector</a> <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">match</span> {
      <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">case</span> <a title="TransMatcher.this.global.Apply" id="81280">app</a> @ Apply(<a title="TransMatcher.this.global.Tree" id="81283">fn</a>, _) <span class="keyword">if</span> <a href="../symtab/Definitions.scala.html#28644" title="(tp: TransMatcher.this.global.Type)Boolean">isTupleType</a><span title="(x$1: Boolean)Boolean">(</span><a href="#80478" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; TransMatcher.this.global.Type">tpe</a>) &amp;&amp; <a href="#80487" title="(fn: TransMatcher.this.global.Tree)Boolean">doApply</a>(<a href="#81283" title="TransMatcher.this.global.Tree">fn</a>) =&gt; <a href="#80489" title="(app: TransMatcher.this.global.Apply)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">tupleMatch</a>(<a href="#81280" title="TransMatcher.this.global.Apply">app</a>)
      <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">case</span> _                                                              =&gt; <a href="#80488" title="()(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">singleMatch</a>()
    }
    
    <span class="keyword">val</span> <a title="TransMatcher.this.MatchMatrix" id="80493">matrix</a>  = <span title="TransMatcher.this.MatchMatrix" class="keyword">new</span> <a href="ParallelMatching.scala.html#79593" title="TransMatcher.this.MatchMatrix">MatchMatrix</a>(<a href="#80481" title="TransMatcher.this.MatchMatrixContext">context</a>, <a href="#80492" title="TransMatcher.this.MatchMatrixInit">matrixInit</a>)
    <span class="keyword">val</span> <a title="matrix.Rep" id="80494">rep</a>     = <a href="#80493" title="TransMatcher.this.MatchMatrix">matrix</a>.<a href="ParallelMatching.scala.html#81340" title="=&gt; matrix.Rep">expansion</a>                    // expands casedefs and assigns name
    <span class="keyword">val</span> <a title="TransMatcher.this.global.analyzer.global.Tree" id="80495">mch</a>     = <a href="../typechecker/Typers.scala.html#42872" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="#80494" title="matrix.Rep">rep</a>.<a href="ParallelMatching.scala.html#81420" title="()TransMatcher.this.global.Tree">toTree</a>              // executes algorithm, converts tree to DFA
    <span class="keyword">val</span> <a title="TransMatcher.this.global.analyzer.global.Tree" id="80496">dfatree</a> = <a href="../typechecker/Typers.scala.html#42872" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="../ast/Trees.scala.html#49279" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#80491" title="List[TransMatcher.this.global.Tree]">vars</a>, <a href="#80495" title="TransMatcher.this.global.analyzer.global.Tree">mch</a>)        // packages into a code block

    // TRACE(&quot;handlePattern(\n  roots = %s\n  cases = %s\n  rep = %s\n  initRep = %s\n)&quot;, 
    //   roots, cases.mkString(&quot;(\n    &quot;, &quot;\n    &quot;, &quot;\n)&quot;), rep, irep)
    // TRACE(&quot;dfatree(1) = &quot; + toCompactString(dfatree))

    // redundancy check
    <span class="keyword">for</span> ((<a title="TransMatcher.this.global.CaseDef" id="81620">cs</a>, <a title="Int" id="81621">bx</a>) &lt;- <a href="#80479" title="List[TransMatcher.this.global.CaseDef]">cases</a>.<a href="#81587" title="(f: ((TransMatcher.this.global.CaseDef, Int)) =&gt; Unit)Unit" id="25621">zipWithIndex</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#80493" title="TransMatcher.this.MatchMatrix">matrix</a>.<a href="ParallelMatching.scala.html#81344" title="(bx: Int)Boolean">isReached</a>(<a href="#81621" title="Int">bx</a>)) <a href="#79457" title="=&gt; TransMatcher.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#81620" title="TransMatcher.this.global.CaseDef">cs</a>.<a href="../ast/Trees.scala.html#51689" title="=&gt; TransMatcher.this.global.Tree">body</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;unreachable code&quot;)" class="string">&quot;unreachable code&quot;</span>)
      
    // cleanup performs squeezing and resets any remaining TRANS_FLAGs
    <a href="ParallelMatching.scala.html#81343" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">matrix</a> cleanup <a href="#80496" title="TransMatcher.this.global.analyzer.global.Tree">dfatree</a>
  }
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TransMatcher.this.global.Tree)String" id="79469">toCompactString</a>(<a title="TransMatcher.this.global.Tree" id="81644">t</a>: <a href="../ast/Trees.scala.html#26752" title="TransMatcher.this.global.Tree">Tree</a>): <span title="String">String</span> = {
    <span class="keyword">val</span> <a title="java.io.StringWriter" id="81646">buffer</a> = <span title="java.io.StringWriter" class="keyword">new</span> <a title="java.io.StringWriter" id="3771">StringWriter</a>()
    <span class="keyword">val</span> <a title="TransMatcher.this.compactTreePrinters.TreePrinter" id="81647">printer</a> = <a href="#79492" title="object TransMatcher.this.compactTreePrinters">compactTreePrinters</a>.<a href="#81716" title="(writer: java.io.PrintWriter)TransMatcher.this.compactTreePrinters.TreePrinter">create</a>(<span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#81646" title="java.io.StringWriter">buffer</a>))
    <a href="#81647" title="TransMatcher.this.compactTreePrinters.TreePrinter">printer</a>.<a href="../ast/TreePrinters.scala.html#81776" title="(tree: TransMatcher.this.compactTreePrinters.trees.Tree)Unit">print</a>(<a href="#81644" title="TransMatcher.this.global.Tree">t</a>)
    <a href="#81647" title="TransMatcher.this.compactTreePrinters.TreePrinter">printer</a>.<a href="../ast/TreePrinters.scala.html#81748" title="()Unit">flush</a>()
    <a href="#81646" title="java.io.StringWriter">buffer</a>.<a title="()java.lang.String" id="81671">toString</a>
  }
}

/** A tree printer which is stingier about vertical whitespace and unnecessary
 *  punctuation than the standard one.
 */
<span class="keyword">trait</span> <a title="trait CompactTreePrinter extends java.lang.Object with ScalaObject" id="19308">CompactTreePrinter</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="79491">global</a>: <a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>
  
  <span class="keyword">object</span> <a title="object CompactTreePrinter.this.compactTreePrinters" id="79492">compactTreePrinters</a> <span title="ScalaObject" class="keyword">extends</span> {
    <span class="keyword">val</span> <a title="CompactTreePrinter.this.global.type" id="81842">trees</a>: global.<span class="keyword">type</span> = <a href="#79491" title="=&gt; scala.tools.nsc.Global">global</a>
  } <span class="keyword">with</span> <a href="../ast/TreePrinters.scala.html#11577" title="scala.tools.nsc.ast.TreePrinters">TreePrinters</a> {
    <span class="keyword">import</span> trees._
    
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(writer: java.io.PrintWriter)scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter" id="81716">create</a>(<a title="java.io.PrintWriter" id="81717">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>): <a href="../ast/TreePrinters.scala.html#81704" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter">TreePrinter</a> = <a href="#81845" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter{ ... }" class="keyword">new</a> <a href="../ast/TreePrinters.scala.html#81704" title="anonymous class $anon extends scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter" id="81845">TreePrinter</a>(<a href="#81717" title="java.io.PrintWriter">writer</a>) {
      // drill down through Blocks and pull out the real statements.
      <span class="keyword">def</span> <a title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="81847">allStatements</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81853">t</a>: <a href="../ast/Trees.scala.html#26752" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>): <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>[Tree] = <a href="#81853" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">t</a> <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">match</span> {
        <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">case</span> Block(<a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="81856">stmts</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81857">expr</a>) =&gt; (<a href="#81856" title="(f: (scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree) =&gt; Traversable[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])(implicit bf: scala.collection.generic.BuilderFactory[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]])List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="25407">stmts</a> <span title="scala.collection.generic.BuilderFactory[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],List#Coll]">flatMap</span> <a href="#81847" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>) <a href="#81860" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">:::</a> <span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span><a title="(prefix: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="24420">(</a><a href="#81857" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">expr</a>)
        <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">case</span> _                  =&gt; <span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#81853" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">t</a>)
      }

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit" id="81848">printRaw</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81977">tree</a>: <a href="../ast/Trees.scala.html#26752" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>): <a title="Unit" id="1971">Unit</a> = {
        // routing supercalls through this for debugging ease
        <span class="keyword">def</span> <a title="()Unit" id="81981">s</a>() = {
          // Console.println(&quot;toSuper: &quot; + tree.getClass)
          <span class="keyword">super</span>.<a href="../ast/TreePrinters.scala.html#81775" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81977" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>)
        }
        
        <a href="#81977" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          // labels used for jumps - does not map to valid scala code
          <span title="Unit" class="keyword">case</span> LabelDef(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="81990">name</a>, <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident]" id="81991">params</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81992">rhs</a>) =&gt;
            <a href="../ast/TreePrinters.scala.html#81767" title="(str: String)Unit">print</a>(<span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;labeldef %s(%s) = &quot;</span>.<span title="(args: Any*)String">format</span>(<a href="#81990" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">name</a>, <a href="#81991" title="(sep: String)String" id="25523">params</a> mkString <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>))
            <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81992" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">rhs</a>)
            
          // target.method(arg) ==&gt; target method arg
          <span title="Unit" class="keyword">case</span> Apply(Select(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82042">target</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="82043">method</a>), <a href="#82047" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82056">arg</a>)) =&gt;
            <span title="(_1: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,_2: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)(scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree, scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)">(</span><a href="#82042" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">target</a>, <a href="#82056" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">arg</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> (_: <a href="../ast/Trees.scala.html#26891" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident">Ident</a>, _: <a href="../ast/Trees.scala.html#26896" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Literal">Literal</a> | _: <a href="../ast/Trees.scala.html#26891" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident">Ident</a>)  =&gt; 
                <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82042" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">target</a>)
                <a href="../ast/TreePrinters.scala.html#81767" title="(str: String)Unit">print</a>(<span title="(args: Any*)String" class="string">&quot; %s &quot;</span> format <a href="../ast/TreePrinters.scala.html#81762" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,name: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name)String">symName</a>(<a href="#81977" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>, <a href="#82043" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">method</a>))
                <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82056" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">arg</a>)
              <span title="Unit" class="keyword">case</span> _                        =&gt; <a href="#81981" title="()Unit">s</a>()
            }
            
          // case Select(Select(_, x), y) if x.toString == &quot;this&quot; =&gt;
          //   print(symName(tree, y))
          // target.unary_! ==&gt; !target
          <span title="Unit" class="keyword">case</span> Select(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82125">qualifier</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="82126">name</a>) =&gt;
            <span class="keyword">val</span> <a title="String" id="82129">n</a> = <a href="../ast/TreePrinters.scala.html#81762" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,name: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name)String">symName</a>(<a href="#81977" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>, <a href="#82126" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">name</a>)          
            <span title="Unit" class="keyword">if</span> (<a href="#82129" title="(x$1: java.lang.String)Boolean" id="7042">n</a> startsWith <span title="java.lang.String(&quot;unary_&quot;)" class="string">&quot;unary_&quot;</span>) {
              <a href="../ast/TreePrinters.scala.html#81767" title="(str: String)Unit">print</a>(<a href="#82129" title="(n: Int)scala.runtime.RichString" id="25945">n</a> <a title="implicit scala.Predef.richString2String : (x: scala.runtime.RichString)String" id="8234">drop</a> <span title="Int(6)" class="int">6</span>)
              <a href="../ast/TreePrinters.scala.html#81776" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">print</a>(<a href="#82125" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">qualifier</a>)
            }
            <span class="keyword">else</span> <a href="#81981" title="()Unit">s</a>()
            
          // target.toString() ==&gt; target.toString
          <span title="Unit" class="keyword">case</span> Apply(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82298">fn</a>, <span title="object Nil">Nil</span>)   =&gt; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82298" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">fn</a>)
          
          // if a Block only continues one actual statement, just print it.
          <span title="Unit" class="keyword">case</span> Block(<a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82306">stats</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82307">expr</a>) =&gt;          
            <a href="#81847" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#81977" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="#82313" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82322">x</a>)            =&gt; <a href="../ast/TreePrinters.scala.html#81756" title="(ts: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],start: String,sep: String,end: String)Unit">printRow</a>(<span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#82322" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>), <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
              <span title="Unit" class="keyword">case</span> _                  =&gt; <a href="#81981" title="()Unit">s</a>()
            }
          
          // If thenp or elsep has only one statement, it doesn't need more than one line.
          <span title="Unit" class="keyword">case</span> If(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82361">cond</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82362">thenp</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82363">elsep</a>) =&gt;
            <a href="../ast/TreePrinters.scala.html#81756" title="(ts: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],start: String,sep: String,end: String)Unit">printRow</a>(<span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#82361" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">cond</a>), <span title="java.lang.String(&quot;if (&quot;)" class="string">&quot;if (&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span>)
            
            <span class="keyword">def</span> <a title="(x: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit" id="82366">ifIndented</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82392">x</a>: <a href="../ast/Trees.scala.html#26752" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>) = {
              <a href="../ast/TreePrinters.scala.html#81749" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81751" title="=&gt; Unit">println</a> ; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82392" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>) ; <a href="../ast/TreePrinters.scala.html#81750" title="=&gt; Unit">undent</a>
            }
        
            <a href="../ast/TreePrinters.scala.html#81749" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81751" title="=&gt; Unit">println</a> ; 
            <a href="#81847" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#82362" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">thenp</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="#82479" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If" id="82488">x</a>: <a href="../ast/Trees.scala.html#26847" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If">If</a>)  =&gt; <a href="#82366" title="(x: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">ifIndented</a>(<a href="#82488" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If">x</a>)
              <span title="Unit" class="keyword">case</span> <a href="#82493" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82502">x</a>)      =&gt; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82502" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>)
              <span title="Unit" class="keyword">case</span> _            =&gt; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82362" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">thenp</a>)
            }
            <a href="../ast/TreePrinters.scala.html#81750" title="=&gt; Unit">undent</a> ; <a href="../ast/TreePrinters.scala.html#81751" title="=&gt; Unit">println</a> ; 
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82367">elseStmts</a> = <a href="#81847" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#82363" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">elsep</a>)
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#82367" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">elseStmts</a>.<span title="=&gt; Boolean">isEmpty</span>) {
              <a href="../ast/TreePrinters.scala.html#81767" title="(str: String)Unit">print</a>(<span title="java.lang.String(&quot;else&quot;)" class="string">&quot;else&quot;</span>)
              <a href="../ast/TreePrinters.scala.html#81749" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81751" title="=&gt; Unit">println</a> 
              <a href="#82367" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">elseStmts</a> <span title="Unit" class="keyword">match</span> {
                <span title="Unit" class="keyword">case</span> <a href="#82526" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82535">x</a>)      =&gt; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82535" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>)
                <span title="Unit" class="keyword">case</span> <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82540">xs</a>           =&gt; <a href="#81848" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82363" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">elsep</a>)
              }
              <a href="../ast/TreePrinters.scala.html#81750" title="=&gt; Unit">undent</a> ; <a href="../ast/TreePrinters.scala.html#81751" title="=&gt; Unit">println</a>
            }
          <span title="Unit" class="keyword">case</span> _        =&gt; <a href="#81981" title="()Unit">s</a>()
        }
      }      
    }
  }
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="CompactTreePrinter.this.compactTreePrinters.TreePrinter" id="79495">compactTreePrinter</a> = <a href="#79492" title="object CompactTreePrinter.this.compactTreePrinters">compactTreePrinters</a>.<a href="../ast/TreePrinters.scala.html#81707" title="()CompactTreePrinter.this.compactTreePrinters.TreePrinter">create</a>()
}

        </pre>
    </body>
</html>