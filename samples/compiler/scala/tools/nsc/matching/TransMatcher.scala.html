<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/matching/TransMatcher.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */
// $Id: TransMatcher.scala 18387 2009-07-24 15:28:37Z odersky $

/**
 * Simple pattern types:
 *
 * 1 Variable               x
 * 3 Literal                56
 *
 * Types which must be decomposed into conditionals and simple types:
 *
 * 2 Typed                  x: Int
 * 4 Stable Identifier      Bob
 * 5 Constructor            Symbol(&quot;abc&quot;)
 * 6 Tuple                  (5, 5)
 * 7 Extractor              List(1, 2)
 * 8 Sequence               List(1, 2, _*)
 * 9 Infix                  5 :: xs
 * 10 Alternative           &quot;foo&quot; | &quot;bar&quot;
 * 11 XML                   --
 * 12 Regular Expression    --
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> util.Position
<span class="keyword">import</span> ast.{ TreePrinters, Trees }
<span class="keyword">import</span> symtab.SymbolTable
<span class="keyword">import</span> java.io.{ StringWriter, PrintWriter }
<span class="keyword">import</span> scala.util.NameTransformer.decode

/** Translation of pattern matching
 *
 *  @author Burak Emir
 */
<span class="keyword">trait</span> <a title="trait TransMatcher extends java.lang.Object with scala.tools.nsc.ast.TreeDSL with scala.tools.nsc.matching.CompactTreePrinter with ScalaObject" id="18849">TransMatcher</a> <span title="ScalaObject" class="keyword">extends</span> ast.<a href="../ast/TreeDSL.scala.html#11895" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="keyword">with</span> <a href="#19173" title="scala.tools.nsc.matching.CompactTreePrinter">CompactTreePrinter</a> {
  self: transform.ExplicitOuter <span class="keyword">with</span> PatternNodes <span class="keyword">with</span> ParallelMatching =&gt; 

  <span class="keyword">import</span> global.{ typer =&gt; _, _ }
  <span class="keyword">import</span> analyzer.Typer;
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> symtab.Flags
  <span class="keyword">import</span> CODE._

  <span class="keyword">var</span> <a title="TransMatcher.this.global.CompilationUnit" id="79167">cunit</a>: <a href="../CompilationUnits.scala.html#39196" title="TransMatcher.this.global.CompilationUnit">CompilationUnit</a> = _  // memory leak?
  
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,s: String)String" id="79169">newName</a>(<a title="scala.tools.nsc.util.Position" id="79344">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="79345">s</a>: <span title="String">String</span>) = <a href="#79167" title="=&gt; TransMatcher.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#45434" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#73998" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#79344" title="scala.tools.nsc.util.Position">pos</a>, <a href="#79345" title="String">s</a>)

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean" id="79170">settings_squeeze</a> = <a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37174" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">Xsqueeze</a>.<a href="../Settings.scala.html#37759" title="(x$1: AnyRef)Boolean">value</a> == <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>
  
  /** Contains data structures which the match algorithm implementation
   *  requires but which aren't essential to the algorithm itself.
   */
  case <span class="keyword">class</span> <a title="class MatchMatrixContext extends java.lang.Object with ScalaObject with Product" id="79995">MatchMatrixContext</a><span title="ScalaObject">(</span>
    <a title="(TransMatcher.this.global.Tree) =&gt; TransMatcher.this.global.Tree" id="81516">handleOuter</a>: <a title="(TransMatcher.this.global.Tree) =&gt; TransMatcher.this.global.Tree" id="161">TreeFunction1</a>,   // Tree =&gt; Tree function 
    <a title="TransMatcher.this.global.analyzer.Typer" id="81517">typer</a>: <a href="../typechecker/Typers.scala.html#39921" title="TransMatcher.this.global.analyzer.Typer">Typer</a>,                 // a local typer
    <a title="TransMatcher.this.global.Symbol" id="81518">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a>,                // the current owner
    <a title="TransMatcher.this.global.Type" id="81519">resultType</a>: <a href="../symtab/Types.scala.html#26205" title="TransMatcher.this.global.Type">Type</a>)             // the expected result type of the whole match
  {  
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol" id="79385">newVar</a>(
      <a title="scala.tools.nsc.util.Position" id="79401">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>,
      <a title="TransMatcher.this.global.Type" id="79402">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="TransMatcher.this.global.Type">Type</a>,
      <a title="List[Long]" id="79406">flags</a>: <span title="List[Long]">List</span>[Long] = <span title="object Nil">Nil</span>,
      <a title="TransMatcher.this.global.Name" id="79407">name</a>: <a href="../symtab/Names.scala.html#26055" title="TransMatcher.this.global.Name">Name</a> = <span title="Null(null)" class="keyword">null</span>): <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a> =
    {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Name" id="79408">n</a>: <a href="../symtab/Names.scala.html#26055" title="TransMatcher.this.global.Name">Name</a> = <span title="TransMatcher.this.global.Name" class="keyword">if</span> (<a href="#79407" title="(x$1: AnyRef)Boolean">name</a> == <span title="Null(null)" class="keyword">null</span>) <a href="#79169" title="(pos: scala.tools.nsc.util.Position,s: String)String">newName</a><a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)TransMatcher.this.global.Name">(</a><a href="#79401" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;temp&quot;)" class="string">&quot;temp&quot;</span>) <span class="keyword">else</span> <a href="#79407" title="TransMatcher.this.global.Name">name</a>
      // careful: pos has special meaning 
      <a href="#81518" title="=&gt; TransMatcher.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26864" title="(pos: scala.tools.nsc.util.Position,name: TransMatcher.this.global.Name)TransMatcher.this.global.TermSymbol">newVariable</a><a href="../symtab/Symbols.scala.html#27005" title="(info: TransMatcher.this.global.Type)TransMatcher.this.global.TermSymbol">(</a><a href="#79401" title="scala.tools.nsc.util.Position">pos</a>, <a href="#79408" title="TransMatcher.this.global.Name">n</a>) <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)TransMatcher.this.global.TermSymbol">setInfo</a> <a href="#79402" title="TransMatcher.this.global.Type">tpe</a> setFlag (<span title="Long(0L)" class="long">0L</span> <a href="#79445" title="Long">/:</a> <a href="#79406" title="(z: Long)(op: (Long, Long) =&gt; Long)Long" id="25292">flags</a>)(<a href="#79457" title="(x$1: Long)Long" id="3210">_</a>|<a href="#79458" title="Long">_</a>)
    }
    
    <span class="keyword">def</span> <a title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree" id="79386">typedValDef</a>(<a title="TransMatcher.this.global.Symbol" id="79471">x</a>: <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a>, <a title="TransMatcher.this.global.Tree" id="79472">rhs</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>) = {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="79475">finalRhs</a> = <a href="#79471" title="TransMatcher.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; TransMatcher.this.global.Type">tpe</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object TransMatcher.this.global.WildcardType">WildcardType</a>   =&gt;
          <a href="../ast/Trees.scala.html#29366" title="(tp: TransMatcher.this.global.Type)rhs.type">rhs</a> setType <span title="Null(null)" class="keyword">null</span>
          <a href="../symtab/Symbols.scala.html#27005" title="(info: TransMatcher.this.global.Type)x.type">x</a> setInfo (<a href="../typechecker/Typers.scala.html#42640" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="#79472" title="TransMatcher.this.global.Tree">rhs</a>).<a href="../ast/Trees.scala.html#29363" title="=&gt; TransMatcher.this.global.analyzer.global.Type">tpe</a>
          <a href="#79472" title="TransMatcher.this.global.Tree">rhs</a>
        <span title="TransMatcher.this.global.analyzer.global.Tree" class="keyword">case</span> _              =&gt;
          <a href="#81517" title="=&gt; TransMatcher.this.global.analyzer.Typer">typer</a>.<a href="../typechecker/Typers.scala.html#42642" title="(tree: TransMatcher.this.global.analyzer.global.Tree,pt: TransMatcher.this.global.analyzer.global.Type)TransMatcher.this.global.analyzer.global.Tree">typed</a>(<a href="#79472" title="TransMatcher.this.global.Tree">rhs</a>, <a href="#79471" title="TransMatcher.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; TransMatcher.this.global.Type">tpe</a>)
      }
      <a href="../typechecker/Typers.scala.html#42640" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed (<a href="../ast/TreeDSL.scala.html#42521" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79532" title="(body: TransMatcher.this.global.Tree)TransMatcher.this.global.ValDef">(</a><a href="#79471" title="TransMatcher.this.global.Symbol">x</a>) === <a href="#79475" title="TransMatcher.this.global.Tree">finalRhs</a>)
    }
    
    <span class="keyword">def</span> <a title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="79387">squeezedBlock</a>(<a title="List[TransMatcher.this.global.Tree]" id="79581">vds</a>: <span title="List[TransMatcher.this.global.Tree]">List</span>[Tree], <a title="TransMatcher.this.global.Tree" id="79582">exp</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a> =
      <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#79170" title="=&gt; Boolean">settings_squeeze</a>) <a href="../ast/Trees.scala.html#49026" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<span title="object Nil">Nil</span>, <a href="#79388" title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">squeezedBlock1</a>(<a href="#79581" title="List[TransMatcher.this.global.Tree]">vds</a>, <a href="#79582" title="TransMatcher.this.global.Tree">exp</a>))
      <span class="keyword">else</span>                  <a href="../ast/Trees.scala.html#49026" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79581" title="List[TransMatcher.this.global.Tree]">vds</a>, <a href="#79582" title="TransMatcher.this.global.Tree">exp</a>)

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="79388">squeezedBlock1</a>(<a title="List[TransMatcher.this.global.Tree]" id="79602">vds</a>: <span title="List[TransMatcher.this.global.Tree]">List</span>[Tree], <a title="TransMatcher.this.global.Tree" id="79603">exp</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a> = {
      <span class="keyword">class</span> <a title="class RefTraverser extends TransMatcher.this.global.Traverser with ScalaObject" id="79629">RefTraverser</a><span title="ScalaObject">(</span><a title="TransMatcher.this.global.Symbol" id="79648">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26774" title="TransMatcher.this.global.Traverser">Traverser</a> {
        <span class="keyword">var</span> <a title="Int" id="79638">nref</a>, <a title="Int" id="79641">nsafeRef</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TransMatcher.this.global.Tree)Unit" id="79643">traverse</a>(<a title="TransMatcher.this.global.Tree" id="79651">tree</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="#79651" title="TransMatcher.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Ident" id="79657">t</a>: <a href="../ast/Trees.scala.html#26732" title="TransMatcher.this.global.Ident">Ident</a> <span class="keyword">if</span> <a href="#79657" title="TransMatcher.this.global.Ident">t</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean">symbol</a> eq <a href="#79648" title="TransMatcher.this.global.Symbol">sym</a> =&gt; 
            <a href="#79638" title="(x$1: Int)Unit">nref</a> += <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> (<a href="#79648" title="TransMatcher.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="../ast/Trees.scala.html#70822" title="=&gt; TransMatcher.this.global.Symbol">currentOwner</a>) // oldOwner should match currentOwner
              <a href="#79641" title="(x$1: Int)Unit">nsafeRef</a> += <span title="Int(1)" class="int">1</span>

          <span title="Unit" class="keyword">case</span> LabelDef(_, <a title="List[TransMatcher.this.global.Ident]" id="79744">args</a>, <a title="TransMatcher.this.global.Tree" id="79745">rhs</a>) =&gt;
            (<a href="#79744" title="(p: (TransMatcher.this.global.Ident) =&gt; Boolean)List[TransMatcher.this.global.Ident]" id="24297">args</a> dropWhile(<a href="#79752" title="TransMatcher.this.global.Ident">_</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean" id="6544">symbol</a> ne <a href="#79648" title="TransMatcher.this.global.Symbol">sym</a>)) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <span title="object Nil">Nil</span>  =&gt; 
              <span title="Unit" class="keyword">case</span> _    =&gt; <a href="#79638" title="(x$1: Int)Unit">nref</a> += <span title="Int(2)" class="int">2</span>  // cannot substitute this one
            }
            <a href="#79643" title="(tree: TransMatcher.this.global.Tree)Unit">traverse</a>(<a href="#79745" title="TransMatcher.this.global.Tree">rhs</a>)
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="79796">t</a> <span class="keyword">if</span> <a href="#79638" title="(x$1: Int)Boolean" id="2960">nref</a> &gt; <span title="Int(1)" class="int">1</span> =&gt;       // abort, no story to tell
          <span title="Unit" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="79803">t</a> =&gt;
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: TransMatcher.this.global.Tree)Unit">traverse</a>(<a href="#79803" title="TransMatcher.this.global.Tree">t</a>)
        }
      }

      <span class="keyword">class</span> <a title="class Subst extends TransMatcher.this.global.Transformer with ScalaObject" id="79630">Subst</a><span title="ScalaObject">(</span><a title="TransMatcher.this.global.Symbol" id="79821">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a>, <a title="TransMatcher.this.global.Tree" id="79822">rhs</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26773" title="TransMatcher.this.global.Transformer">Transformer</a> {
        <span class="keyword">var</span> <a title="Boolean" id="79814">stop</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" id="79816">transform</a>(<a title="TransMatcher.this.global.Tree" id="79825">tree</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="#79825" title="TransMatcher.this.global.Tree">tree</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
          <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a title="TransMatcher.this.global.Ident" id="79831">t</a>: <a href="../ast/Trees.scala.html#26732" title="TransMatcher.this.global.Ident">Ident</a> <span class="keyword">if</span> <a href="#79831" title="TransMatcher.this.global.Ident">t</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#79821" title="TransMatcher.this.global.Symbol">sym</a> =&gt; 
            <a href="#79814" title="(x$1: Boolean)Unit">stop</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#79822" title="TransMatcher.this.global.Tree">rhs</a>
          <span title="TransMatcher.this.global.Tree" class="keyword">case</span> _ =&gt; <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#79814" title="=&gt; Boolean">stop</a>) <a href="#79825" title="TransMatcher.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45473" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">transform</a>(<a href="#79825" title="TransMatcher.this.global.Tree">tree</a>)
        }
      }

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="79632">squeezedTail</a> = <a href="#79387" title="(vds: List[TransMatcher.this.global.Tree],exp: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">squeezedBlock</a>(<a href="#79602" title="List[TransMatcher.this.global.Tree]">vds</a>.<a title="=&gt; List[TransMatcher.this.global.Tree]" id="25318">tail</a>, <a href="#79603" title="TransMatcher.this.global.Tree">exp</a>)
      <span class="keyword">def</span> <a title="=&gt; TransMatcher.this.global.Block" id="79633">default</a> = <a href="#79631" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a> <span title="TransMatcher.this.global.Block" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> Block(<a title="List[TransMatcher.this.global.Tree]" id="79867">vds2</a>, <a title="TransMatcher.this.global.Tree" id="79868">exp2</a>) =&gt; <a href="../ast/Trees.scala.html#49026" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79602" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <a href="#79889" title="TransMatcher.this.global.Tree">::</a> <a href="#79867" title="(x: TransMatcher.this.global.Tree)List[TransMatcher.this.global.Tree]">vds2</a>, <a href="#79868" title="TransMatcher.this.global.Tree">exp2</a>)  
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> <a title="TransMatcher.this.global.Tree" id="79899">exp2</a>              =&gt; <a href="../ast/Trees.scala.html#49026" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#79602" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <a href="#79918" title="TransMatcher.this.global.Tree">::</a> <span title="(x: TransMatcher.this.global.Tree)List[TransMatcher.this.global.Tree]">Nil</span>,  <a href="#79899" title="TransMatcher.this.global.Tree">exp2</a>)  
      }

      <span title="TransMatcher.this.global.Tree" class="keyword">if</span> (<a href="#79602" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#79603" title="TransMatcher.this.global.Tree">exp</a> 
      <span class="keyword">else</span> <a href="#79602" title="List[TransMatcher.this.global.Tree]">vds</a>.<span title="=&gt; TransMatcher.this.global.Tree">head</span> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
        <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <a title="TransMatcher.this.global.ValDef" id="79928">vd</a>: <a href="../ast/Trees.scala.html#26619" title="TransMatcher.this.global.ValDef">ValDef</a> =&gt;
          <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="79929">sym</a> = <a href="#79928" title="TransMatcher.this.global.ValDef">vd</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; TransMatcher.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="RefTraverser" id="79930">rt</a> = <span title="RefTraverser" class="keyword">new</span> <a href="#79629" title="RefTraverser">RefTraverser</a>(<a href="#79929" title="TransMatcher.this.global.Symbol">sym</a>)
          <a href="#79930" title="RefTraverser">rt</a>.<a href="../ast/Trees.scala.html#70832" title="(owner: TransMatcher.this.global.Symbol)(traverse: =&gt; Unit)Unit">atOwner</a> (<a href="#81518" title="=&gt; TransMatcher.this.global.Symbol">owner</a>) (<a href="#79643" title="(tree: TransMatcher.this.global.Tree)Unit">rt</a> traverse <a href="#79631" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>)

          <a href="#79930" title="RefTraverser">rt</a>.<a href="#79638" title="=&gt; Int">nref</a> <span title="TransMatcher.this.global.Tree" class="keyword">match</span> {
            <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <span title="Int(0)" class="int">0</span>                      =&gt; <a href="#79631" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>
            <span title="TransMatcher.this.global.Tree" class="keyword">case</span> <span title="Int(1)" class="int">1</span> <span class="keyword">if</span> <a href="#79930" title="RefTraverser">rt</a>.<a href="#79641" title="(x$1: Int)Boolean" id="2952">nsafeRef</a> == <span title="Int(1)" class="int">1</span>  =&gt; <a href="#79816" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree" class="keyword">new</a> <a href="#79630" title="Subst">Subst</a>(<a href="#79929" title="TransMatcher.this.global.Symbol">sym</a>, <a href="#79928" title="TransMatcher.this.global.ValDef">vd</a>.<a href="../ast/Trees.scala.html#53528" title="=&gt; TransMatcher.this.global.Tree">rhs</a>) transform <a href="#79631" title="=&gt; TransMatcher.this.global.Tree">squeezedTail</a>
            <span title="TransMatcher.this.global.Block" class="keyword">case</span> _                      =&gt; <a href="#79633" title="=&gt; TransMatcher.this.global.Block">default</a>
          }
        <span title="TransMatcher.this.global.Block" class="keyword">case</span> _          =&gt;
          <a href="#79633" title="=&gt; TransMatcher.this.global.Block">default</a>
      }
    }
  }
    
  case <span class="keyword">class</span> <a title="class MatchMatrixInit extends java.lang.Object with ScalaObject with Product" id="80122">MatchMatrixInit</a><span title="ScalaObject">(</span>
    <a title="List[TransMatcher.this.global.Symbol]" id="80542">roots</a>: <span title="List[TransMatcher.this.global.Symbol]">List</span>[Symbol],
    <a title="List[TransMatcher.this.global.CaseDef]" id="80543">cases</a>: <span title="List[TransMatcher.this.global.CaseDef]">List</span>[CaseDef],
    <a title="TransMatcher.this.global.Tree" id="80544">default</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>
  )

  /** Handles all translation of pattern matching.
   */
  <span class="keyword">def</span> <a title="(selector: TransMatcher.this.global.Tree,cases: List[TransMatcher.this.global.CaseDef],isChecked: Boolean,context: TransMatcher.this.MatchMatrixContext)TransMatcher.this.global.Tree" id="79178">handlePattern</a>(
    <a title="TransMatcher.this.global.Tree" id="80188">selector</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>,         // tree being matched upon (called scrutinee after this)
    <a title="List[TransMatcher.this.global.CaseDef]" id="80189">cases</a>: <span title="List[TransMatcher.this.global.CaseDef]">List</span>[CaseDef],   // list of cases in the match
    <a title="Boolean" id="80190">isChecked</a>: <span title="Boolean">Boolean</span>,     // whether exhaustiveness checking is enabled (disabled with @unchecked)
    <a title="TransMatcher.this.MatchMatrixContext" id="80191">context</a>: <a href="#79995" title="TransMatcher.this.MatchMatrixContext">MatchMatrixContext</a>): <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a> =
  {
    <span class="keyword">import</span> context._
    
    // TRANS_FLAG communicates that there should be no exhaustiveness checking
    <span class="keyword">val</span> <a title="List[Long]" id="80194">flags</a>                 = <span title="(xs: Long*)List[Long]">List</span><a title="(p: (Long) =&gt; Boolean)List[Long]" id="25271">(</a>Flags.<span title="Long(274877906944L)">TRANS_FLAG</span>) filterNot (<a title="Long" id="80218">_</a> =&gt; <a href="#80190" title="Boolean">isChecked</a>)    
    <span class="keyword">def</span> <a title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw" id="80195">matchError</a>(<a title="TransMatcher.this.global.Tree" id="80221">obj</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>) = <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: TransMatcher.this.global.Throw)TransMatcher.this.global.Throw">atPos</a>(<a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42518" title="(sym: TransMatcher.this.global.Symbol,msg: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">THROW</a>(<a href="../symtab/Definitions.scala.html#28307" title="=&gt; TransMatcher.this.global.Symbol">MatchErrorClass</a>, <a href="#80221" title="TransMatcher.this.global.Tree">obj</a>))
    <span class="keyword">def</span> <a title="(c: TransMatcher.this.global.CaseDef)Boolean" id="80196">caseIsOk</a>(<a title="TransMatcher.this.global.CaseDef" id="80468">c</a>: <a href="../ast/Trees.scala.html#26656" title="TransMatcher.this.global.CaseDef">CaseDef</a>)  = <a href="../ast/TreeDSL.scala.html#42477" title="(x: TransMatcher.this.global.Tree)(f: PartialFunction[TransMatcher.this.global.Tree,Boolean])Boolean">cond</a>(<a href="#80468" title="TransMatcher.this.global.CaseDef">c</a>.<a href="../ast/Trees.scala.html#51431" title="=&gt; TransMatcher.this.global.Tree">pat</a>) <a href="#80493" title="Boolean">{</a> <span title="Boolean(true)" class="keyword">case</span> _: <a href="../ast/Trees.scala.html#26714" title="TransMatcher.this.global.Apply">Apply</a> | Ident(<a href="../symtab/StdNames.scala.html#26531" title="object TransMatcher.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; TransMatcher.this.global.Name">WILDCARD</a>) =&gt; <span title="Boolean(true)" class="keyword">true</span> }

    // this appears to be an attempt at optimizing when all case defs are constructor
    // patterns, but I don't think it's correct.
    <span class="keyword">def</span> <a title="(fn: TransMatcher.this.global.Tree)Boolean" id="80197">doApply</a>(<a title="TransMatcher.this.global.Tree" id="80506">fn</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> =
      <span title="(x$1: Boolean)Boolean">(</span><a href="#80506" title="TransMatcher.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> eq (<a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; TransMatcher.this.global.Type">tpe</a>.<a href="../symtab/Scopes.scala.html#27138" title="(name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">decls</a> lookup <a href="../symtab/StdNames.scala.html#26531" title="object TransMatcher.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29719" title="=&gt; TransMatcher.this.global.Name">CONSTRUCTOR</a>)) &amp;&amp;
      (<a href="#80189" title="(p: (TransMatcher.this.global.CaseDef) =&gt; Boolean)Boolean" id="28935">cases</a> forall <a href="#80196" title="(c: TransMatcher.this.global.CaseDef)Boolean">caseIsOk</a>)
      
    // For x match { ... we start with a single root
    <span class="keyword">def</span> <a title="()(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" id="80198">singleMatch</a>(): <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span>List[Tree], MatchMatrixInit) = {
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="80523">root</a>: <a href="../symtab/Symbols.scala.html#26127" title="TransMatcher.this.global.Symbol">Symbol</a>      = <a href="#79385" title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">newVar</a>(<a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; TransMatcher.this.global.Type">tpe</a>, <a href="#80194" title="List[Long]">flags</a>)
      <span class="keyword">val</span> <a title="TransMatcher.this.global.Tree" id="80524">varDef</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>      = <a href="#79386" title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typedValDef</a>(<a href="#80523" title="TransMatcher.this.global.Symbol">root</a>, <a href="#80188" title="TransMatcher.this.global.Tree">selector</a>)
      
      <span title="(_1: List[TransMatcher.this.global.Tree],_2: TransMatcher.this.MatchMatrixInit)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span><span title="(xs: TransMatcher.this.global.Tree*)List[TransMatcher.this.global.Tree]">List</span>(<a href="#80524" title="TransMatcher.this.global.Tree">varDef</a>), <a href="#80122" title="(roots: List[TransMatcher.this.global.Symbol],cases: List[TransMatcher.this.global.CaseDef],default: TransMatcher.this.global.Tree)TransMatcher.this.MatchMatrixInit">MatchMatrixInit</a>(<span title="(xs: TransMatcher.this.global.Symbol*)List[TransMatcher.this.global.Symbol]">List</span>(<a href="#80523" title="TransMatcher.this.global.Symbol">root</a>), <a href="#80189" title="List[TransMatcher.this.global.CaseDef]">cases</a>, <a href="#80195" title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">matchError</a>(<a href="../ast/TreeDSL.scala.html#42532" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.global.gen.global.Tree">ID</a>(<a href="#80523" title="TransMatcher.this.global.Symbol">root</a>))))
    }
    
    // For (x, y, z) match { ... we start with multiple roots, called tpXX.
    <span class="keyword">def</span> <a title="(app: TransMatcher.this.global.Apply)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" id="80199">tupleMatch</a>(<a title="TransMatcher.this.global.Apply" id="80588">app</a>: <a href="../ast/Trees.scala.html#26714" title="TransMatcher.this.global.Apply">Apply</a>): <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span>List[Tree], MatchMatrixInit) = {
      <span class="keyword">val</span> Apply<a href="#80590" title="(TransMatcher.this.global.Tree, List[TransMatcher.this.global.Tree])">(</a><a href="#80589" title="TransMatcher.this.global.Tree" id="80590">fn</a>, <a href="#80589" title="List[TransMatcher.this.global.Tree]" id="80591">args</a>) = <a href="#80588" title="TransMatcher.this.global.Apply">app</a>
      <span class="keyword">val</span> <a href="#80593" title="(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree])">(</a><a href="#80592" title="List[TransMatcher.this.global.Symbol]" id="80593">roots</a>, <a href="#80592" title="List[TransMatcher.this.global.analyzer.global.Tree]" id="80594">vars</a>) = <span title="object List">List</span>.<a title="(xs: List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)])(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree])" id="24333">unzip</a><span title="(List[TransMatcher.this.global.Symbol], List[TransMatcher.this.global.analyzer.global.Tree]) @unchecked">(</span>
        <span class="keyword">for</span> ((<a title="TransMatcher.this.global.Tree" id="80738">arg</a>, <a title="TransMatcher.this.global.Type" id="80739">typeArg</a>) &lt;- <a href="#80591" title="(that: Iterable[TransMatcher.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type),List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)],List[TransMatcher.this.global.Tree]])List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)]" id="25448">args</a> <a href="#80714" title="(f: ((TransMatcher.this.global.Tree, TransMatcher.this.global.Type)) =&gt; (TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree))(implicit bf: scala.collection.generic.BuilderFactory[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree),List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)],List[(TransMatcher.this.global.Tree, TransMatcher.this.global.Type)]])List[(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)]">zip</a> <a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; TransMatcher.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[TransMatcher.this.global.Type]">typeArgs</a>) <span class="keyword">yield</span> {
          <span class="keyword">val</span> <a title="TransMatcher.this.global.Symbol" id="80742">v</a> = <a href="#79385" title="(pos: scala.tools.nsc.util.Position,tpe: TransMatcher.this.global.Type,flags: List[Long],name: TransMatcher.this.global.Name)TransMatcher.this.global.Symbol">newVar</a>(<a href="#80738" title="TransMatcher.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#80739" title="TransMatcher.this.global.Type">typeArg</a>, <a href="#80194" title="List[Long]">flags</a>, <a href="#79169" title="(pos: scala.tools.nsc.util.Position,s: String)String">newName</a><a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)TransMatcher.this.global.Name">(</a><a href="#80738" title="TransMatcher.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;tp&quot;)" class="string">&quot;tp&quot;</span>))
          <span title="(_1: TransMatcher.this.global.Symbol,_2: TransMatcher.this.global.analyzer.global.Tree)(TransMatcher.this.global.Symbol, TransMatcher.this.global.analyzer.global.Tree)">(</span><a href="#80742" title="TransMatcher.this.global.Symbol">v</a>, <a href="#79386" title="(x: TransMatcher.this.global.Symbol,rhs: TransMatcher.this.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typedValDef</a>(<a href="#80742" title="TransMatcher.this.global.Symbol">v</a>, <a href="#80738" title="TransMatcher.this.global.Tree">arg</a>))
        }
      )
      <span title="(_1: List[TransMatcher.this.global.analyzer.global.Tree],_2: TransMatcher.this.MatchMatrixInit)(List[TransMatcher.this.global.analyzer.global.Tree], TransMatcher.this.MatchMatrixInit)">(</span><a href="#80594" title="List[TransMatcher.this.global.analyzer.global.Tree]">vars</a>, <a href="#80122" title="(roots: List[TransMatcher.this.global.Symbol],cases: List[TransMatcher.this.global.CaseDef],default: TransMatcher.this.global.Tree)TransMatcher.this.MatchMatrixInit">MatchMatrixInit</a>(<a href="#80593" title="List[TransMatcher.this.global.Symbol]">roots</a>, <a href="#80189" title="List[TransMatcher.this.global.CaseDef]">cases</a>, <a href="#80195" title="(obj: TransMatcher.this.global.Tree)TransMatcher.this.global.Throw">matchError</a>(<a href="../ast/Trees.scala.html#26584" title="=&gt; TransMatcher.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48618" title="(tree: TransMatcher.this.global.Tree,fun: TransMatcher.this.global.Tree,args: List[TransMatcher.this.global.Tree])TransMatcher.this.global.Apply">Apply</a>(<a href="#80588" title="TransMatcher.this.global.Apply">app</a>, <a href="#80590" title="TransMatcher.this.global.Tree">fn</a>, <a href="#80593" title="(f: (TransMatcher.this.global.Symbol) =&gt; TransMatcher.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[TransMatcher.this.global.gen.global.Tree,List[TransMatcher.this.global.Tree],List[TransMatcher.this.global.Symbol]])List[TransMatcher.this.global.Tree]">roots</a> <span title="scala.collection.generic.BuilderFactory[TransMatcher.this.global.gen.global.Tree,List[TransMatcher.this.global.gen.global.Tree],List#Coll]">map</span> <a href="../ast/TreeDSL.scala.html#42532" title="(sym: TransMatcher.this.global.Symbol)TransMatcher.this.global.gen.global.Tree">ID</a>))))
    }

    // sets up top level variables and algorithm input
    <span class="keyword">val</span> <a href="#80201" title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">(</a><a href="#80200" title="List[TransMatcher.this.global.Tree]" id="80201">vars</a>, <a href="#80200" title="TransMatcher.this.MatchMatrixInit" id="80202">matrixInit</a>) = <a href="#80188" title="TransMatcher.this.global.Tree">selector</a> <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">match</span> {
      <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">case</span> <a title="TransMatcher.this.global.Apply" id="80984">app</a> @ Apply(<a title="TransMatcher.this.global.Tree" id="80987">fn</a>, _) <span class="keyword">if</span> <a href="../symtab/Definitions.scala.html#28458" title="(tp: TransMatcher.this.global.Type)Boolean">isTupleType</a><span title="(x$1: Boolean)Boolean">(</span><a href="#80188" title="TransMatcher.this.global.Tree">selector</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; TransMatcher.this.global.Type">tpe</a>) &amp;&amp; <a href="#80197" title="(fn: TransMatcher.this.global.Tree)Boolean">doApply</a>(<a href="#80987" title="TransMatcher.this.global.Tree">fn</a>) =&gt; <a href="#80199" title="(app: TransMatcher.this.global.Apply)(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">tupleMatch</a>(<a href="#80984" title="TransMatcher.this.global.Apply">app</a>)
      <span title="(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)" class="keyword">case</span> _                                                              =&gt; <a href="#80198" title="()(List[TransMatcher.this.global.Tree], TransMatcher.this.MatchMatrixInit)">singleMatch</a>()
    }
    
    <span class="keyword">val</span> <a title="TransMatcher.this.MatchMatrix" id="80203">matrix</a>  = <span title="TransMatcher.this.MatchMatrix" class="keyword">new</span> <a href="ParallelMatching.scala.html#79303" title="TransMatcher.this.MatchMatrix">MatchMatrix</a>(<a href="#80191" title="TransMatcher.this.MatchMatrixContext">context</a>, <a href="#80202" title="TransMatcher.this.MatchMatrixInit">matrixInit</a>)
    <span class="keyword">val</span> <a title="matrix.Rep" id="80204">rep</a>     = <a href="#80203" title="TransMatcher.this.MatchMatrix">matrix</a>.<a href="ParallelMatching.scala.html#81044" title="=&gt; matrix.Rep">expansion</a>                    // expands casedefs and assigns name
    <span class="keyword">val</span> <a title="TransMatcher.this.global.analyzer.global.Tree" id="80205">mch</a>     = <a href="../typechecker/Typers.scala.html#42640" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="#80204" title="matrix.Rep">rep</a>.<a href="ParallelMatching.scala.html#81124" title="()TransMatcher.this.global.Tree">toTree</a>              // executes algorithm, converts tree to DFA
    <span class="keyword">val</span> <a title="TransMatcher.this.global.analyzer.global.Tree" id="80206">dfatree</a> = <a href="../typechecker/Typers.scala.html#42640" title="(tree: TransMatcher.this.global.analyzer.global.Tree)TransMatcher.this.global.analyzer.global.Tree">typer</a> typed <a href="../ast/Trees.scala.html#49026" title="(stats: List[TransMatcher.this.global.Tree],expr: TransMatcher.this.global.Tree)TransMatcher.this.global.Block">Block</a>(<a href="#80201" title="List[TransMatcher.this.global.Tree]">vars</a>, <a href="#80205" title="TransMatcher.this.global.analyzer.global.Tree">mch</a>)        // packages into a code block

    // TRACE(&quot;handlePattern(\n  roots = %s\n  cases = %s\n  rep = %s\n  initRep = %s\n)&quot;, 
    //   roots, cases.mkString(&quot;(\n    &quot;, &quot;\n    &quot;, &quot;\n)&quot;), rep, irep)
    // TRACE(&quot;dfatree(1) = &quot; + toCompactString(dfatree))

    // redundancy check
    <span class="keyword">for</span> ((<a title="TransMatcher.this.global.CaseDef" id="81321">cs</a>, <a title="Int" id="81322">bx</a>) &lt;- <a href="#80189" title="List[TransMatcher.this.global.CaseDef]">cases</a>.<a href="#81288" title="(f: ((TransMatcher.this.global.CaseDef, Int)) =&gt; Unit)Unit" id="25462">zipWithIndex</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#80203" title="TransMatcher.this.MatchMatrix">matrix</a>.<a href="ParallelMatching.scala.html#81048" title="(bx: Int)Boolean">isReached</a>(<a href="#81322" title="Int">bx</a>)) <a href="#79167" title="=&gt; TransMatcher.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#81321" title="TransMatcher.this.global.CaseDef">cs</a>.<a href="../ast/Trees.scala.html#51435" title="=&gt; TransMatcher.this.global.Tree">body</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;unreachable code&quot;)" class="string">&quot;unreachable code&quot;</span>)
      
    // cleanup performs squeezing and resets any remaining TRANS_FLAGs
    <a href="ParallelMatching.scala.html#81047" title="(tree: TransMatcher.this.global.Tree)TransMatcher.this.global.Tree">matrix</a> cleanup <a href="#80206" title="TransMatcher.this.global.analyzer.global.Tree">dfatree</a>
  }
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TransMatcher.this.global.Tree)String" id="79179">toCompactString</a>(<a title="TransMatcher.this.global.Tree" id="81345">t</a>: <a href="../ast/Trees.scala.html#26593" title="TransMatcher.this.global.Tree">Tree</a>): <span title="String">String</span> = {
    <span class="keyword">val</span> <a title="java.io.StringWriter" id="81347">buffer</a> = <span title="java.io.StringWriter" class="keyword">new</span> <a title="java.io.StringWriter" id="3750">StringWriter</a>()
    <span class="keyword">val</span> <a title="TransMatcher.this.compactTreePrinters.TreePrinter" id="81348">printer</a> = <a href="#79202" title="object TransMatcher.this.compactTreePrinters">compactTreePrinters</a>.<a href="#81417" title="(writer: java.io.PrintWriter)TransMatcher.this.compactTreePrinters.TreePrinter">create</a>(<span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span>(<a href="#81347" title="java.io.StringWriter">buffer</a>))
    <a href="#81348" title="TransMatcher.this.compactTreePrinters.TreePrinter">printer</a>.<a href="../ast/TreePrinters.scala.html#81477" title="(tree: TransMatcher.this.compactTreePrinters.trees.Tree)Unit">print</a>(<a href="#81345" title="TransMatcher.this.global.Tree">t</a>)
    <a href="#81348" title="TransMatcher.this.compactTreePrinters.TreePrinter">printer</a>.<a href="../ast/TreePrinters.scala.html#81449" title="()Unit">flush</a>()
    <a href="#81347" title="java.io.StringWriter">buffer</a>.<a title="()java.lang.String" id="81372">toString</a>
  }
}

/** A tree printer which is stingier about vertical whitespace and unnecessary
 *  punctuation than the standard one.
 */
<span class="keyword">trait</span> <a title="trait CompactTreePrinter extends java.lang.Object with ScalaObject" id="19173">CompactTreePrinter</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="79201">global</a>: <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>
  
  <span class="keyword">object</span> <a title="object CompactTreePrinter.this.compactTreePrinters" id="79202">compactTreePrinters</a> <span title="ScalaObject" class="keyword">extends</span> {
    <span class="keyword">val</span> <a title="CompactTreePrinter.this.global.type" id="81543">trees</a>: global.<span class="keyword">type</span> = <a href="#79201" title="=&gt; scala.tools.nsc.Global">global</a>
  } <span class="keyword">with</span> <a href="../ast/TreePrinters.scala.html#11508" title="scala.tools.nsc.ast.TreePrinters">TreePrinters</a> {
    <span class="keyword">import</span> trees._
    
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(writer: java.io.PrintWriter)scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter" id="81417">create</a>(<a title="java.io.PrintWriter" id="81418">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>): <a href="../ast/TreePrinters.scala.html#81405" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter">TreePrinter</a> = <a href="#81546" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter{ ... }" class="keyword">new</a> <a href="../ast/TreePrinters.scala.html#81405" title="anonymous class $anon extends scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.TreePrinter" id="81546">TreePrinter</a>(<a href="#81418" title="java.io.PrintWriter">writer</a>) {
      // drill down through Blocks and pull out the real statements.
      <span class="keyword">def</span> <a title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="81548">allStatements</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81554">t</a>: <a href="../ast/Trees.scala.html#26593" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>): <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>[Tree] = <a href="#81554" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">t</a> <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">match</span> {
        <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">case</span> Block(<a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="81557">stmts</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81558">expr</a>) =&gt; (<a href="#81557" title="(f: (scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree) =&gt; Traversable[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])(implicit bf: scala.collection.generic.BuilderFactory[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]])List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="25248">stmts</a> <span title="scala.collection.generic.BuilderFactory[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],List#Coll]">flatMap</span> <a href="#81548" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>) <a href="#81561" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">:::</a> <span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span><a title="(prefix: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="24261">(</a><a href="#81558" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">expr</a>)
        <span title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" class="keyword">case</span> _                  =&gt; <span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#81554" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">t</a>)
      }

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit" id="81549">printRaw</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81675">tree</a>: <a href="../ast/Trees.scala.html#26593" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>): <a title="Unit" id="1950">Unit</a> = {
        // routing supercalls through this for debugging ease
        <span class="keyword">def</span> <a title="()Unit" id="81679">s</a>() = {
          // Console.println(&quot;toSuper: &quot; + tree.getClass)
          <span class="keyword">super</span>.<a href="../ast/TreePrinters.scala.html#81476" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81675" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>)
        }
        
        <a href="#81675" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          // labels used for jumps - does not map to valid scala code
          <span title="Unit" class="keyword">case</span> LabelDef(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="81688">name</a>, <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident]" id="81689">params</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81690">rhs</a>) =&gt;
            <a href="../ast/TreePrinters.scala.html#81468" title="(str: String)Unit">print</a>(<span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;labeldef %s(%s) = &quot;</span>.<span title="(args: Any*)String">format</span>(<a href="#81688" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">name</a>, <a href="#81689" title="(sep: String)String" id="25364">params</a> mkString <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>))
            <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81690" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">rhs</a>)
            
          // target.method(arg) ==&gt; target method arg
          <span title="Unit" class="keyword">case</span> Apply(Select(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81740">target</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="81741">method</a>), <a href="#81745" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81754">arg</a>)) =&gt;
            <span title="(_1: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,_2: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)(scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree, scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)">(</span><a href="#81740" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">target</a>, <a href="#81754" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">arg</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> (_: <a href="../ast/Trees.scala.html#26732" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident">Ident</a>, _: <a href="../ast/Trees.scala.html#26737" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Literal">Literal</a> | _: <a href="../ast/Trees.scala.html#26732" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Ident">Ident</a>)  =&gt; 
                <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81740" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">target</a>)
                <a href="../ast/TreePrinters.scala.html#81468" title="(str: String)Unit">print</a>(<span title="(args: Any*)String" class="string">&quot; %s &quot;</span> format <a href="../ast/TreePrinters.scala.html#81463" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,name: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name)String">symName</a>(<a href="#81675" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>, <a href="#81741" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">method</a>))
                <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81754" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">arg</a>)
              <span title="Unit" class="keyword">case</span> _                        =&gt; <a href="#81679" title="()Unit">s</a>()
            }
            
          // case Select(Select(_, x), y) if x.toString == &quot;this&quot; =&gt;
          //   print(symName(tree, y))
          // target.unary_! ==&gt; !target
          <span title="Unit" class="keyword">case</span> Select(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81823">qualifier</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name" id="81824">name</a>) =&gt;
            <span class="keyword">val</span> <a title="String" id="81827">n</a> = <a href="../ast/TreePrinters.scala.html#81463" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree,name: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name)String">symName</a>(<a href="#81675" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>, <a href="#81824" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Name">name</a>)          
            <span title="Unit" class="keyword">if</span> (<a href="#81827" title="(x$1: java.lang.String)Boolean" id="6973">n</a> startsWith <span title="java.lang.String(&quot;unary_&quot;)" class="string">&quot;unary_&quot;</span>) {
              <a href="../ast/TreePrinters.scala.html#81468" title="(str: String)Unit">print</a>(<a href="#81827" title="(n: Int)scala.runtime.RichString" id="25786">n</a> <a title="implicit scala.Predef.richString2String : (x: scala.runtime.RichString)String" id="8165">drop</a> <span title="Int(6)" class="int">6</span>)
              <a href="../ast/TreePrinters.scala.html#81477" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">print</a>(<a href="#81823" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">qualifier</a>)
            }
            <span class="keyword">else</span> <a href="#81679" title="()Unit">s</a>()
            
          // target.toString() ==&gt; target.toString
          <span title="Unit" class="keyword">case</span> Apply(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="81996">fn</a>, <span title="object Nil">Nil</span>)   =&gt; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#81996" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">fn</a>)
          
          // if a Block only continues one actual statement, just print it.
          <span title="Unit" class="keyword">case</span> Block(<a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82004">stats</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82005">expr</a>) =&gt;          
            <a href="#81548" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#81675" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">tree</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="#82011" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82020">x</a>)            =&gt; <a href="../ast/TreePrinters.scala.html#81457" title="(ts: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],start: String,sep: String,end: String)Unit">printRow</a>(<span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#82020" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>), <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
              <span title="Unit" class="keyword">case</span> _                  =&gt; <a href="#81679" title="()Unit">s</a>()
            }
          
          // If thenp or elsep has only one statement, it doesn't need more than one line.
          <span title="Unit" class="keyword">case</span> If(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82059">cond</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82060">thenp</a>, <a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82061">elsep</a>) =&gt;
            <a href="../ast/TreePrinters.scala.html#81457" title="(ts: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree],start: String,sep: String,end: String)Unit">printRow</a>(<span title="(xs: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree*)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">List</span>(<a href="#82059" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">cond</a>), <span title="java.lang.String(&quot;if (&quot;)" class="string">&quot;if (&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span>)
            
            <span class="keyword">def</span> <a title="(x: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit" id="82064">ifIndented</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82090">x</a>: <a href="../ast/Trees.scala.html#26593" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">Tree</a>) = {
              <a href="../ast/TreePrinters.scala.html#81450" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81452" title="=&gt; Unit">println</a> ; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82090" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>) ; <a href="../ast/TreePrinters.scala.html#81451" title="=&gt; Unit">undent</a>
            }
        
            <a href="../ast/TreePrinters.scala.html#81450" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81452" title="=&gt; Unit">println</a> ; 
            <a href="#81548" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#82060" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">thenp</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="#82177" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If" id="82186">x</a>: <a href="../ast/Trees.scala.html#26688" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If">If</a>)  =&gt; <a href="#82064" title="(x: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">ifIndented</a>(<a href="#82186" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.If">x</a>)
              <span title="Unit" class="keyword">case</span> <a href="#82191" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82200">x</a>)      =&gt; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82200" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>)
              <span title="Unit" class="keyword">case</span> _            =&gt; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82060" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">thenp</a>)
            }
            <a href="../ast/TreePrinters.scala.html#81451" title="=&gt; Unit">undent</a> ; <a href="../ast/TreePrinters.scala.html#81452" title="=&gt; Unit">println</a> ; 
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82065">elseStmts</a> = <a href="#81548" title="(t: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">allStatements</a>(<a href="#82061" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">elsep</a>)
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#82065" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">elseStmts</a>.<span title="=&gt; Boolean">isEmpty</span>) {
              <a href="../ast/TreePrinters.scala.html#81468" title="(str: String)Unit">print</a>(<span title="java.lang.String(&quot;else&quot;)" class="string">&quot;else&quot;</span>)
              <a href="../ast/TreePrinters.scala.html#81450" title="=&gt; Unit">indent</a> ; <a href="../ast/TreePrinters.scala.html#81452" title="=&gt; Unit">println</a> 
              <a href="#82065" title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]">elseStmts</a> <span title="Unit" class="keyword">match</span> {
                <span title="Unit" class="keyword">case</span> <a href="#82224" title="(x: List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree])Some[List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]]">List</a>(<a title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree" id="82233">x</a>)      =&gt; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82233" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">x</a>)
                <span title="Unit" class="keyword">case</span> <a title="List[scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree]" id="82238">xs</a>           =&gt; <a href="#81549" title="(tree: scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree)Unit">printRaw</a>(<a href="#82061" title="scala.tools.nsc.matching.CompactTreePrinter.compactTreePrinters.trees.Tree">elsep</a>)
              }
              <a href="../ast/TreePrinters.scala.html#81451" title="=&gt; Unit">undent</a> ; <a href="../ast/TreePrinters.scala.html#81452" title="=&gt; Unit">println</a>
            }
          <span title="Unit" class="keyword">case</span> _        =&gt; <a href="#81679" title="()Unit">s</a>()
        }
      }      
    }
  }
  
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="CompactTreePrinter.this.compactTreePrinters.TreePrinter" id="79205">compactTreePrinter</a> = <a href="#79202" title="object CompactTreePrinter.this.compactTreePrinters">compactTreePrinters</a>.<a href="../ast/TreePrinters.scala.html#81408" title="()CompactTreePrinter.this.compactTreePrinters.TreePrinter">create</a>()
}

        </pre>
    </body>
</html>