<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Analyzer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Analyzer.scala 18406 2009-07-30 07:41:22Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

/** The main attribution phase.
 */ 
<span class="keyword">trait</span> <a title="trait Analyzer extends java.lang.Object with scala.tools.nsc.typechecker.Contexts with scala.tools.nsc.typechecker.Namers with scala.tools.nsc.typechecker.Typers with scala.tools.nsc.typechecker.Infer with scala.tools.nsc.typechecker.Implicits with scala.tools.nsc.typechecker.Variances with scala.tools.nsc.typechecker.EtaExpansion with scala.tools.nsc.typechecker.SyntheticMethods with scala.tools.nsc.typechecker.Unapplies with scala.tools.nsc.typechecker.NamesDefaults with ScalaObject" id="17112">Analyzer</a> <span title="ScalaObject" class="keyword">extends</span> <a title="java.lang.Object" id="3625">AnyRef</a>
            <span class="keyword">with</span> <a href="Contexts.scala.html#16557" title="scala.tools.nsc.typechecker.Contexts">Contexts</a>
            <span class="keyword">with</span> <a href="Namers.scala.html#18252" title="scala.tools.nsc.typechecker.Namers">Namers</a>
            <span class="keyword">with</span> <a href="Typers.scala.html#16341" title="scala.tools.nsc.typechecker.Typers">Typers</a>
            <span class="keyword">with</span> <a href="Infer.scala.html#17355" title="scala.tools.nsc.typechecker.Infer">Infer</a>
            <span class="keyword">with</span> <a href="Implicits.scala.html#16800" title="scala.tools.nsc.typechecker.Implicits">Implicits</a>
            <span class="keyword">with</span> <a href="Variances.scala.html#18282" title="scala.tools.nsc.typechecker.Variances">Variances</a>
            <span class="keyword">with</span> <a href="EtaExpansion.scala.html#18390" title="scala.tools.nsc.typechecker.EtaExpansion">EtaExpansion</a>
            <span class="keyword">with</span> <a href="SyntheticMethods.scala.html#18210" title="scala.tools.nsc.typechecker.SyntheticMethods">SyntheticMethods</a> 
            <span class="keyword">with</span> <a href="Unapplies.scala.html#16836" title="scala.tools.nsc.typechecker.Unapplies">Unapplies</a>
            <span class="keyword">with</span> <a href="NamesDefaults.scala.html#16662" title="scala.tools.nsc.typechecker.NamesDefaults">NamesDefaults</a>
{
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="39796">global</a> : <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  <span class="keyword">object</span> <a title="object Analyzer.this.namerFactory" id="39798">namerFactory</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../SubComponent.scala.html#8259" title="scala.tools.nsc.SubComponent">SubComponent</a> {
    <span class="keyword">val</span> <a title="Analyzer.this.global.type" id="40094">global</a>: Analyzer.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#17112" title="Analyzer.this.type">Analyzer</a>.<span class="keyword">this</span>.<a href="#39796" title="=&gt; scala.tools.nsc.Global">global</a>
    <span class="keyword">val</span> <a title="java.lang.String" id="40096">phaseName</a> = <span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>
    <span class="keyword">val</span> <a title="List[String]" id="40098">runsAfter</a> = <a title="[A](xs: A*)List[A]" id="7346">List</a><span title="(xs: String*)List[String]">[</span><a title="String" id="1605">String</a>](<span title="java.lang.String(&quot;parser&quot;)" class="string">&quot;parser&quot;</span>)
    <span class="keyword">val</span> <a title="None.type" id="40100">runsRightAfter</a> = <a title="object None" id="465">None</a>
    <span class="keyword">def</span> <a title="(_prev: scala.tools.nsc.Phase)scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase" id="40102">newPhase</a>(<a title="scala.tools.nsc.Phase" id="712871">_prev</a>: <a href="../Phase.scala.html#8862" title="scala.tools.nsc.Phase">Phase</a>): <a href="../SubComponent.scala.html#39640" title="scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase">StdPhase</a> = <a href="#712873" title="scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase{ ... }" class="keyword">new</a> <a href="../SubComponent.scala.html#39640" title="anonymous class $anon extends scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase" id="712873">StdPhase</a>(<a href="#712871" title="scala.tools.nsc.Phase">_prev</a>) {
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="712875">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(unit: Analyzer.this.global.CompilationUnit)Unit" id="712877">apply</a>(<a title="Analyzer.this.global.CompilationUnit" id="712881">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Analyzer.this.global.CompilationUnit">CompilationUnit</a>) {
        <a href="Namers.scala.html#39833" title="(context: Analyzer.this.Context)Analyzer.this.Namer">newNamer</a>(<a href="Contexts.scala.html#39818" title="(unit: Analyzer.this.global.CompilationUnit)Analyzer.this.Context">rootContext</a>(<a href="#712881" title="Analyzer.this.global.CompilationUnit">unit</a>)).<a href="Namers.scala.html#258019" title="(tree: Analyzer.this.global.Tree)Analyzer.this.Context">enterSym</a><span title="Unit">(</span><a href="#712881" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Analyzer.this.global.Tree">body</a>)
      }
    }
  }

  <span class="keyword">var</span> <a title="Long" id="39801">typerTime</a> = <span title="Long(0L)" class="long">0L</span>

  <span class="keyword">object</span> <a title="object Analyzer.this.typerFactory" id="39803">typerFactory</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../SubComponent.scala.html#8259" title="scala.tools.nsc.SubComponent">SubComponent</a> {
    <span class="keyword">val</span> <a title="Analyzer.this.global.type" id="40135">global</a>: Analyzer.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#17112" title="Analyzer.this.type">Analyzer</a>.<span class="keyword">this</span>.<a href="#39796" title="=&gt; scala.tools.nsc.Global">global</a>
    <span class="keyword">val</span> <a title="java.lang.String" id="40137">phaseName</a> = <span title="java.lang.String(&quot;typer&quot;)" class="string">&quot;typer&quot;</span>
    <span class="keyword">val</span> <a title="List[String]" id="40139">runsAfter</a> = List[String]<a title="object Nil" id="7634">(</a>)
    <span class="keyword">val</span> <a title="Some[java.lang.String]" id="40141">runsRightAfter</a> = <a title="(x: java.lang.String)Some[java.lang.String]" id="258">Some</a>(<span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>)
    <span class="keyword">def</span> <a title="(_prev: scala.tools.nsc.Phase)scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase" id="40143">newPhase</a>(<a title="scala.tools.nsc.Phase" id="712916">_prev</a>: <a href="../Phase.scala.html#8862" title="scala.tools.nsc.Phase">Phase</a>): <a href="../SubComponent.scala.html#39640" title="scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase">StdPhase</a> = <a href="#712918" title="scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase{ ... }" class="keyword">new</a> <a href="../SubComponent.scala.html#39640" title="anonymous class $anon extends scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase" id="712918">StdPhase</a>(<a href="#712916" title="scala.tools.nsc.Phase">_prev</a>) {
      <a href="Typers.scala.html#39877" title="()Unit">resetTyper</a>()
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="712920">run</a> { 
        <span class="keyword">val</span> <a title="Long" id="712929">start</a> = <span title="Long" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>() <span class="keyword">else</span> <span title="Long(0L)" class="long">0L</span>
        <a href="../Global.scala.html#39176" title="=&gt; Analyzer.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40212" title="(f: (Analyzer.this.global.CompilationUnit) =&gt; Unit)Unit" id="32173">units</a> foreach <a href="../Global.scala.html#82273" title="(unit: scala.tools.nsc.typechecker.Analyzer.typerFactory.global.CompilationUnit)Unit">applyPhase</a>
        <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) 
          <a href="#39801" title="(x$1: Long)Unit" id="3200">typerTime</a> += <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span><a title="(x$1: Long)Long" id="3202">(</a>) - <a href="#712929" title="Long">start</a>
      }
      <span class="keyword">def</span> <a title="(unit: Analyzer.this.global.CompilationUnit)Unit" id="712921">apply</a>(<a title="Analyzer.this.global.CompilationUnit" id="712987">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Analyzer.this.global.CompilationUnit">CompilationUnit</a>) {
        <span class="keyword">try</span> {
          <a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45438" title="(x$1: Analyzer.this.global.Tree)Unit">body</a> = <a href="Typers.scala.html#39880" title="(context: Analyzer.this.Context)Analyzer.this.Typer">newTyper</a>(<a href="Contexts.scala.html#39818" title="(unit: Analyzer.this.global.CompilationUnit)Analyzer.this.Context">rootContext</a>(<a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>)).<a href="Typers.scala.html#42640" title="(tree: Analyzer.this.global.Tree)Analyzer.this.global.Tree">typed</a>(<a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Analyzer.this.global.Tree">body</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#40135" title="=&gt; Analyzer.this.global.type">global</a>.<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37186" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">Yrangepos</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#40135" title="=&gt; Analyzer.this.global.type">global</a>.<a href="../symtab/Positions.scala.html#26803" title="(tree: scala.tools.nsc.typechecker.Analyzer.typerFactory.global.Tree)Unit">validatePositions</a>(<a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Analyzer.this.global.Tree">body</a>)
          <span class="keyword">for</span> (<a title="() =&gt; Unit" id="713039">workItem</a> &lt;- <a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45446" title="(f: (() =&gt; Unit) =&gt; Unit)Unit" id="61746">toCheck</a>) <a href="#713039" title="()Unit" id="44711">workItem</a>()
        } <span class="keyword">finally</span> {
          <a href="#712987" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45446" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a>.<a title="()Unit" id="61582">clear</a>()
        }
      }
    }
  }
}


        </pre>
    </body>
</html>