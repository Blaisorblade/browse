<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Analyzer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Analyzer.scala 18406 2009-07-30 07:41:22Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

/** The main attribution phase.
 */ 
<span class="keyword">trait</span> <a title="trait Analyzer extends java.lang.Object with scala.tools.nsc.typechecker.Contexts with scala.tools.nsc.typechecker.Namers with scala.tools.nsc.typechecker.Typers with scala.tools.nsc.typechecker.Infer with scala.tools.nsc.typechecker.Implicits with scala.tools.nsc.typechecker.Variances with scala.tools.nsc.typechecker.EtaExpansion with scala.tools.nsc.typechecker.SyntheticMethods with scala.tools.nsc.typechecker.Unapplies with scala.tools.nsc.typechecker.NamesDefaults with ScalaObject" id="17208">Analyzer</a> <span title="ScalaObject" class="keyword">extends</span> <a title="java.lang.Object" id="3646">AnyRef</a>
            <span class="keyword">with</span> <a href="Contexts.scala.html#16632" title="scala.tools.nsc.typechecker.Contexts">Contexts</a>
            <span class="keyword">with</span> <a href="Namers.scala.html#18381" title="scala.tools.nsc.typechecker.Namers">Namers</a>
            <span class="keyword">with</span> <a href="Typers.scala.html#16416" title="scala.tools.nsc.typechecker.Typers">Typers</a>
            <span class="keyword">with</span> <a href="Infer.scala.html#17460" title="scala.tools.nsc.typechecker.Infer">Infer</a>
            <span class="keyword">with</span> <a href="Implicits.scala.html#16887" title="scala.tools.nsc.typechecker.Implicits">Implicits</a>
            <span class="keyword">with</span> <a href="Variances.scala.html#18411" title="scala.tools.nsc.typechecker.Variances">Variances</a>
            <span class="keyword">with</span> <a href="EtaExpansion.scala.html#18525" title="scala.tools.nsc.typechecker.EtaExpansion">EtaExpansion</a>
            <span class="keyword">with</span> <a href="SyntheticMethods.scala.html#18339" title="scala.tools.nsc.typechecker.SyntheticMethods">SyntheticMethods</a> 
            <span class="keyword">with</span> <a href="Unapplies.scala.html#16926" title="scala.tools.nsc.typechecker.Unapplies">Unapplies</a>
            <span class="keyword">with</span> <a href="NamesDefaults.scala.html#16743" title="scala.tools.nsc.typechecker.NamesDefaults">NamesDefaults</a>
{
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="40028">global</a> : <a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  <span class="keyword">object</span> <a title="object Analyzer.this.namerFactory" id="40030">namerFactory</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../SubComponent.scala.html#8328" title="scala.tools.nsc.SubComponent">SubComponent</a> {
    <span class="keyword">val</span> <a title="Analyzer.this.global.type" id="40326">global</a>: Analyzer.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#17208" title="Analyzer.this.type">Analyzer</a>.<span class="keyword">this</span>.<a href="#40028" title="=&gt; scala.tools.nsc.Global">global</a>
    <span class="keyword">val</span> <a title="java.lang.String" id="40328">phaseName</a> = <span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>
    <span class="keyword">val</span> <a title="List[String]" id="40330">runsAfter</a> = <a title="[A](xs: A*)List[A]" id="7415">List</a><span title="(xs: String*)List[String]">[</span><a title="String" id="1626">String</a>](<span title="java.lang.String(&quot;parser&quot;)" class="string">&quot;parser&quot;</span>)
    <span class="keyword">val</span> <a title="None.type" id="40332">runsRightAfter</a> = <a title="object None" id="477">None</a>
    <span class="keyword">def</span> <a title="(_prev: scala.tools.nsc.Phase)scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase" id="40334">newPhase</a>(<a title="scala.tools.nsc.Phase" id="714578">_prev</a>: <a href="../Phase.scala.html#8931" title="scala.tools.nsc.Phase">Phase</a>): <a href="../SubComponent.scala.html#39872" title="scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase">StdPhase</a> = <a href="#714580" title="scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase{ ... }" class="keyword">new</a> <a href="../SubComponent.scala.html#39872" title="anonymous class $anon extends scala.tools.nsc.typechecker.Analyzer.namerFactory.StdPhase" id="714580">StdPhase</a>(<a href="#714578" title="scala.tools.nsc.Phase">_prev</a>) {
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="714582">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(unit: Analyzer.this.global.CompilationUnit)Unit" id="714584">apply</a>(<a title="Analyzer.this.global.CompilationUnit" id="714588">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Analyzer.this.global.CompilationUnit">CompilationUnit</a>) {
        <a href="Namers.scala.html#40065" title="(context: Analyzer.this.Context)Analyzer.this.Namer">newNamer</a>(<a href="Contexts.scala.html#40050" title="(unit: Analyzer.this.global.CompilationUnit)Analyzer.this.Context">rootContext</a>(<a href="#714588" title="Analyzer.this.global.CompilationUnit">unit</a>)).<a href="Namers.scala.html#258809" title="(tree: Analyzer.this.global.Tree)Analyzer.this.Context">enterSym</a><span title="Unit">(</span><a href="#714588" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Analyzer.this.global.Tree">body</a>)
      }
    }
  }

  <span class="keyword">var</span> <a title="Long" id="40033">typerTime</a> = <span title="Long(0L)" class="long">0L</span>

  <span class="keyword">object</span> <a title="object Analyzer.this.typerFactory" id="40035">typerFactory</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../SubComponent.scala.html#8328" title="scala.tools.nsc.SubComponent">SubComponent</a> {
    <span class="keyword">val</span> <a title="Analyzer.this.global.type" id="40367">global</a>: Analyzer.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#17208" title="Analyzer.this.type">Analyzer</a>.<span class="keyword">this</span>.<a href="#40028" title="=&gt; scala.tools.nsc.Global">global</a>
    <span class="keyword">val</span> <a title="java.lang.String" id="40369">phaseName</a> = <span title="java.lang.String(&quot;typer&quot;)" class="string">&quot;typer&quot;</span>
    <span class="keyword">val</span> <a title="List[String]" id="40371">runsAfter</a> = List[String]<a title="object Nil" id="7700">(</a>)
    <span class="keyword">val</span> <a title="Some[java.lang.String]" id="40373">runsRightAfter</a> = <a title="(x: java.lang.String)Some[java.lang.String]" id="267">Some</a>(<span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>)
    <span class="keyword">def</span> <a title="(_prev: scala.tools.nsc.Phase)scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase" id="40375">newPhase</a>(<a title="scala.tools.nsc.Phase" id="714623">_prev</a>: <a href="../Phase.scala.html#8931" title="scala.tools.nsc.Phase">Phase</a>): <a href="../SubComponent.scala.html#39872" title="scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase">StdPhase</a> = <a href="#714625" title="scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase{ ... }" class="keyword">new</a> <a href="../SubComponent.scala.html#39872" title="anonymous class $anon extends scala.tools.nsc.typechecker.Analyzer.typerFactory.StdPhase" id="714625">StdPhase</a>(<a href="#714623" title="scala.tools.nsc.Phase">_prev</a>) {
      <a href="Typers.scala.html#40109" title="()Unit">resetTyper</a>()
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="714627">run</a> { 
        <span class="keyword">val</span> <a title="Long" id="714636">start</a> = <span title="Long" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>() <span class="keyword">else</span> <span title="Long(0L)" class="long">0L</span>
        <a href="../Global.scala.html#39408" title="=&gt; Analyzer.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40444" title="(f: (Analyzer.this.global.CompilationUnit) =&gt; Unit)Unit" id="32359">units</a> foreach <a href="../Global.scala.html#82575" title="(unit: scala.tools.nsc.typechecker.Analyzer.typerFactory.global.CompilationUnit)Unit">applyPhase</a>
        <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) 
          <a href="#40033" title="(x$1: Long)Unit" id="3221">typerTime</a> += <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span><a title="(x$1: Long)Long" id="3223">(</a>) - <a href="#714636" title="Long">start</a>
      }
      <span class="keyword">def</span> <a title="(unit: Analyzer.this.global.CompilationUnit)Unit" id="714628">apply</a>(<a title="Analyzer.this.global.CompilationUnit" id="714694">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Analyzer.this.global.CompilationUnit">CompilationUnit</a>) {
        <span class="keyword">try</span> {
          <a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45670" title="(x$1: Analyzer.this.global.Tree)Unit">body</a> = <a href="Typers.scala.html#40112" title="(context: Analyzer.this.Context)Analyzer.this.Typer">newTyper</a>(<a href="Contexts.scala.html#40050" title="(unit: Analyzer.this.global.CompilationUnit)Analyzer.this.Context">rootContext</a>(<a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>)).<a href="Typers.scala.html#42872" title="(tree: Analyzer.this.global.Tree)Analyzer.this.global.Tree">typed</a>(<a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Analyzer.this.global.Tree">body</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#40367" title="=&gt; Analyzer.this.global.type">global</a>.<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37381" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">Yrangepos</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#40367" title="=&gt; Analyzer.this.global.type">global</a>.<a href="../symtab/Positions.scala.html#26962" title="(tree: scala.tools.nsc.typechecker.Analyzer.typerFactory.global.Tree)Unit">validatePositions</a>(<a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Analyzer.this.global.Tree">body</a>)
          <span class="keyword">for</span> (<a title="() =&gt; Unit" id="714746">workItem</a> &lt;- <a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45678" title="(f: (() =&gt; Unit) =&gt; Unit)Unit" id="62018">toCheck</a>) <a href="#714746" title="()Unit" id="44943">workItem</a>()
        } <span class="keyword">finally</span> {
          <a href="#714694" title="Analyzer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45678" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a>.<a title="()Unit" id="61854">clear</a>()
        }
      }
    }
  }
}


        </pre>
    </body>
</html>