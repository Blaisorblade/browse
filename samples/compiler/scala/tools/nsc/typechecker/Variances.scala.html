<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Variances.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */</span>
<span class="comment">// $Id: Variances.scala 17323 2009-03-17 19:16:19Z odersky $</span>

<span class="keyword">package</span> scala.tools.nsc.typechecker

<span class="keyword">import</span> symtab.Flags._

<span class="comment">/** Variances form a lattice, 0 &lt;= COVARIANT &lt;= Variances, 0 &lt;= CONTRAVARIANT &lt;= VARIANCES
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait Variances extends java.lang.Object with ScalaObject</span><a id="15779">Variances</a></span> {

  <span class="keyword">val</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a id="28508">global</a></span>: <span class="typed"><span class="type">scala.tools.nsc.Global</span><a href="../Global.scala.html#6489">Global</a></span>
  <span class="keyword">import</span> global._

  <span class="comment">/** Convert variance to string */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)String</span><a id="28510">varianceString</a></span>(<span class="typed"><span class="type">Int</span><a id="108483">variance</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> =
    <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108483">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(65536)</span><span >COVARIANT</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;covariant&quot;)</span><span class="string">&quot;covariant&quot;</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108483">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(131072)</span><span >CONTRAVARIANT</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;contravariant&quot;)</span><span class="string">&quot;contravariant&quot;</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;invariant&quot;)</span><span class="string">&quot;invariant&quot;</span></span>
  
  <span class="comment">/** Flip between covariant and contravariant */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="28511">flip</a></span>(<span class="typed"><span class="type">Int</span><a id="108486">v</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
    <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108486">v</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(65536)</span><span >COVARIANT</span></span>) <span class="typed"><span class="type">Int(131072)</span><span >CONTRAVARIANT</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108486">v</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(131072)</span><span >CONTRAVARIANT</span></span>) <span class="typed"><span class="type">Int(65536)</span><span >COVARIANT</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#108486">v</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,Int)Int</span><a id="28512">compose</a></span>(<span class="typed"><span class="type">Int</span><a id="108489">v1</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="108490">v2</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) =
    <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108489">v1</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108489">v1</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(131072)</span><span >CONTRAVARIANT</span></span>) <span class="typed"><span class="type">(Int)Int</span><a href="#28511">flip</a></span>(<span class="typed"><span class="type">Int</span><a href="#108490">v2</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#108490">v2</a></span>;

  <span class="comment">/** Map everything below VARIANCES to 0 */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="28513">cut</a></span>(<span class="typed"><span class="type">Int</span><a id="108494">v</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> =
    <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#108494">v</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span>) <span class="typed"><span class="type">Int</span><a href="#108494">v</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/** Compute variance of type parameter `tparam' in types of all symbols `sym'. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a id="28514">varianceInSyms</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="108496">syms</a></span>: <span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="526">List</a></span>[Symbol])(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108497">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> =
    (<span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span> <span class="typed"><span class="type">(Int)((Int, Variances.this.global.Symbol) =&gt; Int)Int</span><a href="#108498" id="21803">/:</a></span> <span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a href="#108496">syms</a></span>) ((<span class="typed"><span class="type">Int</span><a id="108501">v</a></span>, <span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108502">sym</a></span>) =&gt; <span class="typed"><span class="type">Int</span><a href="#108501">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Symbol)(Variances.this.global.Symbol)Int</span><a href="#28515">varianceInSym</a></span>(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108502">sym</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108497">tparam</a></span>))

  <span class="comment">/** Compute variance of type parameter `tparam' in type of symbol `sym'. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Variances.this.global.Symbol)(Variances.this.global.Symbol)Int</span><a id="28515">varianceInSym</a></span>(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108510">sym</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108511">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = 
    <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108510">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>) <span class="typed"><span class="type">(Int)Int</span><a href="#28513">cut</a></span>(<span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108510">sym</a></span>.<span class="typed"><span class="type">=&gt; Variances.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108511">tparam</a></span>)) 
    <span class="keyword">else</span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108510">sym</a></span>.<span class="typed"><span class="type">=&gt; Variances.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108511">tparam</a></span>)

  <span class="comment">/** Compute variance of type parameter `tparam' in all types `tps'. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(List[Variances.this.global.Type])(Variances.this.global.Symbol)Int</span><a id="28516">varianceInTypes</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="105987">tps</a></span>: <span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="526">List</a></span>[Type])(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="105988">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> =
    (<span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span> <span class="typed"><span class="type">(Int)((Int, Variances.this.global.Type) =&gt; Int)Int</span><a href="#108512" id="21803">/:</a></span> <span class="typed"><span class="type">List[Variances.this.global.Type]</span><a href="#105987">tps</a></span>) ((<span class="typed"><span class="type">Int</span><a id="108515">v</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108516">tp</a></span>) =&gt; <span class="typed"><span class="type">Int</span><a href="#108515">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108516">tp</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105988">tparam</a></span>))

  <span class="comment">/** Compute variance of type parameter `tparam' in all type arguments
   *  &lt;code&gt;tps&lt;/code&gt; which correspond to formal type parameters `tparams1'.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(List[Variances.this.global.Type],List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a id="28517">varianceInArgs</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="108523">tps</a></span>: <span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="526">List</a></span>[Type], <span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="108524">tparams1</a></span>: <span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="526">List</a></span>[Symbol])(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108525">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="108526">v</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span>;
    <span class="keyword">for</span> (<span class="typed"><span class="type">(((Variances.this.global.Type, Variances.this.global.Symbol)) =&gt; Unit)Unit</span><span id="21366"><a href="#108530" id="21367">(</a></span></span><span class="typed"><span class="type">Variances.this.global.Type</span><span id="108531"><a id="108536">tp</a></span></span>, <span class="typed"><span class="type">Variances.this.global.Symbol</span><span id="108532"><a id="108537">tparam1</a></span></span>) &lt;- <span class="typed"><span class="type">List[Variances.this.global.Type]</span><a href="#108523">tps</a></span> <span class="typed"><span class="type">(List[Variances.this.global.Symbol])List[(Variances.this.global.Type, Variances.this.global.Symbol)]</span><a id="21386">zip</a></span> <span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a href="#108524">tparams1</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="108538">v1</a></span> = <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108536">tp</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108525">tparam</a></span>)
      <span class="typed"><span class="type">Int</span><a href="#108526">v</a></span> = <span class="typed"><span class="type">Int</span><a href="#108526">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108537">tparam1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25208">isCovariant</a></span>) <span class="typed"><span class="type">Int</span><a href="#108538">v1</a></span>
	       <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108537">tparam1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25209">isContravariant</a></span>) <span class="typed"><span class="type">(Int)Int</span><a href="#28511">flip</a></span>(<span class="typed"><span class="type">Int</span><a href="#108538">v1</a></span>)
	       <span class="keyword">else</span> <span class="typed"><span class="type">(Int)Int</span><a href="#28513">cut</a></span>(<span class="typed"><span class="type">Int</span><a href="#108538">v1</a></span>))
    }
    <span class="typed"><span class="type">Int</span><a href="#108526">v</a></span>
  }

  <span class="comment">/** Compute variance of type parameter `tparam' in all type annotations `attribs'. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(List[Variances.this.global.AnnotationInfo])(Variances.this.global.Symbol)Int</span><a id="28518">varianceInAttribs</a></span>(<span class="typed"><span class="type">List[Variances.this.global.AnnotationInfo]</span><a id="108545">attribs</a></span>: <span class="typed"><span class="type">List[Variances.this.global.AnnotationInfo]</span><a id="526">List</a></span>[AnnotationInfo])(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108546">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
    (<span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span> <span class="typed"><span class="type">(Int)((Int, Variances.this.global.AnnotationInfo) =&gt; Int)Int</span><a href="#108547" id="21803">/:</a></span> <span class="typed"><span class="type">List[Variances.this.global.AnnotationInfo]</span><a href="#108545">attribs</a></span>) ((<span class="typed"><span class="type">Int</span><a id="108550">v</a></span>, <span class="typed"><span class="type">Variances.this.global.AnnotationInfo</span><a id="108551">attrib</a></span>) =&gt; <span class="typed"><span class="type">Int</span><a href="#108550">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.AnnotationInfo)(Variances.this.global.Symbol)Int</span><a href="#28519">varianceInAttrib</a></span>(<span class="typed"><span class="type">Variances.this.global.AnnotationInfo</span><a href="#108551">attrib</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108546">tparam</a></span>))
  }

  <span class="comment">/** Compute variance of type parameter `tparam' in type annotation `attrib'. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Variances.this.global.AnnotationInfo)(Variances.this.global.Symbol)Int</span><a id="28519">varianceInAttrib</a></span>(<span class="typed"><span class="type">Variances.this.global.AnnotationInfo</span><a id="108558">attrib</a></span>: <span class="typed"><span class="type">Variances.this.global.AnnotationInfo</span><a href="../symtab/AnnotationInfos.scala.html#22334">AnnotationInfo</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108559">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
    <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.AnnotationInfo</span><a href="#108558">attrib</a></span>.<span class="typed"><span class="type">=&gt; Variances.this.global.Type</span><a href="../symtab/AnnotationInfos.scala.html#47884">atp</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108559">tparam</a></span>)
  }

  <span class="comment">/** Compute variance of type parameter &lt;code&gt;tparam&lt;/code&gt; in type &lt;code&gt;tp&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a id="28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a id="105941">tp</a></span>: <span class="typed"><span class="type">Variances.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="105942">tparam</a></span>: <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">Variances.this.global.Type</span><a href="#105941">tp</a></span> <span class="typed"><span class="type">Int</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">Int(196608)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Variances.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span> | <span class="typed"><span class="type">object Variances.this.global.WildcardType</span><a href="../symtab/Types.scala.html#21958">WildcardType</a></span> | <span class="typed"><span class="type">object Variances.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span> | <span class="typed"><span class="type">object Variances.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span> | <a id="1">ThisType</a>(_) | <a id="1">ConstantType</a>(_) =&gt;
      <span class="typed"><span class="type">Int(196608)</span><span >VARIANCES</span></span>
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">SingleType</a>(<span class="typed"><span class="type">Variances.this.global.Type</span><a id="108560">pre</a></span>, <span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108561">sym</a></span>) =&gt;
      <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108560">pre</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">Variances.this.global.Type</span><a id="108562">pre</a></span>, <span class="typed"><span class="type">Variances.this.global.Symbol</span><a id="108563">sym</a></span>, <span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="108564">args</a></span>) =&gt;
      <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108563">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>) <span class="typed"><span class="type">Int(65536)</span><span >COVARIANT</span></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108562">pre</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(List[Variances.this.global.Type],List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a href="#28517">varianceInArgs</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a href="#108564">args</a></span>, <span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#108563">sym</a></span>.<span class="typed"><span class="type">=&gt; List[Variances.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25242">typeParams</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">TypeBounds</a>(<span class="typed"><span class="type">Variances.this.global.Type</span><a id="108572">lo</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108573">hi</a></span>) =&gt;
      <span class="typed"><span class="type">(Int)Int</span><a href="#28511">flip</a></span>(<span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108572">lo</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108573">hi</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">RefinedType</a>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="108580">parents</a></span>, <span class="typed"><span class="type">Variances.this.global.Scope</span><a id="108581">defs</a></span>) =&gt;
      <span class="typed"><span class="type">(List[Variances.this.global.Type])(Variances.this.global.Symbol)Int</span><a href="#28516">varianceInTypes</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a href="#108580">parents</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a href="#28514">varianceInSyms</a></span>(<span class="typed"><span class="type">Variances.this.global.Scope</span><a href="#108581">defs</a></span>.<span class="typed"><span class="type">=&gt; List[Variances.this.global.Symbol]</span><a href="../symtab/Scopes.scala.html#34629">toList</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a id="108588">formals</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108589">restpe</a></span>) =&gt;
      <span class="typed"><span class="type">(Int)Int</span><a href="#28511">flip</a></span>(<span class="typed"><span class="type">(List[Variances.this.global.Type])(Variances.this.global.Symbol)Int</span><a href="#28516">varianceInTypes</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Type]</span><a href="#108588">formals</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108589">restpe</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="108596">tparams</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108597">restpe</a></span>) =&gt;
      <span class="typed"><span class="type">(Int)Int</span><a href="#28511">flip</a></span>(<span class="typed"><span class="type">(List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a href="#28514">varianceInSyms</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a href="#108596">tparams</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108597">restpe</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">ExistentialType</a>(<span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a id="108604">tparams</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108605">restpe</a></span>) =&gt;
      <span class="typed"><span class="type">(List[Variances.this.global.Symbol])(Variances.this.global.Symbol)Int</span><a href="#28514">varianceInSyms</a></span>(<span class="typed"><span class="type">List[Variances.this.global.Symbol]</span><a href="#108604">tparams</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108605">restpe</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
    <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">AnnotatedType</a>(<span class="typed"><span class="type">List[Variances.this.global.AnnotationInfo]</span><a id="108612">attribs</a></span>, <span class="typed"><span class="type">Variances.this.global.Type</span><a id="108613">tp</a></span>, _) =&gt;
      <span class="typed"><span class="type">(List[Variances.this.global.AnnotationInfo])(Variances.this.global.Symbol)Int</span><a href="#28518">varianceInAttribs</a></span>(<span class="typed"><span class="type">List[Variances.this.global.AnnotationInfo]</span><a href="#108612">attribs</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;</a></span> <span class="typed"><span class="type">(Variances.this.global.Type)(Variances.this.global.Symbol)Int</span><a href="#28520">varianceInType</a></span>(<span class="typed"><span class="type">Variances.this.global.Type</span><a href="#108613">tp</a></span>)(<span class="typed"><span class="type">Variances.this.global.Symbol</span><a href="#105942">tparam</a></span>)
  }
}

        </pre>
    </body>
</html>