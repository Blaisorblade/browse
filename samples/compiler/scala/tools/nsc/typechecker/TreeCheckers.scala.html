<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/TreeCheckers.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */</span>
<span class="comment">// $Id: TreeCheckers.scala 16893 2009-01-13 13:09:22Z cunei $</span>

<span class="keyword">package</span> scala.tools.nsc.typechecker

<span class="keyword">import</span> scala.tools.nsc.symtab.Flags._
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}

<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class TreeCheckers extends java.lang.Object with scala.tools.nsc.typechecker.Analyzer with ScalaObject</span><a id="14501">TreeCheckers</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.typechecker.Analyzer</span><a href="Analyzer.scala.html#14762">Analyzer</a></span> {

  <span class="keyword">import</span> global._

  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><span id="58314"><a id="58313">tpeOfTree</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><span class="keyword">new</span></span> scala.collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><a id="20081">HashMap</a></span>[Tree, Type]

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="58315">checkTrees</a></span> {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#29986">verbose</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
      <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;[consistency check at the beginning of phase &quot;)</span><span class="string">&quot;[consistency check at the beginning of phase &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;]&quot;)</span><span class="string">&quot;]&quot;</span></span>)
    <span class="keyword">for</span> (<span class="typed"><span class="type">((TreeCheckers.this.global.CompilationUnit) =&gt; Unit)Unit</span><span id="32202"><a id="58325">unit</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; Iterator[TreeCheckers.this.global.CompilationUnit]</span><a href="../Global.scala.html#36581">units</a></span>) <span class="typed"><span class="type">(TreeCheckers.this.global.CompilationUnit)Unit</span><a href="#58316">check</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58325">unit</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(TreeCheckers.this.global.CompilationUnit)Unit</span><a id="58316">check</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a id="58326">unit</a></span>: <span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) {
    <span class="typed"><span class="type">(String)Unit</span><a href="../Global.scala.html#21203">informProgress</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;checking &quot;)</span><span class="string">&quot;checking &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">TreeCheckers.this.Context</span><a id="58327">context</a></span> = <span class="typed"><span class="type">(TreeCheckers.this.global.CompilationUnit)TreeCheckers.this.Context</span><a href="Contexts.scala.html#28356">rootContext</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>)
    <span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="#58327">context</a></span>.<span class="typed"><span class="type">(Boolean)Unit</span><a href="Contexts.scala.html#31926">checking</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><a href="#58313">tpeOfTree</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24168">clear</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a id="58328">checker</a></span> = <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><span class="keyword">new</span></span> <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a href="#58318">TreeChecker</a></span>(<span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="#58327">context</a></span>)

    <span class="keyword">val</span> <span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a id="58329">unit0</a></span> = <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.CompilationUnit</span><a href="../Global.scala.html#36529">currentUnit</a></span>
    <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.CompilationUnit)Unit</span><a href="../Global.scala.html#36530">currentUnit</a></span> = <span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>
    <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a href="#58328">checker</a></span>.<span class="typed"><span class="type">object checker.precheck</span><a href="#58340">precheck</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a href="#58346">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)
    <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a href="#58328">checker</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)TreeCheckers.this.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)
    <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a href="#58328">checker</a></span>.<span class="typed"><span class="type">object checker.postcheck</span><a href="#58342">postcheck</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a href="#58353">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)
    <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; Unit</span><a href="../Global.scala.html#36553">advanceUnit</a></span>
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.CompilationUnit</span><a href="../Global.scala.html#36529">currentUnit</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58326">unit</a></span>)
    <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.CompilationUnit)Unit</span><a href="../Global.scala.html#36530">currentUnit</a></span> = <span class="typed"><span class="type">TreeCheckers.this.global.CompilationUnit</span><a href="#58329">unit0</a></span>
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TreeCheckers.this.Context)TreeCheckers.this.Typer</span><a id="58317">newTyper</a></span>(<span class="typed"><span class="type">TreeCheckers.this.Context</span><a id="58359">context</a></span>: <span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="Contexts.scala.html#28359">Context</a></span>): <span class="typed"><span class="type">TreeCheckers.this.Typer</span><a href="Typers.scala.html#28453">Typer</a></span> = <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><span class="keyword">new</span></span> <span class="typed"><span class="type">TreeCheckers.this.TreeChecker</span><a href="#58318">TreeChecker</a></span>(<span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="#58359">context</a></span>)

  <span class="keyword">class</span> <span class="typed"><span class="type">class TreeChecker extends TreeCheckers.this.Typer with ScalaObject</span><a id="58318">TreeChecker</a></span>(<span class="typed"><span class="type">TreeCheckers.this.Context</span><span id="58336"><a id="58344">context0</a></span></span>: <span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="Contexts.scala.html#28359">Context</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">TreeCheckers.this.Typer</span><a href="Typers.scala.html#28453">Typer</a></span>(<span class="typed"><span class="type">TreeCheckers.this.Context</span><a href="#58344">context0</a></span>) {

    <span class="keyword">import</span> infer._

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TreeCheckers.this.global.Tree,Int,TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree</span><a id="58339">typed</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a id="58348">tree</a></span>: <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">Int</span><a id="58349">mode</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a id="58350">pt</a></span>: <span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object TreeCheckers.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> | <a id="1">TypeTree</a>() =&gt;
          ;
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
          <span class="keyword">try</span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><a href="#58313">tpeOfTree</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Boolean</span><a id="24240">contains</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>)) {
              <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><a href="#58313">tpeOfTree</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type)Unit</span><a id="24296">update</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
              <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Type)Unit</span><a href="../ast/Trees.scala.html#25355">tpe</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
            }
            <span class="keyword">val</span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a id="58364">newtree</a></span> = <span class="keyword">super</span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree,Int,TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree</span><a href="Typers.scala.html#31827">typed</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>, <span class="typed"><span class="type">Int</span><a href="#58349">mode</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a href="#58350">pt</a></span>);
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58364">newtree</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58364">newtree</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3501">isInstanceOf</a></span>[<span class="typed"><span class="type">TreeCheckers.this.global.Literal</span><a href="../ast/Trees.scala.html#22515">Literal</a></span>])
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;trees differ\012 old: &quot;)</span><span class="string">&quot;trees differ\n old: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; [&quot;)</span><span class="string">&quot; [&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>.<span class="typed"><span class="type">()java.lang.Class[_ &lt;: java.lang.Object]</span><a id="3511">getClass</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                    <span class="typed"><span class="type">java.lang.String(&quot;]\012 new: &quot;)</span><span class="string">&quot;]\n new: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58364">newtree</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; [&quot;)</span><span class="string">&quot; [&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58364">newtree</a></span>.<span class="typed"><span class="type">()java.lang.Class[_ &lt;: java.lang.Object]</span><a id="3511">getClass</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;]&quot;)</span><span class="string">&quot;]&quot;</span></span>)
          } <span class="keyword">catch</span> {
            <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a id="58376">ex</a></span>: <span class="typed"><span class="type">Throwable</span><a id="2143">Throwable</a></span> =&gt;
              <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;exception while typing &quot;)</span><span class="string">&quot;exception while typing &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>)
              <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a href="#58376">ex</a></span>
          }
      }
      <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58348">tree</a></span>
    }

    <span class="keyword">object</span> <span class="typed"><span class="type">object TreeChecker.this.precheck</span><a id="58340">precheck</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">TreeCheckers.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a id="58346">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a id="58347">tree</a></span>: <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
        <span class="keyword">try</span> {
          <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt;
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(134217728L)</span><span >ACCESSOR</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
                  <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                  <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../symtab/Types.scala.html#25663">resultType</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3501">isInstanceOf</a></span>[<span class="typed"><span class="type">TreeCheckers.this.global.ConstantType</span><a href="../symtab/Types.scala.html#21990">ConstantType</a></span>]) {
                <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25266">accessed</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object TreeCheckers.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
                <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25266">accessed</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25291">getter</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
                       <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25266">accessed</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25292">setter</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
              }
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(_, _, _, _) =&gt;
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25139">hasGetter</a></span>) {
                <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25291">getter</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object TreeCheckers.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
              }
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Apply</a>(_, <span class="typed"><span class="type">List[TreeCheckers.this.global.Tree]</span><a id="58415">args</a></span>) =&gt;
              <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">List[TreeCheckers.this.global.Tree]</span><a href="#58415">args</a></span> <span class="typed"><span class="type">((TreeCheckers.this.global.Tree) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> (<span class="typed"><span class="type">object TreeCheckers.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a href="#58419" id="5793">!=</a></span>))
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Select</a>(_, _) =&gt;
              <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object TreeCheckers.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>)
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">This</a>(_) =&gt;
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25194">isStatic</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>))) {
                <span class="keyword">var</span> <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a id="58432">o</a></span> = <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>
                <span class="typed"><span class="type">Unit</span><a href="#58433" class="keyword">while</a></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58432">o</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) {
                  <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58432">o</a></span> = <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58432">o</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58432">o</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TreeCheckers.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) {
                    <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;tree symbol &quot;)</span><span class="string">&quot;tree symbol &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; does not point to enclosing class; tree = &quot;)</span><span class="string">&quot; does not point to enclosing class; tree = &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>)
                    <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>
                  }
                }
              }
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
          }
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../util/Position.scala.html#8304">NoPosition</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object TreeCheckers.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>) {
            <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;tree without position: &quot;)</span><span class="string">&quot;tree without position: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>)
          } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase#Id</span><a href="../Phase.scala.html#27776">id</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Global.scala.html#36558">typerPhase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase#Id</span><a href="../Phase.scala.html#27776">id</a></span>) {
            <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;tree without type: &quot;)</span><span class="string">&quot;tree without type: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>)
          } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25362">isDef</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>) {
            <span class="keyword">var</span> <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a id="58448">owner</a></span> = <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>
            <span class="typed"><span class="type">Unit</span><a href="#58449" class="keyword">while</a></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span>)
              <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span> = <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Symbol</span><a href="#58448">owner</a></span>) {
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; has wrong owner: &quot;)</span><span class="string">&quot; has wrong owner: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                    <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;, should be: &quot;)</span><span class="string">&quot;, should be: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                    <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span>)
            }
          } <span class="keyword">else</span> {
            <span class="keyword">super</span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>)
          }
        } <span class="keyword">catch</span> {
          <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a id="58455">ex</a></span>: <span class="typed"><span class="type">Throwable</span><a id="2143">Throwable</a></span> =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
              <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;exception when traversing &quot;)</span><span class="string">&quot;exception when traversing &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58347">tree</a></span>);
            <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span>(<span class="typed"><span class="type">java.lang.Throwable</span><a href="#58455">ex</a></span>)
        }
      }
    }

    <span class="keyword">object</span> <span class="typed"><span class="type">object TreeChecker.this.postcheck</span><a id="58342">postcheck</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">TreeCheckers.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a id="58353">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a id="58354">tree</a></span>: <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
        <span class="keyword">try</span> {
          <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object TreeCheckers.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span> | <a id="1">TypeTree</a>() =&gt;
              ;
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
              <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]</span><a href="#58313">tpeOfTree</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Option[TreeCheckers.this.global.Type]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a id="58461">oldtpe</a></span>) =&gt;
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a href="#58461">oldtpe</a></span> <span class="typed"><span class="type">(TreeCheckers.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>))
                    <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="Infer.scala.html#31994">error</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;types differ\012 old: &quot;)</span><span class="string">&quot;types differ\n old: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a href="#58461">oldtpe</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                          <span class="typed"><span class="type">java.lang.String(&quot;\012 new: &quot;)</span><span class="string">&quot;\n new: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>.<span class="typed"><span class="type">=&gt; TreeCheckers.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012 tree: &quot;)</span><span class="string">&quot;\n tree: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>)
                  <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Type)Unit</span><a href="../ast/Trees.scala.html#25355">tpe</a></span> = <span class="typed"><span class="type">TreeCheckers.this.global.Type</span><a href="#58461">oldtpe</a></span>
                  <span class="keyword">super</span>.<span class="typed"><span class="type">(TreeCheckers.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>)
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
              }
          }
        } <span class="keyword">catch</span> {
          <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a id="58463">ex</a></span>: <span class="typed"><span class="type">Throwable</span><a id="2143">Throwable</a></span> =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
              <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;exception when traversing &quot;)</span><span class="string">&quot;exception when traversing &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TreeCheckers.this.global.Tree</span><a href="#58354">tree</a></span>);
            <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span>(<span class="typed"><span class="type">java.lang.Throwable</span><a href="#58463">ex</a></span>)
        }
      }
    }
  }
}

        </pre>
    </body>
</html>