<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: RefChecks.scala 18589 2009-08-27 14:45:35Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> collection.mutable.{HashSet, HashMap}
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="16530">RefChecks</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../transform/InfoTransform.scala.html#13951" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> {

  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator, atOwner}

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="302942">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="302944">phaseNewFlags</a>: <a title="Long" id="2184">Long</a> = <a href="../symtab/Flags.scala.html#28745" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="302945">newTransformer</a>(<a title="RefChecks.this.global.CompilationUnit" id="302958">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a>): <a href="#302948" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#302948" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a>(<a href="#302958" title="RefChecks.this.global.CompilationUnit">unit</a>)
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="302946">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="302947">transformInfo</a>(<a title="RefChecks.this.global.Symbol" id="303010">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="303011">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a> =
    <span title="RefChecks.this.global.Type" class="keyword">if</span> (<a href="#303010" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26917" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#303010" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26966" title="=&gt; Boolean">isStatic</a>) {
      <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)sym.type">sym</a> setFlag (<a href="../symtab/Flags.scala.html#28745" title="(x$1: Int)Long">lateMETHOD</a> | <span title="Int(4194304)">STABLE</span>)
      <a href="../symtab/Types.scala.html#43825" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#303011" title="RefChecks.this.global.Type">tp</a>)
    } <span class="keyword">else</span> <a href="#303011" title="RefChecks.this.global.Type">tp</a>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="302948">RefCheckTransformer</a><span title="ScalaObject">(</span><a title="RefChecks.this.global.CompilationUnit" id="303004">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26773" title="RefChecks.this.global.Transformer">Transformer</a> { 

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="302965">localTyper</a>: analyzer.<a href="Typers.scala.html#39921" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#39159" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="302968">currentApplication</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a> = <a href="../ast/Trees.scala.html#26602" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="302971">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

// Override checking ------------------------------------------------------------

    /** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O. 
     *    1.7. If O is an abstract type then 
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then 
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="302973">checkAllOverrides</a>(<a title="RefChecks.this.global.Symbol" id="303748">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends java.lang.Object with ScalaObject with Product" id="303790">MixinOverrideError</a><span title="ScalaObject">(</span><a title="RefChecks.this.global.Symbol" id="305039">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="305040">msg</a>: <span title="String">String</span>)

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="303753">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span>[MixinOverrideError]()

      <span class="keyword">def</span> <a title="()Unit" id="303754">printMixinOverrideErrors</a>() {
        <a href="#303753" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="#303854" title="(x: List[MixinOverrideError])Some[List[MixinOverrideError]]">List</a>() =&gt; 
          <span title="Unit" class="keyword">case</span> <a href="#303865" title="(x: List[MixinOverrideError])Some[List[MixinOverrideError]]">List</a>(MixinOverrideError(_, <a title="String" id="303874">msg</a>)) =&gt;
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#303874" title="String">msg</a>)
          <span title="Unit" class="keyword">case</span> MixinOverrideError(<a title="RefChecks.this.global.Symbol" id="303884">member</a>, <a title="String" id="303885">msg</a>) :: <a title="List[MixinOverrideError]" id="303888">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="303891">others1</a> = <a href="#303888" title="List[MixinOverrideError]">others</a>.<span title="(f: (MixinOverrideError) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[MixinOverrideError]])List[String]">map</span><span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">(</span><a href="#303900" title="MixinOverrideError">_</a>.<a href="#305039" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28225" title="=&gt; String">decode</a>).<span title="(p: (String) =&gt; Boolean)List[String]">filter</span>(<a href="#303884" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28225" title="(x$1: AnyRef)Boolean">decode</a> != <a href="#303986" title="String">_</a>).<a title="=&gt; List[String]" id="25627">removeDuplicates</a>
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
              <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
              <a href="#303885" title="(x$1: Any)java.lang.String">msg</a>+(<span title="Any" class="keyword">if</span> (<a href="#303891" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                   <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n other members with override errors are: &quot;</span>+(<a href="#303891" title="(sep: String)String" id="25364">others1</a> mkString <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>)))
        }
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="303755">self</a> = <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; RefChecks.this.global.Type">thisType</a>
 
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="303756">isAbstractTypeWithoutFBound</a>(<a title="RefChecks.this.global.Symbol" id="304006">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) = // (part of DEVIRTUALIZE) 
        <a href="#304006" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#303757" title="(tsym: RefChecks.this.global.Symbol)Boolean">isFBounded</a>(<a href="#304006" title="RefChecks.this.global.Symbol">sym</a>)

      <span class="keyword">def</span> <a title="(tsym: RefChecks.this.global.Symbol)Boolean" id="303757">isFBounded</a>(<a title="RefChecks.this.global.Symbol" id="304007">tsym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) =
        <a href="#304007" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152244" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">baseTypeSeq</a> exists (<a href="../symtab/Types.scala.html#30233" title="(sym: RefChecks.this.global.Symbol)Boolean">_</a> contains <a href="#304007" title="RefChecks.this.global.Symbol">tsym</a>)

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="303758">infoString</a>(<a title="RefChecks.this.global.Symbol" id="304020">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#303760" title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String">infoString0</a>(<a href="#304020" title="RefChecks.this.global.Symbol">sym</a>, <a href="#304020" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>)
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="303759">infoStringWithLocation</a>(<a title="RefChecks.this.global.Symbol" id="304059">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#303760" title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String">infoString0</a>(<a href="#304059" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span>)

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String" id="303760">infoString0</a>(<a title="RefChecks.this.global.Symbol" id="304021">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="304022">showLocation</a>: <span title="Boolean">Boolean</span>) = {
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="304023">sym1</a> = <a href="../Global.scala.html#39102" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#39843" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a>(<a href="#304021" title="RefChecks.this.global.Symbol">sym</a>)
        <a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + 
        (<span title="Any" class="keyword">if</span> (<a href="#304022" title="Boolean">showLocation</a>) 
          <a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27092" title="(x$1: Any)java.lang.String">locationString</a> + 
          (<span title="Any" class="keyword">if</span> (<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;, which equals &quot;</span>+<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot; with bounds &quot;</span>+<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot; of type &quot;</span>+<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304023" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
         <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
      }

      <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean" id="303761">overridesType</a>(<a title="RefChecks.this.global.Type" id="304062">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="304063">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type,_2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)">(</span><a href="#304062" title="RefChecks.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#304063" title="RefChecks.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a>) <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> (MethodType(<a href="#304077" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="304087">rtp1</a>), PolyType(<a href="#304093" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="304103">rtp2</a>)) =&gt; 
          <a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">rtp1</a> &lt;:&lt; <a href="#304103" title="RefChecks.this.global.Type">rtp2</a>
        <span title="Boolean" class="keyword">case</span> (PolyType(<a href="#304116" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="304126">rtp1</a>), MethodType(<a href="#304132" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="304142">rtp2</a>)) =&gt; 
          <a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">rtp1</a> &lt;:&lt; <a href="#304142" title="RefChecks.this.global.Type">rtp2</a>
        <span title="Boolean" class="keyword">case</span> (TypeRef(_, <a title="RefChecks.this.global.Symbol" id="304155">sym</a>, _),  _) <span class="keyword">if</span> (<a href="#304155" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26934" title="=&gt; Boolean">isModuleClass</a>) =&gt; 
          <a href="#303761" title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean">overridesType</a>(<a href="../symtab/Types.scala.html#43825" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#304062" title="RefChecks.this.global.Type">tp1</a>), <a href="#304063" title="RefChecks.this.global.Type">tp2</a>)
        <span title="Boolean" class="keyword">case</span> _ =&gt; 
          <a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#304063" title="RefChecks.this.global.Type">tp2</a>
      }

      /** Check that all conditions for overriding &lt;code&gt;other&lt;/code&gt; by
       *  &lt;code&gt;member&lt;/code&gt; are met.
       */
      <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol,member: RefChecks.this.global.Symbol,other: RefChecks.this.global.Symbol)Unit" id="303762">checkOverride</a>(<a title="RefChecks.this.global.Symbol" id="304194">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="304195">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="304196">other</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="304197">overrideError</a>(<a title="String" id="304202">msg</a>: <span title="String">String</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27003" title="(x$1: AnyRef)Boolean">tpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26217" title="object RefChecks.this.global.ErrorType">ErrorType</a> &amp;&amp; <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="(x$1: AnyRef)Boolean">tpe</a> != <a href="../symtab/Types.scala.html#26217" title="object RefChecks.this.global.ErrorType">ErrorType</a>) {
            <span class="keyword">val</span> <a title="java.lang.String" id="304219">fullmsg</a> = 
              <span title="(x$1: Any)java.lang.String" class="string">&quot;overriding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#303759" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;\012 &quot;)" class="string">&quot;;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#303758" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304202" title="String">msg</a>+
              (<span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>) 
                <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n (Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#303759" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is abstract,&quot;)" class="string">&quot; is abstract,&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)" class="string">&quot;\n  and is therefore overridden by concrete &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#303759" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>)+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
            <span title="Unit" class="keyword">if</span> (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#304194" title="RefChecks.this.global.Symbol">clazz</a>) <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#304219" title="java.lang.String">fullmsg</a>)
            <span class="keyword">else</span> <a href="#303753" title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]" id="61580">mixinOverrideErrors</a> <span title="Unit">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#303790" title="MixinOverrideError">MixinOverrideError</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>, <a href="#304219" title="java.lang.String">fullmsg</a>)
          }
        }

        <span class="keyword">def</span> <a title="()Unit" id="304198">overrideTypeError</a>() {
          <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27003" title="(x$1: AnyRef)Boolean">tpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26217" title="object RefChecks.this.global.ErrorType">ErrorType</a> &amp;&amp; <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="(x$1: AnyRef)Boolean">tpe</a> != <a href="../symtab/Types.scala.html#26217" title="object RefChecks.this.global.ErrorType">ErrorType</a>) {
            <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span>)
          }
        }

        <span class="keyword">def</span> <a title="()Unit" id="304199">overrideAccessError</a>() {
          <span class="keyword">val</span> <a title="java.lang.String" id="304324">pwString</a> = <span title="java.lang.String" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26860" title="(x$1: AnyRef)Boolean">privateWithin</a> == <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                         <span class="keyword">else</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26860" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>
          <span class="keyword">val</span> <a title="String" id="304325">otherAccess</a> = <a href="../symtab/Flags.scala.html#28815" title="(flags: Long,privateWithin: String)String">flagsToString</a>(<a href="../symtab/Symbols.scala.html#26995" title="(mask: Long)Long">other</a> getFlag (PRIVATE <span title="Long(5L)">|</span> PROTECTED), <a href="#304324" title="java.lang.String">pwString</a>)
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;has weaker access privileges; it should be &quot;</span>+
                        (<span title="Any" class="keyword">if</span> (<a href="#304325" title="(x$1: AnyRef)Boolean">otherAccess</a> == <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;at least &quot;</span>+<a href="#304325" title="String">otherAccess</a>))
        }

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
        
        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#304194" title="RefChecks.this.global.Symbol">clazz</a>) {
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) &amp;&amp; (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26953" title="(x$1: Boolean)Boolean">isDeferred</a> || <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>)) {
                //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
                <span title="Nothing" class="keyword">return</span>; 
              }
          <span title="Unit" class="keyword">if</span> (<a href="#304194" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a title="RefChecks.this.global.Type" id="304399">parent</a> =&gt;
            <span title="(x$1: Boolean)Boolean">(</span><a href="#304399" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="#304399" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) &amp;&amp;
            (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26953" title="(x$1: Boolean)Boolean">isDeferred</a> || <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>))) {
              //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
                <span title="Nothing" class="keyword">return</span>; 
            }
          <span title="Unit" class="keyword">if</span> (<a href="#304194" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">parents</a> forall (<a title="RefChecks.this.global.Type" id="304419">parent</a> =&gt;
            <span title="(x$1: Boolean)Boolean">(</span><a href="#304419" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) == (<a href="#304419" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>))) {
              //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
              <span title="Nothing" class="keyword">return</span>;
            }
        }

        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(4L)">PRIVATE</span>) { // (1.1)
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span>)
        }
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="304200">mb</a> = <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26998" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="304201">ob</a> = <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26998" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#304200" title="(x$1: AnyRef)Boolean">mb</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#28239" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#304200" title="(x$1: AnyRef)Boolean">mb</a> != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> &amp;&amp; // todo: change
            (<a href="#304201" title="(x$1: AnyRef)Boolean">ob</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28239" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#304201" title="(x$1: AnyRef)Boolean">ob</a> == <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#304201" title="RefChecks.this.global.Symbol">ob</a>.<a href="../symtab/Symbols.scala.html#26987" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a>(<a href="#304200" title="RefChecks.this.global.Symbol">mb</a>) ||
             <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(1L)">PROTECTED</span>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(1L)">PROTECTED</span>))) {
          <a href="#304199" title="()Unit">overrideAccessError</a>()
        } 
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26897" title="(x$1: Boolean)Boolean">isClass</a> || <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a>) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)" class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> &amp;&amp; (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26897" title="(x$1: Boolean)Boolean">isClass</a> || <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a>)) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(32L)">FINAL</span>) { // (1.2)
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE | ABSOVERRIDE <span title="Long(2359298L)">|</span> SYNTHETIC))) { // (1.3), SYNTHETIC because of DEVIRTUALIZE
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs `override' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26976" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a>(<a href="#304194" title="RefChecks.this.global.Symbol">clazz</a>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>)) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs `abstract override' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE)) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
                   (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#26903" title="=&gt; Boolean">isVariable</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26952" title="(x$1: Boolean)Boolean">isStable</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26952" title="=&gt; Boolean">isStable</a>) { // (1.4)
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26902" title="(x$1: Boolean)Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                   <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26902" title="=&gt; Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26911" title="=&gt; Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26902" title="(x$1: Boolean)Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26911" title="=&gt; Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                   <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26902" title="=&gt; Boolean">isValue</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#304197" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span>)
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) {  
            //if (!member.typeParams.isEmpty) // (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty) // (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>).<a href="../symtab/Types.scala.html#30225" title="(from: List[RefChecks.this.global.Symbol],to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><a href="../symtab/Types.scala.html#30236" title="(that: RefChecks.this.global.Type)Boolean">(</a><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>) =:= <a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>))) // (1.6)
              <a href="#304198" title="()Unit">overrideTypeError</a>();
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>) {
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="304638">memberTp</a> = <a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="304639">otherTp</a> = <a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>)
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#304639" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#45786" title="(that: RefChecks.this.global.Type)Boolean">bounds</a> containsType <a href="#304638" title="RefChecks.this.global.Type">memberTp</a>)) { // (1.7.1)
              <a href="#304198" title="()Unit">overrideTypeError</a>(); // todo: do an explaintypes with bounds here
              <a href="../symtab/Types.scala.html#26470" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any,found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#304663" title="RefChecks.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#45786" title="(that: RefChecks.this.global.Type)Boolean">bounds</a> containsType <a href="#304664" title="RefChecks.this.global.Type">_</a>, <a href="#304639" title="RefChecks.this.global.Type">otherTp</a>, <a href="#304638" title="RefChecks.this.global.Type">memberTp</a>)
            }
            
            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="304640">kindErrors</a> = <a href="../Global.scala.html#39159" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42551" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#48773" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a>(<span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>), <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span>(<a href="#304638" title="RefChecks.this.global.Type">memberTp</a>), <a href="#303755" title="RefChecks.this.global.Type">self</a>, <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>) // (1.7.2)
           
            <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#304640" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>)
              <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
                <span title="(x$1: Any)java.lang.String" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27084" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27095" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27086" title="=&gt; String">nameString</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27096" title="=&gt; String">defString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> +
                <a href="#304640" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
            
            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) {
              <span class="keyword">val</span> <a title="List[String]" id="304724">kindErrors</a> = <a href="../Global.scala.html#39159" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42551" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#48773" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a>(<span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>), <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span>(<a href="#304638" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a>), <a href="#303755" title="RefChecks.this.global.Type">self</a>, <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
           
              <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#304724" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>)
                <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
                  <span title="(x$1: Any)java.lang.String" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304638" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27084" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27095" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304195" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27086" title="=&gt; String">nameString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span>+
                  <a href="#304724" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
            }
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304196" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>) {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#303761" title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean">overridesType</a>(<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>), <a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>))) { // 8
              <a href="#304198" title="()Unit">overrideTypeError</a>()
              <a href="../symtab/Types.scala.html#26469" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304195" title="RefChecks.this.global.Symbol">member</a>), <a href="#303755" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30222" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304196" title="RefChecks.this.global.Symbol">other</a>))
            }
          }
        }
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="303763">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#39047" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#54128" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>)
      <span title="Unit" class="keyword">while</span> (<a href="#303763" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54169" title="=&gt; Boolean">hasNext</a>) <a href="#303764" title="()Unit">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullNameString + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullNameString + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#303763" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54166" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) <a href="#303762" title="(clazz: RefChecks.this.global.Symbol,member: RefChecks.this.global.Symbol,other: RefChecks.this.global.Symbol)Unit">checkOverride</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#303763" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54163" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#303763" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54166" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>);
        
        <a href="#303763" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54170" title="=&gt; Unit">next</a>
      }
      <a href="#303754" title="()Unit">printMixinOverrideErrors</a>() 

      // 2. Check that only abstract classes have deferred members
      <span title="Unit" class="keyword">if</span> (<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26897" title="(x$1: Boolean)Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) {
        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean,msg: String)Unit" id="304813">abstractClassError</a>(<a title="Boolean" id="304816">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="304817">msg</a>: <span title="String">String</span>) {
          <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
            <span title="(x$1: Any)java.lang.String">(</span><span title="java.lang.String" class="keyword">if</span> (<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26931" title="(x$1: Boolean)Boolean">isAnonymousClass</a> || <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26934" title="=&gt; Boolean">isModuleClass</a>) <span title="java.lang.String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
             <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> (<a href="#304816" title="Boolean">mustBeMixin</a>) <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
             <span class="keyword">else</span> <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, since &quot;)" class="string">&quot;, since &quot;</span> + <a href="#304817" title="String">msg</a>);
          <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)clazz.type">setFlag</a><span title="Unit">(</span><span title="Long(8L)">ABSTRACT</span>)
        }
        // Find a concrete Java method that overrides `sym' under the erasure model.
        // Bridge symbols qualify.
        // Used as a fall back if no overriding symbol of a Java abstract method can be found
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="304814">javaErasedOverridingSym</a>(<a title="RefChecks.this.global.Symbol" id="304836">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a> = 
          <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30256" title="(name: RefChecks.this.global.Name,excludedFlags: Int,requiredFlags: Long,stableOnly: Boolean)(from: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">findMember</a>(<a href="#304836" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Int(4)">PRIVATE</span>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span>)(<a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>).<a href="../symtab/Symbols.scala.html#27026" title="(cond: (RefChecks.this.global.Symbol) =&gt; Boolean)RefChecks.this.global.Symbol">filter</a>(<a title="RefChecks.this.global.Symbol" id="304854">other</a> =&gt;
            <span title="(x$1: Boolean)Boolean">!</span><a href="#304854" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
            (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; {
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="304859">tp1</a> = <a href="../Global.scala.html#39123" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#42448" title="(v1: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#304836" title="RefChecks.this.global.Symbol">sym</a>))
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="304860">tp2</a> = <a href="../Global.scala.html#39123" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#42448" title="(v1: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#304854" title="RefChecks.this.global.Symbol">other</a>))
              <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40196" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="../symtab/Types.scala.html#30238" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">tp1</a> matches <a href="#304860" title="RefChecks.this.global.erasure.global.Type">tp2</a>)
            })
        <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="304907">member</a> &lt;- <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30214" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit">nonPrivateMembers</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#304907" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26953" title="(x$1: Boolean)Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(8L)">ABSTRACT</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#303756" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a>(<a href="#304907" title="RefChecks.this.global.Symbol">member</a>) &amp;&amp;
              <span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; <a href="#304814" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#304907" title="RefChecks.this.global.Symbol">member</a>) != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>)) {
            <a href="#304813" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(
              <span title="Boolean(false)" class="keyword">false</span>, <a href="#303758" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#304907" title="RefChecks.this.global.Symbol">member</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> + <a href="../Global.scala.html#39102" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#39844" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a>(<a href="#304907" title="RefChecks.this.global.Symbol">member</a>))
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>) &amp;&amp; <a href="#304907" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26976" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>)) {
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="304951">other</a> = <a href="#304907" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27066" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>);
            <a href="#304813" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(<span title="Boolean(true)" class="keyword">true</span>,
              <a href="#303758" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#304907" title="RefChecks.this.global.Symbol">member</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is marked `abstract' and `override'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> +
              (<span title="Any" class="keyword">if</span> (<a href="#304951" title="(x$1: AnyRef)Boolean">other</a> != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>) 
                <span title="(x$1: Any)java.lang.String" class="string">&quot; and overrides incomplete superclass member &quot;</span> + <a href="#303758" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#304951" title="RefChecks.this.global.Symbol">other</a>)
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
          }
        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        // 
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="304815">checkNoAbstractDecls</a>(<a title="RefChecks.this.global.Symbol" id="304978">bc</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {
          <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="304985">decl</a> &lt;- <a href="#304978" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27145" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit" id="32173">iterator</a>) {
            <span title="Unit" class="keyword">if</span> (<a href="#304985" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#26953" title="(x$1: Boolean)Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#303756" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a>(<a href="#304985" title="RefChecks.this.global.Symbol">decl</a>)) { 
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="304990">impl</a> = <a href="#304985" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#27061" title="(site: RefChecks.this.global.Type)RefChecks.this.global.Symbol">matchingSymbol</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; RefChecks.this.global.Type">thisType</a>)
              <span title="Unit" class="keyword">if</span> (<a href="#304990" title="(x$1: AnyRef)Boolean">impl</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> || (<a href="#304985" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#304990" title="RefChecks.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)) {
                <a href="#304813" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#303758" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#304985" title="RefChecks.this.global.Symbol">decl</a>)<span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span>+<a href="../Global.scala.html#39102" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#39844" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a>(<a href="#304985" title="RefChecks.this.global.Symbol">decl</a>))
              }
            }
          }
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="304979">parents</a> = <a href="#304978" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#304979" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#304979" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8L)">ABSTRACT</span>)) 
            <a href="#304815" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a>(<a href="#304979" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>)
        }
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(8L)">ABSTRACT</span>)) <a href="#304815" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a>(<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>)
      }

      // 4. Check that every defined member with an `override' modifier overrides some other member.
      <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="305064">member</a> &lt;- <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (RefChecks.this.global.Symbol) =&gt; Any)Unit">toList</a>)
        <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE)) &amp;&amp;
            (<a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a>.<a title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)Boolean" id="25318">tail</a> forall {
               <a title="RefChecks.this.global.Symbol" id="305095">bc</a> =&gt; <a href="#305064" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27060" title="(ofclazz: RefChecks.this.global.Symbol,site: RefChecks.this.global.Type)RefChecks.this.global.Symbol">matchingSymbol</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#305095" title="RefChecks.this.global.Symbol">bc</a>, <a href="#303748" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; RefChecks.this.global.Type">thisType</a>) == <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>
            })) {
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG
          <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305064" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#305064" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span>);
          <a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)member.type">member</a> resetFlag <span title="Long(2L)">OVERRIDE</span>
        }
    }

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="302974">validateBaseTypes</a>(<a title="RefChecks.this.global.Symbol" id="305141">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="305143">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <a title="Array[List[RefChecks.this.global.Type]]" id="887">Array</a>[List[Type]](<a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30240" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152232" title="=&gt; Int">length</a>)
      <span class="keyword">for</span> (<a title="Int" id="305183">i</a> &lt;- <span title="(end: Int)Range" class="int">0</span> <span title="(f: (Int) =&gt; Unit)Unit">until</span> <a href="#305143" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span>) <a href="#305143" title="(i: Int,x: List[RefChecks.this.global.Type])Unit">seenTypes</a>(<a href="#305183" title="Int">i</a>) = <span title="object Nil">Nil</span>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="305144">register</a>(<a title="RefChecks.this.global.Type" id="305199">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>) {
//        if (clazz.fullNameString.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305200">baseClass</a> = <a href="#305199" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#305200" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) {
          <span class="keyword">val</span> <a title="Int" id="305201">index</a> = <a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30243" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a>(<a href="#305200" title="RefChecks.this.global.Symbol">baseClass</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#305201" title="(x$1: Int)Boolean">index</a> &gt;= <span title="Int(0)" class="int">0</span>) {
            <span title="Unit" class="keyword">if</span> (<a href="#305143" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">(</span><a href="#305201" title="Int">index</a>) forall (<a title="RefChecks.this.global.Type" id="305227">tp1</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#305199" title="RefChecks.this.global.Type">tp</a>)))
              <a href="#305143" title="(i: Int,x: List[RefChecks.this.global.Type])Unit">seenTypes</a>(<a href="#305201" title="Int">index</a>) = 
                <a href="#305199" title="RefChecks.this.global.Type">tp</a> <a href="#305243" title="RefChecks.this.global.Type">::</a> <span title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">(</span><a href="#305143" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span title="(p: (RefChecks.this.global.Type) =&gt; Boolean)List[RefChecks.this.global.Type]">(</span><a href="#305201" title="Int">index</a>) filter (<a title="RefChecks.this.global.Type" id="305255">tp1</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">tp</a> &lt;:&lt; <a href="#305255" title="RefChecks.this.global.Type">tp1</a>)))
          }
        }
        <a href="#305199" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30189" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">parents</a> foreach <a href="#305144" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      }
      <a href="#305144" title="(tp: RefChecks.this.global.Type)Unit">register</a>(<a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>)
      <span class="keyword">for</span> (<a title="Int" id="305329">i</a> &lt;- <span title="(end: Int)Range" class="int">0</span> <span title="(f: (Int) =&gt; Unit)Unit">until</span> <a href="#305143" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span>) {
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305330">baseClass</a> = <a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152236" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a>(<a href="#305329" title="Int">i</a>).<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#305143" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a>(<a href="#305329" title="Int">i</a>) <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="#305343" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a>() =&gt;
            <a title="(x: Any)Unit" id="8057">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305330" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span>+<a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>)
          <span title="Unit" class="keyword">case</span> <a href="#305364" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a>(_) =&gt;
            ;// OK
          <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.Type" id="305378">tp1</a> :: <a title="RefChecks.this.global.Type" id="305383">tp2</a> :: _ =&gt;
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305141" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305141" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305330" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305378" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> + <a href="#305383" title="RefChecks.this.global.Type">tp2</a>);
            <a href="../symtab/Types.scala.html#26469" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#305378" title="RefChecks.this.global.Type">tp1</a>, <a href="#305383" title="RefChecks.this.global.Type">tp2</a>)
            <a href="../symtab/Types.scala.html#26469" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#305383" title="RefChecks.this.global.Type">tp2</a>, <a href="#305378" title="RefChecks.this.global.Type">tp1</a>)
        }
      }
    }

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="302975">ContraVariance</a> = <span title="Int(-1)">-</span><span class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="302977">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="302979">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="302981">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="302983">escapedPrivateLocals</a> = <span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="24801">HashSet</a>[Symbol]

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="302985">varianceValidator</a> = <a href="#303061" title="RefChecks.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26774" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="303061">Traverser</a> {

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="303063">validateVariance</a>(<a title="RefChecks.this.global.Symbol" id="303068">base</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {

        <span class="keyword">def</span> <a title="(variance: Int)String" id="303069">varianceString</a>(<a title="Int" id="303074">variance</a>: <span title="Int">Int</span>): <span title="String">String</span> =
          <span title="String" class="keyword">if</span> (<a href="#303074" title="(x$1: Int)Boolean">variance</a> == <span title="Int(1)" class="int">1</span>) <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#303074" title="(x$1: Int)Boolean">variance</a> == <span title="Int(-1)">-</span><span class="int">1</span>) <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="303070">relativeVariance</a>(<a title="RefChecks.this.global.Symbol" id="303087">tvar</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>): <span title="Int">Int</span> = {
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="303088">clazz</a> = <a href="#303087" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="303089">sym</a> = <a href="#303068" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="303090">state</a> = <a href="#302979" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> (<a href="#303089" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#303088" title="RefChecks.this.global.Symbol">clazz</a> &amp;&amp; <a href="#303090" title="(x$1: Int)Boolean">state</a> != <a href="#302981" title="=&gt; Int">AnyVariance</a>) <a href="#303091" title="()Unit">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(8192L)">PARAM</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26960" title="=&gt; Boolean">isCaseApplyOrUnapply</a> &amp;&amp;
                <span title="=&gt; Boolean">!</span>(<a href="#303087" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#26924" title="(x$1: Boolean)Boolean">isTypeParameterOrSkolem</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26924" title="=&gt; Boolean">isTypeParameterOrSkolem</a> &amp;&amp;
                  <a href="#303087" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)) <a href="#303090" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#303090" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> || 
                     <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; (<span title="(x$1: Boolean)Boolean">(</span><a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26957" title="(x$1: Boolean)Boolean">isPrivateLocal</a> || <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26958" title="=&gt; Boolean">isProtectedLocal</a>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="#302983" title="(elem: RefChecks.this.global.Symbol)Boolean" id="39286">escapedPrivateLocals</a> contains <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>))) {
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#303090" title="Int">state</a> = <a href="#302981" title="=&gt; Int">AnyVariance</a>
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) {
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#303090" title="Int">state</a> = <span title="Int" class="keyword">if</span> (<a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#302981" title="=&gt; Int">AnyVariance</a>
                      <span class="keyword">else</span> <a href="#302977" title="=&gt; Int">NoVariance</a>
            }
            <a href="#303089" title="RefChecks.this.global.Symbol">sym</a> = <a href="#303089" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          }
          <a href="#303090" title="Int">state</a>
        }

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type,variance: Int)Unit" id="303071">validateVariance</a>(<a title="RefChecks.this.global.Type" id="303163">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="303164">variance</a>: <span title="Int">Int</span>): <span title="Unit">Unit</span> = <a href="#303163" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26217" title="object RefChecks.this.global.ErrorType">ErrorType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object RefChecks.this.global.WildcardType">WildcardType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26224" title="object RefChecks.this.global.NoType">NoType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26226" title="object RefChecks.this.global.NoPrefix">NoPrefix</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt; ;
          <span title="Unit" class="keyword">case</span> ConstantType(_) =&gt; ;
          <span title="Unit" class="keyword">case</span> DeBruijnIndex(_, _) =&gt; ;
          <span title="Unit" class="keyword">case</span> SingleType(<a title="RefChecks.this.global.Type" id="303175">pre</a>, <a title="RefChecks.this.global.Symbol" id="303176">sym</a>) =&gt;
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303175" title="RefChecks.this.global.Type">pre</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="RefChecks.this.global.Type" id="303184">pre</a>, <a title="RefChecks.this.global.Symbol" id="303185">sym</a>, <a title="List[RefChecks.this.global.Type]" id="303186">args</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#303185" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="(x$1: Boolean)Boolean">isAliasType</a> &amp;&amp; <a href="#303070" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span title="(x$1: Int)Boolean">(</span><a href="#303185" title="RefChecks.this.global.Symbol">sym</a>) == <a href="#302981" title="=&gt; Int">AnyVariance</a>)
              <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303163" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#303164" title="Int">variance</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#303185" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26982" title="(x$1: Int)Boolean">variance</a> != <a href="#302977" title="=&gt; Int">NoVariance</a>) {
              <span class="keyword">val</span> <a title="Int" id="303211">v</a> = <a href="#303070" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a>(<a href="#303185" title="RefChecks.this.global.Symbol">sym</a>)
              <span title="Unit" class="keyword">if</span> (<a href="#303211" title="(x$1: Int)Boolean">v</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#302981" title="=&gt; Int">AnyVariance</a> &amp;&amp; <a href="#303185" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26982" title="(x$1: Int)Boolean">variance</a> != <a href="#303211" title="(x$1: Int)Int">v</a> * <a href="#303164" title="Int">variance</a>) {
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)java.lang.String" id="303235">tpString</a>(<a title="RefChecks.this.global.Type" id="303236">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>) = <a href="#303236" title="RefChecks.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> {
                  <span title="java.lang.String" class="keyword">case</span> ClassInfoType(<a title="List[RefChecks.this.global.Type]" id="303240">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="303241">clazz</a>) =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;supertype &quot;</span>+<a href="../symtab/Types.scala.html#26300" title="(tps: List[RefChecks.this.global.Type],owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a>(<a href="#303240" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#303241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
                  <span title="java.lang.String" class="keyword">case</span> _ =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;type &quot;</span>+<a href="#303236" title="RefChecks.this.global.Type">tp</a>
                }
                <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#303068" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
                           <a href="#303069" title="(variance: Int)String">varianceString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#303185" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26982" title="=&gt; Int">variance</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#303185" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#303069" title="(variance: Int)String">varianceString</a>(<a href="#303211" title="(x$1: Int)Int">v</a> * <a href="#303164" title="Int">variance</a>) <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#303235" title="(tp: RefChecks.this.global.Type)java.lang.String">tpString</a>(<a href="#303068" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> + <a href="#303068" title="RefChecks.this.global.Symbol">base</a>);
              }
            }
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303184" title="RefChecks.this.global.Type">pre</a>, <a href="#303164" title="Int">variance</a>)
            <a href="#303073" title="(tps: List[RefChecks.this.global.Type],variance: Int,tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a>(<a href="#303186" title="List[RefChecks.this.global.Type]">args</a>, <a href="#303164" title="Int">variance</a>, <a href="#303185" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>) //@M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway 
            // -- the interesting case is in type application, see checkKindBounds in Infer
          <span title="Unit" class="keyword">case</span> ClassInfoType(<a title="List[RefChecks.this.global.Type]" id="303348">parents</a>, <a title="RefChecks.this.global.Scope" id="303349">decls</a>, <a title="RefChecks.this.global.Symbol" id="303350">symbol</a>) =&gt;
            <a href="#303072" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#303348" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[RefChecks.this.global.Type]" id="303359">parents</a>, <a title="RefChecks.this.global.Scope" id="303360">decls</a>) =&gt;
            <a href="#303072" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#303359" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#303164" title="Int">variance</a>)
            <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="303382">sym</a> &lt;- <a href="#303360" title="RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit">toList</a>)
              <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> (<a href="#303382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) <a href="#302977" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> TypeBounds(<a title="RefChecks.this.global.Type" id="303390">lo</a>, <a title="RefChecks.this.global.Type" id="303391">hi</a>) =&gt;
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303390" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#303164" title="Int">variance</a>)
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303391" title="RefChecks.this.global.Type">hi</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> MethodType(<a title="List[RefChecks.this.global.Symbol]" id="303400">formals</a>, <a title="RefChecks.this.global.Type" id="303401">result</a>) =&gt;
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303401" title="RefChecks.this.global.Type">result</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> PolyType(<a title="List[RefChecks.this.global.Symbol]" id="303408">tparams</a>, <a title="RefChecks.this.global.Type" id="303409">result</a>) =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303409" title="RefChecks.this.global.Type">result</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[RefChecks.this.global.Symbol]" id="303416">tparams</a>, <a title="RefChecks.this.global.Type" id="303417">result</a>) =&gt;
            <a href="#303072" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#303416" title="(f: (RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List#Coll]">map</span> (<a href="#303428" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>), <a href="#303164" title="Int">variance</a>)
            <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303417" title="RefChecks.this.global.Type">result</a>, <a href="#303164" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> AnnotatedType(<a title="List[RefChecks.this.global.AnnotationInfo]" id="303460">annots</a>, <a title="RefChecks.this.global.Type" id="303461">tp</a>, <a title="RefChecks.this.global.Symbol" id="303462">selfsym</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#303460" title="(p: (RefChecks.this.global.AnnotationInfo) =&gt; Boolean)Boolean">annots</a> exists (<a href="#303469" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44738" title="=&gt; RefChecks.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27023" title="(that: RefChecks.this.global.Symbol)Boolean">isNonBottomSubClass</a>(<a href="../symtab/Definitions.scala.html#28319" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a>))))
              <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303461" title="RefChecks.this.global.Type">tp</a>, <a href="#303164" title="Int">variance</a>)
        }

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit" id="303072">validateVariances</a>(<a title="List[RefChecks.this.global.Type]" id="303353">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="Int" id="303354">variance</a>: <span title="Int">Int</span>) {
          <a href="#303353" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">tps</a> foreach (<a title="RefChecks.this.global.Type" id="303504">tp</a> =&gt; <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303504" title="RefChecks.this.global.Type">tp</a>, <a href="#303354" title="Int">variance</a>))
        }

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type],variance: Int,tparams: List[RefChecks.this.global.Symbol])Unit" id="303073">validateVarianceArgs</a>(<a title="List[RefChecks.this.global.Type]" id="303340">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="Int" id="303341">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="303342">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol]) {
          <span title="(f: ((RefChecks.this.global.Type, RefChecks.this.global.Symbol)) =&gt; Unit)Unit">(</span><a href="#303340" title="(that: Iterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)],List[RefChecks.this.global.Type]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]" id="25448">tps</a> <span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)],List#Coll]">zip</span> <a href="#303342" title="List[RefChecks.this.global.Symbol]">tparams</a>) foreach <a href="#303618" title="Unit">{</a>
            <span title="Unit" class="keyword">case</span> (<a title="RefChecks.this.global.Type" id="303621">tp</a>, <a title="RefChecks.this.global.Symbol" id="303622">tparam</a>) =&gt; <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303621" title="RefChecks.this.global.Type">tp</a>, <a href="#303341" title="(x$1: Int)Int">variance</a> * <a href="#303622" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#26982" title="=&gt; Int">variance</a>)
          }
        }

        <a href="#303071" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303068" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#302979" title="=&gt; Int">CoVariance</a>)
      }

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="303064">traverse</a>(<a title="RefChecks.this.global.Tree" id="303650">tree</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>) {
        <a href="#303650" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) | 
               TypeDef(_, _, _, _) =&gt;
            <a href="#303063" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#303650" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#303650" title="RefChecks.this.global.Tree">tree</a>)
          // ModuleDefs need not be considered because they have been eliminated already
          <span title="Unit" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
            <a href="#303063" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#303650" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
          <span title="Unit" class="keyword">case</span> DefDef(_, _, <a title="List[RefChecks.this.global.TypeDef]" id="303691">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="303692">vparamss</a>, <a title="RefChecks.this.global.Tree" id="303693">tpt</a>, <a title="RefChecks.this.global.Tree" id="303694">rhs</a>) =&gt;
            <a href="#303063" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#303650" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
            <a href="../ast/Trees.scala.html#70826" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a>(<a href="#303691" title="List[RefChecks.this.global.TypeDef]">tparams</a>); <a href="../ast/Trees.scala.html#70827" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a>(<a href="#303692" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a>)
          <span title="Unit" class="keyword">case</span> Template(_, _, _) =&gt;
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#303650" title="RefChecks.this.global.Tree">tree</a>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
    }

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends java.lang.Object with ScalaObject" id="302987">LevelInfo</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="305434">outer</a>: <a href="#302987" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a>) {
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="303732">scope</a>: <a href="../symtab/Scopes.scala.html#26012" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> (<a href="#305434" title="(x$1: AnyRef)Boolean">outer</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="../symtab/Scopes.scala.html#25966" title="=&gt; RefChecks.this.global.Scope">newScope</a> <span class="keyword">else</span> <a href="../symtab/Scopes.scala.html#26005" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope">newScope</a>(<a href="#305434" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#303732" title="=&gt; RefChecks.this.global.Scope">scope</a>)
      <span class="keyword">var</span> <a title="Int" id="303735">maxindex</a>: <span title="Int">Int</span> = <a title="object Math" id="525">Math</a>.<a title="=&gt; Int" id="69506">MIN_INT</a>
      <span class="keyword">var</span> <a title="scala.tools.nsc.util.Position" id="303738">refpos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="303741">refsym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a> = _
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="302989">currentLevel</a>: <a href="#302987" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="302991">symIndex</a> = <span title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="24954">HashMap</a>[Symbol, Int]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="302993">pushLevel</a>() {
      <a href="#302989" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#302987" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a>(<a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="302994">popLevel</a>() {
      <a href="#302989" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#305434" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="302995">enterSyms</a>(<a title="List[RefChecks.this.global.Tree]" id="305465">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree]) {
      <span class="keyword">var</span> <a title="Int" id="305467">index</a> = <span title="Int(-1)">-</span><span class="int">1</span>
      <span class="keyword">for</span> (<a title="RefChecks.this.global.Tree" id="305484">stat</a> &lt;- <a href="#305465" title="(f: (RefChecks.this.global.Tree) =&gt; Unit)Unit">stats</a>) { 
        <a href="#305467" title="Int">index</a> = <a href="#305467" title="(x$1: Int)Int">index</a> + <span title="Int(1)" class="int">1</span>; 
        <a href="#305484" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) | DefDef(_, _, _, _, _, _) | ModuleDef(_, _, _) | ValDef(_, _, _, _) =&gt;
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#305484" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#305484" title="RefChecks.this.global.Tree">stat</a>);//debug
            <span title="Unit" class="keyword">if</span> (<a href="#305484" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) {
              <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303732" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27130" title="(e: RefChecks.this.global.ScopeEntry)Unit">enter</a>(<a href="../symtab/Scopes.scala.html#25964" title="(sym: RefChecks.this.global.Symbol,owner: RefChecks.this.global.Scope)RefChecks.this.global.ScopeEntry">newScopeEntry</a>(<a href="#305484" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>, <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303732" title="=&gt; RefChecks.this.global.Scope">scope</a>));
              <a href="#302991" title="(key: RefChecks.this.global.Symbol,value: Int)Unit" id="44386">symIndex</a>(<a href="#305484" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>) = <a href="#305467" title="Int">index</a>;
            }
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit" id="302996">enterReference</a>(<a title="scala.tools.nsc.util.Position" id="305581">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="305582">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#305582" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) {
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="305584">e</a> = <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303732" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27142" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a>(<a href="#305582" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>)
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#305584" title="(x$1: AnyRef)Boolean" id="6544">e</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#305582" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#305584" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; RefChecks.this.global.Symbol">sym</a>) {
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="305598">l</a> = <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> (<a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#303732" title="(x$1: AnyRef)Boolean">scope</a> != <a href="#305584" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26809" title="=&gt; RefChecks.this.global.Scope">owner</a>) <a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#305434" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="305599">symindex</a> = <a href="#302991" title="(key: RefChecks.this.global.Symbol)Int" id="44444">symIndex</a>(<a href="#305582" title="RefChecks.this.global.Symbol">sym</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#303735" title="(x$1: Int)Boolean" id="2956">maxindex</a> &lt; <a href="#305599" title="Int">symindex</a>) {
            <a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#303738" title="(x$1: scala.tools.nsc.util.Position)Unit">refpos</a> = <a href="#305581" title="scala.tools.nsc.util.Position">pos</a>
            <a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#303741" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#305582" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#305598" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#303735" title="(x$1: Int)Unit">maxindex</a> = <a href="#305599" title="Int">symindex</a>
          }
        }
      }
    }

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="302997">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26320" title="RefChecks.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="305637">apply</a>(<a title="RefChecks.this.global.Type" id="305641">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>) = <a href="../symtab/Types.scala.html#42722" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a>(<a href="#305641" title="RefChecks.this.global.Type">tp</a>).<a href="../symtab/Types.scala.html#30206" title="=&gt; RefChecks.this.global.Type">normalize</a>
    }
    
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,fn: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])Unit" id="302999">checkSensible</a>(<a title="scala.tools.nsc.util.Position" id="305665">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="305666">fn</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>, <a title="List[RefChecks.this.global.Tree]" id="305667">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree]) = <a href="#305666" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Select(<a title="RefChecks.this.global.Tree" id="305674">qual</a>, <a title="RefChecks.this.global.Name" id="305675">name</a>) <span class="keyword">if</span> (<a href="#305667" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(1)" class="int">1</span>) =&gt;
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="305685">isNew</a>(<a title="RefChecks.this.global.Tree" id="305686">tree</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>) = <a href="#305686" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean(true)" class="keyword">case</span> Function(_, _) 
             | Apply(Select(New(_), <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29719" title="=&gt; RefChecks.this.global.Name">CONSTRUCTOR</a>), _) =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
        <a href="#305675" title="RefChecks.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30008" title="=&gt; RefChecks.this.global.Name">EQ</a> | <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30010" title="=&gt; RefChecks.this.global.Name">NE</a> | <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30012" title="=&gt; RefChecks.this.global.Name">LT</a> | <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30016" title="=&gt; RefChecks.this.global.Name">GT</a> | <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; RefChecks.this.global.Name">LE</a> | <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30018" title="=&gt; RefChecks.this.global.Name">GE</a> =&gt;
            <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="305706">underlyingClass</a>(<a title="RefChecks.this.global.Type" id="305714">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>): <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a> = {
              <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="305715">sym</a> = <a href="#305714" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
              <span title="Unit" class="keyword">while</span> (<a href="#305715" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>)
                <a href="#305715" title="RefChecks.this.global.Symbol">sym</a> = <a href="#305715" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
              <a href="#305715" title="RefChecks.this.global.Symbol">sym</a>
            }
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305707">formal</a> = <a href="#305706" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#305666" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305708">actual</a> = <a href="#305706" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#305667" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305709">receiver</a> = <a href="#305706" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#305674" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span class="keyword">def</span> <a title="(what: String,alwaysEqual: Boolean)Unit" id="305710">nonSensibleWarning</a>(<a title="String" id="305726">what</a>: <span title="String">String</span>, <a title="Boolean" id="305727">alwaysEqual</a>: <span title="Boolean">Boolean</span>) = 
              <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45456" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">warning</a>(<a href="#305665" title="scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305726" title="String">what</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305675" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28225" title="=&gt; String">decode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span>+
                           (<a href="#305727" title="(x$1: Boolean)Boolean">alwaysEqual</a> == (<a href="#305675" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30008" title="=&gt; RefChecks.this.global.Name">EQ</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#305675" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; RefChecks.this.global.Name">LE</a> || <a href="#305675" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30018" title="=&gt; RefChecks.this.global.Name">GE</a>)))
            <span class="keyword">def</span> <a title="(pre: String,alwaysEqual: Boolean)Unit" id="305711">nonSensible</a>(<a title="String" id="305768">pre</a>: <span title="String">String</span>, <a title="Boolean" id="305769">alwaysEqual</a>: <span title="Boolean">Boolean</span>) =
              <a href="#305710" title="(what: String,alwaysEqual: Boolean)Unit">nonSensibleWarning</a>(<a href="#305768" title="(x$1: Any)java.lang.String">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305637" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a>(<a href="#305674" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; RefChecks.this.global.Type">widen</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>+<a href="#305637" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a>(<a href="#305667" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; RefChecks.this.global.Type">widen</a>),
                                 <a href="#305769" title="Boolean">alwaysEqual</a>) // @MAT normalize for consistency in error message, otherwise part is normalized due to use of `typeSymbol', but the rest isn't
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="305712">hasObjectEquals</a> = <a href="#305709" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30217" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29866" title="=&gt; RefChecks.this.global.Name">equals_</a>) == <a href="../symtab/Definitions.scala.html#28533" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a>
            // see if it has any == methods beyond Any's and AnyRef's: ticket #2240
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="305713">hasOverloadedEqEq</a> = <a href="#305709" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30217" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a>(<a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30008" title="=&gt; RefChecks.this.global.Name">EQ</a>).<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>.<a title="(x$1: Int)Boolean" id="2960">length</a> &gt; <span title="Int(2)" class="int">2</span>
            
            <span title="Unit" class="keyword">if</span> (<a href="#305707" title="(x$1: AnyRef)Boolean">formal</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28277" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> &amp;&amp; <a href="#305708" title="(x$1: AnyRef)Boolean">actual</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>)
              <a href="#305711" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#305709" title="(x$1: AnyRef)Boolean">receiver</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28293" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a> || <a href="#305709" title="(x$1: AnyRef)Boolean">receiver</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>) &amp;&amp; 
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#305708" title="RefChecks.this.global.Symbol">actual</a>))
              <a href="#305711" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28607" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span title="(x$1: Boolean)Boolean">(</span><a href="#305709" title="RefChecks.this.global.Symbol">receiver</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#28607" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a>(<a href="#305708" title="RefChecks.this.global.Symbol">actual</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span>(<a href="../Global.scala.html#39184" title="(x$1: Boolean)Boolean">forMSIL</a> || (<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">actual</a> isSubClass <a href="../symtab/Definitions.scala.html#28549" title="=&gt; RefChecks.this.global.Symbol">BoxedNumberClass</a>)) &amp;&amp;
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#305708" title="RefChecks.this.global.Symbol">actual</a>))
              <a href="#305711" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">receiver</a> hasFlag <span title="Long(32L)">FINAL</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305712" title="=&gt; Boolean">hasObjectEquals</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#28606" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a>(<a href="#305709" title="RefChecks.this.global.Symbol">receiver</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27024" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#305708" title="RefChecks.this.global.Symbol">actual</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305709" title="(x$1: AnyRef)Boolean">receiver</a> != <a href="../symtab/Definitions.scala.html#28269" title="=&gt; RefChecks.this.global.Symbol">NullClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305708" title="(x$1: AnyRef)Boolean">actual</a> != <a href="../symtab/Definitions.scala.html#28269" title="=&gt; RefChecks.this.global.Symbol">NullClass</a> &amp;&amp;
                     (<a href="#305675" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30008" title="=&gt; RefChecks.this.global.Name">EQ</a> || <a href="#305675" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; RefChecks.this.global.Name">LE</a>))
              <a href="#305711" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#305685" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span title="(x$1: Boolean)Boolean">(</span><a href="#305674" title="RefChecks.this.global.Tree">qual</a>) || <a href="#305685" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a>(<a href="#305667" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>)) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305712" title="=&gt; Boolean">hasObjectEquals</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     (<a href="#305675" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30008" title="=&gt; RefChecks.this.global.Name">EQ</a> || <a href="#305675" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30010" title="=&gt; RefChecks.this.global.Name">NE</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#305713" title="=&gt; Boolean">hasOverloadedEqEq</a>)
              <a href="#305710" title="(what: String,alwaysEqual: Boolean)Unit">nonSensibleWarning</a>(<span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="303000">toConstructor</a>(<a title="scala.tools.nsc.util.Position" id="305957">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Type" id="305958">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a> = {
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="305960">rtpe</a> = <a href="#305958" title="RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30196" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#305960" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">typeSymbol</a> hasFlag <span title="Long(2048L)">CASE</span>, <a href="#305958" title="RefChecks.this.global.Type">tpe</a>);
      <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42645" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> {
        <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a>(<a href="#305957" title="scala.tools.nsc.util.Position">pos</a>) {
          <a href="../ast/Trees.scala.html#26731" title="(qualifier: RefChecks.this.global.Tree,sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#50316" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a>(<a href="../ast/Trees.scala.html#26744" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a>(<a href="#305960" title="RefChecks.this.global.Type">rtpe</a>)), <a href="#305960" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27033" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>)
        }
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree],exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="303001">transformStats</a>(<a title="List[RefChecks.this.global.Tree]" id="306036">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree], <a title="RefChecks.this.global.Symbol" id="306037">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>): <span title="List[RefChecks.this.global.Tree]">List</span>[Tree] = {
      <a href="#302993" title="()Unit">pushLevel</a>()
      <a href="#302995" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a>(<a href="#306036" title="List[RefChecks.this.global.Tree]">stats</a>)
      <span class="keyword">var</span> <a title="Int" id="306041">index</a> = <span title="Int(-1)">-</span><span class="int">1</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="306042">stats1</a> = <a href="#306036" title="(f: (RefChecks.this.global.Tree) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">stats</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">flatMap</span> { <a title="RefChecks.this.global.Tree" id="306055">stat</a> =&gt; <a href="#306041" title="Int">index</a> += <span title="Int(1)" class="int">1</span>; <a href="#303002" title="(tree: RefChecks.this.global.Tree,index: Int)List[RefChecks.this.global.Tree]">transformStat</a>(<a href="#306055" title="RefChecks.this.global.Tree">stat</a>, <a href="#306041" title="Int">index</a>) }
      <a href="#302994" title="()Unit">popLevel</a>()
      <a href="#306042" title="List[RefChecks.this.global.Tree]">stats1</a>
    }

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree,index: Int)List[RefChecks.this.global.Tree]" id="303002">transformStat</a>(<a title="RefChecks.this.global.Tree" id="306090">tree</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>, <a title="Int" id="306091">index</a>: <span title="Int">Int</span>): <span title="List[RefChecks.this.global.Tree]">List</span>[Tree] = <a href="#306090" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> {
      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> ModuleDef(<a title="RefChecks.this.global.Modifiers" id="306179">mods</a>, <a title="RefChecks.this.global.Name" id="306180">name</a>, <a title="RefChecks.this.global.Template" id="306181">impl</a>) =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306184">sym</a> = <a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="306185">cdef</a> = <a href="../ast/Trees.scala.html#51983" title="(mods: RefChecks.this.global.Modifiers,name: RefChecks.this.global.Name,tparams: List[RefChecks.this.global.TypeDef],impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a>(<a href="../ast/Trees.scala.html#52049" title="(flag: Long)RefChecks.this.global.Modifiers">mods</a> | <span title="Long(256L)">MODULE</span>, <a href="#306180" title="RefChecks.this.global.Name">name</a>, List<span title="object Nil">(</span>), <a href="#306181" title="RefChecks.this.global.Template">impl</a>)
          .<a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.ClassDef">setPos</a>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) 
          .<a href="../ast/Trees.scala.html#29369" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>) 
          .<a href="../ast/Trees.scala.html#29366" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</a>(<a href="../symtab/Types.scala.html#26224" title="object RefChecks.this.global.NoType">NoType</a>);
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26966" title="=&gt; Boolean">isStatic</a>) {
          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span>) {
            <span class="keyword">val</span> <a title="RefChecks.this.global.TermSymbol" id="306272">factory</a> = <a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: RefChecks.this.global.Name)RefChecks.this.global.TermSymbol">newMethod</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; RefChecks.this.global.Name">name</a>)
              .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)RefChecks.this.global.TermSymbol">setFlag</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26991" title="(x$1: Int)Long">flags</a> | <span title="Int(4194304)">STABLE</span>).<a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)RefChecks.this.global.TermSymbol">resetFlag</a>(<span title="Long(256L)">MODULE</span>)
              .<a href="../symtab/Symbols.scala.html#27005" title="(info: RefChecks.this.global.Type)RefChecks.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Types.scala.html#43825" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>))
            <a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a>(<a href="#306272" title="RefChecks.this.global.TermSymbol">factory</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="306273">ddef</a> = 
              <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
                <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> {
                  <a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42697" title="(accessor: RefChecks.this.global.gen.global.Symbol,tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a>(<a href="#306272" title="RefChecks.this.global.TermSymbol">factory</a>, <a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>)
                }
              }
            <a href="../ast/Trees.scala.html#45474" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#306185" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#306273" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
          } <span class="keyword">else</span> {
            <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306185" title="RefChecks.this.global.ClassDef">cdef</a>))
          }
        } <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="306390">vdef</a> = <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42641" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { <a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42695" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>) }
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="306391">ddef</a> = 
            <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
              <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> {
                <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) <a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42699" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDcl</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>)
                <span class="keyword">else</span> <a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42696" title="(accessor: RefChecks.this.global.gen.global.Symbol,mvar: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkCachedModuleAccessDef</a>(<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>, <a href="#306390" title="RefChecks.this.global.analyzer.global.Tree">vdef</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">symbol</a>)
              }
            }

          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#306184" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) <a href="../ast/Trees.scala.html#45474" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#306185" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#306391" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
          <span class="keyword">else</span> <a href="../ast/Trees.scala.html#45474" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#306185" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#306390" title="RefChecks.this.global.analyzer.global.Tree">vdef</a>, <a href="#306391" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
        }

      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="306463">tree1</a> = <a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>); // important to do before forward reference check
        <span class="keyword">val</span> ValDef<a href="#306476" title="RefChecks.this.global.Tree" id="306464">(</a>_, _, _, <a title="RefChecks.this.global.Tree" id="306476">rhs</a>) = <a href="#306463" title="RefChecks.this.global.Tree">tree1</a>
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>, <a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306481">vsym</a> = <a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="Boolean" id="306482">hasUnitType</a> = (<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#26479" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28277" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306483">lazyDefSym</a> = <a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#27046" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306483" title="(x$1: AnyRef)Boolean">lazyDefSym</a> != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.ChangeOwnerTraverser" id="306484">ownerTransformer</a> = <span title="RefChecks.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26780" title="RefChecks.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#306483" title="RefChecks.this.global.Symbol">lazyDefSym</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="306485">lazyDef</a> = <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(
              <a href="../ast/Trees.scala.html#26632" title="(sym: RefChecks.this.global.Symbol,rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a>(<a href="#306483" title="RefChecks.this.global.Symbol">lazyDefSym</a>, <a href="../ast/Trees.scala.html#70829" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">ownerTransformer</a>( 
                <span title="RefChecks.this.global.Tree" class="keyword">if</span> (<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26923" title="(x$1: Boolean)Boolean">isTrait</a> // for traits, this is further tranformed in mixins
                    || <a href="#306482" title="Boolean">hasUnitType</a>) <a href="#306464" title="RefChecks.this.global.Tree">rhs</a> 
                <span class="keyword">else</span> <a href="../ast/Trees.scala.html#49026" title="(stats: List[RefChecks.this.global.Tree],expr: RefChecks.this.global.Tree)RefChecks.this.global.Block">Block</a>(<span title="(xs: RefChecks.this.global.Assign*)List[RefChecks.this.global.Assign]">List</span>(
                       <a href="../ast/Trees.scala.html#73092" title="(lhs: RefChecks.this.global.Tree,rhs: RefChecks.this.global.Tree)RefChecks.this.global.Assign">Assign</a>(<a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>), <a href="#306464" title="RefChecks.this.global.Tree">rhs</a>)),
                       <a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>)))))
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Made lazy def: &quot;</span> + <a href="#306485" title="RefChecks.this.global.DefDef">lazyDef</a>)
          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#306482" title="Boolean">hasUnitType</a>)
            <a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="#306485" title="RefChecks.this.global.DefDef">lazyDef</a>) <a href="#306657" title="RefChecks.this.global.analyzer.global.Tree">::</a> <span title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">Nil</span>
          <span class="keyword">else</span>
            <a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#26622" title="(sym: RefChecks.this.global.Symbol,rhs: RefChecks.this.global.Tree)RefChecks.this.global.ValDef">ValDef</a>(<a href="#306481" title="RefChecks.this.global.Symbol">vsym</a>, <a href="../ast/Trees.scala.html#26602" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>)) <a href="#306676" title="RefChecks.this.global.analyzer.global.Tree">::</a> <a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="#306485" title="RefChecks.this.global.DefDef">lazyDef</a>) <a href="#306717" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">Nil</span>
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26971" title="(x$1: Boolean)Boolean">isLocal</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306091" title="(x$1: Int)Boolean" id="2958">index</a> &lt;= <a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303735" title="=&gt; Int">maxindex</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a title="object Console" id="390">Console</a>.<a title="(x: Any)Unit" id="51323">println</a>(<a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303741" title="=&gt; RefChecks.this.global.Symbol">refsym</a>);
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#302989" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#303738" title="=&gt; scala.tools.nsc.util.Position">refpos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;forward reference extends over definition of &quot;</span> + <a href="#306090" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>);
          }
          <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#306463" title="RefChecks.this.global.Tree">tree1</a>)
        }

      <span title="List[Nothing]" class="keyword">case</span> Import(_, _) =&gt;
        List<span title="object Nil">(</span>)

      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> _ =&gt;
        <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306090" title="RefChecks.this.global.Tree">tree</a>))
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="303003">transform</a>(<a title="RefChecks.this.global.Tree" id="306381">tree</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a> = <span class="keyword">try</span> {

      /* Check whether argument types conform to bounds of type parameters */
      <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type])Unit" id="306799">checkBounds</a>(<a title="RefChecks.this.global.Type" id="306813">pre</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="306814">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="306815">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol], <a title="List[RefChecks.this.global.Type]" id="306816">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type]): <span title="Unit">Unit</span> =
        <a href="#306800" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit">checkBoundsWithPos</a>(<a href="#306813" title="RefChecks.this.global.Type">pre</a>, <a href="#306814" title="RefChecks.this.global.Symbol">owner</a>, <a href="#306815" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#306816" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit" id="306800">checkBoundsWithPos</a>(<a title="RefChecks.this.global.Type" id="306817">pre</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="306818">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="306819">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol], <a title="List[RefChecks.this.global.Type]" id="306820">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="scala.tools.nsc.util.Position" id="306821">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <span title="Unit">Unit</span> = <span class="keyword">try</span> {
        <a href="../Global.scala.html#39159" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42551" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#48771" title="(pos: scala.tools.nsc.util.Position,pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol,tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],prefix: String)Unit">checkBounds</a>(<a href="#306821" title="scala.tools.nsc.util.Position">pos</a>, <a href="#306817" title="RefChecks.this.global.Type">pre</a>, <a href="#306818" title="RefChecks.this.global.Symbol">owner</a>, <a href="#306819" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#306820" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>);
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.TypeError" id="306832">ex</a>: <a href="../symtab/Types.scala.html#26459" title="RefChecks.this.global.TypeError">TypeError</a> =&gt; 
          <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#306821" title="scala.tools.nsc.util.Position">pos</a>, <a href="#306832" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span>());
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37046" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="306839">bounds</a> = <a href="#306819" title="(f: (RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds],List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.TypeBounds]">tparams</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds],List#Coll]">map</span> (<a title="RefChecks.this.global.Symbol" id="306848">tp</a> =&gt; <a href="#306848" title="RefChecks.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[RefChecks.this.global.Symbol],actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a>(<a href="#306819" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#306820" title="List[RefChecks.this.global.Type]">argtps</a>).<a href="../symtab/Types.scala.html#30188" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>)
            <span title="object List">List</span>.<span title="(xs: List[RefChecks.this.global.Type],ys: List[RefChecks.this.global.TypeBounds])(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#306820" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#306839" title="List[RefChecks.this.global.TypeBounds]">bounds</a>)((<a title="RefChecks.this.global.Type" id="306947">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="306948">bound</a>) =&gt; <a href="../symtab/Types.scala.html#26469" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#306948" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#306947" title="RefChecks.this.global.Type">targ</a>))
            <span title="object List">List</span>.<span title="(xs: List[RefChecks.this.global.Type],ys: List[RefChecks.this.global.TypeBounds])(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#306820" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#306839" title="List[RefChecks.this.global.TypeBounds]">bounds</a>)((<a title="RefChecks.this.global.Type" id="306978">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="306979">bound</a>) =&gt; <a href="../symtab/Types.scala.html#26469" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#306978" title="RefChecks.this.global.Type">targ</a>, <a href="#306979" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; RefChecks.this.global.Type">hi</a>))
            <span title="Unit">(</span>)
          }
      }

      <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean" id="306801">isIrrefutable</a>(<a title="RefChecks.this.global.Tree" id="306995">pat</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="306996">seltpe</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
        <span class="keyword">val</span> <a title="Boolean" id="306997">result</a> = <a href="#306995" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> Apply(_, <a title="List[RefChecks.this.global.Tree]" id="307000">args</a>) =&gt;
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307003">clazz</a> = <a href="#306995" title="RefChecks.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
            <a href="#307003" title="(x$1: AnyRef)Boolean">clazz</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#306996" title="RefChecks.this.global.Type">seltpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
            <a href="#307003" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(2048L)">CASE</span>) &amp;&amp;
            <span title="object List">List</span>.<a title="(xs: List[RefChecks.this.global.Tree],ys: List[RefChecks.this.global.Type])(f: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean" id="24391">forall2</a>(
              <a href="#307000" title="List[RefChecks.this.global.Tree]">args</a>,
              <a href="#307003" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27033" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30221" title="(pre: RefChecks.this.global.Type,clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a>(<a href="#306996" title="RefChecks.this.global.Type">seltpe</a>, <a href="#307003" title="RefChecks.this.global.Symbol">clazz</a>).<a href="../symtab/Types.scala.html#30200" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>)(<a href="#306801" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>)
          <span title="Boolean" class="keyword">case</span> Typed(<a title="RefChecks.this.global.Tree" id="307043">pat</a>, <a title="RefChecks.this.global.Tree" id="307044">tpt</a>) =&gt; 
            <a href="../symtab/Types.scala.html#30235" title="(that: RefChecks.this.global.Type)Boolean">seltpe</a> &lt;:&lt; <a href="#307044" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>
          <span title="Boolean(true)" class="keyword">case</span> Ident(<a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; RefChecks.this.global.Name">WILDCARD</a>) =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean" class="keyword">case</span> Bind(_, <a title="RefChecks.this.global.Tree" id="307059">pat</a>) =&gt;
            <a href="#306801" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>(<a href="#307059" title="RefChecks.this.global.Tree">pat</a>, <a href="#306996" title="RefChecks.this.global.Type">seltpe</a>)
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        }
        //Console.println(&quot;is irefutable? &quot; + pat + &quot;:&quot; + pat.tpe + &quot; against &quot; + seltpe + &quot;: &quot; + result);//DEBUG
        <a href="#306997" title="Boolean">result</a>
      }

      /** If symbol is deprecated and is not contained in a deprecated definition,
       *  issue a deprecated warning
       */
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit" id="306802">checkDeprecated</a>(<a title="RefChecks.this.global.Symbol" id="307064">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="scala.tools.nsc.util.Position" id="307065">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="#307064" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26947" title="(x$1: Boolean)Boolean">isDeprecated</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45467" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26985" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(<a href="#307076" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26947" title="=&gt; Boolean">isDeprecated</a>)) {
          <span class="keyword">val</span> <a title="Option[String]" id="307081">dmsg</a> = <a href="#307064" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26948" title="=&gt; Option[String]">deprecationMessage</a>
          <span class="keyword">val</span> <a title="java.lang.String" id="307082">msg</a> = <a href="#307064" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27091" title="(x$1: Any)java.lang.String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#307064" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is deprecated&quot;)" class="string">&quot; is deprecated&quot;</span>+
                    (<span title="Any" class="keyword">if</span> (<a href="#307081" title="Option[String]">dmsg</a>.<a title="=&gt; Boolean" id="35042">isDefined</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;: &quot;</span>+ <a href="#307081" title="Option[String]">dmsg</a>.<a title="=&gt; String" id="35043">get</a>
                     <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
          <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45457" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(<a href="#307065" title="scala.tools.nsc.util.Position">pos</a>, <a href="#307082" title="java.lang.String">msg</a>)
        }
      }

      /** Check that a deprecated val or def does not override a
        * concrete, non-deprecated method.  If it does, then
        * deprecation is meaningless.
        */
      <span class="keyword">def</span> <a title="()Unit" id="306803">checkDeprecatedOvers</a>() {
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307105">symbol</a> = <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#307105" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26947" title="=&gt; Boolean">isDeprecated</a>) {
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="307106">concrOvers</a> =
            <a href="#307105" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span>(<a title="RefChecks.this.global.Symbol" id="307109">sym</a> =&gt;
              <span title="(x$1: Boolean)Boolean">!</span><a href="#307109" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26947" title="=&gt; Boolean">isDeprecated</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#307109" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>)
          <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#307106" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span>)
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45457" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(
              <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
              <a href="#307105" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27091" title="(x$1: Any)java.lang.String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> +
              <a href="#307106" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: (RefChecks.this.global.Symbol) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[RefChecks.this.global.Symbol]])List[String]">map</span><span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">(</span><a href="#307126" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>).<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
        }
      }

      <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="306804">isRepeatedParamArg</a>(<a title="RefChecks.this.global.Tree" id="307219">tree</a>: <a href="../ast/Trees.scala.html#26593" title="RefChecks.this.global.Tree">Tree</a>) = <a href="#302968" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> Apply(<a title="RefChecks.this.global.Tree" id="307222">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="307223">args</a>) =&gt;
          <span title="(x$1: Boolean)Boolean">!</span><a href="#307223" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="#307223" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: AnyRef)Boolean">last</span> eq <a href="#307219" title="RefChecks.this.global.Tree">tree</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#307222" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#307223" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> &amp;&amp;
          <a href="#307222" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; RefChecks.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      }

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="306805">isCaseApply</a>(<a title="RefChecks.this.global.Symbol" id="307250">sym</a> : <a href="../symtab/Symbols.scala.html#26127" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#307250" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26911" title="(x$1: Boolean)Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#307250" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2048L)">CASE</span>) &amp;&amp; <a href="#307250" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; RefChecks.this.global.Name">apply</a>
      
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit" id="306806">checkTypeRef</a>(<a title="RefChecks.this.global.Type" id="307264">tp</a>: <a href="../symtab/Types.scala.html#26205" title="RefChecks.this.global.Type">Type</a>, <a title="scala.tools.nsc.util.Position" id="307265">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>) = <a href="#307264" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> TypeRef(<a title="RefChecks.this.global.Type" id="307269">pre</a>, <a title="RefChecks.this.global.Symbol" id="307270">sym</a>, <a title="List[RefChecks.this.global.Type]" id="307271">args</a>) =&gt;
          <a href="#306802" title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit">checkDeprecated</a>(<a href="#307270" title="RefChecks.this.global.Symbol">sym</a>, <a href="#307265" title="scala.tools.nsc.util.Position">pos</a>)
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#307264" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30174" title="=&gt; Boolean">isHigherKinded</a>)
            <a href="#306800" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit">checkBoundsWithPos</a>(<a href="#307269" title="RefChecks.this.global.Type">pre</a>, <a href="#307270" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#307270" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#307271" title="List[RefChecks.this.global.Type]">args</a>, <a href="#307265" title="scala.tools.nsc.util.Position">pos</a>)
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <span class="keyword">def</span> <a title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit" id="306807">checkAnnotations</a>(<a title="List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]" id="307278">tpes</a>: <span title="List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">List</span>[(Type, Position)]) {
        <span class="keyword">for</span> ((<a title="RefChecks.this.global.Type" id="307314">tp</a>, <a title="scala.tools.nsc.util.Position" id="307315">pos</a>) &lt;- <a href="#307278" title="(f: ((RefChecks.this.global.Type, scala.tools.nsc.util.Position)) =&gt; Unit)Unit">tpes</a>) <a href="#306806" title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit">checkTypeRef</a>(<a href="#307314" title="RefChecks.this.global.Type">tp</a>, <a href="#307315" title="scala.tools.nsc.util.Position">pos</a>)
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="306808">savedLocalTyper</a> = <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="306809">savedCurrentApplication</a> = <a href="#302968" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306810">sym</a> = <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="306811">result</a> = <a href="#306381" title="RefChecks.this.global.Tree">tree</a>
      
      <span class="keyword">def</span> <a title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit" id="306812">doTypeTraversal</a>(<a title="(RefChecks.this.global.Type) =&gt; Unit" id="307323">f</a>: (Type) =&gt; Unit) =
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#302971" title="=&gt; Boolean">inPattern</a>) {
          <span class="keyword">for</span> (<a title="RefChecks.this.global.Type" id="307326">tp</a> &lt;- <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../symtab/Types.scala.html#30230" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">tpe</a>) <a href="#307323" title="(v1: RefChecks.this.global.Type)Unit">f</a>(<a href="#307326" title="RefChecks.this.global.Type">tp</a>)
        }

      // Apply RefChecks to annotations. Makes sure the annotations conform to
      // type bounds (bug #935), issues deprecation warnings for symbols used
      // inside annotations.
      <a href="#306381" title="RefChecks.this.global.Tree">tree</a> <span title="Any" class="keyword">match</span> {
        <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> <a title="RefChecks.this.global.MemberDef" id="307332">m</a>: <a href="../ast/Trees.scala.html#26604" title="RefChecks.this.global.MemberDef">MemberDef</a> =&gt;
          <a href="#306807" title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit">checkAnnotations</a>(<a href="#307332" title="RefChecks.this.global.MemberDef">m</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26854" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List[RefChecks.this.global.AnnotationInfo]])List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">map</span><span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List#Coll]">(</span><a title="RefChecks.this.global.AnnotationInfo" id="307341">a</a> =&gt; <span title="(_1: RefChecks.this.global.Type,_2: scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)">(</span><a href="#307341" title="RefChecks.this.global.AnnotationInfo">a</a>.<a href="../symtab/AnnotationInfos.scala.html#44738" title="=&gt; RefChecks.this.global.Type">atp</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)))
          <a href="../ast/Trees.scala.html#45474" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<a href="#307332" title="RefChecks.this.global.MemberDef">m</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26854" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.AnnotationInfo]])List[RefChecks.this.global.Tree]">flatMap</span><span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">(</span><a href="#307392" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44740" title="=&gt; List[RefChecks.this.global.Tree]">args</a>))
        <span title="Unit" class="keyword">case</span> TypeTree() =&gt; <a href="#306812" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">doTypeTraversal</a> <a href="#307428" title="Unit">{</a>
          <span title="Unit" class="keyword">case</span> AnnotatedType(<a title="List[RefChecks.this.global.AnnotationInfo]" id="307432">annots</a>, _, _) =&gt;
            <a href="#306807" title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit">checkAnnotations</a>(<a href="#307432" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List[RefChecks.this.global.AnnotationInfo]])List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">map</span><span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List#Coll]">(</span><a title="RefChecks.this.global.AnnotationInfo" id="307443">a</a> =&gt; <span title="(_1: RefChecks.this.global.Type,_2: scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)">(</span><a href="#307443" title="RefChecks.this.global.AnnotationInfo">a</a>.<a href="../symtab/AnnotationInfos.scala.html#44738" title="=&gt; RefChecks.this.global.Type">atp</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)))
            <a href="../ast/Trees.scala.html#45474" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span title="Unit">(</span><a href="#307432" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.AnnotationInfo]])List[RefChecks.this.global.Tree]">flatMap</span><span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">(</span><a href="#307473" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44740" title="=&gt; List[RefChecks.this.global.Tree]">args</a>))
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }

      <a href="#306381" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> DefDef(<a title="RefChecks.this.global.Modifiers" id="307502">mods</a>, <a title="RefChecks.this.global.Name" id="307503">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="307504">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="307505">vparams</a>, <a title="RefChecks.this.global.Tree" id="307506">tpt</a>, <a href="../ast/Trees.scala.html#26602" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>) <span class="keyword">if</span> <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26857" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a>(<a href="../symtab/Definitions.scala.html#26479" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28570" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a>) =&gt;
          <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a>(<span title="Long(16L)">DEFERRED</span>)
          <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="../ast/Trees.scala.html#45465" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: RefChecks.this.global.Tree,mods: RefChecks.this.global.Modifiers,name: RefChecks.this.global.Name,tparams: List[RefChecks.this.global.TypeDef],vparamss: List[List[RefChecks.this.global.ValDef]],tpt: RefChecks.this.global.Tree,rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>, <a href="#307502" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#307503" title="RefChecks.this.global.Name">name</a>, <a href="#307504" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#307505" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#307506" title="RefChecks.this.global.Tree">tpt</a>, 
                <a href="Typers.scala.html#42640" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#49125" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#26479" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28342" title="=&gt; RefChecks.this.global.Symbol">Predef_error</a>), <span title="(xs: RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]">List</span>(<a href="../ast/Trees.scala.html#26740" title="(value: Any)RefChecks.this.global.Literal">Literal</a>(<span title="java.lang.String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span>))))))

        <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
          <a href="#306803" title="()Unit">checkDeprecatedOvers</a>()

        <span title="Unit" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
          <a href="#306803" title="()Unit">checkDeprecatedOvers</a>()

        <span title="Unit" class="keyword">case</span> Template(_, _, _) =&gt;
          <a href="#302965" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42639" title="(tree: RefChecks.this.global.analyzer.global.Tree,owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#45467" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
          <a href="#302974" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
          <a href="#302973" title="(clazz: RefChecks.this.global.Symbol)Unit">checkAllOverrides</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
        
        <span title="Unit" class="keyword">case</span> TypeTree() =&gt; 
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="307656">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span>[Symbol]
          <a href="#306812" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">doTypeTraversal</a> <a href="#307660" title="Unit">{</a> // check all bounds, except those that are
                            // existential type parameters
            <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[RefChecks.this.global.Symbol]" id="307663">tparams</a>, <a title="RefChecks.this.global.Type" id="307664">tpe</a>) =&gt; 
              <a href="#307656" title="(iter: Traversable[RefChecks.this.global.Symbol])existentialParams.type" id="39507">existentialParams</a> <span title="Unit">++=</span> <a href="#307663" title="List[RefChecks.this.global.Symbol]">tparams</a>
            <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.TypeRef" id="307689">t</a>: <a href="../symtab/Types.scala.html#26254" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt; 
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="307690">exparams</a> = <a href="#307656" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span>
              <span class="keyword">val</span> <a title="List[object RefChecks.this.global.WildcardType]" id="307691">wildcards</a> = <a href="#307690" title="(f: (RefChecks.this.global.Symbol) =&gt; object RefChecks.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object RefChecks.this.global.WildcardType,List[object RefChecks.this.global.WildcardType],List[RefChecks.this.global.Symbol]])List[object RefChecks.this.global.WildcardType]">exparams</a> <span title="scala.collection.generic.BuilderFactory[object RefChecks.this.global.WildcardType,List[object RefChecks.this.global.WildcardType],List#Coll]">map</span> (<a title="RefChecks.this.global.Symbol" id="307700">_</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object RefChecks.this.global.WildcardType">WildcardType</a>)
              <a href="#306806" title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit">checkTypeRef</a>(<a href="#307689" title="RefChecks.this.global.TypeRef">t</a>.<a href="../symtab/Types.scala.html#30224" title="(from: List[RefChecks.this.global.Symbol],to: List[RefChecks.this.global.Type])RefChecks.this.global.Type">subst</a>(<a href="#307690" title="List[RefChecks.this.global.Symbol]">exparams</a>, <a href="#307691" title="List[object RefChecks.this.global.WildcardType]">wildcards</a>), <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
            <span title="Unit" class="keyword">case</span> _ =&gt; 
          }

        <span title="Unit" class="keyword">case</span> TypeApply(<a title="RefChecks.this.global.Tree" id="307788">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="307789">args</a>) =&gt;
          <a href="#306799" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a>(<a href="../symtab/Types.scala.html#26226" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#307788" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30201" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#307789" title="(f: (RefChecks.this.global.Tree) =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List#Coll]">map</span> (<a href="#307800" title="RefChecks.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)) 
          <span title="Unit" class="keyword">if</span> (<a href="#306805" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#306810" title="RefChecks.this.global.Symbol">sym</a>)) <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#303000" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)

        <span title="Unit" class="keyword">case</span> Apply(
          Select(<a title="RefChecks.this.global.Tree" id="307837">qual</a>, <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29880" title="=&gt; RefChecks.this.global.Name">filter</a>), 
          <a href="#307846" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a>(Function(
            <a href="#307858" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a>(ValDef(_, <a title="RefChecks.this.global.Name" id="307873">pname</a>, <a title="RefChecks.this.global.Tree" id="307874">tpt</a>, _)), 
            Match(_, CaseDef(<a title="RefChecks.this.global.Tree" id="307889">pat1</a>, _, _) :: _))))
          <span class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Names.scala.html#28217" title="(prefix: RefChecks.this.global.Name)Boolean">pname</a> startsWith <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)RefChecks.this.global.Name">CHECK_IF_REFUTABLE_STRING</a>) &amp;&amp; 
              <a href="#306801" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>(<a href="#307889" title="RefChecks.this.global.Tree">pat1</a>, <a href="#307874" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)) =&gt;
            <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#307837" title="RefChecks.this.global.Tree">qual</a>

        <span title="Unit" class="keyword">case</span> Apply(Select(New(<a title="RefChecks.this.global.Tree" id="307928">tpt</a>), <a title="RefChecks.this.global.Name" id="307931">name</a>), <a title="List[RefChecks.this.global.Tree]" id="307934">args</a>) 
        <span class="keyword">if</span> (<a href="#307928" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28393" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> &amp;&amp; <a href="#307934" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: Int)Boolean">length</span> &gt;= <span title="Int(2)" class="int">2</span>) =&gt;
          <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45457" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
            <span title="java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="307952">manif</a> = {
            <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="307955">etpe</a> = <a href="#307928" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>
            <span class="keyword">for</span> (<a title="RefChecks.this.global.Tree" id="307972">_</a> &lt;- <a href="#307934" title="(f: (RefChecks.this.global.Tree) =&gt; Unit)Unit">args</a>) { <a href="#307955" title="RefChecks.this.global.Type">etpe</a> = <a href="#307955" title="RefChecks.this.global.Type">etpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<a title="=&gt; Option[RefChecks.this.global.Type]" id="25317">headOption</a>.<a title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type" id="35047">getOrElse</a>(<a href="../symtab/Types.scala.html#26224" title="object RefChecks.this.global.NoType">NoType</a>) }
            <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#307955" title="(x$1: AnyRef)Boolean">etpe</a> == <a href="../symtab/Types.scala.html#26224" title="object RefChecks.this.global.NoType">NoType</a>) {
              <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span>)
              <a href="../ast/Trees.scala.html#49342" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a>(<a href="../symtab/Constants.scala.html#49552" title="(value: Any)RefChecks.this.global.Constant">Constant</a>(<span title="Null(null)" class="keyword">null</span>))
            } <span class="keyword">else</span> {
              <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42657" title="(pos: scala.tools.nsc.util.Position,tp: RefChecks.this.global.analyzer.global.Type,full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307955" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span>)
            }
          }
          <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#302965" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42641" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49125" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#49125" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50275" title="(qualifier: RefChecks.this.global.Tree,name: RefChecks.this.global.Name)RefChecks.this.global.Select">Select</a>(<a href="../Global.scala.html#39031" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28397" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a>), <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29940" title="=&gt; RefChecks.this.global.Name">ofDim</a>), <a href="#307934" title="List[RefChecks.this.global.Tree]">args</a>), <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#307952" title="RefChecks.this.global.analyzer.global.Tree">manif</a>))
          }
          <a href="#302968" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#306381" title="RefChecks.this.global.Tree">tree</a>

        <span title="Unit" class="keyword">case</span> Apply(<a title="RefChecks.this.global.Tree" id="308148">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="308149">args</a>) =&gt;
          <a href="#302999" title="(pos: scala.tools.nsc.util.Position,fn: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])Unit">checkSensible</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#308148" title="RefChecks.this.global.Tree">fn</a>, <a href="#308149" title="List[RefChecks.this.global.Tree]">args</a>)
          <a href="#302968" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#306381" title="RefChecks.this.global.Tree">tree</a>

        <span title="Unit" class="keyword">case</span> If(<a title="RefChecks.this.global.Tree" id="308159">cond</a>, <a title="RefChecks.this.global.Tree" id="308160">thenpart</a>, <a title="RefChecks.this.global.Tree" id="308161">elsepart</a>) =&gt;
          <a href="#308159" title="RefChecks.this.global.Tree">cond</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> ConstantType(<a title="RefChecks.this.global.Constant" id="308165">value</a>) =&gt; 
              <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> (<a href="#308165" title="RefChecks.this.global.Constant">value</a>.<a href="../symtab/Constants.scala.html#42813" title="=&gt; Boolean">booleanValue</a>) <a href="#308160" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#308161" title="RefChecks.this.global.Tree">elsepart</a>;
              <span title="Unit" class="keyword">if</span> (<a href="#306811" title="(x$1: AnyRef)Boolean">result</a> == <a href="../ast/Trees.scala.html#26602" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>) <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="../ast/Trees.scala.html#26740" title="(value: Any)RefChecks.this.global.Literal">Literal</a>(<span title="Unit">(</span>)).<a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</a>(<a href="../symtab/Definitions.scala.html#28277" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span title="Unit" class="keyword">case</span> _ =&gt; 
          }

        <span title="Unit" class="keyword">case</span> New(<a title="RefChecks.this.global.Tree" id="308200">tpt</a>) =&gt;
          <a href="#302996" title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit">enterReference</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#308200" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>)

        <span title="Unit" class="keyword">case</span> Typed(<a title="RefChecks.this.global.Tree" id="308207">expr</a>, <a title="RefChecks.this.global.Ident" id="308208">tpt</a> @ Ident(<a title="RefChecks.this.global.Name" id="308212">name</a>)) <span class="keyword">if</span> (<a href="#308212" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29691" title="=&gt; RefChecks.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; RefChecks.this.global.Name">toTypeName</a>) =&gt;
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#306804" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>))
            <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="java.lang.String(&quot;no `: _*' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span>)

        <span title="Unit" class="keyword">case</span> Ident(<a title="RefChecks.this.global.Name" id="308232">name</a>) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#306805" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#306810" title="RefChecks.this.global.Symbol">sym</a>))
            <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#303000" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#308232" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; RefChecks.this.global.Name">WILDCARD</a> &amp;&amp; <a href="#308232" title="(x$1: AnyRef)Boolean">name</a> != <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29691" title="=&gt; RefChecks.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; RefChecks.this.global.Name">toTypeName</a>) {
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306810" title="(x$1: AnyRef)Boolean">sym</a> != <a href="../symtab/Symbols.scala.html#26134" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>)//debug
            <a href="#302996" title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit">enterReference</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>)
          }

        <span title="Unit" class="keyword">case</span> Select(<a title="RefChecks.this.global.Tree" id="308273">qual</a>, <a title="RefChecks.this.global.Name" id="308274">name</a>) =&gt;
          <a href="#306802" title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit">checkDeprecated</a>(<a href="#306810" title="RefChecks.this.global.Symbol">sym</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
          <span title="Any" class="keyword">if</span> (<a href="../ast/Trees.scala.html#45471" title="(x$1: AnyRef)Boolean">currentClass</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a> &amp;&amp; (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(524288L)">LOCAL</span>)) {
            <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="308293">o</a> = <a href="../ast/Trees.scala.html#45471" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
            <span class="keyword">var</span> <a title="Boolean" id="308294">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#308294" title="Boolean">hidden</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#308293" title="(x$1: AnyRef)Boolean">o</a> != <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#308293" title="(x$1: AnyRef)Boolean">o</a> != <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308293" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#26919" title="=&gt; Boolean">isPackage</a>) <a href="#308295" title="()Unit">{</a>
              <a href="#308294" title="Boolean">hidden</a> = <a href="#308293" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#26895" title="(x$1: Boolean)Boolean">isTerm</a> || <a href="#308293" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#26957" title="=&gt; Boolean">isPrivateLocal</a>
              <a href="#308293" title="RefChecks.this.global.Symbol">o</a> = <a href="#308293" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>
            }
            <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#308294" title="Boolean">hidden</a>) <a href="#302983" title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type" id="39288">escapedPrivateLocals</a> += <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>
          }
          <span title="Unit" class="keyword">if</span> (<a href="#306805" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#306810" title="RefChecks.this.global.Symbol">sym</a>))
            <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#303000" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; RefChecks.this.global.Type">tpe</a>)
          <span class="keyword">else</span> <a href="#308273" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> Super(<a title="RefChecks.this.global.Name" id="308365">qualifier</a>, <a title="RefChecks.this.global.Name" id="308366">mix</a>) =&gt;
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="308369">base</a> = <a href="#308273" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>;
              //Console.println(&quot;super: &quot; + tree + &quot; in &quot; + base);//DEBUG
              <a title="(assertion: Boolean)Unit" id="7874">assert</a>(<span title="=&gt; Boolean">!</span>(<a href="#308369" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#26923" title="(x$1: Boolean)Boolean">isTrait</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a> &amp;&amp; <a href="#308366" title="(x$1: AnyRef)Boolean">mix</a> == <a href="../symtab/StdNames.scala.html#26531" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29685" title="=&gt; RefChecks.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; RefChecks.this.global.Name">toTypeName</a>)) // term should have been eliminated by super accessors
            <span title="Unit" class="keyword">case</span> _ =&gt;
          }
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <a href="#306811" title="RefChecks.this.global.Tree">result</a> = <a href="#306811" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> {
        <span title="RefChecks.this.global.CaseDef" class="keyword">case</span> CaseDef(<a title="RefChecks.this.global.Tree" id="308389">pat</a>, <a title="RefChecks.this.global.Tree" id="308390">guard</a>, <a title="RefChecks.this.global.Tree" id="308391">body</a>) =&gt;
          <a href="#302971" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="308394">pat1</a> = <a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#308389" title="RefChecks.this.global.Tree">pat</a>)
          <a href="#302971" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../ast/Trees.scala.html#45465" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48552" title="(tree: RefChecks.this.global.Tree,pat: RefChecks.this.global.Tree,guard: RefChecks.this.global.Tree,body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>, <a href="#308394" title="RefChecks.this.global.Tree">pat1</a>, <a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#308390" title="RefChecks.this.global.Tree">guard</a>), <a href="#303003" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#308391" title="RefChecks.this.global.Tree">body</a>))
        <span title="RefChecks.this.global.Tree" class="keyword">case</span> _ =&gt;
          <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45473" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306811" title="RefChecks.this.global.Tree">result</a>)
      }
      <a href="#306811" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) 
           | TypeDef(_, _, _, _) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#306811" title="RefChecks.this.global.Tree">result</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26971" title="(x$1: Boolean)Boolean">isLocal</a> || <a href="#306811" title="RefChecks.this.global.Tree">result</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>) 
            <a href="#302985" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../ast/Trees.scala.html#70825" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#306811" title="RefChecks.this.global.Tree">result</a>)
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <a href="#302965" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#306808" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
      <a href="#302968" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#306809" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <a href="#306811" title="RefChecks.this.global.Tree">result</a>
    } <span class="keyword">catch</span> {
      <span title="RefChecks.this.global.Tree" class="keyword">case</span> <a title="RefChecks.this.global.TypeError" id="308443">ex</a>: <a href="../symtab/Types.scala.html#26459" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#308443" title="RefChecks.this.global.TypeError">ex</a>.<a title="()Unit" id="25932">printStackTrace</a>();
        <a href="#303004" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#306381" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#308443" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span>())
        <a href="#306381" title="RefChecks.this.global.Tree">tree</a>
    }
  }
}

        </pre>
    </body>
</html>