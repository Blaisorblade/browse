<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: RefChecks.scala 18589 2009-08-27 14:45:35Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> collection.mutable.{HashSet, HashMap}
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="16605">RefChecks</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../transform/InfoTransform.scala.html#14026" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> {

  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator, atOwner}

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="303843">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="303845">phaseNewFlags</a>: <a title="Long" id="2205">Long</a> = <a href="../symtab/Flags.scala.html#28931" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="303846">newTransformer</a>(<a title="RefChecks.this.global.CompilationUnit" id="303859">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a>): <a href="#303849" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#303849" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a>(<a href="#303859" title="RefChecks.this.global.CompilationUnit">unit</a>)
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="303847">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="303848">transformInfo</a>(<a title="RefChecks.this.global.Symbol" id="303911">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="303912">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a> =
    <span title="RefChecks.this.global.Type" class="keyword">if</span> (<a href="#303911" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27076" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#303911" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27125" title="=&gt; Boolean">isStatic</a>) {
      <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)sym.type">sym</a> setFlag (<a href="../symtab/Flags.scala.html#28931" title="(x$1: Int)Long">lateMETHOD</a> | <span title="Int(4194304)">STABLE</span>)
      <a href="../symtab/Types.scala.html#44057" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#303912" title="RefChecks.this.global.Type">tp</a>)
    } <span class="keyword">else</span> <a href="#303912" title="RefChecks.this.global.Type">tp</a>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="303849">RefCheckTransformer</a><span title="ScalaObject">(</span><a title="RefChecks.this.global.CompilationUnit" id="303905">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26932" title="RefChecks.this.global.Transformer">Transformer</a> { 

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="303866">localTyper</a>: analyzer.<a href="Typers.scala.html#40153" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#39391" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="303869">currentApplication</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a> = <a href="../ast/Trees.scala.html#26761" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="303872">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

// Override checking ------------------------------------------------------------

    /** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O. 
     *    1.7. If O is an abstract type then 
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then 
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="303874">checkAllOverrides</a>(<a title="RefChecks.this.global.Symbol" id="304652">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends java.lang.Object with ScalaObject with Product" id="304694">MixinOverrideError</a><span title="ScalaObject">(</span><a title="RefChecks.this.global.Symbol" id="305946">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="305947">msg</a>: <span title="String">String</span>)

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="304657">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span>[MixinOverrideError]()

      <span class="keyword">def</span> <a title="()Unit" id="304658">printMixinOverrideErrors</a>() {
        <a href="#304657" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="#304758" title="(x: List[MixinOverrideError])Some[List[MixinOverrideError]]">List</a>() =&gt; 
          <span title="Unit" class="keyword">case</span> <a href="#304769" title="(x: List[MixinOverrideError])Some[List[MixinOverrideError]]">List</a>(MixinOverrideError(_, <a title="String" id="304778">msg</a>)) =&gt;
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#304778" title="String">msg</a>)
          <span title="Unit" class="keyword">case</span> MixinOverrideError(<a title="RefChecks.this.global.Symbol" id="304788">member</a>, <a title="String" id="304789">msg</a>) :: <a title="List[MixinOverrideError]" id="304792">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="304795">others1</a> = <a href="#304792" title="List[MixinOverrideError]">others</a>.<span title="(f: (MixinOverrideError) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[MixinOverrideError]])List[String]">map</span><span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">(</span><a href="#304804" title="MixinOverrideError">_</a>.<a href="#305946" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28411" title="=&gt; String">decode</a>).<span title="(p: (String) =&gt; Boolean)List[String]">filter</span>(<a href="#304788" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28411" title="(x$1: AnyRef)Boolean">decode</a> != <a href="#304893" title="String">_</a>).<a title="=&gt; List[String]" id="25786">removeDuplicates</a>
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
              <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
              <a href="#304789" title="(x$1: Any)java.lang.String">msg</a>+(<span title="Any" class="keyword">if</span> (<a href="#304795" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                   <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n other members with override errors are: &quot;</span>+(<a href="#304795" title="(sep: String)String" id="25523">others1</a> mkString <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>)))
        }
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="304659">self</a> = <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; RefChecks.this.global.Type">thisType</a>
 
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="304660">isAbstractTypeWithoutFBound</a>(<a title="RefChecks.this.global.Symbol" id="304913">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) = // (part of DEVIRTUALIZE) 
        <a href="#304913" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304661" title="(tsym: RefChecks.this.global.Symbol)Boolean">isFBounded</a>(<a href="#304913" title="RefChecks.this.global.Symbol">sym</a>)

      <span class="keyword">def</span> <a title="(tsym: RefChecks.this.global.Symbol)Boolean" id="304661">isFBounded</a>(<a title="RefChecks.this.global.Symbol" id="304914">tsym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) =
        <a href="#304914" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152851" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">baseTypeSeq</a> exists (<a href="../symtab/Types.scala.html#30419" title="(sym: RefChecks.this.global.Symbol)Boolean">_</a> contains <a href="#304914" title="RefChecks.this.global.Symbol">tsym</a>)

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="304662">infoString</a>(<a title="RefChecks.this.global.Symbol" id="304927">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#304664" title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String">infoString0</a>(<a href="#304927" title="RefChecks.this.global.Symbol">sym</a>, <a href="#304927" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>)
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="304663">infoStringWithLocation</a>(<a title="RefChecks.this.global.Symbol" id="304966">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#304664" title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String">infoString0</a>(<a href="#304966" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span>)

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,showLocation: Boolean)java.lang.String" id="304664">infoString0</a>(<a title="RefChecks.this.global.Symbol" id="304928">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="304929">showLocation</a>: <span title="Boolean">Boolean</span>) = {
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="304930">sym1</a> = <a href="../Global.scala.html#39334" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#40075" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a>(<a href="#304928" title="RefChecks.this.global.Symbol">sym</a>)
        <a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + 
        (<span title="Any" class="keyword">if</span> (<a href="#304929" title="Boolean">showLocation</a>) 
          <a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27251" title="(x$1: Any)java.lang.String">locationString</a> + 
          (<span title="Any" class="keyword">if</span> (<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;, which equals &quot;</span>+<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot; with bounds &quot;</span>+<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot; of type &quot;</span>+<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#304930" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>)
           <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
         <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
      }

      <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean" id="304665">overridesType</a>(<a title="RefChecks.this.global.Type" id="304969">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="304970">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type,_2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)">(</span><a href="#304969" title="RefChecks.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#304970" title="RefChecks.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a>) <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> (MethodType(<a href="#304984" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="304994">rtp1</a>), PolyType(<a href="#305000" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="305010">rtp2</a>)) =&gt; 
          <a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">rtp1</a> &lt;:&lt; <a href="#305010" title="RefChecks.this.global.Type">rtp2</a>
        <span title="Boolean" class="keyword">case</span> (PolyType(<a href="#305023" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="305033">rtp1</a>), MethodType(<a href="#305039" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a>(), <a title="RefChecks.this.global.Type" id="305049">rtp2</a>)) =&gt; 
          <a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">rtp1</a> &lt;:&lt; <a href="#305049" title="RefChecks.this.global.Type">rtp2</a>
        <span title="Boolean" class="keyword">case</span> (TypeRef(_, <a title="RefChecks.this.global.Symbol" id="305062">sym</a>, _),  _) <span class="keyword">if</span> (<a href="#305062" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27093" title="=&gt; Boolean">isModuleClass</a>) =&gt; 
          <a href="#304665" title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean">overridesType</a>(<a href="../symtab/Types.scala.html#44057" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#304969" title="RefChecks.this.global.Type">tp1</a>), <a href="#304970" title="RefChecks.this.global.Type">tp2</a>)
        <span title="Boolean" class="keyword">case</span> _ =&gt; 
          <a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#304970" title="RefChecks.this.global.Type">tp2</a>
      }

      /** Check that all conditions for overriding &lt;code&gt;other&lt;/code&gt; by
       *  &lt;code&gt;member&lt;/code&gt; are met.
       */
      <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol,member: RefChecks.this.global.Symbol,other: RefChecks.this.global.Symbol)Unit" id="304666">checkOverride</a>(<a title="RefChecks.this.global.Symbol" id="305101">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="305102">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="305103">other</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="305104">overrideError</a>(<a title="String" id="305109">msg</a>: <span title="String">String</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27162" title="(x$1: AnyRef)Boolean">tpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26376" title="object RefChecks.this.global.ErrorType">ErrorType</a> &amp;&amp; <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="(x$1: AnyRef)Boolean">tpe</a> != <a href="../symtab/Types.scala.html#26376" title="object RefChecks.this.global.ErrorType">ErrorType</a>) {
            <span class="keyword">val</span> <a title="java.lang.String" id="305126">fullmsg</a> = 
              <span title="(x$1: Any)java.lang.String" class="string">&quot;overriding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304663" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;\012 &quot;)" class="string">&quot;;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#304662" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305109" title="String">msg</a>+
              (<span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>) 
                <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n (Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304663" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is abstract,&quot;)" class="string">&quot; is abstract,&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)" class="string">&quot;\n  and is therefore overridden by concrete &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304663" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>)+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
            <span title="Unit" class="keyword">if</span> (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#305101" title="RefChecks.this.global.Symbol">clazz</a>) <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#305126" title="java.lang.String">fullmsg</a>)
            <span class="keyword">else</span> <a href="#304657" title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]" id="61852">mixinOverrideErrors</a> <span title="Unit">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#304694" title="MixinOverrideError">MixinOverrideError</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>, <a href="#305126" title="java.lang.String">fullmsg</a>)
          }
        }

        <span class="keyword">def</span> <a title="()Unit" id="305105">overrideTypeError</a>() {
          <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27162" title="(x$1: AnyRef)Boolean">tpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26376" title="object RefChecks.this.global.ErrorType">ErrorType</a> &amp;&amp; <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="(x$1: AnyRef)Boolean">tpe</a> != <a href="../symtab/Types.scala.html#26376" title="object RefChecks.this.global.ErrorType">ErrorType</a>) {
            <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span>)
          }
        }

        <span class="keyword">def</span> <a title="()Unit" id="305106">overrideAccessError</a>() {
          <span class="keyword">val</span> <a title="java.lang.String" id="305231">pwString</a> = <span title="java.lang.String" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27019" title="(x$1: AnyRef)Boolean">privateWithin</a> == <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> 
                         <span class="keyword">else</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27019" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a>
          <span class="keyword">val</span> <a title="String" id="305232">otherAccess</a> = <a href="../symtab/Flags.scala.html#29001" title="(flags: Long,privateWithin: String)String">flagsToString</a>(<a href="../symtab/Symbols.scala.html#27154" title="(mask: Long)Long">other</a> getFlag (PRIVATE <span title="Long(5L)">|</span> PROTECTED), <a href="#305231" title="java.lang.String">pwString</a>)
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;has weaker access privileges; it should be &quot;</span>+
                        (<span title="Any" class="keyword">if</span> (<a href="#305232" title="(x$1: AnyRef)Boolean">otherAccess</a> == <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;at least &quot;</span>+<a href="#305232" title="String">otherAccess</a>))
        }

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
        
        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#305101" title="RefChecks.this.global.Symbol">clazz</a>) {
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) &amp;&amp; (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27112" title="(x$1: Boolean)Boolean">isDeferred</a> || <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>)) {
                //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
                <span title="Nothing" class="keyword">return</span>; 
              }
          <span title="Unit" class="keyword">if</span> (<a href="#305101" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a title="RefChecks.this.global.Type" id="305306">parent</a> =&gt;
            <span title="(x$1: Boolean)Boolean">(</span><a href="#305306" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="#305306" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) &amp;&amp;
            (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27112" title="(x$1: Boolean)Boolean">isDeferred</a> || <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>))) {
              //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
                <span title="Nothing" class="keyword">return</span>; 
            }
          <span title="Unit" class="keyword">if</span> (<a href="#305101" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">parents</a> forall (<a title="RefChecks.this.global.Type" id="305326">parent</a> =&gt;
            <span title="(x$1: Boolean)Boolean">(</span><a href="#305326" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) == (<a href="#305326" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">typeSymbol</a> isSubClass <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>))) {
              //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
              <span title="Nothing" class="keyword">return</span>;
            }
        }

        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(4L)">PRIVATE</span>) { // (1.1)
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span>)
        }
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305107">mb</a> = <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27157" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305108">ob</a> = <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27157" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#305107" title="(x$1: AnyRef)Boolean">mb</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#28425" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305107" title="(x$1: AnyRef)Boolean">mb</a> != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> &amp;&amp; // todo: change
            (<a href="#305108" title="(x$1: AnyRef)Boolean">ob</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28425" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#305108" title="(x$1: AnyRef)Boolean">ob</a> == <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#305108" title="RefChecks.this.global.Symbol">ob</a>.<a href="../symtab/Symbols.scala.html#27146" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a>(<a href="#305107" title="RefChecks.this.global.Symbol">mb</a>) ||
             <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(1L)">PROTECTED</span>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(1L)">PROTECTED</span>))) {
          <a href="#305106" title="()Unit">overrideAccessError</a>()
        } 
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27056" title="(x$1: Boolean)Boolean">isClass</a> || <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a>) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)" class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> &amp;&amp; (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27056" title="(x$1: Boolean)Boolean">isClass</a> || <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a>)) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(32L)">FINAL</span>) { // (1.2)
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE | ABSOVERRIDE <span title="Long(2359298L)">|</span> SYNTHETIC))) { // (1.3), SYNTHETIC because of DEVIRTUALIZE
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs `override' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27135" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a>(<a href="#305101" title="RefChecks.this.global.Symbol">clazz</a>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>)) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs `abstract override' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE)) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
                   (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#27062" title="=&gt; Boolean">isVariable</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27111" title="(x$1: Boolean)Boolean">isStable</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27111" title="=&gt; Boolean">isStable</a>) { // (1.4)
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27061" title="(x$1: Boolean)Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                   <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27061" title="=&gt; Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27070" title="=&gt; Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27061" title="(x$1: Boolean)Boolean">isValue</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27070" title="=&gt; Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                   <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27061" title="=&gt; Boolean">isValue</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(2147483648L)">LAZY</span>)) {
          <a href="#305104" title="(msg: String)Unit">overrideError</a>(<span title="java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span>)
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) {  
            //if (!member.typeParams.isEmpty) // (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty) // (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>).<a href="../symtab/Types.scala.html#30411" title="(from: List[RefChecks.this.global.Symbol],to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><a href="../symtab/Types.scala.html#30422" title="(that: RefChecks.this.global.Type)Boolean">(</a><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>) =:= <a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>))) // (1.6)
              <a href="#305105" title="()Unit">overrideTypeError</a>();
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>) {
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="305545">memberTp</a> = <a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="305546">otherTp</a> = <a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>)
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#305546" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#46018" title="(that: RefChecks.this.global.Type)Boolean">bounds</a> containsType <a href="#305545" title="RefChecks.this.global.Type">memberTp</a>)) { // (1.7.1)
              <a href="#305105" title="()Unit">overrideTypeError</a>(); // todo: do an explaintypes with bounds here
              <a href="../symtab/Types.scala.html#26629" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any,found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#305570" title="RefChecks.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#46018" title="(that: RefChecks.this.global.Type)Boolean">bounds</a> containsType <a href="#305571" title="RefChecks.this.global.Type">_</a>, <a href="#305546" title="RefChecks.this.global.Type">otherTp</a>, <a href="#305545" title="RefChecks.this.global.Type">memberTp</a>)
            }
            
            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="305547">kindErrors</a> = <a href="../Global.scala.html#39391" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42783" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#49026" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a>(<span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>), <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span>(<a href="#305545" title="RefChecks.this.global.Type">memberTp</a>), <a href="#304659" title="RefChecks.this.global.Type">self</a>, <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>) // (1.7.2)
           
            <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#305547" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>)
              <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
                <span title="(x$1: Any)java.lang.String" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27243" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27254" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27245" title="=&gt; String">nameString</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27255" title="=&gt; String">defString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> +
                <a href="#305547" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
            
            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) {
              <span class="keyword">val</span> <a title="List[String]" id="305631">kindErrors</a> = <a href="../Global.scala.html#39391" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42783" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#49026" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a>(<span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>), <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span>(<a href="#305545" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a>), <a href="#304659" title="RefChecks.this.global.Type">self</a>, <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
           
              <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#305631" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>)
                <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
                  <span title="(x$1: Any)java.lang.String" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305545" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27243" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27254" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#305102" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27245" title="=&gt; String">nameString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span>+
                  <a href="#305631" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
            }
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#305103" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>) {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#304665" title="(tp1: RefChecks.this.global.Type,tp2: RefChecks.this.global.Type)Boolean">overridesType</a>(<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>), <a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>))) { // 8
              <a href="#305105" title="()Unit">overrideTypeError</a>()
              <a href="../symtab/Types.scala.html#26628" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#305102" title="RefChecks.this.global.Symbol">member</a>), <a href="#304659" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30408" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a>(<a href="#305103" title="RefChecks.this.global.Symbol">other</a>))
            }
          }
        }
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="304667">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#39279" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#54385" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>)
      <span title="Unit" class="keyword">while</span> (<a href="#304667" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54426" title="=&gt; Boolean">hasNext</a>) <a href="#304668" title="()Unit">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullNameString + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullNameString + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#304667" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54423" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) <a href="#304666" title="(clazz: RefChecks.this.global.Symbol,member: RefChecks.this.global.Symbol,other: RefChecks.this.global.Symbol)Unit">checkOverride</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#304667" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54420" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#304667" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54423" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>);
        
        <a href="#304667" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#54427" title="=&gt; Unit">next</a>
      }
      <a href="#304658" title="()Unit">printMixinOverrideErrors</a>() 

      // 2. Check that only abstract classes have deferred members
      <span title="Unit" class="keyword">if</span> (<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27056" title="(x$1: Boolean)Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) {
        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean,msg: String)Unit" id="305720">abstractClassError</a>(<a title="Boolean" id="305723">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="305724">msg</a>: <span title="String">String</span>) {
          <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
            <span title="(x$1: Any)java.lang.String">(</span><span title="java.lang.String" class="keyword">if</span> (<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27090" title="(x$1: Boolean)Boolean">isAnonymousClass</a> || <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27093" title="=&gt; Boolean">isModuleClass</a>) <span title="java.lang.String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
             <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> (<a href="#305723" title="Boolean">mustBeMixin</a>) <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
             <span class="keyword">else</span> <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, since &quot;)" class="string">&quot;, since &quot;</span> + <a href="#305724" title="String">msg</a>);
          <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)clazz.type">setFlag</a><span title="Unit">(</span><span title="Long(8L)">ABSTRACT</span>)
        }
        // Find a concrete Java method that overrides `sym' under the erasure model.
        // Bridge symbols qualify.
        // Used as a fall back if no overriding symbol of a Java abstract method can be found
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="305721">javaErasedOverridingSym</a>(<a title="RefChecks.this.global.Symbol" id="305743">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a> = 
          <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30442" title="(name: RefChecks.this.global.Name,excludedFlags: Int,requiredFlags: Long,stableOnly: Boolean)(from: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">findMember</a>(<a href="#305743" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Int(4)">PRIVATE</span>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span>)(<a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>).<a href="../symtab/Symbols.scala.html#27185" title="(cond: (RefChecks.this.global.Symbol) =&gt; Boolean)RefChecks.this.global.Symbol">filter</a>(<a title="RefChecks.this.global.Symbol" id="305761">other</a> =&gt;
            <span title="(x$1: Boolean)Boolean">!</span><a href="#305761" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
            (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">other</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; {
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="305766">tp1</a> = <a href="../Global.scala.html#39355" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#42680" title="(v1: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#305743" title="RefChecks.this.global.Symbol">sym</a>))
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="305767">tp2</a> = <a href="../Global.scala.html#39355" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#42680" title="(v1: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a>(<a href="#305761" title="RefChecks.this.global.Symbol">other</a>))
              <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40428" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="../symtab/Types.scala.html#30424" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">tp1</a> matches <a href="#305767" title="RefChecks.this.global.erasure.global.Type">tp2</a>)
            })
        <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="305814">member</a> &lt;- <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30400" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit">nonPrivateMembers</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#305814" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27112" title="(x$1: Boolean)Boolean">isDeferred</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(8L)">ABSTRACT</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#304660" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a>(<a href="#305814" title="RefChecks.this.global.Symbol">member</a>) &amp;&amp;
              <span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; <a href="#305721" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#305814" title="RefChecks.this.global.Symbol">member</a>) != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>)) {
            <a href="#305720" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(
              <span title="Boolean(false)" class="keyword">false</span>, <a href="#304662" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#305814" title="RefChecks.this.global.Symbol">member</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> + <a href="../Global.scala.html#39334" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#40076" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a>(<a href="#305814" title="RefChecks.this.global.Symbol">member</a>))
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(262144L)">ABSOVERRIDE</span>) &amp;&amp; <a href="#305814" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27135" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>)) {
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305858">other</a> = <a href="#305814" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27225" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>);
            <a href="#305720" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(<span title="Boolean(true)" class="keyword">true</span>,
              <a href="#304662" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#305814" title="RefChecks.this.global.Symbol">member</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is marked `abstract' and `override'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> +
              (<span title="Any" class="keyword">if</span> (<a href="#305858" title="(x$1: AnyRef)Boolean">other</a> != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>) 
                <span title="(x$1: Any)java.lang.String" class="string">&quot; and overrides incomplete superclass member &quot;</span> + <a href="#304662" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#305858" title="RefChecks.this.global.Symbol">other</a>)
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
          }
        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        // 
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="305722">checkNoAbstractDecls</a>(<a title="RefChecks.this.global.Symbol" id="305885">bc</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {
          <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="305892">decl</a> &lt;- <a href="#305885" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27304" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit" id="32359">iterator</a>) {
            <span title="Unit" class="keyword">if</span> (<a href="#305892" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#27112" title="(x$1: Boolean)Boolean">isDeferred</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#304660" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a>(<a href="#305892" title="RefChecks.this.global.Symbol">decl</a>)) { 
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="305897">impl</a> = <a href="#305892" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#27220" title="(site: RefChecks.this.global.Type)RefChecks.this.global.Symbol">matchingSymbol</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; RefChecks.this.global.Type">thisType</a>)
              <span title="Unit" class="keyword">if</span> (<a href="#305897" title="(x$1: AnyRef)Boolean">impl</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> || (<a href="#305892" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">owner</a> isSubClass <a href="#305897" title="RefChecks.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)) {
                <a href="#305720" title="(mustBeMixin: Boolean,msg: String)Unit">abstractClassError</a>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#304662" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a>(<a href="#305892" title="RefChecks.this.global.Symbol">decl</a>)<span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span>+<a href="../Global.scala.html#39334" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#40076" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a>(<a href="#305892" title="RefChecks.this.global.Symbol">decl</a>))
              }
            }
          }
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="305886">parents</a> = <a href="#305885" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#305886" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#305886" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8L)">ABSTRACT</span>)) 
            <a href="#305722" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a>(<a href="#305886" title="List[RefChecks.this.global.Type]">parents</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>)
        }
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(8L)">ABSTRACT</span>)) <a href="#305722" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a>(<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>)
      }

      // 4. Check that every defined member with an `override' modifier overrides some other member.
      <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="305971">member</a> &lt;- <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (RefChecks.this.global.Symbol) =&gt; Any)Unit">toList</a>)
        <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag (OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE)) &amp;&amp;
            (<a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a>.<a title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)Boolean" id="25477">tail</a> forall {
               <a title="RefChecks.this.global.Symbol" id="306002">bc</a> =&gt; <a href="#305971" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27219" title="(ofclazz: RefChecks.this.global.Symbol,site: RefChecks.this.global.Type)RefChecks.this.global.Symbol">matchingSymbol</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#306002" title="RefChecks.this.global.Symbol">bc</a>, <a href="#304652" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; RefChecks.this.global.Type">thisType</a>) == <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>
            })) {
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG
          <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#305971" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#305971" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span>);
          <a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)member.type">member</a> resetFlag <span title="Long(2L)">OVERRIDE</span>
        }
    }

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="303875">validateBaseTypes</a>(<a title="RefChecks.this.global.Symbol" id="306048">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="306050">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <a title="Array[List[RefChecks.this.global.Type]]" id="905">Array</a>[List[Type]](<a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30426" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152839" title="=&gt; Int">length</a>)
      <span class="keyword">for</span> (<a title="Int" id="306090">i</a> &lt;- <span title="(end: Int)Range" class="int">0</span> <span title="(f: (Int) =&gt; Unit)Unit">until</span> <a href="#306050" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span>) <a href="#306050" title="(i: Int,x: List[RefChecks.this.global.Type])Unit">seenTypes</a>(<a href="#306090" title="Int">i</a>) = <span title="object Nil">Nil</span>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="306051">register</a>(<a title="RefChecks.this.global.Type" id="306106">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>) {
//        if (clazz.fullNameString.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306107">baseClass</a> = <a href="#306106" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#306107" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) {
          <span class="keyword">val</span> <a title="Int" id="306108">index</a> = <a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30429" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a>(<a href="#306107" title="RefChecks.this.global.Symbol">baseClass</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#306108" title="(x$1: Int)Boolean">index</a> &gt;= <span title="Int(0)" class="int">0</span>) {
            <span title="Unit" class="keyword">if</span> (<a href="#306050" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span title="(p: (RefChecks.this.global.Type) =&gt; Boolean)Boolean">(</span><a href="#306108" title="Int">index</a>) forall (<a title="RefChecks.this.global.Type" id="306134">tp1</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#306106" title="RefChecks.this.global.Type">tp</a>)))
              <a href="#306050" title="(i: Int,x: List[RefChecks.this.global.Type])Unit">seenTypes</a>(<a href="#306108" title="Int">index</a>) = 
                <a href="#306106" title="RefChecks.this.global.Type">tp</a> <a href="#306150" title="RefChecks.this.global.Type">::</a> <span title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">(</span><a href="#306050" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span title="(p: (RefChecks.this.global.Type) =&gt; Boolean)List[RefChecks.this.global.Type]">(</span><a href="#306108" title="Int">index</a>) filter (<a title="RefChecks.this.global.Type" id="306162">tp1</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">tp</a> &lt;:&lt; <a href="#306162" title="RefChecks.this.global.Type">tp1</a>)))
          }
        }
        <a href="#306106" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30375" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">parents</a> foreach <a href="#306051" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      }
      <a href="#306051" title="(tp: RefChecks.this.global.Type)Unit">register</a>(<a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>)
      <span class="keyword">for</span> (<a title="Int" id="306236">i</a> &lt;- <span title="(end: Int)Range" class="int">0</span> <span title="(f: (Int) =&gt; Unit)Unit">until</span> <a href="#306050" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span>) {
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306237">baseClass</a> = <a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#152843" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a>(<a href="#306236" title="Int">i</a>).<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#306050" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a>(<a href="#306236" title="Int">i</a>) <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="#306250" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a>() =&gt;
            <a title="(x: Any)Unit" id="8126">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#306237" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span>+<a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>)
          <span title="Unit" class="keyword">case</span> <a href="#306271" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a>(_) =&gt;
            ;// OK
          <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.Type" id="306285">tp1</a> :: <a title="RefChecks.this.global.Type" id="306290">tp2</a> :: _ =&gt;
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#306048" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#306048" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#306237" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)java.lang.String">+</span> 
                       <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#306285" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> + <a href="#306290" title="RefChecks.this.global.Type">tp2</a>);
            <a href="../symtab/Types.scala.html#26628" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#306285" title="RefChecks.this.global.Type">tp1</a>, <a href="#306290" title="RefChecks.this.global.Type">tp2</a>)
            <a href="../symtab/Types.scala.html#26628" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#306290" title="RefChecks.this.global.Type">tp2</a>, <a href="#306285" title="RefChecks.this.global.Type">tp1</a>)
        }
      }
    }

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="303876">ContraVariance</a> = <span title="Int(-1)">-</span><span class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="303878">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="303880">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="303882">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="303884">escapedPrivateLocals</a> = <span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="24960">HashSet</a>[Symbol]

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="303886">varianceValidator</a> = <a href="#303962" title="RefChecks.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26933" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="303962">Traverser</a> {

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="303964">validateVariance</a>(<a title="RefChecks.this.global.Symbol" id="303969">base</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {

        <span class="keyword">def</span> <a title="(variance: Int)String" id="303970">varianceString</a>(<a title="Int" id="303975">variance</a>: <span title="Int">Int</span>): <span title="String">String</span> =
          <span title="String" class="keyword">if</span> (<a href="#303975" title="(x$1: Int)Boolean">variance</a> == <span title="Int(1)" class="int">1</span>) <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#303975" title="(x$1: Int)Boolean">variance</a> == <span title="Int(-1)">-</span><span class="int">1</span>) <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="303971">relativeVariance</a>(<a title="RefChecks.this.global.Symbol" id="303988">tvar</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>): <span title="Int">Int</span> = {
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="303989">clazz</a> = <a href="#303988" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="303990">sym</a> = <a href="#303969" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="303991">state</a> = <a href="#303880" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> (<a href="#303990" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#303989" title="RefChecks.this.global.Symbol">clazz</a> &amp;&amp; <a href="#303991" title="(x$1: Int)Boolean">state</a> != <a href="#303882" title="=&gt; Int">AnyVariance</a>) <a href="#303992" title="()Unit">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(8192L)">PARAM</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27119" title="=&gt; Boolean">isCaseApplyOrUnapply</a> &amp;&amp;
                <span title="=&gt; Boolean">!</span>(<a href="#303988" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#27083" title="(x$1: Boolean)Boolean">isTypeParameterOrSkolem</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27083" title="=&gt; Boolean">isTypeParameterOrSkolem</a> &amp;&amp;
                  <a href="#303988" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)) <a href="#303991" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#303991" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> || 
                     <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; (<span title="(x$1: Boolean)Boolean">(</span><a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27116" title="(x$1: Boolean)Boolean">isPrivateLocal</a> || <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27117" title="=&gt; Boolean">isProtectedLocal</a>) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="#303884" title="(elem: RefChecks.this.global.Symbol)Boolean" id="39518">escapedPrivateLocals</a> contains <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>))) {
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#303991" title="Int">state</a> = <a href="#303882" title="=&gt; Int">AnyVariance</a>
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) {
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#303991" title="Int">state</a> = <span title="Int" class="keyword">if</span> (<a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27223" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#303882" title="=&gt; Int">AnyVariance</a>
                      <span class="keyword">else</span> <a href="#303878" title="=&gt; Int">NoVariance</a>
            }
            <a href="#303990" title="RefChecks.this.global.Symbol">sym</a> = <a href="#303990" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          }
          <a href="#303991" title="Int">state</a>
        }

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type,variance: Int)Unit" id="303972">validateVariance</a>(<a title="RefChecks.this.global.Type" id="304064">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="304065">variance</a>: <span title="Int">Int</span>): <span title="Unit">Unit</span> = <a href="#304064" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26376" title="object RefChecks.this.global.ErrorType">ErrorType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26378" title="object RefChecks.this.global.WildcardType">WildcardType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26383" title="object RefChecks.this.global.NoType">NoType</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26385" title="object RefChecks.this.global.NoPrefix">NoPrefix</a> =&gt; ;
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt; ;
          <span title="Unit" class="keyword">case</span> ConstantType(_) =&gt; ;
          <span title="Unit" class="keyword">case</span> DeBruijnIndex(_, _) =&gt; ;
          <span title="Unit" class="keyword">case</span> SingleType(<a title="RefChecks.this.global.Type" id="304076">pre</a>, <a title="RefChecks.this.global.Symbol" id="304077">sym</a>) =&gt;
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304076" title="RefChecks.this.global.Type">pre</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="RefChecks.this.global.Type" id="304085">pre</a>, <a title="RefChecks.this.global.Symbol" id="304086">sym</a>, <a title="List[RefChecks.this.global.Type]" id="304087">args</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#304086" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="(x$1: Boolean)Boolean">isAliasType</a> &amp;&amp; <a href="#303971" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span title="(x$1: Int)Boolean">(</span><a href="#304086" title="RefChecks.this.global.Symbol">sym</a>) == <a href="#303882" title="=&gt; Int">AnyVariance</a>)
              <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304064" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#304065" title="Int">variance</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#304086" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27141" title="(x$1: Int)Boolean">variance</a> != <a href="#303878" title="=&gt; Int">NoVariance</a>) {
              <span class="keyword">val</span> <a title="Int" id="304112">v</a> = <a href="#303971" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a>(<a href="#304086" title="RefChecks.this.global.Symbol">sym</a>)
              <span title="Unit" class="keyword">if</span> (<a href="#304112" title="(x$1: Int)Boolean">v</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#303882" title="=&gt; Int">AnyVariance</a> &amp;&amp; <a href="#304086" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27141" title="(x$1: Int)Boolean">variance</a> != <a href="#304112" title="(x$1: Int)Int">v</a> * <a href="#304065" title="Int">variance</a>) {
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)java.lang.String" id="304136">tpString</a>(<a title="RefChecks.this.global.Type" id="304137">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>) = <a href="#304137" title="RefChecks.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> {
                  <span title="java.lang.String" class="keyword">case</span> ClassInfoType(<a title="List[RefChecks.this.global.Type]" id="304141">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="304142">clazz</a>) =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;supertype &quot;</span>+<a href="../symtab/Types.scala.html#26459" title="(tps: List[RefChecks.this.global.Type],owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a>(<a href="#304141" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#304142" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>)
                  <span title="java.lang.String" class="keyword">case</span> _ =&gt; <span title="(x$1: Any)java.lang.String" class="string">&quot;type &quot;</span>+<a href="#304137" title="RefChecks.this.global.Type">tp</a>
                }
                <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#303969" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
                           <a href="#303970" title="(variance: Int)String">varianceString</a><span title="(x$1: Any)java.lang.String">(</span><a href="#304086" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27141" title="=&gt; Int">variance</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304086" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#303970" title="(variance: Int)String">varianceString</a>(<a href="#304112" title="(x$1: Int)Int">v</a> * <a href="#304065" title="Int">variance</a>) <span title="(x$1: Any)java.lang.String">+</span> 
                           <span title="java.lang.String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#304136" title="(tp: RefChecks.this.global.Type)java.lang.String">tpString</a>(<a href="#303969" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> + <a href="#303969" title="RefChecks.this.global.Symbol">base</a>);
              }
            }
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304085" title="RefChecks.this.global.Type">pre</a>, <a href="#304065" title="Int">variance</a>)
            <a href="#303974" title="(tps: List[RefChecks.this.global.Type],variance: Int,tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a>(<a href="#304087" title="List[RefChecks.this.global.Type]">args</a>, <a href="#304065" title="Int">variance</a>, <a href="#304086" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>) //@M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway 
            // -- the interesting case is in type application, see checkKindBounds in Infer
          <span title="Unit" class="keyword">case</span> ClassInfoType(<a title="List[RefChecks.this.global.Type]" id="304249">parents</a>, <a title="RefChecks.this.global.Scope" id="304250">decls</a>, <a title="RefChecks.this.global.Symbol" id="304251">symbol</a>) =&gt;
            <a href="#303973" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#304249" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[RefChecks.this.global.Type]" id="304260">parents</a>, <a title="RefChecks.this.global.Scope" id="304261">decls</a>) =&gt;
            <a href="#303973" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#304260" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#304065" title="Int">variance</a>)
            <span class="keyword">for</span> (<a title="RefChecks.this.global.Symbol" id="304283">sym</a> &lt;- <a href="#304261" title="RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (RefChecks.this.global.Symbol) =&gt; Unit)Unit">toList</a>)
              <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304283" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> (<a href="#304283" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) <a href="#303878" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> TypeBounds(<a title="RefChecks.this.global.Type" id="304291">lo</a>, <a title="RefChecks.this.global.Type" id="304292">hi</a>) =&gt;
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304291" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#304065" title="Int">variance</a>)
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304292" title="RefChecks.this.global.Type">hi</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> MethodType(<a title="List[RefChecks.this.global.Symbol]" id="304301">formals</a>, <a title="RefChecks.this.global.Type" id="304302">result</a>) =&gt;
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304302" title="RefChecks.this.global.Type">result</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> PolyType(<a title="List[RefChecks.this.global.Symbol]" id="304309">tparams</a>, <a title="RefChecks.this.global.Type" id="304310">result</a>) =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304310" title="RefChecks.this.global.Type">result</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[RefChecks.this.global.Symbol]" id="304317">tparams</a>, <a title="RefChecks.this.global.Type" id="304318">result</a>) =&gt;
            <a href="#303973" title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit">validateVariances</a>(<a href="#304317" title="(f: (RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List#Coll]">map</span> (<a href="#304329" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>), <a href="#304065" title="Int">variance</a>)
            <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304318" title="RefChecks.this.global.Type">result</a>, <a href="#304065" title="Int">variance</a>)
          <span title="Unit" class="keyword">case</span> AnnotatedType(<a title="List[RefChecks.this.global.AnnotationInfo]" id="304361">annots</a>, <a title="RefChecks.this.global.Type" id="304362">tp</a>, <a title="RefChecks.this.global.Symbol" id="304363">selfsym</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#304361" title="(p: (RefChecks.this.global.AnnotationInfo) =&gt; Boolean)Boolean">annots</a> exists (<a href="#304370" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44970" title="=&gt; RefChecks.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27182" title="(that: RefChecks.this.global.Symbol)Boolean">isNonBottomSubClass</a>(<a href="../symtab/Definitions.scala.html#28505" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a>))))
              <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304362" title="RefChecks.this.global.Type">tp</a>, <a href="#304065" title="Int">variance</a>)
        }

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type],variance: Int)Unit" id="303973">validateVariances</a>(<a title="List[RefChecks.this.global.Type]" id="304254">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="Int" id="304255">variance</a>: <span title="Int">Int</span>) {
          <a href="#304254" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">tps</a> foreach (<a title="RefChecks.this.global.Type" id="304405">tp</a> =&gt; <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304405" title="RefChecks.this.global.Type">tp</a>, <a href="#304255" title="Int">variance</a>))
        }

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type],variance: Int,tparams: List[RefChecks.this.global.Symbol])Unit" id="303974">validateVarianceArgs</a>(<a title="List[RefChecks.this.global.Type]" id="304241">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="Int" id="304242">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="304243">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol]) {
          <span title="(f: ((RefChecks.this.global.Type, RefChecks.this.global.Symbol)) =&gt; Unit)Unit">(</span><a href="#304241" title="(that: Iterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)],List[RefChecks.this.global.Type]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]" id="25607">tps</a> <span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)],List#Coll]">zip</span> <a href="#304243" title="List[RefChecks.this.global.Symbol]">tparams</a>) foreach <a href="#304522" title="Unit">{</a>
            <span title="Unit" class="keyword">case</span> (<a title="RefChecks.this.global.Type" id="304525">tp</a>, <a title="RefChecks.this.global.Symbol" id="304526">tparam</a>) =&gt; <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#304525" title="RefChecks.this.global.Type">tp</a>, <a href="#304242" title="(x$1: Int)Int">variance</a> * <a href="#304526" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27141" title="=&gt; Int">variance</a>)
          }
        }

        <a href="#303972" title="(tp: RefChecks.this.global.Type,variance: Int)Unit">validateVariance</a>(<a href="#303969" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#303880" title="=&gt; Int">CoVariance</a>)
      }

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="303965">traverse</a>(<a title="RefChecks.this.global.Tree" id="304554">tree</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>) {
        <a href="#304554" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) | 
               TypeDef(_, _, _, _) =&gt;
            <a href="#303964" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#304554" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#304554" title="RefChecks.this.global.Tree">tree</a>)
          // ModuleDefs need not be considered because they have been eliminated already
          <span title="Unit" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
            <a href="#303964" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#304554" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
          <span title="Unit" class="keyword">case</span> DefDef(_, _, <a title="List[RefChecks.this.global.TypeDef]" id="304595">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="304596">vparamss</a>, <a title="RefChecks.this.global.Tree" id="304597">tpt</a>, <a title="RefChecks.this.global.Tree" id="304598">rhs</a>) =&gt;
            <a href="#303964" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a>(<a href="#304554" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
            <a href="../ast/Trees.scala.html#71110" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a>(<a href="#304595" title="List[RefChecks.this.global.TypeDef]">tparams</a>); <a href="../ast/Trees.scala.html#71111" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a>(<a href="#304596" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a>)
          <span title="Unit" class="keyword">case</span> Template(_, _, _) =&gt;
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#304554" title="RefChecks.this.global.Tree">tree</a>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
    }

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends java.lang.Object with ScalaObject" id="303888">LevelInfo</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="306341">outer</a>: <a href="#303888" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a>) {
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="304636">scope</a>: <a href="../symtab/Scopes.scala.html#26171" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> (<a href="#306341" title="(x$1: AnyRef)Boolean">outer</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="../symtab/Scopes.scala.html#26125" title="=&gt; RefChecks.this.global.Scope">newScope</a> <span class="keyword">else</span> <a href="../symtab/Scopes.scala.html#26164" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope">newScope</a>(<a href="#306341" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#304636" title="=&gt; RefChecks.this.global.Scope">scope</a>)
      <span class="keyword">var</span> <a title="Int" id="304639">maxindex</a>: <span title="Int">Int</span> = <a title="object Math" id="537">Math</a>.<a title="=&gt; Int" id="69784">MIN_INT</a>
      <span class="keyword">var</span> <a title="scala.tools.nsc.util.Position" id="304642">refpos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="304645">refsym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a> = _
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="303890">currentLevel</a>: <a href="#303888" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="303892">symIndex</a> = <span title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="25113">HashMap</a>[Symbol, Int]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="303894">pushLevel</a>() {
      <a href="#303890" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#303888" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a>(<a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="303895">popLevel</a>() {
      <a href="#303890" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#306341" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="303896">enterSyms</a>(<a title="List[RefChecks.this.global.Tree]" id="306372">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree]) {
      <span class="keyword">var</span> <a title="Int" id="306374">index</a> = <span title="Int(-1)">-</span><span class="int">1</span>
      <span class="keyword">for</span> (<a title="RefChecks.this.global.Tree" id="306391">stat</a> &lt;- <a href="#306372" title="(f: (RefChecks.this.global.Tree) =&gt; Unit)Unit">stats</a>) { 
        <a href="#306374" title="Int">index</a> = <a href="#306374" title="(x$1: Int)Int">index</a> + <span title="Int(1)" class="int">1</span>; 
        <a href="#306391" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) | DefDef(_, _, _, _, _, _) | ModuleDef(_, _, _) | ValDef(_, _, _, _) =&gt;
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306391" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#306391" title="RefChecks.this.global.Tree">stat</a>);//debug
            <span title="Unit" class="keyword">if</span> (<a href="#306391" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) {
              <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304636" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27289" title="(e: RefChecks.this.global.ScopeEntry)Unit">enter</a>(<a href="../symtab/Scopes.scala.html#26123" title="(sym: RefChecks.this.global.Symbol,owner: RefChecks.this.global.Scope)RefChecks.this.global.ScopeEntry">newScopeEntry</a>(<a href="#306391" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>, <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304636" title="=&gt; RefChecks.this.global.Scope">scope</a>));
              <a href="#303892" title="(key: RefChecks.this.global.Symbol,value: Int)Unit" id="44618">symIndex</a>(<a href="#306391" title="RefChecks.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>) = <a href="#306374" title="Int">index</a>;
            }
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit" id="303897">enterReference</a>(<a title="scala.tools.nsc.util.Position" id="306488">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="306489">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#306489" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) {
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="306491">e</a> = <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304636" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27301" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a>(<a href="#306489" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>)
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#306491" title="(x$1: AnyRef)Boolean" id="6613">e</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#306489" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#306491" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; RefChecks.this.global.Symbol">sym</a>) {
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="306505">l</a> = <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> (<a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#304636" title="(x$1: AnyRef)Boolean">scope</a> != <a href="#306491" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26968" title="=&gt; RefChecks.this.global.Scope">owner</a>) <a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#306341" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="306506">symindex</a> = <a href="#303892" title="(key: RefChecks.this.global.Symbol)Int" id="44676">symIndex</a>(<a href="#306489" title="RefChecks.this.global.Symbol">sym</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#304639" title="(x$1: Int)Boolean" id="2977">maxindex</a> &lt; <a href="#306506" title="Int">symindex</a>) {
            <a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#304642" title="(x$1: scala.tools.nsc.util.Position)Unit">refpos</a> = <a href="#306488" title="scala.tools.nsc.util.Position">pos</a>
            <a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#304645" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#306489" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#306505" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#304639" title="(x$1: Int)Unit">maxindex</a> = <a href="#306506" title="Int">symindex</a>
          }
        }
      }
    }

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="303898">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26479" title="RefChecks.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="306544">apply</a>(<a title="RefChecks.this.global.Type" id="306548">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>) = <a href="../symtab/Types.scala.html#42954" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a>(<a href="#306548" title="RefChecks.this.global.Type">tp</a>).<a href="../symtab/Types.scala.html#30392" title="=&gt; RefChecks.this.global.Type">normalize</a>
    }
    
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,fn: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])Unit" id="303900">checkSensible</a>(<a title="scala.tools.nsc.util.Position" id="306572">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="306573">fn</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>, <a title="List[RefChecks.this.global.Tree]" id="306574">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree]) = <a href="#306573" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Select(<a title="RefChecks.this.global.Tree" id="306581">qual</a>, <a title="RefChecks.this.global.Name" id="306582">name</a>) <span class="keyword">if</span> (<a href="#306574" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(1)" class="int">1</span>) =&gt;
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="306592">isNew</a>(<a title="RefChecks.this.global.Tree" id="306593">tree</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>) = <a href="#306593" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean(true)" class="keyword">case</span> Function(_, _) 
             | Apply(Select(New(_), <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29905" title="=&gt; RefChecks.this.global.Name">CONSTRUCTOR</a>), _) =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
        <a href="#306582" title="RefChecks.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="=&gt; RefChecks.this.global.Name">EQ</a> | <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30196" title="=&gt; RefChecks.this.global.Name">NE</a> | <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30198" title="=&gt; RefChecks.this.global.Name">LT</a> | <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30202" title="=&gt; RefChecks.this.global.Name">GT</a> | <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30200" title="=&gt; RefChecks.this.global.Name">LE</a> | <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30204" title="=&gt; RefChecks.this.global.Name">GE</a> =&gt;
            <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="306613">underlyingClass</a>(<a title="RefChecks.this.global.Type" id="306621">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>): <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a> = {
              <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="306622">sym</a> = <a href="#306621" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
              <span title="Unit" class="keyword">while</span> (<a href="#306622" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>)
                <a href="#306622" title="RefChecks.this.global.Symbol">sym</a> = <a href="#306622" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
              <a href="#306622" title="RefChecks.this.global.Symbol">sym</a>
            }
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306614">formal</a> = <a href="#306613" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#306573" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306615">actual</a> = <a href="#306613" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#306574" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="306616">receiver</a> = <a href="#306613" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a>(<a href="#306581" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span class="keyword">def</span> <a title="(what: String,alwaysEqual: Boolean)Unit" id="306617">nonSensibleWarning</a>(<a title="String" id="306633">what</a>: <span title="String">String</span>, <a title="Boolean" id="306634">alwaysEqual</a>: <span title="Boolean">Boolean</span>) = 
              <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45688" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">warning</a>(<a href="#306572" title="scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#306633" title="String">what</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#306582" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28411" title="=&gt; String">decode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span>+
                           (<a href="#306634" title="(x$1: Boolean)Boolean">alwaysEqual</a> == (<a href="#306582" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="=&gt; RefChecks.this.global.Name">EQ</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#306582" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30200" title="=&gt; RefChecks.this.global.Name">LE</a> || <a href="#306582" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30204" title="=&gt; RefChecks.this.global.Name">GE</a>)))
            <span class="keyword">def</span> <a title="(pre: String,alwaysEqual: Boolean)Unit" id="306618">nonSensible</a>(<a title="String" id="306675">pre</a>: <span title="String">String</span>, <a title="Boolean" id="306676">alwaysEqual</a>: <span title="Boolean">Boolean</span>) =
              <a href="#306617" title="(what: String,alwaysEqual: Boolean)Unit">nonSensibleWarning</a>(<a href="#306675" title="(x$1: Any)java.lang.String">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#306544" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a>(<a href="#306581" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; RefChecks.this.global.Type">widen</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>+<a href="#306544" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a>(<a href="#306574" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; RefChecks.this.global.Type">widen</a>),
                                 <a href="#306676" title="Boolean">alwaysEqual</a>) // @MAT normalize for consistency in error message, otherwise part is normalized due to use of `typeSymbol', but the rest isn't
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="306619">hasObjectEquals</a> = <a href="#306616" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30403" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30052" title="=&gt; RefChecks.this.global.Name">equals_</a>) == <a href="../symtab/Definitions.scala.html#28719" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a>
            // see if it has any == methods beyond Any's and AnyRef's: ticket #2240
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="306620">hasOverloadedEqEq</a> = <a href="#306616" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30403" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a>(<a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="=&gt; RefChecks.this.global.Name">EQ</a>).<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>.<a title="(x$1: Int)Boolean" id="2981">length</a> &gt; <span title="Int(2)" class="int">2</span>
            
            <span title="Unit" class="keyword">if</span> (<a href="#306614" title="(x$1: AnyRef)Boolean">formal</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28463" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> &amp;&amp; <a href="#306615" title="(x$1: AnyRef)Boolean">actual</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>)
              <a href="#306618" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#306616" title="(x$1: AnyRef)Boolean">receiver</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28479" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a> || <a href="#306616" title="(x$1: AnyRef)Boolean">receiver</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>) &amp;&amp; 
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#306615" title="RefChecks.this.global.Symbol">actual</a>))
              <a href="#306618" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28793" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span title="(x$1: Boolean)Boolean">(</span><a href="#306616" title="RefChecks.this.global.Symbol">receiver</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#28793" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a>(<a href="#306615" title="RefChecks.this.global.Symbol">actual</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span>(<a href="../Global.scala.html#39416" title="(x$1: Boolean)Boolean">forMSIL</a> || (<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">actual</a> isSubClass <a href="../symtab/Definitions.scala.html#28735" title="=&gt; RefChecks.this.global.Symbol">BoxedNumberClass</a>)) &amp;&amp;
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#306615" title="RefChecks.this.global.Symbol">actual</a>))
              <a href="#306618" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">receiver</a> hasFlag <span title="Long(32L)">FINAL</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306619" title="=&gt; Boolean">hasObjectEquals</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../symtab/Definitions.scala.html#28792" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a>(<a href="#306616" title="RefChecks.this.global.Symbol">receiver</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
                     <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27183" title="(that: RefChecks.this.global.Symbol)Boolean">receiver</a> isSubClass <a href="#306615" title="RefChecks.this.global.Symbol">actual</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306616" title="(x$1: AnyRef)Boolean">receiver</a> != <a href="../symtab/Definitions.scala.html#28455" title="=&gt; RefChecks.this.global.Symbol">NullClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306615" title="(x$1: AnyRef)Boolean">actual</a> != <a href="../symtab/Definitions.scala.html#28455" title="=&gt; RefChecks.this.global.Symbol">NullClass</a> &amp;&amp;
                     (<a href="#306582" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="=&gt; RefChecks.this.global.Name">EQ</a> || <a href="#306582" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30200" title="=&gt; RefChecks.this.global.Name">LE</a>))
              <a href="#306618" title="(pre: String,alwaysEqual: Boolean)Unit">nonSensible</a>(<span title="java.lang.String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#306592" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span title="(x$1: Boolean)Boolean">(</span><a href="#306581" title="RefChecks.this.global.Tree">qual</a>) || <a href="#306592" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a>(<a href="#306574" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>)) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306619" title="=&gt; Boolean">hasObjectEquals</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                     (<a href="#306582" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="=&gt; RefChecks.this.global.Name">EQ</a> || <a href="#306582" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30196" title="=&gt; RefChecks.this.global.Name">NE</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#306620" title="=&gt; Boolean">hasOverloadedEqEq</a>)
              <a href="#306617" title="(what: String,alwaysEqual: Boolean)Unit">nonSensibleWarning</a>(<span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="303901">toConstructor</a>(<a title="scala.tools.nsc.util.Position" id="306864">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="RefChecks.this.global.Type" id="306865">tpe</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a> = {
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="306867">rtpe</a> = <a href="#306865" title="RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30382" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306867" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">typeSymbol</a> hasFlag <span title="Long(2048L)">CASE</span>, <a href="#306865" title="RefChecks.this.global.Type">tpe</a>);
      <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42877" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> {
        <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a>(<a href="#306864" title="scala.tools.nsc.util.Position">pos</a>) {
          <a href="../ast/Trees.scala.html#26890" title="(qualifier: RefChecks.this.global.Tree,sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#50569" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a>(<a href="#306867" title="RefChecks.this.global.Type">rtpe</a>)), <a href="#306867" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27192" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>)
        }
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree],exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="303902">transformStats</a>(<a title="List[RefChecks.this.global.Tree]" id="306943">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span>[Tree], <a title="RefChecks.this.global.Symbol" id="306944">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>): <span title="List[RefChecks.this.global.Tree]">List</span>[Tree] = {
      <a href="#303894" title="()Unit">pushLevel</a>()
      <a href="#303896" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a>(<a href="#306943" title="List[RefChecks.this.global.Tree]">stats</a>)
      <span class="keyword">var</span> <a title="Int" id="306948">index</a> = <span title="Int(-1)">-</span><span class="int">1</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="306949">stats1</a> = <a href="#306943" title="(f: (RefChecks.this.global.Tree) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">stats</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">flatMap</span> { <a title="RefChecks.this.global.Tree" id="306962">stat</a> =&gt; <a href="#306948" title="Int">index</a> += <span title="Int(1)" class="int">1</span>; <a href="#303903" title="(tree: RefChecks.this.global.Tree,index: Int)List[RefChecks.this.global.Tree]">transformStat</a>(<a href="#306962" title="RefChecks.this.global.Tree">stat</a>, <a href="#306948" title="Int">index</a>) }
      <a href="#303895" title="()Unit">popLevel</a>()
      <a href="#306949" title="List[RefChecks.this.global.Tree]">stats1</a>
    }

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree,index: Int)List[RefChecks.this.global.Tree]" id="303903">transformStat</a>(<a title="RefChecks.this.global.Tree" id="306997">tree</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>, <a title="Int" id="306998">index</a>: <span title="Int">Int</span>): <span title="List[RefChecks.this.global.Tree]">List</span>[Tree] = <a href="#306997" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> {
      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> ModuleDef(<a title="RefChecks.this.global.Modifiers" id="307089">mods</a>, <a title="RefChecks.this.global.Name" id="307090">name</a>, <a title="RefChecks.this.global.Template" id="307091">impl</a>) =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307094">sym</a> = <a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="307095">cdef</a> = <a href="../ast/Trees.scala.html#52237" title="(mods: RefChecks.this.global.Modifiers,name: RefChecks.this.global.Name,tparams: List[RefChecks.this.global.TypeDef],impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a>(<a href="../ast/Trees.scala.html#52303" title="(flag: Long)RefChecks.this.global.Modifiers">mods</a> | <span title="Long(256L)">MODULE</span>, <a href="#307090" title="RefChecks.this.global.Name">name</a>, List<span title="object Nil">(</span>), <a href="#307091" title="RefChecks.this.global.Template">impl</a>)
          .<a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.ClassDef">setPos</a>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) 
          .<a href="../ast/Trees.scala.html#29555" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27218" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>) 
          .<a href="../ast/Trees.scala.html#29552" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</a>(<a href="../symtab/Types.scala.html#26383" title="object RefChecks.this.global.NoType">NoType</a>);
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27125" title="=&gt; Boolean">isStatic</a>) {
          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27223" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span>) {
            <span class="keyword">val</span> <a title="RefChecks.this.global.TermSymbol" id="307182">factory</a> = <a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: RefChecks.this.global.Name)RefChecks.this.global.TermSymbol">newMethod</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; RefChecks.this.global.Name">name</a>)
              .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)RefChecks.this.global.TermSymbol">setFlag</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27150" title="(x$1: Int)Long">flags</a> | <span title="Int(4194304)">STABLE</span>).<a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)RefChecks.this.global.TermSymbol">resetFlag</a>(<span title="Long(256L)">MODULE</span>)
              .<a href="../symtab/Symbols.scala.html#27164" title="(info: RefChecks.this.global.Type)RefChecks.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Types.scala.html#44057" title="(typeParams: List[RefChecks.this.global.Symbol],resultType: RefChecks.this.global.Type)RefChecks.this.global.PolyType">PolyType</a>(List<span title="object Nil">(</span>), <a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27218" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>))
            <a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a>(<a href="#307182" title="RefChecks.this.global.TermSymbol">factory</a>)
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="307183">ddef</a> = 
              <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
                <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> {
                  <a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42929" title="(accessor: RefChecks.this.global.gen.global.Symbol,tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a>(<a href="#307182" title="RefChecks.this.global.TermSymbol">factory</a>, <a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>)
                }
              }
            <a href="../ast/Trees.scala.html#45706" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#307095" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#307183" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
          } <span class="keyword">else</span> {
            <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#307095" title="RefChecks.this.global.ClassDef">cdef</a>))
          }
        } <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="307300">vdef</a> = <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42873" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { <a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42927" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>) }
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="307301">ddef</a> = 
            <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
              <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> {
                <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) <a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42931" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDcl</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>)
                <span class="keyword">else</span> <a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42928" title="(accessor: RefChecks.this.global.gen.global.Symbol,mvar: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkCachedModuleAccessDef</a>(<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>, <a href="#307300" title="RefChecks.this.global.analyzer.global.Tree">vdef</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">symbol</a>)
              }
            }

          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#307094" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) <a href="../ast/Trees.scala.html#45706" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#307095" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#307301" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
          <span class="keyword">else</span> <a href="../ast/Trees.scala.html#45706" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#307095" title="RefChecks.this.global.ClassDef">cdef</a>, <a href="#307300" title="RefChecks.this.global.analyzer.global.Tree">vdef</a>, <a href="#307301" title="RefChecks.this.global.analyzer.global.Tree">ddef</a>))
        }

      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="307373">tree1</a> = <a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>); // important to do before forward reference check
        <span class="keyword">val</span> ValDef<a href="#307386" title="RefChecks.this.global.Tree" id="307374">(</a>_, _, _, <a title="RefChecks.this.global.Tree" id="307386">rhs</a>) = <a href="#307373" title="RefChecks.this.global.Tree">tree1</a>
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>, <a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307391">vsym</a> = <a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="Boolean" id="307392">hasUnitType</a> = (<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#26638" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28463" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307393">lazyDefSym</a> = <a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#27205" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#307393" title="(x$1: AnyRef)Boolean">lazyDefSym</a> != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.ChangeOwnerTraverser" id="307394">ownerTransformer</a> = <span title="RefChecks.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26939" title="RefChecks.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#307393" title="RefChecks.this.global.Symbol">lazyDefSym</a>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="307395">lazyDef</a> = <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(
              <a href="../ast/Trees.scala.html#26791" title="(sym: RefChecks.this.global.Symbol,rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a>(<a href="#307393" title="RefChecks.this.global.Symbol">lazyDefSym</a>, <a href="../ast/Trees.scala.html#71113" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">ownerTransformer</a>( 
                <span title="RefChecks.this.global.Tree" class="keyword">if</span> (<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27082" title="(x$1: Boolean)Boolean">isTrait</a> // for traits, this is further tranformed in mixins
                    || <a href="#307392" title="Boolean">hasUnitType</a>) <a href="#307374" title="RefChecks.this.global.Tree">rhs</a> 
                <span class="keyword">else</span> <a href="../ast/Trees.scala.html#49279" title="(stats: List[RefChecks.this.global.Tree],expr: RefChecks.this.global.Tree)RefChecks.this.global.Block">Block</a>(<span title="(xs: RefChecks.this.global.Assign*)List[RefChecks.this.global.Assign]">List</span>(
                       <a href="../ast/Trees.scala.html#73379" title="(lhs: RefChecks.this.global.Tree,rhs: RefChecks.this.global.Tree)RefChecks.this.global.Assign">Assign</a>(<a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>), <a href="#307374" title="RefChecks.this.global.Tree">rhs</a>)),
                       <a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>)))))
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Made lazy def: &quot;</span> + <a href="#307395" title="RefChecks.this.global.DefDef">lazyDef</a>)
          <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> (<a href="#307392" title="Boolean">hasUnitType</a>)
            <a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="#307395" title="RefChecks.this.global.DefDef">lazyDef</a>) <a href="#307567" title="RefChecks.this.global.analyzer.global.Tree">::</a> <span title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">Nil</span>
          <span class="keyword">else</span>
            <a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#26781" title="(sym: RefChecks.this.global.Symbol,rhs: RefChecks.this.global.Tree)RefChecks.this.global.ValDef">ValDef</a>(<a href="#307391" title="RefChecks.this.global.Symbol">vsym</a>, <a href="../ast/Trees.scala.html#26761" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>)) <a href="#307586" title="RefChecks.this.global.analyzer.global.Tree">::</a> <a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="#307395" title="RefChecks.this.global.DefDef">lazyDef</a>) <a href="#307627" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">Nil</span>
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27130" title="(x$1: Boolean)Boolean">isLocal</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#306998" title="(x$1: Int)Boolean" id="2979">index</a> &lt;= <a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304639" title="=&gt; Int">maxindex</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304645" title="=&gt; RefChecks.this.global.Symbol">refsym</a>);
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#303890" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#304642" title="=&gt; scala.tools.nsc.util.Position">refpos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;forward reference extends over definition of &quot;</span> + <a href="#306997" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>);
          }
          <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#307373" title="RefChecks.this.global.Tree">tree1</a>)
        }

      <span title="List[Nothing]" class="keyword">case</span> Import(_, _) =&gt;
        List<span title="object Nil">(</span>)

      <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> _ =&gt;
        <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span>(<a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#306997" title="RefChecks.this.global.Tree">tree</a>))
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="303904">transform</a>(<a title="RefChecks.this.global.Tree" id="307291">tree</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a> = <span class="keyword">try</span> {

      /* Check whether argument types conform to bounds of type parameters */
      <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type])Unit" id="307709">checkBounds</a>(<a title="RefChecks.this.global.Type" id="307723">pre</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="307724">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="307725">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol], <a title="List[RefChecks.this.global.Type]" id="307726">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type]): <span title="Unit">Unit</span> =
        <a href="#307710" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit">checkBoundsWithPos</a>(<a href="#307723" title="RefChecks.this.global.Type">pre</a>, <a href="#307724" title="RefChecks.this.global.Symbol">owner</a>, <a href="#307725" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#307726" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit" id="307710">checkBoundsWithPos</a>(<a title="RefChecks.this.global.Type" id="307727">pre</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="307728">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="307729">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span>[Symbol], <a title="List[RefChecks.this.global.Type]" id="307730">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span>[Type], <a title="scala.tools.nsc.util.Position" id="307731">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <span title="Unit">Unit</span> = <span class="keyword">try</span> {
        <a href="../Global.scala.html#39391" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#42783" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#49024" title="(pos: scala.tools.nsc.util.Position,pre: RefChecks.this.global.analyzer.global.Type,owner: RefChecks.this.global.analyzer.global.Symbol,tparams: List[RefChecks.this.global.analyzer.global.Symbol],targs: List[RefChecks.this.global.analyzer.global.Type],prefix: String)Unit">checkBounds</a>(<a href="#307731" title="scala.tools.nsc.util.Position">pos</a>, <a href="#307727" title="RefChecks.this.global.Type">pre</a>, <a href="#307728" title="RefChecks.this.global.Symbol">owner</a>, <a href="#307729" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#307730" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>);
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.TypeError" id="307742">ex</a>: <a href="../symtab/Types.scala.html#26618" title="RefChecks.this.global.TypeError">TypeError</a> =&gt; 
          <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#307731" title="scala.tools.nsc.util.Position">pos</a>, <a href="#307742" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span>());
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37241" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="307749">bounds</a> = <a href="#307729" title="(f: (RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds],List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.TypeBounds]">tparams</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds],List#Coll]">map</span> (<a title="RefChecks.this.global.Symbol" id="307758">tp</a> =&gt; <a href="#307758" title="RefChecks.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[RefChecks.this.global.Symbol],actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a>(<a href="#307729" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#307730" title="List[RefChecks.this.global.Type]">argtps</a>).<a href="../symtab/Types.scala.html#30374" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>)
            <span title="object List">List</span>.<span title="(xs: List[RefChecks.this.global.Type],ys: List[RefChecks.this.global.TypeBounds])(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#307730" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#307749" title="List[RefChecks.this.global.TypeBounds]">bounds</a>)((<a title="RefChecks.this.global.Type" id="307860">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="307861">bound</a>) =&gt; <a href="../symtab/Types.scala.html#26628" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#307861" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#307860" title="RefChecks.this.global.Type">targ</a>))
            <span title="object List">List</span>.<span title="(xs: List[RefChecks.this.global.Type],ys: List[RefChecks.this.global.TypeBounds])(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#307730" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#307749" title="List[RefChecks.this.global.TypeBounds]">bounds</a>)((<a title="RefChecks.this.global.Type" id="307891">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="307892">bound</a>) =&gt; <a href="../symtab/Types.scala.html#26628" title="(found: RefChecks.this.global.Type,required: RefChecks.this.global.Type)Unit">explainTypes</a>(<a href="#307891" title="RefChecks.this.global.Type">targ</a>, <a href="#307892" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; RefChecks.this.global.Type">hi</a>))
            <span title="Unit">(</span>)
          }
      }

      <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean" id="307711">isIrrefutable</a>(<a title="RefChecks.this.global.Tree" id="307908">pat</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="307909">seltpe</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
        <span class="keyword">val</span> <a title="Boolean" id="307910">result</a> = <a href="#307908" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> Apply(_, <a title="List[RefChecks.this.global.Tree]" id="307913">args</a>) =&gt;
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307916">clazz</a> = <a href="#307908" title="RefChecks.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
            <a href="#307916" title="(x$1: AnyRef)Boolean">clazz</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#307909" title="RefChecks.this.global.Type">seltpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
            <a href="#307916" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(2048L)">CASE</span>) &amp;&amp;
            <span title="object List">List</span>.<a title="(xs: List[RefChecks.this.global.Tree],ys: List[RefChecks.this.global.Type])(f: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean" id="24550">forall2</a>(
              <a href="#307913" title="List[RefChecks.this.global.Tree]">args</a>,
              <a href="#307916" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27192" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30407" title="(pre: RefChecks.this.global.Type,clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a>(<a href="#307909" title="RefChecks.this.global.Type">seltpe</a>, <a href="#307916" title="RefChecks.this.global.Symbol">clazz</a>).<a href="../symtab/Types.scala.html#30386" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>)(<a href="#307711" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>)
          <span title="Boolean" class="keyword">case</span> Typed(<a title="RefChecks.this.global.Tree" id="307956">pat</a>, <a title="RefChecks.this.global.Tree" id="307957">tpt</a>) =&gt; 
            <a href="../symtab/Types.scala.html#30421" title="(that: RefChecks.this.global.Type)Boolean">seltpe</a> &lt;:&lt; <a href="#307957" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>
          <span title="Boolean(true)" class="keyword">case</span> Ident(<a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; RefChecks.this.global.Name">WILDCARD</a>) =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean" class="keyword">case</span> Bind(_, <a title="RefChecks.this.global.Tree" id="307972">pat</a>) =&gt;
            <a href="#307711" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>(<a href="#307972" title="RefChecks.this.global.Tree">pat</a>, <a href="#307909" title="RefChecks.this.global.Type">seltpe</a>)
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        }
        //Console.println(&quot;is irefutable? &quot; + pat + &quot;:&quot; + pat.tpe + &quot; against &quot; + seltpe + &quot;: &quot; + result);//DEBUG
        <a href="#307910" title="Boolean">result</a>
      }

      /** If symbol is deprecated and is not contained in a deprecated definition,
       *  issue a deprecated warning
       */
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit" id="307712">checkDeprecated</a>(<a title="RefChecks.this.global.Symbol" id="307977">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="scala.tools.nsc.util.Position" id="307978">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="#307977" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27106" title="(x$1: Boolean)Boolean">isDeprecated</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45699" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27144" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(<a href="#307989" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27106" title="=&gt; Boolean">isDeprecated</a>)) {
          <span class="keyword">val</span> <a title="Option[String]" id="307994">dmsg</a> = <a href="#307977" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27107" title="=&gt; Option[String]">deprecationMessage</a>
          <span class="keyword">val</span> <a title="java.lang.String" id="307995">msg</a> = <a href="#307977" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27250" title="(x$1: Any)java.lang.String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#307977" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is deprecated&quot;)" class="string">&quot; is deprecated&quot;</span>+
                    (<span title="Any" class="keyword">if</span> (<a href="#307994" title="Option[String]">dmsg</a>.<a title="=&gt; Boolean" id="35231">isDefined</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;: &quot;</span>+ <a href="#307994" title="Option[String]">dmsg</a>.<a title="=&gt; String" id="35232">get</a>
                     <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
          <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45689" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(<a href="#307978" title="scala.tools.nsc.util.Position">pos</a>, <a href="#307995" title="java.lang.String">msg</a>)
        }
      }

      /** Check that a deprecated val or def does not override a
        * concrete, non-deprecated method.  If it does, then
        * deprecation is meaningless.
        */
      <span class="keyword">def</span> <a title="()Unit" id="307713">checkDeprecatedOvers</a>() {
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="308018">symbol</a> = <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#308018" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27106" title="=&gt; Boolean">isDeprecated</a>) {
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="308019">concrOvers</a> =
            <a href="#308018" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27223" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: (RefChecks.this.global.Symbol) =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span>(<a title="RefChecks.this.global.Symbol" id="308022">sym</a> =&gt;
              <span title="(x$1: Boolean)Boolean">!</span><a href="#308022" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27106" title="=&gt; Boolean">isDeprecated</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308022" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>)
          <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#308019" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span>)
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45689" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(
              <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
              <a href="#308018" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27250" title="(x$1: Any)java.lang.String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> +
              <a href="#308019" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: (RefChecks.this.global.Symbol) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[RefChecks.this.global.Symbol]])List[String]">map</span><span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">(</span><a href="#308039" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>).<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
        }
      }

      <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="307714">isRepeatedParamArg</a>(<a title="RefChecks.this.global.Tree" id="308135">tree</a>: <a href="../ast/Trees.scala.html#26752" title="RefChecks.this.global.Tree">Tree</a>) = <a href="#303869" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> Apply(<a title="RefChecks.this.global.Tree" id="308138">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="308139">args</a>) =&gt;
          <span title="(x$1: Boolean)Boolean">!</span><a href="#308139" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="#308139" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: AnyRef)Boolean">last</span> eq <a href="#308135" title="RefChecks.this.global.Tree">tree</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#308138" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#308139" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> &amp;&amp;
          <a href="#308138" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; RefChecks.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      }

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="307715">isCaseApply</a>(<a title="RefChecks.this.global.Symbol" id="308166">sym</a> : <a href="../symtab/Symbols.scala.html#26286" title="RefChecks.this.global.Symbol">Symbol</a>) = <a href="#308166" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27070" title="(x$1: Boolean)Boolean">isSourceMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#308166" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2048L)">CASE</span>) &amp;&amp; <a href="#308166" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; RefChecks.this.global.Name">apply</a>
      
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit" id="307716">checkTypeRef</a>(<a title="RefChecks.this.global.Type" id="308180">tp</a>: <a href="../symtab/Types.scala.html#26364" title="RefChecks.this.global.Type">Type</a>, <a title="scala.tools.nsc.util.Position" id="308181">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>) = <a href="#308180" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> TypeRef(<a title="RefChecks.this.global.Type" id="308185">pre</a>, <a title="RefChecks.this.global.Symbol" id="308186">sym</a>, <a title="List[RefChecks.this.global.Type]" id="308187">args</a>) =&gt;
          <a href="#307712" title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit">checkDeprecated</a>(<a href="#308186" title="RefChecks.this.global.Symbol">sym</a>, <a href="#308181" title="scala.tools.nsc.util.Position">pos</a>)
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#308180" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30360" title="=&gt; Boolean">isHigherKinded</a>)
            <a href="#307710" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type],pos: scala.tools.nsc.util.Position)Unit">checkBoundsWithPos</a>(<a href="#308185" title="RefChecks.this.global.Type">pre</a>, <a href="#308186" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#308186" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#308187" title="List[RefChecks.this.global.Type]">args</a>, <a href="#308181" title="scala.tools.nsc.util.Position">pos</a>)
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <span class="keyword">def</span> <a title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit" id="307717">checkAnnotations</a>(<a title="List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]" id="308194">tpes</a>: <span title="List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">List</span>[(Type, Position)]) {
        <span class="keyword">for</span> ((<a title="RefChecks.this.global.Type" id="308230">tp</a>, <a title="scala.tools.nsc.util.Position" id="308231">pos</a>) &lt;- <a href="#308194" title="(f: ((RefChecks.this.global.Type, scala.tools.nsc.util.Position)) =&gt; Unit)Unit">tpes</a>) <a href="#307716" title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit">checkTypeRef</a>(<a href="#308230" title="RefChecks.this.global.Type">tp</a>, <a href="#308231" title="scala.tools.nsc.util.Position">pos</a>)
      }

      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="307718">savedLocalTyper</a> = <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="307719">savedCurrentApplication</a> = <a href="#303869" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="307720">sym</a> = <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="307721">result</a> = <a href="#307291" title="RefChecks.this.global.Tree">tree</a>
      
      <span class="keyword">def</span> <a title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit" id="307722">doTypeTraversal</a>(<a title="(RefChecks.this.global.Type) =&gt; Unit" id="308239">f</a>: (Type) =&gt; Unit) =
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#303872" title="=&gt; Boolean">inPattern</a>) {
          <span class="keyword">for</span> (<a title="RefChecks.this.global.Type" id="308242">tp</a> &lt;- <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../symtab/Types.scala.html#30416" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">tpe</a>) <a href="#308239" title="(v1: RefChecks.this.global.Type)Unit">f</a>(<a href="#308242" title="RefChecks.this.global.Type">tp</a>)
        }

      // Apply RefChecks to annotations. Makes sure the annotations conform to
      // type bounds (bug #935), issues deprecation warnings for symbols used
      // inside annotations.
      <a href="#307291" title="RefChecks.this.global.Tree">tree</a> <span title="Any" class="keyword">match</span> {
        <span title="List[RefChecks.this.global.Tree]" class="keyword">case</span> <a title="RefChecks.this.global.MemberDef" id="308248">m</a>: <a href="../ast/Trees.scala.html#26763" title="RefChecks.this.global.MemberDef">MemberDef</a> =&gt;
          <a href="#307717" title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit">checkAnnotations</a>(<a href="#308248" title="RefChecks.this.global.MemberDef">m</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List[RefChecks.this.global.AnnotationInfo]])List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">map</span><span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List#Coll]">(</span><a title="RefChecks.this.global.AnnotationInfo" id="308257">a</a> =&gt; <span title="(_1: RefChecks.this.global.Type,_2: scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)">(</span><a href="#308257" title="RefChecks.this.global.AnnotationInfo">a</a>.<a href="../symtab/AnnotationInfos.scala.html#44970" title="=&gt; RefChecks.this.global.Type">atp</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)))
          <a href="../ast/Trees.scala.html#45706" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a>(<a href="#308248" title="RefChecks.this.global.MemberDef">m</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.AnnotationInfo]])List[RefChecks.this.global.Tree]">flatMap</span><span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">(</span><a href="#308308" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44972" title="=&gt; List[RefChecks.this.global.Tree]">args</a>))
        <span title="Unit" class="keyword">case</span> TypeTree() =&gt; <a href="#307722" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">doTypeTraversal</a> <a href="#308344" title="Unit">{</a>
          <span title="Unit" class="keyword">case</span> AnnotatedType(<a title="List[RefChecks.this.global.AnnotationInfo]" id="308348">annots</a>, _, _) =&gt;
            <a href="#307717" title="(tpes: List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit">checkAnnotations</a>(<a href="#308348" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))(implicit bf: scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List[RefChecks.this.global.AnnotationInfo]])List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]">map</span><span title="scala.collection.generic.BuilderFactory[(RefChecks.this.global.Type, scala.tools.nsc.util.Position),List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)],List#Coll]">(</span><a title="RefChecks.this.global.AnnotationInfo" id="308359">a</a> =&gt; <span title="(_1: RefChecks.this.global.Type,_2: scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)">(</span><a href="#308359" title="RefChecks.this.global.AnnotationInfo">a</a>.<a href="../symtab/AnnotationInfos.scala.html#44970" title="=&gt; RefChecks.this.global.Type">atp</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)))
            <a href="../ast/Trees.scala.html#45706" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span title="Unit">(</span><a href="#308348" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(f: (RefChecks.this.global.AnnotationInfo) =&gt; Traversable[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List[RefChecks.this.global.AnnotationInfo]])List[RefChecks.this.global.Tree]">flatMap</span><span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Tree,List[RefChecks.this.global.Tree],List#Coll]">(</span><a href="#308389" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#44972" title="=&gt; List[RefChecks.this.global.Tree]">args</a>))
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }

      <a href="#307291" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> DefDef(<a title="RefChecks.this.global.Modifiers" id="308418">mods</a>, <a title="RefChecks.this.global.Name" id="308419">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="308420">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="308421">vparams</a>, <a title="RefChecks.this.global.Tree" id="308422">tpt</a>, <a href="../ast/Trees.scala.html#26761" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>) <span class="keyword">if</span> <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27016" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a>(<a href="../symtab/Definitions.scala.html#26638" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28756" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a>) =&gt;
          <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a>(<span title="Long(16L)">DEFERRED</span>)
          <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="../ast/Trees.scala.html#45697" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: RefChecks.this.global.Tree,mods: RefChecks.this.global.Modifiers,name: RefChecks.this.global.Name,tparams: List[RefChecks.this.global.TypeDef],vparamss: List[List[RefChecks.this.global.ValDef]],tpt: RefChecks.this.global.Tree,rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>, <a href="#308418" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#308419" title="RefChecks.this.global.Name">name</a>, <a href="#308420" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#308421" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#308422" title="RefChecks.this.global.Tree">tpt</a>, 
                <a href="Typers.scala.html#42872" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#49378" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#26638" title="object RefChecks.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28528" title="=&gt; RefChecks.this.global.Symbol">Predef_error</a>), <span title="(xs: RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]">List</span>(<a href="../ast/Trees.scala.html#26899" title="(value: Any)RefChecks.this.global.Literal">Literal</a>(<span title="java.lang.String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span>))))))

        <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
          <a href="#307713" title="()Unit">checkDeprecatedOvers</a>()

        <span title="Unit" class="keyword">case</span> ValDef(_, _, _, _) =&gt;
          <a href="#307713" title="()Unit">checkDeprecatedOvers</a>()

        <span title="Unit" class="keyword">case</span> Template(_, _, _) =&gt;
          <a href="#303866" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42871" title="(tree: RefChecks.this.global.analyzer.global.Tree,owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#45699" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
          <a href="#303875" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
          <a href="#303874" title="(clazz: RefChecks.this.global.Symbol)Unit">checkAllOverrides</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>)
        
        <span title="Unit" class="keyword">case</span> TypeTree() =&gt; 
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="308572">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span>[Symbol]
          <a href="#307722" title="(f: (RefChecks.this.global.Type) =&gt; Unit)Unit">doTypeTraversal</a> <a href="#308576" title="Unit">{</a> // check all bounds, except those that are
                            // existential type parameters
            <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[RefChecks.this.global.Symbol]" id="308579">tparams</a>, <a title="RefChecks.this.global.Type" id="308580">tpe</a>) =&gt; 
              <a href="#308572" title="(iter: Traversable[RefChecks.this.global.Symbol])existentialParams.type" id="39739">existentialParams</a> <span title="Unit">++=</span> <a href="#308579" title="List[RefChecks.this.global.Symbol]">tparams</a>
            <span title="Unit" class="keyword">case</span> <a title="RefChecks.this.global.TypeRef" id="308605">t</a>: <a href="../symtab/Types.scala.html#26413" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt; 
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="308606">exparams</a> = <a href="#308572" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span>
              <span class="keyword">val</span> <a title="List[object RefChecks.this.global.WildcardType]" id="308607">wildcards</a> = <a href="#308606" title="(f: (RefChecks.this.global.Symbol) =&gt; object RefChecks.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object RefChecks.this.global.WildcardType,List[object RefChecks.this.global.WildcardType],List[RefChecks.this.global.Symbol]])List[object RefChecks.this.global.WildcardType]">exparams</a> <span title="scala.collection.generic.BuilderFactory[object RefChecks.this.global.WildcardType,List[object RefChecks.this.global.WildcardType],List#Coll]">map</span> (<a title="RefChecks.this.global.Symbol" id="308616">_</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object RefChecks.this.global.WildcardType">WildcardType</a>)
              <a href="#307716" title="(tp: RefChecks.this.global.Type,pos: scala.tools.nsc.util.Position)Unit">checkTypeRef</a>(<a href="#308605" title="RefChecks.this.global.TypeRef">t</a>.<a href="../symtab/Types.scala.html#30410" title="(from: List[RefChecks.this.global.Symbol],to: List[RefChecks.this.global.Type])RefChecks.this.global.Type">subst</a>(<a href="#308606" title="List[RefChecks.this.global.Symbol]">exparams</a>, <a href="#308607" title="List[object RefChecks.this.global.WildcardType]">wildcards</a>), <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
            <span title="Unit" class="keyword">case</span> _ =&gt; 
          }

        <span title="Unit" class="keyword">case</span> TypeApply(<a title="RefChecks.this.global.Tree" id="308707">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="308708">args</a>) =&gt;
          <a href="#307709" title="(pre: RefChecks.this.global.Type,owner: RefChecks.this.global.Symbol,tparams: List[RefChecks.this.global.Symbol],argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a>(<a href="../symtab/Types.scala.html#26385" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#308707" title="RefChecks.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30387" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#308708" title="(f: (RefChecks.this.global.Tree) =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[RefChecks.this.global.Type,List[RefChecks.this.global.Type],List#Coll]">map</span> (<a href="#308719" title="RefChecks.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)) 
          <span title="Unit" class="keyword">if</span> (<a href="#307715" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#307720" title="RefChecks.this.global.Symbol">sym</a>)) <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#303901" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)

        <span title="Unit" class="keyword">case</span> Apply(
          Select(<a title="RefChecks.this.global.Tree" id="308756">qual</a>, <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30066" title="=&gt; RefChecks.this.global.Name">filter</a>), 
          <a href="#308765" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a>(Function(
            <a href="#308777" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a>(ValDef(_, <a title="RefChecks.this.global.Name" id="308792">pname</a>, <a title="RefChecks.this.global.Tree" id="308793">tpt</a>, _)), 
            Match(_, CaseDef(<a title="RefChecks.this.global.Tree" id="308808">pat1</a>, _, _) :: _))))
          <span class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Names.scala.html#28403" title="(prefix: RefChecks.this.global.Name)Boolean">pname</a> startsWith <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)RefChecks.this.global.Name">CHECK_IF_REFUTABLE_STRING</a>) &amp;&amp; 
              <a href="#307711" title="(pat: RefChecks.this.global.Tree,seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a>(<a href="#308808" title="RefChecks.this.global.Tree">pat1</a>, <a href="#308793" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)) =&gt;
            <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#308756" title="RefChecks.this.global.Tree">qual</a>

        <span title="Unit" class="keyword">case</span> Apply(Select(New(<a title="RefChecks.this.global.Tree" id="308847">tpt</a>), <a title="RefChecks.this.global.Name" id="308850">name</a>), <a title="List[RefChecks.this.global.Tree]" id="308853">args</a>) 
        <span class="keyword">if</span> (<a href="#308847" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28579" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> &amp;&amp; <a href="#308853" title="List[RefChecks.this.global.Tree]">args</a>.<span title="(x$1: Int)Boolean">length</span> &gt;= <span title="Int(2)" class="int">2</span>) =&gt;
          <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45689" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">deprecationWarning</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
            <span title="java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span>)
          <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="308871">manif</a> = {
            <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="308874">etpe</a> = <a href="#308847" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>
            <span class="keyword">for</span> (<a title="RefChecks.this.global.Tree" id="308891">_</a> &lt;- <a href="#308853" title="(f: (RefChecks.this.global.Tree) =&gt; Unit)Unit">args</a>) { <a href="#308874" title="RefChecks.this.global.Type">etpe</a> = <a href="#308874" title="RefChecks.this.global.Type">etpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<a title="=&gt; Option[RefChecks.this.global.Type]" id="25476">headOption</a>.<a title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type" id="35236">getOrElse</a>(<a href="../symtab/Types.scala.html#26383" title="object RefChecks.this.global.NoType">NoType</a>) }
            <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#308874" title="(x$1: AnyRef)Boolean">etpe</a> == <a href="../symtab/Types.scala.html#26383" title="object RefChecks.this.global.NoType">NoType</a>) {
              <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span>)
              <a href="../ast/Trees.scala.html#49595" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a>(<a href="../symtab/Constants.scala.html#49805" title="(value: Any)RefChecks.this.global.Constant">Constant</a>(<span title="Null(null)" class="keyword">null</span>))
            } <span class="keyword">else</span> {
              <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42889" title="(pos: scala.tools.nsc.util.Position,tp: RefChecks.this.global.analyzer.global.Type,full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#308874" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span>)
            }
          }
          <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#303866" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#42873" title="(pos: scala.tools.nsc.util.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49378" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#49378" title="(fun: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: RefChecks.this.global.Tree,name: RefChecks.this.global.Name)RefChecks.this.global.Select">Select</a>(<a href="../Global.scala.html#39263" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28583" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a>), <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30126" title="=&gt; RefChecks.this.global.Name">ofDim</a>), <a href="#308853" title="List[RefChecks.this.global.Tree]">args</a>), <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span>(<a href="#308871" title="RefChecks.this.global.analyzer.global.Tree">manif</a>))
          }
          <a href="#303869" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#307291" title="RefChecks.this.global.Tree">tree</a>

        <span title="Unit" class="keyword">case</span> Apply(<a title="RefChecks.this.global.Tree" id="309067">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="309068">args</a>) =&gt;
          <a href="#303900" title="(pos: scala.tools.nsc.util.Position,fn: RefChecks.this.global.Tree,args: List[RefChecks.this.global.Tree])Unit">checkSensible</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#309067" title="RefChecks.this.global.Tree">fn</a>, <a href="#309068" title="List[RefChecks.this.global.Tree]">args</a>)
          <a href="#303869" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#307291" title="RefChecks.this.global.Tree">tree</a>

        <span title="Unit" class="keyword">case</span> If(<a title="RefChecks.this.global.Tree" id="309078">cond</a>, <a title="RefChecks.this.global.Tree" id="309079">thenpart</a>, <a title="RefChecks.this.global.Tree" id="309080">elsepart</a>) =&gt;
          <a href="#309078" title="RefChecks.this.global.Tree">cond</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> ConstantType(<a title="RefChecks.this.global.Constant" id="309084">value</a>) =&gt; 
              <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> (<a href="#309084" title="RefChecks.this.global.Constant">value</a>.<a href="../symtab/Constants.scala.html#43045" title="=&gt; Boolean">booleanValue</a>) <a href="#309079" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#309080" title="RefChecks.this.global.Tree">elsepart</a>;
              <span title="Unit" class="keyword">if</span> (<a href="#307721" title="(x$1: AnyRef)Boolean">result</a> == <a href="../ast/Trees.scala.html#26761" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>) <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="../ast/Trees.scala.html#26899" title="(value: Any)RefChecks.this.global.Literal">Literal</a>(<span title="Unit">(</span>)).<a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</a>(<a href="../symtab/Definitions.scala.html#28463" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; RefChecks.this.global.Type">tpe</a>)
            <span title="Unit" class="keyword">case</span> _ =&gt; 
          }

        <span title="Unit" class="keyword">case</span> New(<a title="RefChecks.this.global.Tree" id="309119">tpt</a>) =&gt;
          <a href="#303897" title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit">enterReference</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#309119" title="RefChecks.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>)

        <span title="Unit" class="keyword">case</span> Typed(<a title="RefChecks.this.global.Tree" id="309126">expr</a>, <a title="RefChecks.this.global.Ident" id="309127">tpt</a> @ Ident(<a title="RefChecks.this.global.Name" id="309131">name</a>)) <span class="keyword">if</span> (<a href="#309131" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29877" title="=&gt; RefChecks.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; RefChecks.this.global.Name">toTypeName</a>) =&gt;
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#307714" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>))
            <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="java.lang.String(&quot;no `: _*' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span>)

        <span title="Unit" class="keyword">case</span> Ident(<a title="RefChecks.this.global.Name" id="309151">name</a>) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#307715" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#307720" title="RefChecks.this.global.Symbol">sym</a>))
            <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#303901" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#309151" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; RefChecks.this.global.Name">WILDCARD</a> &amp;&amp; <a href="#309151" title="(x$1: AnyRef)Boolean">name</a> != <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29877" title="=&gt; RefChecks.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; RefChecks.this.global.Name">toTypeName</a>) {
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#307720" title="(x$1: AnyRef)Boolean">sym</a> != <a href="../symtab/Symbols.scala.html#26293" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>)//debug
            <a href="#303897" title="(pos: scala.tools.nsc.util.Position,sym: RefChecks.this.global.Symbol)Unit">enterReference</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>)
          }

        <span title="Unit" class="keyword">case</span> Select(<a title="RefChecks.this.global.Tree" id="309192">qual</a>, <a title="RefChecks.this.global.Name" id="309193">name</a>) =&gt;
          <a href="#307712" title="(sym: RefChecks.this.global.Symbol,pos: scala.tools.nsc.util.Position)Unit">checkDeprecated</a>(<a href="#307720" title="RefChecks.this.global.Symbol">sym</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
          <span title="Any" class="keyword">if</span> (<a href="../ast/Trees.scala.html#45703" title="(x$1: AnyRef)Boolean">currentClass</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a> &amp;&amp; (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(524288L)">LOCAL</span>)) {
            <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="309212">o</a> = <a href="../ast/Trees.scala.html#45703" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
            <span class="keyword">var</span> <a title="Boolean" id="309213">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#309213" title="Boolean">hidden</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#309212" title="(x$1: AnyRef)Boolean">o</a> != <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#309212" title="(x$1: AnyRef)Boolean">o</a> != <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27218" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309212" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#27078" title="=&gt; Boolean">isPackage</a>) <a href="#309214" title="()Unit">{</a>
              <a href="#309213" title="Boolean">hidden</a> = <a href="#309212" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#27054" title="(x$1: Boolean)Boolean">isTerm</a> || <a href="#309212" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#27116" title="=&gt; Boolean">isPrivateLocal</a>
              <a href="#309212" title="RefChecks.this.global.Symbol">o</a> = <a href="#309212" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>
            }
            <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#309213" title="Boolean">hidden</a>) <a href="#303884" title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type" id="39520">escapedPrivateLocals</a> += <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>
          }
          <span title="Unit" class="keyword">if</span> (<a href="#307715" title="(sym: RefChecks.this.global.Symbol)Boolean">isCaseApply</a>(<a href="#307720" title="RefChecks.this.global.Symbol">sym</a>))
            <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#303901" title="(pos: scala.tools.nsc.util.Position,tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; RefChecks.this.global.Type">tpe</a>)
          <span class="keyword">else</span> <a href="#309192" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> Super(<a title="RefChecks.this.global.Name" id="309284">qualifier</a>, <a title="RefChecks.this.global.Name" id="309285">mix</a>) =&gt;
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="309288">base</a> = <a href="#309192" title="RefChecks.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>;
              //Console.println(&quot;super: &quot; + tree + &quot; in &quot; + base);//DEBUG
              <a title="(assertion: Boolean)Unit" id="7943">assert</a>(<span title="=&gt; Boolean">!</span>(<a href="#309288" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27082" title="(x$1: Boolean)Boolean">isTrait</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#307720" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a> &amp;&amp; <a href="#309285" title="(x$1: AnyRef)Boolean">mix</a> == <a href="../symtab/StdNames.scala.html#26690" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29871" title="=&gt; RefChecks.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; RefChecks.this.global.Name">toTypeName</a>)) // term should have been eliminated by super accessors
            <span title="Unit" class="keyword">case</span> _ =&gt;
          }
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <a href="#307721" title="RefChecks.this.global.Tree">result</a> = <a href="#307721" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> {
        <span title="RefChecks.this.global.CaseDef" class="keyword">case</span> CaseDef(<a title="RefChecks.this.global.Tree" id="309308">pat</a>, <a title="RefChecks.this.global.Tree" id="309309">guard</a>, <a title="RefChecks.this.global.Tree" id="309310">body</a>) =&gt;
          <a href="#303872" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="309313">pat1</a> = <a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#309308" title="RefChecks.this.global.Tree">pat</a>)
          <a href="#303872" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../ast/Trees.scala.html#45697" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48805" title="(tree: RefChecks.this.global.Tree,pat: RefChecks.this.global.Tree,guard: RefChecks.this.global.Tree,body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>, <a href="#309313" title="RefChecks.this.global.Tree">pat1</a>, <a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#309309" title="RefChecks.this.global.Tree">guard</a>), <a href="#303904" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#309310" title="RefChecks.this.global.Tree">body</a>))
        <span title="RefChecks.this.global.Tree" class="keyword">case</span> _ =&gt;
          <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a>(<a href="#307721" title="RefChecks.this.global.Tree">result</a>)
      }
      <a href="#307721" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) 
           | TypeDef(_, _, _, _) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#307721" title="RefChecks.this.global.Tree">result</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27130" title="(x$1: Boolean)Boolean">isLocal</a> || <a href="#307721" title="RefChecks.this.global.Tree">result</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>) 
            <a href="#303886" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../ast/Trees.scala.html#71109" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a>(<a href="#307721" title="RefChecks.this.global.Tree">result</a>)
        <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      <a href="#303866" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#307718" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
      <a href="#303869" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#307719" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <a href="#307721" title="RefChecks.this.global.Tree">result</a>
    } <span class="keyword">catch</span> {
      <span title="RefChecks.this.global.Tree" class="keyword">case</span> <a title="RefChecks.this.global.TypeError" id="309362">ex</a>: <a href="../symtab/Types.scala.html#26618" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#309362" title="RefChecks.this.global.TypeError">ex</a>.<a title="()Unit" id="26091">printStackTrace</a>();
        <a href="#303905" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#307291" title="RefChecks.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#309362" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span>())
        <a href="#307291" title="RefChecks.this.global.Tree">tree</a>
    }
  }
}

        </pre>
    </body>
</html>