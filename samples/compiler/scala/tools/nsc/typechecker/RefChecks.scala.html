<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */</span>
<span class="comment">// $Id: RefChecks.scala 17418 2009-03-31 18:35:16Z odersky $</span>

<span class="keyword">package</span> scala.tools.nsc.typechecker

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> collection.mutable.{HashSet, HashMap}
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="comment">/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject</span><a id="14273">RefChecks</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.transform.InfoTransform</span><a href="../transform/InfoTransform.scala.html#12961">InfoTransform</a></span> {

  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator, atOwner}
  <span class="keyword">import</span> posAssigner.atPos    

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <span class="typed"><span class="type">String</span><span id="82563"><a id="82562">phaseName</a></span></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;refchecks&quot;)</span><span class="string">&quot;refchecks&quot;</span></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Long</span><a id="82564">phaseNewFlags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20568">lateMETHOD</a></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer</span><a id="82565">newTransformer</a></span>(<span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a id="132130">unit</a></span>: <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>): <span class="typed"><span class="type">RefChecks.this.RefCheckTransformer</span><a href="#82568">RefCheckTransformer</a></span> =
    <span class="typed"><span class="type">RefChecks.this.RefCheckTransformer</span><span class="keyword">new</span></span> <span class="typed"><span class="type">RefChecks.this.RefCheckTransformer</span><a href="#82568">RefCheckTransformer</a></span>(<span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132130">unit</a></span>)
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="82566">changesBaseClasses</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Type)RefChecks.this.global.Type</span><a id="82567">transformInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132177">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132178">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> =
    <span class="typed"><span class="type">RefChecks.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132177">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132177">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25194">isStatic</a></span>) {
      <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132177">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> (<span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20568">lateMETHOD</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> <span class="typed"><span class="type">Int(4194304)</span><span >STABLE</span></span>)
      <span class="typed"><span class="type">(List[RefChecks.this.global.Symbol],RefChecks.this.global.Type)RefChecks.this.global.PolyType</span><a href="../symtab/Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132178">tp</a></span>)
    } <span class="keyword">else</span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132178">tp</a></span>

  <span class="keyword">class</span> <span class="typed"><span class="type">class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject</span><a id="82568">RefCheckTransformer</a></span>(<span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><span id="132132"><a id="132174">unit</a></span></span>: <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">RefChecks.this.global.Transformer</span><a href="../ast/Trees.scala.html#22548">Transformer</a></span> { 

    <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.Typer</span><span id="132136"><span id="132134"><span id="132135"><a id="132183">localTyper</a></span></span></span></span>: analyzer.<span class="typed"><span class="type">RefChecks.this.global.analyzer.Typer</span><a href="Typers.scala.html#28453">Typer</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.typer</span><a href="../Global.scala.html#21291">typer</a></span>;
    <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span id="132139"><span id="132137"><span id="132138"><a id="132184">currentApplication</a></span></span></span></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="132142"><span id="132140"><span id="132141"><a id="132185">inPattern</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

<span class="comment">// Override checking ------------------------------------------------------------</span>

    <span class="comment">/** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O. 
     *    1.7. If O is an abstract type then 
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then 
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a id="132143">checkAllOverrides</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132321">clazz</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {

      <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class MixinOverrideError extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="132368"><span id="132350"><span id="132366"><span id="132355"><span id="132351"><span id="132349"><span id="132356"><span id="132354"><span id="132367"><span id="3509"><span id="132361"><span id="29737"><span id="29814"><span id="132362"><span id="3500"><span id="29815"><span id="23625"><span id="132322"><span id="132352"><span id="2750"><span id="29856"><span id="1379"><span id="308"><span id="3501"><span id="132323"><span id="132365"><a id="5794">MixinOverrideError</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><span id="132340"><span id="132339"><span id="132347"><a id="132528">member</a></span></span></span></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">String</span><span id="132342"><span id="132341"><span id="132348"><a id="132529">msg</a></span></span></span></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>)

      <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[MixinOverrideError]</span><a id="132325">mixinOverrideErrors</a></span> = <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[MixinOverrideError]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[MixinOverrideError]</span><a id="19925">ListBuffer</a></span>[MixinOverrideError]()

      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132326">printMixinOverrideErrors</a></span>() {
        <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[MixinOverrideError]</span><a href="#132325">mixinOverrideErrors</a></span>.<span class="typed"><span class="type">=&gt; List[MixinOverrideError]</span><a id="33309">toList</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[MixinOverrideError])Some[List[MixinOverrideError]]</span><span id="21410"><a href="#132371" id="527">List</a></span></span>() =&gt; 
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[MixinOverrideError])Some[List[MixinOverrideError]]</span><span id="21410"><a href="#132374" id="527">List</a></span></span>(<a id="1">MixinOverrideError</a>(_, <span class="typed"><span class="type">String</span><a id="132377">msg</a></span>)) =&gt;
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#132377">msg</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">MixinOverrideError</a>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132378">member</a></span>, <span class="typed"><span class="type">String</span><a id="132379">msg</a></span>) <a id="1">::</a> <span class="typed"><span class="type">List[MixinOverrideError]</span><a id="132380">others</a></span> =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="132381">others1</a></span> = <span class="typed"><span class="type">List[MixinOverrideError]</span><a href="#132380">others</a></span>.<span class="typed"><span class="type">((MixinOverrideError) =&gt; String)List[String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">MixinOverrideError</span><a href="#132384">_</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="#132339">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Names.scala.html#23918">decode</a></span>).<span class="typed"><span class="type">((String) =&gt; Boolean)List[String]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132378">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Names.scala.html#23918">decode</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">String</span><a href="#132387">_</a></span>).<span class="typed"><span class="type">=&gt; List[String]</span><a id="21405">removeDuplicates</a></span>
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(
              <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, 
              <span class="typed"><span class="type">String</span><a href="#132379">msg</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>(<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[String]</span><a href="#132381">others1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> 
                   <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;;\012 other members with override errors are: &quot;)</span><span class="string">&quot;;\n other members with override errors are: &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#132381">others1</a></span> <span class="typed"><span class="type">(String)String</span><a id="21819">mkString</a></span> <span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>)))
        }
      }

      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132327">self</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>
 
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a id="132328">isAbstractTypeWithoutFBound</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132391">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="comment">// (part of DEVIRTUALIZE) </span>
        <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132391">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25132">isAbstractType</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132329">isFBounded</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132391">sym</a></span>)

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a id="132329">isFBounded</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132392">tsym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
        <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132392">tsym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.BaseTypeSeq</span><a href="../symtab/Types.scala.html#25706">baseTypeSeq</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Boolean)Boolean</span><a href="../symtab/BaseTypeSeqs.scala.html#63223">exists</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132394">_</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Types.scala.html#25699">contains</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132392">tsym</a></span>)

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a id="132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132395">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">(RefChecks.this.global.Symbol,Boolean)java.lang.String</span><a href="#132332">infoString0</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132395">sym</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132395">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>)
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a id="132331">infoStringWithLocation</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132401">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">(RefChecks.this.global.Symbol,Boolean)java.lang.String</span><a href="#132332">infoString0</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132401">sym</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol,Boolean)java.lang.String</span><a id="132332">infoString0</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132396">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">Boolean</span><a id="132397">showLocation</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>) = {
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a id="132398">sym1</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.analyzer</span><a href="../Global.scala.html#21239">analyzer</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol</span><a href="Namers.scala.html#28380">underlying</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132396">sym</a></span>)
        <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Symbols.scala.html#25315">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
        (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#132397">showLocation</a></span>) 
          <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
          (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>) <span class="typed"><span class="type">java.lang.String(&quot;, which equals &quot;)</span><span class="string">&quot;, which equals &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>)
           <span class="keyword">else</span> <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25132">isAbstractType</a></span>) <span class="typed"><span class="type">java.lang.String(&quot; with bounds &quot;)</span><span class="string">&quot; with bounds &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>)
           <span class="keyword">else</span> <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span>) <span class="typed"><span class="type">java.lang.String(&quot; of type &quot;)</span><span class="string">&quot; of type &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Symbol</span><a href="#132398">sym1</a></span>)
           <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
         <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
      }

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Boolean</span><a id="132333">overridesType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132402">tp1</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132403">tp2</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132402">tp1</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132403">tp2</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span>) <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><a id="1">MethodType</a>(<span class="typed"><span class="type">(List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]</span><span id="21410"><a href="#132406" id="527">List</a></span></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132409">rtp1</a></span>), <a id="1">PolyType</a>(<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]</span><span id="21410"><a href="#132410" id="527">List</a></span></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132413">rtp2</a></span>)) =&gt; 
          <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132409">rtp1</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132413">rtp2</a></span>
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><a id="1">PolyType</a>(<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]</span><span id="21410"><a href="#132414" id="527">List</a></span></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132417">rtp1</a></span>), <a id="1">MethodType</a>(<span class="typed"><span class="type">(List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]</span><span id="21410"><a href="#132418" id="527">List</a></span></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132421">rtp2</a></span>)) =&gt; 
          <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132417">rtp1</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132421">rtp2</a></span>
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><a id="1">TypeRef</a>(_, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132422">sym</a></span>, _),  _) <span class="keyword">if</span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132422">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25166">isModuleClass</a></span>) =&gt; 
          <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Boolean</span><a href="#132333">overridesType</a></span>(<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol],RefChecks.this.global.Type)RefChecks.this.global.PolyType</span><a href="../symtab/Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132402">tp1</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132403">tp2</a></span>)
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> _ =&gt; 
          <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132402">tp1</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132403">tp2</a></span>
      }

      <span class="comment">/** Check that all conditions for overriding &lt;code&gt;other&lt;/code&gt; by
       *  &lt;code&gt;member&lt;/code&gt; are met.
       */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Symbol,RefChecks.this.global.Symbol)Unit</span><a id="132334">checkOverride</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132424">clazz</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132425">member</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132426">other</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {

        <span class="keyword">def</span> <span class="typed"><span class="type">(String)Unit</span><a id="132427">overrideError</a></span>(<span class="typed"><span class="type">String</span><a id="132432">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="132437">fullmsg</a></span> = 
              <span class="typed"><span class="type">java.lang.String(&quot;overriding &quot;)</span><span class="string">&quot;overriding &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132331">infoStringWithLocation</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;;\012 &quot;)</span><span class="string">&quot;;\n &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
              <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">String</span><a href="#132432">msg</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
              (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span>) 
                <span class="typed"><span class="type">java.lang.String(&quot;;\012 (Note that &quot;)</span><span class="string">&quot;;\n (Note that &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132331">infoStringWithLocation</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; is abstract,&quot;)</span><span class="string">&quot; is abstract,&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
               <span class="typed"><span class="type">java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)</span><span class="string">&quot;\n  and is therefore overridden by concrete &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132331">infoStringWithLocation</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;)&quot;)</span><span class="string">&quot;)&quot;</span></span>
               <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132424">clazz</a></span>) <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">java.lang.String</span><a href="#132437">fullmsg</a></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[MixinOverrideError]</span><a href="#132325">mixinOverrideErrors</a></span> <span class="typed"><span class="type">(MixinOverrideError)Unit</span><a id="33306">+=</a></span> <span class="typed"><span class="type">MixinOverrideError</span><span class="keyword">new</span></span> <span class="typed"><span class="type">MixinOverrideError</span><a href="#132322">MixinOverrideError</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>, <span class="typed"><span class="type">java.lang.String</span><a href="#132437">fullmsg</a></span>)
          }
        }

        <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132428">overrideTypeError</a></span>() {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span>) {
            <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;has incompatible type&quot;)</span><span class="string">&quot;has incompatible type&quot;</span></span>)
          }
        }

        <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132429">overrideAccessError</a></span>() {
          <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="132445">pwString</a></span> = <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25095">privateWithin</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> 
                         <span class="keyword">else</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25095">privateWithin</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Names.scala.html#23898">toString</a></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="132446">otherAccess</a></span> = <span class="typed"><span class="type">(Long,String)String</span><a href="../symtab/Flags.scala.html#20638">flagsToString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Long</span><a href="../symtab/Symbols.scala.html#25222">getFlag</a></span> (PRIVATE <span class="typed"><span class="type">Long(5L)</span><span >|</span></span> PROTECTED), <span class="typed"><span class="type">java.lang.String</span><a href="#132445">pwString</a></span>)
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;has weaker access privileges; it should be &quot;)</span><span class="string">&quot;has weaker access privileges; it should be &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                        (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">String</span><a href="#132446">otherAccess</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;public&quot;)</span><span class="string">&quot;public&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;at least &quot;)</span><span class="string">&quot;at least &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">String</span><a href="#132446">otherAccess</a></span>))
        }

        <span class="comment">//Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
        
        <span class="comment">// return if we already checked this combination elsewhere</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132424">clazz</a></span>) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span>)) {
                <span class="comment">//Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG</span>
                <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>; 
              }
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132424">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25659">parents</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132466">parent</a></span> =&gt;
            (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132466">parent</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132466">parent</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
            (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span>))) {
              <span class="comment">//Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
                <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>; 
            }
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132424">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25659">parents</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132469">parent</a></span> =&gt;
            (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132469">parent</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">==</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132469">parent</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>))) {
              <span class="comment">//Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
              <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>;
            }
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(4L)</span><span >PRIVATE</span></span>) { <span class="comment">// (1.1)</span>
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)</span><span class="string">&quot;has weaker access privileges; it should not be private&quot;</span></span>)
        }
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132430">mb</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25225">accessBoundary</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132431">ob</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25225">accessBoundary</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132430">mb</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.ModuleClassSymbol</span><a href="../symtab/Definitions.scala.html#25754">RootClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132430">mb</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="comment">// todo: change</span>
            (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132431">ob</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.ModuleClassSymbol</span><a href="../symtab/Definitions.scala.html#25754">RootClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132431">ob</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132431">ob</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25214">hasTransOwner</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132430">mb</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
             (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(1L)</span><span >PROTECTED</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(1L)</span><span >PROTECTED</span></span>))) {
          <span class="typed"><span class="type">()Unit</span><a href="#132429">overrideAccessError</a></span>()
        } 
        <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span>) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)</span><span class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span></span>);
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25149">isModule</a></span>)) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)</span><span class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span></span>);
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>) { <span class="comment">// (1.2)</span>
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot override final member&quot;)</span><span class="string">&quot;cannot override final member&quot;</span></span>);
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> (OVERRIDE | ABSOVERRIDE <span class="typed"><span class="type">Long(2359298L)</span><span >|</span></span> SYNTHETIC))) { <span class="comment">// (1.3), SYNTHETIC because of DEVIRTUALIZE</span>
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;needs `override' modifier&quot;)</span><span class="string">&quot;needs `override' modifier&quot;</span></span>);
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(262144L)</span><span >ABSOVERRIDE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25204">isIncompleteIn</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132424">clazz</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(262144L)</span><span >ABSOVERRIDE</span></span>)) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;needs `abstract override' modifiers&quot;)</span><span class="string">&quot;needs `abstract override' modifiers&quot;</span></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> (OVERRIDE <span class="typed"><span class="type">Long(262146L)</span><span >|</span></span> ABSOVERRIDE)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
                   (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(134217728L)</span><span >ACCESSOR</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25266">accessed</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25135">isVariable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25266">accessed</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot override a mutable variable&quot;)</span><span class="string">&quot;cannot override a mutable variable&quot;</span></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25180">isStable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25180">isStable</a></span>) { <span class="comment">// (1.4)</span>
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;needs to be a stable, immutable value&quot;)</span><span class="string">&quot;needs to be a stable, immutable value&quot;</span></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25134">isValue</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                   <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25134">isValue</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25143">isSourceMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)</span><span class="string">&quot;cannot override a concrete non-lazy value&quot;</span></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25134">isValue</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25143">isSourceMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                   <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25134">isValue</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) {
          <span class="typed"><span class="type">(String)Unit</span><a href="#132427">overrideError</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)</span><span class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span></span>)
        } <span class="keyword">else</span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>) {  
            <span class="comment">//if (!member.typeParams.isEmpty) // (1.5)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>
            <span class="comment">//if (!other.typeParams.isEmpty) // (1.5)   @MAT</span>
            <span class="comment">//  overrideError(&quot;may not override parameterized type&quot;);</span>
            <span class="comment">// @M: substSym</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>).<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Symbol])RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25692">substSym</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25242">typeParams</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25242">typeParams</a></span>) <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>))) <span class="comment">// (1.6)</span>
              <span class="typed"><span class="type">()Unit</span><a href="#132428">overrideTypeError</a></span>();
          } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25132">isAbstractType</a></span>) {
            <span class="comment">//if (!member.typeParams.isEmpty) // (1.7)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>
            <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132479">memberTp</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132480">otherTp</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>)
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132480">otherTp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.TypeBounds</span><a href="../symtab/Types.scala.html#25658">bounds</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#42528">containsType</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132479">memberTp</a></span>)) { <span class="comment">// (1.7.1)</span>
              <span class="typed"><span class="type">()Unit</span><a href="#132428">overrideTypeError</a></span>(); <span class="comment">// todo: do an explaintypes with bounds here</span>
              <span class="typed"><span class="type">((RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any,RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22192">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132484">_</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.TypeBounds</span><a href="../symtab/Types.scala.html#25658">bounds</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#42528">containsType</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132485">_</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132480">otherTp</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132479">memberTp</a></span>)
            }
            
            <span class="comment">// check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))</span>
            <span class="comment">// making an abstract type member concrete is like passing a type argument</span>
            <span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="132481">kindErrors</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.typer</span><a href="../Global.scala.html#21291">typer</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Inferencer</span><a href="Typers.scala.html#31740">infer</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.analyzer.global.Symbol],List[RefChecks.this.global.analyzer.global.Type],RefChecks.this.global.analyzer.global.Type,RefChecks.this.global.analyzer.global.Symbol)List[String]</span><a href="Infer.scala.html#32025">checkKindBounds</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>), <span class="typed"><span class="type">(RefChecks.this.global.Type*)List[RefChecks.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132479">memberTp</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="comment">// (1.7.2)</span>
           
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[String]</span><a href="#132481">kindErrors</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)
              <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, 
                <span class="typed"><span class="type">java.lang.String(&quot;The kind of &quot;)</span><span class="string">&quot;The kind of &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25308">keyString</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25319">varianceString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25310">nameString</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                <span class="typed"><span class="type">java.lang.String(&quot; does not conform to the expected kind of &quot;)</span><span class="string">&quot; does not conform to the expected kind of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25320">defString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;.&quot;)</span><span class="string">&quot;.&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                <span class="typed"><span class="type">List[String]</span><a href="#132481">kindErrors</a></span>.<span class="typed"><span class="type">=&gt; List[String]</span><a id="21348">toList</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a id="21818">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)) 
            
            <span class="comment">// check a type alias's RHS corresponds to its declaration</span>
            <span class="comment">// this overlaps somewhat with validateVariance</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="132493">kindErrors</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.typer</span><a href="../Global.scala.html#21291">typer</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Inferencer</span><a href="Typers.scala.html#31740">infer</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.analyzer.global.Symbol],List[RefChecks.this.global.analyzer.global.Type],RefChecks.this.global.analyzer.global.Type,RefChecks.this.global.analyzer.global.Symbol)List[String]</span><a href="Infer.scala.html#32025">checkKindBounds</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>), <span class="typed"><span class="type">(RefChecks.this.global.Type*)List[RefChecks.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132479">memberTp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)
           
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[String]</span><a href="#132493">kindErrors</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)
                <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, 
                  <span class="typed"><span class="type">java.lang.String(&quot;The kind of the right-hand side &quot;)</span><span class="string">&quot;The kind of the right-hand side &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132479">memberTp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; of &quot;)</span><span class="string">&quot; of &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25308">keyString</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                  <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25319">varianceString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25310">nameString</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; does not conform to its expected kind.&quot;)</span><span class="string">&quot; does not conform to its expected kind.&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                  <span class="typed"><span class="type">List[String]</span><a href="#132493">kindErrors</a></span>.<span class="typed"><span class="type">=&gt; List[String]</span><a id="21348">toList</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a id="21818">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)) 
            }
          } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span>) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Boolean</span><a href="#132333">overridesType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>))) { <span class="comment">// 8</span>
              <span class="typed"><span class="type">()Unit</span><a href="#132428">overrideTypeError</a></span>()
              <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22191">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132425">member</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132327">self</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132426">other</a></span>))
            }
          }
        }
      }

      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a id="132335">opc</a></span> = <span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><span class="keyword">new</span></span> <span class="typed"><span class="type">object RefChecks.this.global.overridingPairs</span><a href="../Global.scala.html#21186">overridingPairs</a></span>.<span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="../transform/OverridingPairs.scala.html#42795">Cursor</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>)
      <span class="typed"><span class="type">Unit</span><a href="#132336" class="keyword">while</a></span> (<span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="#132335">opc</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../transform/OverridingPairs.scala.html#42832">hasNext</a></span>) {
        <span class="comment">//Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullNameString + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullNameString + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="#132335">opc</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.overridingPairs.global.Symbol</span><a href="../transform/OverridingPairs.scala.html#42829">overridden</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) <span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Symbol,RefChecks.this.global.Symbol)Unit</span><a href="#132334">checkOverride</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>, <span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="#132335">opc</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.overridingPairs.global.Symbol</span><a href="../transform/OverridingPairs.scala.html#42826">overriding</a></span>, <span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="#132335">opc</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.overridingPairs.global.Symbol</span><a href="../transform/OverridingPairs.scala.html#42829">overridden</a></span>);
        
        <span class="typed"><span class="type">RefChecks.this.global.overridingPairs.Cursor</span><a href="#132335">opc</a></span>.<span class="typed"><span class="type">=&gt; Unit</span><a href="../transform/OverridingPairs.scala.html#42833">next</a></span>
      }
      <span class="typed"><span class="type">()Unit</span><a href="#132326">printMixinOverrideErrors</a></span>() 

      <span class="comment">// 2. Check that only abstract classes have deferred members</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span>) {
        <span class="keyword">def</span> <span class="typed"><span class="type">(Boolean,String)Unit</span><a id="132502">abstractClassError</a></span>(<span class="typed"><span class="type">Boolean</span><a id="132505">mustBeMixin</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>, <span class="typed"><span class="type">String</span><a id="132506">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) {
          <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>,
            (<span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25163">isAnonymousClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25166">isModuleClass</a></span>) <span class="typed"><span class="type">java.lang.String(&quot;object creation impossible&quot;)</span><span class="string">&quot;object creation impossible&quot;</span></span>
             <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#132505">mustBeMixin</a></span>) <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Symbols.scala.html#25315">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; needs to be a mixin&quot;)</span><span class="string">&quot; needs to be a mixin&quot;</span></span>
             <span class="keyword">else</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Symbols.scala.html#25315">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; needs to be abstract&quot;)</span><span class="string">&quot; needs to be abstract&quot;</span></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;, since &quot;)</span><span class="string">&quot;, since &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#132506">msg</a></span>);
          <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">(Long)clazz.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>)
        }
        <span class="comment">// Find a concrete Java method that overrides `sym' under the erasure model.</span>
        <span class="comment">// Bridge symbols qualify.</span>
        <span class="comment">// Used as a fall back if no overriding symbol of a Java abstract method can be found</span>
        <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a id="132503">javaErasedOverridingSym</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132507">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = 
          <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Name,Int,Long,Boolean)(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25721">findMember</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132507">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>, <span class="typed"><span class="type">Int(4)</span><span >PRIVATE</span></span>, <span class="typed"><span class="type">Long(0L)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)(<span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>).<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Boolean)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25252">filter</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132509">other</a></span> =&gt;
            <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132509">other</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
            (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132509">other</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> {
              <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.erasure.global.Type</span><a id="132510">tp1</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.erasure</span><a href="../Global.scala.html#21255">erasure</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type</span><a href="../transform/Erasure.scala.html#58480" id="21757">erasure</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132507">sym</a></span>))
              <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.erasure.global.Type</span><a id="132511">tp2</a></span> = <span class="typed"><span class="type">object RefChecks.this.global.erasure</span><a href="../Global.scala.html#21255">erasure</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type</span><a href="../transform/Erasure.scala.html#58480" id="21757">erasure</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25690">memberType</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132509">other</a></span>))
              <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Boolean)Boolean</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Global.scala.html#36566">erasurePhase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>)(<span class="typed"><span class="type">RefChecks.this.global.erasure.global.Type</span><a href="#132510">tp1</a></span> <span class="typed"><span class="type">(RefChecks.this.global.erasure.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25704">matches</a></span> <span class="typed"><span class="type">RefChecks.this.global.erasure.global.Type</span><a href="#132511">tp2</a></span>)
            })
        <span class="keyword">for</span> (<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Unit)Unit</span><span id="21366"><a id="132515">member</a></span></span> &lt;- <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Types.scala.html#25681">nonPrivateMembers</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
              <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132328">isAbstractTypeWithoutFBound</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
              <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="#132503">javaErasedOverridingSym</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>)) {
            <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#132502">abstractClassError</a></span>(
              <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>, <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; is not defined&quot;)</span><span class="string">&quot; is not defined&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">object RefChecks.this.global.analyzer</span><a href="../Global.scala.html#21239">analyzer</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Symbol)String</span><a href="Namers.scala.html#28381">varNotice</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>))
          } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(262144L)</span><span >ABSOVERRIDE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25204">isIncompleteIn</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>)) {
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132518">other</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25290">superSymbol</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>);
            <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#132502">abstractClassError</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>,
              <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132515">member</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; is marked `abstract' and `override'&quot;)</span><span class="string">&quot; is marked `abstract' and `override'&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
              (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132518">other</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) 
                <span class="typed"><span class="type">java.lang.String(&quot; and overrides incomplete superclass member &quot;)</span><span class="string">&quot; and overrides incomplete superclass member &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132518">other</a></span>)
               <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>))
          }
        <span class="comment">// 3. Check that concrete classes do not have deferred definitions</span>
        <span class="comment">// that are not implemented in a subclass.</span>
        <span class="comment">// Note that this is not the same as (2); In a situation like</span>
        <span class="comment">//</span>
        <span class="comment">// class C { def m: Int = 0}</span>
        <span class="comment">// class D extends C { def m: Int }</span>
        <span class="comment">// </span>
        <span class="comment">// (3) is violated but not (2).</span>
        <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a id="132504">checkNoAbstractDecls</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132520">bc</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
          <span class="keyword">for</span> (<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="132523">decl</a></span></span> &lt;- <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132520">bc</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span>.<span class="typed"><span class="type">=&gt; Iterator[RefChecks.this.global.Symbol]</span><a href="../symtab/Scopes.scala.html#34630">elements</a></span>) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132328">isAbstractTypeWithoutFBound</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>)) { 
              <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132524">impl</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25285">matchingSymbol</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132524">impl</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132524">impl</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)) {
                <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#132502">abstractClassError</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;there is a deferred declaration of &quot;)</span><span class="string">&quot;there is a deferred declaration of &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)java.lang.String</span><a href="#132330">infoString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                                   <span class="typed"><span class="type">java.lang.String(&quot; which is not implemented in a subclass&quot;)</span><span class="string">&quot; which is not implemented in a subclass&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">object RefChecks.this.global.analyzer</span><a href="../Global.scala.html#21239">analyzer</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Symbol)String</span><a href="Namers.scala.html#28381">varNotice</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132523">decl</a></span>))
              }
            }
          }
          <span class="keyword">val</span> <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132521">parents</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132520">bc</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25659">parents</a></span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132521">parents</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132521">parents</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>)) 
            <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132504">checkNoAbstractDecls</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132521">parents</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>)
        }
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>)) <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132504">checkNoAbstractDecls</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>)
      }

      <span class="comment">// 4. Check that every defined member with an `override' modifier overrides some other member.</span>
      <span class="keyword">for</span> (<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Unit)Unit</span><span id="21366"><a id="132532">member</a></span></span> &lt;- <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Scopes.scala.html#34629">toList</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132532">member</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> (OVERRIDE <span class="typed"><span class="type">Long(262146L)</span><span >|</span></span> ABSOVERRIDE)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
            (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Types.scala.html#25708">baseClasses</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a id="21334">tail</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> {
               <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132536">bc</a></span> =&gt; <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132532">member</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25284">matchingSymbol</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132536">bc</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132321">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>
            })) {
          <span class="comment">// for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG</span>
          <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132532">member</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132532">member</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Symbols.scala.html#25315">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; overrides nothing&quot;)</span><span class="string">&quot; overrides nothing&quot;</span></span>);
          <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132532">member</a></span> <span class="typed"><span class="type">(Long)member.type</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span> <span class="typed"><span class="type">Long(2L)</span><span >OVERRIDE</span></span>
        }
    }

  <span class="comment">// Basetype Checking --------------------------------------------------------</span>

    <span class="comment">/** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a id="132144">validateBaseTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132544">clazz</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a id="132545">seenTypes</a></span> = <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a id="1072">Array</a></span>[List[Type]](<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.BaseTypeSeq</span><a href="../symtab/Types.scala.html#25706">baseTypeSeq</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/BaseTypeSeqs.scala.html#63211">length</a></span>)
      <span class="keyword">for</span> (<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="40475"><a id="132557">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6133"><a id="821" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="26778">until</a></span> <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a href="#132545">seenTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a href="#132545">seenTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#132557">i</a></span>) = <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>

      <span class="comment">/** validate all base types of a class in reverse linear order. */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a id="132546">register</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132558">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) {
<span class="comment">//        if (clazz.fullNameString.endsWith(&quot;Collection.Projection&quot;))</span>
<span class="comment">//            println(&quot;validate base type &quot;+tp)</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132559">baseClass</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132558">tp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132559">baseClass</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) {
          <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="132560">index</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Int</span><a href="../symtab/Types.scala.html#25709">baseTypeIndex</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132559">baseClass</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#132560">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int)List[RefChecks.this.global.Type]</span><a href="#132545" id="21509">seenTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#132560">index</a></span>) <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132567">tp1</a></span> =&gt; <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132567">tp1</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132558">tp</a></span>)))
              <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a href="#132545">seenTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#132560">index</a></span>) = 
                <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132558">tp</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)List[RefChecks.this.global.Type]</span><a href="#132568" id="21335">::</a></span> (<span class="typed"><span class="type">(Int)List[RefChecks.this.global.Type]</span><a href="#132545" id="21509">seenTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#132560">index</a></span>) <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Boolean)List[RefChecks.this.global.Type]</span><a id="21367">filter</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132574">tp1</a></span> =&gt; <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132558">tp</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132574">tp1</a></span>)))
          }
        }
        <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132558">tp</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25659">parents</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a href="#132546">register</a></span>
      }
      <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a href="#132546">register</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
      <span class="keyword">for</span> (<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="40475"><a id="132589">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6133"><a id="821" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="26778">until</a></span> <span class="typed"><span class="type">Array[List[RefChecks.this.global.Type]]</span><a href="#132545">seenTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132590">baseClass</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(Int)RefChecks.this.global.Type</span><a href="../symtab/BaseTypeSeqs.scala.html#63215">baseTypeSeq</a></span>(<span class="typed"><span class="type">Int</span><a href="#132589">i</a></span>).<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>
        <span class="typed"><span class="type">(Int)List[RefChecks.this.global.Type]</span><a href="#132545" id="21509">seenTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#132589">i</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]</span><span id="21410"><a href="#132594" id="527">List</a></span></span>() =&gt;
            <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;??? base &quot;)</span><span class="string">&quot;??? base &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132590">baseClass</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; not found in basetypes of &quot;)</span><span class="string">&quot; not found in basetypes of &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]</span><span id="21410"><a href="#132598" id="527">List</a></span></span>(_) =&gt;
            ;<span class="comment">// OK</span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132601">tp1</a></span> <a id="1">::</a> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132602">tp2</a></span> <a id="1">::</a> _ =&gt;
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;illegal inheritance;\012 &quot;)</span><span class="string">&quot;illegal inheritance;\n &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132544">clazz</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                       <span class="typed"><span class="type">java.lang.String(&quot; inherits different type instances of &quot;)</span><span class="string">&quot; inherits different type instances of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132590">baseClass</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                       <span class="typed"><span class="type">java.lang.String(&quot;:\012&quot;)</span><span class="string">&quot;:\n&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132601">tp1</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; and &quot;)</span><span class="string">&quot; and &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132602">tp2</a></span>);
            <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22191">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132601">tp1</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132602">tp2</a></span>)
            <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22191">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132602">tp2</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132601">tp1</a></span>)
        }
      }
    }

  <span class="comment">// Variance Checking --------------------------------------------------------</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="132146"><a id="132145">ContraVariance</a></span></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="132148"><a id="132147">NoVariance</a></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="132150"><a id="132149">CoVariance</a></span></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="132152"><a id="132151">AnyVariance</a></span></span> = <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>

    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]</span><span id="132154"><a id="132153">escapedPrivateLocals</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]</span><a id="19895">HashSet</a></span>[Symbol]

    <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Traverser</span><span id="132156"><a id="132155">varianceValidator</a></span></span> = <span class="typed"><span class="type">template $anon extends RefChecks.this.global.Traverser</span><a id="132186" class="keyword">new</a></span> <span class="typed"><span class="type">RefChecks.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {

      <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a id="132188">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132191">base</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {

        <span class="keyword">def</span> <span class="typed"><span class="type">(Int)String</span><a id="132192">varianceString</a></span>(<span class="typed"><span class="type">Int</span><a id="132197">variance</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> =
          <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#132197">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;covariant&quot;)</span><span class="string">&quot;covariant&quot;</span></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#132197">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;contravariant&quot;)</span><span class="string">&quot;contravariant&quot;</span></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;invariant&quot;)</span><span class="string">&quot;invariant&quot;</span></span>;

        <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Int</span><a id="132193">relativeVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132200">tvar</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132201">clazz</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132200">tvar</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>
          <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132202">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132191">base</a></span>
          <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="132203">state</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#132149">CoVariance</a></span>
          <span class="typed"><span class="type">Unit</span><a href="#132204" class="keyword">while</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132201">clazz</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">Int</span><a href="#132203">state</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#132151">AnyVariance</a></span>) {
            <span class="comment">//Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(8192L)</span><span >PARAM</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25148">isConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25188">isCaseApplyOrUnapply</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132200">tvar</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25156">isTypeParameterOrSkolem</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25156">isTypeParameterOrSkolem</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                  <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132200">tvar</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)) <span class="typed"><span class="type">Int</span><a href="#132203">state</a></span> = -<span class="typed"><span class="type">=&gt; Int</span><a href="#132203" id="3097">state</a></span>;
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> 
                     <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25185">isPrivateLocal</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25186">isProtectedLocal</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]</span><a href="#132153">escapedPrivateLocals</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a id="25498">contains</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>)))
              <span class="typed"><span class="type">Int</span><a href="#132203">state</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#132151">AnyVariance</a></span>
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>) 
              <span class="typed"><span class="type">Int</span><a href="#132203">state</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#132151">AnyVariance</a></span> <span class="comment">// was NoVariance, but now we always expand aliases.</span>
            <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132202">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>
          }
          <span class="typed"><span class="type">Int</span><a href="#132203">state</a></span>
        }

        <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a id="132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132211">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">Int</span><a id="132212">variance</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132211">tp</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object RefChecks.this.global.ErrorType</span><a href="../symtab/Types.scala.html#21956">ErrorType</a></span> =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object RefChecks.this.global.WildcardType</span><a href="../symtab/Types.scala.html#21958">WildcardType</a></span> =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object RefChecks.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span> =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object RefChecks.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span> =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ThisType</a>(_) =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ConstantType</a>(_) =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DeBruijnIndex</a>(_, _) =&gt; ;
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">SingleType</a>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132213">pre</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132214">sym</a></span>) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132213">pre</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132215">pre</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132216">sym</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132217">args</a></span>) =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25131">isAliasType</a></span>)
              <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132211">tp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Symbols.scala.html#25210">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#132147">NoVariance</a></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="132220">v</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Int</span><a href="#132193">relativeVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>);
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#132220">v</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#132151">AnyVariance</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Symbols.scala.html#25210">variance</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">!=</a></span> <span class="typed"><span class="type">Int</span><a href="#132220">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3149">*</a></span> <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>) {
                <span class="comment">//Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG</span>
                <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type)java.lang.String</span><a id="132225">tpString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132226">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132226">tp</a></span> <span class="typed"><span class="type">java.lang.String</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">java.lang.String</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132227">parents</a></span>, _, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132228">clazz</a></span>) =&gt; <span class="typed"><span class="type">java.lang.String(&quot;supertype &quot;)</span><span class="string">&quot;supertype &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(List[RefChecks.this.global.Type],RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#22035">intersectionType</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132227">parents</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132228">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)
                  <span class="typed"><span class="type">java.lang.String</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">java.lang.String(&quot;type &quot;)</span><span class="string">&quot;type &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132226">tp</a></span>
                }
                <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132191">base</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>,
                           <span class="typed"><span class="type">(Int)String</span><a href="#132192">varianceString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Symbols.scala.html#25210">variance</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                           <span class="typed"><span class="type">java.lang.String(&quot; occurs in &quot;)</span><span class="string">&quot; occurs in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(Int)String</span><a href="#132192">varianceString</a></span>(<span class="typed"><span class="type">Int</span><a href="#132220">v</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3149">*</a></span> <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                           <span class="typed"><span class="type">java.lang.String(&quot; position in &quot;)</span><span class="string">&quot; position in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)java.lang.String</span><a href="#132225">tpString</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132191">base</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; of &quot;)</span><span class="string">&quot; of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132191">base</a></span>);
              }
            }
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132215">pre</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
            <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int,List[RefChecks.this.global.Symbol])Unit</span><a href="#132196">validateVarianceArgs</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132217">args</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132216">sym</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25242">typeParams</a></span>) <span class="comment">//@M for higher-kinded typeref, args.isEmpty</span>
            <span class="comment">// However, these args respect variances by construction anyway </span>
            <span class="comment">// -- the interesting case is in type application, see checkKindBounds in Infer</span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132260">parents</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Scope</span><a id="132261">decls</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132262">symbol</a></span>) =&gt;
            <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int)Unit</span><a href="#132195">validateVariances</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132260">parents</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">RefinedType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132265">parents</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Scope</span><a id="132266">decls</a></span>) =&gt;
            <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int)Unit</span><a href="#132195">validateVariances</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132265">parents</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">TypeBounds</a>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132267">lo</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132268">hi</a></span>) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132267">lo</a></span>, -<span class="typed"><span class="type">=&gt; Int</span><a href="#132212" id="3097">variance</a></span>)
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132268">hi</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132269">formals</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132270">result</a></span>) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132270">result</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132271">tparams</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132272">result</a></span>) =&gt;
            <span class="comment">// type parameters will be validated separately, because they are defined explicitly.</span>
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132272">result</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ExistentialType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132273">tparams</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132274">result</a></span>) =&gt;
            <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int)Unit</span><a href="#132195">validateVariances</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132273">tparams</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.Type)List[RefChecks.this.global.Type]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132277">_</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>), <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
            <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132274">result</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotatedType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.AnnotationInfo]</span><a id="132278">annots</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132279">tp</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132280">selfsym</a></span>) =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.AnnotationInfo]</span><a href="#132278">annots</a></span> <span class="typed"><span class="type">((RefChecks.this.global.AnnotationInfo) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> (<span class="typed"><span class="type">RefChecks.this.global.AnnotationInfo</span><a href="#132282">_</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/AnnotationInfos.scala.html#47884">atp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25249">isNonBottomSubClass</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25797">uncheckedVarianceClass</a></span>))))
              <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132279">tp</a></span>, <span class="typed"><span class="type">Int</span><a href="#132212">variance</a></span>)
        }

        <span class="keyword">def</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int)Unit</span><a id="132195">validateVariances</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132263">tps</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="526">List</a></span>[Type], <span class="typed"><span class="type">Int</span><a id="132264">variance</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) {
          <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132263">tps</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132284">tp</a></span> =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132284">tp</a></span>, <span class="typed"><span class="type">Int</span><a href="#132264">variance</a></span>))
        }

        <span class="keyword">def</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Type],Int,List[RefChecks.this.global.Symbol])Unit</span><a id="132196">validateVarianceArgs</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132257">tps</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="526">List</a></span>[Type], <span class="typed"><span class="type">Int</span><a id="132258">variance</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132259">tparams</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="526">List</a></span>[Symbol]) {
          (<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132257">tps</a></span> <span class="typed"><span class="type">(List[RefChecks.this.global.Symbol])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]</span><a id="21386">zip</a></span> <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132259">tparams</a></span>) <span class="typed"><span class="type">(((RefChecks.this.global.Type, RefChecks.this.global.Symbol)) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> <span class="typed"><span class="type">Unit</span><a href="#132288">{</a></span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132289">tp</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132290">tparam</a></span>) =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132289">tp</a></span>, <span class="typed"><span class="type">Int</span><a href="#132258">variance</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3149">*</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132290">tparam</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../symtab/Symbols.scala.html#25210">variance</a></span>)
          }
        }

        <span class="typed"><span class="type">(RefChecks.this.global.Type,Int)Unit</span><a href="#132194">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132191">base</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#132149">CoVariance</a></span>)
      }

      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a id="132189">traverse</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132305">tree</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
        <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, _) | <a id="1">TypeDef</a>(_, _, _, _) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132188">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
            <span class="keyword">super</span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span>)
          <span class="comment">// ModuleDefs need not be considered because they have been eliminated already</span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(_, _, _, _) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132188">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, <span class="typed"><span class="type">List[RefChecks.this.global.TypeDef]</span><a id="132310">tparams</a></span>, <span class="typed"><span class="type">List[List[RefChecks.this.global.ValDef]]</span><a id="132311">vparamss</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132312">tpt</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132313">rhs</a></span>) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132188">validateVariance</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
            <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])Unit</span><a href="../ast/Trees.scala.html#28560">traverseTrees</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.TypeDef]</span><a href="#132310">tparams</a></span>); <span class="typed"><span class="type">(List[List[RefChecks.this.global.Tree]])Unit</span><a href="../ast/Trees.scala.html#28561">traverseTreess</a></span>(<span class="typed"><span class="type">List[List[RefChecks.this.global.ValDef]]</span><a href="#132311">vparamss</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Template</a>(_, _, _) =&gt;
            <span class="keyword">super</span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132305">tree</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        }
      }
    }

<span class="comment">// Forward reference checking ---------------------------------------------------</span>

    <span class="keyword">class</span> <span class="typed"><span class="type">class LevelInfo extends java.lang.Object with ScalaObject</span><a id="132157">LevelInfo</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><span id="132607"><span id="132606"><a id="132625">outer</a></span></span></span>: <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132157">LevelInfo</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Scope</span><span id="132610"><a id="132609">scope</a></span></span>: <span class="typed"><span class="type">RefChecks.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22253">Scope</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132606">outer</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22207">newScope</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(RefChecks.this.global.Scope)RefChecks.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22246">newScope</a></span>(<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132606">outer</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="#132609">scope</a></span>)
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="132613"><span id="132611"><span id="132612"><a id="132622">maxindex</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">object Math</span><a id="608">Math</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="39992">MIN_INT</a></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><span id="132616"><span id="132614"><span id="132615"><a id="132623">refpos</a></span></span></span></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span> = _
      <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><span id="132619"><span id="132617"><span id="132618"><a id="132624">refsym</a></span></span></span></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = _
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><span id="132160"><span id="132158"><span id="132159"><a id="132320">currentLevel</a></span></span></span></span>: <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132157">LevelInfo</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]</span><span id="132162"><a id="132161">symIndex</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]</span><a id="20081">HashMap</a></span>[Symbol, Int]

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132163">pushLevel</a></span>() {
      <span class="typed"><span class="type">(RefCheckTransformer.this.LevelInfo)Unit</span><a href="#132159">currentLevel</a></span> = <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><span class="keyword">new</span></span> <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132157">LevelInfo</a></span>(<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132164">popLevel</a></span>() {
      <span class="typed"><span class="type">(RefCheckTransformer.this.LevelInfo)Unit</span><a href="#132159">currentLevel</a></span> = <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132606">outer</a></span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])Unit</span><a id="132165">enterSyms</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132629">stats</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="526">List</a></span>[Tree]) {
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="132630">index</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
      <span class="keyword">for</span> (<span class="typed"><span class="type">((RefChecks.this.global.Tree) =&gt; Unit)Unit</span><span id="21366"><a id="132632">stat</a></span></span> &lt;- <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132629">stats</a></span>) { 
        <span class="typed"><span class="type">Int</span><a href="#132630">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#132630">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; 
        <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, _) | <a id="1">DefDef</a>(_, _, _, _, _, _) | <a id="1">ModuleDef</a>(_, _, _) | <a id="1">ValDef</a>(_, _, _, _) =&gt;
            <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span>);<span class="comment">//debug</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) {
              <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="#132609">scope</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.ScopeEntry)Unit</span><a href="../symtab/Scopes.scala.html#34616">enter</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Scope)RefChecks.this.global.ScopeEntry</span><a href="../symtab/Scopes.scala.html#22203">newScopeEntry</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>, <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="#132609">scope</a></span>));
              <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]</span><a href="#132161">symIndex</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132632">stat</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) = <span class="typed"><span class="type">Int</span><a href="#132630">index</a></span>;
            }
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Symbol)Unit</span><a id="132166">enterReference</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132667">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132668">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132668">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.ScopeEntry</span><a id="132669">e</a></span> = <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="#132609">scope</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry</span><a href="../symtab/Scopes.scala.html#34627">lookupEntry</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132668">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.ScopeEntry</span><a href="#132669">e</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132668">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">RefChecks.this.global.ScopeEntry</span><a href="#132669">e</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34821">sym</a></span>) {
          <span class="keyword">var</span> <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a id="132671">l</a></span> = <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>
          <span class="typed"><span class="type">Unit</span><a href="#132673" class="keyword">while</a></span> (<span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="#132609">scope</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.ScopeEntry</span><a href="#132669">e</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="../symtab/Scopes.scala.html#34823">owner</a></span>) <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span> = <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132606">outer</a></span>;
          <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="132672">symindex</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Int</span><a href="#132161" id="24239">symIndex</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132668">sym</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#132611">maxindex</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#132672">symindex</a></span>) {
            <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position)Unit</span><a href="#132615">refpos</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132667">pos</a></span>
            <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132618">refsym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132668">sym</a></span>
            <span class="typed"><span class="type">RefCheckTransformer.this.LevelInfo</span><a href="#132671">l</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a href="#132612">maxindex</a></span> = <span class="typed"><span class="type">Int</span><a href="#132672">symindex</a></span>
          }
        }
      }
    }

<span class="comment">// Comparison checking -------------------------------------------------------</span>
    <span class="keyword">object</span> <span class="typed"><span class="type">object RefCheckTransformer.this.normalizeAll</span><a id="132167">normalizeAll</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">RefChecks.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Type</span><a id="132681">apply</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132683">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) = <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#27743">mapOver</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132683">tp</a></span>).<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span>
    }
    
    <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Tree,List[RefChecks.this.global.Tree])Unit</span><a id="132169">checkSensible</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132688">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132689">fn</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132690">args</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="526">List</a></span>[Tree]) = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132689">fn</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Select</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132693">qual</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="132694">name</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132690">args</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) =&gt;
        <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree)Boolean</span><a id="132697">isNew</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132698">tree</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132698">tree</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">Function</a>(_, _) 
             | <a id="1">Apply</a>(<a id="1">Select</a>(<a id="1">New</a>(_), <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30639">CONSTRUCTOR</a></span>), _) =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
        }
        <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30988">EQ</a></span> | <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30990">NE</a></span> | <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30992">LT</a></span> | <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30996">GT</a></span> | <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30994">LE</a></span> | <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30998">GE</a></span> =&gt;
            <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a id="132701">underlyingClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132708">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = {
              <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132709">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132708">tp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25654">widen</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>
              <span class="typed"><span class="type">Unit</span><a href="#132710" class="keyword">while</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132709">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25132">isAbstractType</a></span>)
                <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132709">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132709">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.TypeBounds</span><a href="../symtab/Types.scala.html#25658">bounds</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#42521">hi</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25654">widen</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>
              <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132709">sym</a></span>
            }
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132702">formal</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a href="#132701">underlyingClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132689">fn</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a id="21332">head</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132703">actual</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a href="#132701">underlyingClass</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132690">args</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132704">receiver</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Symbol</span><a href="#132701">underlyingClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132693">qual</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
            <span class="keyword">def</span> <span class="typed"><span class="type">(String,Boolean)Unit</span><a id="132705">nonSensibleWarning</a></span>(<span class="typed"><span class="type">String</span><a id="132711">what</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">Boolean</span><a id="132712">alwaysEqual</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>) = 
              <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24151">warning</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132688">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;comparing &quot;)</span><span class="string">&quot;comparing &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">String</span><a href="#132711">what</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; using `&quot;)</span><span class="string">&quot; using `&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Names.scala.html#23918">decode</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;' will always yield &quot;)</span><span class="string">&quot;' will always yield &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                           (<span class="typed"><span class="type">Boolean</span><a href="#132712">alwaysEqual</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">==</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30988">EQ</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30994">LE</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30998">GE</a></span>)))
            <span class="keyword">def</span> <span class="typed"><span class="type">(String,Boolean)Unit</span><a id="132706">nonSensible</a></span>(<span class="typed"><span class="type">String</span><a id="132717">pre</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">Boolean</span><a id="132718">alwaysEqual</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>) =
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132705">nonSensibleWarning</a></span>(<span class="typed"><span class="type">String</span><a href="#132717">pre</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;values of types &quot;)</span><span class="string">&quot;values of types &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Type</span><a href="#132681">normalizeAll</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132693">qual</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25654">widen</a></span>)<span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; and &quot;)</span><span class="string">&quot; and &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Type</span><a href="#132681">normalizeAll</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132690">args</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25654">widen</a></span>),
                                 <span class="typed"><span class="type">Boolean</span><a href="#132718">alwaysEqual</a></span>) <span class="comment">// @MAT normalize for consistency in error message, otherwise part is normalized due to use of `typeSymbol', but the rest isn't</span>
            <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="132707">hasObjectEquals</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Name)RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25684">member</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30810">equals_</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26059">Object_equals</a></span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132702">formal</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>)
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132706">nonSensible</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25824">BooleanClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
                     <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span>))
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132706">nonSensible</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Definitions.scala.html#26139">isNumericValueClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                     <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Definitions.scala.html#26139">isNumericValueClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                     <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a href="../Global.scala.html#21320">forMSIL</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="../Global.scala.html#21318">forCLDC</a></span><span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26084">BoxedNumberClass</a></span>)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                     <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span>))
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132706">nonSensible</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="#132707">hasObjectEquals</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Definitions.scala.html#26138">isValueClass</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
                     <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25250">isSubClass</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132704">receiver</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25782">NullClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132703">actual</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25782">NullClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                     (<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30988">EQ</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30994">LE</a></span>))
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132706">nonSensible</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;non-null &quot;)</span><span class="string">&quot;non-null &quot;</span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
            <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">(RefChecks.this.global.Tree)Boolean</span><a href="#132697">isNew</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132693">qual</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Tree)Boolean</span><a href="#132697">isNew</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132690">args</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a id="21332">head</a></span>)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a href="#132707">hasObjectEquals</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                     (<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30988">EQ</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132694">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30990">NE</a></span>))
              <span class="typed"><span class="type">(String,Boolean)Unit</span><a href="#132705">nonSensibleWarning</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;a fresh object&quot;)</span><span class="string">&quot;a fresh object&quot;</span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        }
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
    }

<span class="comment">// Transformation ------------------------------------------------------------</span>

    <span class="comment">/* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Type)RefChecks.this.global.Tree</span><a id="132170">toConstructor</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132731">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132732">tpe</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132733">rtpe</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132732">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25666">finalResultType</a></span>
      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132733">rtpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2048L)</span><span >CASE</span></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132732">tpe</a></span>);
      <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31834">typedOperator</a></span> {
        <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(RefChecks.this.global.Select)RefChecks.this.global.Select</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132731">pos</a></span>) {
          <span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Symbol)RefChecks.this.global.Select</span><a href="../ast/Trees.scala.html#22509">Select</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.New</span><a href="../ast/Trees.scala.html#48499">New</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132733">rtpe</a></span>)), <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132733">rtpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25259">primaryConstructor</a></span>)
        }
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Tree],RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]</span><a id="132171">transformStats</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132746">stats</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132747">exprOwner</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
      <span class="typed"><span class="type">()Unit</span><a href="#132163">pushLevel</a></span>()
      <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])Unit</span><a href="#132165">enterSyms</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132746">stats</a></span>)
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="132748">index</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132749">stats1</a></span> = <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132746">stats</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Tree) =&gt; Iterable[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]</span><a id="21383">flatMap</a></span> { <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132752">stat</a></span> =&gt; <span class="typed"><span class="type">Int</span><a href="#132748">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; <span class="typed"><span class="type">(RefChecks.this.global.Tree,Int)List[RefChecks.this.global.Tree]</span><a href="#132172">transformStat</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132752">stat</a></span>, <span class="typed"><span class="type">Int</span><a href="#132748">index</a></span>) }
      <span class="typed"><span class="type">()Unit</span><a href="#132164">popLevel</a></span>()
      <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132749">stats1</a></span>
    }

    <span class="comment">/** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree,Int)List[RefChecks.this.global.Tree]</span><a id="132172">transformStat</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132775">tree</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">Int</span><a id="132776">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>): <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="526">List</a></span>[Tree] = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span> <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">ModuleDef</a>(<span class="typed"><span class="type">RefChecks.this.global.Modifiers</span><a id="132778">mods</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="132779">name</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Template</span><a id="132780">impl</a></span>) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132781">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.ClassDef</span><a id="132782">cdef</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Modifiers,RefChecks.this.global.Name,List[RefChecks.this.global.TypeDef],RefChecks.this.global.Template)RefChecks.this.global.ClassDef</span><a href="../ast/Trees.scala.html#43134">ClassDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Modifiers</span><a href="#132778">mods</a></span> <span class="typed"><span class="type">(Long)RefChecks.this.global.Modifiers</span><a href="../ast/Trees.scala.html#42020">|</a></span> <span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#132779">name</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">RefChecks.this.global.Template</span><a href="#132780">impl</a></span>)
          .<span class="typed"><span class="type">(scala.tools.nsc.util.Position)RefChecks.this.global.ClassDef</span><a href="../ast/Trees.scala.html#25356">setPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) 
          .<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef</span><a href="../ast/Trees.scala.html#25360">setSymbol</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25283">moduleClass</a></span>) 
          .<span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.ClassDef</span><a href="../ast/Trees.scala.html#25357">setType</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span>);
        <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25194">isStatic</a></span>) {
          <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25288">allOverriddenSymbols</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.TermSymbol</span><a id="132792">factory</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Name)RefChecks.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)
              .<span class="typed"><span class="type">(Long)RefChecks.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Symbols.scala.html#25218">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> <span class="typed"><span class="type">Int(4194304)</span><span >STABLE</span></span>).<span class="typed"><span class="type">(Long)RefChecks.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span>(<span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>)
              .<span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol],RefChecks.this.global.Type)RefChecks.this.global.PolyType</span><a href="../symtab/Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25283">moduleClass</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>))
            <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)RefChecks.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TermSymbol</span><a href="#132792">factory</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a id="132793">ddef</a></span> = 
              <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>) {
                <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span> {
                  <span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol,RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.DefDef</span><a href="../ast/TreeGen.scala.html#27626">mkModuleAccessDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TermSymbol</span><a href="#132792">factory</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
                }
              }
            <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]</span><a href="../ast/Trees.scala.html#43097">transformTrees</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.ClassDef</span><a href="#132782">cdef</a></span>, <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a href="#132793">ddef</a></span>))
          } <span class="keyword">else</span> {
            <span class="typed"><span class="type">(RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.ClassDef</span><a href="#132782">cdef</a></span>))
          }
        } <span class="keyword">else</span> {
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a id="132815">vdef</a></span> = 
            <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span> {
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(RefChecks.this.global.gen.global.ValDef)RefChecks.this.global.gen.global.ValDef</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
                <span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef</span><a href="../ast/TreeGen.scala.html#27624">mkModuleVarDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>)
              }
            }

          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a id="132816">ddef</a></span> = 
            <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>) {
              <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span> {
                <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span>) <span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef</span><a href="../ast/TreeGen.scala.html#27628">mkModuleAccessDcl</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>)
                <span class="keyword">else</span> <span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol,RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef</span><a href="../ast/TreeGen.scala.html#27625">mkCachedModuleAccessDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>, <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a href="#132815">vdef</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
              }
            }

          <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132781">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span>) <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]</span><a href="../ast/Trees.scala.html#43097">transformTrees</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.ClassDef</span><a href="#132782">cdef</a></span>, <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a href="#132816">ddef</a></span>))
          <span class="keyword">else</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]</span><a href="../ast/Trees.scala.html#43097">transformTrees</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.ClassDef</span><a href="#132782">cdef</a></span>, <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a href="#132815">vdef</a></span>, <span class="typed"><span class="type">RefChecks.this.global.analyzer.global.Tree</span><a href="#132816">ddef</a></span>))
        }

      <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(_, _, _, _) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132833">tree1</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>); <span class="comment">// important to do before forward reference check</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132836">ValDef</a></span>(_, _, _, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span id="132834"><a id="132836">rhs</a></span></span>) = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132833">tree1</a></span>
        <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) {
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132837">vsym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="132838">hasUnitType</a></span> = (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132839">lazyDefSym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25270">lazyAccessor</a></span>
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132839">lazyDefSym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.ChangeOwnerTraverser</span><a id="132840">ownerTransformer</a></span> = <span class="typed"><span class="type">RefChecks.this.global.ChangeOwnerTraverser</span><span class="keyword">new</span></span> <span class="typed"><span class="type">RefChecks.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132839">lazyDefSym</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.DefDef</span><a id="132841">lazyDef</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(RefChecks.this.global.DefDef)RefChecks.this.global.DefDef</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(
              <span class="typed"><span class="type">(RefChecks.this.global.Symbol,(List[List[RefChecks.this.global.Symbol]]) =&gt; RefChecks.this.global.Tree)RefChecks.this.global.DefDef</span><a href="../ast/Trees.scala.html#22411">DefDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132839">lazyDefSym</a></span>, <span class="typed"><span class="type">List[List[RefChecks.this.global.Symbol]]</span><a id="132863">vparamss</a></span> =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#28563">ownerTransformer</a></span>( 
                <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span> <span class="comment">// for traits, this is further tranformed in mixins</span>
                    <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">Boolean</span><a href="#132838">hasUnitType</a></span>) <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132834">rhs</a></span> 
                <span class="keyword">else</span> <span class="typed"><span class="type">(List[RefChecks.this.global.Tree],RefChecks.this.global.Tree)RefChecks.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Assign*)List[RefChecks.this.global.Assign]</span><span id="21328"><a id="527">List</a></span></span>(
                       <span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Tree)RefChecks.this.global.Assign</span><a href="../ast/Trees.scala.html#42698">Assign</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27604">mkAttributedRef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132834">rhs</a></span>)),
                       <span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27604">mkAttributedRef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>)))))
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Made lazy def: &quot;)</span><span class="string">&quot;Made lazy def: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.DefDef</span><a href="#132841">lazyDef</a></span>)
          <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#132838">hasUnitType</a></span>)
            <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">RefChecks.this.global.DefDef</span><a href="#132841">lazyDef</a></span>) <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]</span><a href="#132871" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
          <span class="keyword">else</span>
            <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Symbol,RefChecks.this.global.Tree)RefChecks.this.global.ValDef</span><a href="../ast/Trees.scala.html#22401">ValDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132837">vsym</a></span>, <span class="typed"><span class="type">object RefChecks.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)) <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]</span><a href="#132875" id="21335">::</a></span> <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">RefChecks.this.global.DefDef</span><a href="#132841">lazyDef</a></span>) <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]</span><a href="#132882" id="21335">::</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
        } <span class="keyword">else</span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">Int</span><a href="#132776">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&lt;=</a></span> <span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#132611">maxindex</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="#132617">refsym</a></span>);
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">=&gt; RefCheckTransformer.this.LevelInfo</span><a href="#132158">currentLevel</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="#132614">refpos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;forward reference extends over definition of &quot;)</span><span class="string">&quot;forward reference extends over definition of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>);
          }
          <span class="typed"><span class="type">(RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132833">tree1</a></span>)
        }

      <span class="typed"><span class="type">List[Nothing]</span><span class="keyword">case</span></span> <a id="1">Import</a>(_, _) =&gt;
        <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()

      <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">(RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132775">tree</a></span>))
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a id="132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132814">tree</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="keyword">try</span> {

      <span class="comment">/* Check whether argument types conform to bounds of type parameters */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type])Unit</span><a id="132895">checkBounds</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132909">pre</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132910">owner</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132911">tparams</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132912">argtps</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="526">List</a></span>[Type]): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> =
        <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type],scala.tools.nsc.util.Position)Unit</span><a href="#132896">checkBoundsWithPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132909">pre</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132910">owner</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132911">tparams</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132912">argtps</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type],scala.tools.nsc.util.Position)Unit</span><a id="132896">checkBoundsWithPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132913">pre</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132914">owner</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132915">tparams</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="526">List</a></span>[Symbol], <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="132916">argtps</a></span>: <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a id="526">List</a></span>[Type], <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132917">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="keyword">try</span> {
        <span class="typed"><span class="type">object RefChecks.this.global.typer</span><a href="../Global.scala.html#21291">typer</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Inferencer</span><a href="Typers.scala.html#31740">infer</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.analyzer.global.Type,RefChecks.this.global.analyzer.global.Symbol,List[RefChecks.this.global.analyzer.global.Symbol],List[RefChecks.this.global.analyzer.global.Type],String)Unit</span><a href="Infer.scala.html#32023">checkBounds</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132917">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132913">pre</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132914">owner</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132915">tparams</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132916">argtps</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>);
      } <span class="keyword">catch</span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a id="132918">ex</a></span>: <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a href="../symtab/Types.scala.html#22181">TypeError</a></span> =&gt; 
          <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132917">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a href="#132918">ex</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="23646">getMessage</a></span>());
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#29962">explaintypes</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">List[RefChecks.this.global.TypeBounds]</span><a id="132921">bounds</a></span> = <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132915">tparams</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; RefChecks.this.global.TypeBounds)List[RefChecks.this.global.TypeBounds]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132924">tp</a></span> =&gt; <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132924">tp</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type])RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25672">instantiateTypeParams</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132915">tparams</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132916">argtps</a></span>).<span class="typed"><span class="type">=&gt; RefChecks.this.global.TypeBounds</span><a href="../symtab/Types.scala.html#25658">bounds</a></span>)
            <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.Type],List[RefChecks.this.global.TypeBounds])((RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]</span><a id="21449">map2</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132916">argtps</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.TypeBounds]</span><a href="#132921">bounds</a></span>)((<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132929">targ</a></span>, <span class="typed"><span class="type">RefChecks.this.global.TypeBounds</span><a id="132930">bound</a></span>) =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22191">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TypeBounds</span><a href="#132930">bound</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#42519">lo</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132929">targ</a></span>))
            <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.Type],List[RefChecks.this.global.TypeBounds])((RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)List[Unit]</span><a id="21449">map2</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132916">argtps</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.TypeBounds]</span><a href="#132921">bounds</a></span>)((<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132936">targ</a></span>, <span class="typed"><span class="type">RefChecks.this.global.TypeBounds</span><a id="132937">bound</a></span>) =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Type)Unit</span><a href="../symtab/Types.scala.html#22191">explainTypes</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132936">targ</a></span>, <span class="typed"><span class="type">RefChecks.this.global.TypeBounds</span><a href="#132937">bound</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#42521">hi</a></span>))
            <span class="typed"><span class="type">Unit</span><span >(</span></span>)
          }
      }

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Type)Boolean</span><a id="132897">isIrrefutable</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132939">pat</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="132940">seltpe</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="132941">result</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132939">pat</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Apply</a>(_, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132942">args</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132943">clazz</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132939">pat</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>;
            <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132943">clazz</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132940">seltpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
            <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132943">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132943">clazz</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(2048L)</span><span >CASE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
            <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[RefChecks.this.global.Tree],List[RefChecks.this.global.Type])((RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean</span><a id="21458">forall2</a></span>(
              <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132942">args</a></span>,
              <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132943">clazz</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25259">primaryConstructor</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol)RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#25688">asSeenFrom</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132940">seltpe</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132943">clazz</a></span>).<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span>)(<span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Type)Boolean</span><a href="#132897">isIrrefutable</a></span>)
          <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Typed</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132950">pat</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132951">tpt</a></span>) =&gt; 
            <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132940">seltpe</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25701">&lt;:&lt;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132951">tpt</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>
          <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>) =&gt;
            <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Bind</a>(_, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132954">pat</a></span>) =&gt;
            <span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Type)Boolean</span><a href="#132897">isIrrefutable</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132954">pat</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132940">seltpe</a></span>)
          <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt;
            <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
        }
        <span class="comment">//Console.println(&quot;is irefutable? &quot; + pat + &quot;:&quot; + pat.tpe + &quot; against &quot; + seltpe + &quot;: &quot; + result);//DEBUG</span>
        <span class="typed"><span class="type">Boolean</span><a href="#132941">result</a></span>
      }

      <span class="comment">/** If symbol is deprecated and is not contained in a deprecated definition,
       *  issue a deprecated warning
       */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol,scala.tools.nsc.util.Position)Unit</span><a id="132898">checkDeprecated</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132955">sym</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132956">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>) {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132955">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25176">isDeprecated</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25213">ownerChain</a></span>.<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132959">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25176">isDeprecated</a></span>)) {
          <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24152">deprecationWarning</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132956">pos</a></span>, <span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6142"><a href="#132955" id="821">sym</a></span></span><span class="typed"><span class="type">(String)java.lang.String</span><a id="23659">+</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132955">sym</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; is deprecated&quot;)</span><span class="string">&quot; is deprecated&quot;</span></span>)
        }
      }

      <span class="comment">/** Check that a deprecated val or def does not override a
        * concrete, non-deprecated method.  If it does, then
        * deprecation is meaningless.
        */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="132899">checkDeprecatedOvers</a></span>() {
        <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132964">symbol</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132964">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25176">isDeprecated</a></span>) {
          <span class="keyword">val</span> <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a id="132965">concrOvers</a></span> =
            <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132964">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25288">allOverriddenSymbols</a></span>.<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; Boolean)List[RefChecks.this.global.Symbol]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132968">sym</a></span> =&gt;
              <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132968">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25176">isDeprecated</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132968">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25181">isDeferred</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132965">concrOvers</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24152">deprecationWarning</a></span>(
              <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>,
              <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132964">symbol</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Symbols.scala.html#25315">toString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)</span><span class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
              <span class="typed"><span class="type">List[RefChecks.this.global.Symbol]</span><a href="#132965">concrOvers</a></span>.<span class="typed"><span class="type">((RefChecks.this.global.Symbol) =&gt; String)List[String]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132971">_</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25313">fullNameString</a></span>).<span class="typed"><span class="type">(String,String,String)String</span><a id="21818">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;    &quot;)</span><span class="string">&quot;    &quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>))
        }
      }

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Tree)Boolean</span><a id="132900">isRepeatedParamArg</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132978">tree</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a href="#132137">currentApplication</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132979">fn</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="132980">args</a></span>) =&gt;
          <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132980">args</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132980">args</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a id="21350">last</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132978">tree</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
          <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132979">fn</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#132980">args</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
          <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132979">fn</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a id="21350">last</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25946">RepeatedParamClass</a></span>
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      }

      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a id="132901">isCaseApply</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132987">sym</a></span> : <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132987">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25143">isSourceMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132987">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2048L)</span><span >CASE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132987">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30762">apply</a></span>
      
      <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.TypeRef,scala.tools.nsc.util.Position)Unit</span><a id="132902">checkTypeRef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a id="132990">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="../symtab/Types.scala.html#21993">TypeRef</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="132991">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">(RefChecks.this.global.Type, RefChecks.this.global.Symbol, List[RefChecks.this.global.Type])</span><span id="23590"><a href="#132996" id="449">TypeRef</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><span id="132996"><span id="132993"><a href="#132992" id="23578">pre</a></span></span></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><span id="132997"><span id="132994"><a href="#132992" id="23580">sym</a></span></span></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><span id="132998"><span id="132995"><a href="#132992" id="23582">args</a></span></span></span>) = <span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="#132990">tp</a></span>
        <span class="typed"><span class="type">(RefChecks.this.global.Symbol,scala.tools.nsc.util.Position)Unit</span><a href="#132898">checkDeprecated</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132994">sym</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132991">pos</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="#132990">tp</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Types.scala.html#27556">isHigherKinded</a></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type],scala.tools.nsc.util.Position)Unit</span><a href="#132896">checkBoundsWithPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#132993">pre</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132994">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132994">sym</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25242">typeParams</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Type]</span><a href="#132995">args</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#132991">pos</a></span>)
      }
      <span class="keyword">def</span> <span class="typed"><span class="type">(List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit</span><a id="132903">checkAnnotations</a></span>(<span class="typed"><span class="type">List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]</span><a id="133002">tpes</a></span>: <span class="typed"><span class="type">List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]</span><a id="526">List</a></span>[(Type, Position)]) {
        <span class="keyword">for</span> (<span class="typed"><span class="type">(((RefChecks.this.global.Type, scala.tools.nsc.util.Position)) =&gt; Unit)Unit</span><span id="21366"><a href="#133004" id="21367">(</a></span></span><span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><span id="133005"><a id="133010">tp</a></span></span> @ <a id="1">TypeRef</a>(_,_,_), <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><span id="133006"><a id="133011">pos</a></span></span>) &lt;- <span class="typed"><span class="type">List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]</span><a href="#133002">tpes</a></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.TypeRef,scala.tools.nsc.util.Position)Unit</span><a href="#132902">checkTypeRef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="#133010">tp</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#133011">pos</a></span>)
      }

      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.analyzer.Typer</span><a id="132904">savedLocalTyper</a></span> = <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132905">savedCurrentApplication</a></span> = <span class="typed"><span class="type">=&gt; RefChecks.this.global.Tree</span><a href="#132137">currentApplication</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="132906">sym</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="132907">result</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>
      
      <span class="keyword">def</span> <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Unit)Unit</span><a id="132908">doTypeTraversal</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Type) =&gt; Unit</span><a id="133012">f</a></span>: (Type) =&gt; Unit) =
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#132140">inPattern</a></span>) {
          <span class="typed"><span class="type">template $anon extends RefChecks.this.global.TypeTraverser</span><a id="133013" class="keyword">new</a></span> <span class="typed"><span class="type">RefChecks.this.global.TypeTraverser</span><a href="../symtab/Types.scala.html#22056">TypeTraverser</a></span> {
            <span class="keyword">def</span> <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a id="133015">traverse</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a id="133017">tp</a></span>: <span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) { <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a href="#133012" id="21757">f</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Type</span><a href="#133017">tp</a></span>) }
          } <span class="typed"><span class="type">(RefChecks.this.global.Type)Unit</span><a href="#133015">traverse</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>
        }
      
      <span class="comment">// if this tree can carry modifiers, make sure any annotations also conform to type bounds; bug #935</span>
      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RefChecks.this.global.MemberDef</span><a id="133019">x</a></span>: <span class="typed"><span class="type">RefChecks.this.global.MemberDef</span><a href="../ast/Trees.scala.html#22382">MemberDef</a></span>   =&gt; <span class="typed"><span class="type">(List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit</span><a href="#132903">checkAnnotations</a></span>(<span class="typed"><span class="type">RefChecks.this.global.MemberDef</span><a href="#133019">x</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Modifiers</span><a href="../ast/Trees.scala.html#26915">mods</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Annotation]</span><a href="../ast/Trees.scala.html#41998">annotations</a></span>.<span class="typed"><span class="type">((RefChecks.this.global.Annotation) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Annotation</span><a id="133023">a</a></span> =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">RefChecks.this.global.Annotation</span><a href="#133023">a</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Annotation</span><a href="#133023">a</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)))
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">TypeTree</a>()     =&gt; <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Unit)Unit</span><a href="#132908">doTypeTraversal</a></span> <span class="typed"><span class="type">Unit</span><a href="#133028">{</a></span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotatedType</a>(<span class="typed"><span class="type">List[RefChecks.this.global.AnnotationInfo]</span><a id="133029">attribs</a></span>, _, _) =&gt; <span class="typed"><span class="type">(List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)])Unit</span><a href="#132903">checkAnnotations</a></span>(<span class="typed"><span class="type">List[RefChecks.this.global.AnnotationInfo]</span><a href="#133029">attribs</a></span>.<span class="typed"><span class="type">((RefChecks.this.global.AnnotationInfo) =&gt; (RefChecks.this.global.Type, scala.tools.nsc.util.Position))List[(RefChecks.this.global.Type, scala.tools.nsc.util.Position)]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">RefChecks.this.global.AnnotationInfo</span><a id="133032">a</a></span> =&gt; <span class="typed"><span class="type">(RefChecks.this.global.Type,scala.tools.nsc.util.Position)(RefChecks.this.global.Type, scala.tools.nsc.util.Position)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">RefChecks.this.global.AnnotationInfo</span><a href="#133032">a</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/AnnotationInfos.scala.html#47884">atp</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)))
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        }
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _              =&gt;
      }

      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">RefChecks.this.global.Modifiers</span><a id="133036">mods</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133037">name</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.TypeDef]</span><a id="133038">tparams</a></span>, <span class="typed"><span class="type">List[List[RefChecks.this.global.ValDef]]</span><a id="133039">vparams</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133040">tpt</a></span>, <span class="typed"><span class="type">object RefChecks.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25094">hasAttribute</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26104">NativeAttr</a></span>) =&gt;
          <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span>(<span class="typed"><span class="type">Long(16L)</span><span >DEFERRED</span></span>)
          <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Modifiers,RefChecks.this.global.Name,List[RefChecks.this.global.TypeDef],List[List[RefChecks.this.global.ValDef]],RefChecks.this.global.Tree,RefChecks.this.global.Tree)RefChecks.this.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Modifiers</span><a href="#133036">mods</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133037">name</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.TypeDef]</span><a href="#133038">tparams</a></span>, <span class="typed"><span class="type">List[List[RefChecks.this.global.ValDef]]</span><a href="#133039">vparams</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133040">tpt</a></span>, 
                <span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree</span><a href="Typers.scala.html#31830">typed</a></span>(<span class="typed"><span class="type">(RefChecks.this.global.Tree,List[RefChecks.this.global.Tree])RefChecks.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27604">mkAttributedRef</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.definitions</span><a href="../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25930">Predef_error</a></span>), <span class="typed"><span class="type">(RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(Any)RefChecks.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;native method stub&quot;)</span><span class="string">&quot;native method stub&quot;</span></span>))))))

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt;
          <span class="typed"><span class="type">()Unit</span><a href="#132899">checkDeprecatedOvers</a></span>()

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(_, _, _, _) =&gt;
          <span class="typed"><span class="type">()Unit</span><a href="#132899">checkDeprecatedOvers</a></span>()

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Template</a>(_, _, _) =&gt;
          <span class="typed"><span class="type">(RefChecks.this.global.analyzer.Typer)Unit</span><a href="#132135">localTyper</a></span> = <span class="typed"><span class="type">=&gt; RefChecks.this.global.analyzer.Typer</span><a href="#132134">localTyper</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.analyzer.global.Tree,RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer</span><a href="Typers.scala.html#31829">atOwner</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>, <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132144">validateBaseTypes</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a href="#132143">checkAllOverrides</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>)
        
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">TypeTree</a>() =&gt; <span class="typed"><span class="type">((RefChecks.this.global.Type) =&gt; Unit)Unit</span><a href="#132908">doTypeTraversal</a></span> <span class="typed"><span class="type">Unit</span><a href="#133058">{</a></span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a id="133059">t</a></span>: <span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="../symtab/Types.scala.html#21993">TypeRef</a></span> =&gt; <span class="typed"><span class="type">(RefChecks.this.global.TypeRef,scala.tools.nsc.util.Position)Unit</span><a href="#132902">checkTypeRef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.TypeRef</span><a href="#133059">t</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; 
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">TypeApply</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133060">fn</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="133061">args</a></span>) =&gt;
          <span class="typed"><span class="type">(RefChecks.this.global.Type,RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol],List[RefChecks.this.global.Type])Unit</span><a href="#132895">checkBounds</a></span>(<span class="typed"><span class="type">object RefChecks.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span>, <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133060">fn</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[RefChecks.this.global.Symbol]</span><a href="../symtab/Types.scala.html#25669">typeParams</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#133061">args</a></span> <span class="typed"><span class="type">((RefChecks.this.global.Tree) =&gt; RefChecks.this.global.Type)List[RefChecks.this.global.Type]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133064">_</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)) 
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132901">isCaseApply</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>)) <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Type)RefChecks.this.global.Tree</span><a href="#132170">toConstructor</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Apply</a>(
          <a id="1">Select</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133066">qual</a></span>, <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30826">filter</a></span>), 
          <span class="typed"><span class="type">(List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]</span><span id="21410"><a href="#133067" id="527">List</a></span></span>(<a id="1">Function</a>(
            <span class="typed"><span class="type">(List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]</span><span id="21410"><a href="#133070" id="527">List</a></span></span>(<a id="1">ValDef</a>(_, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133074">pname</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133075">tpt</a></span>, _)), 
            <a id="1">Match</a>(_, <a id="1">CaseDef</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133077">pat1</a></span>, _, _) <a id="1">::</a> _))))
          <span class="keyword">if</span> ((<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133074">pname</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Name)Boolean</span><a href="../symtab/Names.scala.html#23910">startsWith</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)RefChecks.this.global.Name</span><a href="../symtab/Names.scala.html#21102">CHECK_IF_REFUTABLE_STRING</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
              <span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Type)Boolean</span><a href="#132897">isIrrefutable</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133077">pat1</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133075">tpt</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)) =&gt;
            <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133066">qual</a></span>

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<a id="1">Select</a>(<a id="1">New</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133081">tpt</a></span>), <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133082">name</a></span>), <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="133083">args</a></span>) 
        <span class="keyword">if</span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133081">tpt</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25901">ArrayClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#133083">args</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>) =&gt;
          <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24152">deprecationWarning</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, 
            <span class="typed"><span class="type">java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.withDims(...) instead&quot;)</span><span class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.withDims(...) instead&quot;</span></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="#132138">currentApplication</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133087">fn</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a id="133088">args</a></span>) =&gt;
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Tree,List[RefChecks.this.global.Tree])Unit</span><a href="#132169">checkSensible</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133087">fn</a></span>, <span class="typed"><span class="type">List[RefChecks.this.global.Tree]</span><a href="#133088">args</a></span>)
          <span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="#132138">currentApplication</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">If</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133089">cond</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133090">thenpart</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133091">elsepart</a></span>) =&gt;
          <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133089">cond</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ConstantType</a>(<span class="typed"><span class="type">RefChecks.this.global.Constant</span><a id="133092">value</a></span>) =&gt; 
              <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Constant</span><a href="#133092">value</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Constants.scala.html#37594">booleanValue</a></span>) <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133090">thenpart</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133091">elsepart</a></span>;
              <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>) <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">(Any)RefChecks.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Unit</span><span >(</span></span>)).<span class="typed"><span class="type">(scala.tools.nsc.util.Position)RefChecks.this.global.Literal</span><a href="../ast/Trees.scala.html#25356">setPos</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>).<span class="typed"><span class="type">(RefChecks.this.global.Type)RefChecks.this.global.Literal</span><a href="../ast/Trees.scala.html#25357">setType</a></span>(<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; 
          }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">New</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133101">tpt</a></span>) =&gt;
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Symbol)Unit</span><a href="#132166">enterReference</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133101">tpt</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>)

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Typed</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133102">expr</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Ident</span><a id="133103">tpt</a></span> @ <a id="1">Ident</a>(<span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133105">name</a></span>)) <span class="keyword">if</span> (<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133105">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30597">WILDCARD_STAR</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span>) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(RefChecks.this.global.Tree)Boolean</span><a href="#132900">isRepeatedParamArg</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>))
            <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span class="typed"><span class="type">java.lang.String(&quot;no `: _*' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)</span><span >+</span></span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span>)

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133108">name</a></span>) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132901">isCaseApply</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>))
            <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Type)RefChecks.this.global.Tree</span><a href="#132170">toConstructor</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
          <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133108">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133108">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30597">WILDCARD_STAR</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span>) {
            <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object RefChecks.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>)<span class="comment">//debug</span>
            <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Symbol)Unit</span><a href="#132166">enterReference</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>)
          }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Select</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133120">qual</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133121">name</a></span>) =&gt;
          <span class="typed"><span class="type">(RefChecks.this.global.Symbol,scala.tools.nsc.util.Position)Unit</span><a href="#132898">checkDeprecated</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43094">currentClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(524288L)</span><span >LOCAL</span></span>)) {
            <span class="keyword">var</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="133124">o</a></span> = <span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#43094">currentClass</a></span>
            <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><a id="133125">hidden</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
            <span class="typed"><span class="type">Unit</span><a href="#133126" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#133125">hidden</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25283">moduleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25151">isPackage</a></span>) {
              <span class="typed"><span class="type">Boolean</span><a href="#133125">hidden</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25185">isPrivateLocal</a></span>
              <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133124">o</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>
            }
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#133125">hidden</a></span>) <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]</span><a href="#132153">escapedPrivateLocals</a></span> <span class="typed"><span class="type">(RefChecks.this.global.Symbol)Unit</span><a id="25499">+=</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>
          }
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(RefChecks.this.global.Symbol)Boolean</span><a href="#132901">isCaseApply</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>))
            <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position,RefChecks.this.global.Type)RefChecks.this.global.Tree</span><a href="#132170">toConstructor</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
          <span class="keyword">else</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133120">qual</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Super</a>(<span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133133">qualifier</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Name</span><a id="133134">mix</a></span>) =&gt;
              <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a id="133135">base</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133120">qual</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>;
              <span class="comment">//Console.println(&quot;super: &quot; + tree + &quot; in &quot; + base);//DEBUG</span>
              <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#133135">base</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Symbol</span><a href="#132906">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">RefChecks.this.global.Name</span><a href="#133134">mix</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object RefChecks.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/StdNames.scala.html#30591">EMPTY</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span>)) <span class="comment">// term should have been eliminated by super accessors</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
          }
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
      }
      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">RefChecks.this.global.CaseDef</span><span class="keyword">case</span></span> <a id="1">CaseDef</a>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133139">pat</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133140">guard</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133141">body</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#132141">inPattern</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a id="133142">pat1</a></span> = <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133139">pat</a></span>)
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#132141">inPattern</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
          <span class="typed"><span class="type">=&gt; RefChecks.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree,RefChecks.this.global.Tree,RefChecks.this.global.Tree,RefChecks.this.global.Tree)RefChecks.this.global.CaseDef</span><a href="../ast/Trees.scala.html#43168">CaseDef</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>, <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133142">pat1</a></span>, <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133140">guard</a></span>), <span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="#132173">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#133141">body</a></span>))
        <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt;
          <span class="keyword">super</span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree)RefChecks.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span>)
      }
      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, _) 
           | <a id="1">TypeDef</a>(_, _, _, _) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; RefChecks.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25167">isPackageClass</a></span>) 
            <span class="typed"><span class="type">=&gt; RefChecks.this.global.Traverser</span><a href="#132155">varianceValidator</a></span>.<span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
      }
      <span class="typed"><span class="type">(RefChecks.this.global.analyzer.Typer)Unit</span><a href="#132135">localTyper</a></span> = <span class="typed"><span class="type">RefChecks.this.global.analyzer.Typer</span><a href="#132904">savedLocalTyper</a></span>
      <span class="typed"><span class="type">(RefChecks.this.global.Tree)Unit</span><a href="#132138">currentApplication</a></span> = <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132905">savedCurrentApplication</a></span>
      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132907">result</a></span>
    } <span class="keyword">catch</span> {
      <span class="typed"><span class="type">RefChecks.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a id="133146">ex</a></span>: <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a href="../symtab/Types.scala.html#22181">TypeError</a></span> =&gt;
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a href="#133146">ex</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23651">printStackTrace</a></span>();
        <span class="typed"><span class="type">RefChecks.this.global.CompilationUnit</span><a href="#132132">unit</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="../CompilationUnits.scala.html#24150">error</a></span>(<span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">RefChecks.this.global.TypeError</span><a href="#133146">ex</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="23646">getMessage</a></span>())
        <span class="typed"><span class="type">RefChecks.this.global.Tree</span><a href="#132814">tree</a></span>
    }
  }
}

        </pre>
    </body>
</html>