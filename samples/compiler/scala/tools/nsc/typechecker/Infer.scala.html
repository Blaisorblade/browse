<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Infer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Infer.scala 18548 2009-08-22 21:27:49Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlException
<span class="keyword">import</span> symtab.Flags._

/** This trait ...
 *
 *  @author Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Infer extends java.lang.Object with ScalaObject" id="17460">Infer</a> <span title="ScalaObject">{</span>
  self: Analyzer =&gt;
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._

  // statistics
  <span class="keyword">var</span> <a title="Int" id="40159">normM</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="40162">normP</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="40165">normO</a> = <span title="Int(0)" class="int">0</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="40167">inferInfo</a> = <span title="Boolean(false)" class="keyword">false</span>

/* -- Type parameter inference utility functions --------------------------- */

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="40169">assertNonCyclic</a>(<a title="Infer.this.global.TypeVar" id="767266">tvar</a>: <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>) =
    <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#767266" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> != <a href="#767266" title="Infer.this.global.TypeVar">tvar</a>, <a href="#767266" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>)

  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type])Boolean" id="40170">isVarArgs</a>(<a title="List[Infer.this.global.Type]" id="270511">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]) = 
    <span title="(x$1: Boolean)Boolean">!</span><a href="#270511" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; (<a href="#270511" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a>)

  /** The formal parameter types corresponding to &lt;code&gt;formals&lt;/code&gt;.
   *  If &lt;code&gt;formals&lt;/code&gt; has a repeated last parameter, a list of
   *  (nargs - params.length + 1) copies of its type is returned.
   *  By-name types are replaced with their underlying type.
   *
   *  @param formals ...
   *  @param nargs ...
   */
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]" id="40171">formalTypes</a>(<a title="List[Infer.this.global.Type]" id="116069">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="116070">nargs</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = 
    <a href="#40172" title="(formals: List[Infer.this.global.Type],nargs: Int,removeByName: Boolean)List[Infer.this.global.Type]">formalTypes</a>(<a href="#116069" title="List[Infer.this.global.Type]">formals</a>, <a href="#116070" title="Int">nargs</a>, <span title="Boolean(true)" class="keyword">true</span>)

  /** This variant allows keeping ByName parameters. Useed in NamesDefaults. */
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type],nargs: Int,removeByName: Boolean)List[Infer.this.global.Type]" id="40172">formalTypes</a>(<a title="List[Infer.this.global.Type]" id="116062">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="116063">nargs</a>: <span title="Int">Int</span>, <a title="Boolean" id="116064">removeByName</a>: <span title="Boolean">Boolean</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
    <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="767289">formals1</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#116064" title="Boolean">removeByName</a>) <a href="#116062" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">formals</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#767298" title="Infer.this.global.Type">{</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="767302">sym</a>, <a href="#767304" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a>(<a title="Infer.this.global.Type" id="767313">arg</a>)) <span class="keyword">if</span> (<a href="#767302" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28548" title="=&gt; Infer.this.global.Symbol">ByNameParamClass</a>) =&gt; <a href="#767313" title="Infer.this.global.Type">arg</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="767323">formal</a> =&gt; <a href="#767323" title="Infer.this.global.Type">formal</a>
    } <span class="keyword">else</span> <a href="#116062" title="List[Infer.this.global.Type]">formals</a>
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#40170" title="(formals: List[Infer.this.global.Type])Boolean">isVarArgs</a>(<a href="#767289" title="List[Infer.this.global.Type]">formals1</a>)) {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767409">ft</a> = <a href="#767289" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span>
      <a href="#767289" title="List[Infer.this.global.Type]">formals1</a>.<a title="=&gt; List[Infer.this.global.Type]" id="25480">init</a> <a href="#767411" title="List[Infer.this.global.Type]">:::</a> <span title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">(</span><span class="keyword">for</span> (<a title="Int" id="767442">i</a> &lt;- <span title="object List">List</span>.<a title="(start: Int,end: Int)List[Int]" id="24643">range</a><span title="(f: (Int) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Int]])List[Infer.this.global.Type]">(</span><a href="#767289" title="List[Infer.this.global.Type]">formals1</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>, <a href="#116063" title="Int">nargs</a>)) <span class="keyword">yield</span> <a href="#767409" title="Infer.this.global.Type">ft</a>)
    } <span class="keyword">else</span> <a href="#767289" title="List[Infer.this.global.Type]">formals1</a>
  }

  <span class="keyword">def</span> <a title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]" id="40173">actualTypes</a>(<a title="List[Infer.this.global.Type]" id="767530">actuals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="767531">nformals</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] =
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#767531" title="(x$1: Int)Boolean">nformals</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(1)" class="int">1</span> &amp;&amp; <a href="#767530" title="List[Infer.this.global.Type]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> != <span title="Int(1)" class="int">1</span>)
      <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#767530" title="List[Infer.this.global.Type]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(0)" class="int">0</span>) <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28645" title="(elems: List[Infer.this.global.Type])Infer.this.global.Type">tupleType</a>(<a href="#767530" title="List[Infer.this.global.Type]">actuals</a>))
    <span class="keyword">else</span> <a href="#767530" title="List[Infer.this.global.Type]">actuals</a>

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,actuals: List[Infer.this.global.Tree],nformals: Int)List[Infer.this.global.Tree]" id="40174">actualArgs</a>(<a title="scala.tools.nsc.util.Position" id="271443">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="List[Infer.this.global.Tree]" id="271444">actuals</a>: <span title="List[Infer.this.global.Tree]">List</span>[Tree], <a title="Int" id="271445">nformals</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Tree]">List</span>[Tree] =
    <span title="List[Infer.this.global.Tree]" class="keyword">if</span> (<a href="#271445" title="(x$1: Int)Boolean">nformals</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#271444" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> != <span title="Int(1)" class="int">1</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#271444" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> &lt;= <a href="../symtab/Definitions.scala.html#26638" title="object Infer.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28631" title="=&gt; Int">MaxTupleArity</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23307" title="=&gt; Boolean">erasedTypes</a>)
      <span title="(xs: Infer.this.global.gen.global.Tree*)List[Infer.this.global.gen.global.Tree]">List</span>(<a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Infer.this.global.gen.global.Tree)Infer.this.global.gen.global.Tree">atPos</a>(<a href="#271443" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../Global.scala.html#39263" title="object Infer.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42923" title="(elems: List[Infer.this.global.gen.global.Tree])Infer.this.global.gen.global.Tree">mkTuple</a>(<a href="#271444" title="List[Infer.this.global.Tree]">actuals</a>))) <span class="keyword">else</span> <a href="#271444" title="List[Infer.this.global.Tree]">actuals</a>

  /** A fresh type varable with given type parameter as origin.
   *
   *  @param tparam ...
   *  @return       ...
   */
  <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar" id="40175">freshVar</a>(<a title="Infer.this.global.Symbol" id="264070">tparam</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a> =
    <span title="Infer.this.global.TypeVar" class="keyword">new</span> <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>(<a href="#264070" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="../symtab/Types.scala.html#665043" title="()Infer.this.global.TypeConstraint" class="keyword">new</a> <a href="../symtab/Types.scala.html#26478" title="Infer.this.global.TypeConstraint">TypeConstraint</a>)  //@M TODO: might be affected by change to tpe in Symbol

  //todo: remove comments around following privates; right now they cause an IllegalAccess
  // error when built with scalac

  /*private*/ <span class="keyword">class</span> <a title="class NoInstance extends java.lang.RuntimeException with scala.util.control.ControlException with ScalaObject" id="40176">NoInstance</a><a title="ScalaObject" id="29432">(</a><a title="String" id="767632">msg</a>: <span title="String">String</span>) <span class="keyword">extends</span> <a title="java.lang.RuntimeException" id="7891">RuntimeException</a>(<a href="#767632" title="String">msg</a>) <span class="keyword">with</span> <a title="scala.util.control.ControlException" id="47286">ControlException</a>

  /*private*/ <span class="keyword">class</span> <a title="class DeferredNoInstance extends Infer.this.NoInstance with ScalaObject" id="40177">DeferredNoInstance</a><span title="ScalaObject">(</span><a title="() =&gt; String" id="767646">getmsg</a>: () =&gt; String) <span class="keyword">extends</span> <a href="#40176" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="767643">getMessage</a>(): <span title="String">String</span> = <a href="#767646" title="()String">getmsg</a>()
  }

  /** map every TypeVar to its constraint.inst field.
   *  throw a NoInstance exception if a NoType or WildcardType is encountered.
   *
   *  @param  tp ...
   *  @return    ...
   *  @throws    NoInstance
   */
  <span class="keyword">object</span> <a title="object Infer.this.instantiate" id="40178">instantiate</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26479" title="Infer.this.global.TypeMap">TypeMap</a> {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Infer.this.global.TypeVar]" id="767654">excludedVars</a> = scala.collection.immutable.<a title="[A](args: A*)scala.collection.immutable.Set[A]" id="7613">Set</a><span title="(args: Infer.this.global.TypeVar*)scala.collection.immutable.Set[Infer.this.global.TypeVar]">[</span><a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>]()
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="767656">apply</a>(<a title="Infer.this.global.Type" id="767664">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#767664" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
      <span title="Nothing" class="keyword">case</span> <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> | <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#40176" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;undetermined type&quot;)" class="string">&quot;undetermined type&quot;</span>)
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.TypeVar" id="767669">tv</a> @ TypeVar(<a title="Infer.this.global.Type" id="767672">origin</a>, <a title="Infer.this.global.TypeConstraint" id="767673">constr</a>) =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#767673" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> == <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a>) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#40177" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a>(() =&gt;
            <span title="(x$1: Any)java.lang.String" class="string">&quot;no unique instantiation of type variable &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#767672" title="Infer.this.global.Type">origin</a> + <span title="java.lang.String(&quot; could be found&quot;)" class="string">&quot; could be found&quot;</span>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#767654" title="(elem: Infer.this.global.TypeVar)Boolean" id="39564">excludedVars</a> contains <a href="#767669" title="Infer.this.global.TypeVar">tv</a>) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#40176" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;cyclic instantiation&quot;)" class="string">&quot;cyclic instantiation&quot;</span>)
        } <span class="keyword">else</span> {
          <a href="#767654" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit" id="39566">excludedVars</a> += <a href="#767669" title="Infer.this.global.TypeVar">tv</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767695">res</a> = <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">apply</a>(<a href="#767673" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
          <a href="#767654" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit" id="39568">excludedVars</a> -= <a href="#767669" title="Infer.this.global.TypeVar">tv</a>
          <a href="#767695" title="Infer.this.global.Type">res</a>
        } 
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#42954" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#767664" title="Infer.this.global.Type">tp</a>)
    }
  }

  /** Is type fully defined, i.e. no embedded anytypes or wildcards in it?
   *
   *  @param tp ...
   *  @return   ...
   */
  <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Boolean" id="40180">isFullyDefined</a>(<a title="Infer.this.global.Type" id="261075">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#261075" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
    <span title="Boolean(false)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> | <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26385" title="object Infer.this.global.NoPrefix">NoPrefix</a> | ThisType(_) | ConstantType(_) =&gt; 
      <span title="Boolean(true)" class="keyword">true</span>
    <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="767874">pre</a>, <a title="Infer.this.global.Symbol" id="767875">sym</a>, <a title="List[Infer.this.global.Type]" id="767876">args</a>) =&gt;
      <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span title="(x$1: Boolean)Boolean">(</span><a href="#767874" title="Infer.this.global.Type">pre</a>) &amp;&amp; (<a href="#767876" title="List[Infer.this.global.Type]">args</a>.<span title="(x$1: Boolean)Boolean">isEmpty</span> || (<a href="#767876" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">args</a> forall <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>))
    <span title="Boolean" class="keyword">case</span> SingleType(<a title="Infer.this.global.Type" id="767896">pre</a>, <a title="Infer.this.global.Symbol" id="767897">sym</a>) =&gt;
      <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#767896" title="Infer.this.global.Type">pre</a>)
    <span title="Boolean" class="keyword">case</span> RefinedType(<a title="List[Infer.this.global.Type]" id="767904">ts</a>, <a title="Infer.this.global.Scope" id="767905">decls</a>) =&gt;
      <a href="#767904" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">ts</a> forall <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>
    <span title="Boolean(false)" class="keyword">case</span> TypeVar(<a title="Infer.this.global.Type" id="767919">origin</a>, <a title="Infer.this.global.TypeConstraint" id="767920">constr</a>) <span class="keyword">if</span> (<a href="#767920" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> == <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a>) =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span title="Boolean" class="keyword">case</span> _ =&gt;
      <span class="keyword">try</span> {
        <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#261075" title="Infer.this.global.Type">tp</a>); <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">catch</span> {
        <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="767936">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }
  }        

  /** Solve constraint collected in types &lt;code&gt;tvars&lt;/code&gt;.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to &lt;code&gt;tvars&lt;/code&gt;
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When &lt;code&gt;true&lt;/code&gt; search for max solution else min.
   *  @throws NoInstance
   */
  <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]" id="40181">solvedTypes</a>(<a title="List[Infer.this.global.TypeVar]" id="751493">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span>[TypeVar], <a title="List[Infer.this.global.Symbol]" id="751494">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                  <a title="List[Int]" id="751495">variances</a>: <span title="List[Int]">List</span>[Int], <a title="Boolean" id="751496">upper</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="751497">depth</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
//    def boundsString(tvar: TypeVar) = 
//      &quot;\n  &quot;+
//      ((tvar.constr.lobounds map (_ + &quot; &lt;: &quot; + tvar.origin.typeSymbol.name)) :::
//       (tvar.constr.hibounds map (tvar.origin.typeSymbol.name + &quot; &lt;: &quot; + _)) mkString &quot;, &quot;)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#26585" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)Boolean">solve</a>(<a href="#751493" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#751494" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#751495" title="List[Int]">variances</a>, <a href="#751496" title="Boolean">upper</a>, <a href="#751497" title="Int">depth</a>)) <span title="Unit">{</span>
//    no panic, it's good enough to just guess a solution, we'll find out
//    later whether it works.
//      throw new DeferredNoInstance(() =&gt;
//        &quot;no solution exists for constraints&quot;+(tvars map boundsString))
    }
    <span class="keyword">for</span> (<a title="Infer.this.global.TypeVar" id="767971">tvar</a> &lt;- <a href="#751493" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a>) 
      <span title="Unit" class="keyword">if</span> (<a href="#767971" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> == <a href="#767971" title="Infer.this.global.TypeVar">tvar</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#767971" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27163" title="(x$1: AnyRef)Boolean">info</a> eq <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a>) {
          // this can happen if during solving a cyclic type paramater
          // such as T &lt;: T gets completed. See #360
          <a href="#767971" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665051" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a>
        } <span class="keyword">else</span> <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <a href="#767971" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>)
    <a href="#751493" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.TypeVar]])List[Infer.this.global.Type]">tvars</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#40178" title="object Infer.this.instantiate">instantiate</a>
  }

  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="40182">skipImplicit</a>(<a title="Infer.this.global.Type" id="768029">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) =
    <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#768029" title="Infer.this.global.Type">tp</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26419" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a>]) <a href="#768029" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Infer.this.global.Type">resultType</a> <span class="keyword">else</span> <a href="#768029" title="Infer.this.global.Type">tp</a>

  /** Automatically perform the following conversions on expression types:
   *  A method type becomes the corresponding function type.
   *  A nullary method type becomes its result type.
   *  Implicit parameters are skipped.
   */
  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="40183">normalize</a>(<a title="Infer.this.global.Type" id="47210">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#40182" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#47210" title="Infer.this.global.Type">tp</a>) <span title="Infer.this.global.Type" class="keyword">match</span> {
    <span title="Infer.this.global.Type" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="768041">params</a>, <a title="Infer.this.global.Type" id="768042">restpe</a>) <span class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#768042" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30364" title="=&gt; Boolean">isDependent</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) <a href="#40159" title="(x$1: Int)Unit">normM</a> += <span title="Int(1)" class="int">1</span>
      <a href="../symtab/Definitions.scala.html#28659" title="(formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type)Infer.this.global.Type">functionType</a>(<a href="#768041" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#768091" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#40183" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#768042" title="Infer.this.global.Type">restpe</a>))
    <span title="Infer.this.global.Type" class="keyword">case</span> PolyType(<a href="#768123" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>(), <a title="Infer.this.global.Type" id="768133">restpe</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) <a href="#40162" title="(x$1: Int)Unit">normP</a> += <span title="Int(1)" class="int">1</span>
      <a href="#40183" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#768133" title="Infer.this.global.Type">restpe</a>)
    <span title="Infer.this.global.ExistentialType" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="768176">tparams</a>, <a title="Infer.this.global.Type" id="768177">qtpe</a>) =&gt;
      <a href="../symtab/Types.scala.html#43602" title="(quantified: List[Infer.this.global.Symbol],underlying: Infer.this.global.Type)Infer.this.global.ExistentialType">ExistentialType</a>(<a href="#768176" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#40183" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#768177" title="Infer.this.global.Type">qtpe</a>))
    <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="768202">tp1</a> =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) <a href="#40165" title="(x$1: Int)Unit">normO</a> += <span title="Int(1)" class="int">1</span>
      <a href="#768202" title="Infer.this.global.Type">tp1</a> // @MAT aliases already handled by subtyping
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.ClassSymbol" id="40184">stdErrorClass</a> = <a href="../symtab/Definitions.scala.html#28425" title="=&gt; Infer.this.global.ModuleClassSymbol">RootClass</a>.<a href="../symtab/Symbols.scala.html#27049" title="(name: Infer.this.global.Name)Infer.this.global.ClassSymbol">newErrorClass</a>(<a href="../symtab/StdNames.scala.html#26690" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29865" title="=&gt; Infer.this.global.Name">ERROR</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; Infer.this.global.Name">toTypeName</a>)
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.TermSymbol" id="40186">stdErrorValue</a> = <a href="#40184" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>.<a href="../symtab/Symbols.scala.html#27036" title="(name: Infer.this.global.Name)Infer.this.global.TermSymbol">newErrorValue</a>(<a href="../symtab/StdNames.scala.html#26690" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29865" title="=&gt; Infer.this.global.Name">ERROR</a>)

  /** The context-dependent inferencer part */
  <span class="keyword">class</span> <a title="class Inferencer extends java.lang.Object with ScalaObject" id="40188">Inferencer</a><span title="ScalaObject">(</span><a title="Infer.this.Context" id="49059">context</a>: <a href="Contexts.scala.html#40053" title="Infer.this.Context">Context</a>) {

    /* -- Error Messages --------------------------------------------------- */

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.tools.nsc.util.Position" id="48978">addendumPos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a> = <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="() =&gt; String" id="48981">addendum</a>: () =&gt; String = _

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,msg: () =&gt; String)Unit" id="48983">setAddendum</a>(<a title="scala.tools.nsc.util.Position" id="752288">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="() =&gt; String" id="752289">msg</a>: () =&gt; String) = {
      <a href="#48978" title="(x$1: scala.tools.nsc.util.Position)Unit">addendumPos</a> = <a href="#752288" title="scala.tools.nsc.util.Position">pos</a>
      <a href="#48981" title="(x$1: () =&gt; String)Unit">addendum</a> = <a href="#752289" title="() =&gt; String">msg</a>
    }

    <span class="keyword">def</span> <a title="[T &lt;: Infer.this.global.Tree](tree: T)T" id="48984">setError</a>[<a title="&gt;: Nothing &lt;: Infer.this.global.Tree" id="48986">T</a> &lt;: Tree](<a title="T" id="115924">tree</a>: <a href="#48986" title="T">T</a>): <a href="#48986" title="T">T</a> = {
      <span title="Any" class="keyword">if</span> (<a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29556" title="=&gt; Boolean">hasSymbol</a>)
        <span title="tree.type" class="keyword">if</span> (<a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48660" title="=&gt; Boolean">reportGeneralErrors</a>) {
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="768243">name</a> = <a href="../symtab/Names.scala.html#26207" title="(s: String)Infer.this.global.Name">newTermName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&lt;error: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a> + <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>)
          <a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(
            <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29559" title="=&gt; Boolean">isType</a>) <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27049" title="(name: Infer.this.global.Name)Infer.this.global.ClassSymbol">newErrorClass</a>(<a href="#768243" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; Infer.this.global.Name">toTypeName</a>)
            <span class="keyword">else</span> <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27036" title="(name: Infer.this.global.Name)Infer.this.global.TermSymbol">newErrorValue</a>(<a href="#768243" title="Infer.this.global.Name">name</a>))
        } <span class="keyword">else</span> {
          <a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29559" title="=&gt; Boolean">isType</a>) <a href="#40184" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a> <span class="keyword">else</span> <a href="#40186" title="=&gt; Infer.this.global.TermSymbol">stdErrorValue</a>)
        }
      <a href="#115924" title="T">tree</a>.<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a>(<a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a>)
    }

    <span class="keyword">def</span> <a title="(name: Infer.this.global.Name)String" id="48987">decode</a>(<a title="Infer.this.global.Name" id="280002">name</a>: <a href="../symtab/Names.scala.html#26214" title="Infer.this.global.Name">Name</a>): <span title="String">String</span> =
      <span title="(x$1: Any)java.lang.String">(</span><span title="java.lang.String" class="keyword">if</span> (<a href="#280002" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28386" title="=&gt; Boolean">isTypeName</a>) <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;value &quot;)" class="string">&quot;value &quot;</span>) + <a href="#280002" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28411" title="=&gt; String">decode</a>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree)String" id="48988">treeSymTypeMsg</a>(<a title="Infer.this.global.Tree" id="271498">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>): <span title="String">String</span> =
      <span title="String" class="keyword">if</span> (<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> eq <span title="Null(null)" class="keyword">null</span>)
        <span title="(x$1: Any)java.lang.String" class="string">&quot;expression of type &quot;</span> + <a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>))
        <span title="(x$1: Any)java.lang.String" class="string">&quot;overloaded method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span> + <a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="keyword">else</span>
        <a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span>
        (<span title="Any" class="keyword">if</span> (<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
         <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30383" title="(x$1: Int)Boolean">paramSectionCount</a> &gt; <span title="Int(0)" class="int">0</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot;: &quot;</span>+<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> 
         <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; of type &quot;</span>+<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>) +
        (<span title="Any" class="keyword">if</span> (<a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; Infer.this.global.Name">apply</a>) <a href="#271498" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String" id="48989">applyErrorMsg</a>(<a title="Infer.this.global.Tree" id="768311">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="String" id="768312">msg</a>: <span title="String">String</span>, <a title="List[Infer.this.global.Type]" id="768313">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="768314">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) =
      <a href="#48988" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#768311" title="Infer.this.global.Tree">tree</a>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#768312" title="String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#768313" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) +
       (<span title="Any" class="keyword">if</span> (<a href="#768314" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; with expected result type &quot;</span> + <a href="#768314" title="Infer.this.global.Type">pt</a>)

    // todo: use also for other error messages
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)java.lang.String" id="48990">existentialContext</a>(<a title="Infer.this.global.Type" id="768341">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) = <a href="#768341" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30443" title="=&gt; List[Infer.this.global.Symbol]">existentialSkolems</a> <span title="java.lang.String" class="keyword">match</span> {
      <span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> <a href="#768345" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>() =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span title="java.lang.String" class="keyword">case</span> <a title="List[Infer.this.global.Symbol]" id="768355">skolems</a> =&gt; 
        <span class="keyword">def</span> <a title="(ss: List[String])List[String]" id="768356">disambiguate</a>(<a title="List[String]" id="768357">ss</a>: <span title="List[String]">List</span>[String]) = <a href="#768357" title="List[String]">ss</a> <span title="List[String]" class="keyword">match</span> {
          <span title="List[String]" class="keyword">case</span> <a href="#768359" title="(x: List[String])Some[List[String]]">List</a>() =&gt; <a href="#768357" title="List[String]">ss</a>
          <span title="List[java.lang.String]" class="keyword">case</span> <a title="String" id="768373">s</a> :: <a title="List[String]" id="768374">ss1</a> =&gt; <a href="#768373" title="String">s</a> <a href="#768377" title="String">::</a> <span title="(x: java.lang.String)List[java.lang.String]">(</span><a href="#768374" title="(f: (String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[String]])List[java.lang.String]">ss1</a> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a title="String" id="768386">s1</a> =&gt; <span title="java.lang.String" class="keyword">if</span> (<a href="#768386" title="(x$1: AnyRef)Boolean">s1</a> == <a href="#768373" title="String">s</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;(some other)&quot;</span>+<a href="#768386" title="String">s1</a> <span class="keyword">else</span> <a href="#768386" title="String">s1</a>))
        }
      <span title="(x$1: Any)java.lang.String" class="string">&quot; where &quot;</span>+(<a href="#768356" title="(ss: List[String])List[String]">disambiguate</a><span title="(sep: String)String">(</span><a href="#768355" title="(f: (Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[String],List[Infer.this.global.Symbol]])List[String]">skolems</a> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a href="#768491" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27258" title="=&gt; java.lang.String">existentialToString</a>)) mkString <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>)
    }

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String" id="48991">foundReqMsg</a>(<a title="Infer.this.global.Type" id="264225">found</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="264226">req</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="String">String</span> =
      <a href="#48998" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; java.lang.String)java.lang.String">withDisambiguation</a>(<a href="#264225" title="Infer.this.global.Type">found</a>, <a href="#264226" title="Infer.this.global.Type">req</a>) {
        <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n found   : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#264225" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30435" title="=&gt; java.lang.String">toLongString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48990" title="(tp: Infer.this.global.Type)java.lang.String">existentialContext</a>(<a href="#264225" title="Infer.this.global.Type">found</a>) <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;\012 required: &quot;)" class="string">&quot;\n required: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#264226" title="Infer.this.global.Type">req</a> + <a href="#48990" title="(tp: Infer.this.global.Type)java.lang.String">existentialContext</a>(<a href="#264226" title="Infer.this.global.Type">req</a>)
      }

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type,req: Infer.this.global.Type)java.lang.String" id="48992">typeErrorMsg</a>(<a title="Infer.this.global.Type" id="750757">found</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="750758">req</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) = {
      //println(found.baseTypeSeq)
      <span title="(x$1: Any)java.lang.String" class="string">&quot;type mismatch&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#750757" title="Infer.this.global.Type">found</a>, <a href="#750758" title="Infer.this.global.Type">req</a>) +
      (<span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#750757" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30381" title="(x$1: AnyRef)Boolean">resultApprox</a> ne <a href="#750757" title="Infer.this.global.Type">found</a>) &amp;&amp; <a href="#49005" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#750757" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30381" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#750758" title="Infer.this.global.Type">req</a>))
        <span title="java.lang.String(&quot;\012 possible cause: missing arguments for method or constructor&quot;)" class="string">&quot;\n possible cause: missing arguments for method or constructor&quot;</span>
       <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
    }
      
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,msg: String)Unit" id="48993">error</a>(<a title="scala.tools.nsc.util.Position" id="130554">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="130555">msg</a>: <span title="String">String</span>) {
      <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48697" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#130554" title="scala.tools.nsc.util.Position">pos</a>, <a href="#130555" title="String">msg</a>)
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree" id="48994">errorTree</a>(<a title="Infer.this.global.Tree" id="117141">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="String" id="117142">msg</a>: <span title="String">String</span>): <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a> = {
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#117141" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29561" title="=&gt; Boolean">isErroneous</a>) <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#117141" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#117142" title="String">msg</a>)
      <a href="#48984" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#117141" title="Infer.this.global.Tree">tree</a>)
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,found: Infer.this.global.Type,req: Infer.this.global.Type)Unit" id="48995">typeError</a>(<a title="scala.tools.nsc.util.Position" id="99550">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="99551">found</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="99552">req</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#99551" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#99552" title="Infer.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>) {
        <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#99550" title="scala.tools.nsc.util.Position">pos</a>, 
              <a href="#48992" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)java.lang.String">typeErrorMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#99551" title="Infer.this.global.Type">found</a>, <a href="#99552" title="Infer.this.global.Type">req</a>)+
              (<span title="Any" class="keyword">if</span> (<a href="#99550" title="(x$1: AnyRef)Boolean">pos</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a> &amp;&amp; <a href="#99550" title="(x$1: AnyRef)Boolean">pos</a> == <a href="#48978" title="=&gt; scala.tools.nsc.util.Position">addendumPos</a>) <a href="#48981" title="()String">addendum</a>()
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37241" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#48997" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#99551" title="Infer.this.global.Type">found</a>, <a href="#99552" title="Infer.this.global.Type">req</a>)
      }
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree" id="48996">typeErrorTree</a>(<a title="Infer.this.global.Tree" id="264611">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="264612">found</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="264613">req</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a> = {
      <a href="#48995" title="(pos: scala.tools.nsc.util.Position,found: Infer.this.global.Type,req: Infer.this.global.Type)Unit">typeError</a>(<a href="#264611" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#264612" title="Infer.this.global.Type">found</a>, <a href="#264613" title="Infer.this.global.Type">req</a>)
      <a href="#48984" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#264611" title="Infer.this.global.Tree">tree</a>)
    }

    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit" id="48997">explainTypes</a>(<a title="Infer.this.global.Type" id="264570">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="264571">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) = 
      <a href="#48998" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; Unit)Unit">withDisambiguation</a>(<a href="#264570" title="Infer.this.global.Type">tp1</a>, <a href="#264571" title="Infer.this.global.Type">tp2</a>) { <a href="Analyzer.scala.html#40028" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../symtab/Types.scala.html#26628" title="(found: Infer.this.global.Type,required: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#264570" title="Infer.this.global.Type">tp1</a>, <a href="#264571" title="Infer.this.global.Type">tp2</a>) }

    /** If types `tp1' `tp2' contain different type variables with same name 
     *  differentiate the names by including owner information.  Also, if the
     *  type error is because of a conflict between two identically named
     *  classes and one is in package scala, fully qualify the name so one
     *  need not deduce why &quot;java.util.Iterator&quot; and &quot;Iterator&quot; don't match.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; T)T" id="48998">withDisambiguation</a>[<a title="&gt;: Nothing &lt;: Any" id="49000">T</a>](<a title="Infer.this.global.Type" id="264574">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="264575">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>)(<a title="=&gt; T" id="264576">op</a>: =&gt; T): <a href="#49000" title="T">T</a> = {

      <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Unit" id="768597">explainName</a>(<a title="Infer.this.global.Symbol" id="768600">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) = { 
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#768600" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a>.<a title="(x$1: java.lang.String)Boolean" id="7044">endsWith</a>(<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>)) {
          <a href="#768600" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26210" title="(s: String)Infer.this.global.Name">newTypeName</a>(<a href="#768600" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="(x$1: Any)java.lang.String">toString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;(in &quot;)" class="string">&quot;(in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#768600" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) 
        }
      }

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]" id="768598">patches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]">ListBuffer</span>[(Symbol, Symbol, Name)]
      <span class="keyword">for</span> {
        <a title="Infer.this.global.TypeRef" id="768658">t1</a> @ TypeRef(_, <a title="Infer.this.global.Symbol" id="768662">sym1</a>, _) &lt;- <a href="../symtab/Types.scala.html#30414" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">tp1</a>
        <a title="Infer.this.global.TypeRef" id="768719">t2</a> @ TypeRef(_, <a title="Infer.this.global.Symbol" id="768723">sym2</a>, _) &lt;- <a href="../symtab/Types.scala.html#30414" title="(f: (Infer.this.global.Type) =&gt; Any)Unit">tp2</a>
        <span class="keyword">if</span> <a href="#768662" title="(x$1: AnyRef)Boolean">sym1</a> != <a href="#768723" title="Infer.this.global.Symbol">sym2</a>
      } {
        <span title="Any" class="keyword">if</span> (<a href="#768658" title="Infer.this.global.TypeRef">t1</a>.<a href="../symtab/Types.scala.html#30453" title="(x$1: AnyRef)Boolean">toString</a> == <a href="#768719" title="Infer.this.global.TypeRef">t2</a>.<a href="../symtab/Types.scala.html#30453" title="()String">toString</a>) { // type variable collisions
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="768737">name</a> = <a href="#768662" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>
          <a href="#768597" title="(sym: Infer.this.global.Symbol)Unit">explainName</a>(<a href="#768662" title="Infer.this.global.Symbol">sym1</a>)
          <a href="#768597" title="(sym: Infer.this.global.Symbol)Unit">explainName</a>(<a href="#768723" title="Infer.this.global.Symbol">sym2</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#768662" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#768723" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>) <a href="#768723" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26210" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;(some other)&quot;</span>+<a href="#768723" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>)
          <a href="#768598" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name))patches.type">patches</a> += (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol,_3: Infer.this.global.Name)(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)">(</span><a href="#768662" title="Infer.this.global.Symbol">sym1</a>, <a href="#768723" title="Infer.this.global.Symbol">sym2</a>, <a href="#768737" title="Infer.this.global.Name">name</a>))
        }
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#768662" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="#768723" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>) { // symbol name collisions where one is in scala._
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="768807">name</a> = <a href="#768662" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>
          <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)Unit" id="768808">scalaQualify</a>(<a title="Infer.this.global.Symbol" id="768809">s</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) =
            <span title="Unit" class="keyword">if</span> (<a href="#768809" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27104" title="=&gt; Boolean">isScalaPackageClass</a>) <a href="#768809" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26210" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;scala.&quot;</span> + <a href="#768809" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>)
          <span title="(xs: Infer.this.global.Symbol*)List[Infer.this.global.Symbol]">List</span><span title="(f: (Infer.this.global.Symbol) =&gt; Unit)Unit">(</span><a href="#768662" title="Infer.this.global.Symbol">sym1</a>, <a href="#768723" title="Infer.this.global.Symbol">sym2</a>) foreach <a href="#768808" title="(s: Infer.this.global.Symbol)Unit">scalaQualify</a>
          <a href="#768598" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name))patches.type">patches</a> += (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol,_3: Infer.this.global.Name)(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)">(</span><a href="#768662" title="Infer.this.global.Symbol">sym1</a>, <a href="#768723" title="Infer.this.global.Symbol">sym2</a>, <a href="#768807" title="Infer.this.global.Name">name</a>))
        }
      }

      <span class="keyword">val</span> <a title="T" id="768599">result</a> = <a href="#264576" title="=&gt; T">op</a>

      <span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="768952">sym1</a>, <a title="Infer.this.global.Symbol" id="768953">sym2</a>, <a title="Infer.this.global.Name" id="768954">name</a>) &lt;- <a href="#768598" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)) =&gt; Unit)Unit" id="62018">patches</a>) {
        <a href="#768952" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="#768954" title="Infer.this.global.Name">name</a>
        <a href="#768953" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="#768954" title="Infer.this.global.Name">name</a>
      }

      <a href="#768599" title="T">result</a>
    }

    /* -- Tests &amp; Checks---------------------------------------------------- */

    /** Check that &lt;code&gt;sym&lt;/code&gt; is defined and accessible as a member of
     *  tree &lt;code&gt;site&lt;/code&gt; with type &lt;code&gt;pre&lt;/code&gt; in current context.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,sym: Infer.this.global.Symbol,pre: Infer.this.global.Type,site: Infer.this.global.Tree)Infer.this.global.Tree" id="49001">checkAccessible</a>(<a title="Infer.this.global.Tree" id="262128">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Symbol" id="262129">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="262130">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Tree" id="262131">site</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a> =
      <span title="Infer.this.global.Tree" class="keyword">if</span> (<a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27080" title="=&gt; Boolean">isError</a>) {
        <a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">tree</a> <a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setSymbol</a> <a href="#262129" title="Infer.this.global.Symbol">sym</a> setType <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a>
      } <span class="keyword">else</span> {
        <span class="keyword">def</span> <a title="(explanation: String)Infer.this.global.Tree" id="768972">accessError</a>(<a title="String" id="768975">explanation</a>: <span title="String">String</span>): <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a> = 
          <a href="#48994" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#262128" title="Infer.this.global.Tree">tree</a>, <a href="Namers.scala.html#40075" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a>(<a href="#262129" title="Infer.this.global.Symbol">sym</a>).<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; cannot be accessed in &quot;)" class="string">&quot; cannot be accessed in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                    (<span title="Any" class="keyword">if</span> (<a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27073" title="=&gt; Boolean">isClassConstructor</a>) <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48624" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#262130" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Infer.this.global.Type">widen</a>) +
                    <a href="#768975" title="String">explanation</a>)

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="768973">topClass</a> = <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27210" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>
        <span title="Any" class="keyword">if</span> (<a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48609" title="(x$1: AnyRef)Boolean">unit</a> != <span title="Null(null)" class="keyword">null</span>)
          <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48609" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45672" title="(elem: Infer.this.global.Symbol)scala.collection.mutable.HashSet[Infer.this.global.Symbol]" id="39520">depends</a> += <a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27210" title="=&gt; Infer.this.global.Symbol">toplevelClass</a> 

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="768974">sym1</a> = <a href="../symtab/Symbols.scala.html#27185" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">sym</a> filter (<a title="Infer.this.global.Symbol" id="769043">alt</a> =&gt; <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48706" title="(sym: Infer.this.global.Symbol,pre: Infer.this.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#769043" title="Infer.this.global.Symbol">alt</a>, <a href="#262130" title="Infer.this.global.Type">pre</a>, <a href="#262131" title="Infer.this.global.Tree">site</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26879" title="Infer.this.global.Super">Super</a>]))
        <span title="Infer.this.global.Tree" class="keyword">if</span> (<a href="#768974" title="(x$1: AnyRef)Boolean">sym1</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#49059" title="Infer.this.Context">context</a>)
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#262128" title="Infer.this.global.Tree">tree</a>)
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262130" title="Infer.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48621" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#48624" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; Infer.this.global.Type">thisType</a> + (<a href="../symtab/Types.scala.html#30422" title="(that: Infer.this.global.Type)Boolean">pre</a> =:= <a href="#262129" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; Infer.this.global.Type">thisType</a>))
          }
          <a href="#768972" title="(explanation: String)Infer.this.global.Tree">accessError</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
        } <span class="keyword">else</span> {
          // Modify symbol's type so that raw types C
          // are converted to existentials C[T] forSome { type T }.
          // We can't do this on class loading because it would result
          // in infinite cycles.
          <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Unit" id="769096">cook</a>(<a title="Infer.this.global.Symbol" id="769098">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) {
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="769099">tpe1</a> = <a href="../symtab/Types.scala.html#183842" title="(tp: Infer.this.global.Type)Infer.this.global.Type">rawToExistential</a>(<a href="#769098" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>)
            <span title="Unit" class="keyword">if</span> (<a href="#769099" title="(x$1: AnyRef)Boolean">tpe1</a> ne <a href="#769098" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>) {
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cooked: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#769098" title="Infer.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span>+<a href="#769098" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>)
              <a href="#769098" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: Infer.this.global.Type)sym.type">setInfo</a><span title="Unit">(</span><a href="#769099" title="Infer.this.global.Type">tpe1</a>)
            }
          }
          <span title="Unit" class="keyword">if</span> (<a href="#768974" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>) { 
            <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym1</a> hasFlag <span title="Long(1048576L)">JAVA</span>) 
              <a href="#769096" title="(sym: Infer.this.global.Symbol)Unit">cook</a>(<a href="#768974" title="Infer.this.global.Symbol">sym1</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym1</a> hasFlag <span title="Long(8589934592L)">OVERLOADED</span>)
              <span class="keyword">for</span> (<a title="Infer.this.global.Symbol" id="769151">sym2</a> &lt;- <a href="#768974" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27184" title="(f: (Infer.this.global.Symbol) =&gt; Unit)Unit">alternatives</a>)
                <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym2</a> hasFlag <span title="Long(1048576L)">JAVA</span>) 
                  <a href="#769096" title="(sym: Infer.this.global.Symbol)Unit">cook</a>(<a href="#769151" title="Infer.this.global.Symbol">sym2</a>)
          }
          //Console.println(&quot;check acc &quot; + sym1 + &quot;:&quot; + sym1.tpe + &quot; from &quot; + pre);//DEBUG
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="769097">owntype</a> = <span class="keyword">try</span>{ 
            <a href="#262130" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#768974" title="Infer.this.global.Symbol">sym1</a>)
          } <span class="keyword">catch</span> {
            <span title="Infer.this.global.ErrorType.type" class="keyword">case</span> <a title="Infer.this.global.MalformedType" id="769162">ex</a>: <a href="../symtab/Types.scala.html#26620" title="Infer.this.global.MalformedType">MalformedType</a> =&gt;
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#769162" title="Infer.this.global.MalformedType">ex</a>.<a title="()Unit" id="26091">printStackTrace</a>
              <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="769163">sym2</a> = <a href="Namers.scala.html#40075" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a>(<a href="#768974" title="Infer.this.global.Symbol">sym1</a>)
              <span class="keyword">val</span> <a title="Infer.this.global.Type" id="769164">itype</a> = <a href="#262130" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#769163" title="Infer.this.global.Symbol">sym2</a>)
              <a href="#768972" title="(explanation: String)Infer.this.global.Tree">accessError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\n because its instance type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#769164" title="Infer.this.global.Type">itype</a>+
                          (<span title="Any" class="keyword">if</span> (<span title="(x$1: Any)java.lang.String" class="string">&quot;malformed type: &quot;</span><span title="(x$1: AnyRef)Boolean">+</span><a href="#769164" title="Infer.this.global.Type">itype</a>.<a href="../symtab/Types.scala.html#30453" title="()String">toString</a>==<a href="#769162" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#51619" title="=&gt; String">msg</a>) <span title="java.lang.String(&quot; is malformed&quot;)" class="string">&quot; is malformed&quot;</span> 
                           <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; contains a &quot;</span>+<a href="#769162" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#51619" title="=&gt; String">msg</a>))
              <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a>
          }
          <span title="Unit" class="keyword">if</span> (<a href="#262130" title="Infer.this.global.Type">pre</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26396" title="Infer.this.global.SuperType">SuperType</a>])
            <a href="#769097" title="Infer.this.global.Type">owntype</a> = <a href="#769097" title="Infer.this.global.Type">owntype</a>.<a href="../symtab/Types.scala.html#30413" title="(from: Infer.this.global.Type,to: Infer.this.global.Type)Infer.this.global.Type">substSuper</a>(<a href="#262130" title="Infer.this.global.Type">pre</a>, <a href="#262131" title="Infer.this.global.Tree">site</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; Infer.this.global.Type">thisType</a>)
          <a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">tree</a> <a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setSymbol</a> <a href="#768974" title="Infer.this.global.Symbol">sym1</a> setType <a href="#769097" title="Infer.this.global.Type">owntype</a>
        }
      }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="49002">isPlausiblyCompatible</a>(<a title="Infer.this.global.Type" id="750891">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="750892">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#750891" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> PolyType(_, <a title="Infer.this.global.Type" id="769208">restpe</a>) =&gt;
        <a href="#49002" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#769208" title="Infer.this.global.Type">restpe</a>, <a href="#750892" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ImplicitMethodType" id="769213">mt</a>: <a href="../symtab/Types.scala.html#26419" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a> =&gt;
        <a href="#49002" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#769213" title="Infer.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#44132" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#750892" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="769224">tparams</a>, <a title="Infer.this.global.Type" id="769225">qtpe</a>) =&gt;
        <a href="#49002" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#769225" title="Infer.this.global.Type">qtpe</a>, <a href="#750892" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="769232">params</a>, _) =&gt;
        <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="769235">formals</a> = <a href="#750891" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>
        <a href="#750892" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="769239">pre</a>, <a title="Infer.this.global.Symbol" id="769240">sym</a>, <a title="List[Infer.this.global.Type]" id="769241">args</a>) =&gt;
            <span title="(x$1: Boolean)Boolean">!</span><a href="#769240" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> || {
              <span class="keyword">val</span> <a title="Int" id="769244">l</a> = <a href="#769241" title="List[Infer.this.global.Type]">args</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>
              <a href="#769244" title="(x$1: Int)Boolean">l</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#769235" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <a href="#769240" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28641" title="(i: Int)Infer.this.global.Symbol" id="24729">FunctionClass</a>(<a href="#769244" title="Int">l</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <span title="object List">List</span>.<a title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)Boolean" id="24550">forall2</a>(<a href="#769241" title="List[Infer.this.global.Type]">args</a>, <a href="#769235" title="List[Infer.this.global.Type]">formals</a>) (<a href="#49003" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a>) &amp;&amp;
              <a href="#49003" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a>(<a href="#750891" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30381" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#769241" title="List[Infer.this.global.Type]">args</a>.<span title="=&gt; Infer.this.global.Type">last</span>)
            }
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        }
      <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
    }
        
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean" id="49003">isPlausiblySubType</a>(<a title="Infer.this.global.Type" id="769286">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="769287">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#769286" title="Infer.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="769307">sym1</a>, _) =&gt;
        <span title="(x$1: Boolean)Boolean">!</span><a href="#769307" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> || {
          <a href="#769287" title="Infer.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
            <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="769313">sym2</a>, _) =&gt; <span title="(x$1: Boolean)Boolean">!</span><a href="#769313" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> || (<a href="../symtab/Symbols.scala.html#27183" title="(that: Infer.this.global.Symbol)Boolean">sym1</a> isSubClass <a href="#769313" title="Infer.this.global.Symbol">sym2</a>)
            <span title="Boolean(true)" class="keyword">case</span> _ =&gt; <span title="Boolean(true)" class="keyword">true</span>
          }
        }
      <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="49004">isCompatible</a>(<a title="Infer.this.global.Type" id="750905">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="750906">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="769323">tp1</a> = <a href="#40183" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#750905" title="Infer.this.global.Type">tp</a>)
      <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#750906" title="Infer.this.global.Type">pt</a>) || <a href="#49006" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCoercible</a>(<a href="#750905" title="Infer.this.global.Type">tp</a>, <a href="#750906" title="Infer.this.global.Type">pt</a>)
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="49005">isWeaklyCompatible</a>(<a title="Infer.this.global.Type" id="750767">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="750768">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> =
      <a href="#750768" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a> <span title="(x$1: Boolean)Boolean">||</span> // can perform unit coercion
      <a href="#49004" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#750767" title="Infer.this.global.Type">tp</a>, <a href="#750768" title="Infer.this.global.Type">pt</a>) ||
      <a href="#750767" title="Infer.this.global.Type">tp</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="(x$1: Boolean)Boolean">[</span><a href="../symtab/Types.scala.html#26416" title="Infer.this.global.MethodType">MethodType</a>] <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> // can perform implicit () instantiation
      <a href="#750767" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(0)" class="int">0</span> &amp;&amp; <a href="#49004" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#750767" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#750768" title="Infer.this.global.Type">pt</a>)

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="49006">isCoercible</a>(<a title="Infer.this.global.Type" id="49065">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="49066">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(tps: List[Infer.this.global.Type],pts: List[Infer.this.global.Type])Boolean" id="49007">isCompatible</a>(<a title="List[Infer.this.global.Type]" id="750900">tps</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="List[Infer.this.global.Type]" id="750901">pts</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]): <span title="Boolean">Boolean</span> =
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)List[Boolean]">map2</span>(<a href="#750900" title="List[Infer.this.global.Type]">tps</a>, <a href="#750901" title="List[Infer.this.global.Type]">pts</a>)<span title="(p: (Boolean) =&gt; Boolean)Boolean">(</span>(<a title="Infer.this.global.Type" id="769389">tp</a>, <a title="Infer.this.global.Type" id="769390">pt</a>) =&gt; <a href="#49004" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#769389" title="Infer.this.global.Type">tp</a>, <a href="#769390" title="Infer.this.global.Type">pt</a>)) forall (<a title="Boolean" id="769407">x</a> =&gt; <a href="#769407" title="Boolean">x</a>)

    /* -- Type instantiation------------------------------------------------ */

    /** Replace any (possibly bounded) wildcard types in type `tp`
     *  by existentially bound variables.
     */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="49008">makeFullyDefined</a>(<a title="Infer.this.global.Type" id="283349">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="769410">tparams</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">def</span> <a title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type" id="769411">addTypeParam</a>(<a title="Infer.this.global.TypeBounds" id="769415">bounds</a>: <a href="../symtab/Types.scala.html#26399" title="Infer.this.global.TypeBounds">TypeBounds</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = {
        <span class="keyword">val</span> <a title="Infer.this.global.TypeSymbol" id="769416">tparam</a> =  
          <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27038" title="(pos: scala.tools.nsc.util.Position,name: Infer.this.global.Name)Infer.this.global.TypeSymbol">newAbstractType</a>(<a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48612" title="=&gt; Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30482" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/Names.scala.html#26210" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;_&quot;</span>+<a href="#769410" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<a title="=&gt; Int" id="25707">size</a>))
            .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Infer.this.global.TypeSymbol">setFlag</a>(<span title="Long(34359738368L)">EXISTENTIAL</span>)
            .<a href="../symtab/Symbols.scala.html#98274" title="(tp: Infer.this.global.Type)Infer.this.global.TypeSymbol">setInfo</a>(<a href="#769415" title="Infer.this.global.TypeBounds">bounds</a>)
        <a href="#769410" title="(x: Infer.this.global.Symbol)tparams.type">tparams</a> += <a href="#769416" title="Infer.this.global.TypeSymbol">tparam</a>
        <a href="#769416" title="Infer.this.global.TypeSymbol">tparam</a>.<a href="../symtab/Symbols.scala.html#98272" title="=&gt; Infer.this.global.Type">tpe</a>
      }
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="769412">tp1</a> = <a href="../symtab/Types.scala.html#30417" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)Infer.this.global.Type">tp</a> map <a href="#769472" title="Infer.this.global.Type">{</a> 
        <span title="Infer.this.global.Type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> =&gt;
          <a href="#769411" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a>(<a href="../symtab/Types.scala.html#149342" title="(lo: Infer.this.global.Type,hi: Infer.this.global.Type)Infer.this.global.TypeBounds">TypeBounds</a>(<a href="../symtab/Definitions.scala.html#28457" title="=&gt; Infer.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="../symtab/Definitions.scala.html#28447" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>))
        <span title="Infer.this.global.Type" class="keyword">case</span> BoundedWildcardType(<a title="Infer.this.global.TypeBounds" id="769496">bounds</a>) =&gt;
          <a href="#769411" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a>(<a href="#769496" title="Infer.this.global.TypeBounds">bounds</a>)
        <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="769501">t</a> =&gt; <a href="#769501" title="Infer.this.global.Type">t</a>
      }
      <a href="../symtab/Types.scala.html#26463" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a>(<a href="#769410" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#769412" title="Infer.this.global.Type">tp1</a>)
    }

    /** Return inferred type arguments of polymorphic expression, given 
     *  its type parameters and result type and a prototype &lt;code&gt;pt&lt;/code&gt;.
     *  If no minimal type variables exist that make the
     *  instantiated type a subtype of &lt;code&gt;pt&lt;/code&gt;, return null.
     *
     *  @param tparams ...
     *  @param restpe  ...
     *  @param pt      ...
     *  @return        ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="49009">exprTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="769508">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="769509">restpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="769510">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="769512">tvars</a> = <a href="#769508" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#49004" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#769509" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#769508" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769512" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#769510" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">try</span> {
          // If the restpe is an implicit method, and the expected type is fully defined
          // optimze type varianbles wrt to the implicit formals only; ignore the result type.
          // See test pos/jesper.scala 
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="769618">varianceType</a> = <a href="#769509" title="Infer.this.global.Type">restpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
            <span title="Infer.this.global.MethodType" class="keyword">case</span> <a title="Infer.this.global.ImplicitMethodType" id="769619">mt</a>: <a href="../symtab/Types.scala.html#26419" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a> <span class="keyword">if</span> <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#769510" title="Infer.this.global.Type">pt</a>) =&gt;
              <a href="../symtab/Types.scala.html#44127" title="(params: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.MethodType">MethodType</a>(<a href="#769619" title="Infer.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#44130" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="../symtab/Definitions.scala.html#28447" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>)
            <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
              <a href="#769509" title="Infer.this.global.Type">restpe</a>
          }
          //println(&quot;try to solve &quot;+tvars+&quot; &quot;+tparams)
          <a href="#40181" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#769512" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#769508" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769508" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40254" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#769654" title="Infer.this.global.Symbol">(</a><a href="#769618" title="Infer.this.global.Type">varianceType</a>), 
                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26534" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#769509" title="Infer.this.global.Type">restpe</a>, <a href="#769510" title="Infer.this.global.Type">pt</a>)))
        } <span class="keyword">catch</span> {
          <span title="Null(null)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="769699">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Null(null)" class="keyword">null</span>
        }
      } <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    }

    /** Return inferred proto-type arguments of function, given
    *  its type and value parameters and result type, and a
    *  prototype &lt;code&gt;pt&lt;/code&gt; for the function result.
    *  Type arguments need to be either determined precisely by
    *  the prototype, or they are maximized, if they occur only covariantly
    *  in the value parameter list.
    *  If instantiation of a type parameter fails, 
    *  take WildcardType for the proto-type argument.
    *
    *  @param tparams ...
    *  @param formals ...
    *  @param restype ...
    *  @param pt      ...
    *  @return        ...
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="49010">protoTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="272206">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="272207">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="272208">restpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>,
                      <a title="Infer.this.global.Type" id="272209">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      /** Map type variable to its instance, or, if `variance' is covariant/contravariant,
       *  to its upper/lower bound */
      <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar,variance: Int)Infer.this.global.Type" id="769700">instantiateToBound</a>(<a title="Infer.this.global.TypeVar" id="769702">tvar</a>: <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>, <a title="Int" id="769703">variance</a>: <span title="Int">Int</span>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <span class="keyword">try</span> {
        //Console.println(&quot;instantiate &quot;+tvar+tvar.constr+&quot; variance = &quot;+variance);//DEBUG
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> != <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a>) {
          <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#769703" title="(x$1: Int)Int">variance</a> &amp; <span title="Int(65536)">COVARIANT</span>) <span title="(x$1: Boolean)Boolean">!=</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="../symtab/Types.scala.html#264090" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26609" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
          <a href="#40169" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#769703" title="(x$1: Int)Int">variance</a> &amp; <span title="Int(131072)">CONTRAVARIANT</span>) <span title="(x$1: Boolean)Boolean">!=</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="../symtab/Types.scala.html#264090" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26600" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>)
          <a href="#40169" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp;
                   <a href="../symtab/Types.scala.html#26609" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>) &lt;:&lt; <a href="../symtab/Types.scala.html#26600" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>)) {
          <a href="../symtab/Types.scala.html#264090" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26609" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
          <a href="#40169" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#767656" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#769702" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> {
          <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>
        }
      } <span class="keyword">catch</span> {
        <span title="Infer.this.global.WildcardType.type" class="keyword">case</span> <a title="Infer.this.NoInstance" id="769819">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>
      }
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="769701">tvars</a> = <a href="#272206" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#49005" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#272208" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#272206" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769701" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#272209" title="Infer.this.global.Type">pt</a>))
        <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Symbol],ys: List[Infer.this.global.TypeVar])(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">map2</span>(<a href="#272206" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769701" title="List[Infer.this.global.TypeVar]">tvars</a>) ((<a title="Infer.this.global.Symbol" id="769934">tparam</a>, <a title="Infer.this.global.TypeVar" id="769935">tvar</a>) =&gt;
          <a href="#769700" title="(tvar: Infer.this.global.TypeVar,variance: Int)Infer.this.global.Type">instantiateToBound</a>(<a href="#769935" title="Infer.this.global.TypeVar">tvar</a>, <a href="Variances.scala.html#40250" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a>(<a href="#272207" title="List[Infer.this.global.Type]">formals</a>)(<a href="#769934" title="Infer.this.global.Symbol">tparam</a>)))
      <span class="keyword">else</span> 
        <a href="#769701" title="(f: (Infer.this.global.TypeVar) =&gt; object Infer.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[Infer.this.global.Type],List[Infer.this.global.TypeVar]])List[Infer.this.global.Type]">tvars</a> <span title="scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[object Infer.this.global.WildcardType],List#Coll]">map</span> (<a title="Infer.this.global.TypeVar" id="769956">tvar</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>)
    }

    /** Retract any Nothing arguments which appear covariantly in result type,
     *  and treat them as uninstantiated parameters instead.
     *  Map T* entries to Seq[T].
     */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]" id="49011">adjustTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="769984">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="769985">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="769986">restpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="769987">uninstantiated</a>: <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="List[Infer.this.global.Type]">List</span>[Type] =
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Symbol],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">map2</span>(<a href="#769984" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769985" title="List[Infer.this.global.Type]">targs</a>) {(<a title="Infer.this.global.Symbol" id="770003">tparam</a>, <a title="Infer.this.global.Type" id="770004">targ</a>) =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#770004" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28457" title="=&gt; Infer.this.global.Symbol">NothingClass</a> &amp;&amp; (<a href="#769986" title="(x$1: AnyRef)Boolean">restpe</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> || <span title="(x$1: Int)Boolean">(</span><a href="Variances.scala.html#40254" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a>(<a href="#769986" title="Infer.this.global.Type">restpe</a>)<span title="(x$1: Int)Int">(</span><a href="#770003" title="Infer.this.global.Symbol">tparam</a>) &amp; <span title="Int(65536)">COVARIANT</span>) == <span title="Int(0)" class="int">0</span>)) {
          <a href="#769987" title="(x: Infer.this.global.Symbol)uninstantiated.type">uninstantiated</a> += <a href="#770003" title="Infer.this.global.Symbol">tparam</a>
          <a href="#770003" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>  
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#770004" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a>) {
          <a href="#770004" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a>(<a href="../symtab/Definitions.scala.html#28560" title="=&gt; Infer.this.global.Symbol">SeqClass</a>)
        } <span class="keyword">else</span> {
          <a href="#770004" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Infer.this.global.Type">widen</a>
        }
      }

    /** Return inferred type arguments, given type parameters, formal parameters,
    *  argument types, result type and expected result type.
    *  If this is not possible, throw a &lt;code&gt;NoInstance&lt;/code&gt; exception.
    *  Undetermined type arguments are represented by `definitions.NothingClass.tpe'.
    *  No check that inferred parameters conform to their bounds is made here.
    *
    *  bq: was private, but need it for unapply checking
    *
    *  @param   tparams         the type parameters of the method
    *  @param   formals         the value parameter types of the method
    *  @param   restp           the result type of the method
    *  @param   argtpes         the argument types of the application
    *  @param   pt              the expected return type of the application
    *  @param   uninstantiated  a listbuffer receiving all uninstantiated type parameters
    *                           (type parameters mapped by the constraint solver to `scala.All' 
    *                           and not covariant in &lt;code&gt;restpe&lt;/code&gt; are taken to be
    *                           uninstantiated. Maps all those type arguments to their
    *                           corresponding type parameters).
    *  @return                  ...
    *  @throws                  NoInstance
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]" id="49012">methTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="770086">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="770087">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="770088">restpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, 
                             <a title="List[Infer.this.global.Type]" id="770089">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="770090">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>,
                             <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="770091">uninstantiated</a>: <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="770093">tvars</a> = <a href="#770086" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="Unit" class="keyword">if</span> (<a href="#770087" title="List[Infer.this.global.Type]">formals</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#770089" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>) {
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#40176" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;parameter lists differ in length&quot;)" class="string">&quot;parameter lists differ in length&quot;</span>)
      }
      // check first whether type variables can be fully defined from
      // expected result type.
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#49005" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#770088" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#770090" title="Infer.this.global.Type">pt</a>)) <span title="Unit">{</span>
//      just wait and instantiate from the arguments.
//      that way, we can try to apply an implicit conversion afterwards. 
//      This case could happen if restpe is not fully defined, so that
//      search for an implicit from it to pt fails because of an ambiguity.
//      See #0347. Therefore, the following two lines are commented out.
//        throw new DeferredNoInstance(() =&gt;
//          &quot;result type &quot; + normalize(restpe) + &quot; is incompatible with expected type &quot; + pt)
      }
      <span class="keyword">for</span> (<a title="Infer.this.global.TypeVar" id="770220">tvar</a> &lt;- <a href="#770093" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a>)
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#770220" title="Infer.this.global.TypeVar">tvar</a>)) <a href="#770220" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665051" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a>

      // Then define remaining type variables from argument types.
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Unit)List[Unit]">map2</span>(<a href="#770089" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#770087" title="List[Infer.this.global.Type]">formals</a>) {(<a title="Infer.this.global.Type" id="770243">argtpe</a>, <a title="Infer.this.global.Type" id="770244">formal</a>) =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#49004" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#770243" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#30371" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>),
                          <a href="#770244" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>))) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#40177" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a>(() =&gt;
            <span title="(x$1: Any)java.lang.String" class="string">&quot;argument expression's type is not compatible with formal parameter type&quot;</span> +
            <a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#770243" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#30371" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#770244" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>)))
        }
        <span title="Unit">(</span>)
      }
//      println(&quot;solve &quot;+tvars+&quot; &quot;+(tvars map (_.constr)))
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770094">targs</a> = <a href="#40181" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#770093" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770086" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40250" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><a href="#770291" title="Infer.this.global.Symbol">(</a><a href="#770087" title="List[Infer.this.global.Type]">formals</a>), 
                              <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26534" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><a title="(that: Int)Int" id="8158">(</a><a href="#770087" title="List[Infer.this.global.Type]">formals</a>) max <a href="../symtab/Types.scala.html#26534" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<a href="#770089" title="List[Infer.this.global.Type]">argtpes</a>))
//      val res =
      <a href="#49011" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">adjustTypeArgs</a>(<a href="#770086" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770094" title="List[Infer.this.global.Type]">targs</a>, <a href="#770088" title="Infer.this.global.Type">restpe</a>, <a href="#770091" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
//      println(&quot;meth type args &quot;+&quot;, tparams = &quot;+tparams+&quot;, formals = &quot;+formals+&quot;, restpe = &quot;+restpe+&quot;, argtpes = &quot;+argtpes+&quot;, underlying = &quot;+(argtpes map (_.widen))+&quot;, pt = &quot;+pt+&quot;, uninstantiated = &quot;+uninstantiated.toList+&quot;, result = &quot;+res) //DEBUG
//      res
    }

    <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="49013">followApply</a>(<a title="Infer.this.global.Type" id="271100">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#271100" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
      <span title="Infer.this.global.Type" class="keyword">case</span> PolyType(<a href="#770335" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>(), <a title="Infer.this.global.Type" id="770345">restp</a>) =&gt; 
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="770348">restp1</a> = <a href="#49013" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#770345" title="Infer.this.global.Type">restp</a>)
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#770348" title="(x$1: AnyRef)Boolean">restp1</a> eq <a href="#770345" title="Infer.this.global.Type">restp</a>) <a href="#271100" title="Infer.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#770348" title="Infer.this.global.Type">restp1</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="770353">appmeth</a> = <a href="#271100" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30404" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">nonPrivateMember</a><a href="../symtab/Symbols.scala.html#27185" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">(</a><a href="../symtab/StdNames.scala.html#26690" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; Infer.this.global.Name">apply</a>) filter (<a href="#770359" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27115" title="=&gt; Boolean">isPublic</a>)
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#770353" title="(x$1: AnyRef)Boolean">appmeth</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) <a href="#271100" title="Infer.this.global.Type">tp</a> 
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#259475" title="(pre: Infer.this.global.Type,alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a>(<a href="#271100" title="Infer.this.global.Type">tp</a>, <a href="#770353" title="Infer.this.global.Symbol">appmeth</a>.<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>)
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,n: Int)Boolean" id="49014">hasExactlyNumParams</a>(<a title="Infer.this.global.Type" id="271118">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Int" id="271119">n</a>: <span title="Int">Int</span>): <span title="Boolean">Boolean</span> = <a href="#271118" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="770390">pre</a>, <a title="List[Infer.this.global.Symbol]" id="770391">alts</a>) =&gt;
        <a href="#770391" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="770398">alt</a> =&gt; <a href="#49014" title="(tp: Infer.this.global.Type,n: Int)Boolean">hasExactlyNumParams</a>(<a href="#770390" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#770398" title="Infer.this.global.Symbol">alt</a>), <a href="#271119" title="Int">n</a>))
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="#40171" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#271118" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>, <a href="#271119" title="Int">n</a>).<span title="(x$1: Int)Boolean">length</span> == <a href="#271119" title="Int">n</a>
    }
    /**
     * Verifies whether the named application is valid. The logic is very
     * similar to the one in NamesDefaults.removeNames.
     *
     * @return a triple (argtpes1, argPos, namesOk) where
     *  - argtpes1 the argument types in named application (assignments to
     *    non-parameter names are treated as assignments, i.e. type Unit)
     *  - argPos a Function1[Int, Int] mapping arguments from their current
     *    to the corresponding position in params
     *  - namesOK is false when there's an invalid use of named arguments
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)" id="49015">checkNames</a>(<a title="List[Infer.this.global.Type]" id="770419">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="List[Infer.this.global.Symbol]" id="770420">params</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]) = {
      <span class="keyword">val</span> <a title="Array[Int]" id="770423">argPos</a> = <span title="(f: (Int) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,Array[Int],Array[Int]])Array[Int]">(</span><span title="Array[Int]" class="keyword">new</span> <a title="Array[Int]" id="905">Array</a>[Int](<a href="#770419" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>)) <a title="scala.collection.generic.BuilderFactory[Int,Array[Int],Array[_]]" id="906">map</a> (<a title="Int" id="770440">x</a> =&gt; <span title="Int(-1)">-</span><span class="int">1</span>)
      <span class="keyword">var</span> <a title="Boolean" id="770424">positionalAllowed</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Boolean" id="770425">namesOK</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Int" id="770426">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770427">argtpes1</a> = <a href="#770419" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">argtpes</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#770527" title="Infer.this.global.Type">{</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="770530">name</a>, <a title="Infer.this.global.Type" id="770531">tp</a>) =&gt; // a named argument
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="770534">res</a> = <a href="#770531" title="Infer.this.global.Type">tp</a>
          <span class="keyword">val</span> <a title="Int" id="770535">pos</a> = <a href="#770420" title="List[Infer.this.global.Symbol]">params</a>.<a title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Int" id="25715">indexWhere</a>(<a title="Infer.this.global.Symbol" id="770550">p</a> =&gt; <a href="#770550" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#770530" title="Infer.this.global.Name">name</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#770550" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>))
          <span title="Unit" class="keyword">if</span> (<a href="#770535" title="(x$1: Int)Boolean">pos</a> == <span title="Int(-1)">-</span><span class="int">1</span>) {
            <span title="Unit" class="keyword">if</span> (<a href="#770424" title="Boolean">positionalAllowed</a>) { // treat assignment as positional argument
              <a href="#770423" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#770426" title="Int">index</a>) = <a href="#770426" title="Int">index</a>
              <a href="#770534" title="Infer.this.global.Type">res</a> = <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>
            } <span class="keyword">else</span>                   // unknown parameter name
              <a href="#770425" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#770423" title="Array[Int]">argPos</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#770535" title="Int">pos</a>)) { // parameter specified twice
            <a href="#770425" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          } <span class="keyword">else</span> {
            <a href="#770424" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#770423" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#770426" title="Int">index</a>) = <a href="#770535" title="Int">pos</a>
          }
          <a href="#770426" title="Int">index</a> += <span title="Int(1)" class="int">1</span>
          <a href="#770534" title="Infer.this.global.Type">res</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="770630">tp</a> =&gt; // a positional argument
          <a href="#770423" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#770426" title="Int">index</a>) = <a href="#770426" title="Int">index</a>
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#770424" title="Boolean">positionalAllowed</a>)
            <a href="#770425" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span> // positional after named
          <a href="#770426" title="Int">index</a> += <span title="Int(1)" class="int">1</span>
          <a href="#770630" title="Infer.this.global.Type">tp</a>
      }
      <span title="(_1: List[Infer.this.global.Type],_2: Array[Int],_3: Boolean)(List[Infer.this.global.Type], Array[Int], Boolean)">(</span><a href="#770427" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#770423" title="Array[Int]">argPos</a>, <a href="#770425" title="Boolean">namesOK</a>)
    }

    /** Is there an instantiation of free type variables &lt;code&gt;undetparams&lt;/code&gt;
     *  such that function type &lt;code&gt;ftpe&lt;/code&gt; is applicable to
     *  &lt;code&gt;argtpes&lt;/code&gt; and its result conform to &lt;code&gt;pt&lt;/code&gt;?
     *
     *  @param undetparams ...
     *  @param ftpe        the type of the function (often a MethodType)
     *  @param argtpes     the argument types; a NamedType(name, tp) for named
     *    arguments. For each NamedType, if `name' does not exist in `ftpe', that
     *    type is set to `Unit', i.e. the corresponding argument is treated as
     *    an assignment expression (@see checkNames).
     *  @param pt          ...
     *  @return            ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean" id="49016">isApplicable</a>(<a title="List[Infer.this.global.Symbol]" id="770768">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="770769">ftpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>,
                             <a title="List[Infer.this.global.Type]" id="770770">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="770771">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> =
      <a href="#770769" title="Infer.this.global.Type">ftpe</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="770775">pre</a>, <a title="List[Infer.this.global.Symbol]" id="770776">alts</a>) =&gt;
          <a href="#770776" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="770783">alt</a> =&gt; <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770775" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#770783" title="Infer.this.global.Symbol">alt</a>), <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>))
        <span title="Boolean" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="770793">tparams</a>, <a title="Infer.this.global.Type" id="770794">qtpe</a>) =&gt;
          <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770794" title="Infer.this.global.Type">qtpe</a>, <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>)
        <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="770801">params</a>, _) =&gt;
          // repeat varargs as needed, remove ByName
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770804">formals</a> = <a href="#40171" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#770801" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#770818" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="=&gt; Int">length</span>)

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="770805">tryTupleApply</a>: <span title="Boolean">Boolean</span> = {
            // if 1 formal, 1 argtpe (a tuple), otherwise unmodified argtpes0
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770831">tupleArgTpe</a> = <a href="#40173" title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]">actualTypes</a>(<a href="#770770" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">argtpes0</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#770840" title="Infer.this.global.Type">{</a>
                // no assignment is treated as named argument here
              <span title="Infer.this.global.Type" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="770843">name</a>, <a title="Infer.this.global.Type" id="770844">tp</a>) =&gt; <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>
              <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="770847">tp</a> =&gt; <a href="#770847" title="Infer.this.global.Type">tp</a>
              }, <a href="#770804" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>)

            <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#770831" title="List[Infer.this.global.Type]">tupleArgTpe</a>.<span title="=&gt; Int">length</span> &amp;&amp;
              <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770769" title="Infer.this.global.Type">ftpe</a>, <a href="#770831" title="List[Infer.this.global.Type]">tupleArgTpe</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>)
          }
          <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type])Boolean" id="770806">typesCompatible</a>(<a title="List[Infer.this.global.Type]" id="770885">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]) = {
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="770886">restpe</a> = <a href="#770769" title="Infer.this.global.Type">ftpe</a>.<a href="../symtab/Types.scala.html#30380" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a>(<a href="#770885" title="List[Infer.this.global.Type]">argtpes</a>)
            <span title="Boolean" class="keyword">if</span> (<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>) {
              (<a href="#49007" title="(tps: List[Infer.this.global.Type],pts: List[Infer.this.global.Type])Boolean">isCompatible</a><span title="(x$1: Boolean)Boolean">(</span><a href="#770885" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#770804" title="List[Infer.this.global.Type]">formals</a>) &amp;&amp;
               <a href="#49005" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#770886" title="Infer.this.global.Type">restpe</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>))
            } <span class="keyword">else</span> {
              <span class="keyword">try</span> {
                <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="770904">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
                <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770905">targs</a> = <a href="#49012" title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">methTypeArgs</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770804" title="List[Infer.this.global.Type]">formals</a>, <a href="#770886" title="Infer.this.global.Type">restpe</a>, <a href="#770885" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>, <a href="#770904" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
                <span title="(x$1: Boolean)Boolean">(</span><a href="#49009" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#770904" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#770886" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770905" title="List[Infer.this.global.Type]">targs</a>), <a href="#770771" title="Infer.this.global.Type">pt</a>) ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp;
                <a href="../symtab/Types.scala.html#26586" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="../symtab/Types.scala.html#26385" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770905" title="List[Infer.this.global.Type]">targs</a>)
              } <span class="keyword">catch</span> {
                <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="770926">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              }
            }
          }

          // very similar logic to doTypedApply in typechecker
          <span title="Boolean" class="keyword">if</span> (<a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <a href="#770804" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>) <a href="#770805" title="=&gt; Boolean">tryTupleApply</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#770804" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>) {
            <span title="Boolean" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">exists</span>(<a href="#770944" title="Infer.this.global.Type">_</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26439" title="Infer.this.global.NamedType">NamedType</a>])) {
              // fast track if no named arguments are used
              <a href="#770806" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a>(<a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>)
            } <span class="keyword">else</span> {
              // named arguments are used
              <span class="keyword">val</span> <a href="#770950" title="(List[Infer.this.global.Type], Array[Int], Boolean)">(</a><a href="#770949" title="List[Infer.this.global.Type]" id="770950">argtpes1</a>, <a href="#770949" title="Array[Int]" id="770951">argPos</a>, <a href="#770949" title="Boolean" id="770952">namesOK</a>) = <a href="#49015" title="(argtpes: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)">checkNames</a><span title="(List[Infer.this.global.Type], Array[Int], Boolean) @unchecked">(</span><a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#770801" title="List[Infer.this.global.Symbol]">params</a>)
              <span title="Boolean" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#770952" title="Boolean">namesOK</a>) <span title="Boolean(false)" class="keyword">false</span>
              // when using named application, the vararg param has to be specified exactly once
              <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="NamesDefaults.scala.html#40318" title="(a: Array[Int])Boolean">isIdentity</a>(<a href="#770951" title="Array[Int]">argPos</a>) &amp;&amp; (<a href="#770804" title="List[Infer.this.global.Type]">formals</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#770801" title="List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span>)) <span title="Boolean(false)" class="keyword">false</span>
              <span class="keyword">else</span> {
                // nb. arguments and names are OK, check if types are compatible
                <a href="#770806" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a>(<a href="NamesDefaults.scala.html#40312" title="(args: List[Infer.this.global.Type],pos: (Int) =&gt; Int)(implicit evidence$1: ClassManifest[Infer.this.global.Type])List[Infer.this.global.Type]">reorderArgs</a><a href="Analyzer.scala.html#40028" title="(prefix: scala.reflect.OptManifest[_],clazz: Class[_],args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Infer.this.global.Type]" id="59080">(</a><a href="#770950" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#770951" title="Array[Int]">argPos</a>))
              }
            }
          } <span class="keyword">else</span> {
            // not enough arguments, check if applicable using defaults
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="771011">missing</a> = <a href="NamesDefaults.scala.html#40320" title="[T](args: List[T],params: List[Infer.this.global.Symbol],argName: (T) =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">missingParams</a><span title="(args: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol],argName: (Infer.this.global.Type) =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">[</span><a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>](<a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#770801" title="List[Infer.this.global.Symbol]">params</a>, <a href="#771019" title="Option[Infer.this.global.Name]">{</a>
              <span title="Some[Infer.this.global.Name]" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="771022">name</a>, _) =&gt; <a title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]" id="267">Some</a>(<a href="#771022" title="Infer.this.global.Name">name</a>)
              <span title="None.type" class="keyword">case</span> _ =&gt; <a title="object None" id="477">None</a>
            }).<span title="=&gt; List[Infer.this.global.Symbol]">_1</span>
            <span title="Boolean" class="keyword">if</span> (<a href="#771011" title="List[Infer.this.global.Symbol]">missing</a>.<span title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(<span title="=&gt; Boolean">!</span><a href="#771037" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(33554432L)">DEFAULTPARAM</span>))) <a href="#770805" title="=&gt; Boolean">tryTupleApply</a>
            <span class="keyword">else</span> {
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="771042">argtpes1</a> = <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a> <a href="#771043" title="List[Infer.this.global.Type]">:::</a> <a href="#771011" title="List[Infer.this.global.Symbol]">missing</a>.<span title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.NamedType)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.NamedType,List[Infer.this.global.NamedType],List[Infer.this.global.Symbol]])List[Infer.this.global.NamedType]">map</span> <span title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">{</span>
                <a title="Infer.this.global.Symbol" id="771052">p</a> =&gt; <a href="../symtab/Types.scala.html#270959" title="(name: Infer.this.global.Name,tp: Infer.this.global.Type)Infer.this.global.NamedType">NamedType</a>(<a href="#771052" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>, <a href="#771052" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>) // add defaults as named arguments
              }
              <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#770768" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770769" title="Infer.this.global.Type">ftpe</a>, <a href="#771042" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>)
            }
          }

        <span title="Boolean" class="keyword">case</span> PolyType(<a title="List[Infer.this.global.Symbol]" id="771167">tparams</a>, <a title="Infer.this.global.Type" id="771168">restpe</a>) =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="771171">tparams1</a> = <a href="../symtab/Symbols.scala.html#26295" title="(syms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">cloneSymbols</a>(<a href="#771167" title="List[Infer.this.global.Symbol]">tparams</a>)
          <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#771171" title="List[Infer.this.global.Symbol]">tparams1</a> <a href="#771180" title="List[Infer.this.global.Symbol]">:::</a> <a href="#770768" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771168" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30411" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a>(<a href="#771167" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#771171" title="List[Infer.this.global.Symbol]">tparams1</a>), <a href="#770770" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#770771" title="Infer.this.global.Type">pt</a>)
        <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      }

    <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean" id="49017">isApplicableSafe</a>(<a title="List[Infer.this.global.Symbol]" id="271091">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="271092">ftpe</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>,
                                              <a title="List[Infer.this.global.Type]" id="271093">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="271094">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Boolean" id="771194">reportAmbiguousErrors</a> = <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48657" title="=&gt; Boolean">reportAmbiguousErrors</a>
      <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48658" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> {
        <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#271091" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#271092" title="Infer.this.global.Type">ftpe</a>, <a href="#271093" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#271094" title="Infer.this.global.Type">pt</a>)
      } <span class="keyword">catch</span> {
        <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.global.TypeError" id="771199">ex</a>: <a href="../symtab/Types.scala.html#26618" title="Infer.this.global.TypeError">TypeError</a> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      } <span class="keyword">finally</span> {
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48658" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#771194" title="Boolean">reportAmbiguousErrors</a>
      }
    }

    /** Is type &lt;code&gt;ftpe1&lt;/code&gt; strictly more specific than type &lt;code&gt;ftpe2&lt;/code&gt;
     *  when both are alternatives in an overloaded function?
     *  @see SLS (sec:overloading-resolution)
     *
     *  @param ftpe1 ...
     *  @param ftpe2 ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean" id="49018">isAsSpecific</a>(<a title="Infer.this.global.Type" id="771202">ftpe1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="771203">ftpe2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#771202" title="Infer.this.global.Type">ftpe1</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="771207">pre</a>, <a title="List[Infer.this.global.Symbol]" id="771208">alts</a>) =&gt;
        <a href="#771208" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="771215">alt</a> =&gt; <a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#771207" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#771215" title="Infer.this.global.Symbol">alt</a>), <a href="#771203" title="Infer.this.global.Type">ftpe2</a>))
      <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ExistentialType" id="771223">et</a>: <a href="../symtab/Types.scala.html#26424" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
        <a href="#771223" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#43654" title="(op: (Infer.this.global.Type) =&gt; Boolean)Boolean">withTypeVars</a>(<a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#771231" title="Infer.this.global.Type">_</a>, <a href="#771203" title="Infer.this.global.Type">ftpe2</a>)) // !!! why isStrictly?
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="collection.immutable.::[Infer.this.global.Symbol]" id="771238">params</a> @ (<a title="Infer.this.global.Symbol" id="771243">x</a> :: <a title="List[Infer.this.global.Symbol]" id="771244">xs</a>), _) =&gt;
        <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(List<span title="object Nil">(</span>), <a href="#771203" title="Infer.this.global.Type">ftpe2</a>, <a href="#771238" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#771266" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>)
      <span title="Boolean" class="keyword">case</span> PolyType(_, MethodType(<a title="collection.immutable.::[Infer.this.global.Symbol]" id="771297">params</a> @ (<a title="Infer.this.global.Symbol" id="771302">x</a> :: <a title="List[Infer.this.global.Symbol]" id="771303">xs</a>), _)) =&gt;
        <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(List<span title="object Nil">(</span>), <a href="#771203" title="Infer.this.global.Type">ftpe2</a>, <a href="#771297" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#771327" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>)
      <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="#771203" title="Infer.this.global.Type">ftpe2</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="771342">pre</a>, <a title="List[Infer.this.global.Symbol]" id="771343">alts</a>) =&gt;
            <a href="#771343" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> forall (<a title="Infer.this.global.Symbol" id="771350">alt</a> =&gt; <a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#771202" title="Infer.this.global.Type">ftpe1</a>, <a href="#771342" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#771350" title="Infer.this.global.Symbol">alt</a>)))
          <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ExistentialType" id="771358">et</a>: <a href="../symtab/Types.scala.html#26424" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#771358" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#43654" title="(op: (Infer.this.global.Type) =&gt; Boolean)Boolean">withTypeVars</a>(<a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#771202" title="Infer.this.global.Type">ftpe1</a>, <a href="#771366" title="Infer.this.global.Type">_</a>))
          <span title="Boolean(true)" class="keyword">case</span> MethodType(_, _) | PolyType(_, MethodType(_, _)) =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean" class="keyword">case</span> _ =&gt;
            <a href="#49023" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#771202" title="Infer.this.global.Type">ftpe1</a>, <a href="#771203" title="Infer.this.global.Type">ftpe2</a>, List<span title="object Nil">(</span>), List<span title="object Nil">(</span>))
        }
    }
/*
    def isStrictlyMoreSpecific(ftpe1: Type, ftpe2: Type): Boolean =
      ftpe1.isError || isAsSpecific(ftpe1, ftpe2) &amp;&amp; 
      (!isAsSpecific(ftpe2, ftpe1) || 
       !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
       phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
*/
    /** Is sym1 (or its companion class in case it is a module) a subclass of
     *  sym2 (or its companion class in case it is a module)?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="49019">isProperSubClassOrObject</a>(<a title="Infer.this.global.Symbol" id="771408">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771409">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      <a href="#771408" title="(x$1: AnyRef)Boolean">sym1</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#771409" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#771408" title="(x$1: AnyRef)Boolean">sym1</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#27183" title="(that: Infer.this.global.Symbol)Boolean">sym1</a> isSubClass <a href="#771409" title="Infer.this.global.Symbol">sym2</a>) <span title="(x$1: Boolean)Boolean">||</span>
      <a href="#771408" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27093" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#49019" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#771408" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27215" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>, <a href="#771409" title="Infer.this.global.Symbol">sym2</a>) ||
      <a href="#771409" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27093" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#49019" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#771408" title="Infer.this.global.Symbol">sym1</a>, <a href="#771409" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27215" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>)

    /** is symbol `sym1` defined in a proper subclass of symbol `sym2`?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="49020">isInProperSubClassOrObject</a>(<a title="Infer.this.global.Symbol" id="771442">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771443">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) = 
      <a href="#771443" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a> || <a href="#49019" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#771442" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#771443" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>)

    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="49021">isStrictlyMoreSpecific</a>(<a title="Infer.this.global.Type" id="750007">ftpe1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="750008">ftpe2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="750009">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="750010">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      // ftpe1 / ftpe2 are OverloadedTypes (possibly with one single alternative) if they
      // denote the type of an &quot;apply&quot; member method (see &quot;followApply&quot;)
      <a href="#750007" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#30394" title="(x$1: Boolean)Boolean">isError</a> || {
        <span class="keyword">val</span> <a title="Int" id="771456">specificCount</a> = <span title="(x$1: Int)Int">(</span><span title="Int" class="keyword">if</span> (<a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#750007" title="Infer.this.global.Type">ftpe1</a>, <a href="#750008" title="Infer.this.global.Type">ftpe2</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>) - 
                            (<span title="Int" class="keyword">if</span> (<a href="#49018" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span title="(x$1: Boolean)Boolean">(</span><a href="#750008" title="Infer.this.global.Type">ftpe2</a>, <a href="#750007" title="Infer.this.global.Type">ftpe1</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                                 // todo: move to isAsSepecific test
                                 (<span title="(x$1: Boolean)Boolean">!</span><a href="#750008" title="Infer.this.global.Type">ftpe2</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26427" title="Infer.this.global.OverloadedType">OverloadedType</a>] || <a href="#750007" title="Infer.this.global.Type">ftpe1</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26427" title="Infer.this.global.OverloadedType">OverloadedType</a>]) &amp;&amp;
                                 (<span title="(x$1: Boolean)Boolean">!</span><a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23307" title="=&gt; Boolean">erasedTypes</a> || <a href="#49022" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">covariantReturnOverride</a>(<a href="#750007" title="Infer.this.global.Type">ftpe1</a>, <a href="#750008" title="Infer.this.global.Type">ftpe2</a>))) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>)
        <span class="keyword">val</span> <a title="Int" id="771457">subClassCount</a> = <span title="(x$1: Int)Int">(</span><span title="Int" class="keyword">if</span> (<a href="#49020" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a>(<a href="#750009" title="Infer.this.global.Symbol">sym1</a>, <a href="#750010" title="Infer.this.global.Symbol">sym2</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>) -
                            (<span title="Int" class="keyword">if</span> (<a href="#49020" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a>(<a href="#750010" title="Infer.this.global.Symbol">sym2</a>, <a href="#750009" title="Infer.this.global.Symbol">sym1</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>)
        <a href="#771456" title="(x$1: Int)Int">specificCount</a> <span title="(x$1: Int)Boolean">+</span> <a href="#771457" title="Int">subClassCount</a> &gt; <span title="Int(0)" class="int">0</span>
      }
/*
      ftpe1.isError || {
        if (isAsSpecific(ftpe1, ftpe2)) 
          (!isAsSpecific(ftpe2, ftpe1) || 
           isProperSubClassOrObject(sym1.owner, sym2.owner) ||
           !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
           phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
        else
          !isAsSpecific(ftpe2, ftpe1) &amp;&amp; 
          isProperSubClassOrObject(sym1.owner, sym2.owner)
      }
*/
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean" id="49022">covariantReturnOverride</a>(<a title="Infer.this.global.Type" id="771470">ftpe1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="771471">ftpe2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#771470" title="Infer.this.global.Type">ftpe1</a>, <a href="#771471" title="Infer.this.global.Type">ftpe2</a>) <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> (MethodType(_, <a title="Infer.this.global.Type" id="771517">rtpe1</a>), MethodType(_, <a title="Infer.this.global.Type" id="771522">rtpe2</a>)) =&gt;
        <a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">rtpe1</a> <span title="(x$1: Boolean)Boolean">&lt;:&lt;</span> <a href="#771522" title="Infer.this.global.Type">rtpe2</a> || <a href="#771522" title="Infer.this.global.Type">rtpe2</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28453" title="=&gt; Infer.this.global.Symbol">ObjectClass</a>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean" id="49023">isAsSpecificValueType</a>(<a title="Infer.this.global.Type" id="771383">tpe1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="771384">tpe2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="771385">undef1</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Symbol]" id="771386">undef2</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]): <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#771383" title="Infer.this.global.Type">tpe1</a>, <a href="#771384" title="Infer.this.global.Type">tpe2</a>) <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> (PolyType(<a title="List[Infer.this.global.Symbol]" id="771551">tparams1</a>, <a title="Infer.this.global.Type" id="771552">rtpe1</a>), _) =&gt;
        <a href="#49023" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#771552" title="Infer.this.global.Type">rtpe1</a>, <a href="#771384" title="Infer.this.global.Type">tpe2</a>, <a href="#771385" title="List[Infer.this.global.Symbol]">undef1</a> <a href="#771557" title="List[Infer.this.global.Symbol]">:::</a> <a href="#771551" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">tparams1</a>, <a href="#771386" title="List[Infer.this.global.Symbol]">undef2</a>)
      <span title="Boolean" class="keyword">case</span> (_, PolyType(<a title="List[Infer.this.global.Symbol]" id="771571">tparams2</a>, <a title="Infer.this.global.Type" id="771572">rtpe2</a>)) =&gt;
        <a href="#49023" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#771383" title="Infer.this.global.Type">tpe1</a>, <a href="#771572" title="Infer.this.global.Type">rtpe2</a>, <a href="#771385" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#771386" title="List[Infer.this.global.Symbol]">undef2</a> <a href="#771577" title="List[Infer.this.global.Symbol]">:::</a> <a href="#771571" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">tparams2</a>)
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#26463" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#771385" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#771383" title="Infer.this.global.Type">tpe1</a>) &lt;:&lt; <a href="../symtab/Types.scala.html#26463" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a>(<a href="#771386" title="List[Infer.this.global.Symbol]">undef2</a>, <a href="#771384" title="Infer.this.global.Type">tpe2</a>)
    }

/*
    /** Is type `tpe1' a strictly better expression alternative than type `tpe2'?
     */
    def isStrictlyBetterExpr(tpe1: Type, tpe2: Type) = {
      isMethod(tpe2) &amp;&amp; !isMethod(tpe1) ||
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      isStrictlyBetter(tpe1, tpe2)
    }

    /** Is type `tpe1' a strictly better alternative than type `tpe2'?
     *  non-methods are always strictly better than methods
     *  nullary methods are always strictly better than non-nullary
     *  if both are non-nullary methods, then tpe1 is strictly better than tpe2 if
     *   - tpe1 specializes tpe2 and tpe2 does not specialize tpe1
     *   - tpe1 and tpe2 specialize each other and tpe1 has a strictly better resulttype than
     *     tpe2
     */
    def isStrictlyBetter(tpe1: Type, tpe2: Type) = {
      def isNullary(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isNullary(tp.underlying)
        case _ =&gt; tpe.paramSectionCount == 0 || tpe.paramTypes.isEmpty
      }
      def isMethod(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isMethod(tp.underlying)
        case MethodType(_, _) | PolyType(_, _) =&gt; true
        case _ =&gt; false
      }
      def hasStrictlyBetterResult = 
        resultIsBetter(tpe1, tpe2, List(), List()) &amp;&amp; !resultIsBetter(tpe2, tpe1, List(), List())
      if (!isMethod(tpe1))
        isMethod(tpe2) || hasStrictlyBetterResult
      
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      is
      
      else if (isNullary(tpe1))
        isMethod(tpe2) &amp;&amp; (!isNullary(tpe2) || hasStrictlyBetterResult)
      else 
        specializes(tpe1, tpe2) &amp;&amp; (!specializes(tpe2, tpe1) || hasStrictlyBetterResult)
    }

*/
    /** error if arguments not within bounds. */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],prefix: String)Unit" id="49024">checkBounds</a>(<a title="scala.tools.nsc.util.Position" id="277584">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="277585">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="277586">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, 
                    <a title="List[Infer.this.global.Symbol]" id="277587">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="277588">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="String" id="277589">prefix</a>: <span title="String">String</span>) = {
      //@M validate variances &amp; bounds of targs wrt variances &amp; bounds of tparams
      //@M TODO: better place to check this? 
      //@M TODO: errors for getters &amp; setters are reported separately
      <span class="keyword">val</span> <a title="List[String]" id="277592">kindErrors</a> = <a href="#49026" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pre: Infer.this.global.Type,owner: Infer.this.global.Symbol)List[String]">checkKindBounds</a>(<a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#277588" title="List[Infer.this.global.Type]">targs</a>, <a href="#277585" title="Infer.this.global.Type">pre</a>, <a href="#277586" title="Infer.this.global.Symbol">owner</a>)
           
      <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#277592" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>) {
        <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#277584" title="scala.tools.nsc.util.Position">pos</a>, 
          <a href="#277589" title="(x$1: Any)java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;kinds of the type arguments &quot;)" class="string">&quot;kinds of the type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#277588" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
          <span title="java.lang.String(&quot; do not conform to the expected kinds of the type parameters &quot;)" class="string">&quot; do not conform to the expected kinds of the type parameters &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> +
          <a href="#277592" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#26586" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="#277585" title="Infer.this.global.Type">pre</a>, <a href="#277586" title="Infer.this.global.Symbol">owner</a>, <a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#277588" title="List[Infer.this.global.Type]">targs</a>)) { 
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="#277588" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">targs</a> exists (<a href="#277655" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>)) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="#277587" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">tparams</a> exists (<a href="#277662" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27081" title="=&gt; Boolean">isErroneous</a>))) {
          //val bounds = instantiatedBounds(pre, owner, tparams, targs)//DEBUG
          //println(&quot;bounds = &quot;+bounds+&quot;, targs = &quot;+targs+&quot;, targclasses = &quot;+(targs map (_.getClass))+&quot;, parents = &quot;+(targs map (_.parents)))
          //println(List.map2(bounds, targs)((bound, targ) =&gt; bound containsType targ))
          <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#277584" title="scala.tools.nsc.util.Position">pos</a>, 
                <a href="#277589" title="(x$1: Any)java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#277588" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; do not conform to &quot;)" class="string">&quot; do not conform to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'s type parameter bounds &quot;)" class="string">&quot;'s type parameter bounds &quot;</span> + 
                (<a href="#277587" title="(f: (Infer.this.global.Symbol) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[Infer.this.global.Symbol]])List[String]">tparams</a> <span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">map</span> (<a href="#277693" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27255" title="=&gt; String">defString</a>)).<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>))
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37241" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
            <span class="keyword">val</span> <a title="List[Infer.this.global.TypeBounds]" id="277789">bounds</a> = <a href="#277587" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeBounds)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeBounds]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds],List#Coll]">map</span> (<a title="Infer.this.global.Symbol" id="277798">tp</a> =&gt; <a href="#277798" title="Infer.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#277587" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#277588" title="List[Infer.this.global.Type]">targs</a>).<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>)
            <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.TypeBounds])(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#277588" title="List[Infer.this.global.Type]">targs</a>, <a href="#277789" title="List[Infer.this.global.TypeBounds]">bounds</a>)((<a title="Infer.this.global.Type" id="277905">targ</a>, <a title="Infer.this.global.TypeBounds" id="277906">bound</a>) =&gt; <a href="#48997" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#277906" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; Infer.this.global.Type">lo</a>, <a href="#277905" title="Infer.this.global.Type">targ</a>))
            <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.TypeBounds])(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#277588" title="List[Infer.this.global.Type]">targs</a>, <a href="#277789" title="List[Infer.this.global.TypeBounds]">bounds</a>)((<a title="Infer.this.global.Type" id="277927">targ</a>, <a title="Infer.this.global.TypeBounds" id="277928">bound</a>) =&gt; <a href="#48997" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#277927" title="Infer.this.global.Type">targ</a>, <a href="#277928" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Infer.this.global.Type">hi</a>))
            <span title="Unit">(</span>)
          }
        }
      }
    }
    
    /** Check whether &lt;arg&gt;sym1&lt;/arg&gt;'s variance conforms to &lt;arg&gt;sym2&lt;/arg&gt;'s variance
     *
     * If &lt;arg&gt;sym2&lt;/arg&gt; is invariant, &lt;arg&gt;sym1&lt;/arg&gt;'s variance is irrelevant. Otherwise they must be equal.
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="49025">variancesMatch</a>(<a title="Infer.this.global.Symbol" id="771598">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771599">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = (<a href="#771599" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27141" title="(x$1: Int)Boolean">variance</a><span title="(x$1: Boolean)Boolean">==</span><span title="Int(0)" class="int">0</span> || <a href="#771598" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27141" title="(x$1: Int)Boolean">variance</a>==<a href="#771599" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27141" title="=&gt; Int">variance</a>)
      
    /** Check well-kindedness of type application (assumes arities are already checked) -- @M
     * 
     * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
     * (checked one type member at a time -- in that case, prefix is the name of the type alias)
     *
     * Type application is just like value application: it's &quot;contravariant&quot; in the sense that 
     * the type parameters of the supplied type arguments must conform to the type parameters of 
     * the required type parameters:
     *   - their bounds must be less strict
     *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)     
     *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
     *
     *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since 
     *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
     */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pre: Infer.this.global.Type,owner: Infer.this.global.Symbol)List[String]" id="49026">checkKindBounds</a>(<a title="List[Infer.this.global.Symbol]" id="277593">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="277594">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="277595">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="277596">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="List[String]">List</span>[String] = {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type" id="771617">transform</a>(<a title="Infer.this.global.Type" id="771622">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="771623">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#771622" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30407" title="(pre: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">asSeenFrom</a>(<a href="#277595" title="Infer.this.global.Type">pre</a>, <a href="#771623" title="Infer.this.global.Symbol">clazz</a>) // instantiate type params that come from outside the abstract type we're currently checking

      // check that the type parameters &lt;arg&gt;hkargs&lt;/arg&gt; to a higher-kinded type conform to the expected params &lt;arg&gt;hkparams&lt;/arg&gt;
      <span class="keyword">def</span> <a title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" id="771618">checkKindBoundsHK</a>(<a title="List[Infer.this.global.Symbol]" id="771628">hkargs</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Symbol" id="771629">arg</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771630">param</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771631">paramowner</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</span>List[(Symbol, Symbol)], List[(Symbol, Symbol)], List[(Symbol, Symbol)]) = {
// NOTE: sometimes hkargs != arg.typeParams, the symbol and the type may have very different type parameters
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="771632">hkparams</a> = <a href="#771630" title="Infer.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>

        <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" class="keyword">if</span>(<a href="#771628" title="List[Infer.this.global.Symbol]">hkargs</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#771632" title="List[Infer.this.global.Symbol]">hkparams</a>.<span title="=&gt; Int">length</span>) {
          <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" class="keyword">if</span>(<a href="#771629" title="(x$1: AnyRef)Boolean">arg</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28447" title="=&gt; Infer.this.global.Symbol">AnyClass</a> || <a href="#771629" title="(x$1: AnyRef)Boolean">arg</a> == <a href="../symtab/Definitions.scala.html#28457" title="=&gt; Infer.this.global.Symbol">NothingClass</a>) <span title="(_1: object Nil,_2: object Nil,_3: object Nil)(object Nil, object Nil, object Nil)">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>) // Any and Nothing are kind-overloaded
          <span class="keyword">else</span> <span title="(_1: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_2: object Nil,_3: object Nil)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], object Nil, object Nil)">(</span><span title="(xs: (Infer.this.global.Symbol, Infer.this.global.Symbol)*)List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">List</span>(<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#771629" title="Infer.this.global.Symbol">arg</a>, <a href="#771630" title="Infer.this.global.Symbol">param</a>)), <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>)
        } <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771693">_arityMismatches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)]
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771694">_varianceMismatches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)]
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771695">_stricterBounds</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)] 
          <span class="keyword">def</span> <a title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit" id="771696">varianceMismatch</a>(<a title="Infer.this.global.Symbol" id="771707">a</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771708">p</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) { <a href="#771694" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol))_varianceMismatches.type">_varianceMismatches</a> <span title="Unit">+=</span> (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#771707" title="Infer.this.global.Symbol">a</a>, <a href="#771708" title="Infer.this.global.Symbol">p</a>)) }
          <span class="keyword">def</span> <a title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit" id="771697">stricterBound</a>(<a title="Infer.this.global.Symbol" id="771748">a</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="771749">p</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) { <a href="#771695" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol))_stricterBounds.type">_stricterBounds</a> <span title="Unit">+=</span> (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#771748" title="Infer.this.global.Symbol">a</a>, <a href="#771749" title="Infer.this.global.Symbol">p</a>)) }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="771698">arityMismatches</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771789">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#771693" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_arityMismatches.type">_arityMismatches</a> <span title="Unit">++=</span> <a href="#771789" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="771699">varianceMismatches</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771812">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#771694" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_varianceMismatches.type">_varianceMismatches</a> <span title="Unit">++=</span> <a href="#771812" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="771700">stricterBounds</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="771835">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#771695" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_stricterBounds.type">_stricterBounds</a> <span title="Unit">++=</span> <a href="#771835" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }

          <span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="771987">hkarg</a>, <a title="Infer.this.global.Symbol" id="771988">hkparam</a>) &lt;- <a href="#771628" title="(that: Iterable[Infer.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Symbol),List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],List[Infer.this.global.Symbol]])List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">hkargs</a> <a href="#771954" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; Unit)Unit">zip</a> <a href="#771632" title="List[Infer.this.global.Symbol]">hkparams</a>) { 
            <span title="Unit" class="keyword">if</span> (<a href="#771988" title="Infer.this.global.Symbol">hkparam</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>) { // base-case: kind *
              <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#49025" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">variancesMatch</a>(<a href="#771987" title="Infer.this.global.Symbol">hkarg</a>, <a href="#771988" title="Infer.this.global.Symbol">hkparam</a>))
                <a href="#771696" title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit">varianceMismatch</a>(<a href="#771987" title="Infer.this.global.Symbol">hkarg</a>, <a href="#771988" title="Infer.this.global.Symbol">hkparam</a>)                                         
              
              // instantiateTypeParams(tparams, targs) --&gt; higher-order bounds may contain references to type arguments
              // substSym(hkparams, hkargs) --&gt; these types are going to be compared as types of kind * 
              //    --&gt; their arguments use different symbols, but are conceptually the same 
              //        (could also replace the types by polytypes, but can't just strip the symbols, as ordering is lost then)
              <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#771617" title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">transform</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#771988" title="Infer.this.global.Symbol">hkparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#277593" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#277594" title="List[Infer.this.global.Type]">targs</a>).<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#30411" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a>(<a href="#771632" title="List[Infer.this.global.Symbol]">hkparams</a>, <a href="#771628" title="List[Infer.this.global.Symbol]">hkargs</a>), <a href="#771631" title="Infer.this.global.Symbol">paramowner</a>) &lt;:&lt; <a href="#771617" title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">transform</a>(<a href="#771987" title="Infer.this.global.Symbol">hkarg</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>, <a href="#277596" title="Infer.this.global.Symbol">owner</a>)))
                <a href="#771697" title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit">stricterBound</a>(<a href="#771987" title="Infer.this.global.Symbol">hkarg</a>, <a href="#771988" title="Infer.this.global.Symbol">hkparam</a>)
            } <span class="keyword">else</span> {
              <span class="keyword">val</span> <a href="#772014" title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</a><a href="#772013" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772014">am</a>, <a href="#772013" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772015">vm</a>, <a href="#772013" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772016">sb</a>) = <a href="#771618" title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">checkKindBoundsHK</a><span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) @unchecked">(</span><a href="#771987" title="Infer.this.global.Symbol">hkarg</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#771987" title="Infer.this.global.Symbol">hkarg</a>, <a href="#771988" title="Infer.this.global.Symbol">hkparam</a>, <a href="#771631" title="Infer.this.global.Symbol">paramowner</a>)
              <a href="#771698" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">arityMismatches</a>(<a href="#772014" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">am</a>)
              <a href="#771699" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">varianceMismatches</a>(<a href="#772015" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">vm</a>)
              <a href="#771700" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">stricterBounds</a>(<a href="#772016" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">sb</a>)
            }
          }      
              
          <span title="(_1: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_2: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_3: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</span><a href="#771693" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_arityMismatches</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>, <a href="#771694" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_varianceMismatches</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>, <a href="#771695" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_stricterBounds</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>)
        }    
      }

      // @M TODO this method is duplicated all over the place (varianceString)
      <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)String" id="771619">varStr</a>(<a title="Infer.this.global.Symbol" id="772060">s</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="String">String</span> =
        <span title="String" class="keyword">if</span> (<a href="#772060" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#27139" title="=&gt; Boolean">isCovariant</a>) <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#772060" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#27140" title="=&gt; Boolean">isContravariant</a>) <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;                                                

      <span class="keyword">def</span> <a title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String" id="771620">qualify</a>(<a title="Infer.this.global.Symbol" id="772061">a0</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="772062">b0</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="String">String</span> = <span title="String" class="keyword">if</span> (<a href="#772061" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#27250" title="(x$1: AnyRef)Boolean">toString</a> != <a href="#772062" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#27250" title="()String">toString</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> { 
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#772061" title="(x$1: AnyRef)Boolean">a0</a> ne <a href="#772062" title="Infer.this.global.Symbol">b0</a>)
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#772061" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> ne <a href="#772062" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>)
        <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="772074">a</a> = <a href="#772061" title="Infer.this.global.Symbol">a0</a>; <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="772075">b</a> = <a href="#772062" title="Infer.this.global.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> (<a href="#772074" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="#772075" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>) <a href="#772076" title="()Unit">{</a> <a href="#772074" title="Infer.this.global.Symbol">a</a> = <a href="#772074" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>; <a href="#772075" title="Infer.this.global.Symbol">b</a> = <a href="#772075" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>}
        <span title="String" class="keyword">if</span> (<a href="#772074" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27251" title="(x$1: AnyRef)Boolean">locationString</a> ne <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot; (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#772074" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a>.<a title="()java.lang.String" id="7120">trim</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      }
      
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="771621">errors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span>[String]
      (<a href="#277593" title="(that: Iterable[Infer.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Type),List[(Infer.this.global.Symbol, Infer.this.global.Type)],List[Infer.this.global.Symbol]])List[(Infer.this.global.Symbol, Infer.this.global.Type)]">tparams</a> <span title="scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Type),List[(Infer.this.global.Symbol, Infer.this.global.Type)],List#Coll]">zip</span> <a href="#277594" title="List[Infer.this.global.Type]">targs</a>).<span title="(f: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; Any)Unit">foreach</span><a href="#772219" title="Any">{</a> <span title="Any" class="keyword">case</span> (<a title="Infer.this.global.Symbol" id="772222">tparam</a>, <a title="Infer.this.global.Type" id="772223">targ</a>) <span class="keyword">if</span> (<a href="#772223" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30360" title="(x$1: Boolean)Boolean">isHigherKinded</a> || <span title="=&gt; Boolean">!</span><a href="#772222" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>) =&gt; //println(&quot;check: &quot;+(tparam, targ))
        <span class="keyword">val</span> <a href="#772230" title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</a><a href="#772229" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772230">arityMismatches</a>, <a href="#772229" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772231">varianceMismatches</a>, <a href="#772229" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="772232">stricterBounds</a>) = 
          <a href="#771618" title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">checkKindBoundsHK</a><span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) @unchecked">(</span><a href="#772223" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30387" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#772223" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30368" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a>, <a href="#772222" title="Infer.this.global.Symbol">tparam</a>, <a href="#772222" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>) // NOTE: *not* targ.typeSymbol, which normalizes
            // NOTE 2: must use the typeParams of the type targ, not the typeParams of the symbol of targ!!
        
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#772230" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">arityMismatches</a>.<span title="(x$1: Boolean)Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#772231" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">varianceMismatches</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#772232" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">stricterBounds</a>.<span title="=&gt; Boolean">isEmpty</span>)){
          <a href="#771621" title="(x: String)errors.type">errors</a> += (<a href="#772223" title="(other: String)java.lang.String">targ</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772222" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> 
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="772333">a</a>, <a title="Infer.this.global.Symbol" id="772334">p</a>) &lt;- <a href="#772230" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">arityMismatches</a>)
             <span class="keyword">yield</span> <a href="#772333" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772333" title="Infer.this.global.Symbol">a</a>,<a href="#772334" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../Global.scala.html#39253" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39026" title="(n: Int,elements: String)String">countElementsAsString</a>(<a href="#772333" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#772334" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772334" title="Infer.this.global.Symbol">p</a>,<a href="#772333" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span>+<a href="../Global.scala.html#39253" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#39027" title="(n: Int)String">countAsString</a>(<a href="#772334" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>)).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>) <span title="(x$1: Any)java.lang.String">+</span>
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="772491">a</a>, <a title="Infer.this.global.Symbol" id="772492">p</a>) &lt;- <a href="#772231" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">varianceMismatches</a>)
             <span class="keyword">yield</span> <a href="#772491" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772491" title="Infer.this.global.Symbol">a</a>,<a href="#772492" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#771619" title="(s: Infer.this.global.Symbol)String">varStr</a>(<a href="#772491" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#772492" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772492" title="Infer.this.global.Symbol">p</a>,<a href="#772491" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is declared &quot;)" class="string">&quot; is declared &quot;</span>+<a href="#771619" title="(s: Infer.this.global.Symbol)String">varStr</a>(<a href="#772492" title="Infer.this.global.Symbol">p</a>)).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>) +
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="772647">a</a>, <a title="Infer.this.global.Symbol" id="772648">p</a>) &lt;- <a href="#772232" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">stricterBounds</a>)
              <span class="keyword">yield</span> <a href="#772647" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772647" title="Infer.this.global.Symbol">a</a>,<a href="#772648" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s bounds &quot;)" class="string">&quot;'s bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772647" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; are stricter than &quot;)" class="string">&quot; are stricter than &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#772648" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#771620" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#772648" title="Infer.this.global.Symbol">p</a>,<a href="#772647" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s declared bounds &quot;)" class="string">&quot;'s declared bounds &quot;</span>+<a href="#772648" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>))
        }
       // case (tparam, targ) =&gt; println(&quot;no check: &quot;+(tparam, targ, tparam.typeParams.isEmpty))                                                             
       <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      
      <a href="#771621" title="scala.collection.mutable.ListBuffer[String]">errors</a>.<span title="=&gt; List[String]">toList</span>
    }
      
    /** Substitite free type variables `undetparams' of polymorphic argument
     *  expression `tree', given two prototypes `strictPt', and `lenientPt'.
     *  `strictPt' is the first attempt prototype where type parameters
     *  are left unchanged. `lenientPt' is the fall-back prototype where type
     *  parameters are replaced by `WildcardType's. We try to instantiate
     *  first to `strictPt' and then, if this fails, to `lenientPt'. If both
     *  attempts fail, an error is produced.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],strictPt: Infer.this.global.Type,lenientPt: Infer.this.global.Type)Unit" id="49027">inferArgumentInstance</a>(<a title="Infer.this.global.Tree" id="272265">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="272266">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                              <a title="Infer.this.global.Type" id="272267">strictPt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="272268">lenientPt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer argument instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272265" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272265" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  undetparams = &quot;)" class="string">&quot;  undetparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272266" title="List[Infer.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  strict pt = &quot;)" class="string">&quot;  strict pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272267" title="Infer.this.global.Type">strictPt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  lenient pt = &quot;)" class="string">&quot;  lenient pt = &quot;</span>+<a href="#272268" title="Infer.this.global.Type">lenientPt</a>)
      <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="772790">targs</a> = <a href="#49009" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#272266" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#272265" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#272267" title="Infer.this.global.Type">strictPt</a>)
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#772790" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>) || <span title="=&gt; Boolean">!</span>(<a href="#272265" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30410" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Type])Infer.this.global.Type">subst</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#272266" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772790" title="List[Infer.this.global.Type]">targs</a>) &lt;:&lt; <a href="#272267" title="Infer.this.global.Type">strictPt</a>)) {
        <a href="#772790" title="List[Infer.this.global.Type]">targs</a> = <a href="#49009" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#272266" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#272265" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#272268" title="Infer.this.global.Type">lenientPt</a>)
      }
      <a href="#49029" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit">substExpr</a>(<a href="#272265" title="Infer.this.global.Tree">tree</a>, <a href="#272266" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772790" title="List[Infer.this.global.Type]">targs</a>, <a href="#272268" title="Infer.this.global.Type">lenientPt</a>)
    }

    /** Substitute free type variables `undetparams; of polymorphic expression
     *  &lt;code&gt;tree&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param pt ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,tparams: List[Infer.this.global.Symbol],pt: Infer.this.global.Type,keepNothings: Boolean)List[Infer.this.global.Symbol]" id="49028">inferExprInstance</a>(<a title="Infer.this.global.Tree" id="263080">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="263081">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="263082">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="263083">keepNothings</a>: <span title="Boolean">Boolean</span>): <span title="List[Infer.this.global.Symbol]">List</span>[Symbol] = {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer expr instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#263080" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#263080" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  tparams = &quot;)" class="string">&quot;  tparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#263081" title="List[Infer.this.global.Symbol]">tparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  pt = &quot;)" class="string">&quot;  pt = &quot;</span>+<a href="#263082" title="Infer.this.global.Type">pt</a>)
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="772841">targs</a> = <a href="#49009" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#263081" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#263080" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#263082" title="Infer.this.global.Type">pt</a>)
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="772842">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="772843">detargs</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#263083" title="(x$1: Boolean)Boolean">keepNothings</a> || (<a href="#772841" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>)) <a href="#772841" title="List[Infer.this.global.Type]">targs</a> 
                    <span class="keyword">else</span> <a href="#49011" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">adjustTypeArgs</a>(<a href="#263081" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#772841" title="List[Infer.this.global.Type]">targs</a>, <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>, <a href="#772842" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772844">undetparams</a> = <a href="#772842" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772845">detparams</a> = <a href="#263081" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]" id="25430">tparams</a> filterNot (<a href="#772844" title="(elem: Any)Boolean">undetparams</a> contains <a href="#772880" title="Infer.this.global.Symbol">_</a>)
      <a href="#49029" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit">substExpr</a>(<a href="#263080" title="Infer.this.global.Tree">tree</a>, <a href="#772845" title="List[Infer.this.global.Symbol]">detparams</a>, <a href="#772843" title="List[Infer.this.global.Type]">detargs</a>, <a href="#263082" title="Infer.this.global.Type">pt</a>)
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>) 
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;inferred expr instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#263080" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, detargs = &quot;)" class="string">&quot;, detargs = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772843" title="List[Infer.this.global.Type]">detargs</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, undetparams = &quot;)" class="string">&quot;, undetparams = &quot;</span>+<a href="#772844" title="List[Infer.this.global.Symbol]">undetparams</a>)
      <a href="#772844" title="List[Infer.this.global.Symbol]">undetparams</a>
    }

    /** Substitite free type variables `undetparams' of polymorphic argument
     *  expression &lt;code&gt;tree&lt;/code&gt; to `targs', Error if `targs' is null
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param targs ...
     *  @param pt ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit" id="49029">substExpr</a>(<a title="Infer.this.global.Tree" id="772834">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="772835">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                          <a title="List[Infer.this.global.Type]" id="772836">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="772837">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#772836" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>) {
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#772834" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#772837" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>)
          <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#772834" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;polymorphic expression cannot be instantiated to expected type&quot;</span> + 
                <a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="../symtab/Types.scala.html#44057" title="(typeParams: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a>(<a href="#772835" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#40182" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#772834" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>)), <a href="#772837" title="Infer.this.global.Type">pt</a>))
      } <span class="keyword">else</span> {
        <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26935" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#772835" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772836" title="List[Infer.this.global.Type]">targs</a>).<a href="../ast/Trees.scala.html#259077" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#772834" title="Infer.this.global.Tree">tree</a>)
      }
    }

    /** Substitite free type variables &lt;code&gt;undetparams&lt;/code&gt; of application
     *  &lt;code&gt;fn(args)&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param fn          ...
     *  @param undetparams ...
     *  @param args        ...
     *  @param pt          ...
     *  @return            Return the list of type parameters that remain uninstantiated.
     */
    <span class="keyword">def</span> <a title="(fn: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],args: List[Infer.this.global.Tree],pt0: Infer.this.global.Type)List[Infer.this.global.Symbol]" id="49030">inferMethodInstance</a>(<a title="Infer.this.global.Tree" id="272537">fn</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="272538">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                            <a title="List[Infer.this.global.Tree]" id="272539">args</a>: <span title="List[Infer.this.global.Tree]">List</span>[Tree], <a title="Infer.this.global.Type" id="272540">pt0</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Symbol]">List</span>[Symbol] = <a href="#272537" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> {
      <span title="List[Infer.this.global.Symbol]" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="772945">params0</a>, _) =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
          <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer method instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272537" title="Infer.this.global.Tree">fn</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  undetparams = &quot;)" class="string">&quot;  undetparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272538" title="List[Infer.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  args = &quot;)" class="string">&quot;  args = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#272539" title="List[Infer.this.global.Tree]">args</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  pt = &quot;)" class="string">&quot;  pt = &quot;</span>+<a href="#272540" title="Infer.this.global.Type">pt0</a>)
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="772972">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#272540" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a>) <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#272540" title="Infer.this.global.Type">pt0</a>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="772973">formals</a> = <a href="#40171" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#772945" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params0</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#772997" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#272539" title="List[Infer.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="772974">argtpes</a> = <a href="#40173" title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]">actualTypes</a>(<a href="#272539" title="(f: (Infer.this.global.Tree) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Tree]])List[Infer.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#773018" title="Infer.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30371" title="=&gt; Infer.this.global.Type">deconst</a>), <a href="#772973" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="772975">restpe</a> = <a href="#272537" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30380" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a>(<a href="#772974" title="List[Infer.this.global.Type]">argtpes</a>)
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="772976">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="772977">targs</a> = <a href="#49012" title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">methTypeArgs</a>(<a href="#272538" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772973" title="List[Infer.this.global.Type]">formals</a>, <a href="#772975" title="Infer.this.global.Type">restpe</a>, <a href="#772974" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#772972" title="Infer.this.global.Type">pt</a>, <a href="#772976" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
          <a href="#49024" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],prefix: String)Unit">checkBounds</a>(<a href="#272537" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/Types.scala.html#26385" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#272538" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772977" title="List[Infer.this.global.Type]">targs</a>, <span title="java.lang.String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span>)
          //Console.println(&quot;UNAPPLY subst type &quot;+undetparams+&quot; to &quot;+targs+&quot; in &quot;+fn+&quot; ( &quot;+args+ &quot;)&quot;)
          <span class="keyword">val</span> <a title="Infer.this.global.TreeTypeSubstituter" id="772978">treeSubst</a> = <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26935" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#272538" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#772977" title="List[Infer.this.global.Type]">targs</a>)
          <a href="#772978" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#259077" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#272537" title="Infer.this.global.Tree">fn</a>)
          <a href="#772978" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#71110" title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</a>(<a href="#272539" title="List[Infer.this.global.Tree]">args</a>)
          //Console.println(&quot;UNAPPLY gives &quot;+fn+&quot; ( &quot;+args+ &quot;), argtpes = &quot;+argtpes+&quot;, pt = &quot;+pt)
          <a href="#772976" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>
        } <span class="keyword">catch</span> {
          <span title="List[Nothing]" class="keyword">case</span> <a title="Infer.this.NoInstance" id="773069">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt;
            <a href="#48994" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#272537" title="Infer.this.global.Tree">fn</a>, 
              <span title="(x$1: Any)java.lang.String" class="string">&quot;no type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="#48989" title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a>(
                <a href="#272537" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot; exist so that it can be applied to arguments &quot;)" class="string">&quot; exist so that it can be applied to arguments &quot;</span>,
                <a href="#272539" title="(f: (Infer.this.global.Tree) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Tree]])List[Infer.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#773078" title="Infer.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Infer.this.global.Type">widen</a>), <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> + <a href="#773069" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span>())
            List<span title="object Nil">(</span>)
        }
    }

    /** Type with all top-level occurrences of abstract types replaced by their bounds */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="49031">widen</a>(<a title="Infer.this.global.Type" id="773110">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#773110" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> { // @M don't normalize here (compiler loops on pos/bug1090.scala )
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="773115">sym</a>, _) <span class="keyword">if</span> <a href="#773115" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a> =&gt; 
        <a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#773110" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Infer.this.global.Type">hi</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="773123">sym</a>, _) <span class="keyword">if</span> <a href="#773123" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a> =&gt; 
        <a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#773110" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.RefinedType" id="773128">rtp</a> @ RefinedType(<a title="List[Infer.this.global.Type]" id="773131">parents</a>, <a title="Infer.this.global.Scope" id="773132">decls</a>) =&gt; 
        <a href="../symtab/Types.scala.html#26452" title="(original: Infer.this.global.RefinedType,parents: List[Infer.this.global.Type],decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a>(<a href="#773128" title="Infer.this.global.RefinedType">rtp</a>, <a href="#773131" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]" id="24429">parents</a> mapConserve (<a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>), <a href="#773132" title="Infer.this.global.Scope">decls</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> AnnotatedType(_, <a title="Infer.this.global.Type" id="773155">underlying</a>, _) =&gt;
        <a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#773155" title="Infer.this.global.Type">underlying</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="#773110" title="Infer.this.global.Type">tp</a>
    }

    /** Substitite free type variables &lt;code&gt;undetparams&lt;/code&gt; of type constructor
     *  &lt;code&gt;tree&lt;/code&gt; in pattern, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree        ...
     *  @param undetparams ...
     *  @param pt          ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],pt0: Infer.this.global.Type)Unit" id="49032">inferConstructorInstance</a>(<a title="Infer.this.global.Tree" id="263647">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="263648">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="263649">pt0</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773160">pt</a> = <a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#263649" title="Infer.this.global.Type">pt0</a>)
      //println(&quot;infer constr inst &quot;+tree+&quot;/&quot;+undetparams+&quot;/&quot;+pt0)
      <span class="keyword">var</span> <a title="Infer.this.global.Type" id="773161">restpe</a> = <a href="#263647" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30382" title="=&gt; Infer.this.global.Type">finalResultType</a>
      <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="773162">tvars</a> = <a href="#263648" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>

      /** Compute type arguments for undetermined params and substitute them in given tree.
       */
      <span class="keyword">def</span> <a title="=&gt; Any" id="773163">computeArgs</a> =
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="773261">targs</a> = <a href="#40181" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#263648" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40254" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#773275" title="Infer.this.global.Symbol">(</a><a href="#773161" title="Infer.this.global.Type">restpe</a>), 
                                  <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Types.scala.html#26534" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#773161" title="Infer.this.global.Type">restpe</a>, <a href="#773160" title="Infer.this.global.Type">pt</a>)))
//          checkBounds(tree.pos, NoPrefix, NoSymbol, undetparams, targs, &quot;inferred &quot;)
//          no checkBounds here. If we enable it, test bug602 fails.
          <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26935" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#773261" title="List[Infer.this.global.Type]">targs</a>).<a href="../ast/Trees.scala.html#259077" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#263647" title="Infer.this.global.Tree">tree</a>)
        } <span class="keyword">catch</span> {
          <span title="Infer.this.global.Tree" class="keyword">case</span> <a title="Infer.this.NoInstance" id="773316">ex</a>: <a href="#40176" title="Infer.this.NoInstance">NoInstance</a> =&gt; 
            <a href="#48994" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#263647" title="Infer.this.global.Tree">tree</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;constructor of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773161" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; cannot be uniquely instantiated to expected type &quot;)" class="string">&quot; cannot be uniquely instantiated to expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773160" title="Infer.this.global.Type">pt</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> + <a href="#773316" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span>())
        }
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Tree" id="773164">instError</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;ici &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263647" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#773160" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37241" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#48997" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#773161" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#773160" title="Infer.this.global.Type">pt</a>)
        <a href="#48994" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#263647" title="Infer.this.global.Tree">tree</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;constructor cannot be instantiated to expected type&quot;</span> +
                  <a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#773161" title="Infer.this.global.Type">restpe</a>, <a href="#773160" title="Infer.this.global.Type">pt</a>))
      }
      <span title="Unit" class="keyword">if</span> (<a href="#773161" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a>) &lt;:&lt; <a href="#773160" title="Infer.this.global.Type">pt</a>) {
        <a href="#773163" title="=&gt; Any">computeArgs</a>
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#773160" title="Infer.this.global.Type">pt</a>)) {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer constr &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263647" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773161" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span> + <a href="#773160" title="Infer.this.global.Type">pt</a>)
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="773374">ptparams</a> = <a href="#49045" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45741" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#773160" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params = &quot;</span> + <a href="#773374" title="List[Infer.this.global.Symbol]">ptparams</a>)
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773375">ptWithWildcards</a> = <a href="#773160" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#773374" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#773374" title="(f: (Infer.this.global.Symbol) =&gt; object Infer.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[object Infer.this.global.WildcardType],List#Coll]">map</span> (<a title="Infer.this.global.Symbol" id="773409">ptparam</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>))
        <a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#263648" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span title="Unit" class="keyword">if</span> (<a href="#773161" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a>) &lt;:&lt; <a href="#773375" title="Infer.this.global.Type">ptWithWildcards</a>) {
          <a href="#773163" title="=&gt; Any">computeArgs</a>
          <a href="#773161" title="Infer.this.global.Type">restpe</a> = <a href="#40182" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#263647" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Infer.this.global.Type">resultType</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263647" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> + <a href="#773161" title="Infer.this.global.Type">restpe</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="773481">ptvars</a> = <a href="#773374" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773482">pt1</a> = <a href="#773160" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#773374" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#773481" title="List[Infer.this.global.TypeVar]">ptvars</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../symtab/Types.scala.html#26538" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPopulated</a>(<a href="#773161" title="Infer.this.global.Type">restpe</a>, <a href="#773482" title="Infer.this.global.Type">pt1</a>)) {
            <a href="#773481" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#49035" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;no instance: &quot;)" class="string">&quot;no instance: &quot;</span>); <a href="#773164" title="=&gt; Infer.this.global.Tree">instError</a> }
        } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;not a subtype &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773161" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#263648" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#773162" title="List[Infer.this.global.TypeVar]">tvars</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> + <a href="#773375" title="Infer.this.global.Type">ptWithWildcards</a>); <a href="#773164" title="=&gt; Infer.this.global.Tree">instError</a> }
      } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;not fully defined: &quot;</span> + <a href="#773160" title="Infer.this.global.Type">pt</a>); <a href="#773164" title="=&gt; Infer.this.global.Tree">instError</a> }
    }

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)" id="49033">instBounds</a>(<a title="Infer.this.global.TypeVar" id="773652">tvar</a>: <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>): <span title="(Infer.this.global.Type, Infer.this.global.Type)">(</span>Type, Type) = {
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="773654">tparam</a> = <a href="#773652" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773655">instType</a> = <a href="#773662" title="(tp: Infer.this.global.Type)Infer.this.global.Type">toOrigin</a>(<a href="#773652" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)
      <span class="keyword">val</span> <a href="#773657" title="(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</a><a href="#773656" title="List[Infer.this.global.Type]" id="773657">loBounds</a>, <a href="#773656" title="List[Infer.this.global.Type]" id="773658">hiBounds</a>) =
        <span title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="keyword">if</span> (<a href="#773655" title="(x$1: AnyRef)Boolean">instType</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a> &amp;&amp; <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#773655" title="Infer.this.global.Type">instType</a>)) <span title="(_1: List[Infer.this.global.Type],_2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#773655" title="Infer.this.global.Type">instType</a>), <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#773655" title="Infer.this.global.Type">instType</a>))
        <span class="keyword">else</span> <span title="(_1: List[Infer.this.global.Type],_2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</span><a href="#773652" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>, <a href="#773652" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773659">lo</a> = <a href="../symtab/Types.scala.html#26600" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#773654" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; Infer.this.global.Type">lo</a> <a href="#773738" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">::</a> <a href="#773657" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">loBounds</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#49040" title="object Inferencer.this.toOrigin">toOrigin</a>)
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773660">hi</a> = <a href="../symtab/Types.scala.html#26609" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#773654" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Infer.this.global.Type">hi</a> <a href="#773767" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">::</a> <a href="#773658" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">hiBounds</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#49040" title="object Inferencer.this.toOrigin">toOrigin</a>)
      <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#773659" title="Infer.this.global.Type">lo</a>, <a href="#773660" title="Infer.this.global.Type">hi</a>)
    }

    <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar])Boolean" id="49034">isInstantiatable</a>(<a title="List[Infer.this.global.TypeVar]" id="773802">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span>[TypeVar]) = {
      <span class="keyword">def</span> <a title="(tv: Infer.this.global.TypeVar)Infer.this.global.TypeVar" id="773805">cloneTypeVar</a>(<a title="Infer.this.global.TypeVar" id="773807">tv</a>: <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>) = {
        <span class="keyword">val</span> <a title="Infer.this.global.TypeVar" id="773808">tv1</a> = <a href="../symtab/Types.scala.html#264107" title="(origin: Infer.this.global.Type,constr0: Infer.this.global.TypeConstraint)Infer.this.global.TypeVar">TypeVar</a>(<a href="#773807" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>, <span title="Infer.this.global.TypeConstraint" class="keyword">new</span> <a href="../symtab/Types.scala.html#26478" title="Infer.this.global.TypeConstraint">TypeConstraint</a>(<a href="#773807" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665044" title="=&gt; List[Infer.this.global.Type]">lobounds</a>, <a href="#773807" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665047" title="=&gt; List[Infer.this.global.Type]">hibounds</a>))
        <a href="#773808" title="Infer.this.global.TypeVar">tv1</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665051" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="#773807" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="#773808" title="Infer.this.global.TypeVar">tv1</a>
      }
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="773806">tvars1</a> = <a href="#773802" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">tvars</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#773805" title="(tv: Infer.this.global.TypeVar)Infer.this.global.TypeVar">cloneTypeVar</a>
      // Note: right now it's not clear that solving is complete, or how it can be made complete!
      // So we should come back to this and investigate.
      <a href="../symtab/Types.scala.html#26584" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean)Boolean">solve</a>(<a href="#773806" title="List[Infer.this.global.TypeVar]">tvars1</a>, <a href="#773806" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Symbol,List[Infer.this.global.Symbol],List[Infer.this.global.TypeVar]])List[Infer.this.global.Symbol]">tvars1</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Symbol,List[Infer.this.global.Symbol],List#Coll]">map</span> (<a href="#773957" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>), <a href="#773806" title="(f: (Infer.this.global.TypeVar) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.TypeVar]])List[Int]">tvars1</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> (<a title="Infer.this.global.TypeVar" id="773993">x</a> =&gt; <span title="Int(65536)">COVARIANT</span>), <span title="Boolean(false)" class="keyword">false</span>)  
    }

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="49035">instantiateTypeVar</a>(<a title="Infer.this.global.TypeVar" id="264216">tvar</a>: <a href="../symtab/Types.scala.html#26433" title="Infer.this.global.TypeVar">TypeVar</a>) {
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="774023">tparam</a> = <a href="#264216" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264079" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean" class="keyword">false</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#264216" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="(x$1: AnyRef)Boolean">inst</a> != <a href="../symtab/Types.scala.html#26383" title="object Infer.this.global.NoType">NoType</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#40180" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#264216" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>) &amp;&amp; 
          (<a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#46018" title="(that: Infer.this.global.Type)Boolean">bounds</a> containsType <a href="#264216" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>)) {
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48702" title="(p: (Infer.this.Context) =&gt; Boolean)Infer.this.Context">nextEnclosing</a>(<a href="#774044" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#48612" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26815" title="Infer.this.global.CaseDef">CaseDef</a>]).<a href="Contexts.scala.html#48707" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a>(<a href="#774023" title="Infer.this.global.Symbol">tparam</a>)
        <a href="../symtab/Symbols.scala.html#27164" title="(info: Infer.this.global.Type)tparam.type">tparam</a> setInfo <a href="#264216" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#665050" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)tparam.type">tparam</a> resetFlag <span title="Long(16L)">DEFERRED</span>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new alias of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#774023" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>)
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a href="#774066" title="(Infer.this.global.Type, Infer.this.global.Type)">(</a><a href="#774065" title="Infer.this.global.Type" id="774066">lo</a>, <a href="#774065" title="Infer.this.global.Type" id="774067">hi</a>) = <a href="#49033" title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)">instBounds</a><span title="(Infer.this.global.Type, Infer.this.global.Type) @unchecked">(</span><a href="#264216" title="Infer.this.global.TypeVar">tvar</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">lo</a> &lt;:&lt; <a href="#774067" title="Infer.this.global.Type">hi</a>) {
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">lo</a> &lt;:&lt; <a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; Infer.this.global.Type">lo</a>) &amp;&amp; (<a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">hi</a> &lt;:&lt; <a href="#774067" title="Infer.this.global.Type">hi</a>))) {
            <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48702" title="(p: (Infer.this.Context) =&gt; Boolean)Infer.this.Context">nextEnclosing</a>(<a href="#774099" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#48612" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26815" title="Infer.this.global.CaseDef">CaseDef</a>]).<a href="Contexts.scala.html#48707" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a>(<a href="#774023" title="Infer.this.global.Symbol">tparam</a>)
            <a href="../symtab/Symbols.scala.html#27164" title="(info: Infer.this.global.Type)tparam.type">tparam</a> setInfo <a href="../symtab/Types.scala.html#26448" title="(lo: Infer.this.global.Type,hi: Infer.this.global.Type)Infer.this.global.TypeBounds">mkTypeBounds</a>(<a href="#774066" title="Infer.this.global.Type">lo</a>, <a href="#774067" title="Infer.this.global.Type">hi</a>)
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new bounds of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#774023" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>)
          } <span class="keyword">else</span> {
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;redundant: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#774023" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#774023" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#774066" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#774067" title="Infer.this.global.Type">hi</a>)
          }
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;inconsistent: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#774023" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#774066" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#774067" title="Infer.this.global.Type">hi</a>)
        }
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tp: Infer.this.global.Type,kind: String)Unit" id="49036">checkCheckable</a>(<a title="scala.tools.nsc.util.Position" id="278000">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="278001">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="String" id="278002">kind</a>: <span title="String">String</span>) {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,prefix: String)Unit" id="774154">patternWarning</a>(<a title="Infer.this.global.Type" id="774156">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="String" id="774157">prefix</a>: <span title="String">String</span>) = {
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48609" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45690" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">uncheckedWarning</a>(<a href="#278000" title="scala.tools.nsc.util.Position">pos</a>, <a href="#774157" title="(x$1: Any)java.lang.String">prefix</a><span title="(x$1: Any)java.lang.String">+</span><a href="#774156" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in type&quot;)" class="string">&quot; in type&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#278002" title="String">kind</a>+<span title="java.lang.String(&quot; is unchecked since it is eliminated by erasure&quot;)" class="string">&quot; is unchecked since it is eliminated by erasure&quot;</span>)
      }
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit" id="774155">check</a>(<a title="Infer.this.global.Type" id="774168">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="774169">bound</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]) {
        <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="774170">isLocalBinding</a>(<a title="Infer.this.global.Symbol" id="774171">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) =
          <a href="#774171" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; 
          (<span title="(x$1: Boolean)Boolean">(</span><a href="#774169" title="(elem: Any)Boolean">bound</a> contains <a href="#774171" title="Infer.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">||</span>
           <a href="#774171" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; Infer.this.global.Name">WILDCARD</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; Infer.this.global.Name">toTypeName</a> || {
            <span class="keyword">val</span> <a title="Infer.this.global.ScopeEntry" id="774183">e</a> = <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48618" title="=&gt; Infer.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27301" title="(name: Infer.this.global.Name)Infer.this.global.ScopeEntry">lookupEntry</a>(<a href="#774171" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Infer.this.global.Name">name</a>)
            <span title="(x$1: Boolean)Boolean">(</span><a href="#774183" title="(x$1: AnyRef)Boolean">e</a> ne <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#774183" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26966" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#774171" title="Infer.this.global.Symbol">sym</a> &amp;&amp; <a href="#774183" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26968" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48618" title="=&gt; Infer.this.global.Scope">scope</a>
          })
        <a href="#774168" title="Infer.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> SingleType(<a title="Infer.this.global.Type" id="774211">pre</a>, _) =&gt; 
            <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774211" title="Infer.this.global.Type">pre</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a>)
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="774219">pre</a>, <a title="Infer.this.global.Symbol" id="774220">sym</a>, <a title="List[Infer.this.global.Type]" id="774221">args</a>) =&gt; 
            <span title="Unit" class="keyword">if</span> (<a href="#774220" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>) 
              <a href="#774154" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#774168" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;abstract type &quot;)" class="string">&quot;abstract type &quot;</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#774220" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>)
              <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774168" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#774220" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28457" title="=&gt; Infer.this.global.Symbol">NothingClass</a> || <a href="#774220" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28455" title="=&gt; Infer.this.global.Symbol">NullClass</a>) 
              <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#278000" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;this type cannot be used in a type pattern&quot;)" class="string">&quot;this type cannot be used in a type pattern&quot;</span>)
            <span class="keyword">else</span>
              <span class="keyword">for</span> (<a title="Infer.this.global.Type" id="774260">arg</a> &lt;- <a href="#774221" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">args</a>) {
                <span title="Unit" class="keyword">if</span> (<a href="#774220" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28579" title="=&gt; Infer.this.global.Symbol">ArrayClass</a>) <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774260" title="Infer.this.global.Type">arg</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a>)
                <span class="keyword">else</span> <a href="#774260" title="Infer.this.global.Type">arg</a> <span title="Unit" class="keyword">match</span> {
                  <span title="Unit" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="774272">sym</a>, _) <span class="keyword">if</span> <a href="#774170" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a>(<a href="#774272" title="Infer.this.global.Symbol">sym</a>) =&gt;
                    ;
                  <span title="Unit" class="keyword">case</span> _ =&gt;
                    <a href="#774154" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#774260" title="Infer.this.global.Type">arg</a>, <span title="java.lang.String(&quot;non variable type-argument &quot;)" class="string">&quot;non variable type-argument &quot;</span>)
                }
              }
            <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774219" title="Infer.this.global.Type">pre</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[Infer.this.global.Type]" id="774286">parents</a>, <a title="Infer.this.global.Scope" id="774287">decls</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#774287" title="Infer.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27287" title="=&gt; Boolean">isEmpty</a>) <span class="keyword">for</span> (<a title="Infer.this.global.Type" id="774306">p</a> &lt;- <a href="#774286" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">parents</a>) <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774306" title="Infer.this.global.Type">p</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a>)
            <span class="keyword">else</span> <a href="#774154" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#774168" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;refinement &quot;)" class="string">&quot;refinement &quot;</span>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="774316">quantified</a>, <a title="Infer.this.global.Type" id="774317">tp1</a>) =&gt;
            <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#774317" title="Infer.this.global.Type">tp1</a>, <a href="#774169" title="List[Infer.this.global.Symbol]">bound</a> <a href="#774320" title="List[Infer.this.global.Symbol]">:::</a> <a href="#774316" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">quantified</a>)
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt;
            ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26385" title="object Infer.this.global.NoPrefix">NoPrefix</a> =&gt; 
            ;
          <span title="Unit" class="keyword">case</span> _ =&gt; 
            <a href="#774154" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#774168" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span>)
        }
      }
      <a href="#774155" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#278001" title="Infer.this.global.Type">tp</a>, List<span title="object Nil">(</span>))
    }

    /** Type intersection of simple type &lt;code&gt;tp1&lt;/code&gt; with general
     *  type &lt;code&gt;tp2&lt;/code&gt;. The result eliminates some redundancies.
     */
    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Infer.this.global.Type" id="49037">intersect</a>(<a title="Infer.this.global.Type" id="774346">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="774347">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = {
      <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#774347" title="Infer.this.global.Type">tp2</a>) <a href="#774346" title="Infer.this.global.Type">tp1</a>
      <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tp2</a> &lt;:&lt; <a href="#774346" title="Infer.this.global.Type">tp1</a>) <a href="#774347" title="Infer.this.global.Type">tp2</a>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="774355">reduced2</a> = <a href="#774347" title="Infer.this.global.Type">tp2</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
          <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.RefinedType" id="774356">rtp</a> @ RefinedType(<a title="List[Infer.this.global.Type]" id="774359">parents2</a>, <a title="Infer.this.global.Scope" id="774360">decls2</a>) =&gt;
            <a href="../symtab/Types.scala.html#26452" title="(original: Infer.this.global.RefinedType,parents: List[Infer.this.global.Type],decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a>(<a href="#774356" title="Infer.this.global.RefinedType">rtp</a>, <a href="#774359" title="(p: (Infer.this.global.Type) =&gt; Boolean)List[Infer.this.global.Type]">parents2</a> filter (<a title="Infer.this.global.Type" id="774368">p2</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#774368" title="Infer.this.global.Type">p2</a>)), <a href="#774360" title="Infer.this.global.Scope">decls2</a>)
          <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
            <a href="#774347" title="Infer.this.global.Type">tp2</a>
        }
        <a href="../symtab/Types.scala.html#26460" title="(tps: List[Infer.this.global.Type])Infer.this.global.Type">intersectionType</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#774346" title="Infer.this.global.Type">tp1</a>, <a href="#774355" title="Infer.this.global.Type">reduced2</a>))
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,pattp: Infer.this.global.Type,pt0: Infer.this.global.Type)Infer.this.global.Type" id="49038">inferTypedPattern</a>(<a title="scala.tools.nsc.util.Position" id="272846">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="272847">pattp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="272848">pt0</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="774393">pt</a> = <a href="#49031" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#272848" title="Infer.this.global.Type">pt0</a>)
      <a href="#49036" title="(pos: scala.tools.nsc.util.Position,tp: Infer.this.global.Type,kind: String)Unit">checkCheckable</a>(<a href="#272846" title="scala.tools.nsc.util.Position">pos</a>, <a href="#272847" title="Infer.this.global.Type">pattp</a>, <span title="java.lang.String(&quot; pattern&quot;)" class="string">&quot; pattern&quot;</span>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">pattp</a> &lt;:&lt; <a href="#774393" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="774401">tpparams</a> = <a href="#49045" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45741" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#272847" title="Infer.this.global.Type">pattp</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (1) = &quot;</span> + <a href="#774401" title="List[Infer.this.global.Symbol]">tpparams</a>)
        <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="774402">tvars</a> = <a href="#774401" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tpparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">var</span> <a title="Infer.this.global.Type" id="774403">tp</a> = <a href="#272847" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#774401" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#774402" title="List[Infer.this.global.TypeVar]">tvars</a>)
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tp</a> &lt;:&lt; <a href="#774393" title="Infer.this.global.Type">pt</a>) &amp;&amp; <a href="#49034" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a>(<a href="#774402" title="List[Infer.this.global.TypeVar]">tvars</a>))) {
          <a href="#774402" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#774401" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tpparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <a href="#774403" title="Infer.this.global.Type">tp</a> = <a href="#272847" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#774401" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#774402" title="List[Infer.this.global.TypeVar]">tvars</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="774518">ptparams</a> = <a href="#49045" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45741" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#774393" title="Infer.this.global.Type">pt</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (2) = &quot;</span> + <a href="#774518" title="List[Infer.this.global.Symbol]">ptparams</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="774519">ptvars</a> = <a href="#774518" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="774520">pt1</a> = <a href="#774393" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#774518" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#774519" title="List[Infer.this.global.TypeVar]">ptvars</a>)
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#26538" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPopulated</a><span title="(x$1: Boolean)Boolean">(</span><a href="#774403" title="Infer.this.global.Type">tp</a>, <a href="#774520" title="Infer.this.global.Type">pt1</a>) &amp;&amp; <a href="#49034" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a>(<a href="#774402" title="List[Infer.this.global.TypeVar]">tvars</a> <a href="#774657" title="List[Infer.this.global.TypeVar]">:::</a> <a href="#774519" title="(prefix: List[Infer.this.global.TypeVar])List[Infer.this.global.TypeVar]">ptvars</a>))) {
            //println(tpparams)
            //println(tvars map instBounds)
            //println(ptvars map instBounds)
            <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#272846" title="scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;pattern type is incompatible with expected type&quot;</span>+<a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#272847" title="Infer.this.global.Type">pattp</a>, <a href="#774393" title="Infer.this.global.Type">pt</a>))
            <span title="Nothing" class="keyword">return</span> <a href="#272847" title="Infer.this.global.Type">pattp</a>
          }
          <a href="#774519" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#49035" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        }
        <a href="#774402" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a> foreach <a href="#49035" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
      }
      <a href="#49037" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a>(<a href="#774393" title="Infer.this.global.Type">pt</a>, <a href="#272847" title="Infer.this.global.Type">pattp</a>)
    }

    <span class="keyword">def</span> <a title="(pat: Infer.this.global.Tree,pt: Infer.this.global.Type)Unit" id="49039">inferModulePattern</a>(<a title="Infer.this.global.Tree" id="264027">pat</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="264028">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) =
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#264027" title="Infer.this.global.Tree">pat</a>.<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#264028" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="264034">ptparams</a> = <a href="#49045" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45741" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#264028" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (2) = &quot;</span> + <a href="#264034" title="List[Infer.this.global.Symbol]">ptparams</a>)
        <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="264035">ptvars</a> = <a href="#264034" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#40175" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="264036">pt1</a> = <a href="#264028" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#264034" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#264035" title="List[Infer.this.global.TypeVar]">ptvars</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#264027" title="Infer.this.global.Tree">pat</a>.<a href="../symtab/Types.scala.html#30421" title="(that: Infer.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#264036" title="Infer.this.global.Type">pt1</a>)
          <a href="#264035" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#49035" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        <span class="keyword">else</span> 
          <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#264027" title="Infer.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;pattern type is incompatible with expected type&quot;</span>+<a href="#48991" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#264027" title="Infer.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#264028" title="Infer.this.global.Type">pt</a>))
      }

    <span class="keyword">object</span> <a title="object Inferencer.this.toOrigin" id="49040">toOrigin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26479" title="Infer.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="773662">apply</a>(<a title="Infer.this.global.Type" id="773663">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#773663" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
        <span title="Infer.this.global.Type" class="keyword">case</span> TypeVar(<a title="Infer.this.global.Type" id="774727">origin</a>, _) =&gt; <a href="#774727" title="Infer.this.global.Type">origin</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt; <a href="../symtab/Types.scala.html#42954" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#773663" title="Infer.this.global.Type">tp</a>)
      }
    }

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymCollector extends Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]] with ScalaObject" id="49042">SymCollector</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26483" title="Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]]">TypeCollector</a>(List[Symbol]<span title="object Nil">(</span>)) {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="264050">includeCondition</a>(<a title="Infer.this.global.Symbol" id="774777">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span>

      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Unit" id="264051">traverse</a>(<a title="Infer.this.global.Type" id="774779">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>) {
        <a href="#774779" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="774785">sym</a>, _) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#264050" title="(sym: Infer.this.global.Symbol)Boolean">includeCondition</a><span title="(x$1: Boolean)Boolean">(</span><a href="#774785" title="Infer.this.global.Symbol">sym</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#45738" title="=&gt; List[Infer.this.global.Symbol]">result</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#774785" title="Infer.this.global.Symbol">sym</a>)) <a href="../symtab/Types.scala.html#45739" title="(x$1: List[Infer.this.global.Symbol])Unit">result</a> = <a href="#774785" title="Infer.this.global.Symbol">sym</a> <a href="#774795" title="Infer.this.global.Symbol">::</a> <a href="../symtab/Types.scala.html#45738" title="(x: Infer.this.global.Symbol)List[Infer.this.global.Symbol]">result</a>
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <a href="../symtab/Types.scala.html#42954" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span title="Unit">(</span><a href="#774779" title="Infer.this.global.Type">tp</a>)
      }
    }

    <span class="keyword">object</span> <a title="object Inferencer.this.approximateAbstracts" id="49043">approximateAbstracts</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26479" title="Infer.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="264241">apply</a>(<a title="Infer.this.global.Type" id="264242">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a> = <a href="#264242" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
        <span title="Infer.this.global.WildcardType.type" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="774829">pre</a>, <a title="Infer.this.global.Symbol" id="774830">sym</a>, _) <span class="keyword">if</span> <a href="#774830" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt; <a href="../symtab/Types.scala.html#42954" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#264242" title="Infer.this.global.Type">tp</a>)
      }
    }

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParamsOfTerms" id="49045">freeTypeParamsOfTerms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#49042" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="264053">includeCondition</a>(<a title="Infer.this.global.Symbol" id="774860">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
        <a href="#774860" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <a href="#774860" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>
    }

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParametersNoSkolems" id="49047">freeTypeParametersNoSkolems</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#49042" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="750381">includeCondition</a>(<a title="Infer.this.global.Symbol" id="774867">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
        <a href="#774867" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27085" title="(x$1: Boolean)Boolean">isTypeParameter</a> &amp;&amp; <a href="#774867" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>
    }

    <span class="keyword">object</span> <a title="object Inferencer.this.typeRefs" id="49049">typeRefs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#49042" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="774872">includeCondition</a>(<a title="Infer.this.global.Symbol" id="774876">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree)Infer.this.global.Tree" id="49051">checkDead</a>(<a title="Infer.this.global.Tree" id="267608">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37377" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">Xwarndeadcode</a>.<a href="../Settings.scala.html#37988" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#267608" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="(x$1: AnyRef)Boolean">tpe</a> != <span title="Null(null)" class="keyword">null</span> &amp;&amp; <a href="#267608" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28457" title="=&gt; Infer.this.global.Symbol">NothingClass</a>)
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48698" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">warning</a> (<a href="#267608" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;dead code following this construct&quot;)" class="string">&quot;dead code following this construct&quot;</span>)
      <a href="#267608" title="Infer.this.global.Tree">tree</a>
    }

    /* -- Overload Resolution ---------------------------------------------- */

/*
    def checkNotShadowed(pos: Position, pre: Type, best: Symbol, eligible: List[Symbol]) =
      if (!phase.erasedTypes)
        for (alt &lt;- eligible) {
          if (isProperSubClassOrObject(alt.owner, best.owner))
            error(pos,
                  &quot;erroneous reference to overloaded definition,\n&quot;+
                  &quot;most specific definition is: &quot;+best+best.locationString+&quot; of type &quot;+pre.memberType(best)+
                  &quot;,\nyet alternative definition   &quot;+alt+alt.locationString+&quot; of type &quot;+pre.memberType(alt)+
                  &quot;\nis defined in a subclass&quot;)
        }
*/

    /** Assign &lt;code&gt;tree&lt;/code&gt; the symbol and type of the alternative which
     *  matches prototype &lt;code&gt;pt&lt;/code&gt;, if it exists.
     *  If several alternatives match `pt', take parameterless one.
     *  If no alternative matches `pt', take the parameterless one anyway.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,pt: Infer.this.global.Type)Unit" id="49052">inferExprAlternative</a>(<a title="Infer.this.global.Tree" id="262189">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="262190">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Unit">Unit</span> = <a href="#262189" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="774902">pre</a>, <a title="List[Infer.this.global.Symbol]" id="774903">alts</a>) =&gt; <a href="#49054" title="(infer: =&gt; Unit)Unit">tryTwice</a> {
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="774908">alts1</a> = <a href="#774903" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts</a> filter (<a title="Infer.this.global.Symbol" id="774916">alt</a> =&gt; <a href="#49005" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#774902" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#774916" title="Infer.this.global.Symbol">alt</a>), <a href="#262190" title="Infer.this.global.Type">pt</a>))
        //println(&quot;trying &quot;+alts1+(alts1 map (_.tpe))+(alts1 map (_.locationString))+&quot; for &quot;+pt)
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="774909">applicable</a> = <a href="#774908" title="List[Infer.this.global.Symbol]">alts1</a>
        <span class="keyword">var</span> <a title="Boolean" id="774910">secondTry</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">if</span> (<a href="#774908" title="List[Infer.this.global.Symbol]">alts1</a>.<span title="=&gt; Boolean">isEmpty</span>) { 
          <a href="#774908" title="List[Infer.this.global.Symbol]">alts1</a> = <a href="#774903" title="List[Infer.this.global.Symbol]">alts</a>
          <a href="#774910" title="Boolean">secondTry</a> = <span title="Boolean(true)" class="keyword">true</span>
        }
        <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="774911">improves</a>(<a title="Infer.this.global.Symbol" id="774925">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="774926">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
          <a href="#774926" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a> || 
          { <span class="keyword">val</span> <a title="Infer.this.global.Type" id="774933">tp1</a> = <a href="#774902" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#774925" title="Infer.this.global.Symbol">sym1</a>)
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="774934">tp2</a> = <a href="#774902" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#774926" title="Infer.this.global.Symbol">sym2</a>)
            (<a href="#774934" title="(x$1: AnyRef)Boolean">tp2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26376" title="object Infer.this.global.ErrorType">ErrorType</a> <span title="(x$1: Boolean)Boolean">||</span>
             <span title="(x$1: Boolean)Boolean">!</span><a href="Analyzer.scala.html#40028" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39391" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#42783" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#49005" title="(tp: Infer.this.global.analyzer.global.Type,pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#774934" title="Infer.this.global.Type">tp2</a>, <a href="#262190" title="Infer.this.global.Type">pt</a>) &amp;&amp; <a href="Analyzer.scala.html#40028" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39391" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#42783" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#49005" title="(tp: Infer.this.global.analyzer.global.Type,pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#774933" title="Infer.this.global.Type">tp1</a>, <a href="#262190" title="Infer.this.global.Type">pt</a>) ||
             <a href="#49021" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#774933" title="Infer.this.global.Type">tp1</a>, <a href="#774934" title="Infer.this.global.Type">tp2</a>, <a href="#774925" title="Infer.this.global.Symbol">sym1</a>, <a href="#774926" title="Infer.this.global.Symbol">sym2</a>)) }
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="774912">best</a> = ((<a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) <a href="#774965" title="Infer.this.global.Symbol">/:</a> <a href="#774908" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">alts1</a>) ((<a title="Infer.this.global.Symbol" id="774977">best</a>, <a title="Infer.this.global.Symbol" id="774978">alt</a>) =&gt;
          <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#774911" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#774978" title="Infer.this.global.Symbol">alt</a>, <a href="#774977" title="Infer.this.global.Symbol">best</a>)) <a href="#774978" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#774977" title="Infer.this.global.Symbol">best</a>)
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="774913">competing</a> = <a href="#774908" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts1</a> dropWhile (<a title="Infer.this.global.Symbol" id="774988">alt</a> =&gt; <a href="#774912" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#774988" title="Infer.this.global.Symbol">alt</a> || <a href="#774911" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#774912" title="Infer.this.global.Symbol">best</a>, <a href="#774988" title="Infer.this.global.Symbol">alt</a>))
        <span title="Unit" class="keyword">if</span> (<a href="#774912" title="(x$1: AnyRef)Boolean">best</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
            <a href="#262189" title="Infer.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> Select(<a title="Infer.this.global.Tree" id="775013">qual</a>, _) =&gt;
                <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;qual: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#775013" title="Infer.this.global.Tree">qual</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#775013" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with decls &quot;)" class="string">&quot; with decls &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#775013" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Infer.this.global.Scope">decls</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#775013" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30399" title="=&gt; List[Infer.this.global.Symbol]">members</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> + <a href="#775013" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30403" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a>(<a href="../symtab/Names.scala.html#26207" title="(s: String)Infer.this.global.Name">newTermName</a>(<span title="java.lang.String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span>)))
              <span title="Unit" class="keyword">case</span> _ =&gt;
            }
          }
          <a href="#48996" title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit">(</span><a href="#262189" title="Infer.this.global.Tree">tree</a>, <a href="#262189" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#262190" title="Infer.this.global.Type">pt</a>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#774913" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="#774910" title="Boolean">secondTry</a>) {
            <a href="#48996" title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit">(</span><a href="#262189" title="Infer.this.global.Tree">tree</a>, <a href="#262189" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#262190" title="Infer.this.global.Type">pt</a>)
          } <span class="keyword">else</span> {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#262190" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>)
              <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48699" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol,rest: String)Unit">ambiguousError</a>(<a href="#262189" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#774902" title="Infer.this.global.Type">pre</a>, <a href="#774912" title="Infer.this.global.Symbol">best</a>, <a href="#774913" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;expected type &quot;</span> + <a href="#262190" title="Infer.this.global.Type">pt</a>)
            <a href="#48984" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span title="Unit">(</span><a href="#262189" title="Infer.this.global.Tree">tree</a>)
          }
        } <span class="keyword">else</span> {
//          val applicable = alts1 filter (alt =&gt; 
//            global.typer.infer.isWeaklyCompatible(pre.memberType(alt), pt))
//          checkNotShadowed(tree.pos, pre, best, applicable)
          <a href="#262189" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#774912" title="Infer.this.global.Symbol">best</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#774902" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#774912" title="Infer.this.global.Symbol">best</a>))
        }
      }
    }

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of an alternative which is applicable
     *  to &lt;code&gt;argtpes&lt;/code&gt;, and whose result type is compatible with `pt'.
     *  If several applicable alternatives exist, drop the alternatives which use
     *  default arguments, then select the most specialized one.
     *  If no applicable alternative exists, and pt != WildcardType, try again
     *  with pt = WildcardType.
     *  Otherwise, if there is no best alternative, error.
     *
     *  @param argtpes contains the argument types. If an argument is named, as
     *    &quot;a = 3&quot;, the corresponding type is `NamedType(&quot;a&quot;, Int)'. If the name
     *    of some NamedType does not exist in an alternative's parameter names,
     *    the type is replaces by `Unit', i.e. the argument is treated as an
     *    assignment expression.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],argtpes: List[Infer.this.global.Type],pt0: Infer.this.global.Type)Unit" id="49053">inferMethodAlternative</a>(<a title="Infer.this.global.Tree" id="271404">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="271405">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                               <a title="List[Infer.this.global.Type]" id="271406">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="271407">pt0</a>: <a href="../symtab/Types.scala.html#26364" title="Infer.this.global.Type">Type</a>): <span title="Unit">Unit</span> = <a href="#271404" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="775076">pre</a>, <a title="List[Infer.this.global.Symbol]" id="775077">alts</a>) =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="775080">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#271407" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Infer.this.global.Symbol">UnitClass</a>) <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#271407" title="Infer.this.global.Type">pt0</a>
        <a href="#49054" title="(infer: =&gt; Unit)Unit">tryTwice</a> {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer method alt &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#271404" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Infer.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                (<a href="#775077" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,Any,List[Infer.this.global.Symbol]])Any">alts</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#775076" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>) <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, argtpes = &quot;)" class="string">&quot;, argtpes = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span>+ <a href="#775080" title="Infer.this.global.Type">pt</a>)

          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="775088">allApplicable</a> = <a href="#775077" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts</a> filter (<a title="Infer.this.global.Symbol" id="775206">alt</a> =&gt;
            <a href="#49016" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#271405" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#49013" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#775076" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775206" title="Infer.this.global.Symbol">alt</a>)), <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#775080" title="Infer.this.global.Type">pt</a>))

          // if there are multiple, drop those that use a default
          // (keep those that use vararg / tupling conversion)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="775089">applicable</a> =
            <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> (<a href="#775088" title="List[Infer.this.global.Symbol]">allApplicable</a>.<span title="(x$1: Int)Boolean">length</span> &lt;= <span title="Int(1)" class="int">1</span>) <a href="#775088" title="List[Infer.this.global.Symbol]">allApplicable</a>
            <span class="keyword">else</span> <a href="#775088" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">allApplicable</a> filter (<a title="Infer.this.global.Symbol" id="775224">alt</a> =&gt; {
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="775225">mtypes</a> = <a href="#49013" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#775224" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>) <span title="List[Infer.this.global.Type]" class="keyword">match</span> {
                <span title="List[Infer.this.global.Type]" class="keyword">case</span> OverloadedType(_, <a title="List[Infer.this.global.Symbol]" id="775230">alts</a>) =&gt;
                  // for functional values, the `apply' method might be overloaded
                  <a href="#775230" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">alts</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#775241" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>)
                <span title="List[Infer.this.global.Type]" class="keyword">case</span> <a title="Infer.this.global.Type" id="775322">t</a> =&gt; <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#775322" title="Infer.this.global.Type">t</a>)
              }
              <a href="#775225" title="List[Infer.this.global.Type]">mtypes</a>.<span title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">exists</span>(<a title="Infer.this.global.Type" id="775336">t</a> =&gt; <a href="#775336" title="Infer.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>.<a title="(x$1: Int)Boolean" id="2977">length</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span> || // tupling (*)
                                 <a href="#49014" title="(tp: Infer.this.global.Type,n: Int)Boolean">hasExactlyNumParams</a>(<a href="#775336" title="Infer.this.global.Type">t</a>, <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>)) // same nb or vararg
              // (*) more arguments than parameters, but still applicable: tuplig conversion works.
              //     todo: should not return &quot;false&quot; when paramTypes = (Unit) no argument is given
              //     (tupling would work)
            })

          <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="775090">improves</a>(<a title="Infer.this.global.Symbol" id="775352">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="775353">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) =
            <a href="#775353" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#775353" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27080" title="=&gt; Boolean">isError</a> ||
            <a href="#49021" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#49013" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#775076" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775352" title="Infer.this.global.Symbol">sym1</a>)),
                                   <a href="#49013" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#775076" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775353" title="Infer.this.global.Symbol">sym2</a>)), <a href="#775352" title="Infer.this.global.Symbol">sym1</a>, <a href="#775353" title="Infer.this.global.Symbol">sym2</a>)

          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="775091">best</a> = ((<a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#26286" title="Infer.this.global.Symbol">Symbol</a>) <a href="#775376" title="Infer.this.global.Symbol">/:</a> <a href="#775089" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">applicable</a>) ((<a title="Infer.this.global.Symbol" id="775388">best</a>, <a title="Infer.this.global.Symbol" id="775389">alt</a>) =&gt;
            <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#775090" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#775389" title="Infer.this.global.Symbol">alt</a>, <a href="#775388" title="Infer.this.global.Symbol">best</a>)) <a href="#775389" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#775388" title="Infer.this.global.Symbol">best</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="775092">competing</a> = <a href="#775089" title="List[Infer.this.global.Symbol]">applicable</a>.<span title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span>(<a title="Infer.this.global.Symbol" id="775398">alt</a> =&gt; <a href="#775091" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#775398" title="Infer.this.global.Symbol">alt</a> || <a href="#775090" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#775091" title="Infer.this.global.Symbol">best</a>, <a href="#775398" title="Infer.this.global.Symbol">alt</a>))
          <span title="Unit" class="keyword">if</span> (<a href="#775091" title="(x$1: AnyRef)Boolean">best</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
            <span title="Unit" class="keyword">if</span> (<a href="#775080" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>) {
              <a href="#48994" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a><span title="Unit">(</span><a href="#271404" title="Infer.this.global.Tree">tree</a>, <a href="#48989" title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a>(<a href="#271404" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot; cannot be applied to &quot;)" class="string">&quot; cannot be applied to &quot;</span>, <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#775080" title="Infer.this.global.Type">pt</a>))
            } <span class="keyword">else</span> {
              <a href="#49053" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],argtpes: List[Infer.this.global.Type],pt0: Infer.this.global.Type)Unit">inferMethodAlternative</a>(<a href="#271404" title="Infer.this.global.Tree">tree</a>, <a href="#271405" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>)
            }
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#775092" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span>) {
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="#271406" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">argtpes</a> exists (<a href="#775433" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>)) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#775080" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>)
              <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48699" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol,rest: String)Unit">ambiguousError</a>(<a href="#271404" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#775076" title="Infer.this.global.Type">pre</a>, <a href="#775091" title="Infer.this.global.Symbol">best</a>, <a href="#775092" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>,
                                     <span title="(x$1: Any)java.lang.String" class="string">&quot;argument types &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#271406" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) + 
                                     (<span title="Any" class="keyword">if</span> (<a href="#775080" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26378" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; and expected result type &quot;</span> + <a href="#775080" title="Infer.this.global.Type">pt</a>))
            <a href="#48984" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#271404" title="Infer.this.global.Tree">tree</a>)
            <span title="Unit">(</span>)
          } <span class="keyword">else</span> {
//            checkNotShadowed(tree.pos, pre, best, applicable)
            <a href="#271404" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#775091" title="Infer.this.global.Symbol">best</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#775076" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775091" title="Infer.this.global.Symbol">best</a>))
          }
        }
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }

    /** Try inference twice, once without views and once with views,
     *  unless views are already disabled.
     *
     *  @param infer ...
     */
    <span class="keyword">def</span> <a title="(infer: =&gt; Unit)Unit" id="49054">tryTwice</a>(<a title="=&gt; Unit" id="774906">infer</a>: =&gt; Unit) {
      <span title="Unit" class="keyword">if</span> (<a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48666" title="=&gt; Boolean">implicitsEnabled</a>) {
        <span class="keyword">val</span> <a title="Boolean" id="775481">reportGeneralErrors</a> = <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48660" title="=&gt; Boolean">reportGeneralErrors</a>
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48661" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48667" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">try</span> {
          <a href="#774906" title="=&gt; Unit">infer</a>
        } <span class="keyword">catch</span> {
          <span title="Nothing" class="keyword">case</span> <a title="Infer.this.global.CyclicReference" id="775486">ex</a>: <a href="../symtab/Symbols.scala.html#26297" title="Infer.this.global.CyclicReference">CyclicReference</a> =&gt; 
            <span title="Nothing" class="keyword">throw</span> <a href="#775486" title="Infer.this.global.CyclicReference">ex</a>
          <span title="Unit" class="keyword">case</span> <a title="Infer.this.global.TypeError" id="775487">ex</a>: <a href="../symtab/Types.scala.html#26618" title="Infer.this.global.TypeError">TypeError</a> =&gt;
            <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48661" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#775481" title="Boolean">reportGeneralErrors</a>
            <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48667" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#774906" title="=&gt; Unit">infer</a>
        }
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48661" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#775481" title="Boolean">reportGeneralErrors</a>
        <a href="#49059" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48667" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">else</span> <a href="#774906" title="=&gt; Unit">infer</a>
    }

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of unique polymorphic alternative
     *  with &lt;code&gt;nparams&lt;/code&gt; as the number of type parameters, if it exists.
     *  If several or none such polymorphic alternatives exist, error.
     *
     *  @param tree ...
     *  @param nparams ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,argtypes: List[Infer.this.global.Type])Unit" id="49055">inferPolyAlternatives</a>(<a title="Infer.this.global.Tree" id="277375">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Type]" id="277376">argtypes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]): <span title="Unit">Unit</span> = <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="775498">pre</a>, <a title="List[Infer.this.global.Symbol]" id="775499">alts</a>) =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="775502">sym0</a> = <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../symtab/Symbols.scala.html#27185" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">symbol</a> filter { <a title="Infer.this.global.Symbol" id="775505">alt</a> =&gt; <a href="#775505" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#277376" title="List[Infer.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span> }
        <span title="Unit" class="keyword">if</span> (<a href="#775502" title="(x$1: AnyRef)Boolean">sym0</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
            <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
            <span title="String" class="keyword">if</span> (<a href="#775499" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="775526">alt</a> =&gt; <a href="#775526" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <span title="Int(0)" class="int">0</span>))
              <span title="(x$1: Any)java.lang.String" class="string">&quot;wrong number of type parameters for &quot;</span> + <a href="#48988" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a>(<a href="#277375" title="Infer.this.global.Tree">tree</a>)
            <span class="keyword">else</span> <a href="#48988" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#277375" title="Infer.this.global.Tree">tree</a>) + <span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span>)
          <span title="Nothing" class="keyword">return</span>
        }
        <span title="Unit" class="keyword">if</span> (<a href="#775502" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>)) {
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="775548">sym</a> = <a href="../symtab/Symbols.scala.html#27185" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">sym0</a> filter { <a title="Infer.this.global.Symbol" id="775551">alt</a> =&gt; <a href="../symtab/Types.scala.html#26586" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="#775498" title="Infer.this.global.Type">pre</a>, <a href="#775551" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#775551" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#277376" title="List[Infer.this.global.Type]">argtypes</a>) }
          <span title="Unit" class="keyword">if</span> (<a href="#775548" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#277376" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">argtypes</a> exists (<a href="#775570" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>))) {
              <a href="#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
                <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
                <span title="(x$1: Any)java.lang.String" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#277376" title="List[Infer.this.global.Type]">argtypes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; conform to the bounds of none of the overloaded alternatives of\012 &quot;)" class="string">&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#775502" title="Infer.this.global.Symbol">sym0</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>+<a href="#775502" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Infer.this.global.Type">info</a>)
              <span title="Nothing" class="keyword">return</span>
            }
          }
          <span title="Unit" class="keyword">if</span> (<a href="#775548" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>)) {
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="775595">tparams</a> = <span title="Infer.this.global.AsSeenFromMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#26497" title="Infer.this.global.AsSeenFromMap">AsSeenFromMap</a>(<a href="#775498" title="Infer.this.global.Type">pre</a>, <a href="#775548" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Infer.this.global.Symbol">owner</a>).<a href="../symtab/Types.scala.html#42957" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a>(
              <a href="#775548" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27175" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>)
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="775596">bounds</a> = <a href="#775595" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#775646" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Infer.this.global.Type">tpe</a>)  //@M TODO: might be affected by change to tpe in Symbol
            <span class="keyword">val</span> <a title="Infer.this.global.PolyType" id="775597">tpe</a> = 
              <a href="../symtab/Types.scala.html#44057" title="(typeParams: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a>(<a href="#775595" title="List[Infer.this.global.Symbol]">tparams</a>, 
                       <a href="../symtab/Types.scala.html#259475" title="(pre: Infer.this.global.Type,alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a>(<a href="../symtab/Types.scala.html#673066" title="(pre: Infer.this.global.Type,targs: List[Infer.this.global.Type])Infer.this.global.AntiPolyType">AntiPolyType</a>(<a href="#775498" title="Infer.this.global.Type">pre</a>, <a href="#775596" title="List[Infer.this.global.Type]">bounds</a>), <a href="#775548" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>))
            <a href="#775548" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: Infer.this.global.Type)sym.type">setInfo</a>(<a href="#775597" title="Infer.this.global.PolyType">tpe</a>)
            <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#775548" title="Infer.this.global.Symbol">sym</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#775597" title="Infer.this.global.PolyType">tpe</a>)
          } <span class="keyword">else</span> {
            <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#775548" title="Infer.this.global.Symbol">sym</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#775498" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775548" title="Infer.this.global.Symbol">sym</a>))
          }
        } <span class="keyword">else</span> {
          <a href="#277375" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29555" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#775502" title="Infer.this.global.Symbol">sym0</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#775498" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#775502" title="Infer.this.global.Symbol">sym0</a>))
        }
    }
  }
}


        </pre>
    </body>
</html>