<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Infer.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Infer.scala 18548 2009-08-22 21:27:49Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlException
<span class="keyword">import</span> symtab.Flags._

/** This trait ...
 *
 *  @author Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Infer extends java.lang.Object with ScalaObject" id="17355">Infer</a> <span title="ScalaObject">{</span>
  self: Analyzer =&gt;
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._

  // statistics
  <span class="keyword">var</span> <a title="Int" id="39927">normM</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="39930">normP</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="39933">normO</a> = <span title="Int(0)" class="int">0</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="39935">inferInfo</a> = <span title="Boolean(false)" class="keyword">false</span>

/* -- Type parameter inference utility functions --------------------------- */

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="39937">assertNonCyclic</a>(<a title="Infer.this.global.TypeVar" id="765398">tvar</a>: <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>) =
    <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#765398" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> != <a href="#765398" title="Infer.this.global.TypeVar">tvar</a>, <a href="#765398" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>)

  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type])Boolean" id="39938">isVarArgs</a>(<a title="List[Infer.this.global.Type]" id="269688">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]) = 
    <span title="(x$1: Boolean)Boolean">!</span><a href="#269688" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; (<a href="#269688" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a>)

  /** The formal parameter types corresponding to &lt;code&gt;formals&lt;/code&gt;.
   *  If &lt;code&gt;formals&lt;/code&gt; has a repeated last parameter, a list of
   *  (nargs - params.length + 1) copies of its type is returned.
   *  By-name types are replaced with their underlying type.
   *
   *  @param formals ...
   *  @param nargs ...
   */
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]" id="39939">formalTypes</a>(<a title="List[Infer.this.global.Type]" id="115592">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="115593">nargs</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = 
    <a href="#39940" title="(formals: List[Infer.this.global.Type],nargs: Int,removeByName: Boolean)List[Infer.this.global.Type]">formalTypes</a>(<a href="#115592" title="List[Infer.this.global.Type]">formals</a>, <a href="#115593" title="Int">nargs</a>, <span title="Boolean(true)" class="keyword">true</span>)

  /** This variant allows keeping ByName parameters. Useed in NamesDefaults. */
  <span class="keyword">def</span> <a title="(formals: List[Infer.this.global.Type],nargs: Int,removeByName: Boolean)List[Infer.this.global.Type]" id="39940">formalTypes</a>(<a title="List[Infer.this.global.Type]" id="115585">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="115586">nargs</a>: <span title="Int">Int</span>, <a title="Boolean" id="115587">removeByName</a>: <span title="Boolean">Boolean</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
    <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="765421">formals1</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#115587" title="Boolean">removeByName</a>) <a href="#115585" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">formals</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#765430" title="Infer.this.global.Type">{</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="765434">sym</a>, <a href="#765436" title="(x: List[Infer.this.global.Type])Some[List[Infer.this.global.Type]]">List</a>(<a title="Infer.this.global.Type" id="765445">arg</a>)) <span class="keyword">if</span> (<a href="#765434" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28362" title="=&gt; Infer.this.global.Symbol">ByNameParamClass</a>) =&gt; <a href="#765445" title="Infer.this.global.Type">arg</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="765455">formal</a> =&gt; <a href="#765455" title="Infer.this.global.Type">formal</a>
    } <span class="keyword">else</span> <a href="#115585" title="List[Infer.this.global.Type]">formals</a>
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#39938" title="(formals: List[Infer.this.global.Type])Boolean">isVarArgs</a>(<a href="#765421" title="List[Infer.this.global.Type]">formals1</a>)) {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="765538">ft</a> = <a href="#765421" title="List[Infer.this.global.Type]">formals1</a>.<span title="=&gt; Infer.this.global.Type">last</span>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[Infer.this.global.Type]">typeArgs</a>.<span title="=&gt; Infer.this.global.Type">head</span>
      <a href="#765421" title="List[Infer.this.global.Type]">formals1</a>.<a title="=&gt; List[Infer.this.global.Type]" id="25321">init</a> <a href="#765540" title="List[Infer.this.global.Type]">:::</a> <span title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">(</span><span class="keyword">for</span> (<a title="Int" id="765571">i</a> &lt;- <span title="object List">List</span>.<a title="(start: Int,end: Int)List[Int]" id="24484">range</a><span title="(f: (Int) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Int]])List[Infer.this.global.Type]">(</span><a href="#765421" title="List[Infer.this.global.Type]">formals1</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>, <a href="#115586" title="Int">nargs</a>)) <span class="keyword">yield</span> <a href="#765538" title="Infer.this.global.Type">ft</a>)
    } <span class="keyword">else</span> <a href="#765421" title="List[Infer.this.global.Type]">formals1</a>
  }

  <span class="keyword">def</span> <a title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]" id="39941">actualTypes</a>(<a title="List[Infer.this.global.Type]" id="765656">actuals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Int" id="765657">nformals</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] =
    <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#765657" title="(x$1: Int)Boolean">nformals</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(1)" class="int">1</span> &amp;&amp; <a href="#765656" title="List[Infer.this.global.Type]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> != <span title="Int(1)" class="int">1</span>)
      <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#765656" title="List[Infer.this.global.Type]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(0)" class="int">0</span>) <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28459" title="(elems: List[Infer.this.global.Type])Infer.this.global.Type">tupleType</a>(<a href="#765656" title="List[Infer.this.global.Type]">actuals</a>))
    <span class="keyword">else</span> <a href="#765656" title="List[Infer.this.global.Type]">actuals</a>

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,actuals: List[Infer.this.global.Tree],nformals: Int)List[Infer.this.global.Tree]" id="39942">actualArgs</a>(<a title="scala.tools.nsc.util.Position" id="270614">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="List[Infer.this.global.Tree]" id="270615">actuals</a>: <span title="List[Infer.this.global.Tree]">List</span>[Tree], <a title="Int" id="270616">nformals</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Tree]">List</span>[Tree] =
    <span title="List[Infer.this.global.Tree]" class="keyword">if</span> (<a href="#270616" title="(x$1: Int)Boolean">nformals</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#270615" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> != <span title="Int(1)" class="int">1</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#270615" title="List[Infer.this.global.Tree]">actuals</a>.<span title="(x$1: Int)Boolean">length</span> &lt;= <a href="../symtab/Definitions.scala.html#26479" title="object Infer.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28445" title="=&gt; Int">MaxTupleArity</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23163" title="=&gt; Boolean">erasedTypes</a>)
      <span title="(xs: Infer.this.global.gen.global.Tree*)List[Infer.this.global.gen.global.Tree]">List</span>(<a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Infer.this.global.gen.global.Tree)Infer.this.global.gen.global.Tree">atPos</a>(<a href="#270614" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../Global.scala.html#39031" title="object Infer.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42691" title="(elems: List[Infer.this.global.gen.global.Tree])Infer.this.global.gen.global.Tree">mkTuple</a>(<a href="#270615" title="List[Infer.this.global.Tree]">actuals</a>))) <span class="keyword">else</span> <a href="#270615" title="List[Infer.this.global.Tree]">actuals</a>

  /** A fresh type varable with given type parameter as origin.
   *
   *  @param tparam ...
   *  @return       ...
   */
  <span class="keyword">def</span> <a title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar" id="39943">freshVar</a>(<a title="Infer.this.global.Symbol" id="263265">tparam</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a> =
    <span title="Infer.this.global.TypeVar" class="keyword">new</span> <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>(<a href="#263265" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="../symtab/Types.scala.html#663459" title="()Infer.this.global.TypeConstraint" class="keyword">new</a> <a href="../symtab/Types.scala.html#26319" title="Infer.this.global.TypeConstraint">TypeConstraint</a>)  //@M TODO: might be affected by change to tpe in Symbol

  //todo: remove comments around following privates; right now they cause an IllegalAccess
  // error when built with scalac

  /*private*/ <span class="keyword">class</span> <a title="class NoInstance extends java.lang.RuntimeException with scala.util.control.ControlException with ScalaObject" id="39944">NoInstance</a><a title="ScalaObject" id="29246">(</a><a title="String" id="765758">msg</a>: <span title="String">String</span>) <span class="keyword">extends</span> <a title="java.lang.RuntimeException" id="7822">RuntimeException</a>(<a href="#765758" title="String">msg</a>) <span class="keyword">with</span> <a title="scala.util.control.ControlException" id="47048">ControlException</a>

  /*private*/ <span class="keyword">class</span> <a title="class DeferredNoInstance extends Infer.this.NoInstance with ScalaObject" id="39945">DeferredNoInstance</a><span title="ScalaObject">(</span><a title="() =&gt; String" id="765772">getmsg</a>: () =&gt; String) <span class="keyword">extends</span> <a href="#39944" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="765769">getMessage</a>(): <span title="String">String</span> = <a href="#765772" title="()String">getmsg</a>()
  }

  /** map every TypeVar to its constraint.inst field.
   *  throw a NoInstance exception if a NoType or WildcardType is encountered.
   *
   *  @param  tp ...
   *  @return    ...
   *  @throws    NoInstance
   */
  <span class="keyword">object</span> <a title="object Infer.this.instantiate" id="39946">instantiate</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26320" title="Infer.this.global.TypeMap">TypeMap</a> {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Infer.this.global.TypeVar]" id="765780">excludedVars</a> = scala.collection.immutable.<a title="[A](args: A*)scala.collection.immutable.Set[A]" id="7544">Set</a><span title="(args: Infer.this.global.TypeVar*)scala.collection.immutable.Set[Infer.this.global.TypeVar]">[</span><a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>]()
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="765782">apply</a>(<a title="Infer.this.global.Type" id="765790">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#765790" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
      <span title="Nothing" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> | <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#39944" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;undetermined type&quot;)" class="string">&quot;undetermined type&quot;</span>)
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.TypeVar" id="765795">tv</a> @ TypeVar(<a title="Infer.this.global.Type" id="765798">origin</a>, <a title="Infer.this.global.TypeConstraint" id="765799">constr</a>) =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#765799" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> == <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a>) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#39945" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a>(() =&gt;
            <span title="(x$1: Any)java.lang.String" class="string">&quot;no unique instantiation of type variable &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#765798" title="Infer.this.global.Type">origin</a> + <span title="java.lang.String(&quot; could be found&quot;)" class="string">&quot; could be found&quot;</span>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#765780" title="(elem: Infer.this.global.TypeVar)Boolean" id="39332">excludedVars</a> contains <a href="#765795" title="Infer.this.global.TypeVar">tv</a>) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#39944" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;cyclic instantiation&quot;)" class="string">&quot;cyclic instantiation&quot;</span>)
        } <span class="keyword">else</span> {
          <a href="#765780" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit" id="39334">excludedVars</a> += <a href="#765795" title="Infer.this.global.TypeVar">tv</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="765821">res</a> = <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">apply</a>(<a href="#765799" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
          <a href="#765780" title="(x$1: scala.collection.immutable.Set[Infer.this.global.TypeVar])Unit" id="39336">excludedVars</a> -= <a href="#765795" title="Infer.this.global.TypeVar">tv</a>
          <a href="#765821" title="Infer.this.global.Type">res</a>
        } 
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#42722" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#765790" title="Infer.this.global.Type">tp</a>)
    }
  }

  /** Is type fully defined, i.e. no embedded anytypes or wildcards in it?
   *
   *  @param tp ...
   *  @return   ...
   */
  <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Boolean" id="39948">isFullyDefined</a>(<a title="Infer.this.global.Type" id="260273">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#260273" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
    <span title="Boolean(false)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> | <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26226" title="object Infer.this.global.NoPrefix">NoPrefix</a> | ThisType(_) | ConstantType(_) =&gt; 
      <span title="Boolean(true)" class="keyword">true</span>
    <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="766000">pre</a>, <a title="Infer.this.global.Symbol" id="766001">sym</a>, <a title="List[Infer.this.global.Type]" id="766002">args</a>) =&gt;
      <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a><span title="(x$1: Boolean)Boolean">(</span><a href="#766000" title="Infer.this.global.Type">pre</a>) &amp;&amp; (<a href="#766002" title="List[Infer.this.global.Type]">args</a>.<span title="(x$1: Boolean)Boolean">isEmpty</span> || (<a href="#766002" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">args</a> forall <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>))
    <span title="Boolean" class="keyword">case</span> SingleType(<a title="Infer.this.global.Type" id="766022">pre</a>, <a title="Infer.this.global.Symbol" id="766023">sym</a>) =&gt;
      <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#766022" title="Infer.this.global.Type">pre</a>)
    <span title="Boolean" class="keyword">case</span> RefinedType(<a title="List[Infer.this.global.Type]" id="766030">ts</a>, <a title="Infer.this.global.Scope" id="766031">decls</a>) =&gt;
      <a href="#766030" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">ts</a> forall <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>
    <span title="Boolean(false)" class="keyword">case</span> TypeVar(<a title="Infer.this.global.Type" id="766045">origin</a>, <a title="Infer.this.global.TypeConstraint" id="766046">constr</a>) <span class="keyword">if</span> (<a href="#766046" title="Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> == <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a>) =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
    <span title="Boolean" class="keyword">case</span> _ =&gt;
      <span class="keyword">try</span> {
        <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#260273" title="Infer.this.global.Type">tp</a>); <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">catch</span> {
        <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="766062">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }
  }        

  /** Solve constraint collected in types &lt;code&gt;tvars&lt;/code&gt;.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to &lt;code&gt;tvars&lt;/code&gt;
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When &lt;code&gt;true&lt;/code&gt; search for max solution else min.
   *  @throws NoInstance
   */
  <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]" id="39949">solvedTypes</a>(<a title="List[Infer.this.global.TypeVar]" id="749669">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span>[TypeVar], <a title="List[Infer.this.global.Symbol]" id="749670">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                  <a title="List[Int]" id="749671">variances</a>: <span title="List[Int]">List</span>[Int], <a title="Boolean" id="749672">upper</a>: <span title="Boolean">Boolean</span>, <a title="Int" id="749673">depth</a>: <span title="Int">Int</span>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
//    def boundsString(tvar: TypeVar) = 
//      &quot;\n  &quot;+
//      ((tvar.constr.lobounds map (_ + &quot; &lt;: &quot; + tvar.origin.typeSymbol.name)) :::
//       (tvar.constr.hibounds map (tvar.origin.typeSymbol.name + &quot; &lt;: &quot; + _)) mkString &quot;, &quot;)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#26426" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)Boolean">solve</a>(<a href="#749669" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#749670" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#749671" title="List[Int]">variances</a>, <a href="#749672" title="Boolean">upper</a>, <a href="#749673" title="Int">depth</a>)) <span title="Unit">{</span>
//    no panic, it's good enough to just guess a solution, we'll find out
//    later whether it works.
//      throw new DeferredNoInstance(() =&gt;
//        &quot;no solution exists for constraints&quot;+(tvars map boundsString))
    }
    <span class="keyword">for</span> (<a title="Infer.this.global.TypeVar" id="766097">tvar</a> &lt;- <a href="#749669" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a>) 
      <span title="Unit" class="keyword">if</span> (<a href="#766097" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> == <a href="#766097" title="Infer.this.global.TypeVar">tvar</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#766097" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27004" title="(x$1: AnyRef)Boolean">info</a> eq <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a>) {
          // this can happen if during solving a cyclic type paramater
          // such as T &lt;: T gets completed. See #360
          <a href="#766097" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663467" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a>
        } <span class="keyword">else</span> <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <a href="#766097" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>)
    <a href="#749669" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.TypeVar]])List[Infer.this.global.Type]">tvars</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#39946" title="object Infer.this.instantiate">instantiate</a>
  }

  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="39950">skipImplicit</a>(<a title="Infer.this.global.Type" id="766155">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) =
    <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#766155" title="Infer.this.global.Type">tp</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26260" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a>]) <a href="#766155" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Infer.this.global.Type">resultType</a> <span class="keyword">else</span> <a href="#766155" title="Infer.this.global.Type">tp</a>

  /** Automatically perform the following conversions on expression types:
   *  A method type becomes the corresponding function type.
   *  A nullary method type becomes its result type.
   *  Implicit parameters are skipped.
   */
  <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="39951">normalize</a>(<a title="Infer.this.global.Type" id="46972">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#39950" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#46972" title="Infer.this.global.Type">tp</a>) <span title="Infer.this.global.Type" class="keyword">match</span> {
    <span title="Infer.this.global.Type" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="766167">params</a>, <a title="Infer.this.global.Type" id="766168">restpe</a>) <span class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#766168" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30178" title="=&gt; Boolean">isDependent</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) <a href="#39927" title="(x$1: Int)Unit">normM</a> += <span title="Int(1)" class="int">1</span>
      <a href="../symtab/Definitions.scala.html#28473" title="(formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type)Infer.this.global.Type">functionType</a>(<a href="#766167" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#766217" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#39951" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#766168" title="Infer.this.global.Type">restpe</a>))
    <span title="Infer.this.global.Type" class="keyword">case</span> PolyType(<a href="#766249" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>(), <a title="Infer.this.global.Type" id="766259">restpe</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) <a href="#39930" title="(x$1: Int)Unit">normP</a> += <span title="Int(1)" class="int">1</span>
      <a href="#39951" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#766259" title="Infer.this.global.Type">restpe</a>)
    <span title="Infer.this.global.ExistentialType" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="766302">tparams</a>, <a title="Infer.this.global.Type" id="766303">qtpe</a>) =&gt;
      <a href="../symtab/Types.scala.html#43370" title="(quantified: List[Infer.this.global.Symbol],underlying: Infer.this.global.Type)Infer.this.global.ExistentialType">ExistentialType</a>(<a href="#766302" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#39951" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#766303" title="Infer.this.global.Type">qtpe</a>))
    <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="766328">tp1</a> =&gt;
      <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) <a href="#39933" title="(x$1: Int)Unit">normO</a> += <span title="Int(1)" class="int">1</span>
      <a href="#766328" title="Infer.this.global.Type">tp1</a> // @MAT aliases already handled by subtyping
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.ClassSymbol" id="39952">stdErrorClass</a> = <a href="../symtab/Definitions.scala.html#28239" title="=&gt; Infer.this.global.ModuleClassSymbol">RootClass</a>.<a href="../symtab/Symbols.scala.html#26890" title="(name: Infer.this.global.Name)Infer.this.global.ClassSymbol">newErrorClass</a>(<a href="../symtab/StdNames.scala.html#26531" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29679" title="=&gt; Infer.this.global.Name">ERROR</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; Infer.this.global.Name">toTypeName</a>)
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Infer.this.global.TermSymbol" id="39954">stdErrorValue</a> = <a href="#39952" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a>.<a href="../symtab/Symbols.scala.html#26877" title="(name: Infer.this.global.Name)Infer.this.global.TermSymbol">newErrorValue</a>(<a href="../symtab/StdNames.scala.html#26531" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29679" title="=&gt; Infer.this.global.Name">ERROR</a>)

  /** The context-dependent inferencer part */
  <span class="keyword">class</span> <a title="class Inferencer extends java.lang.Object with ScalaObject" id="39956">Inferencer</a><span title="ScalaObject">(</span><a title="Infer.this.Context" id="48806">context</a>: <a href="Contexts.scala.html#39821" title="Infer.this.Context">Context</a>) {

    /* -- Error Messages --------------------------------------------------- */

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.tools.nsc.util.Position" id="48725">addendumPos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a> = <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="() =&gt; String" id="48728">addendum</a>: () =&gt; String = _

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,msg: () =&gt; String)Unit" id="48730">setAddendum</a>(<a title="scala.tools.nsc.util.Position" id="750462">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="() =&gt; String" id="750463">msg</a>: () =&gt; String) = {
      <a href="#48725" title="(x$1: scala.tools.nsc.util.Position)Unit">addendumPos</a> = <a href="#750462" title="scala.tools.nsc.util.Position">pos</a>
      <a href="#48728" title="(x$1: () =&gt; String)Unit">addendum</a> = <a href="#750463" title="() =&gt; String">msg</a>
    }

    <span class="keyword">def</span> <a title="[T &lt;: Infer.this.global.Tree](tree: T)T" id="48731">setError</a>[<a title="&gt;: Nothing &lt;: Infer.this.global.Tree" id="48733">T</a> &lt;: Tree](<a title="T" id="115447">tree</a>: <a href="#48733" title="T">T</a>): <a href="#48733" title="T">T</a> = {
      <span title="Any" class="keyword">if</span> (<a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29370" title="=&gt; Boolean">hasSymbol</a>)
        <span title="tree.type" class="keyword">if</span> (<a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48407" title="=&gt; Boolean">reportGeneralErrors</a>) {
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="766369">name</a> = <a href="../symtab/Names.scala.html#26048" title="(s: String)Infer.this.global.Name">newTermName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&lt;error: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a> + <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>)
          <a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(
            <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29373" title="=&gt; Boolean">isType</a>) <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26890" title="(name: Infer.this.global.Name)Infer.this.global.ClassSymbol">newErrorClass</a>(<a href="#766369" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; Infer.this.global.Name">toTypeName</a>)
            <span class="keyword">else</span> <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26877" title="(name: Infer.this.global.Name)Infer.this.global.TermSymbol">newErrorValue</a>(<a href="#766369" title="Infer.this.global.Name">name</a>))
        } <span class="keyword">else</span> {
          <a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29373" title="=&gt; Boolean">isType</a>) <a href="#39952" title="=&gt; Infer.this.global.ClassSymbol">stdErrorClass</a> <span class="keyword">else</span> <a href="#39954" title="=&gt; Infer.this.global.TermSymbol">stdErrorValue</a>)
        }
      <a href="#115447" title="T">tree</a>.<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a>(<a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a>)
    }

    <span class="keyword">def</span> <a title="(name: Infer.this.global.Name)String" id="48734">decode</a>(<a title="Infer.this.global.Name" id="279137">name</a>: <a href="../symtab/Names.scala.html#26055" title="Infer.this.global.Name">Name</a>): <span title="String">String</span> =
      <span title="(x$1: Any)java.lang.String">(</span><span title="java.lang.String" class="keyword">if</span> (<a href="#279137" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28200" title="=&gt; Boolean">isTypeName</a>) <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;value &quot;)" class="string">&quot;value &quot;</span>) + <a href="#279137" title="Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28225" title="=&gt; String">decode</a>

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree)String" id="48735">treeSymTypeMsg</a>(<a title="Infer.this.global.Tree" id="270669">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>): <span title="String">String</span> =
      <span title="String" class="keyword">if</span> (<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> eq <span title="Null(null)" class="keyword">null</span>)
        <span title="(x$1: Any)java.lang.String" class="string">&quot;expression of type &quot;</span> + <a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>))
        <span title="(x$1: Any)java.lang.String" class="string">&quot;overloaded method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span> + <a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>
      <span class="keyword">else</span>
        <a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span>
        (<span title="Any" class="keyword">if</span> (<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
         <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30197" title="(x$1: Int)Boolean">paramSectionCount</a> &gt; <span title="Int(0)" class="int">0</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot;: &quot;</span>+<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> 
         <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; of type &quot;</span>+<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>) +
        (<span title="Any" class="keyword">if</span> (<a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; Infer.this.global.Name">apply</a>) <a href="#270669" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String" id="48736">applyErrorMsg</a>(<a title="Infer.this.global.Tree" id="766437">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="String" id="766438">msg</a>: <span title="String">String</span>, <a title="List[Infer.this.global.Type]" id="766439">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="766440">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) =
      <a href="#48735" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#766437" title="Infer.this.global.Tree">tree</a>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#766438" title="String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#766439" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) +
       (<span title="Any" class="keyword">if</span> (<a href="#766440" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; with expected result type &quot;</span> + <a href="#766440" title="Infer.this.global.Type">pt</a>)

    // todo: use also for other error messages
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)java.lang.String" id="48737">existentialContext</a>(<a title="Infer.this.global.Type" id="766467">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) = <a href="#766467" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30257" title="=&gt; List[Infer.this.global.Symbol]">existentialSkolems</a> <span title="java.lang.String" class="keyword">match</span> {
      <span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> <a href="#766471" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>() =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span title="java.lang.String" class="keyword">case</span> <a title="List[Infer.this.global.Symbol]" id="766481">skolems</a> =&gt; 
        <span class="keyword">def</span> <a title="(ss: List[String])List[String]" id="766482">disambiguate</a>(<a title="List[String]" id="766483">ss</a>: <span title="List[String]">List</span>[String]) = <a href="#766483" title="List[String]">ss</a> <span title="List[String]" class="keyword">match</span> {
          <span title="List[String]" class="keyword">case</span> <a href="#766485" title="(x: List[String])Some[List[String]]">List</a>() =&gt; <a href="#766483" title="List[String]">ss</a>
          <span title="List[java.lang.String]" class="keyword">case</span> <a title="String" id="766499">s</a> :: <a title="List[String]" id="766500">ss1</a> =&gt; <a href="#766499" title="String">s</a> <a href="#766503" title="String">::</a> <span title="(x: java.lang.String)List[java.lang.String]">(</span><a href="#766500" title="(f: (String) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[String]])List[java.lang.String]">ss1</a> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a title="String" id="766512">s1</a> =&gt; <span title="java.lang.String" class="keyword">if</span> (<a href="#766512" title="(x$1: AnyRef)Boolean">s1</a> == <a href="#766499" title="String">s</a>) <span title="(x$1: Any)java.lang.String" class="string">&quot;(some other)&quot;</span>+<a href="#766512" title="String">s1</a> <span class="keyword">else</span> <a href="#766512" title="String">s1</a>))
        }
      <span title="(x$1: Any)java.lang.String" class="string">&quot; where &quot;</span>+(<a href="#766482" title="(ss: List[String])List[String]">disambiguate</a><span title="(sep: String)String">(</span><a href="#766481" title="(f: (Infer.this.global.Symbol) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[String],List[Infer.this.global.Symbol]])List[String]">skolems</a> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a href="#766614" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27099" title="=&gt; java.lang.String">existentialToString</a>)) mkString <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>)
    }

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String" id="48738">foundReqMsg</a>(<a title="Infer.this.global.Type" id="263417">found</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="263418">req</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="String">String</span> =
      <a href="#48745" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; java.lang.String)java.lang.String">withDisambiguation</a>(<a href="#263417" title="Infer.this.global.Type">found</a>, <a href="#263418" title="Infer.this.global.Type">req</a>) {
        <span title="(x$1: Any)java.lang.String" class="string">&quot;;\n found   : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263417" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30249" title="=&gt; java.lang.String">toLongString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48737" title="(tp: Infer.this.global.Type)java.lang.String">existentialContext</a>(<a href="#263417" title="Infer.this.global.Type">found</a>) <span title="(x$1: Any)java.lang.String">+</span>
         <span title="java.lang.String(&quot;\012 required: &quot;)" class="string">&quot;\n required: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#263418" title="Infer.this.global.Type">req</a> + <a href="#48737" title="(tp: Infer.this.global.Type)java.lang.String">existentialContext</a>(<a href="#263418" title="Infer.this.global.Type">req</a>)
      }

    <span class="keyword">def</span> <a title="(found: Infer.this.global.Type,req: Infer.this.global.Type)java.lang.String" id="48739">typeErrorMsg</a>(<a title="Infer.this.global.Type" id="748939">found</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="748940">req</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) = {
      //println(found.baseTypeSeq)
      <span title="(x$1: Any)java.lang.String" class="string">&quot;type mismatch&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#748939" title="Infer.this.global.Type">found</a>, <a href="#748940" title="Infer.this.global.Type">req</a>) +
      (<span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#748939" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30195" title="(x$1: AnyRef)Boolean">resultApprox</a> ne <a href="#748939" title="Infer.this.global.Type">found</a>) &amp;&amp; <a href="#48752" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#748939" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30195" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#748940" title="Infer.this.global.Type">req</a>))
        <span title="java.lang.String(&quot;\012 possible cause: missing arguments for method or constructor&quot;)" class="string">&quot;\n possible cause: missing arguments for method or constructor&quot;</span>
       <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
    }
      
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,msg: String)Unit" id="48740">error</a>(<a title="scala.tools.nsc.util.Position" id="130007">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="130008">msg</a>: <span title="String">String</span>) {
      <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48444" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#130007" title="scala.tools.nsc.util.Position">pos</a>, <a href="#130008" title="String">msg</a>)
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree" id="48741">errorTree</a>(<a title="Infer.this.global.Tree" id="116656">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="String" id="116657">msg</a>: <span title="String">String</span>): <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a> = {
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#116656" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29375" title="=&gt; Boolean">isErroneous</a>) <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#116656" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#116657" title="String">msg</a>)
      <a href="#48731" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#116656" title="Infer.this.global.Tree">tree</a>)
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,found: Infer.this.global.Type,req: Infer.this.global.Type)Unit" id="48742">typeError</a>(<a title="scala.tools.nsc.util.Position" id="99163">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="99164">found</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="99165">req</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#99164" title="Infer.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#99165" title="Infer.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>) {
        <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#99163" title="scala.tools.nsc.util.Position">pos</a>, 
              <a href="#48739" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)java.lang.String">typeErrorMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#99164" title="Infer.this.global.Type">found</a>, <a href="#99165" title="Infer.this.global.Type">req</a>)+
              (<span title="Any" class="keyword">if</span> (<a href="#99163" title="(x$1: AnyRef)Boolean">pos</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a> &amp;&amp; <a href="#99163" title="(x$1: AnyRef)Boolean">pos</a> == <a href="#48725" title="=&gt; scala.tools.nsc.util.Position">addendumPos</a>) <a href="#48728" title="()String">addendum</a>()
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>))
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37046" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#48744" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#99164" title="Infer.this.global.Type">found</a>, <a href="#99165" title="Infer.this.global.Type">req</a>)
      }
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree" id="48743">typeErrorTree</a>(<a title="Infer.this.global.Tree" id="263803">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="263804">found</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="263805">req</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a> = {
      <a href="#48742" title="(pos: scala.tools.nsc.util.Position,found: Infer.this.global.Type,req: Infer.this.global.Type)Unit">typeError</a>(<a href="#263803" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#263804" title="Infer.this.global.Type">found</a>, <a href="#263805" title="Infer.this.global.Type">req</a>)
      <a href="#48731" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#263803" title="Infer.this.global.Tree">tree</a>)
    }

    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit" id="48744">explainTypes</a>(<a title="Infer.this.global.Type" id="263762">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="263763">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) = 
      <a href="#48745" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; Unit)Unit">withDisambiguation</a>(<a href="#263762" title="Infer.this.global.Type">tp1</a>, <a href="#263763" title="Infer.this.global.Type">tp2</a>) { <a href="Analyzer.scala.html#39796" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../symtab/Types.scala.html#26469" title="(found: Infer.this.global.Type,required: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#263762" title="Infer.this.global.Type">tp1</a>, <a href="#263763" title="Infer.this.global.Type">tp2</a>) }

    /** If types `tp1' `tp2' contain different type variables with same name 
     *  differentiate the names by including owner information.  Also, if the
     *  type error is because of a conflict between two identically named
     *  classes and one is in package scala, fully qualify the name so one
     *  need not deduce why &quot;java.util.Iterator&quot; and &quot;Iterator&quot; don't match.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)(op: =&gt; T)T" id="48745">withDisambiguation</a>[<a title="&gt;: Nothing &lt;: Any" id="48747">T</a>](<a title="Infer.this.global.Type" id="263766">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="263767">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>)(<a title="=&gt; T" id="263768">op</a>: =&gt; T): <a href="#48747" title="T">T</a> = {

      <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Unit" id="766720">explainName</a>(<a title="Infer.this.global.Symbol" id="766723">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) = { 
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#766723" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>.<a title="(x$1: java.lang.String)Boolean" id="6975">endsWith</a>(<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>)) {
          <a href="#766723" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26051" title="(s: String)Infer.this.global.Name">newTypeName</a>(<a href="#766723" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="(x$1: Any)java.lang.String">toString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;(in &quot;)" class="string">&quot;(in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#766723" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) 
        }
      }

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]" id="766721">patches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)]">ListBuffer</span>[(Symbol, Symbol, Name)]
      <span class="keyword">for</span> {
        <a title="Infer.this.global.TypeRef" id="766781">t1</a> @ TypeRef(_, <a title="Infer.this.global.Symbol" id="766785">sym1</a>, _) &lt;- <a href="../symtab/Types.scala.html#30228" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">tp1</a>
        <a title="Infer.this.global.TypeRef" id="766842">t2</a> @ TypeRef(_, <a title="Infer.this.global.Symbol" id="766846">sym2</a>, _) &lt;- <a href="../symtab/Types.scala.html#30228" title="(f: (Infer.this.global.Type) =&gt; Any)Unit">tp2</a>
        <span class="keyword">if</span> <a href="#766785" title="(x$1: AnyRef)Boolean">sym1</a> != <a href="#766846" title="Infer.this.global.Symbol">sym2</a>
      } {
        <span title="Any" class="keyword">if</span> (<a href="#766781" title="Infer.this.global.TypeRef">t1</a>.<a href="../symtab/Types.scala.html#30267" title="(x$1: AnyRef)Boolean">toString</a> == <a href="#766842" title="Infer.this.global.TypeRef">t2</a>.<a href="../symtab/Types.scala.html#30267" title="()String">toString</a>) { // type variable collisions
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="766860">name</a> = <a href="#766785" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>
          <a href="#766720" title="(sym: Infer.this.global.Symbol)Unit">explainName</a>(<a href="#766785" title="Infer.this.global.Symbol">sym1</a>)
          <a href="#766720" title="(sym: Infer.this.global.Symbol)Unit">explainName</a>(<a href="#766846" title="Infer.this.global.Symbol">sym2</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#766785" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#766846" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>) <a href="#766846" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26051" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;(some other)&quot;</span>+<a href="#766846" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>)
          <a href="#766721" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name))patches.type">patches</a> += (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol,_3: Infer.this.global.Name)(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)">(</span><a href="#766785" title="Infer.this.global.Symbol">sym1</a>, <a href="#766846" title="Infer.this.global.Symbol">sym2</a>, <a href="#766860" title="Infer.this.global.Name">name</a>))
        }
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#766785" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="#766846" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>) { // symbol name collisions where one is in scala._
          <span class="keyword">val</span> <a title="Infer.this.global.Name" id="766930">name</a> = <a href="#766785" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>
          <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)Unit" id="766931">scalaQualify</a>(<a title="Infer.this.global.Symbol" id="766932">s</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) =
            <span title="Unit" class="keyword">if</span> (<a href="#766932" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26945" title="=&gt; Boolean">isScalaPackageClass</a>) <a href="#766932" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#26051" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;scala.&quot;</span> + <a href="#766932" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>)
          <span title="(xs: Infer.this.global.Symbol*)List[Infer.this.global.Symbol]">List</span><span title="(f: (Infer.this.global.Symbol) =&gt; Unit)Unit">(</span><a href="#766785" title="Infer.this.global.Symbol">sym1</a>, <a href="#766846" title="Infer.this.global.Symbol">sym2</a>) foreach <a href="#766931" title="(s: Infer.this.global.Symbol)Unit">scalaQualify</a>
          <a href="#766721" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name))patches.type">patches</a> += (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol,_3: Infer.this.global.Name)(Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)">(</span><a href="#766785" title="Infer.this.global.Symbol">sym1</a>, <a href="#766846" title="Infer.this.global.Symbol">sym2</a>, <a href="#766930" title="Infer.this.global.Name">name</a>))
        }
      }

      <span class="keyword">val</span> <a title="T" id="766722">result</a> = <a href="#263768" title="=&gt; T">op</a>

      <span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="767075">sym1</a>, <a title="Infer.this.global.Symbol" id="767076">sym2</a>, <a title="Infer.this.global.Name" id="767077">name</a>) &lt;- <a href="#766721" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol, Infer.this.global.Name)) =&gt; Unit)Unit" id="61746">patches</a>) {
        <a href="#767075" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="#767077" title="Infer.this.global.Name">name</a>
        <a href="#767076" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Infer.this.global.Name)Unit">name</a> = <a href="#767077" title="Infer.this.global.Name">name</a>
      }

      <a href="#766722" title="T">result</a>
    }

    /* -- Tests &amp; Checks---------------------------------------------------- */

    /** Check that &lt;code&gt;sym&lt;/code&gt; is defined and accessible as a member of
     *  tree &lt;code&gt;site&lt;/code&gt; with type &lt;code&gt;pre&lt;/code&gt; in current context.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,sym: Infer.this.global.Symbol,pre: Infer.this.global.Type,site: Infer.this.global.Tree)Infer.this.global.Tree" id="48748">checkAccessible</a>(<a title="Infer.this.global.Tree" id="261326">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Symbol" id="261327">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Type" id="261328">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Tree" id="261329">site</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a> =
      <span title="Infer.this.global.Tree" class="keyword">if</span> (<a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26921" title="=&gt; Boolean">isError</a>) {
        <a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">tree</a> <a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setSymbol</a> <a href="#261327" title="Infer.this.global.Symbol">sym</a> setType <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a>
      } <span class="keyword">else</span> {
        <span class="keyword">def</span> <a title="(explanation: String)Infer.this.global.Tree" id="767095">accessError</a>(<a title="String" id="767098">explanation</a>: <span title="String">String</span>): <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a> = 
          <a href="#48741" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#261326" title="Infer.this.global.Tree">tree</a>, <a href="Namers.scala.html#39843" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a>(<a href="#261327" title="Infer.this.global.Symbol">sym</a>).<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; cannot be accessed in &quot;)" class="string">&quot; cannot be accessed in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                    (<span title="Any" class="keyword">if</span> (<a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26914" title="=&gt; Boolean">isClassConstructor</a>) <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48371" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#261328" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Infer.this.global.Type">widen</a>) +
                    <a href="#767098" title="String">explanation</a>)

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="767096">topClass</a> = <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27051" title="=&gt; Infer.this.global.Symbol">toplevelClass</a>
        <span title="Any" class="keyword">if</span> (<a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48356" title="(x$1: AnyRef)Boolean">unit</a> != <span title="Null(null)" class="keyword">null</span>)
          <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48356" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45440" title="(elem: Infer.this.global.Symbol)scala.collection.mutable.HashSet[Infer.this.global.Symbol]" id="39288">depends</a> += <a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27051" title="=&gt; Infer.this.global.Symbol">toplevelClass</a> 

        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="767097">sym1</a> = <a href="../symtab/Symbols.scala.html#27026" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">sym</a> filter (<a title="Infer.this.global.Symbol" id="767166">alt</a> =&gt; <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48453" title="(sym: Infer.this.global.Symbol,pre: Infer.this.global.Type,superAccess: Boolean)Boolean">isAccessible</a>(<a href="#767166" title="Infer.this.global.Symbol">alt</a>, <a href="#261328" title="Infer.this.global.Type">pre</a>, <a href="#261329" title="Infer.this.global.Tree">site</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26720" title="Infer.this.global.Super">Super</a>]))
        <span title="Infer.this.global.Tree" class="keyword">if</span> (<a href="#767097" title="(x$1: AnyRef)Boolean">sym1</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#48806" title="Infer.this.Context">context</a>)
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#261326" title="Infer.this.global.Tree">tree</a>)
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#261328" title="Infer.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48368" title="=&gt; Infer.this.Context">outer</a>.<a href="Contexts.scala.html#48371" title="=&gt; Infer.this.Context">enclClass</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; Infer.this.global.Type">thisType</a> + (<a href="../symtab/Types.scala.html#30236" title="(that: Infer.this.global.Type)Boolean">pre</a> =:= <a href="#261327" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; Infer.this.global.Type">thisType</a>))
          }
          <a href="#767095" title="(explanation: String)Infer.this.global.Tree">accessError</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
        } <span class="keyword">else</span> {
          // Modify symbol's type so that raw types C
          // are converted to existentials C[T] forSome { type T }.
          // We can't do this on class loading because it would result
          // in infinite cycles.
          <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Unit" id="767219">cook</a>(<a title="Infer.this.global.Symbol" id="767221">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) {
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767222">tpe1</a> = <a href="../symtab/Types.scala.html#183068" title="(tp: Infer.this.global.Type)Infer.this.global.Type">rawToExistential</a>(<a href="#767221" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>)
            <span title="Unit" class="keyword">if</span> (<a href="#767222" title="(x$1: AnyRef)Boolean">tpe1</a> ne <a href="#767221" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>) {
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cooked: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#767221" title="Infer.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span>+<a href="#767221" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>)
              <a href="#767221" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: Infer.this.global.Type)sym.type">setInfo</a><span title="Unit">(</span><a href="#767222" title="Infer.this.global.Type">tpe1</a>)
            }
          }
          <span title="Unit" class="keyword">if</span> (<a href="#767097" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>) { 
            <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym1</a> hasFlag <span title="Long(1048576L)">JAVA</span>) 
              <a href="#767219" title="(sym: Infer.this.global.Symbol)Unit">cook</a>(<a href="#767097" title="Infer.this.global.Symbol">sym1</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym1</a> hasFlag <span title="Long(8589934592L)">OVERLOADED</span>)
              <span class="keyword">for</span> (<a title="Infer.this.global.Symbol" id="767274">sym2</a> &lt;- <a href="#767097" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27025" title="(f: (Infer.this.global.Symbol) =&gt; Unit)Unit">alternatives</a>)
                <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym2</a> hasFlag <span title="Long(1048576L)">JAVA</span>) 
                  <a href="#767219" title="(sym: Infer.this.global.Symbol)Unit">cook</a>(<a href="#767274" title="Infer.this.global.Symbol">sym2</a>)
          }
          //Console.println(&quot;check acc &quot; + sym1 + &quot;:&quot; + sym1.tpe + &quot; from &quot; + pre);//DEBUG
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="767220">owntype</a> = <span class="keyword">try</span>{ 
            <a href="#261328" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#767097" title="Infer.this.global.Symbol">sym1</a>)
          } <span class="keyword">catch</span> {
            <span title="Infer.this.global.ErrorType.type" class="keyword">case</span> <a title="Infer.this.global.MalformedType" id="767285">ex</a>: <a href="../symtab/Types.scala.html#26461" title="Infer.this.global.MalformedType">MalformedType</a> =&gt;
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#767285" title="Infer.this.global.MalformedType">ex</a>.<a title="()Unit" id="25932">printStackTrace</a>
              <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="767286">sym2</a> = <a href="Namers.scala.html#39843" title="(member: Infer.this.global.Symbol)Infer.this.global.Symbol">underlying</a>(<a href="#767097" title="Infer.this.global.Symbol">sym1</a>)
              <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767287">itype</a> = <a href="#261328" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#767286" title="Infer.this.global.Symbol">sym2</a>)
              <a href="#767095" title="(explanation: String)Infer.this.global.Tree">accessError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\n because its instance type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#767287" title="Infer.this.global.Type">itype</a>+
                          (<span title="Any" class="keyword">if</span> (<span title="(x$1: Any)java.lang.String" class="string">&quot;malformed type: &quot;</span><span title="(x$1: AnyRef)Boolean">+</span><a href="#767287" title="Infer.this.global.Type">itype</a>.<a href="../symtab/Types.scala.html#30267" title="()String">toString</a>==<a href="#767285" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#51366" title="=&gt; String">msg</a>) <span title="java.lang.String(&quot; is malformed&quot;)" class="string">&quot; is malformed&quot;</span> 
                           <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; contains a &quot;</span>+<a href="#767285" title="Infer.this.global.MalformedType">ex</a>.<a href="../symtab/Types.scala.html#51366" title="=&gt; String">msg</a>))
              <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a>
          }
          <span title="Unit" class="keyword">if</span> (<a href="#261328" title="Infer.this.global.Type">pre</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26237" title="Infer.this.global.SuperType">SuperType</a>])
            <a href="#767220" title="Infer.this.global.Type">owntype</a> = <a href="#767220" title="Infer.this.global.Type">owntype</a>.<a href="../symtab/Types.scala.html#30227" title="(from: Infer.this.global.Type,to: Infer.this.global.Type)Infer.this.global.Type">substSuper</a>(<a href="#261328" title="Infer.this.global.Type">pre</a>, <a href="#261329" title="Infer.this.global.Tree">site</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; Infer.this.global.Type">thisType</a>)
          <a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">tree</a> <a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setSymbol</a> <a href="#767097" title="Infer.this.global.Symbol">sym1</a> setType <a href="#767220" title="Infer.this.global.Type">owntype</a>
        }
      }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="48749">isPlausiblyCompatible</a>(<a title="Infer.this.global.Type" id="749073">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="749074">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#749073" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> PolyType(_, <a title="Infer.this.global.Type" id="767331">restpe</a>) =&gt;
        <a href="#48749" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#767331" title="Infer.this.global.Type">restpe</a>, <a href="#749074" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ImplicitMethodType" id="767336">mt</a>: <a href="../symtab/Types.scala.html#26260" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a> =&gt;
        <a href="#48749" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#767336" title="Infer.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#43900" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#749074" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="767347">tparams</a>, <a title="Infer.this.global.Type" id="767348">qtpe</a>) =&gt;
        <a href="#48749" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isPlausiblyCompatible</a>(<a href="#767348" title="Infer.this.global.Type">qtpe</a>, <a href="#749074" title="Infer.this.global.Type">pt</a>)
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="767355">params</a>, _) =&gt;
        <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="767358">formals</a> = <a href="#749073" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>
        <a href="#749074" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="767362">pre</a>, <a title="Infer.this.global.Symbol" id="767363">sym</a>, <a title="List[Infer.this.global.Type]" id="767364">args</a>) =&gt;
            <span title="(x$1: Boolean)Boolean">!</span><a href="#767363" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> || {
              <span class="keyword">val</span> <a title="Int" id="767367">l</a> = <a href="#767364" title="List[Infer.this.global.Type]">args</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>
              <a href="#767367" title="(x$1: Int)Boolean">l</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#767358" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <a href="#767363" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28455" title="(i: Int)Infer.this.global.Symbol" id="24570">FunctionClass</a>(<a href="#767367" title="Int">l</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              <span title="object List">List</span>.<a title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)Boolean" id="24391">forall2</a>(<a href="#767364" title="List[Infer.this.global.Type]">args</a>, <a href="#767358" title="List[Infer.this.global.Type]">formals</a>) (<a href="#48750" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a>) &amp;&amp;
              <a href="#48750" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPlausiblySubType</a>(<a href="#749073" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30195" title="=&gt; Infer.this.global.Type">resultApprox</a>, <a href="#767364" title="List[Infer.this.global.Type]">args</a>.<span title="=&gt; Infer.this.global.Type">last</span>)
            }
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        }
      <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
    }
        
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean" id="48750">isPlausiblySubType</a>(<a title="Infer.this.global.Type" id="767409">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="767410">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#767409" title="Infer.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="767430">sym1</a>, _) =&gt;
        <span title="(x$1: Boolean)Boolean">!</span><a href="#767430" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> || {
          <a href="#767410" title="Infer.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> {
            <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="767436">sym2</a>, _) =&gt; <span title="(x$1: Boolean)Boolean">!</span><a href="#767436" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> || (<a href="../symtab/Symbols.scala.html#27024" title="(that: Infer.this.global.Symbol)Boolean">sym1</a> isSubClass <a href="#767436" title="Infer.this.global.Symbol">sym2</a>)
            <span title="Boolean(true)" class="keyword">case</span> _ =&gt; <span title="Boolean(true)" class="keyword">true</span>
          }
        }
      <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="48751">isCompatible</a>(<a title="Infer.this.global.Type" id="749087">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="749088">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767446">tp1</a> = <a href="#39951" title="(tp: Infer.this.global.Type)Infer.this.global.Type">normalize</a>(<a href="#749087" title="Infer.this.global.Type">tp</a>)
      <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#749088" title="Infer.this.global.Type">pt</a>) || <a href="#48753" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCoercible</a>(<a href="#749087" title="Infer.this.global.Type">tp</a>, <a href="#749088" title="Infer.this.global.Type">pt</a>)
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="48752">isWeaklyCompatible</a>(<a title="Infer.this.global.Type" id="748949">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="748950">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> =
      <a href="#748950" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a> <span title="(x$1: Boolean)Boolean">||</span> // can perform unit coercion
      <a href="#48751" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#748949" title="Infer.this.global.Type">tp</a>, <a href="#748950" title="Infer.this.global.Type">pt</a>) ||
      <a href="#748949" title="Infer.this.global.Type">tp</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="(x$1: Boolean)Boolean">[</span><a href="../symtab/Types.scala.html#26257" title="Infer.this.global.MethodType">MethodType</a>] <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> // can perform implicit () instantiation
      <a href="#748949" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(0)" class="int">0</span> &amp;&amp; <a href="#48751" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#748949" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Infer.this.global.Type">resultType</a>, <a href="#748950" title="Infer.this.global.Type">pt</a>)

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean" id="48753">isCoercible</a>(<a title="Infer.this.global.Type" id="48812">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="48813">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(tps: List[Infer.this.global.Type],pts: List[Infer.this.global.Type])Boolean" id="48754">isCompatible</a>(<a title="List[Infer.this.global.Type]" id="749082">tps</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="List[Infer.this.global.Type]" id="749083">pts</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]): <span title="Boolean">Boolean</span> =
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Boolean)List[Boolean]">map2</span>(<a href="#749082" title="List[Infer.this.global.Type]">tps</a>, <a href="#749083" title="List[Infer.this.global.Type]">pts</a>)<span title="(p: (Boolean) =&gt; Boolean)Boolean">(</span>(<a title="Infer.this.global.Type" id="767512">tp</a>, <a title="Infer.this.global.Type" id="767513">pt</a>) =&gt; <a href="#48751" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#767512" title="Infer.this.global.Type">tp</a>, <a href="#767513" title="Infer.this.global.Type">pt</a>)) forall (<a title="Boolean" id="767530">x</a> =&gt; <a href="#767530" title="Boolean">x</a>)

    /* -- Type instantiation------------------------------------------------ */

    /** Replace any (possibly bounded) wildcard types in type `tp`
     *  by existentially bound variables.
     */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="48755">makeFullyDefined</a>(<a title="Infer.this.global.Type" id="282472">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="767533">tparams</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">def</span> <a title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type" id="767534">addTypeParam</a>(<a title="Infer.this.global.TypeBounds" id="767538">bounds</a>: <a href="../symtab/Types.scala.html#26240" title="Infer.this.global.TypeBounds">TypeBounds</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = {
        <span class="keyword">val</span> <a title="Infer.this.global.TypeSymbol" id="767539">tparam</a> =  
          <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26879" title="(pos: scala.tools.nsc.util.Position,name: Infer.this.global.Name)Infer.this.global.TypeSymbol">newAbstractType</a>(<a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48359" title="=&gt; Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30296" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="../symtab/Names.scala.html#26051" title="(s: String)Infer.this.global.Name">newTypeName</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;_&quot;</span>+<a href="#767533" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<a title="=&gt; Int" id="25548">size</a>))
            .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Infer.this.global.TypeSymbol">setFlag</a>(<span title="Long(34359738368L)">EXISTENTIAL</span>)
            .<a href="../symtab/Symbols.scala.html#97896" title="(tp: Infer.this.global.Type)Infer.this.global.TypeSymbol">setInfo</a>(<a href="#767538" title="Infer.this.global.TypeBounds">bounds</a>)
        <a href="#767533" title="(x: Infer.this.global.Symbol)tparams.type">tparams</a> += <a href="#767539" title="Infer.this.global.TypeSymbol">tparam</a>
        <a href="#767539" title="Infer.this.global.TypeSymbol">tparam</a>.<a href="../symtab/Symbols.scala.html#97894" title="=&gt; Infer.this.global.Type">tpe</a>
      }
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767535">tp1</a> = <a href="../symtab/Types.scala.html#30231" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)Infer.this.global.Type">tp</a> map <a href="#767595" title="Infer.this.global.Type">{</a> 
        <span title="Infer.this.global.Type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> =&gt;
          <a href="#767534" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a>(<a href="../symtab/Types.scala.html#148735" title="(lo: Infer.this.global.Type,hi: Infer.this.global.Type)Infer.this.global.TypeBounds">TypeBounds</a>(<a href="../symtab/Definitions.scala.html#28271" title="=&gt; Infer.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="../symtab/Definitions.scala.html#28261" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>))
        <span title="Infer.this.global.Type" class="keyword">case</span> BoundedWildcardType(<a title="Infer.this.global.TypeBounds" id="767619">bounds</a>) =&gt;
          <a href="#767534" title="(bounds: Infer.this.global.TypeBounds)Infer.this.global.Type">addTypeParam</a>(<a href="#767619" title="Infer.this.global.TypeBounds">bounds</a>)
        <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="767624">t</a> =&gt; <a href="#767624" title="Infer.this.global.Type">t</a>
      }
      <a href="../symtab/Types.scala.html#26304" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a>(<a href="#767533" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#767535" title="Infer.this.global.Type">tp1</a>)
    }

    /** Return inferred type arguments of polymorphic expression, given 
     *  its type parameters and result type and a prototype &lt;code&gt;pt&lt;/code&gt;.
     *  If no minimal type variables exist that make the
     *  instantiated type a subtype of &lt;code&gt;pt&lt;/code&gt;, return null.
     *
     *  @param tparams ...
     *  @param restpe  ...
     *  @param pt      ...
     *  @return        ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="48756">exprTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="767631">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="767632">restpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="767633">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="767635">tvars</a> = <a href="#767631" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#48751" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#767632" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#767631" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#767635" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#767633" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">try</span> {
          // If the restpe is an implicit method, and the expected type is fully defined
          // optimze type varianbles wrt to the implicit formals only; ignore the result type.
          // See test pos/jesper.scala 
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="767738">varianceType</a> = <a href="#767632" title="Infer.this.global.Type">restpe</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
            <span title="Infer.this.global.MethodType" class="keyword">case</span> <a title="Infer.this.global.ImplicitMethodType" id="767739">mt</a>: <a href="../symtab/Types.scala.html#26260" title="Infer.this.global.ImplicitMethodType">ImplicitMethodType</a> <span class="keyword">if</span> <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#767633" title="Infer.this.global.Type">pt</a>) =&gt;
              <a href="../symtab/Types.scala.html#43895" title="(params: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.MethodType">MethodType</a>(<a href="#767739" title="Infer.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#43898" title="=&gt; List[Infer.this.global.Symbol]">params</a>, <a href="../symtab/Definitions.scala.html#28261" title="=&gt; Infer.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>)
            <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
              <a href="#767632" title="Infer.this.global.Type">restpe</a>
          }
          //println(&quot;try to solve &quot;+tvars+&quot; &quot;+tparams)
          <a href="#39949" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#767635" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#767631" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#767631" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40022" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#767774" title="Infer.this.global.Symbol">(</a><a href="#767738" title="Infer.this.global.Type">varianceType</a>), 
                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26375" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#767632" title="Infer.this.global.Type">restpe</a>, <a href="#767633" title="Infer.this.global.Type">pt</a>)))
        } <span class="keyword">catch</span> {
          <span title="Null(null)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="767819">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Null(null)" class="keyword">null</span>
        }
      } <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    }

    /** Return inferred proto-type arguments of function, given
    *  its type and value parameters and result type, and a
    *  prototype &lt;code&gt;pt&lt;/code&gt; for the function result.
    *  Type arguments need to be either determined precisely by
    *  the prototype, or they are maximized, if they occur only covariantly
    *  in the value parameter list.
    *  If instantiation of a type parameter fails, 
    *  take WildcardType for the proto-type argument.
    *
    *  @param tparams ...
    *  @param formals ...
    *  @param restype ...
    *  @param pt      ...
    *  @return        ...
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]" id="48757">protoTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="271374">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="271375">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="271376">restpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>,
                      <a title="Infer.this.global.Type" id="271377">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      /** Map type variable to its instance, or, if `variance' is covariant/contravariant,
       *  to its upper/lower bound */
      <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar,variance: Int)Infer.this.global.Type" id="767820">instantiateToBound</a>(<a title="Infer.this.global.TypeVar" id="767822">tvar</a>: <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>, <a title="Int" id="767823">variance</a>: <span title="Int">Int</span>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <span class="keyword">try</span> {
        //Console.println(&quot;instantiate &quot;+tvar+tvar.constr+&quot; variance = &quot;+variance);//DEBUG
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> != <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a>) {
          <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#767823" title="(x$1: Int)Int">variance</a> &amp; <span title="Int(65536)">COVARIANT</span>) <span title="(x$1: Boolean)Boolean">!=</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="../symtab/Types.scala.html#263285" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26450" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
          <a href="#39937" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#767823" title="(x$1: Int)Int">variance</a> &amp; <span title="Int(131072)">CONTRAVARIANT</span>) <span title="(x$1: Boolean)Boolean">!=</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="../symtab/Types.scala.html#263285" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26441" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>)
          <a href="#39937" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp;
                   <a href="../symtab/Types.scala.html#26450" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>) &lt;:&lt; <a href="../symtab/Types.scala.html#26441" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>)) {
          <a href="../symtab/Types.scala.html#263285" title="(tp: Infer.this.global.Type)Unit">tvar</a> setInst <a href="../symtab/Types.scala.html#26450" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
          <a href="#39937" title="(tvar: Infer.this.global.TypeVar)Unit">assertNonCyclic</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>)//debug
          <a href="#765782" title="(tp: Infer.this.global.Type)Infer.this.global.Type">instantiate</a>(<a href="#767822" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
        } <span class="keyword">else</span> {
          <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>
        }
      } <span class="keyword">catch</span> {
        <span title="Infer.this.global.WildcardType.type" class="keyword">case</span> <a title="Infer.this.NoInstance" id="767939">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>
      }
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="767821">tvars</a> = <a href="#271374" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#48752" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#271376" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#271374" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#767821" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#271377" title="Infer.this.global.Type">pt</a>))
        <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Symbol],ys: List[Infer.this.global.TypeVar])(f: (Infer.this.global.Symbol, Infer.this.global.TypeVar) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">map2</span>(<a href="#271374" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#767821" title="List[Infer.this.global.TypeVar]">tvars</a>) ((<a title="Infer.this.global.Symbol" id="768051">tparam</a>, <a title="Infer.this.global.TypeVar" id="768052">tvar</a>) =&gt;
          <a href="#767820" title="(tvar: Infer.this.global.TypeVar,variance: Int)Infer.this.global.Type">instantiateToBound</a>(<a href="#768052" title="Infer.this.global.TypeVar">tvar</a>, <a href="Variances.scala.html#40018" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a>(<a href="#271375" title="List[Infer.this.global.Type]">formals</a>)(<a href="#768051" title="Infer.this.global.Symbol">tparam</a>)))
      <span class="keyword">else</span> 
        <a href="#767821" title="(f: (Infer.this.global.TypeVar) =&gt; object Infer.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[Infer.this.global.Type],List[Infer.this.global.TypeVar]])List[Infer.this.global.Type]">tvars</a> <span title="scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[object Infer.this.global.WildcardType],List#Coll]">map</span> (<a title="Infer.this.global.TypeVar" id="768073">tvar</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>)
    }

    /** Retract any Nothing arguments which appear covariantly in result type,
     *  and treat them as uninstantiated parameters instead.
     *  Map T* entries to Seq[T].
     */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]" id="48758">adjustTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="768101">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="768102">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="768103">restpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="768104">uninstantiated</a>: <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="List[Infer.this.global.Type]">List</span>[Type] =
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Symbol],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Symbol, Infer.this.global.Type) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]">map2</span>(<a href="#768101" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768102" title="List[Infer.this.global.Type]">targs</a>) {(<a title="Infer.this.global.Symbol" id="768120">tparam</a>, <a title="Infer.this.global.Type" id="768121">targ</a>) =&gt;
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#768121" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28271" title="=&gt; Infer.this.global.Symbol">NothingClass</a> &amp;&amp; (<a href="#768103" title="(x$1: AnyRef)Boolean">restpe</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> || <span title="(x$1: Int)Boolean">(</span><a href="Variances.scala.html#40022" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a>(<a href="#768103" title="Infer.this.global.Type">restpe</a>)<span title="(x$1: Int)Int">(</span><a href="#768120" title="Infer.this.global.Symbol">tparam</a>) &amp; <span title="Int(65536)">COVARIANT</span>) == <span title="Int(0)" class="int">0</span>)) {
          <a href="#768104" title="(x: Infer.this.global.Symbol)uninstantiated.type">uninstantiated</a> += <a href="#768120" title="Infer.this.global.Symbol">tparam</a>
          <a href="#768120" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>  
        } <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#768121" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; Infer.this.global.Symbol">RepeatedParamClass</a>) {
          <a href="#768121" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: Infer.this.global.Symbol)Infer.this.global.Type">baseType</a>(<a href="../symtab/Definitions.scala.html#28374" title="=&gt; Infer.this.global.Symbol">SeqClass</a>)
        } <span class="keyword">else</span> {
          <a href="#768121" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Infer.this.global.Type">widen</a>
        }
      }

    /** Return inferred type arguments, given type parameters, formal parameters,
    *  argument types, result type and expected result type.
    *  If this is not possible, throw a &lt;code&gt;NoInstance&lt;/code&gt; exception.
    *  Undetermined type arguments are represented by `definitions.NothingClass.tpe'.
    *  No check that inferred parameters conform to their bounds is made here.
    *
    *  bq: was private, but need it for unapply checking
    *
    *  @param   tparams         the type parameters of the method
    *  @param   formals         the value parameter types of the method
    *  @param   restp           the result type of the method
    *  @param   argtpes         the argument types of the application
    *  @param   pt              the expected return type of the application
    *  @param   uninstantiated  a listbuffer receiving all uninstantiated type parameters
    *                           (type parameters mapped by the constraint solver to `scala.All' 
    *                           and not covariant in &lt;code&gt;restpe&lt;/code&gt; are taken to be
    *                           uninstantiated. Maps all those type arguments to their
    *                           corresponding type parameters).
    *  @return                  ...
    *  @throws                  NoInstance
    */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]" id="48759">methTypeArgs</a>(<a title="List[Infer.this.global.Symbol]" id="768203">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="768204">formals</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="768205">restpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, 
                             <a title="List[Infer.this.global.Type]" id="768206">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="768207">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>,
                             <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="768208">uninstantiated</a>: <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="List[Infer.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="768210">tvars</a> = <a href="#768203" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
      <span title="Unit" class="keyword">if</span> (<a href="#768204" title="List[Infer.this.global.Type]">formals</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#768206" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>) {
        <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.NoInstance" class="keyword">new</span> <a href="#39944" title="Infer.this.NoInstance">NoInstance</a>(<span title="java.lang.String(&quot;parameter lists differ in length&quot;)" class="string">&quot;parameter lists differ in length&quot;</span>)
      }
      // check first whether type variables can be fully defined from
      // expected result type.
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#48752" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#768205" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#768207" title="Infer.this.global.Type">pt</a>)) <span title="Unit">{</span>
//      just wait and instantiate from the arguments.
//      that way, we can try to apply an implicit conversion afterwards. 
//      This case could happen if restpe is not fully defined, so that
//      search for an implicit from it to pt fails because of an ambiguity.
//      See #0347. Therefore, the following two lines are commented out.
//        throw new DeferredNoInstance(() =&gt;
//          &quot;result type &quot; + normalize(restpe) + &quot; is incompatible with expected type &quot; + pt)
      }
      <span class="keyword">for</span> (<a title="Infer.this.global.TypeVar" id="768334">tvar</a> &lt;- <a href="#768210" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a>)
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#768334" title="Infer.this.global.TypeVar">tvar</a>)) <a href="#768334" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663467" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a>

      // Then define remaining type variables from argument types.
      <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.Type])(f: (Infer.this.global.Type, Infer.this.global.Type) =&gt; Unit)List[Unit]">map2</span>(<a href="#768206" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#768204" title="List[Infer.this.global.Type]">formals</a>) {(<a title="Infer.this.global.Type" id="768357">argtpe</a>, <a title="Infer.this.global.Type" id="768358">formal</a>) =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#48751" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isCompatible</a>(<a href="#768357" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#30185" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>),
                          <a href="#768358" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>))) {
          <span title="Nothing" class="keyword">throw</span> <span title="Infer.this.DeferredNoInstance" class="keyword">new</span> <a href="#39945" title="Infer.this.DeferredNoInstance">DeferredNoInstance</a>(() =&gt;
            <span title="(x$1: Any)java.lang.String" class="string">&quot;argument expression's type is not compatible with formal parameter type&quot;</span> +
            <a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#768357" title="Infer.this.global.Type">argtpe</a>.<a href="../symtab/Types.scala.html#30185" title="=&gt; Infer.this.global.Type">deconst</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#768358" title="Infer.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>)))
        }
        <span title="Unit">(</span>)
      }
//      println(&quot;solve &quot;+tvars+&quot; &quot;+(tvars map (_.constr)))
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="768211">targs</a> = <a href="#39949" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#768210" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768203" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40018" title="(tps: List[Infer.this.global.Type])(tparam: Infer.this.global.Symbol)Int">varianceInTypes</a><a href="#768405" title="Infer.this.global.Symbol">(</a><a href="#768204" title="List[Infer.this.global.Type]">formals</a>), 
                              <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26375" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a><a title="(that: Int)Int" id="8089">(</a><a href="#768204" title="List[Infer.this.global.Type]">formals</a>) max <a href="../symtab/Types.scala.html#26375" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<a href="#768206" title="List[Infer.this.global.Type]">argtpes</a>))
//      val res =
      <a href="#48758" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">adjustTypeArgs</a>(<a href="#768203" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#768211" title="List[Infer.this.global.Type]">targs</a>, <a href="#768205" title="Infer.this.global.Type">restpe</a>, <a href="#768208" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
//      println(&quot;meth type args &quot;+&quot;, tparams = &quot;+tparams+&quot;, formals = &quot;+formals+&quot;, restpe = &quot;+restpe+&quot;, argtpes = &quot;+argtpes+&quot;, underlying = &quot;+(argtpes map (_.widen))+&quot;, pt = &quot;+pt+&quot;, uninstantiated = &quot;+uninstantiated.toList+&quot;, result = &quot;+res) //DEBUG
//      res
    }

    <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="48760">followApply</a>(<a title="Infer.this.global.Type" id="270274">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#270274" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
      <span title="Infer.this.global.Type" class="keyword">case</span> PolyType(<a href="#768449" title="(x: List[Infer.this.global.Symbol])Some[List[Infer.this.global.Symbol]]">List</a>(), <a title="Infer.this.global.Type" id="768459">restp</a>) =&gt; 
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="768462">restp1</a> = <a href="#48760" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#768459" title="Infer.this.global.Type">restp</a>)
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#768462" title="(x$1: AnyRef)Boolean">restp1</a> eq <a href="#768459" title="Infer.this.global.Type">restp</a>) <a href="#270274" title="Infer.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#768462" title="Infer.this.global.Type">restp1</a>
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="768467">appmeth</a> = <a href="#270274" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30218" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">nonPrivateMember</a><a href="../symtab/Symbols.scala.html#27026" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">(</a><a href="../symtab/StdNames.scala.html#26531" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; Infer.this.global.Name">apply</a>) filter (<a href="#768473" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26956" title="=&gt; Boolean">isPublic</a>)
        <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#768467" title="(x$1: AnyRef)Boolean">appmeth</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) <a href="#270274" title="Infer.this.global.Type">tp</a> 
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#258673" title="(pre: Infer.this.global.Type,alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a>(<a href="#270274" title="Infer.this.global.Type">tp</a>, <a href="#768467" title="Infer.this.global.Symbol">appmeth</a>.<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>)
    }

    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,n: Int)Boolean" id="48761">hasExactlyNumParams</a>(<a title="Infer.this.global.Type" id="270292">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Int" id="270293">n</a>: <span title="Int">Int</span>): <span title="Boolean">Boolean</span> = <a href="#270292" title="Infer.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="768504">pre</a>, <a title="List[Infer.this.global.Symbol]" id="768505">alts</a>) =&gt;
        <a href="#768505" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="768512">alt</a> =&gt; <a href="#48761" title="(tp: Infer.this.global.Type,n: Int)Boolean">hasExactlyNumParams</a>(<a href="#768504" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#768512" title="Infer.this.global.Symbol">alt</a>), <a href="#270293" title="Int">n</a>))
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="#39939" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#270292" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>, <a href="#270293" title="Int">n</a>).<span title="(x$1: Int)Boolean">length</span> == <a href="#270293" title="Int">n</a>
    }
    /**
     * Verifies whether the named application is valid. The logic is very
     * similar to the one in NamesDefaults.removeNames.
     *
     * @return a triple (argtpes1, argPos, namesOk) where
     *  - argtpes1 the argument types in named application (assignments to
     *    non-parameter names are treated as assignments, i.e. type Unit)
     *  - argPos a Function1[Int, Int] mapping arguments from their current
     *    to the corresponding position in params
     *  - namesOK is false when there's an invalid use of named arguments
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)" id="48762">checkNames</a>(<a title="List[Infer.this.global.Type]" id="768533">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="List[Infer.this.global.Symbol]" id="768534">params</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]) = {
      <span class="keyword">val</span> <a title="Array[Int]" id="768537">argPos</a> = <span title="(f: (Int) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,Array[Int],Array[Int]])Array[Int]">(</span><span title="Array[Int]" class="keyword">new</span> <a title="Array[Int]" id="887">Array</a>[Int](<a href="#768533" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>)) <a title="scala.collection.generic.BuilderFactory[Int,Array[Int],Array[_]]" id="888">map</a> (<a title="Int" id="768554">x</a> =&gt; <span title="Int(-1)">-</span><span class="int">1</span>)
      <span class="keyword">var</span> <a title="Boolean" id="768538">positionalAllowed</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Boolean" id="768539">namesOK</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Int" id="768540">index</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="768541">argtpes1</a> = <a href="#768533" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">argtpes</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#768639" title="Infer.this.global.Type">{</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="768642">name</a>, <a title="Infer.this.global.Type" id="768643">tp</a>) =&gt; // a named argument
          <span class="keyword">var</span> <a title="Infer.this.global.Type" id="768646">res</a> = <a href="#768643" title="Infer.this.global.Type">tp</a>
          <span class="keyword">val</span> <a title="Int" id="768647">pos</a> = <a href="#768534" title="List[Infer.this.global.Symbol]">params</a>.<a title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Int" id="25556">indexWhere</a>(<a title="Infer.this.global.Symbol" id="768662">p</a> =&gt; <a href="#768662" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#768642" title="Infer.this.global.Name">name</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#768662" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>))
          <span title="Unit" class="keyword">if</span> (<a href="#768647" title="(x$1: Int)Boolean">pos</a> == <span title="Int(-1)">-</span><span class="int">1</span>) {
            <span title="Unit" class="keyword">if</span> (<a href="#768538" title="Boolean">positionalAllowed</a>) { // treat assignment as positional argument
              <a href="#768537" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#768540" title="Int">index</a>) = <a href="#768540" title="Int">index</a>
              <a href="#768646" title="Infer.this.global.Type">res</a> = <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>
            } <span class="keyword">else</span>                   // unknown parameter name
              <a href="#768539" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#768537" title="Array[Int]">argPos</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#768647" title="Int">pos</a>)) { // parameter specified twice
            <a href="#768539" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span>
          } <span class="keyword">else</span> {
            <a href="#768538" title="Boolean">positionalAllowed</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#768537" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#768540" title="Int">index</a>) = <a href="#768647" title="Int">pos</a>
          }
          <a href="#768540" title="Int">index</a> += <span title="Int(1)" class="int">1</span>
          <a href="#768646" title="Infer.this.global.Type">res</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="768742">tp</a> =&gt; // a positional argument
          <a href="#768537" title="(i: Int,x: Int)Unit">argPos</a>(<a href="#768540" title="Int">index</a>) = <a href="#768540" title="Int">index</a>
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#768538" title="Boolean">positionalAllowed</a>)
            <a href="#768539" title="Boolean">namesOK</a> = <span title="Boolean(false)" class="keyword">false</span> // positional after named
          <a href="#768540" title="Int">index</a> += <span title="Int(1)" class="int">1</span>
          <a href="#768742" title="Infer.this.global.Type">tp</a>
      }
      <span title="(_1: List[Infer.this.global.Type],_2: Array[Int],_3: Boolean)(List[Infer.this.global.Type], Array[Int], Boolean)">(</span><a href="#768541" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#768537" title="Array[Int]">argPos</a>, <a href="#768539" title="Boolean">namesOK</a>)
    }

    /** Is there an instantiation of free type variables &lt;code&gt;undetparams&lt;/code&gt;
     *  such that function type &lt;code&gt;ftpe&lt;/code&gt; is applicable to
     *  &lt;code&gt;argtpes&lt;/code&gt; and its result conform to &lt;code&gt;pt&lt;/code&gt;?
     *
     *  @param undetparams ...
     *  @param ftpe        the type of the function (often a MethodType)
     *  @param argtpes     the argument types; a NamedType(name, tp) for named
     *    arguments. For each NamedType, if `name' does not exist in `ftpe', that
     *    type is set to `Unit', i.e. the corresponding argument is treated as
     *    an assignment expression (@see checkNames).
     *  @param pt          ...
     *  @return            ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean" id="48763">isApplicable</a>(<a title="List[Infer.this.global.Symbol]" id="768877">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="768878">ftpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>,
                             <a title="List[Infer.this.global.Type]" id="768879">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="768880">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> =
      <a href="#768878" title="Infer.this.global.Type">ftpe</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="768884">pre</a>, <a title="List[Infer.this.global.Symbol]" id="768885">alts</a>) =&gt;
          <a href="#768885" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="768892">alt</a> =&gt; <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#768884" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#768892" title="Infer.this.global.Symbol">alt</a>), <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>))
        <span title="Boolean" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="768902">tparams</a>, <a title="Infer.this.global.Type" id="768903">qtpe</a>) =&gt;
          <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#768903" title="Infer.this.global.Type">qtpe</a>, <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>)
        <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="768910">params</a>, _) =&gt;
          // repeat varargs as needed, remove ByName
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="768913">formals</a> = <a href="#39939" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#768910" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#768927" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="=&gt; Int">length</span>)

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="768914">tryTupleApply</a>: <span title="Boolean">Boolean</span> = {
            // if 1 formal, 1 argtpe (a tuple), otherwise unmodified argtpes0
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="768940">tupleArgTpe</a> = <a href="#39941" title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]">actualTypes</a>(<a href="#768879" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">argtpes0</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#768949" title="Infer.this.global.Type">{</a>
                // no assignment is treated as named argument here
              <span title="Infer.this.global.Type" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="768952">name</a>, <a title="Infer.this.global.Type" id="768953">tp</a>) =&gt; <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>
              <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.Type" id="768956">tp</a> =&gt; <a href="#768956" title="Infer.this.global.Type">tp</a>
              }, <a href="#768913" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>)

            <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#768940" title="List[Infer.this.global.Type]">tupleArgTpe</a>.<span title="=&gt; Int">length</span> &amp;&amp;
              <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#768878" title="Infer.this.global.Type">ftpe</a>, <a href="#768940" title="List[Infer.this.global.Type]">tupleArgTpe</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>)
          }
          <span class="keyword">def</span> <a title="(argtpes: List[Infer.this.global.Type])Boolean" id="768915">typesCompatible</a>(<a title="List[Infer.this.global.Type]" id="768994">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]) = {
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="768995">restpe</a> = <a href="#768878" title="Infer.this.global.Type">ftpe</a>.<a href="../symtab/Types.scala.html#30194" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a>(<a href="#768994" title="List[Infer.this.global.Type]">argtpes</a>)
            <span title="Boolean" class="keyword">if</span> (<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>) {
              (<a href="#48754" title="(tps: List[Infer.this.global.Type],pts: List[Infer.this.global.Type])Boolean">isCompatible</a><span title="(x$1: Boolean)Boolean">(</span><a href="#768994" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#768913" title="List[Infer.this.global.Type]">formals</a>) &amp;&amp;
               <a href="#48752" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#768995" title="Infer.this.global.Type">restpe</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>))
            } <span class="keyword">else</span> {
              <span class="keyword">try</span> {
                <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="769013">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
                <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="769014">targs</a> = <a href="#48759" title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">methTypeArgs</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#768913" title="List[Infer.this.global.Type]">formals</a>, <a href="#768995" title="Infer.this.global.Type">restpe</a>, <a href="#768994" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>, <a href="#769013" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
                <span title="(x$1: Boolean)Boolean">(</span><a href="#48756" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#769013" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>, <a href="#768995" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#769014" title="List[Infer.this.global.Type]">targs</a>), <a href="#768880" title="Infer.this.global.Type">pt</a>) ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp;
                <a href="../symtab/Types.scala.html#26427" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="../symtab/Types.scala.html#26226" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#769014" title="List[Infer.this.global.Type]">targs</a>)
              } <span class="keyword">catch</span> {
                <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.NoInstance" id="769035">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              }
            }
          }

          // very similar logic to doTypedApply in typechecker
          <span title="Boolean" class="keyword">if</span> (<a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <a href="#768913" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>) <a href="#768914" title="=&gt; Boolean">tryTupleApply</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#768913" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>) {
            <span title="Boolean" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>.<span title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">exists</span>(<a href="#769053" title="Infer.this.global.Type">_</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26280" title="Infer.this.global.NamedType">NamedType</a>])) {
              // fast track if no named arguments are used
              <a href="#768915" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a>(<a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>)
            } <span class="keyword">else</span> {
              // named arguments are used
              <span class="keyword">val</span> <a href="#769059" title="(List[Infer.this.global.Type], Array[Int], Boolean)">(</a><a href="#769058" title="List[Infer.this.global.Type]" id="769059">argtpes1</a>, <a href="#769058" title="Array[Int]" id="769060">argPos</a>, <a href="#769058" title="Boolean" id="769061">namesOK</a>) = <a href="#48762" title="(argtpes: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol])(List[Infer.this.global.Type], Array[Int], Boolean)">checkNames</a><span title="(List[Infer.this.global.Type], Array[Int], Boolean) @unchecked">(</span><a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#768910" title="List[Infer.this.global.Symbol]">params</a>)
              <span title="Boolean" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#769061" title="Boolean">namesOK</a>) <span title="Boolean(false)" class="keyword">false</span>
              // when using named application, the vararg param has to be specified exactly once
              <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="NamesDefaults.scala.html#40086" title="(a: Array[Int])Boolean">isIdentity</a>(<a href="#769060" title="Array[Int]">argPos</a>) &amp;&amp; (<a href="#768913" title="List[Infer.this.global.Type]">formals</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#768910" title="List[Infer.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span>)) <span title="Boolean(false)" class="keyword">false</span>
              <span class="keyword">else</span> {
                // nb. arguments and names are OK, check if types are compatible
                <a href="#768915" title="(argtpes: List[Infer.this.global.Type])Boolean">typesCompatible</a>(<a href="NamesDefaults.scala.html#40080" title="(args: List[Infer.this.global.Type],pos: (Int) =&gt; Int)(implicit evidence$1: ClassManifest[Infer.this.global.Type])List[Infer.this.global.Type]">reorderArgs</a><a href="Analyzer.scala.html#39796" title="(prefix: scala.reflect.OptManifest[_],clazz: Class[_],args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[Infer.this.global.Type]" id="58820">(</a><a href="#769059" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#769060" title="Array[Int]">argPos</a>))
              }
            }
          } <span class="keyword">else</span> {
            // not enough arguments, check if applicable using defaults
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="769120">missing</a> = <a href="NamesDefaults.scala.html#40088" title="[T](args: List[T],params: List[Infer.this.global.Symbol],argName: (T) =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">missingParams</a><span title="(args: List[Infer.this.global.Type],params: List[Infer.this.global.Symbol],argName: (Infer.this.global.Type) =&gt; Option[Infer.this.global.Name])(List[Infer.this.global.Symbol], Boolean)">[</span><a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>](<a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#768910" title="List[Infer.this.global.Symbol]">params</a>, <a href="#769128" title="Option[Infer.this.global.Name]">{</a>
              <span title="Some[Infer.this.global.Name]" class="keyword">case</span> NamedType(<a title="Infer.this.global.Name" id="769131">name</a>, _) =&gt; <a title="(x: Infer.this.global.Name)Some[Infer.this.global.Name]" id="258">Some</a>(<a href="#769131" title="Infer.this.global.Name">name</a>)
              <span title="None.type" class="keyword">case</span> _ =&gt; <a title="object None" id="465">None</a>
            }).<span title="=&gt; List[Infer.this.global.Symbol]">_1</span>
            <span title="Boolean" class="keyword">if</span> (<a href="#769120" title="List[Infer.this.global.Symbol]">missing</a>.<span title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(<span title="=&gt; Boolean">!</span><a href="#769146" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(33554432L)">DEFAULTPARAM</span>))) <a href="#768914" title="=&gt; Boolean">tryTupleApply</a>
            <span class="keyword">else</span> {
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="769151">argtpes1</a> = <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a> <a href="#769152" title="List[Infer.this.global.Type]">:::</a> <a href="#769120" title="List[Infer.this.global.Symbol]">missing</a>.<span title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.NamedType)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.NamedType,List[Infer.this.global.NamedType],List[Infer.this.global.Symbol]])List[Infer.this.global.NamedType]">map</span> <span title="(prefix: List[Infer.this.global.Type])List[Infer.this.global.Type]">{</span>
                <a title="Infer.this.global.Symbol" id="769161">p</a> =&gt; <a href="../symtab/Types.scala.html#270136" title="(name: Infer.this.global.Name,tp: Infer.this.global.Type)Infer.this.global.NamedType">NamedType</a>(<a href="#769161" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>, <a href="#769161" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>) // add defaults as named arguments
              }
              <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#768877" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#768878" title="Infer.this.global.Type">ftpe</a>, <a href="#769151" title="List[Infer.this.global.Type]">argtpes1</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>)
            }
          }

        <span title="Boolean" class="keyword">case</span> PolyType(<a title="List[Infer.this.global.Symbol]" id="769273">tparams</a>, <a title="Infer.this.global.Type" id="769274">restpe</a>) =&gt;
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="769277">tparams1</a> = <a href="../symtab/Symbols.scala.html#26136" title="(syms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">cloneSymbols</a>(<a href="#769273" title="List[Infer.this.global.Symbol]">tparams</a>)
          <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#769277" title="List[Infer.this.global.Symbol]">tparams1</a> <a href="#769286" title="List[Infer.this.global.Symbol]">:::</a> <a href="#768877" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">undetparams</a>, <a href="#769274" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30225" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a>(<a href="#769273" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#769277" title="List[Infer.this.global.Symbol]">tparams1</a>), <a href="#768879" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#768880" title="Infer.this.global.Type">pt</a>)
        <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      }

    <span class="keyword">private</span>[typechecker] <span class="keyword">def</span> <a title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean" id="48764">isApplicableSafe</a>(<a title="List[Infer.this.global.Symbol]" id="270265">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="270266">ftpe</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>,
                                              <a title="List[Infer.this.global.Type]" id="270267">argtpes0</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="270268">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Boolean" id="769300">reportAmbiguousErrors</a> = <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48404" title="=&gt; Boolean">reportAmbiguousErrors</a>
      <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48405" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> {
        <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#270265" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#270266" title="Infer.this.global.Type">ftpe</a>, <a href="#270267" title="List[Infer.this.global.Type]">argtpes0</a>, <a href="#270268" title="Infer.this.global.Type">pt</a>)
      } <span class="keyword">catch</span> {
        <span title="Boolean(false)" class="keyword">case</span> <a title="Infer.this.global.TypeError" id="769305">ex</a>: <a href="../symtab/Types.scala.html#26459" title="Infer.this.global.TypeError">TypeError</a> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      } <span class="keyword">finally</span> {
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48405" title="(x$1: Boolean)Unit">reportAmbiguousErrors</a> = <a href="#769300" title="Boolean">reportAmbiguousErrors</a>
      }
    }

    /** Is type &lt;code&gt;ftpe1&lt;/code&gt; strictly more specific than type &lt;code&gt;ftpe2&lt;/code&gt;
     *  when both are alternatives in an overloaded function?
     *  @see SLS (sec:overloading-resolution)
     *
     *  @param ftpe1 ...
     *  @param ftpe2 ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean" id="48765">isAsSpecific</a>(<a title="Infer.this.global.Type" id="769308">ftpe1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="769309">ftpe2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#769308" title="Infer.this.global.Type">ftpe1</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="769313">pre</a>, <a title="List[Infer.this.global.Symbol]" id="769314">alts</a>) =&gt;
        <a href="#769314" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="769321">alt</a> =&gt; <a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#769313" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#769321" title="Infer.this.global.Symbol">alt</a>), <a href="#769309" title="Infer.this.global.Type">ftpe2</a>))
      <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ExistentialType" id="769329">et</a>: <a href="../symtab/Types.scala.html#26265" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
        <a href="#769329" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#43422" title="(op: (Infer.this.global.Type) =&gt; Boolean)Boolean">withTypeVars</a>(<a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#769337" title="Infer.this.global.Type">_</a>, <a href="#769309" title="Infer.this.global.Type">ftpe2</a>)) // !!! why isStrictly?
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="collection.immutable.::[Infer.this.global.Symbol]" id="769344">params</a> @ (<a title="Infer.this.global.Symbol" id="769349">x</a> :: <a title="List[Infer.this.global.Symbol]" id="769350">xs</a>), _) =&gt;
        <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(List<span title="object Nil">(</span>), <a href="#769309" title="Infer.this.global.Type">ftpe2</a>, <a href="#769344" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#769372" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>)
      <span title="Boolean" class="keyword">case</span> PolyType(_, MethodType(<a title="collection.immutable.::[Infer.this.global.Symbol]" id="769403">params</a> @ (<a title="Infer.this.global.Symbol" id="769408">x</a> :: <a title="List[Infer.this.global.Symbol]" id="769409">xs</a>), _)) =&gt;
        <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(List<span title="object Nil">(</span>), <a href="#769309" title="Infer.this.global.Type">ftpe2</a>, <a href="#769403" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#769433" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>)
      <span title="Boolean(true)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="#769309" title="Infer.this.global.Type">ftpe2</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="769448">pre</a>, <a title="List[Infer.this.global.Symbol]" id="769449">alts</a>) =&gt;
            <a href="#769449" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> forall (<a title="Infer.this.global.Symbol" id="769456">alt</a> =&gt; <a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#769308" title="Infer.this.global.Type">ftpe1</a>, <a href="#769448" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#769456" title="Infer.this.global.Symbol">alt</a>)))
          <span title="Boolean" class="keyword">case</span> <a title="Infer.this.global.ExistentialType" id="769464">et</a>: <a href="../symtab/Types.scala.html#26265" title="Infer.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#769464" title="Infer.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#43422" title="(op: (Infer.this.global.Type) =&gt; Boolean)Boolean">withTypeVars</a>(<a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#769308" title="Infer.this.global.Type">ftpe1</a>, <a href="#769472" title="Infer.this.global.Type">_</a>))
          <span title="Boolean(true)" class="keyword">case</span> MethodType(_, _) | PolyType(_, MethodType(_, _)) =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean" class="keyword">case</span> _ =&gt;
            <a href="#48770" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#769308" title="Infer.this.global.Type">ftpe1</a>, <a href="#769309" title="Infer.this.global.Type">ftpe2</a>, List<span title="object Nil">(</span>), List<span title="object Nil">(</span>))
        }
    }
/*
    def isStrictlyMoreSpecific(ftpe1: Type, ftpe2: Type): Boolean =
      ftpe1.isError || isAsSpecific(ftpe1, ftpe2) &amp;&amp; 
      (!isAsSpecific(ftpe2, ftpe1) || 
       !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
       phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
*/
    /** Is sym1 (or its companion class in case it is a module) a subclass of
     *  sym2 (or its companion class in case it is a module)?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="48766">isProperSubClassOrObject</a>(<a title="Infer.this.global.Symbol" id="769514">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769515">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      <a href="#769514" title="(x$1: AnyRef)Boolean">sym1</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#769515" title="Infer.this.global.Symbol">sym2</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#769514" title="(x$1: AnyRef)Boolean">sym1</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> (<a href="../symtab/Symbols.scala.html#27024" title="(that: Infer.this.global.Symbol)Boolean">sym1</a> isSubClass <a href="#769515" title="Infer.this.global.Symbol">sym2</a>) <span title="(x$1: Boolean)Boolean">||</span>
      <a href="#769514" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26934" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#48766" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#769514" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>, <a href="#769515" title="Infer.this.global.Symbol">sym2</a>) ||
      <a href="#769515" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26934" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#48766" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#769514" title="Infer.this.global.Symbol">sym1</a>, <a href="#769515" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Infer.this.global.Symbol">linkedClassOfClass</a>)

    /** is symbol `sym1` defined in a proper subclass of symbol `sym2`?
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="48767">isInProperSubClassOrObject</a>(<a title="Infer.this.global.Symbol" id="769548">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769549">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) = 
      <a href="#769549" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a> || <a href="#48766" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isProperSubClassOrObject</a>(<a href="#769548" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#769549" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>)

    <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="48768">isStrictlyMoreSpecific</a>(<a title="Infer.this.global.Type" id="748192">ftpe1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="748193">ftpe2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="748194">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="748195">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      // ftpe1 / ftpe2 are OverloadedTypes (possibly with one single alternative) if they
      // denote the type of an &quot;apply&quot; member method (see &quot;followApply&quot;)
      <a href="#748192" title="Infer.this.global.Type">ftpe1</a>.<a href="../symtab/Types.scala.html#30208" title="(x$1: Boolean)Boolean">isError</a> || {
        <span class="keyword">val</span> <a title="Int" id="769562">specificCount</a> = <span title="(x$1: Int)Int">(</span><span title="Int" class="keyword">if</span> (<a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a>(<a href="#748192" title="Infer.this.global.Type">ftpe1</a>, <a href="#748193" title="Infer.this.global.Type">ftpe2</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>) - 
                            (<span title="Int" class="keyword">if</span> (<a href="#48765" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">isAsSpecific</a><span title="(x$1: Boolean)Boolean">(</span><a href="#748193" title="Infer.this.global.Type">ftpe2</a>, <a href="#748192" title="Infer.this.global.Type">ftpe1</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
                                 // todo: move to isAsSepecific test
                                 (<span title="(x$1: Boolean)Boolean">!</span><a href="#748193" title="Infer.this.global.Type">ftpe2</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26268" title="Infer.this.global.OverloadedType">OverloadedType</a>] || <a href="#748192" title="Infer.this.global.Type">ftpe1</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26268" title="Infer.this.global.OverloadedType">OverloadedType</a>]) &amp;&amp;
                                 (<span title="(x$1: Boolean)Boolean">!</span><a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23163" title="=&gt; Boolean">erasedTypes</a> || <a href="#48769" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean">covariantReturnOverride</a>(<a href="#748192" title="Infer.this.global.Type">ftpe1</a>, <a href="#748193" title="Infer.this.global.Type">ftpe2</a>))) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>)
        <span class="keyword">val</span> <a title="Int" id="769563">subClassCount</a> = <span title="(x$1: Int)Int">(</span><span title="Int" class="keyword">if</span> (<a href="#48767" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a>(<a href="#748194" title="Infer.this.global.Symbol">sym1</a>, <a href="#748195" title="Infer.this.global.Symbol">sym2</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>) -
                            (<span title="Int" class="keyword">if</span> (<a href="#48767" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isInProperSubClassOrObject</a>(<a href="#748195" title="Infer.this.global.Symbol">sym2</a>, <a href="#748194" title="Infer.this.global.Symbol">sym1</a>)) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>)
        <a href="#769562" title="(x$1: Int)Int">specificCount</a> <span title="(x$1: Int)Boolean">+</span> <a href="#769563" title="Int">subClassCount</a> &gt; <span title="Int(0)" class="int">0</span>
      }
/*
      ftpe1.isError || {
        if (isAsSpecific(ftpe1, ftpe2)) 
          (!isAsSpecific(ftpe2, ftpe1) || 
           isProperSubClassOrObject(sym1.owner, sym2.owner) ||
           !ftpe1.isInstanceOf[OverloadedType] &amp;&amp; ftpe2.isInstanceOf[OverloadedType] ||
           phase.erasedTypes &amp;&amp; covariantReturnOverride(ftpe1, ftpe2))
        else
          !isAsSpecific(ftpe2, ftpe1) &amp;&amp; 
          isProperSubClassOrObject(sym1.owner, sym2.owner)
      }
*/
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type)Boolean" id="48769">covariantReturnOverride</a>(<a title="Infer.this.global.Type" id="769576">ftpe1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="769577">ftpe2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#769576" title="Infer.this.global.Type">ftpe1</a>, <a href="#769577" title="Infer.this.global.Type">ftpe2</a>) <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> (MethodType(_, <a title="Infer.this.global.Type" id="769623">rtpe1</a>), MethodType(_, <a title="Infer.this.global.Type" id="769628">rtpe2</a>)) =&gt;
        <a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">rtpe1</a> <span title="(x$1: Boolean)Boolean">&lt;:&lt;</span> <a href="#769628" title="Infer.this.global.Type">rtpe2</a> || <a href="#769628" title="Infer.this.global.Type">rtpe2</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28267" title="=&gt; Infer.this.global.Symbol">ObjectClass</a>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean" id="48770">isAsSpecificValueType</a>(<a title="Infer.this.global.Type" id="769489">tpe1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="769490">tpe2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="769491">undef1</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Symbol]" id="769492">undef2</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]): <span title="Boolean">Boolean</span> = <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#769489" title="Infer.this.global.Type">tpe1</a>, <a href="#769490" title="Infer.this.global.Type">tpe2</a>) <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> (PolyType(<a title="List[Infer.this.global.Symbol]" id="769657">tparams1</a>, <a title="Infer.this.global.Type" id="769658">rtpe1</a>), _) =&gt;
        <a href="#48770" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#769658" title="Infer.this.global.Type">rtpe1</a>, <a href="#769490" title="Infer.this.global.Type">tpe2</a>, <a href="#769491" title="List[Infer.this.global.Symbol]">undef1</a> <a href="#769663" title="List[Infer.this.global.Symbol]">:::</a> <a href="#769657" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">tparams1</a>, <a href="#769492" title="List[Infer.this.global.Symbol]">undef2</a>)
      <span title="Boolean" class="keyword">case</span> (_, PolyType(<a title="List[Infer.this.global.Symbol]" id="769677">tparams2</a>, <a title="Infer.this.global.Type" id="769678">rtpe2</a>)) =&gt;
        <a href="#48770" title="(tpe1: Infer.this.global.Type,tpe2: Infer.this.global.Type,undef1: List[Infer.this.global.Symbol],undef2: List[Infer.this.global.Symbol])Boolean">isAsSpecificValueType</a>(<a href="#769489" title="Infer.this.global.Type">tpe1</a>, <a href="#769678" title="Infer.this.global.Type">rtpe2</a>, <a href="#769491" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#769492" title="List[Infer.this.global.Symbol]">undef2</a> <a href="#769683" title="List[Infer.this.global.Symbol]">:::</a> <a href="#769677" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">tparams2</a>)
      <span title="Boolean" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#26304" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#769491" title="List[Infer.this.global.Symbol]">undef1</a>, <a href="#769489" title="Infer.this.global.Type">tpe1</a>) &lt;:&lt; <a href="../symtab/Types.scala.html#26304" title="(tparams: List[Infer.this.global.Symbol],tpe0: Infer.this.global.Type)Infer.this.global.Type">existentialAbstraction</a>(<a href="#769492" title="List[Infer.this.global.Symbol]">undef2</a>, <a href="#769490" title="Infer.this.global.Type">tpe2</a>)
    }

/*
    /** Is type `tpe1' a strictly better expression alternative than type `tpe2'?
     */
    def isStrictlyBetterExpr(tpe1: Type, tpe2: Type) = {
      isMethod(tpe2) &amp;&amp; !isMethod(tpe1) ||
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      isStrictlyBetter(tpe1, tpe2)
    }

    /** Is type `tpe1' a strictly better alternative than type `tpe2'?
     *  non-methods are always strictly better than methods
     *  nullary methods are always strictly better than non-nullary
     *  if both are non-nullary methods, then tpe1 is strictly better than tpe2 if
     *   - tpe1 specializes tpe2 and tpe2 does not specialize tpe1
     *   - tpe1 and tpe2 specialize each other and tpe1 has a strictly better resulttype than
     *     tpe2
     */
    def isStrictlyBetter(tpe1: Type, tpe2: Type) = {
      def isNullary(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isNullary(tp.underlying)
        case _ =&gt; tpe.paramSectionCount == 0 || tpe.paramTypes.isEmpty
      }
      def isMethod(tpe: Type): Boolean = tpe match {
        case tp: RewrappingTypeProxy =&gt; isMethod(tp.underlying)
        case MethodType(_, _) | PolyType(_, _) =&gt; true
        case _ =&gt; false
      }
      def hasStrictlyBetterResult = 
        resultIsBetter(tpe1, tpe2, List(), List()) &amp;&amp; !resultIsBetter(tpe2, tpe1, List(), List())
      if (!isMethod(tpe1))
        isMethod(tpe2) || hasStrictlyBetterResult
      
      isNullary(tpe1) &amp;&amp; !isNullary(tpe2) ||
      is
      
      else if (isNullary(tpe1))
        isMethod(tpe2) &amp;&amp; (!isNullary(tpe2) || hasStrictlyBetterResult)
      else 
        specializes(tpe1, tpe2) &amp;&amp; (!specializes(tpe2, tpe1) || hasStrictlyBetterResult)
    }

*/
    /** error if arguments not within bounds. */
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],prefix: String)Unit" id="48771">checkBounds</a>(<a title="scala.tools.nsc.util.Position" id="276731">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="276732">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="276733">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, 
                    <a title="List[Infer.this.global.Symbol]" id="276734">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="276735">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="String" id="276736">prefix</a>: <span title="String">String</span>) = {
      //@M validate variances &amp; bounds of targs wrt variances &amp; bounds of tparams
      //@M TODO: better place to check this? 
      //@M TODO: errors for getters &amp; setters are reported separately
      <span class="keyword">val</span> <a title="List[String]" id="276739">kindErrors</a> = <a href="#48773" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pre: Infer.this.global.Type,owner: Infer.this.global.Symbol)List[String]">checkKindBounds</a>(<a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#276735" title="List[Infer.this.global.Type]">targs</a>, <a href="#276732" title="Infer.this.global.Type">pre</a>, <a href="#276733" title="Infer.this.global.Symbol">owner</a>)
           
      <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#276739" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span>) {
        <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#276731" title="scala.tools.nsc.util.Position">pos</a>, 
          <a href="#276736" title="(x$1: Any)java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;kinds of the type arguments &quot;)" class="string">&quot;kinds of the type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#276735" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
          <span title="java.lang.String(&quot; do not conform to the expected kinds of the type parameters &quot;)" class="string">&quot; do not conform to the expected kinds of the type parameters &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> +
          <a href="#276739" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)) 
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#26427" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="#276732" title="Infer.this.global.Type">pre</a>, <a href="#276733" title="Infer.this.global.Symbol">owner</a>, <a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#276735" title="List[Infer.this.global.Type]">targs</a>)) { 
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="#276735" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">targs</a> exists (<a href="#276802" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>)) &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="#276734" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">tparams</a> exists (<a href="#276809" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26922" title="=&gt; Boolean">isErroneous</a>))) {
          //val bounds = instantiatedBounds(pre, owner, tparams, targs)//DEBUG
          //println(&quot;bounds = &quot;+bounds+&quot;, targs = &quot;+targs+&quot;, targclasses = &quot;+(targs map (_.getClass))+&quot;, parents = &quot;+(targs map (_.parents)))
          //println(List.map2(bounds, targs)((bound, targ) =&gt; bound containsType targ))
          <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#276731" title="scala.tools.nsc.util.Position">pos</a>, 
                <a href="#276736" title="(x$1: Any)java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;type arguments &quot;)" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#276735" title="List[Infer.this.global.Type]">targs</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; do not conform to &quot;)" class="string">&quot; do not conform to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;'s type parameter bounds &quot;)" class="string">&quot;'s type parameter bounds &quot;</span> + 
                (<a href="#276734" title="(f: (Infer.this.global.Symbol) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[Infer.this.global.Symbol]])List[String]">tparams</a> <span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">map</span> (<a href="#276840" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27096" title="=&gt; String">defString</a>)).<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>))
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37046" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
            <span class="keyword">val</span> <a title="List[Infer.this.global.TypeBounds]" id="276933">bounds</a> = <a href="#276734" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeBounds)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeBounds]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeBounds,List[Infer.this.global.TypeBounds],List#Coll]">map</span> (<a title="Infer.this.global.Symbol" id="276942">tp</a> =&gt; <a href="#276942" title="Infer.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#276734" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#276735" title="List[Infer.this.global.Type]">targs</a>).<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>)
            <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.TypeBounds])(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#276735" title="List[Infer.this.global.Type]">targs</a>, <a href="#276933" title="List[Infer.this.global.TypeBounds]">bounds</a>)((<a title="Infer.this.global.Type" id="277046">targ</a>, <a title="Infer.this.global.TypeBounds" id="277047">bound</a>) =&gt; <a href="#48744" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#277047" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; Infer.this.global.Type">lo</a>, <a href="#277046" title="Infer.this.global.Type">targ</a>))
            <span title="object List">List</span>.<span title="(xs: List[Infer.this.global.Type],ys: List[Infer.this.global.TypeBounds])(f: (Infer.this.global.Type, Infer.this.global.TypeBounds) =&gt; Unit)List[Unit]">map2</span>(<a href="#276735" title="List[Infer.this.global.Type]">targs</a>, <a href="#276933" title="List[Infer.this.global.TypeBounds]">bounds</a>)((<a title="Infer.this.global.Type" id="277068">targ</a>, <a title="Infer.this.global.TypeBounds" id="277069">bound</a>) =&gt; <a href="#48744" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#277068" title="Infer.this.global.Type">targ</a>, <a href="#277069" title="Infer.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Infer.this.global.Type">hi</a>))
            <span title="Unit">(</span>)
          }
        }
      }
    }
    
    /** Check whether &lt;arg&gt;sym1&lt;/arg&gt;'s variance conforms to &lt;arg&gt;sym2&lt;/arg&gt;'s variance
     *
     * If &lt;arg&gt;sym2&lt;/arg&gt; is invariant, &lt;arg&gt;sym1&lt;/arg&gt;'s variance is irrelevant. Otherwise they must be equal.
     */
    <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="48772">variancesMatch</a>(<a title="Infer.this.global.Symbol" id="769704">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769705">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = (<a href="#769705" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26982" title="(x$1: Int)Boolean">variance</a><span title="(x$1: Boolean)Boolean">==</span><span title="Int(0)" class="int">0</span> || <a href="#769704" title="Infer.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26982" title="(x$1: Int)Boolean">variance</a>==<a href="#769705" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26982" title="=&gt; Int">variance</a>)
      
    /** Check well-kindedness of type application (assumes arities are already checked) -- @M
     * 
     * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
     * (checked one type member at a time -- in that case, prefix is the name of the type alias)
     *
     * Type application is just like value application: it's &quot;contravariant&quot; in the sense that 
     * the type parameters of the supplied type arguments must conform to the type parameters of 
     * the required type parameters:
     *   - their bounds must be less strict
     *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)     
     *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
     *
     *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since 
     *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
     */
    <span class="keyword">def</span> <a title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pre: Infer.this.global.Type,owner: Infer.this.global.Symbol)List[String]" id="48773">checkKindBounds</a>(<a title="List[Infer.this.global.Symbol]" id="276740">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="List[Infer.this.global.Type]" id="276741">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="276742">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="276743">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="List[String]">List</span>[String] = {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type" id="769723">transform</a>(<a title="Infer.this.global.Type" id="769728">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Symbol" id="769729">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#769728" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30221" title="(pre: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">asSeenFrom</a>(<a href="#276742" title="Infer.this.global.Type">pre</a>, <a href="#769729" title="Infer.this.global.Symbol">clazz</a>) // instantiate type params that come from outside the abstract type we're currently checking

      // check that the type parameters &lt;arg&gt;hkargs&lt;/arg&gt; to a higher-kinded type conform to the expected params &lt;arg&gt;hkparams&lt;/arg&gt;
      <span class="keyword">def</span> <a title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" id="769724">checkKindBoundsHK</a>(<a title="List[Infer.this.global.Symbol]" id="769734">hkargs</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Symbol" id="769735">arg</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769736">param</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769737">paramowner</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</span>List[(Symbol, Symbol)], List[(Symbol, Symbol)], List[(Symbol, Symbol)]) = {
// NOTE: sometimes hkargs != arg.typeParams, the symbol and the type may have very different type parameters
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="769738">hkparams</a> = <a href="#769736" title="Infer.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>

        <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" class="keyword">if</span>(<a href="#769734" title="List[Infer.this.global.Symbol]">hkargs</a>.<span title="(x$1: Int)Boolean">length</span> != <a href="#769738" title="List[Infer.this.global.Symbol]">hkparams</a>.<span title="=&gt; Int">length</span>) {
          <span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])" class="keyword">if</span>(<a href="#769735" title="(x$1: AnyRef)Boolean">arg</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28261" title="=&gt; Infer.this.global.Symbol">AnyClass</a> || <a href="#769735" title="(x$1: AnyRef)Boolean">arg</a> == <a href="../symtab/Definitions.scala.html#28271" title="=&gt; Infer.this.global.Symbol">NothingClass</a>) <span title="(_1: object Nil,_2: object Nil,_3: object Nil)(object Nil, object Nil, object Nil)">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>) // Any and Nothing are kind-overloaded
          <span class="keyword">else</span> <span title="(_1: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_2: object Nil,_3: object Nil)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], object Nil, object Nil)">(</span><span title="(xs: (Infer.this.global.Symbol, Infer.this.global.Symbol)*)List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">List</span>(<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#769735" title="Infer.this.global.Symbol">arg</a>, <a href="#769736" title="Infer.this.global.Symbol">param</a>)), <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>)
        } <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769799">_arityMismatches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)]
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769800">_varianceMismatches</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)]
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769801">_stricterBounds</a> = <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">ListBuffer</span>[(Symbol, Symbol)] 
          <span class="keyword">def</span> <a title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit" id="769802">varianceMismatch</a>(<a title="Infer.this.global.Symbol" id="769813">a</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769814">p</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) { <a href="#769800" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol))_varianceMismatches.type">_varianceMismatches</a> <span title="Unit">+=</span> (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#769813" title="Infer.this.global.Symbol">a</a>, <a href="#769814" title="Infer.this.global.Symbol">p</a>)) }
          <span class="keyword">def</span> <a title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit" id="769803">stricterBound</a>(<a title="Infer.this.global.Symbol" id="769854">a</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="769855">p</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) { <a href="#769801" title="(x: (Infer.this.global.Symbol, Infer.this.global.Symbol))_stricterBounds.type">_stricterBounds</a> <span title="Unit">+=</span> (<span title="(_1: Infer.this.global.Symbol,_2: Infer.this.global.Symbol)(Infer.this.global.Symbol, Infer.this.global.Symbol)">(</span><a href="#769854" title="Infer.this.global.Symbol">a</a>, <a href="#769855" title="Infer.this.global.Symbol">p</a>)) }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="769804">arityMismatches</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769895">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#769799" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_arityMismatches.type">_arityMismatches</a> <span title="Unit">++=</span> <a href="#769895" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="769805">varianceMismatches</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769918">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#769800" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_varianceMismatches.type">_varianceMismatches</a> <span title="Unit">++=</span> <a href="#769918" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }
          <span class="keyword">def</span> <a title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit" id="769806">stricterBounds</a>(<a title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="769941">as</a>: <span title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">Iterable</span>[(Symbol, Symbol)]) { <a href="#769801" title="(iter: Traversable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])_stricterBounds.type">_stricterBounds</a> <span title="Unit">++=</span> <a href="#769941" title="Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">as</a> }

          <span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="770090">hkarg</a>, <a title="Infer.this.global.Symbol" id="770091">hkparam</a>) &lt;- <a href="#769734" title="(that: Iterable[Infer.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Symbol),List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],List[Infer.this.global.Symbol]])List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">hkargs</a> <a href="#770057" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; Unit)Unit">zip</a> <a href="#769738" title="List[Infer.this.global.Symbol]">hkparams</a>) { 
            <span title="Unit" class="keyword">if</span> (<a href="#770091" title="Infer.this.global.Symbol">hkparam</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>) { // base-case: kind *
              <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#48772" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">variancesMatch</a>(<a href="#770090" title="Infer.this.global.Symbol">hkarg</a>, <a href="#770091" title="Infer.this.global.Symbol">hkparam</a>))
                <a href="#769802" title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit">varianceMismatch</a>(<a href="#770090" title="Infer.this.global.Symbol">hkarg</a>, <a href="#770091" title="Infer.this.global.Symbol">hkparam</a>)                                         
              
              // instantiateTypeParams(tparams, targs) --&gt; higher-order bounds may contain references to type arguments
              // substSym(hkparams, hkargs) --&gt; these types are going to be compared as types of kind * 
              //    --&gt; their arguments use different symbols, but are conceptually the same 
              //        (could also replace the types by polytypes, but can't just strip the symbols, as ordering is lost then)
              <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#769723" title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">transform</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#770091" title="Infer.this.global.Symbol">hkparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#276740" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#276741" title="List[Infer.this.global.Type]">targs</a>).<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#30225" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Symbol])Infer.this.global.Type">substSym</a>(<a href="#769738" title="List[Infer.this.global.Symbol]">hkparams</a>, <a href="#769734" title="List[Infer.this.global.Symbol]">hkargs</a>), <a href="#769737" title="Infer.this.global.Symbol">paramowner</a>) &lt;:&lt; <a href="#769723" title="(tp: Infer.this.global.Type,clazz: Infer.this.global.Symbol)Infer.this.global.Type">transform</a>(<a href="#770090" title="Infer.this.global.Symbol">hkarg</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>, <a href="#276743" title="Infer.this.global.Symbol">owner</a>)))
                <a href="#769803" title="(a: Infer.this.global.Symbol,p: Infer.this.global.Symbol)Unit">stricterBound</a>(<a href="#770090" title="Infer.this.global.Symbol">hkarg</a>, <a href="#770091" title="Infer.this.global.Symbol">hkparam</a>)
            } <span class="keyword">else</span> {
              <span class="keyword">val</span> <a href="#770117" title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</a><a href="#770116" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770117">am</a>, <a href="#770116" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770118">vm</a>, <a href="#770116" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770119">sb</a>) = <a href="#769724" title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">checkKindBoundsHK</a><span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) @unchecked">(</span><a href="#770090" title="Infer.this.global.Symbol">hkarg</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#770090" title="Infer.this.global.Symbol">hkarg</a>, <a href="#770091" title="Infer.this.global.Symbol">hkparam</a>, <a href="#769737" title="Infer.this.global.Symbol">paramowner</a>)
              <a href="#769804" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">arityMismatches</a>(<a href="#770117" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">am</a>)
              <a href="#769805" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">varianceMismatches</a>(<a href="#770118" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">vm</a>)
              <a href="#769806" title="(as: Iterable[(Infer.this.global.Symbol, Infer.this.global.Symbol)])Unit">stricterBounds</a>(<a href="#770119" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">sb</a>)
            }
          }      
              
          <span title="(_1: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_2: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)],_3: List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</span><a href="#769799" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_arityMismatches</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>, <a href="#769800" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_varianceMismatches</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>, <a href="#769801" title="scala.collection.mutable.ListBuffer[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">_stricterBounds</a>.<span title="=&gt; List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">toList</span>)
        }    
      }

      // @M TODO this method is duplicated all over the place (varianceString)
      <span class="keyword">def</span> <a title="(s: Infer.this.global.Symbol)String" id="769725">varStr</a>(<a title="Infer.this.global.Symbol" id="770163">s</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="String">String</span> =
        <span title="String" class="keyword">if</span> (<a href="#770163" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#26980" title="=&gt; Boolean">isCovariant</a>) <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
        <span class="keyword">else</span> <span title="String" class="keyword">if</span> (<a href="#770163" title="Infer.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#26981" title="=&gt; Boolean">isContravariant</a>) <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;                                                

      <span class="keyword">def</span> <a title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String" id="769726">qualify</a>(<a title="Infer.this.global.Symbol" id="770164">a0</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="770165">b0</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="String">String</span> = <span title="String" class="keyword">if</span> (<a href="#770164" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#27091" title="(x$1: AnyRef)Boolean">toString</a> != <a href="#770165" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#27091" title="()String">toString</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> { 
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#770164" title="(x$1: AnyRef)Boolean">a0</a> ne <a href="#770165" title="Infer.this.global.Symbol">b0</a>)
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#770164" title="Infer.this.global.Symbol">a0</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> ne <a href="#770165" title="Infer.this.global.Symbol">b0</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>)
        <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="770177">a</a> = <a href="#770164" title="Infer.this.global.Symbol">a0</a>; <span class="keyword">var</span> <a title="Infer.this.global.Symbol" id="770178">b</a> = <a href="#770165" title="Infer.this.global.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> (<a href="#770177" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="#770178" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>) <a href="#770179" title="()Unit">{</a> <a href="#770177" title="Infer.this.global.Symbol">a</a> = <a href="#770177" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>; <a href="#770178" title="Infer.this.global.Symbol">b</a> = <a href="#770178" title="Infer.this.global.Symbol">b</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>}
        <span title="String" class="keyword">if</span> (<a href="#770177" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27092" title="(x$1: AnyRef)Boolean">locationString</a> ne <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot; (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#770177" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a>.<a title="()java.lang.String" id="7051">trim</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      }
      
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="769727">errors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span>[String]
      (<a href="#276740" title="(that: Iterable[Infer.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Type),List[(Infer.this.global.Symbol, Infer.this.global.Type)],List[Infer.this.global.Symbol]])List[(Infer.this.global.Symbol, Infer.this.global.Type)]">tparams</a> <span title="scala.collection.generic.BuilderFactory[(Infer.this.global.Symbol, Infer.this.global.Type),List[(Infer.this.global.Symbol, Infer.this.global.Type)],List#Coll]">zip</span> <a href="#276741" title="List[Infer.this.global.Type]">targs</a>).<span title="(f: ((Infer.this.global.Symbol, Infer.this.global.Type)) =&gt; Any)Unit">foreach</span><a href="#770319" title="Any">{</a> <span title="Any" class="keyword">case</span> (<a title="Infer.this.global.Symbol" id="770322">tparam</a>, <a title="Infer.this.global.Type" id="770323">targ</a>) <span class="keyword">if</span> (<a href="#770323" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30174" title="(x$1: Boolean)Boolean">isHigherKinded</a> || <span title="=&gt; Boolean">!</span><a href="#770322" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>) =&gt; //println(&quot;check: &quot;+(tparam, targ))
        <span class="keyword">val</span> <a href="#770330" title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">(</a><a href="#770329" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770330">arityMismatches</a>, <a href="#770329" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770331">varianceMismatches</a>, <a href="#770329" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]" id="770332">stricterBounds</a>) = 
          <a href="#769724" title="(hkargs: List[Infer.this.global.Symbol],arg: Infer.this.global.Symbol,param: Infer.this.global.Symbol,paramowner: Infer.this.global.Symbol)(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)])">checkKindBoundsHK</a><span title="(List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)], List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]) @unchecked">(</span><a href="#770323" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30201" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#770323" title="Infer.this.global.Type">targ</a>.<a href="../symtab/Types.scala.html#30182" title="=&gt; Infer.this.global.Symbol">typeSymbolDirect</a>, <a href="#770322" title="Infer.this.global.Symbol">tparam</a>, <a href="#770322" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>) // NOTE: *not* targ.typeSymbol, which normalizes
            // NOTE 2: must use the typeParams of the type targ, not the typeParams of the symbol of targ!!
        
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#770330" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">arityMismatches</a>.<span title="(x$1: Boolean)Boolean">isEmpty</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#770331" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">varianceMismatches</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#770332" title="List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]">stricterBounds</a>.<span title="=&gt; Boolean">isEmpty</span>)){
          <a href="#769727" title="(x: String)errors.type">errors</a> += (<a href="#770323" title="(other: String)java.lang.String">targ</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#770322" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> 
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="770433">a</a>, <a title="Infer.this.global.Symbol" id="770434">p</a>) &lt;- <a href="#770330" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">arityMismatches</a>)
             <span class="keyword">yield</span> <a href="#770433" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770433" title="Infer.this.global.Symbol">a</a>,<a href="#770434" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../Global.scala.html#39021" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38794" title="(n: Int,elements: String)String">countElementsAsString</a>(<a href="#770433" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#770434" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770434" title="Infer.this.global.Symbol">p</a>,<a href="#770433" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has &quot;)" class="string">&quot; has &quot;</span>+<a href="../Global.scala.html#39021" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#38795" title="(n: Int)String">countAsString</a>(<a href="#770434" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>)).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>) <span title="(x$1: Any)java.lang.String">+</span>
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="770588">a</a>, <a title="Infer.this.global.Symbol" id="770589">p</a>) &lt;- <a href="#770331" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">varianceMismatches</a>)
             <span class="keyword">yield</span> <a href="#770588" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770588" title="Infer.this.global.Symbol">a</a>,<a href="#770589" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#769725" title="(s: Infer.this.global.Symbol)String">varStr</a>(<a href="#770588" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, but &quot;)" class="string">&quot;, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#770589" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770589" title="Infer.this.global.Symbol">p</a>,<a href="#770588" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is declared &quot;)" class="string">&quot; is declared &quot;</span>+<a href="#769725" title="(s: Infer.this.global.Symbol)String">varStr</a>(<a href="#770589" title="Infer.this.global.Symbol">p</a>)).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>) +
            (<span class="keyword">for</span> ((<a title="Infer.this.global.Symbol" id="770741">a</a>, <a title="Infer.this.global.Symbol" id="770742">p</a>) &lt;- <a href="#770332" title="(f: ((Infer.this.global.Symbol, Infer.this.global.Symbol)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List[(Infer.this.global.Symbol, Infer.this.global.Symbol)]])List[java.lang.String]">stricterBounds</a>)
              <span class="keyword">yield</span> <a href="#770741" title="(other: String)java.lang.String">a</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770741" title="Infer.this.global.Symbol">a</a>,<a href="#770742" title="Infer.this.global.Symbol">p</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s bounds &quot;)" class="string">&quot;'s bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#770741" title="Infer.this.global.Symbol">a</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; are stricter than &quot;)" class="string">&quot; are stricter than &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#770742" title="Infer.this.global.Symbol">p</a><span title="(x$1: Any)java.lang.String">+</span><a href="#769726" title="(a0: Infer.this.global.Symbol,b0: Infer.this.global.Symbol)String">qualify</a>(<a href="#770742" title="Infer.this.global.Symbol">p</a>,<a href="#770741" title="Infer.this.global.Symbol">a</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;'s declared bounds &quot;)" class="string">&quot;'s declared bounds &quot;</span>+<a href="#770742" title="Infer.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>))
        }
       // case (tparam, targ) =&gt; println(&quot;no check: &quot;+(tparam, targ, tparam.typeParams.isEmpty))                                                             
       <span title="Unit" class="keyword">case</span> _ =&gt;
      }
      
      <a href="#769727" title="scala.collection.mutable.ListBuffer[String]">errors</a>.<span title="=&gt; List[String]">toList</span>
    }
      
    /** Substitite free type variables `undetparams' of polymorphic argument
     *  expression `tree', given two prototypes `strictPt', and `lenientPt'.
     *  `strictPt' is the first attempt prototype where type parameters
     *  are left unchanged. `lenientPt' is the fall-back prototype where type
     *  parameters are replaced by `WildcardType's. We try to instantiate
     *  first to `strictPt' and then, if this fails, to `lenientPt'. If both
     *  attempts fail, an error is produced.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],strictPt: Infer.this.global.Type,lenientPt: Infer.this.global.Type)Unit" id="48774">inferArgumentInstance</a>(<a title="Infer.this.global.Tree" id="271433">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="271434">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                              <a title="Infer.this.global.Type" id="271435">strictPt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="271436">lenientPt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer argument instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271433" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271433" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  undetparams = &quot;)" class="string">&quot;  undetparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271434" title="List[Infer.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  strict pt = &quot;)" class="string">&quot;  strict pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271435" title="Infer.this.global.Type">strictPt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  lenient pt = &quot;)" class="string">&quot;  lenient pt = &quot;</span>+<a href="#271436" title="Infer.this.global.Type">lenientPt</a>)
      <span class="keyword">var</span> <a title="List[Infer.this.global.Type]" id="770881">targs</a> = <a href="#48756" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#271434" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#271433" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#271435" title="Infer.this.global.Type">strictPt</a>)
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#770881" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>) || <span title="=&gt; Boolean">!</span>(<a href="#271433" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30224" title="(from: List[Infer.this.global.Symbol],to: List[Infer.this.global.Type])Infer.this.global.Type">subst</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#271434" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770881" title="List[Infer.this.global.Type]">targs</a>) &lt;:&lt; <a href="#271435" title="Infer.this.global.Type">strictPt</a>)) {
        <a href="#770881" title="List[Infer.this.global.Type]">targs</a> = <a href="#48756" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#271434" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#271433" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#271436" title="Infer.this.global.Type">lenientPt</a>)
      }
      <a href="#48776" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit">substExpr</a>(<a href="#271433" title="Infer.this.global.Tree">tree</a>, <a href="#271434" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770881" title="List[Infer.this.global.Type]">targs</a>, <a href="#271436" title="Infer.this.global.Type">lenientPt</a>)
    }

    /** Substitute free type variables `undetparams; of polymorphic expression
     *  &lt;code&gt;tree&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param pt ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,tparams: List[Infer.this.global.Symbol],pt: Infer.this.global.Type,keepNothings: Boolean)List[Infer.this.global.Symbol]" id="48775">inferExprInstance</a>(<a title="Infer.this.global.Tree" id="262275">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="262276">tparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="262277">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Boolean" id="262278">keepNothings</a>: <span title="Boolean">Boolean</span>): <span title="List[Infer.this.global.Symbol]">List</span>[Symbol] = {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer expr instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#262275" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#262275" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  tparams = &quot;)" class="string">&quot;  tparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#262276" title="List[Infer.this.global.Symbol]">tparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;  pt = &quot;)" class="string">&quot;  pt = &quot;</span>+<a href="#262277" title="Infer.this.global.Type">pt</a>)
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770932">targs</a> = <a href="#48756" title="(tparams: List[Infer.this.global.Symbol],restpe: Infer.this.global.Type,pt: Infer.this.global.Type)List[Infer.this.global.Type]">exprTypeArgs</a>(<a href="#262276" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#262275" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#262277" title="Infer.this.global.Type">pt</a>)
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="770933">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="770934">detargs</a> = <span title="List[Infer.this.global.Type]" class="keyword">if</span> (<a href="#262278" title="(x$1: Boolean)Boolean">keepNothings</a> || (<a href="#770932" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>)) <a href="#770932" title="List[Infer.this.global.Type]">targs</a> 
                    <span class="keyword">else</span> <a href="#48758" title="(tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],restpe: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">adjustTypeArgs</a>(<a href="#262276" title="List[Infer.this.global.Symbol]">tparams</a>, <a href="#770932" title="List[Infer.this.global.Type]">targs</a>, <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>, <a href="#770933" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="770935">undetparams</a> = <a href="#770933" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>
      <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="770936">detparams</a> = <a href="#262276" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]" id="25271">tparams</a> filterNot (<a href="#770935" title="(elem: Any)Boolean">undetparams</a> contains <a href="#770971" title="Infer.this.global.Symbol">_</a>)
      <a href="#48776" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit">substExpr</a>(<a href="#262275" title="Infer.this.global.Tree">tree</a>, <a href="#770936" title="List[Infer.this.global.Symbol]">detparams</a>, <a href="#770934" title="List[Infer.this.global.Type]">detargs</a>, <a href="#262277" title="Infer.this.global.Type">pt</a>)
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>) 
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;inferred expr instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#262275" title="Infer.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, detargs = &quot;)" class="string">&quot;, detargs = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#770934" title="List[Infer.this.global.Type]">detargs</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, undetparams = &quot;)" class="string">&quot;, undetparams = &quot;</span>+<a href="#770935" title="List[Infer.this.global.Symbol]">undetparams</a>)
      <a href="#770935" title="List[Infer.this.global.Symbol]">undetparams</a>
    }

    /** Substitite free type variables `undetparams' of polymorphic argument
     *  expression &lt;code&gt;tree&lt;/code&gt; to `targs', Error if `targs' is null
     *
     *  @param tree ...
     *  @param undetparams ...
     *  @param targs ...
     *  @param pt ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],pt: Infer.this.global.Type)Unit" id="48776">substExpr</a>(<a title="Infer.this.global.Tree" id="770925">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="770926">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                          <a title="List[Infer.this.global.Type]" id="770927">targs</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="770928">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#770927" title="(x$1: AnyRef)Boolean">targs</a> eq <span title="Null(null)" class="keyword">null</span>) {
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#770925" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#770928" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>)
          <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#770925" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;polymorphic expression cannot be instantiated to expected type&quot;</span> + 
                <a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="../symtab/Types.scala.html#43825" title="(typeParams: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a>(<a href="#770926" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#39950" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#770925" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>)), <a href="#770928" title="Infer.this.global.Type">pt</a>))
      } <span class="keyword">else</span> {
        <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26776" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#770926" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#770927" title="List[Infer.this.global.Type]">targs</a>).<a href="../ast/Trees.scala.html#258281" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#770925" title="Infer.this.global.Tree">tree</a>)
      }
    }

    /** Substitite free type variables &lt;code&gt;undetparams&lt;/code&gt; of application
     *  &lt;code&gt;fn(args)&lt;/code&gt;, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param fn          ...
     *  @param undetparams ...
     *  @param args        ...
     *  @param pt          ...
     *  @return            Return the list of type parameters that remain uninstantiated.
     */
    <span class="keyword">def</span> <a title="(fn: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],args: List[Infer.this.global.Tree],pt0: Infer.this.global.Type)List[Infer.this.global.Symbol]" id="48777">inferMethodInstance</a>(<a title="Infer.this.global.Tree" id="271699">fn</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="271700">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                            <a title="List[Infer.this.global.Tree]" id="271701">args</a>: <span title="List[Infer.this.global.Tree]">List</span>[Tree], <a title="Infer.this.global.Type" id="271702">pt0</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="List[Infer.this.global.Symbol]">List</span>[Symbol] = <a href="#271699" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> <span title="List[Infer.this.global.Symbol]" class="keyword">match</span> {
      <span title="List[Infer.this.global.Symbol]" class="keyword">case</span> MethodType(<a title="List[Infer.this.global.Symbol]" id="771036">params0</a>, _) =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">inferInfo</span>)
          <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer method instance &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271699" title="Infer.this.global.Tree">fn</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  undetparams = &quot;)" class="string">&quot;  undetparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271700" title="List[Infer.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  args = &quot;)" class="string">&quot;  args = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#271701" title="List[Infer.this.global.Tree]">args</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;  pt = &quot;)" class="string">&quot;  pt = &quot;</span>+<a href="#271702" title="Infer.this.global.Type">pt0</a>)
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771063">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#271702" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a>) <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#271702" title="Infer.this.global.Type">pt0</a>
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="771064">formals</a> = <a href="#39939" title="(formals: List[Infer.this.global.Type],nargs: Int)List[Infer.this.global.Type]">formalTypes</a>(<a href="#771036" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">params0</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#771088" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>), <a href="#271701" title="List[Infer.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="771065">argtpes</a> = <a href="#39941" title="(actuals: List[Infer.this.global.Type],nformals: Int)List[Infer.this.global.Type]">actualTypes</a>(<a href="#271701" title="(f: (Infer.this.global.Tree) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Tree]])List[Infer.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#771109" title="Infer.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30185" title="=&gt; Infer.this.global.Type">deconst</a>), <a href="#771064" title="List[Infer.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771066">restpe</a> = <a href="#271699" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30194" title="(actuals: List[Infer.this.global.Type])Infer.this.global.Type">resultType</a>(<a href="#771065" title="List[Infer.this.global.Type]">argtpes</a>)
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" id="771067">uninstantiated</a> = <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">ListBuffer</span>[Symbol]
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="771068">targs</a> = <a href="#48759" title="(tparams: List[Infer.this.global.Symbol],formals: List[Infer.this.global.Type],restpe: Infer.this.global.Type,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type,uninstantiated: scala.collection.mutable.ListBuffer[Infer.this.global.Symbol])List[Infer.this.global.Type]">methTypeArgs</a>(<a href="#271700" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771064" title="List[Infer.this.global.Type]">formals</a>, <a href="#771066" title="Infer.this.global.Type">restpe</a>, <a href="#771065" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#771063" title="Infer.this.global.Type">pt</a>, <a href="#771067" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>)
          <a href="#48771" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type],prefix: String)Unit">checkBounds</a>(<a href="#271699" title="Infer.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/Types.scala.html#26226" title="object Infer.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>, <a href="#271700" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771068" title="List[Infer.this.global.Type]">targs</a>, <span title="java.lang.String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span>)
          //Console.println(&quot;UNAPPLY subst type &quot;+undetparams+&quot; to &quot;+targs+&quot; in &quot;+fn+&quot; ( &quot;+args+ &quot;)&quot;)
          <span class="keyword">val</span> <a title="Infer.this.global.TreeTypeSubstituter" id="771069">treeSubst</a> = <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26776" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#271700" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771068" title="List[Infer.this.global.Type]">targs</a>)
          <a href="#771069" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#258281" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#271699" title="Infer.this.global.Tree">fn</a>)
          <a href="#771069" title="Infer.this.global.TreeTypeSubstituter">treeSubst</a>.<a href="../ast/Trees.scala.html#70826" title="(trees: List[Infer.this.global.Tree])Unit">traverseTrees</a>(<a href="#271701" title="List[Infer.this.global.Tree]">args</a>)
          //Console.println(&quot;UNAPPLY gives &quot;+fn+&quot; ( &quot;+args+ &quot;), argtpes = &quot;+argtpes+&quot;, pt = &quot;+pt)
          <a href="#771067" title="scala.collection.mutable.ListBuffer[Infer.this.global.Symbol]">uninstantiated</a>.<span title="=&gt; List[Infer.this.global.Symbol]">toList</span>
        } <span class="keyword">catch</span> {
          <span title="List[Nothing]" class="keyword">case</span> <a title="Infer.this.NoInstance" id="771160">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt;
            <a href="#48741" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#271699" title="Infer.this.global.Tree">fn</a>, 
              <span title="(x$1: Any)java.lang.String" class="string">&quot;no type parameters for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="#48736" title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a>(
                <a href="#271699" title="Infer.this.global.Tree">fn</a>, <span title="java.lang.String(&quot; exist so that it can be applied to arguments &quot;)" class="string">&quot; exist so that it can be applied to arguments &quot;</span>,
                <a href="#271701" title="(f: (Infer.this.global.Tree) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Tree]])List[Infer.this.global.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#771169" title="Infer.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Infer.this.global.Type">widen</a>), <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> + <a href="#771160" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span>())
            List<span title="object Nil">(</span>)
        }
    }

    /** Type with all top-level occurrences of abstract types replaced by their bounds */
    <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="48778">widen</a>(<a title="Infer.this.global.Type" id="771201">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#771201" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> { // @M don't normalize here (compiler loops on pos/bug1090.scala )
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="771206">sym</a>, _) <span class="keyword">if</span> <a href="#771206" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a> =&gt; 
        <a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#771201" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Infer.this.global.Type">hi</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="771214">sym</a>, _) <span class="keyword">if</span> <a href="#771214" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a> =&gt; 
        <a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#771201" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.RefinedType" id="771219">rtp</a> @ RefinedType(<a title="List[Infer.this.global.Type]" id="771222">parents</a>, <a title="Infer.this.global.Scope" id="771223">decls</a>) =&gt; 
        <a href="../symtab/Types.scala.html#26293" title="(original: Infer.this.global.RefinedType,parents: List[Infer.this.global.Type],decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a>(<a href="#771219" title="Infer.this.global.RefinedType">rtp</a>, <a href="#771222" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)List[Infer.this.global.Type]" id="24270">parents</a> mapConserve (<a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>), <a href="#771223" title="Infer.this.global.Scope">decls</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> AnnotatedType(_, <a title="Infer.this.global.Type" id="771246">underlying</a>, _) =&gt;
        <a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#771246" title="Infer.this.global.Type">underlying</a>)
      <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="#771201" title="Infer.this.global.Type">tp</a>
    }

    /** Substitite free type variables &lt;code&gt;undetparams&lt;/code&gt; of type constructor
     *  &lt;code&gt;tree&lt;/code&gt; in pattern, given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree        ...
     *  @param undetparams ...
     *  @param pt          ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],pt0: Infer.this.global.Type)Unit" id="48779">inferConstructorInstance</a>(<a title="Infer.this.global.Tree" id="262842">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="262843">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol], <a title="Infer.this.global.Type" id="262844">pt0</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771251">pt</a> = <a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#262844" title="Infer.this.global.Type">pt0</a>)
      //println(&quot;infer constr inst &quot;+tree+&quot;/&quot;+undetparams+&quot;/&quot;+pt0)
      <span class="keyword">var</span> <a title="Infer.this.global.Type" id="771252">restpe</a> = <a href="#262842" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30196" title="=&gt; Infer.this.global.Type">finalResultType</a>
      <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="771253">tvars</a> = <a href="#262843" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>

      /** Compute type arguments for undetermined params and substitute them in given tree.
       */
      <span class="keyword">def</span> <a title="=&gt; Any" id="771254">computeArgs</a> =
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="771349">targs</a> = <a href="#39949" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Infer.this.global.Type]">solvedTypes</a>(<a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a>, <a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#262843" title="(f: (Infer.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.Symbol]])List[Int]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40022" title="(tp: Infer.this.global.Type)(tparam: Infer.this.global.Symbol)Int">varianceInType</a><a href="#771363" title="Infer.this.global.Symbol">(</a><a href="#771252" title="Infer.this.global.Type">restpe</a>), 
                                  <span title="Boolean(true)" class="keyword">true</span>, <a href="../symtab/Types.scala.html#26375" title="(ts: List[Infer.this.global.Type])Int">lubDepth</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#771252" title="Infer.this.global.Type">restpe</a>, <a href="#771251" title="Infer.this.global.Type">pt</a>)))
//          checkBounds(tree.pos, NoPrefix, NoSymbol, undetparams, targs, &quot;inferred &quot;)
//          no checkBounds here. If we enable it, test bug602 fails.
          <span title="Infer.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26776" title="Infer.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771349" title="List[Infer.this.global.Type]">targs</a>).<a href="../ast/Trees.scala.html#258281" title="(tree: Infer.this.global.Tree)Unit">traverse</a>(<a href="#262842" title="Infer.this.global.Tree">tree</a>)
        } <span class="keyword">catch</span> {
          <span title="Infer.this.global.Tree" class="keyword">case</span> <a title="Infer.this.NoInstance" id="771404">ex</a>: <a href="#39944" title="Infer.this.NoInstance">NoInstance</a> =&gt; 
            <a href="#48741" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#262842" title="Infer.this.global.Tree">tree</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;constructor of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#771252" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; cannot be uniquely instantiated to expected type &quot;)" class="string">&quot; cannot be uniquely instantiated to expected type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#771251" title="Infer.this.global.Type">pt</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 --- because ---\012&quot;)" class="string">&quot;\n --- because ---\n&quot;</span> + <a href="#771404" title="Infer.this.NoInstance">ex</a>.<span title="()java.lang.String">getMessage</span>())
        }
      <span class="keyword">def</span> <a title="=&gt; Infer.this.global.Tree" id="771255">instError</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;ici &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262842" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#771251" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37046" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">explaintypes</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#48744" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Unit">explainTypes</a>(<a href="#771252" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a>), <a href="#771251" title="Infer.this.global.Type">pt</a>)
        <a href="#48741" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a>(<a href="#262842" title="Infer.this.global.Tree">tree</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;constructor cannot be instantiated to expected type&quot;</span> +
                  <a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#771252" title="Infer.this.global.Type">restpe</a>, <a href="#771251" title="Infer.this.global.Type">pt</a>))
      }
      <span title="Unit" class="keyword">if</span> (<a href="#771252" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a>) &lt;:&lt; <a href="#771251" title="Infer.this.global.Type">pt</a>) {
        <a href="#771254" title="=&gt; Any">computeArgs</a>
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#771251" title="Infer.this.global.Type">pt</a>)) {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer constr &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262842" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#771252" title="Infer.this.global.Type">restpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span> + <a href="#771251" title="Infer.this.global.Type">pt</a>)
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="771462">ptparams</a> = <a href="#48792" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45509" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#771251" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params = &quot;</span> + <a href="#771462" title="List[Infer.this.global.Symbol]">ptparams</a>)
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771463">ptWithWildcards</a> = <a href="#771251" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#771462" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#771462" title="(f: (Infer.this.global.Symbol) =&gt; object Infer.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[object Infer.this.global.WildcardType,List[object Infer.this.global.WildcardType],List#Coll]">map</span> (<a title="Infer.this.global.Symbol" id="771497">ptparam</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>))
        <a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#262843" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">undetparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span title="Unit" class="keyword">if</span> (<a href="#771252" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">(</a><a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a>) &lt;:&lt; <a href="#771463" title="Infer.this.global.Type">ptWithWildcards</a>) {
          <a href="#771254" title="=&gt; Any">computeArgs</a>
          <a href="#771252" title="Infer.this.global.Type">restpe</a> = <a href="#39950" title="(tp: Infer.this.global.Type)Infer.this.global.Type">skipImplicit</a>(<a href="#262842" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Infer.this.global.Type">resultType</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#262842" title="Infer.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> + <a href="#771252" title="Infer.this.global.Type">restpe</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="771569">ptvars</a> = <a href="#771462" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771570">pt1</a> = <a href="#771251" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#771462" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#771569" title="List[Infer.this.global.TypeVar]">ptvars</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../symtab/Types.scala.html#26379" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPopulated</a>(<a href="#771252" title="Infer.this.global.Type">restpe</a>, <a href="#771570" title="Infer.this.global.Type">pt1</a>)) {
            <a href="#771569" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#48782" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
          } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;no instance: &quot;)" class="string">&quot;no instance: &quot;</span>); <a href="#771255" title="=&gt; Infer.this.global.Tree">instError</a> }
        } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;not a subtype &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#771252" title="Infer.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#262843" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#771253" title="List[Infer.this.global.TypeVar]">tvars</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> + <a href="#771463" title="Infer.this.global.Type">ptWithWildcards</a>); <a href="#771255" title="=&gt; Infer.this.global.Tree">instError</a> }
      } <span class="keyword">else</span> { <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;not fully defined: &quot;</span> + <a href="#771251" title="Infer.this.global.Type">pt</a>); <a href="#771255" title="=&gt; Infer.this.global.Tree">instError</a> }
    }

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)" id="48780">instBounds</a>(<a title="Infer.this.global.TypeVar" id="771737">tvar</a>: <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>): <span title="(Infer.this.global.Type, Infer.this.global.Type)">(</span>Type, Type) = {
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="771739">tparam</a> = <a href="#771737" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771740">instType</a> = <a href="#771747" title="(tp: Infer.this.global.Type)Infer.this.global.Type">toOrigin</a>(<a href="#771737" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)
      <span class="keyword">val</span> <a href="#771742" title="(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</a><a href="#771741" title="List[Infer.this.global.Type]" id="771742">loBounds</a>, <a href="#771741" title="List[Infer.this.global.Type]" id="771743">hiBounds</a>) =
        <span title="(List[Infer.this.global.Type], List[Infer.this.global.Type])" class="keyword">if</span> (<a href="#771740" title="(x$1: AnyRef)Boolean">instType</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a> &amp;&amp; <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#771740" title="Infer.this.global.Type">instType</a>)) <span title="(_1: List[Infer.this.global.Type],_2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</span><span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#771740" title="Infer.this.global.Type">instType</a>), <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#771740" title="Infer.this.global.Type">instType</a>))
        <span class="keyword">else</span> <span title="(_1: List[Infer.this.global.Type],_2: List[Infer.this.global.Type])(List[Infer.this.global.Type], List[Infer.this.global.Type])">(</span><a href="#771737" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>, <a href="#771737" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>)
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771744">lo</a> = <a href="../symtab/Types.scala.html#26441" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">lub</a>(<a href="#771739" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; Infer.this.global.Type">lo</a> <a href="#771823" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">::</a> <a href="#771742" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">loBounds</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#48787" title="object Inferencer.this.toOrigin">toOrigin</a>)
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="771745">hi</a> = <a href="../symtab/Types.scala.html#26450" title="(ts: List[Infer.this.global.Type])Infer.this.global.Type">glb</a>(<a href="#771739" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Infer.this.global.Type">hi</a> <a href="#771852" title="(f: (Infer.this.global.Type) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Type]])List[Infer.this.global.Type]">::</a> <a href="#771743" title="(x: Infer.this.global.Type)List[Infer.this.global.Type]">hiBounds</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#48787" title="object Inferencer.this.toOrigin">toOrigin</a>)
      <span title="(_1: Infer.this.global.Type,_2: Infer.this.global.Type)(Infer.this.global.Type, Infer.this.global.Type)">(</span><a href="#771744" title="Infer.this.global.Type">lo</a>, <a href="#771745" title="Infer.this.global.Type">hi</a>)
    }

    <span class="keyword">def</span> <a title="(tvars: List[Infer.this.global.TypeVar])Boolean" id="48781">isInstantiatable</a>(<a title="List[Infer.this.global.TypeVar]" id="771887">tvars</a>: <span title="List[Infer.this.global.TypeVar]">List</span>[TypeVar]) = {
      <span class="keyword">def</span> <a title="(tv: Infer.this.global.TypeVar)Infer.this.global.TypeVar" id="771890">cloneTypeVar</a>(<a title="Infer.this.global.TypeVar" id="771892">tv</a>: <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>) = {
        <span class="keyword">val</span> <a title="Infer.this.global.TypeVar" id="771893">tv1</a> = <a href="../symtab/Types.scala.html#263302" title="(origin: Infer.this.global.Type,constr0: Infer.this.global.TypeConstraint)Infer.this.global.TypeVar">TypeVar</a>(<a href="#771892" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>, <span title="Infer.this.global.TypeConstraint" class="keyword">new</span> <a href="../symtab/Types.scala.html#26319" title="Infer.this.global.TypeConstraint">TypeConstraint</a>(<a href="#771892" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663460" title="=&gt; List[Infer.this.global.Type]">lobounds</a>, <a href="#771892" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663463" title="=&gt; List[Infer.this.global.Type]">hibounds</a>))
        <a href="#771893" title="Infer.this.global.TypeVar">tv1</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663467" title="(x$1: Infer.this.global.Type)Unit">inst</a> = <a href="#771892" title="Infer.this.global.TypeVar">tv</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="#771893" title="Infer.this.global.TypeVar">tv1</a>
      }
      <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="771891">tvars1</a> = <a href="#771887" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.TypeVar]])List[Infer.this.global.TypeVar]">tvars</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#771890" title="(tv: Infer.this.global.TypeVar)Infer.this.global.TypeVar">cloneTypeVar</a>
      // Note: right now it's not clear that solving is complete, or how it can be made complete!
      // So we should come back to this and investigate.
      <a href="../symtab/Types.scala.html#26425" title="(tvars: List[Infer.this.global.TypeVar],tparams: List[Infer.this.global.Symbol],variances: List[Int],upper: Boolean)Boolean">solve</a>(<a href="#771891" title="List[Infer.this.global.TypeVar]">tvars1</a>, <a href="#771891" title="(f: (Infer.this.global.TypeVar) =&gt; Infer.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Symbol,List[Infer.this.global.Symbol],List[Infer.this.global.TypeVar]])List[Infer.this.global.Symbol]">tvars1</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Symbol,List[Infer.this.global.Symbol],List#Coll]">map</span> (<a href="#772039" title="Infer.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>), <a href="#771891" title="(f: (Infer.this.global.TypeVar) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Infer.this.global.TypeVar]])List[Int]">tvars1</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> (<a title="Infer.this.global.TypeVar" id="772075">x</a> =&gt; <span title="Int(65536)">COVARIANT</span>), <span title="Boolean(false)" class="keyword">false</span>)  
    }

    <span class="keyword">def</span> <a title="(tvar: Infer.this.global.TypeVar)Unit" id="48782">instantiateTypeVar</a>(<a title="Infer.this.global.TypeVar" id="263408">tvar</a>: <a href="../symtab/Types.scala.html#26274" title="Infer.this.global.TypeVar">TypeVar</a>) {
      <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="772105">tparam</a> = <a href="#263408" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263274" title="=&gt; Infer.this.global.Type">origin</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Infer.this.global.Symbol">typeSymbol</a>
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean" class="keyword">false</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#263408" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="(x$1: AnyRef)Boolean">inst</a> != <a href="../symtab/Types.scala.html#26224" title="object Infer.this.global.NoType">NoType</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="#39948" title="(tp: Infer.this.global.Type)Boolean">isFullyDefined</a>(<a href="#263408" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>) &amp;&amp; 
          (<a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#45786" title="(that: Infer.this.global.Type)Boolean">bounds</a> containsType <a href="#263408" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>)) {
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48449" title="(p: (Infer.this.Context) =&gt; Boolean)Infer.this.Context">nextEnclosing</a>(<a href="#772126" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#48359" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26656" title="Infer.this.global.CaseDef">CaseDef</a>]).<a href="Contexts.scala.html#48454" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a>(<a href="#772105" title="Infer.this.global.Symbol">tparam</a>)
        <a href="../symtab/Symbols.scala.html#27005" title="(info: Infer.this.global.Type)tparam.type">tparam</a> setInfo <a href="#263408" title="Infer.this.global.TypeVar">tvar</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Infer.this.global.TypeConstraint">constr</a>.<a href="../symtab/Types.scala.html#663466" title="=&gt; Infer.this.global.Type">inst</a>
        <a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)tparam.type">tparam</a> resetFlag <span title="Long(16L)">DEFERRED</span>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new alias of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#772105" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>)
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a href="#772148" title="(Infer.this.global.Type, Infer.this.global.Type)">(</a><a href="#772147" title="Infer.this.global.Type" id="772148">lo</a>, <a href="#772147" title="Infer.this.global.Type" id="772149">hi</a>) = <a href="#48780" title="(tvar: Infer.this.global.TypeVar)(Infer.this.global.Type, Infer.this.global.Type)">instBounds</a><span title="(Infer.this.global.Type, Infer.this.global.Type) @unchecked">(</span><a href="#263408" title="Infer.this.global.TypeVar">tvar</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">lo</a> &lt;:&lt; <a href="#772149" title="Infer.this.global.Type">hi</a>) {
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">lo</a> &lt;:&lt; <a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; Infer.this.global.Type">lo</a>) &amp;&amp; (<a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Infer.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">hi</a> &lt;:&lt; <a href="#772149" title="Infer.this.global.Type">hi</a>))) {
            <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48449" title="(p: (Infer.this.Context) =&gt; Boolean)Infer.this.Context">nextEnclosing</a>(<a href="#772181" title="Infer.this.Context">_</a>.<a href="Contexts.scala.html#48359" title="=&gt; Infer.this.global.Tree">tree</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26656" title="Infer.this.global.CaseDef">CaseDef</a>]).<a href="Contexts.scala.html#48454" title="(sym: Infer.this.global.Symbol)Unit">pushTypeBounds</a>(<a href="#772105" title="Infer.this.global.Symbol">tparam</a>)
            <a href="../symtab/Symbols.scala.html#27005" title="(info: Infer.this.global.Type)tparam.type">tparam</a> setInfo <a href="../symtab/Types.scala.html#26289" title="(lo: Infer.this.global.Type,hi: Infer.this.global.Type)Infer.this.global.TypeBounds">mkTypeBounds</a>(<a href="#772148" title="Infer.this.global.Type">lo</a>, <a href="#772149" title="Infer.this.global.Type">hi</a>)
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new bounds of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#772105" title="Infer.this.global.Symbol">tparam</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>)
          } <span class="keyword">else</span> {
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;redundant: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772105" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772105" title="Infer.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772148" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#772149" title="Infer.this.global.Type">hi</a>)
          }
        } <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;inconsistent: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772105" title="Infer.this.global.Symbol">tparam</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#772148" title="Infer.this.global.Type">lo</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>+<a href="#772149" title="Infer.this.global.Type">hi</a>)
        }
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tp: Infer.this.global.Type,kind: String)Unit" id="48783">checkCheckable</a>(<a title="scala.tools.nsc.util.Position" id="277141">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="277142">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="String" id="277143">kind</a>: <span title="String">String</span>) {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,prefix: String)Unit" id="772236">patternWarning</a>(<a title="Infer.this.global.Type" id="772238">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="String" id="772239">prefix</a>: <span title="String">String</span>) = {
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48356" title="=&gt; Infer.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45458" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">uncheckedWarning</a>(<a href="#277141" title="scala.tools.nsc.util.Position">pos</a>, <a href="#772239" title="(x$1: Any)java.lang.String">prefix</a><span title="(x$1: Any)java.lang.String">+</span><a href="#772238" title="Infer.this.global.Type">tp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in type&quot;)" class="string">&quot; in type&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#277143" title="String">kind</a>+<span title="java.lang.String(&quot; is unchecked since it is eliminated by erasure&quot;)" class="string">&quot; is unchecked since it is eliminated by erasure&quot;</span>)
      }
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit" id="772237">check</a>(<a title="Infer.this.global.Type" id="772250">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="List[Infer.this.global.Symbol]" id="772251">bound</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol]) {
        <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="772252">isLocalBinding</a>(<a title="Infer.this.global.Symbol" id="772253">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) =
          <a href="#772253" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; 
          (<span title="(x$1: Boolean)Boolean">(</span><a href="#772251" title="(elem: Any)Boolean">bound</a> contains <a href="#772253" title="Infer.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">||</span>
           <a href="#772253" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object Infer.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; Infer.this.global.Name">WILDCARD</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; Infer.this.global.Name">toTypeName</a> || {
            <span class="keyword">val</span> <a title="Infer.this.global.ScopeEntry" id="772265">e</a> = <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48365" title="=&gt; Infer.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#27142" title="(name: Infer.this.global.Name)Infer.this.global.ScopeEntry">lookupEntry</a>(<a href="#772253" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Infer.this.global.Name">name</a>)
            <span title="(x$1: Boolean)Boolean">(</span><a href="#772265" title="(x$1: AnyRef)Boolean">e</a> ne <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#772265" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26807" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#772253" title="Infer.this.global.Symbol">sym</a> &amp;&amp; <a href="#772265" title="Infer.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26809" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48365" title="=&gt; Infer.this.global.Scope">scope</a>
          })
        <a href="#772250" title="Infer.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> SingleType(<a title="Infer.this.global.Type" id="772293">pre</a>, _) =&gt; 
            <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772293" title="Infer.this.global.Type">pre</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a>)
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="772301">pre</a>, <a title="Infer.this.global.Symbol" id="772302">sym</a>, <a title="List[Infer.this.global.Type]" id="772303">args</a>) =&gt; 
            <span title="Unit" class="keyword">if</span> (<a href="#772302" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>) 
              <a href="#772236" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#772250" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;abstract type &quot;)" class="string">&quot;abstract type &quot;</span>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#772302" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>)
              <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772250" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a>)
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#772302" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28271" title="=&gt; Infer.this.global.Symbol">NothingClass</a> || <a href="#772302" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28269" title="=&gt; Infer.this.global.Symbol">NullClass</a>) 
              <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#277141" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;this type cannot be used in a type pattern&quot;)" class="string">&quot;this type cannot be used in a type pattern&quot;</span>)
            <span class="keyword">else</span>
              <span class="keyword">for</span> (<a title="Infer.this.global.Type" id="772342">arg</a> &lt;- <a href="#772303" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">args</a>) {
                <span title="Unit" class="keyword">if</span> (<a href="#772302" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28393" title="=&gt; Infer.this.global.Symbol">ArrayClass</a>) <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772342" title="Infer.this.global.Type">arg</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a>)
                <span class="keyword">else</span> <a href="#772342" title="Infer.this.global.Type">arg</a> <span title="Unit" class="keyword">match</span> {
                  <span title="Unit" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="772354">sym</a>, _) <span class="keyword">if</span> <a href="#772252" title="(sym: Infer.this.global.Symbol)Boolean">isLocalBinding</a>(<a href="#772354" title="Infer.this.global.Symbol">sym</a>) =&gt;
                    ;
                  <span title="Unit" class="keyword">case</span> _ =&gt;
                    <a href="#772236" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#772342" title="Infer.this.global.Type">arg</a>, <span title="java.lang.String(&quot;non variable type-argument &quot;)" class="string">&quot;non variable type-argument &quot;</span>)
                }
              }
            <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772301" title="Infer.this.global.Type">pre</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[Infer.this.global.Type]" id="772368">parents</a>, <a title="Infer.this.global.Scope" id="772369">decls</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#772369" title="Infer.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27128" title="=&gt; Boolean">isEmpty</a>) <span class="keyword">for</span> (<a title="Infer.this.global.Type" id="772388">p</a> &lt;- <a href="#772368" title="(f: (Infer.this.global.Type) =&gt; Unit)Unit">parents</a>) <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772388" title="Infer.this.global.Type">p</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a>)
            <span class="keyword">else</span> <a href="#772236" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#772250" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;refinement &quot;)" class="string">&quot;refinement &quot;</span>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[Infer.this.global.Symbol]" id="772398">quantified</a>, <a title="Infer.this.global.Type" id="772399">tp1</a>) =&gt;
            <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#772399" title="Infer.this.global.Type">tp1</a>, <a href="#772251" title="List[Infer.this.global.Symbol]">bound</a> <a href="#772402" title="List[Infer.this.global.Symbol]">:::</a> <a href="#772398" title="(prefix: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">quantified</a>)
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt;
            ;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26226" title="object Infer.this.global.NoPrefix">NoPrefix</a> =&gt; 
            ;
          <span title="Unit" class="keyword">case</span> _ =&gt; 
            <a href="#772236" title="(tp: Infer.this.global.Type,prefix: String)Unit">patternWarning</a>(<a href="#772250" title="Infer.this.global.Type">tp</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span>)
        }
      }
      <a href="#772237" title="(tp: Infer.this.global.Type,bound: List[Infer.this.global.Symbol])Unit">check</a>(<a href="#277142" title="Infer.this.global.Type">tp</a>, List<span title="object Nil">(</span>))
    }

    /** Type intersection of simple type &lt;code&gt;tp1&lt;/code&gt; with general
     *  type &lt;code&gt;tp2&lt;/code&gt;. The result eliminates some redundancies.
     */
    <span class="keyword">def</span> <a title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Infer.this.global.Type" id="48784">intersect</a>(<a title="Infer.this.global.Type" id="772428">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="772429">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = {
      <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#772429" title="Infer.this.global.Type">tp2</a>) <a href="#772428" title="Infer.this.global.Type">tp1</a>
      <span class="keyword">else</span> <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tp2</a> &lt;:&lt; <a href="#772428" title="Infer.this.global.Type">tp1</a>) <a href="#772429" title="Infer.this.global.Type">tp2</a>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="772437">reduced2</a> = <a href="#772429" title="Infer.this.global.Type">tp2</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
          <span title="Infer.this.global.Type" class="keyword">case</span> <a title="Infer.this.global.RefinedType" id="772438">rtp</a> @ RefinedType(<a title="List[Infer.this.global.Type]" id="772441">parents2</a>, <a title="Infer.this.global.Scope" id="772442">decls2</a>) =&gt;
            <a href="../symtab/Types.scala.html#26293" title="(original: Infer.this.global.RefinedType,parents: List[Infer.this.global.Type],decls: Infer.this.global.Scope)Infer.this.global.Type">copyRefinedType</a>(<a href="#772438" title="Infer.this.global.RefinedType">rtp</a>, <a href="#772441" title="(p: (Infer.this.global.Type) =&gt; Boolean)List[Infer.this.global.Type]">parents2</a> filter (<a title="Infer.this.global.Type" id="772450">p2</a> =&gt; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tp1</a> &lt;:&lt; <a href="#772450" title="Infer.this.global.Type">p2</a>)), <a href="#772442" title="Infer.this.global.Scope">decls2</a>)
          <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt;
            <a href="#772429" title="Infer.this.global.Type">tp2</a>
        }
        <a href="../symtab/Types.scala.html#26301" title="(tps: List[Infer.this.global.Type])Infer.this.global.Type">intersectionType</a>(<span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#772428" title="Infer.this.global.Type">tp1</a>, <a href="#772437" title="Infer.this.global.Type">reduced2</a>))
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,pattp: Infer.this.global.Type,pt0: Infer.this.global.Type)Infer.this.global.Type" id="48785">inferTypedPattern</a>(<a title="scala.tools.nsc.util.Position" id="272008">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Infer.this.global.Type" id="272009">pattp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>, <a title="Infer.this.global.Type" id="272010">pt0</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="Infer.this.global.Type" id="772475">pt</a> = <a href="#48778" title="(tp: Infer.this.global.Type)Infer.this.global.Type">widen</a>(<a href="#272010" title="Infer.this.global.Type">pt0</a>)
      <a href="#48783" title="(pos: scala.tools.nsc.util.Position,tp: Infer.this.global.Type,kind: String)Unit">checkCheckable</a>(<a href="#272008" title="scala.tools.nsc.util.Position">pos</a>, <a href="#272009" title="Infer.this.global.Type">pattp</a>, <span title="java.lang.String(&quot; pattern&quot;)" class="string">&quot; pattern&quot;</span>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">pattp</a> &lt;:&lt; <a href="#772475" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772483">tpparams</a> = <a href="#48792" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45509" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#272009" title="Infer.this.global.Type">pattp</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (1) = &quot;</span> + <a href="#772483" title="List[Infer.this.global.Symbol]">tpparams</a>)
        <span class="keyword">var</span> <a title="List[Infer.this.global.TypeVar]" id="772484">tvars</a> = <a href="#772483" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tpparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">var</span> <a title="Infer.this.global.Type" id="772485">tp</a> = <a href="#272009" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#772483" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#772484" title="List[Infer.this.global.TypeVar]">tvars</a>)
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tp</a> &lt;:&lt; <a href="#772475" title="Infer.this.global.Type">pt</a>) &amp;&amp; <a href="#48781" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a>(<a href="#772484" title="List[Infer.this.global.TypeVar]">tvars</a>))) {
          <a href="#772484" title="List[Infer.this.global.TypeVar]">tvars</a> = <a href="#772483" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">tpparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <a href="#772485" title="Infer.this.global.Type">tp</a> = <a href="#272009" title="Infer.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#772483" title="List[Infer.this.global.Symbol]">tpparams</a>, <a href="#772484" title="List[Infer.this.global.TypeVar]">tvars</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772597">ptparams</a> = <a href="#48792" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45509" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#772475" title="Infer.this.global.Type">pt</a>)
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (2) = &quot;</span> + <a href="#772597" title="List[Infer.this.global.Symbol]">ptparams</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="772598">ptvars</a> = <a href="#772597" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
          <span class="keyword">val</span> <a title="Infer.this.global.Type" id="772599">pt1</a> = <a href="#772475" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#772597" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#772598" title="List[Infer.this.global.TypeVar]">ptvars</a>)
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../symtab/Types.scala.html#26379" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Boolean">isPopulated</a><span title="(x$1: Boolean)Boolean">(</span><a href="#772485" title="Infer.this.global.Type">tp</a>, <a href="#772599" title="Infer.this.global.Type">pt1</a>) &amp;&amp; <a href="#48781" title="(tvars: List[Infer.this.global.TypeVar])Boolean">isInstantiatable</a>(<a href="#772484" title="List[Infer.this.global.TypeVar]">tvars</a> <a href="#772733" title="List[Infer.this.global.TypeVar]">:::</a> <a href="#772598" title="(prefix: List[Infer.this.global.TypeVar])List[Infer.this.global.TypeVar]">ptvars</a>))) {
            //println(tpparams)
            //println(tvars map instBounds)
            //println(ptvars map instBounds)
            <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#272008" title="scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;pattern type is incompatible with expected type&quot;</span>+<a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#272009" title="Infer.this.global.Type">pattp</a>, <a href="#772475" title="Infer.this.global.Type">pt</a>))
            <span title="Nothing" class="keyword">return</span> <a href="#272009" title="Infer.this.global.Type">pattp</a>
          }
          <a href="#772598" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#48782" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        }
        <a href="#772484" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">tvars</a> foreach <a href="#48782" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
      }
      <a href="#48784" title="(tp1: Infer.this.global.Type,tp2: Infer.this.global.Type)Infer.this.global.Type">intersect</a>(<a href="#772475" title="Infer.this.global.Type">pt</a>, <a href="#272009" title="Infer.this.global.Type">pattp</a>)
    }

    <span class="keyword">def</span> <a title="(pat: Infer.this.global.Tree,pt: Infer.this.global.Type)Unit" id="48786">inferModulePattern</a>(<a title="Infer.this.global.Tree" id="263222">pat</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="263223">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) =
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#263222" title="Infer.this.global.Tree">pat</a>.<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#263223" title="Infer.this.global.Type">pt</a>)) {
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="263229">ptparams</a> = <a href="#48792" title="object Inferencer.this.freeTypeParamsOfTerms">freeTypeParamsOfTerms</a>.<a href="../symtab/Types.scala.html#45509" title="(tp: Infer.this.global.Type)List[Infer.this.global.Symbol]">collect</a>(<a href="#263223" title="Infer.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free type params (2) = &quot;</span> + <a href="#263229" title="List[Infer.this.global.Symbol]">ptparams</a>)
        <span class="keyword">val</span> <a title="List[Infer.this.global.TypeVar]" id="263230">ptvars</a> = <a href="#263229" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List[Infer.this.global.Symbol]])List[Infer.this.global.TypeVar]">ptparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.TypeVar,List[Infer.this.global.TypeVar],List#Coll]">map</span> <a href="#39943" title="(tparam: Infer.this.global.Symbol)Infer.this.global.TypeVar">freshVar</a>
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="263231">pt1</a> = <a href="#263223" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Infer.this.global.Symbol],actuals: List[Infer.this.global.Type])Infer.this.global.Type">instantiateTypeParams</a>(<a href="#263229" title="List[Infer.this.global.Symbol]">ptparams</a>, <a href="#263230" title="List[Infer.this.global.TypeVar]">ptvars</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#263222" title="Infer.this.global.Tree">pat</a>.<a href="../symtab/Types.scala.html#30235" title="(that: Infer.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#263231" title="Infer.this.global.Type">pt1</a>)
          <a href="#263230" title="(f: (Infer.this.global.TypeVar) =&gt; Unit)Unit">ptvars</a> foreach <a href="#48782" title="(tvar: Infer.this.global.TypeVar)Unit">instantiateTypeVar</a>
        <span class="keyword">else</span> 
          <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#263222" title="Infer.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;pattern type is incompatible with expected type&quot;</span>+<a href="#48738" title="(found: Infer.this.global.Type,req: Infer.this.global.Type)String">foundReqMsg</a>(<a href="#263222" title="Infer.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#263223" title="Infer.this.global.Type">pt</a>))
      }

    <span class="keyword">object</span> <a title="object Inferencer.this.toOrigin" id="48787">toOrigin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26320" title="Infer.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="771747">apply</a>(<a title="Infer.this.global.Type" id="771748">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#771748" title="Infer.this.global.Type">tp</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
        <span title="Infer.this.global.Type" class="keyword">case</span> TypeVar(<a title="Infer.this.global.Type" id="772803">origin</a>, _) =&gt; <a href="#772803" title="Infer.this.global.Type">origin</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt; <a href="../symtab/Types.scala.html#42722" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#771748" title="Infer.this.global.Type">tp</a>)
      }
    }

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymCollector extends Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]] with ScalaObject" id="48789">SymCollector</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26324" title="Infer.this.global.TypeCollector[List[Infer.this.global.Symbol]]">TypeCollector</a>(List[Symbol]<span title="object Nil">(</span>)) {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="263245">includeCondition</a>(<a title="Infer.this.global.Symbol" id="772853">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span>

      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Unit" id="263246">traverse</a>(<a title="Infer.this.global.Type" id="772855">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>) {
        <a href="#772855" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> TypeRef(_, <a title="Infer.this.global.Symbol" id="772861">sym</a>, _) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#263245" title="(sym: Infer.this.global.Symbol)Boolean">includeCondition</a><span title="(x$1: Boolean)Boolean">(</span><a href="#772861" title="Infer.this.global.Symbol">sym</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../symtab/Types.scala.html#45506" title="=&gt; List[Infer.this.global.Symbol]">result</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#772861" title="Infer.this.global.Symbol">sym</a>)) <a href="../symtab/Types.scala.html#45507" title="(x$1: List[Infer.this.global.Symbol])Unit">result</a> = <a href="#772861" title="Infer.this.global.Symbol">sym</a> <a href="#772871" title="Infer.this.global.Symbol">::</a> <a href="../symtab/Types.scala.html#45506" title="(x: Infer.this.global.Symbol)List[Infer.this.global.Symbol]">result</a>
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <a href="../symtab/Types.scala.html#42722" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a><span title="Unit">(</span><a href="#772855" title="Infer.this.global.Type">tp</a>)
      }
    }

    <span class="keyword">object</span> <a title="object Inferencer.this.approximateAbstracts" id="48790">approximateAbstracts</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../symtab/Types.scala.html#26320" title="Infer.this.global.TypeMap">TypeMap</a> {
      <span class="keyword">def</span> <a title="(tp: Infer.this.global.Type)Infer.this.global.Type" id="263433">apply</a>(<a title="Infer.this.global.Type" id="263434">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a> = <a href="#263434" title="Infer.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Infer.this.global.Type">normalize</a> <span title="Infer.this.global.Type" class="keyword">match</span> {
        <span title="Infer.this.global.WildcardType.type" class="keyword">case</span> TypeRef(<a title="Infer.this.global.Type" id="772905">pre</a>, <a title="Infer.this.global.Symbol" id="772906">sym</a>, _) <span class="keyword">if</span> <a href="#772906" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>
        <span title="Infer.this.global.Type" class="keyword">case</span> _ =&gt; <a href="../symtab/Types.scala.html#42722" title="(tp: Infer.this.global.Type)Infer.this.global.Type">mapOver</a>(<a href="#263434" title="Infer.this.global.Type">tp</a>)
      }
    }

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParamsOfTerms" id="48792">freeTypeParamsOfTerms</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#48789" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="263248">includeCondition</a>(<a title="Infer.this.global.Symbol" id="772936">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
        <a href="#772936" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <a href="#772936" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>
    }

    /** A traverser to collect type parameters referred to in a type
     */
    <span class="keyword">object</span> <a title="object Inferencer.this.freeTypeParametersNoSkolems" id="48794">freeTypeParametersNoSkolems</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#48789" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="748563">includeCondition</a>(<a title="Infer.this.global.Symbol" id="772943">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
        <a href="#772943" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26926" title="(x$1: Boolean)Boolean">isTypeParameter</a> &amp;&amp; <a href="#772943" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>
    }

    <span class="keyword">object</span> <a title="object Inferencer.this.typeRefs" id="48796">typeRefs</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#48789" title="Inferencer.this.SymCollector">SymCollector</a> {
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Infer.this.global.Symbol)Boolean" id="772948">includeCondition</a>(<a title="Infer.this.global.Symbol" id="772952">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>
    }

    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree)Infer.this.global.Tree" id="48798">checkDead</a>(<a title="Infer.this.global.Tree" id="266791">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37182" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">Xwarndeadcode</a>.<a href="../Settings.scala.html#37759" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#266791" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="(x$1: AnyRef)Boolean">tpe</a> != <span title="Null(null)" class="keyword">null</span> &amp;&amp; <a href="#266791" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28271" title="=&gt; Infer.this.global.Symbol">NothingClass</a>)
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48445" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">warning</a> (<a href="#266791" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;dead code following this construct&quot;)" class="string">&quot;dead code following this construct&quot;</span>)
      <a href="#266791" title="Infer.this.global.Tree">tree</a>
    }

    /* -- Overload Resolution ---------------------------------------------- */

/*
    def checkNotShadowed(pos: Position, pre: Type, best: Symbol, eligible: List[Symbol]) =
      if (!phase.erasedTypes)
        for (alt &lt;- eligible) {
          if (isProperSubClassOrObject(alt.owner, best.owner))
            error(pos,
                  &quot;erroneous reference to overloaded definition,\n&quot;+
                  &quot;most specific definition is: &quot;+best+best.locationString+&quot; of type &quot;+pre.memberType(best)+
                  &quot;,\nyet alternative definition   &quot;+alt+alt.locationString+&quot; of type &quot;+pre.memberType(alt)+
                  &quot;\nis defined in a subclass&quot;)
        }
*/

    /** Assign &lt;code&gt;tree&lt;/code&gt; the symbol and type of the alternative which
     *  matches prototype &lt;code&gt;pt&lt;/code&gt;, if it exists.
     *  If several alternatives match `pt', take parameterless one.
     *  If no alternative matches `pt', take the parameterless one anyway.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,pt: Infer.this.global.Type)Unit" id="48799">inferExprAlternative</a>(<a title="Infer.this.global.Tree" id="261387">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="Infer.this.global.Type" id="261388">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Unit">Unit</span> = <a href="#261387" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="772978">pre</a>, <a title="List[Infer.this.global.Symbol]" id="772979">alts</a>) =&gt; <a href="#48801" title="(infer: =&gt; Unit)Unit">tryTwice</a> {
        <span class="keyword">var</span> <a title="List[Infer.this.global.Symbol]" id="772984">alts1</a> = <a href="#772979" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts</a> filter (<a title="Infer.this.global.Symbol" id="772992">alt</a> =&gt; <a href="#48752" title="(tp: Infer.this.global.Type,pt: Infer.this.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#772978" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#772992" title="Infer.this.global.Symbol">alt</a>), <a href="#261388" title="Infer.this.global.Type">pt</a>))
        //println(&quot;trying &quot;+alts1+(alts1 map (_.tpe))+(alts1 map (_.locationString))+&quot; for &quot;+pt)
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772985">applicable</a> = <a href="#772984" title="List[Infer.this.global.Symbol]">alts1</a>
        <span class="keyword">var</span> <a title="Boolean" id="772986">secondTry</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">if</span> (<a href="#772984" title="List[Infer.this.global.Symbol]">alts1</a>.<span title="=&gt; Boolean">isEmpty</span>) { 
          <a href="#772984" title="List[Infer.this.global.Symbol]">alts1</a> = <a href="#772979" title="List[Infer.this.global.Symbol]">alts</a>
          <a href="#772986" title="Boolean">secondTry</a> = <span title="Boolean(true)" class="keyword">true</span>
        }
        <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="772987">improves</a>(<a title="Infer.this.global.Symbol" id="773001">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="773002">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
          <a href="#773002" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a> || 
          { <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773009">tp1</a> = <a href="#772978" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773001" title="Infer.this.global.Symbol">sym1</a>)
            <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773010">tp2</a> = <a href="#772978" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773002" title="Infer.this.global.Symbol">sym2</a>)
            (<a href="#773010" title="(x$1: AnyRef)Boolean">tp2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26217" title="object Infer.this.global.ErrorType">ErrorType</a> <span title="(x$1: Boolean)Boolean">||</span>
             <span title="(x$1: Boolean)Boolean">!</span><a href="Analyzer.scala.html#39796" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39159" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#42551" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#48752" title="(tp: Infer.this.global.analyzer.global.Type,pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#773010" title="Infer.this.global.Type">tp2</a>, <a href="#261388" title="Infer.this.global.Type">pt</a>) &amp;&amp; <a href="Analyzer.scala.html#39796" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39159" title="object Infer.this.global.typer">typer</a>.<a href="Typers.scala.html#42551" title="=&gt; Infer.this.global.analyzer.Inferencer">infer</a>.<a href="#48752" title="(tp: Infer.this.global.analyzer.global.Type,pt: Infer.this.global.analyzer.global.Type)Boolean">isWeaklyCompatible</a>(<a href="#773009" title="Infer.this.global.Type">tp1</a>, <a href="#261388" title="Infer.this.global.Type">pt</a>) ||
             <a href="#48768" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#773009" title="Infer.this.global.Type">tp1</a>, <a href="#773010" title="Infer.this.global.Type">tp2</a>, <a href="#773001" title="Infer.this.global.Symbol">sym1</a>, <a href="#773002" title="Infer.this.global.Symbol">sym2</a>)) }
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="772988">best</a> = ((<a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) <a href="#773041" title="Infer.this.global.Symbol">/:</a> <a href="#772984" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">alts1</a>) ((<a title="Infer.this.global.Symbol" id="773053">best</a>, <a title="Infer.this.global.Symbol" id="773054">alt</a>) =&gt;
          <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#772987" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#773054" title="Infer.this.global.Symbol">alt</a>, <a href="#773053" title="Infer.this.global.Symbol">best</a>)) <a href="#773054" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#773053" title="Infer.this.global.Symbol">best</a>)
        <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="772989">competing</a> = <a href="#772984" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts1</a> dropWhile (<a title="Infer.this.global.Symbol" id="773064">alt</a> =&gt; <a href="#772988" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#773064" title="Infer.this.global.Symbol">alt</a> || <a href="#772987" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#772988" title="Infer.this.global.Symbol">best</a>, <a href="#773064" title="Infer.this.global.Symbol">alt</a>))
        <span title="Unit" class="keyword">if</span> (<a href="#772988" title="(x$1: AnyRef)Boolean">best</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
            <a href="#261387" title="Infer.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> Select(<a title="Infer.this.global.Tree" id="773089">qual</a>, _) =&gt;
                <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;qual: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773089" title="Infer.this.global.Tree">qual</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773089" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with decls &quot;)" class="string">&quot; with decls &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773089" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Infer.this.global.Scope">decls</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#773089" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30213" title="=&gt; List[Infer.this.global.Symbol]">members</a> <span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; with members &quot;)" class="string">&quot; with members &quot;</span> + <a href="#773089" title="Infer.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30217" title="(name: Infer.this.global.Name)Infer.this.global.Symbol">member</a>(<a href="../symtab/Names.scala.html#26048" title="(s: String)Infer.this.global.Name">newTermName</a>(<span title="java.lang.String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span>)))
              <span title="Unit" class="keyword">case</span> _ =&gt;
            }
          }
          <a href="#48743" title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit">(</span><a href="#261387" title="Infer.this.global.Tree">tree</a>, <a href="#261387" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#261388" title="Infer.this.global.Type">pt</a>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#772989" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="#772986" title="Boolean">secondTry</a>) {
            <a href="#48743" title="(tree: Infer.this.global.Tree,found: Infer.this.global.Type,req: Infer.this.global.Type)Infer.this.global.Tree">typeErrorTree</a><span title="Unit">(</span><a href="#261387" title="Infer.this.global.Tree">tree</a>, <a href="#261387" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>, <a href="#261388" title="Infer.this.global.Type">pt</a>)
          } <span class="keyword">else</span> {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#261388" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>)
              <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48446" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol,rest: String)Unit">ambiguousError</a>(<a href="#261387" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#772978" title="Infer.this.global.Type">pre</a>, <a href="#772988" title="Infer.this.global.Symbol">best</a>, <a href="#772989" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;expected type &quot;</span> + <a href="#261388" title="Infer.this.global.Type">pt</a>)
            <a href="#48731" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a><span title="Unit">(</span><a href="#261387" title="Infer.this.global.Tree">tree</a>)
          }
        } <span class="keyword">else</span> {
//          val applicable = alts1 filter (alt =&gt; 
//            global.typer.infer.isWeaklyCompatible(pre.memberType(alt), pt))
//          checkNotShadowed(tree.pos, pre, best, applicable)
          <a href="#261387" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#772988" title="Infer.this.global.Symbol">best</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#772978" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#772988" title="Infer.this.global.Symbol">best</a>))
        }
      }
    }

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of an alternative which is applicable
     *  to &lt;code&gt;argtpes&lt;/code&gt;, and whose result type is compatible with `pt'.
     *  If several applicable alternatives exist, drop the alternatives which use
     *  default arguments, then select the most specialized one.
     *  If no applicable alternative exists, and pt != WildcardType, try again
     *  with pt = WildcardType.
     *  Otherwise, if there is no best alternative, error.
     *
     *  @param argtpes contains the argument types. If an argument is named, as
     *    &quot;a = 3&quot;, the corresponding type is `NamedType(&quot;a&quot;, Int)'. If the name
     *    of some NamedType does not exist in an alternative's parameter names,
     *    the type is replaces by `Unit', i.e. the argument is treated as an
     *    assignment expression.
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],argtpes: List[Infer.this.global.Type],pt0: Infer.this.global.Type)Unit" id="48800">inferMethodAlternative</a>(<a title="Infer.this.global.Tree" id="270575">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Symbol]" id="270576">undetparams</a>: <span title="List[Infer.this.global.Symbol]">List</span>[Symbol],
                               <a title="List[Infer.this.global.Type]" id="270577">argtpes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type], <a title="Infer.this.global.Type" id="270578">pt0</a>: <a href="../symtab/Types.scala.html#26205" title="Infer.this.global.Type">Type</a>): <span title="Unit">Unit</span> = <a href="#270575" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="773152">pre</a>, <a title="List[Infer.this.global.Symbol]" id="773153">alts</a>) =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Type" id="773156">pt</a> = <span title="Infer.this.global.Type" class="keyword">if</span> (<a href="#270578" title="Infer.this.global.Type">pt0</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Infer.this.global.Symbol">UnitClass</a>) <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a> <span class="keyword">else</span> <a href="#270578" title="Infer.this.global.Type">pt0</a>
        <a href="#48801" title="(infer: =&gt; Unit)Unit">tryTwice</a> {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;infer method alt &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#270575" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Infer.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with alternatives &quot;)" class="string">&quot; with alternatives &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                (<a href="#773153" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,Any,List[Infer.this.global.Symbol]])Any">alts</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> <a href="#773152" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>) <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, argtpes = &quot;)" class="string">&quot;, argtpes = &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span>+ <a href="#773156" title="Infer.this.global.Type">pt</a>)

          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="773164">allApplicable</a> = <a href="#773153" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">alts</a> filter (<a title="Infer.this.global.Symbol" id="773279">alt</a> =&gt;
            <a href="#48763" title="(undetparams: List[Infer.this.global.Symbol],ftpe: Infer.this.global.Type,argtpes0: List[Infer.this.global.Type],pt: Infer.this.global.Type)Boolean">isApplicable</a>(<a href="#270576" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#48760" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#773152" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773279" title="Infer.this.global.Symbol">alt</a>)), <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#773156" title="Infer.this.global.Type">pt</a>))

          // if there are multiple, drop those that use a default
          // (keep those that use vararg / tupling conversion)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="773165">applicable</a> =
            <span title="List[Infer.this.global.Symbol]" class="keyword">if</span> (<a href="#773164" title="List[Infer.this.global.Symbol]">allApplicable</a>.<span title="(x$1: Int)Boolean">length</span> &lt;= <span title="Int(1)" class="int">1</span>) <a href="#773164" title="List[Infer.this.global.Symbol]">allApplicable</a>
            <span class="keyword">else</span> <a href="#773164" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">allApplicable</a> filter (<a title="Infer.this.global.Symbol" id="773297">alt</a> =&gt; {
              <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="773298">mtypes</a> = <a href="#48760" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#773297" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>) <span title="List[Infer.this.global.Type]" class="keyword">match</span> {
                <span title="List[Infer.this.global.Type]" class="keyword">case</span> OverloadedType(_, <a title="List[Infer.this.global.Symbol]" id="773303">alts</a>) =&gt;
                  // for functional values, the `apply' method might be overloaded
                  <a href="#773303" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">alts</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#773314" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>)
                <span title="List[Infer.this.global.Type]" class="keyword">case</span> <a title="Infer.this.global.Type" id="773392">t</a> =&gt; <span title="(xs: Infer.this.global.Type*)List[Infer.this.global.Type]">List</span>(<a href="#773392" title="Infer.this.global.Type">t</a>)
              }
              <a href="#773298" title="List[Infer.this.global.Type]">mtypes</a>.<span title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">exists</span>(<a title="Infer.this.global.Type" id="773406">t</a> =&gt; <a href="#773406" title="Infer.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[Infer.this.global.Type]">paramTypes</a>.<a title="(x$1: Int)Boolean" id="2956">length</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span> || // tupling (*)
                                 <a href="#48761" title="(tp: Infer.this.global.Type,n: Int)Boolean">hasExactlyNumParams</a>(<a href="#773406" title="Infer.this.global.Type">t</a>, <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>.<span title="=&gt; Int">length</span>)) // same nb or vararg
              // (*) more arguments than parameters, but still applicable: tuplig conversion works.
              //     todo: should not return &quot;false&quot; when paramTypes = (Unit) no argument is given
              //     (tupling would work)
            })

          <span class="keyword">def</span> <a title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean" id="773166">improves</a>(<a title="Infer.this.global.Symbol" id="773422">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>, <a title="Infer.this.global.Symbol" id="773423">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) =
            <a href="#773423" title="(x$1: AnyRef)Boolean">sym2</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#773423" title="Infer.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26921" title="=&gt; Boolean">isError</a> ||
            <a href="#48768" title="(ftpe1: Infer.this.global.Type,ftpe2: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#48760" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#773152" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773422" title="Infer.this.global.Symbol">sym1</a>)),
                                   <a href="#48760" title="(tp: Infer.this.global.Type)Infer.this.global.Type">followApply</a>(<a href="#773152" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773423" title="Infer.this.global.Symbol">sym2</a>)), <a href="#773422" title="Infer.this.global.Symbol">sym1</a>, <a href="#773423" title="Infer.this.global.Symbol">sym2</a>)

          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="773167">best</a> = ((<a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>: <a href="../symtab/Symbols.scala.html#26127" title="Infer.this.global.Symbol">Symbol</a>) <a href="#773446" title="Infer.this.global.Symbol">/:</a> <a href="#773165" title="(z: Infer.this.global.Symbol)(op: (Infer.this.global.Symbol, Infer.this.global.Symbol) =&gt; Infer.this.global.Symbol)Infer.this.global.Symbol">applicable</a>) ((<a title="Infer.this.global.Symbol" id="773458">best</a>, <a title="Infer.this.global.Symbol" id="773459">alt</a>) =&gt;
            <span title="Infer.this.global.Symbol" class="keyword">if</span> (<a href="#773166" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#773459" title="Infer.this.global.Symbol">alt</a>, <a href="#773458" title="Infer.this.global.Symbol">best</a>)) <a href="#773459" title="Infer.this.global.Symbol">alt</a> <span class="keyword">else</span> <a href="#773458" title="Infer.this.global.Symbol">best</a>)
          <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="773168">competing</a> = <a href="#773165" title="List[Infer.this.global.Symbol]">applicable</a>.<span title="(p: (Infer.this.global.Symbol) =&gt; Boolean)List[Infer.this.global.Symbol]">dropWhile</span>(<a title="Infer.this.global.Symbol" id="773468">alt</a> =&gt; <a href="#773167" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#773468" title="Infer.this.global.Symbol">alt</a> || <a href="#773166" title="(sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol)Boolean">improves</a>(<a href="#773167" title="Infer.this.global.Symbol">best</a>, <a href="#773468" title="Infer.this.global.Symbol">alt</a>))
          <span title="Unit" class="keyword">if</span> (<a href="#773167" title="(x$1: AnyRef)Boolean">best</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
            <span title="Unit" class="keyword">if</span> (<a href="#773156" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>) {
              <a href="#48741" title="(tree: Infer.this.global.Tree,msg: String)Infer.this.global.Tree">errorTree</a><span title="Unit">(</span><a href="#270575" title="Infer.this.global.Tree">tree</a>, <a href="#48736" title="(tree: Infer.this.global.Tree,msg: String,argtpes: List[Infer.this.global.Type],pt: Infer.this.global.Type)java.lang.String">applyErrorMsg</a>(<a href="#270575" title="Infer.this.global.Tree">tree</a>, <span title="java.lang.String(&quot; cannot be applied to &quot;)" class="string">&quot; cannot be applied to &quot;</span>, <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>, <a href="#773156" title="Infer.this.global.Type">pt</a>))
            } <span class="keyword">else</span> {
              <a href="#48800" title="(tree: Infer.this.global.Tree,undetparams: List[Infer.this.global.Symbol],argtpes: List[Infer.this.global.Type],pt0: Infer.this.global.Type)Unit">inferMethodAlternative</a>(<a href="#270575" title="Infer.this.global.Tree">tree</a>, <a href="#270576" title="List[Infer.this.global.Symbol]">undetparams</a>, <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>, <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>)
            }
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#773168" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Boolean">isEmpty</span>) {
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="#270577" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">argtpes</a> exists (<a href="#773503" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>)) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#773156" title="Infer.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>)
              <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48446" title="(pos: scala.tools.nsc.util.Position,pre: Infer.this.global.Type,sym1: Infer.this.global.Symbol,sym2: Infer.this.global.Symbol,rest: String)Unit">ambiguousError</a>(<a href="#270575" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#773152" title="Infer.this.global.Type">pre</a>, <a href="#773167" title="Infer.this.global.Symbol">best</a>, <a href="#773168" title="List[Infer.this.global.Symbol]">competing</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>,
                                     <span title="(x$1: Any)java.lang.String" class="string">&quot;argument types &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#270577" title="List[Infer.this.global.Type]">argtpes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>) + 
                                     (<span title="Any" class="keyword">if</span> (<a href="#773156" title="(x$1: AnyRef)Boolean">pt</a> == <a href="../symtab/Types.scala.html#26219" title="object Infer.this.global.WildcardType">WildcardType</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot; and expected result type &quot;</span> + <a href="#773156" title="Infer.this.global.Type">pt</a>))
            <a href="#48731" title="(tree: Infer.this.global.Tree)Infer.this.global.Tree">setError</a>(<a href="#270575" title="Infer.this.global.Tree">tree</a>)
            <span title="Unit">(</span>)
          } <span class="keyword">else</span> {
//            checkNotShadowed(tree.pos, pre, best, applicable)
            <a href="#270575" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#773167" title="Infer.this.global.Symbol">best</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#773152" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773167" title="Infer.this.global.Symbol">best</a>))
          }
        }
      <span title="Unit" class="keyword">case</span> _ =&gt;
    }

    /** Try inference twice, once without views and once with views,
     *  unless views are already disabled.
     *
     *  @param infer ...
     */
    <span class="keyword">def</span> <a title="(infer: =&gt; Unit)Unit" id="48801">tryTwice</a>(<a title="=&gt; Unit" id="772982">infer</a>: =&gt; Unit) {
      <span title="Unit" class="keyword">if</span> (<a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48413" title="=&gt; Boolean">implicitsEnabled</a>) {
        <span class="keyword">val</span> <a title="Boolean" id="773551">reportGeneralErrors</a> = <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48407" title="=&gt; Boolean">reportGeneralErrors</a>
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48408" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48414" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">try</span> {
          <a href="#772982" title="=&gt; Unit">infer</a>
        } <span class="keyword">catch</span> {
          <span title="Nothing" class="keyword">case</span> <a title="Infer.this.global.CyclicReference" id="773556">ex</a>: <a href="../symtab/Symbols.scala.html#26138" title="Infer.this.global.CyclicReference">CyclicReference</a> =&gt; 
            <span title="Nothing" class="keyword">throw</span> <a href="#773556" title="Infer.this.global.CyclicReference">ex</a>
          <span title="Unit" class="keyword">case</span> <a title="Infer.this.global.TypeError" id="773557">ex</a>: <a href="../symtab/Types.scala.html#26459" title="Infer.this.global.TypeError">TypeError</a> =&gt;
            <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48408" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#773551" title="Boolean">reportGeneralErrors</a>
            <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48414" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#772982" title="=&gt; Unit">infer</a>
        }
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48408" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#773551" title="Boolean">reportGeneralErrors</a>
        <a href="#48806" title="Infer.this.Context">context</a>.<a href="Contexts.scala.html#48414" title="(x$1: Boolean)Unit">implicitsEnabled</a> = <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">else</span> <a href="#772982" title="=&gt; Unit">infer</a>
    }

    /** Assign &lt;code&gt;tree&lt;/code&gt; the type of unique polymorphic alternative
     *  with &lt;code&gt;nparams&lt;/code&gt; as the number of type parameters, if it exists.
     *  If several or none such polymorphic alternatives exist, error.
     *
     *  @param tree ...
     *  @param nparams ...
     */
    <span class="keyword">def</span> <a title="(tree: Infer.this.global.Tree,argtypes: List[Infer.this.global.Type])Unit" id="48802">inferPolyAlternatives</a>(<a title="Infer.this.global.Tree" id="276525">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Infer.this.global.Tree">Tree</a>, <a title="List[Infer.this.global.Type]" id="276526">argtypes</a>: <span title="List[Infer.this.global.Type]">List</span>[Type]): <span title="Unit">Unit</span> = <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Infer.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> OverloadedType(<a title="Infer.this.global.Type" id="773568">pre</a>, <a title="List[Infer.this.global.Symbol]" id="773569">alts</a>) =&gt;
        <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="773572">sym0</a> = <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../symtab/Symbols.scala.html#27026" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">symbol</a> filter { <a title="Infer.this.global.Symbol" id="773575">alt</a> =&gt; <a href="#773575" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#276526" title="List[Infer.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span> }
        <span title="Unit" class="keyword">if</span> (<a href="#773572" title="(x$1: AnyRef)Boolean">sym0</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
          <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
            <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
            <span title="String" class="keyword">if</span> (<a href="#773569" title="(p: (Infer.this.global.Symbol) =&gt; Boolean)Boolean">alts</a> exists (<a title="Infer.this.global.Symbol" id="773596">alt</a> =&gt; <a href="#773596" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <span title="Int(0)" class="int">0</span>))
              <span title="(x$1: Any)java.lang.String" class="string">&quot;wrong number of type parameters for &quot;</span> + <a href="#48735" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a>(<a href="#276525" title="Infer.this.global.Tree">tree</a>)
            <span class="keyword">else</span> <a href="#48735" title="(tree: Infer.this.global.Tree)String">treeSymTypeMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#276525" title="Infer.this.global.Tree">tree</a>) + <span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span>)
          <span title="Nothing" class="keyword">return</span>
        }
        <span title="Unit" class="keyword">if</span> (<a href="#773572" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>)) {
          <span class="keyword">val</span> <a title="Infer.this.global.Symbol" id="773618">sym</a> = <a href="../symtab/Symbols.scala.html#27026" title="(cond: (Infer.this.global.Symbol) =&gt; Boolean)Infer.this.global.Symbol">sym0</a> filter { <a title="Infer.this.global.Symbol" id="773621">alt</a> =&gt; <a href="../symtab/Types.scala.html#26427" title="(pre: Infer.this.global.Type,owner: Infer.this.global.Symbol,tparams: List[Infer.this.global.Symbol],targs: List[Infer.this.global.Type])Boolean">isWithinBounds</a>(<a href="#773568" title="Infer.this.global.Type">pre</a>, <a href="#773621" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>, <a href="#773621" title="Infer.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>, <a href="#276526" title="List[Infer.this.global.Type]">argtypes</a>) }
          <span title="Unit" class="keyword">if</span> (<a href="#773618" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Infer.this.global.NoSymbol">NoSymbol</a>) {
            <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#276526" title="(p: (Infer.this.global.Type) =&gt; Boolean)Boolean">argtypes</a> exists (<a href="#773640" title="Infer.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>))) {
              <a href="#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
                <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>,
                <span title="(x$1: Any)java.lang.String" class="string">&quot;type arguments &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#276526" title="List[Infer.this.global.Type]">argtypes</a>.<span title="(start: String,sep: String,end: String)String">mkString</span>(<span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span> 
                <span title="java.lang.String(&quot; conform to the bounds of none of the overloaded alternatives of\012 &quot;)" class="string">&quot; conform to the bounds of none of the overloaded alternatives of\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#773572" title="Infer.this.global.Symbol">sym0</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>+<a href="#773572" title="Infer.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Infer.this.global.Type">info</a>)
              <span title="Nothing" class="keyword">return</span>
            }
          }
          <span title="Unit" class="keyword">if</span> (<a href="#773618" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>)) {
            <span class="keyword">val</span> <a title="List[Infer.this.global.Symbol]" id="773665">tparams</a> = <span title="Infer.this.global.AsSeenFromMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#26338" title="Infer.this.global.AsSeenFromMap">AsSeenFromMap</a>(<a href="#773568" title="Infer.this.global.Type">pre</a>, <a href="#773618" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Infer.this.global.Symbol">owner</a>).<a href="../symtab/Types.scala.html#42725" title="(origSyms: List[Infer.this.global.Symbol])List[Infer.this.global.Symbol]">mapOver</a>(
              <a href="#773618" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>.<span title="=&gt; Infer.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27016" title="=&gt; List[Infer.this.global.Symbol]">typeParams</a>)
            <span class="keyword">val</span> <a title="List[Infer.this.global.Type]" id="773666">bounds</a> = <a href="#773665" title="(f: (Infer.this.global.Symbol) =&gt; Infer.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List[Infer.this.global.Symbol]])List[Infer.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Infer.this.global.Type,List[Infer.this.global.Type],List#Coll]">map</span> (<a href="#773716" title="Infer.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Infer.this.global.Type">tpe</a>)  //@M TODO: might be affected by change to tpe in Symbol
            <span class="keyword">val</span> <a title="Infer.this.global.PolyType" id="773667">tpe</a> = 
              <a href="../symtab/Types.scala.html#43825" title="(typeParams: List[Infer.this.global.Symbol],resultType: Infer.this.global.Type)Infer.this.global.PolyType">PolyType</a>(<a href="#773665" title="List[Infer.this.global.Symbol]">tparams</a>, 
                       <a href="../symtab/Types.scala.html#258673" title="(pre: Infer.this.global.Type,alternatives: List[Infer.this.global.Symbol])Infer.this.global.OverloadedType">OverloadedType</a>(<a href="../symtab/Types.scala.html#671449" title="(pre: Infer.this.global.Type,targs: List[Infer.this.global.Type])Infer.this.global.AntiPolyType">AntiPolyType</a>(<a href="#773568" title="Infer.this.global.Type">pre</a>, <a href="#773666" title="List[Infer.this.global.Type]">bounds</a>), <a href="#773618" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Infer.this.global.Symbol]">alternatives</a>))
            <a href="#773618" title="Infer.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: Infer.this.global.Type)sym.type">setInfo</a>(<a href="#773667" title="Infer.this.global.PolyType">tpe</a>)
            <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#773618" title="Infer.this.global.Symbol">sym</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#773667" title="Infer.this.global.PolyType">tpe</a>)
          } <span class="keyword">else</span> {
            <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#773618" title="Infer.this.global.Symbol">sym</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#773568" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773618" title="Infer.this.global.Symbol">sym</a>))
          }
        } <span class="keyword">else</span> {
          <a href="#276525" title="Infer.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29369" title="(sym: Infer.this.global.Symbol)tree.type">setSymbol</a>(<a href="#773572" title="Infer.this.global.Symbol">sym0</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Infer.this.global.Type)tree.type">setType</a><span title="Unit">(</span><a href="#773568" title="Infer.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Infer.this.global.Symbol)Infer.this.global.Type">memberType</a>(<a href="#773572" title="Infer.this.global.Symbol">sym0</a>))
        }
    }
  }
}


        </pre>
    </body>
</html>