<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Implicits.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Typers.scala 17229 2009-03-02 19:09:42Z extempore $

//todo: rewrite or disllow new T where T is a mixin (currently: &lt;init&gt; not a member of T)
//todo: use inherited type info also for vars and values
//todo: disallow C#D in superclass
//todo: treat :::= correctly
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable.{LinkedHashMap, ListBuffer}
<span class="keyword">import</span> scala.tools.nsc.util.{HashSet, Position, Set, NoPosition, SourceFile}
<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> util.HashSet

/** This trait provides methods to find various kinds of implicits.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Implicits extends java.lang.Object with ScalaObject" id="16887">Implicits</a> <span title="ScalaObject">{</span> 
self: Analyzer =&gt;

  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="40193">traceImplicits</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">var</span> <a title="Long" id="40196">implicitTime</a> = <span title="Long(0L)" class="long">0L</span>  
  <span class="keyword">var</span> <a title="Long" id="40199">inscopeSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="40202">inscopeFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="40205">oftypeSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="40208">oftypeFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="40211">manifSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="40214">manifFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Int" id="40217">hits</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="40220">misses</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="40223">uncached</a> = <span title="Int(0)" class="int">0</span>

  /** Search for an implicit value. See the comment on `result` at the end of class `ImplicitSearch`
   *  for more info how the search is conducted. 
   *  @param tree             The tree for which the implicit needs to be inserted.
   *                          (the inference might instantiate some of the undetermined
   *                          type parameters of that tree.
   *  @param pt               The expected type of the implicit.
   *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
   *                          False iff we search for a view to find out
   *                          whether one type is coercible to another.
   *  @param isView           We are looking for a view
   *  @param context          The current context
   *  @return                 A search result
   */
  <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree,pt: Implicits.this.global.Type,reportAmbiguous: Boolean,isView: Boolean,context: Implicits.this.Context)Implicits.this.SearchResult" id="40225">inferImplicit</a>(<a title="Implicits.this.global.Tree" id="258853">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a>, <a title="Implicits.this.global.Type" id="258854">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="258855">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="258856">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="258857">context</a>: <a href="Contexts.scala.html#40053" title="Implicits.this.Context">Context</a>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">traceImplicits</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#258853" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29560" title="=&gt; Boolean">isEmpty</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#258857" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48680" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typing implicit with undetermined type params: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#258857" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48680" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>+<a href="#258853" title="Implicits.this.global.Tree">tree</a>)
    <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="749771">result</a> = <span title="Implicits.this.ImplicitSearch" class="keyword">new</span> <a href="#40238" title="Implicits.this.ImplicitSearch">ImplicitSearch</a>(<a href="#258853" title="Implicits.this.global.Tree">tree</a>, <a href="#258854" title="Implicits.this.global.Type">pt</a>, <a href="#258856" title="Boolean">isView</a>, <a href="#258857" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48692" title="(reportAmbiguousErrors: Boolean)Implicits.this.Context">makeImplicit</a>(<a href="#258855" title="Boolean">reportAmbiguous</a>)).<a href="#558833" title="=&gt; Implicits.this.SearchResult">bestImplicit</a>
    <a href="#258857" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48681" title="(ps: List[Implicits.this.global.Symbol])Unit">undetparams</a> = <a href="#258857" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48680" title="(p: (Implicits.this.global.Symbol) =&gt; Boolean)List[Implicits.this.global.Symbol]">undetparams</a> filterNot (<a href="#749771" title="Implicits.this.SearchResult">result</a>.<a href="#259068" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#259071" title="(elem: Any)Boolean">from</a> contains <a href="#749796" title="Implicits.this.global.Symbol">_</a>)
    <a href="#749771" title="Implicits.this.SearchResult">result</a>
  }

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50000)" id="40226">sizeLimit</a> = <span title="Int(50000)" class="int">50000</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]" id="40228">implicitsCache</a> = <span title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">LinkedHashMap</span>[AnyRef, SearchResult]

  <span class="keyword">def</span> <a title="()Unit" id="40230">resetImplicits</a>() { <a href="#40228" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="()Unit" id="148849">clear</a>() }

  /** If type `pt` an instance of Manifest or OptManifest, or an abstract type lower-bounded
   *  by such an instance?
   */
  <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Boolean" id="40231">isManifest</a>(<a title="Implicits.this.global.Type" id="263131">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#263131" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30393" title="=&gt; Implicits.this.global.Type">dealias</a> <span title="Boolean" class="keyword">match</span> {
    <span title="Boolean(true)" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28594" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>, <a href="#749809" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) | 
         TypeRef(_, <a href="../symtab/Definitions.scala.html#28598" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a>, <a href="#749825" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) |
         TypeRef(_, <a href="../symtab/Definitions.scala.html#28602" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>, <a href="#749841" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Implicits.this.global.Symbol" id="749856">tsym</a>, _) =&gt; <a href="#749856" title="Implicits.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#27059" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <a href="#40231" title="(pt: Implicits.this.global.Type)Boolean">isManifest</a>(<a href="#263131" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; Implicits.this.global.Type">lo</a>)
    <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
  }

  /** The result of an implicit search
   *  @param  tree    The tree representing the implicit
   *  @param  subst   A substituter that represents the undetermined type parameters
   *                  that were instantiated by the winning implicit.
   */
  <span class="keyword">class</span> <a title="class SearchResult extends java.lang.Object with ScalaObject" id="40232">SearchResult</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="259067">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a>, <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="259068">subst</a>: <a href="../ast/Trees.scala.html#26935" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="258874">toString</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;SearchResult(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#259067" title="=&gt; Implicits.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#259068" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  }

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="40234">SearchFailure</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>(<a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#26936" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a>)

  /** A class that records an available implicit
   *  @param   name   The name of the implicit
   *  @param   pre    The prefix type of the implicit
   *  @param   sym    The symbol of the implicit
   */
  <span class="keyword">class</span> <a title="class ImplicitInfo extends java.lang.Object with ScalaObject" id="40235">ImplicitInfo</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Implicits.this.global.Name" id="749751">name</a>: <a href="../symtab/Names.scala.html#26214" title="Implicits.this.global.Name">Name</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="749752">pre</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="749753">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a>) {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Implicits.this.global.Type" id="749745">tpeCache</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>

    /** Computes member type of implicit from prefix `pre` (cached). */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.global.Type" id="749747">tpe</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="#749745" title="(x$1: AnyRef)Boolean">tpeCache</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="#749745" title="(x$1: Implicits.this.global.Type)Unit">tpeCache</a> = <a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Implicits.this.global.Symbol)Implicits.this.global.Type">memberType</a>(<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>)
      <a href="#749745" title="=&gt; Implicits.this.global.Type">tpeCache</a>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="749748">equals</a>(<a title="Any" id="749895">other</a>: <a title="Any" id="49">Any</a>) = <a href="#749895" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> <a title="Implicits.this.ImplicitInfo" id="749898">that</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a> =&gt;
        <span title="Boolean" class="keyword">if</span> (<a href="#40235" title="(x$1: AnyRef)Boolean" class="keyword">this</a> eq <a href="#40236" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) <a href="#749898" title="(x$1: AnyRef)Boolean">that</a> eq <a href="#40235" title="Implicits.this.ImplicitInfo" class="keyword">this</a>
        <span class="keyword">else</span> 
          <a href="#40235" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#749751" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#749898" title="Implicits.this.ImplicitInfo">that</a>.<a href="#749751" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
          <a href="#40235" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="../symtab/Types.scala.html#30422" title="(that: Implicits.this.global.Type)Boolean">pre</a> =:= <a href="#749898" title="Implicits.this.ImplicitInfo">that</a>.<a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a> &amp;&amp;
          <a href="#40235" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#749753" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#749898" title="Implicits.this.ImplicitInfo">that</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; 
        <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="749749">hashCode</a> = 
      <a href="#749751" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28393" title="(x$1: Int)Int">hashCode</a> <span title="(x$1: Int)Int">+</span> <a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a>.<span title="()Int">hashCode</span> + <a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>.<span title="()Int">hashCode</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="749750">toString</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;ImplicitInfo(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#749751" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  }

  /** A sentinel indicating no implicit was found */
  <span class="keyword">val</span> <a title="Implicits.this.ImplicitInfo" id="40236">NoImplicitInfo</a> = <span title="Implicits.this.ImplicitInfo" class="keyword">new</span> <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>(<span title="Null(null)" class="keyword">null</span>, <a href="../symtab/Types.scala.html#26383" title="object Implicits.this.global.NoType">NoType</a>, <a href="../symtab/Symbols.scala.html#26293" title="object Implicits.this.global.NoSymbol">NoSymbol</a>)

  /** A class that sets up an implicit search. For more info, see comments for `inferImplicit`.
   *  @param tree             The tree for which the implicit needs to be inserted.
   *  @param pt               The original expected type of the implicit.
   *  @param isView           We are looking for a view
   *  @param context0         The context used for the implicit search
   */
  <span class="keyword">class</span> <a title="class ImplicitSearch extends Implicits.this.Typer with ScalaObject" id="40238">ImplicitSearch</a><span title="ScalaObject">(</span><a title="Implicits.this.global.Tree" id="558835">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a>, <a title="Implicits.this.global.Type" id="558836">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="558837">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="558838">context0</a>: <a href="Contexts.scala.html#40053" title="Implicits.this.Context">Context</a>) 
    <span class="keyword">extends</span> <a href="Typers.scala.html#40153" title="Implicits.this.Typer">Typer</a>(<a href="#558838" title="Implicits.this.Context">context0</a>) {

//    assert(tree.isEmpty || tree.pos.isDefined, tree)

    <span class="keyword">import</span> infer._

    /** Is implicit info `info1` better than implicit info `info2`?
     */
    <span class="keyword">def</span> <a title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean" id="558812">improves</a>(<a title="Implicits.this.ImplicitInfo" id="749991">info1</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Implicits.this.ImplicitInfo" id="749992">info2</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>) =
      <span title="(x$1: Boolean)Boolean">(</span><a href="#749992" title="(x$1: AnyRef)Boolean">info2</a> == <a href="#40236" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) ||
      <span title="(x$1: Boolean)Boolean">(</span><a href="#749991" title="(x$1: AnyRef)Boolean">info1</a> != <a href="#40236" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) &amp;&amp;
      <a href="Infer.scala.html#49021" title="(ftpe1: Implicits.this.global.Type,ftpe2: Implicits.this.global.Type,sym1: Implicits.this.global.Symbol,sym2: Implicits.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#749991" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#749992" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#749991" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>, <a href="#749992" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>)

    /** Map all type params in given list to WildcardType
     *  @param   tp  The type in which to do the mapping
     *  @param   tparams  The list of type parameters to map
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,tparams: List[Implicits.this.global.Symbol])Implicits.this.global.Type" id="558813">tparamsToWildcards</a>(<a title="Implicits.this.global.Type" id="750022">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="750023">tparams</a>: <span title="List[Implicits.this.global.Symbol]">List</span>[Symbol]) =
      <a href="#750022" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#750023" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#750023" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="750036">t</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Implicits.this.global.WildcardType">WildcardType</a>))

    /* Map a polytype to one in which all type parameters are replaced by wildcards.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="558814">depoly</a>(<a title="Implicits.this.global.Type" id="750063">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a> = <a href="#750063" title="Implicits.this.global.Type">tp</a> <span title="Implicits.this.global.Type" class="keyword">match</span> {
      <span title="Implicits.this.global.Type" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="750067">tparams</a>, <a title="Implicits.this.global.Type" id="750068">restpe</a>) =&gt; <a href="#558813" title="(tp: Implicits.this.global.Type,tparams: List[Implicits.this.global.Symbol])Implicits.this.global.Type">tparamsToWildcards</a>(<a href="#750068" title="Implicits.this.global.Type">restpe</a>, <a href="#750067" title="List[Implicits.this.global.Symbol]">tparams</a>)
      <span title="Implicits.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#750063" title="Implicits.this.global.Type">tp</a>
    }

    /** Does type `tp` contain an Error type as parameter or result?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="558815">containsError</a>(<a title="Implicits.this.global.Type" id="750073">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#750073" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="750077">tparams</a>, <a title="Implicits.this.global.Type" id="750078">restpe</a>) =&gt; <a href="#558815" title="(tp: Implicits.this.global.Type)Boolean">containsError</a>(<a href="#750078" title="Implicits.this.global.Type">restpe</a>)
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Implicits.this.global.Symbol]" id="750085">params</a>, <a title="Implicits.this.global.Type" id="750086">restpe</a>) =&gt; <span title="(x$1: Boolean)Boolean">(</span><a href="#750085" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">params</a> <span title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">map</span> (<a href="#750097" title="Implicits.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Implicits.this.global.Type">tpe</a>) exists (<a href="#750186" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30394" title="=&gt; Boolean">isError</a>)) || <a href="#558815" title="(tp: Implicits.this.global.Type)Boolean">containsError</a>(<a href="#750086" title="Implicits.this.global.Type">restpe</a>)
      <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#750073" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30394" title="=&gt; Boolean">isError</a>
    }

    /** Does type `dtor` dominate type `dted`?
     *  This is the case if the stripped cores `dtor1` and `dted1` of both types are
     *  the same wrt `=:=`, or if they overlap and the complexity of `dtor1` is higher
     *  than the complexity of `dted1`.
     *  The _stripped core_ of a type is the type where
     *   - all refinements and annotations are dropped,
     *   - all universal and existential quantification is eliminated
     *     by replacing variables by their upper bounds,
     *   - all remaining free type parameters in the type are replaced by WildcardType.
     *  The _complexity_ of a stripped core type corresponds roughly to the number of
     *  nodes in its ast, except that singleton types are widened befoe taking the complexity.
     *  Two types overlap if they have the same type symbol, or
     *  if one or both are intersection types with a pair of overlapiing parent types.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dtor: Implicits.this.global.Type,dted: Implicits.this.global.Type)Boolean" id="558816">dominates</a>(<a title="Implicits.this.global.Type" id="750193">dtor</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="750194">dted</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="750196">core</a>(<a title="Implicits.this.global.Type" id="750203">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a> = <a href="#750203" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Implicits.this.global.Type" class="keyword">match</span> {
        <span title="Implicits.this.global.Type" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="750206">parents</a>, <a title="Implicits.this.global.Scope" id="750207">defs</a>) =&gt; <a href="../symtab/Types.scala.html#26459" title="(tps: List[Implicits.this.global.Type],owner: Implicits.this.global.Symbol)Implicits.this.global.Type">intersectionType</a>(<a href="#750206" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">parents</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>, <a href="#750203" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Implicits.this.global.Symbol">owner</a>)
        <span title="Implicits.this.global.Type" class="keyword">case</span> AnnotatedType(<a title="List[Implicits.this.global.AnnotationInfo]" id="750291">annots</a>, <a title="Implicits.this.global.Type" id="750292">tp</a>, <a title="Implicits.this.global.Symbol" id="750293">selfsym</a>) =&gt; <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750292" title="Implicits.this.global.Type">tp</a>)
        <span title="Implicits.this.global.Type" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="750300">tparams</a>, <a title="Implicits.this.global.Type" id="750301">result</a>) =&gt; <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750301" title="Implicits.this.global.Type">result</a>).<a href="../symtab/Types.scala.html#30410" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#750300" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#750300" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="750316">t</a> =&gt; <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750316" title="Implicits.this.global.Symbol">t</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Implicits.this.global.Type">hi</a>)))
        <span title="Implicits.this.global.Type" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="750347">tparams</a>, <a title="Implicits.this.global.Type" id="750348">result</a>) =&gt; <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750348" title="Implicits.this.global.Type">result</a>).<a href="../symtab/Types.scala.html#30410" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#750347" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#750347" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="750363">t</a> =&gt; <a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750363" title="Implicits.this.global.Symbol">t</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Implicits.this.global.Type">hi</a>)))
        <span title="Implicits.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#750203" title="Implicits.this.global.Type">tp</a>
      }
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="750197">stripped</a>(<a title="Implicits.this.global.Type" id="750378">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a> = {
        <span class="keyword">val</span> <a title="List[Implicits.this.global.Symbol]" id="750379">tparams</a> = <a href="Infer.scala.html#49047" title="object ImplicitSearch.this.infer.freeTypeParametersNoSkolems">freeTypeParametersNoSkolems</a>.<a href="../symtab/Types.scala.html#45741" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Symbol]">collect</a>(<a href="#750378" title="Implicits.this.global.Type">tp</a>)
        <a href="#750378" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30410" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#750379" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#750379" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="750395">t</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Implicits.this.global.WildcardType">WildcardType</a>))
      }
      <span class="keyword">def</span> <a title="(xs: List[Int])Int" id="750198">sum</a>(<a title="List[Int]" id="750408">xs</a>: <span title="List[Int]">List</span>[Int]) = (<span title="Int(0)" class="int">0</span> <a href="#750409" title="Int">/:</a> <a href="#750408" title="(z: Int)(op: (Int, Int) =&gt; Int)Int">xs</a>)(<a href="#750421" title="(x$1: Int)Int">_</a> + <a href="#750422" title="Int">_</a>)
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Int" id="750199">complexity</a>(<a title="Implicits.this.global.Type" id="750447">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a title="Int" id="2198">Int</a> = <a href="#750447" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Int" class="keyword">match</span> {
        <span title="Int(0)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26385" title="object Implicits.this.global.NoPrefix">NoPrefix</a> =&gt;
          <span title="Int(0)" class="int">0</span>
        <span title="Int" class="keyword">case</span> SingleType(<a title="Implicits.this.global.Type" id="750450">pre</a>, <a title="Implicits.this.global.Symbol" id="750451">sym</a>) =&gt; 
          <span title="Int" class="keyword">if</span> (<a href="#750451" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27078" title="=&gt; Boolean">isPackage</a>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a>(<a href="#750447" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Implicits.this.global.Type">widen</a>)
        <span title="Int" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="750459">pre</a>, <a title="Implicits.this.global.Symbol" id="750460">sym</a>, <a title="List[Implicits.this.global.Type]" id="750461">args</a>) =&gt; 
          <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a><span title="(x$1: Int)Int">(</span><a href="#750459" title="Implicits.this.global.Type">pre</a>) <span title="(x$1: Int)Int">+</span> <a href="#750198" title="(xs: List[Int])Int">sum</a>(<a href="#750461" title="(f: (Implicits.this.global.Type) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Type]])List[Int]">args</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a>) + <span title="Int(1)" class="int">1</span>
        <span title="Int" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="750533">parents</a>, _) =&gt; 
          <a href="#750198" title="(xs: List[Int])Int">sum</a><span title="(x$1: Int)Int">(</span><a href="#750533" title="(f: (Implicits.this.global.Type) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Type]])List[Int]">parents</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a>) + <span title="Int(1)" class="int">1</span>
        <span title="Int(1)" class="keyword">case</span> _ =&gt; 
          <span title="Int(1)" class="int">1</span>
      }
      <span class="keyword">def</span> <a title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean" id="750200">overlaps</a>(<a title="Implicits.this.global.Type" id="750581">tp1</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="750582">tp2</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a title="(_1: Implicits.this.global.Type,_2: Implicits.this.global.Type)(Implicits.this.global.Type, Implicits.this.global.Type)" id="1176">(</a><a href="#750581" title="Implicits.this.global.Type">tp1</a>, <a href="#750582" title="Implicits.this.global.Type">tp2</a>) <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> (RefinedType(<a title="List[Implicits.this.global.Type]" id="750595">parents</a>, _), _) =&gt; <a href="#750595" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a href="#750200" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a>(<a href="#750604" title="Implicits.this.global.Type">_</a>, <a href="#750582" title="Implicits.this.global.Type">tp2</a>))
        <span title="Boolean" class="keyword">case</span> (_, RefinedType(<a title="List[Implicits.this.global.Type]" id="750613">parents</a>, _)) =&gt; <a href="#750613" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a href="#750200" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a>(<a href="#750581" title="Implicits.this.global.Type">tp1</a>, <a href="#750622" title="Implicits.this.global.Type">_</a>))
        <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#750581" title="Implicits.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="#750582" title="Implicits.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>
      }
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="750201">dtor1</a> = <a href="#750197" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a>(<a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750193" title="Implicits.this.global.Type">dtor</a>))
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="750202">dted1</a> = <a href="#750197" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a>(<a href="#750196" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#750194" title="Implicits.this.global.Type">dted</a>))
      <a href="#750200" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a><span title="(x$1: Boolean)Boolean">(</span><a href="#750201" title="Implicits.this.global.Type">dtor1</a>, <a href="#750202" title="Implicits.this.global.Type">dted1</a>) &amp;&amp; (<a href="../symtab/Types.scala.html#30422" title="(that: Implicits.this.global.Type)Boolean">dtor1</a> <span title="(x$1: Boolean)Boolean">=:=</span> <a href="#750202" title="Implicits.this.global.Type">dted1</a> || <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a><a title="(x$1: Int)Boolean" id="2981">(</a><a href="#750201" title="Implicits.this.global.Type">dtor1</a>) &gt; <a href="#750199" title="(tp: Implicits.this.global.Type)Int">complexity</a>(<a href="#750202" title="Implicits.this.global.Type">dted1</a>))
    }

    <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14666" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#175458" title="=&gt; Boolean">enabled</a>) <a href="Typers.scala.html#40091" title="(x$1: Int)Unit">implcnt</a> += <span title="Int(1)" class="int">1</span>

    /** Issues an error signalling ambiguous implicits */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo,pre1: String,pre2: String,trailer: String)Unit" id="558817">ambiguousImplicitError</a>(<a title="Implicits.this.ImplicitInfo" id="750697">info1</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Implicits.this.ImplicitInfo" id="750698">info2</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, 
                               <a title="String" id="750699">pre1</a>: <span title="String">String</span>, <a title="String" id="750700">pre2</a>: <span title="String">String</span>, <a title="String" id="750701">trailer</a>: <span title="String">String</span>) =
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#750697" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#750698" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>) {
        <span class="keyword">val</span> <a title="java.lang.String" id="750706">coreMsg</a> = 
          <a href="#750699" title="(x$1: Any)java.lang.String">pre1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750697" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#750697" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750697" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 &quot;)" class="string">&quot;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
          <a href="#750700" title="String">pre2</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750698" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#750698" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750698" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 &quot;)" class="string">&quot;\n &quot;</span>+
          <a href="#750701" title="String">trailer</a>
        <a href="Infer.scala.html#48993" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
          <span title="String" class="keyword">if</span> (<a href="#558837" title="Boolean">isView</a>) {
            <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="750735">found</a> = <a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30378" title="(n: Int)Implicits.this.global.Type">typeArgs</a>(<span title="Int(0)" class="int">0</span>)
            <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="750736">req</a> = <a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30378" title="(n: Int)Implicits.this.global.Type">typeArgs</a>(<span title="Int(1)" class="int">1</span>)
            <a href="Infer.scala.html#48992" title="(found: Implicits.this.global.Type,req: Implicits.this.global.Type)java.lang.String">typeErrorMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#750735" title="Implicits.this.global.Type">found</a>, <a href="#750736" title="Implicits.this.global.Type">req</a>)<span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012Note that implicit conversions are not applicable because they are ambiguous:\012 &quot;)" class="string">&quot;\nNote that implicit conversions are not applicable because they are ambiguous:\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#750706" title="java.lang.String">coreMsg</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;are possible conversion functions from &quot;)" class="string">&quot;are possible conversion functions from &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#750735" title="Implicits.this.global.Type">found</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span>+<a href="#750736" title="Implicits.this.global.Type">req</a>
          } <span class="keyword">else</span> {
            <span title="(x$1: Any)java.lang.String" class="string">&quot;ambiguous implicit values:\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750706" title="java.lang.String">coreMsg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;match expected type &quot;)" class="string">&quot;match expected type &quot;</span>+<a href="#558836" title="Implicits.this.global.Type">pt</a>
          })
        }

    /** The type parameters to instantiate */
    <span class="keyword">val</span> <a title="List[Implicits.this.global.Symbol]" id="558818">undetParams</a> = <span title="List[Implicits.this.global.Symbol]" class="keyword">if</span> (<a href="#558837" title="Boolean">isView</a>) List<span title="object Nil">(</span>) <span class="keyword">else</span> <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48621" title="=&gt; Implicits.this.Context">outer</a>.<a href="Contexts.scala.html#48680" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>

    /** Try to construct a typed tree from given implicit info with given
     *  expected type.
     *  Detect infinite search trees for implicits.
     *
     *  @param info    The given implicit info describing the implicit definition
     *  @pre           &lt;code&gt;info.tpe&lt;/code&gt; does not contain an error
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="558820">typedImplicit</a>(<a title="Implicits.this.ImplicitInfo" id="750800">info</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> =
       <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48642" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Option[Implicits.this.global.Type]" id="29127">openImplicits</a> find (<a href="#558816" title="(dtor: Implicits.this.global.Type,dted: Implicits.this.global.Type)Boolean">dominates</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>, <a href="#750807" title="Implicits.this.global.Type">_</a>)) <span title="Implicits.this.SearchResult" class="keyword">match</span> {
         <span title="Implicits.this.SearchResult" class="keyword">case</span> Some(<a title="Implicits.this.global.Type" id="750813">pending</a>) =&gt;
           // println(&quot;Pending implicit &quot;+pending+&quot; dominates &quot;+pt+&quot;/&quot;+undetParams) //@MDEBUG
           <span title="Nothing" class="keyword">throw</span> <a href="#40239" title="=&gt; java.lang.Exception">DivergentImplicit</a>
           <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> 
         <span title="Implicits.this.SearchResult" class="keyword">case</span> <span title="object None">None</span> =&gt;
           <span class="keyword">try</span> {
             <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48643" title="(x$1: List[Implicits.this.global.Type])Unit">openImplicits</a> = <a href="#558836" title="Implicits.this.global.Type">pt</a> <a href="#750818" title="Implicits.this.global.Type">::</a> <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48642" title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">openImplicits</a>
             // println(&quot;  &quot;*context.openImplicits.length+&quot;typed implicit &quot;+info+&quot; for &quot;+pt) //@MDEBUG
             <a href="#558821" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">typedImplicit0</a>(<a href="#750800" title="Implicits.this.ImplicitInfo">info</a>)
           } <span class="keyword">catch</span> {
             <span title="Implicits.this.SearchResult" class="keyword">case</span> <a href="#40239" title="=&gt; java.lang.Exception">DivergentImplicit</a> =&gt; 
               // println(&quot;DivergentImplicit for pt:&quot;+ pt +&quot;, open implicits:&quot;+context.openImplicits) //@MDEBUG
               <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48642" title="=&gt; List[Implicits.this.global.Type]">openImplicits</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span>) {
                 <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30395" title="=&gt; Boolean">isErroneous</a>))
                   <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48609" title="=&gt; Implicits.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45687" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
                     <a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;diverging implicit expansion for type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558836" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012starting with &quot;)" class="string">&quot;\nstarting with &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                     <a href="#750800" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>+<a href="#750800" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a>)
                 <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
               } <span class="keyword">else</span> {
                 <span title="Nothing" class="keyword">throw</span> <a href="#40239" title="=&gt; java.lang.Exception">DivergentImplicit</a>
               }
           } <span class="keyword">finally</span> {
             <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48643" title="(x$1: List[Implicits.this.global.Type])Unit">openImplicits</a> = <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48642" title="=&gt; List[Implicits.this.global.Type]">openImplicits</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>
           }
       }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="558821">typedImplicit0</a>(<a title="Implicits.this.ImplicitInfo" id="750828">info</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = {

      /** Todo reconcile with definition of stability given in Types.scala */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="750848">isStable</a>(<a title="Implicits.this.global.Type" id="750851">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#750851" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="750855">pre</a>, <a title="Implicits.this.global.Symbol" id="750856">sym</a>, _) =&gt; 
          <a href="#750856" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27094" title="(x$1: Boolean)Boolean">isPackageClass</a> || 
          <a href="#750856" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27093" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#750848" title="(tp: Implicits.this.global.Type)Boolean">isStable</a>(<a href="#750855" title="Implicits.this.global.Type">pre</a>) /*||
          sym.isAliasType &amp;&amp; isStable(tp.normalize)*/
        <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#750851" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30361" title="=&gt; Boolean">isStable</a>
      }

      /** Replace undetParams in type `tp` by Any/Nothing, according to variance */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="750849">approximate</a>(<a title="Implicits.this.global.Type" id="750865">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>) = 
        <a href="#750865" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#558818" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#558818" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="750876">_</a> =&gt; <a href="../symtab/Types.scala.html#26378" title="object Implicits.this.global.WildcardType">WildcardType</a>))

      /** Instantiated `pt' so that undetermined type parameters are replaced by wildcards
       */
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="750850">wildPt</a> = <a href="#750849" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>)

      //if (traceImplicits) println(&quot;typed impl for &quot;+wildPt+&quot;? &quot;+info.name+&quot;:&quot;+info.tpe+&quot;/&quot;+undetParams)
      <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Infer.scala.html#49002" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isPlausiblyCompatible</a><span title="(x$1: Boolean)Boolean">(</span><a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#750850" title="Implicits.this.global.Type">wildPt</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="Infer.scala.html#49004" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isCompatible</a>(<a href="#558814" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">depoly</a>(<a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>), <a href="#750850" title="Implicits.this.global.Type">wildPt</a>) &amp;&amp; 
          <a href="#750848" title="(tp: Implicits.this.global.Type)Boolean">isStable</a>(<a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a>)) {

        <span class="keyword">val</span> <a title="Implicits.this.global.RefTree" id="750928">itree</a> = <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.RefTree)Implicits.this.global.RefTree">atPos</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30482" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
          <span title="Implicits.this.global.RefTree" class="keyword">if</span> (<a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749752" title="(x$1: AnyRef)Boolean">pre</a> == <a href="../symtab/Types.scala.html#26385" title="object Implicits.this.global.NoPrefix">NoPrefix</a>) <a href="../ast/Trees.scala.html#52132" title="(name: Implicits.this.global.Name)Implicits.this.global.Ident">Ident</a>(<a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749751" title="=&gt; Implicits.this.global.Name">name</a>)
          <span class="keyword">else</span> <a href="../ast/Trees.scala.html#50528" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42905" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749752" title="=&gt; Implicits.this.global.Type">pre</a>), <a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749751" title="=&gt; Implicits.this.global.Name">name</a>)
        }
        //if (traceImplicits) println(&quot;typed impl?? &quot;+info.name+&quot;:&quot;+info.tpe+&quot; ==&gt; &quot;+itree+&quot; with &quot;+wildPt)
        <span class="keyword">def</span> <a title="(reason: String)Implicits.this.SearchResult" id="750929">fail</a>(<a title="String" id="751041">reason</a>: <span title="String">String</span>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37289" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XlogImplicits</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39294" title="(msg: String)Unit">inform</a>(<a href="#750928" title="(other: String)java.lang.String" id="8172">itree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not a valid implicit value for &quot;)" class="string">&quot; is not a valid implicit value for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558836" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; because:\012&quot;)" class="string">&quot; because:\n&quot;</span>+<a href="#751041" title="String">reason</a>)
          <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        }
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="751071">itree1</a> = 
            <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#558837" title="Boolean">isView</a>)
              <a href="Typers.scala.html#42868" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a>(
                <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Apply)Implicits.this.global.Apply">atPos</a>(<a href="#750928" title="Implicits.this.global.RefTree">itree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) (
                  <a href="../ast/Trees.scala.html#49378" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.Apply">Apply</a>(<a href="#750928" title="Implicits.this.global.RefTree">itree</a>, <span title="(xs: Implicits.this.global.Ident*)List[Implicits.this.global.Ident]">List</span>(<a href="../ast/Trees.scala.html#52132" title="(name: Implicits.this.global.Name)Implicits.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name" class="string">&quot;&lt;argument&gt;&quot;</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: Implicits.this.global.Type)Implicits.this.global.Ident">setType</a>(<a href="#750849" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a>.<span title="=&gt; Implicits.this.global.Type">head</span>))))), 
                  <a href="Typers.scala.html#40116" title="=&gt; Int">EXPRmode</a>, <a href="#750849" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Implicits.this.global.Type">head</span>))
            <span class="keyword">else</span>
              <a href="Typers.scala.html#42868" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a>(<a href="#750928" title="Implicits.this.global.RefTree">itree</a>, <a href="Typers.scala.html#40116" title="=&gt; Int">EXPRmode</a>, <a href="#750850" title="Implicits.this.global.Type">wildPt</a>)

          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typed implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751071" title="Implicits.this.global.Tree">itree1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751071" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span>+<a href="#750850" title="Implicits.this.global.Type">wildPt</a>)
          <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="751072">itree2</a> = <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#558837" title="Boolean">isView</a>) (<a href="#751071" title="Implicits.this.global.Tree">itree1</a>: @<a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree @unchecked">unchecked</a>) <span title="Implicits.this.global.Tree" class="keyword">match</span> { <span title="Implicits.this.global.Tree" class="keyword">case</span> Apply(<a title="Implicits.this.global.Tree" id="751200">fun</a>, _) =&gt; <a href="#751200" title="Implicits.this.global.Tree">fun</a> }
                       <span class="keyword">else</span> <a href="Typers.scala.html#42825" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">adapt</a>(<a href="#751071" title="Implicits.this.global.Tree">itree1</a>, <a href="Typers.scala.html#40116" title="=&gt; Int">EXPRmode</a>, <a href="#750850" title="Implicits.this.global.Type">wildPt</a>)
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;adapted implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751071" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Implicits.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751072" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span>+<a href="#750850" title="Implicits.this.global.Type">wildPt</a>)
          <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="751073">hasMatchingSymbol</a>(<a title="Implicits.this.global.Tree" id="751222">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> = <span title="(x$1: Boolean)Boolean">(</span><a href="#751222" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>) || {
            <a href="#751222" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
              <span title="Boolean" class="keyword">case</span> Apply(<a title="Implicits.this.global.Tree" id="751232">fun</a>, _) =&gt; <a href="#751073" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#751232" title="Implicits.this.global.Tree">fun</a>)
              <span title="Boolean" class="keyword">case</span> TypeApply(<a title="Implicits.this.global.Tree" id="751239">fun</a>, _) =&gt; <a href="#751073" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#751239" title="Implicits.this.global.Tree">fun</a>)
              <span title="Boolean" class="keyword">case</span> Select(<a title="Implicits.this.global.Tree" id="751248">pre</a>, <a title="Implicits.this.global.Name" id="751249">name</a>) =&gt; <a href="#751249" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object Implicits.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; Implicits.this.global.Name">apply</a> &amp;&amp; <a href="#751248" title="Implicits.this.global.Tree">pre</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>
              <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
            }
          }

          <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#751072" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30394" title="=&gt; Boolean">isError</a>) <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
          <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#751073" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#751071" title="Implicits.this.global.Tree">itree1</a>)) {
            <span class="keyword">val</span> <a title="List[Implicits.this.global.TypeVar]" id="751271">tvars</a> = <a href="#558818" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.TypeVar,List[Implicits.this.global.TypeVar],List[Implicits.this.global.Symbol]])List[Implicits.this.global.TypeVar]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.TypeVar,List[Implicits.this.global.TypeVar],List#Coll]">map</span> <a href="Infer.scala.html#40175" title="(tparam: Implicits.this.global.Symbol)Implicits.this.global.TypeVar">freshVar</a>
            <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Infer.scala.html#49004" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isCompatible</a>(<a href="#751072" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30390" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#558818" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#751271" title="List[Implicits.this.global.TypeVar]">tvars</a>))) {
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;tvars = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751271" title="List[Implicits.this.global.TypeVar]">tvars</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>+(<a href="#751271" title="(f: (Implicits.this.global.TypeVar) =&gt; Implicits.this.global.TypeConstraint)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.TypeConstraint,Any,List[Implicits.this.global.TypeVar]])Any">tvars</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.TypeConstraint,List[Implicits.this.global.TypeConstraint],List#Coll]">map</span> (<a href="#751405" title="Implicits.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#264084" title="=&gt; Implicits.this.global.TypeConstraint">constr</a>)))
              <span class="keyword">val</span> <a title="List[Implicits.this.global.Type]" id="751388">targs</a> = <a href="Infer.scala.html#40181" title="(tvars: List[Implicits.this.global.TypeVar],tparams: List[Implicits.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Implicits.this.global.Type]">solvedTypes</a>(<a href="#751271" title="List[Implicits.this.global.TypeVar]">tvars</a>, <a href="#558818" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#558818" title="(f: (Implicits.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Symbol]])List[Int]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40254" title="(tp: Implicits.this.global.Type)(tparam: Implicits.this.global.Symbol)Int">varianceInType</a><a href="#751516" title="Implicits.this.global.Symbol">(</a><a href="#558836" title="Implicits.this.global.Type">pt</a>),
                                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26534" title="(ts: List[Implicits.this.global.Type])Int">lubDepth</a>(<span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#751072" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#558836" title="Implicits.this.global.Type">pt</a>)))
              <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="751389">subst</a> = <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26935" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#558818" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#751388" title="List[Implicits.this.global.Type]">targs</a>)
              <a href="../ast/Trees.scala.html#259077" title="(tree: Implicits.this.global.Tree)Unit">subst</a> traverse <a href="#751072" title="Implicits.this.global.Tree">itree2</a> 
              // todo: remove type params that have been instantiated to Nothing, similar
              // to methTypeArgs
              <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="751390">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#751072" title="Implicits.this.global.Tree">itree2</a>, <a href="#751389" title="Implicits.this.global.TreeTypeSubstituter">subst</a>)
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;RESULT = &quot;</span>+<a href="#751390" title="Implicits.this.SearchResult">result</a>)
              // println(&quot;RESULT = &quot;+itree+&quot;///&quot;+itree1+&quot;///&quot;+itree2)//DEBUG
              <a href="#751390" title="Implicits.this.SearchResult">result</a>
            } <span class="keyword">else</span> {
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;incompatible???&quot;)" class="string">&quot;incompatible???&quot;</span>)
              <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
            }
          } <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37289" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XlogImplicits</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) 
            <a href="#750929" title="(reason: String)Implicits.this.SearchResult">fail</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;candidate implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#750828" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span>
                 <span title="java.lang.String(&quot; is shadowed by other implicit: &quot;)" class="string">&quot; is shadowed by other implicit: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#751071" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Implicits.this.global.Symbol">symbol</a>+<a href="#751071" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Implicits.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a>)
          <span class="keyword">else</span> <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        } <span class="keyword">catch</span> {
          <span title="Implicits.this.SearchResult" class="keyword">case</span> <a title="Implicits.this.global.TypeError" id="751596">ex</a>: <a href="../symtab/Types.scala.html#26618" title="Implicits.this.global.TypeError">TypeError</a> =&gt; <a href="#750929" title="(reason: String)Implicits.this.SearchResult">fail</a>(<a href="#751596" title="Implicits.this.global.TypeError">ex</a>.<a title="()java.lang.String" id="26085">getMessage</a>())
        }
      } <span class="keyword">else</span> {
        <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      }
    }

    /** Should implicit definition symbol `sym' be considered for applicability testing?
     *  This is the case if one of the following holds:
     *   - the symbol's type is initialized
     *   - the symbol comes from a classfile
     *   - the symbol comes from a different sourcefile than the current one
     *   - the symbol's definition comes before, and does not contain the closest enclosing definition,
     *   - the symbol's definition is a val, var, or def with an explicit result type
     *  The aim of this method is to prevent premature cyclic reference errors
     *  by computing the types of only those implicitis for which one of these 
     *  conditions is true.
     */
    <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="558822">isValid</a>(<a title="Implicits.this.global.Symbol" id="751601">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="751604">hasExplicitResultType</a>(<a title="Implicits.this.global.Symbol" id="751606">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a>) = {
        <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="751607">hasExplicitRT</a>(<a title="Implicits.this.global.Tree" id="751608">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a>) = <a href="#751608" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> ValDef(_, _, <a title="Implicits.this.global.Tree" id="751615">tpt</a>, _) =&gt; <span title="=&gt; Boolean">!</span><a href="#751615" title="Implicits.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29560" title="=&gt; Boolean">isEmpty</a>
          <span title="Boolean" class="keyword">case</span> DefDef(_, _, _, _, <a title="Implicits.this.global.Tree" id="751626">tpt</a>, _) =&gt; <span title="=&gt; Boolean">!</span><a href="#751626" title="Implicits.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29560" title="=&gt; Boolean">isEmpty</a>
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
        <a href="#751606" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27167" title="=&gt; Implicits.this.global.Type">rawInfo</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> <a title="Implicits.this.TypeCompleter" id="751629">tc</a>: <a href="Namers.scala.html#40072" title="Implicits.this.TypeCompleter">TypeCompleter</a> =&gt; <a href="#751607" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a>(<a href="#751629" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#259796" title="=&gt; Implicits.this.global.Tree">tree</a>)
          <span title="Boolean" class="keyword">case</span> PolyType(_, <a title="Implicits.this.TypeCompleter" id="751634">tc</a>: <a href="Namers.scala.html#40072" title="Implicits.this.TypeCompleter">TypeCompleter</a>) =&gt; <a href="#751607" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a>(<a href="#751634" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#259796" title="=&gt; Implicits.this.global.Tree">tree</a>)
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt; <span title="Boolean(true)" class="keyword">true</span>
        }
      }
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol,owner: Implicits.this.global.Symbol)Boolean" id="751605">comesBefore</a>(<a title="Implicits.this.global.Symbol" id="751639">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a>, <a title="Implicits.this.global.Symbol" id="751640">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a>) =
        <a href="#751639" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30476" title="=&gt; Option[Int]">offset</a>.<span title="(default: =&gt; Int)Int">getOrElse</span><a title="(x$1: Int)Boolean" id="2977">(</a><span title="Int(0)" class="int">0</span>) <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#751640" title="Implicits.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30476" title="=&gt; Option[Int]">offset</a>.<span title="(default: =&gt; Int)Int">getOrElse</span>(Integer.<span title="Int(2147483647)">MAX_VALUE</span>) &amp;&amp;
        <span title="=&gt; Boolean">!</span>(<a href="#751640" title="Implicits.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27144" title="(elem: Any)Boolean">ownerChain</a> contains <a href="#751639" title="Implicits.this.global.Symbol">sym</a>)

      <a href="#751601" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27137" title="(x$1: Boolean)Boolean">isInitialized</a> <span title="(x$1: Boolean)Boolean">||</span>
      <a href="#751601" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27236" title="(x$1: AnyRef)Boolean">sourceFile</a> == <span title="Null(null)" class="keyword">null</span> <span title="(x$1: Boolean)Boolean">||</span>
      (<a href="#751601" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27236" title="(x$1: AnyRef)Boolean" id="6613">sourceFile</a> ne <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48609" title="=&gt; Implicits.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45663" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68479" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>) <span title="(x$1: Boolean)Boolean">||</span> 
      <a href="#751604" title="(sym: Implicits.this.global.Symbol)Boolean">hasExplicitResultType</a>(<a href="#751601" title="Implicits.this.global.Symbol">sym</a>) ||
      <a href="#751605" title="(sym: Implicits.this.global.Symbol,owner: Implicits.this.global.Symbol)Boolean">comesBefore</a>(<a href="#751601" title="Implicits.this.global.Symbol">sym</a>, <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48615" title="=&gt; Implicits.this.global.Symbol">owner</a>)
    }

    /** Computes from a list of lists of implicit infos a map which takes
     *  infos which are applicable for given expected type `pt` to their attributed trees.
     *  Computes invalid implicits as a side effect (used for better error message).
     *  @param iss            The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow 
     *                        symbols of the same name in succeeding lists.
     */     
    <span class="keyword">def</span> <a title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="558823">applicableInfos</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="751687">iss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], 
                        <a title="Boolean" id="751688">isLocal</a>: <span title="Boolean">Boolean</span>, 
                        <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="751689">invalidImplicits</a>: <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">Map</span>[ImplicitInfo, SearchResult] = {

      /** A set containing names that are shadowed by implicit infos */
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" id="751691">shadowed</a> = <span title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" class="keyword">new</span> <a href="../util/HashSet.scala.html#14599" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">HashSet</a>[Name](<span title="Int(8)" class="int">8</span>)

      /** Try implicit `info` to see whether it is applicable for expected type `pt`.
       *  This is the case if all of the following holds:
       *   - the info's type is not erroneous,
       *   - the info is not shadowed by another info with the same name,
       *   - we're not trying to infer a view that amounts to the identity function (specifically, Predef.identity or Predef.conforms)
       *   - the result of typedImplicit is non-empty.
       *   @return A search result with an attributed tree containing the implicit if succeeded,
       *           SearchFailure if not.
       */
      <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="751692">tryImplicit</a>(<a title="Implicits.this.ImplicitInfo" id="751698">info</a>: <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> =
        <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#558815" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span title="(x$1: Boolean)Boolean">(</span><a href="#751698" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749747" title="=&gt; Implicits.this.global.Type">tpe</a>) <span title="(x$1: Boolean)Boolean">||</span>
            (<a href="#751688" title="(x$1: Boolean)Boolean">isLocal</a> &amp;&amp; <a href="#751691" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">shadowed</a>.<a href="../util/Set.scala.html#113374" title="(x: Implicits.this.global.Name)Boolean">contains</a>(<a href="#751698" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749751" title="=&gt; Implicits.this.global.Name">name</a>)) || 
            (<a href="#558837" title="(x$1: Boolean)Boolean">isView</a> &amp;&amp; (<a href="#751698" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28529" title="=&gt; Implicits.this.global.Symbol">Predef_identity</a> || <a href="#751698" title="Implicits.this.ImplicitInfo">info</a>.<a href="#749753" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28530" title="=&gt; Implicits.this.global.Symbol">Predef_conforms</a>))  //@M this condition prevents no-op conversions, which are a problem (besides efficiency), 
            // one example is removeNames in NamesDefaults, which relies on the type checker failing in case of ambiguity between an assignment/named arg
           ) <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        <span class="keyword">else</span> <a href="#558820" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">typedImplicit</a>(<a href="#751698" title="Implicits.this.ImplicitInfo">info</a>)

      <span class="keyword">def</span> <a title="(is: List[Implicits.this.ImplicitInfo])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="751693">appInfos</a>(<a title="List[Implicits.this.ImplicitInfo]" id="751728">is</a>: <span title="List[Implicits.this.ImplicitInfo]">List</span>[ImplicitInfo]): <span title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">Map</span>[ImplicitInfo, SearchResult] = {
        <span class="keyword">var</span> <a title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="751729">applicable</a> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Implicits.this.ImplicitInfo, Implicits.this.SearchResult)*)scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">[</span><a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>]()
        <span class="keyword">for</span> (<a title="Implicits.this.ImplicitInfo" id="751749">i</a> &lt;- <a href="#751728" title="(f: (Implicits.this.ImplicitInfo) =&gt; Any)Unit">is</a>)
          <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#558822" title="(sym: Implicits.this.global.Symbol)Boolean">isValid</a>(<a href="#751749" title="Implicits.this.ImplicitInfo">i</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>)) <a href="#751689" title="(x: Implicits.this.global.Symbol)invalidImplicits.type" id="61852">invalidImplicits</a> += <a href="#751749" title="Implicits.this.ImplicitInfo">i</a>.<a href="#749753" title="=&gt; Implicits.this.global.Symbol">sym</a>
          <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="751783">result</a> = <a href="#751692" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">tryImplicit</a>(<a href="#751749" title="Implicits.this.ImplicitInfo">i</a>)
            <span title="Unit" class="keyword">if</span> (<a href="#751783" title="(x$1: AnyRef)Boolean">result</a> != <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#751729" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="45064">applicable</a> += (<a href="#751749" title="(y: Implicits.this.SearchResult)(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)" id="8021">i</a> -&gt; <a href="#751783" title="Implicits.this.SearchResult">result</a>)
          }
        <span title="Unit" class="keyword">if</span> (<a href="#751688" title="Boolean">isLocal</a>)
          <span class="keyword">for</span> (<a title="Implicits.this.ImplicitInfo" id="751985">i</a> &lt;- <a href="#751728" title="(f: (Implicits.this.ImplicitInfo) =&gt; Unit)Unit">is</a>) <a href="../util/HashSet.scala.html#113392" title="(x: Implicits.this.global.Name)Unit">shadowed</a> addEntry <a href="#751985" title="Implicits.this.ImplicitInfo">i</a>.<a href="#749751" title="=&gt; Implicits.this.global.Name">name</a>
        <a href="#751729" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>
      }

      (<span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Implicits.this.ImplicitInfo, Implicits.this.SearchResult)*)scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">[</span><a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>]() <a href="#751994" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">/:</a> <span title="(z: scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])(op: (scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult], Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]) =&gt; scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">(</span><a href="#751687" title="(f: (List[Implicits.this.ImplicitInfo]) =&gt; Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])(implicit bf: scala.collection.generic.BuilderFactory[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult],List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]],List[List[Implicits.this.ImplicitInfo]]])List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]]">iss</a> <span title="scala.collection.generic.BuilderFactory[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult],List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]],List#Coll]">map</span> <a href="#751693" title="(is: List[Implicits.this.ImplicitInfo])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">appInfos</a>))(<a href="#752104" title="(elems: Traversable[(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)])scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="46976">_</a> ++ <a href="#752105" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">_</a>)
    }

    /** Search list of implicit info lists for one matching prototype
     *  &lt;code&gt;pt&lt;/code&gt;. If found return a search result with a tree from found implicit info
     *  which is typed with expected type &lt;code&gt;pt&lt;/code&gt;.
     *  Otherwise return SearchFailure.
     *
     *  @param implicitInfoss The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow 
     *                        symbols of the same name in succeeding lists.
     */
    <span class="keyword">def</span> <a title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult" id="558824">searchImplicit</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="752276">implicitInfoss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], <a title="Boolean" id="752277">isLocal</a>: <span title="Boolean">Boolean</span>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = {

      /** The implicits that are not valid because they come later in the source
       *  and lack an explicit result type. Used for error diagnostics only.
       */
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="752279">invalidImplicits</a> = <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]

      /** A map which takes applicable infos to their attributed trees. */
      <span class="keyword">val</span> <a title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="752280">applicable</a> = <a href="#558823" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicableInfos</a>(<a href="#752276" title="List[List[Implicits.this.ImplicitInfo]]">implicitInfoss</a>, <a href="#752277" title="Boolean">isLocal</a>, <a href="#752279" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>)

      <span title="Unit" class="keyword">if</span> (<a href="#752280" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(x$1: Boolean)Boolean" id="44671">isEmpty</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#752279" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<a title="=&gt; Boolean" id="62015">isEmpty</a>) {
        <a href="Typers.scala.html#42783" title="=&gt; Implicits.this.Inferencer">infer</a>.<a href="Infer.scala.html#48983" title="(pos: scala.tools.nsc.util.Position,msg: () =&gt; String)Unit">setAddendum</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, () =&gt; 
          <span title="(x$1: Any)java.lang.String" class="string">&quot;\n Note: implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#752279" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<a title="=&gt; Implicits.this.global.Symbol" id="62072">head</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not applicable here&quot;)" class="string">&quot; is not applicable here&quot;</span>+
          <span title="java.lang.String(&quot;\012 because it comes after the application point and it lacks an explicit result type&quot;)" class="string">&quot;\n because it comes after the application point and it lacks an explicit result type&quot;</span>)
      }

      /** A candidate for best applicable info wrt `improves` */
      <span class="keyword">val</span> <a title="Implicits.this.ImplicitInfo" id="752281">best</a> = (<a href="#40236" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a> <a href="#752307" title="Implicits.this.ImplicitInfo">/:</a> <a href="#752280" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(z: Implicits.this.ImplicitInfo)(op: (Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo) =&gt; Implicits.this.ImplicitInfo)Implicits.this.ImplicitInfo" id="44696">keysIterator</a>) (
        (<a title="Implicits.this.ImplicitInfo" id="752319">best</a>, <a title="Implicits.this.ImplicitInfo" id="752320">alt</a>) =&gt; <span title="Implicits.this.ImplicitInfo" class="keyword">if</span> (<a href="#558812" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean">improves</a>(<a href="#752320" title="Implicits.this.ImplicitInfo">alt</a>, <a href="#752319" title="Implicits.this.ImplicitInfo">best</a>)) <a href="#752320" title="Implicits.this.ImplicitInfo">alt</a> <span class="keyword">else</span> <a href="#752319" title="Implicits.this.ImplicitInfo">best</a>)
      <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#752281" title="(x$1: AnyRef)Boolean">best</a> == <a href="#40236" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="keyword">else</span> {
        /** The list of all applicable infos which are not improved upon by `best`. */
        <span class="keyword">val</span> <a title="scala.collection.Set[Implicits.this.ImplicitInfo]" id="752331">competing</a> = <a href="#752280" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(p: (Implicits.this.ImplicitInfo) =&gt; Boolean)scala.collection.Set[Implicits.this.ImplicitInfo]" id="44682">keySet</a> dropWhile (<a title="Implicits.this.ImplicitInfo" id="752334">alt</a> =&gt; <a href="#752281" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#752334" title="Implicits.this.ImplicitInfo">alt</a> || <a href="#558812" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean">improves</a>(<a href="#752281" title="Implicits.this.ImplicitInfo">best</a>, <a href="#752334" title="Implicits.this.ImplicitInfo">alt</a>))
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#752331" title="scala.collection.Set[Implicits.this.ImplicitInfo]">competing</a>.<a title="=&gt; Boolean" id="39570">isEmpty</a>) <a href="#558817" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo,pre1: String,pre2: String,trailer: String)Unit">ambiguousImplicitError</a>(<a href="#752281" title="Implicits.this.ImplicitInfo">best</a>, <a href="#752331" title="scala.collection.Set[Implicits.this.ImplicitInfo]">competing</a>.<span title="=&gt; Implicits.this.ImplicitInfo">head</span>, <span title="java.lang.String(&quot;both&quot;)" class="string">&quot;both&quot;</span>, <span title="java.lang.String(&quot;and&quot;)" class="string">&quot;and&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) 

        // Also check that applicable infos that did not get selected are not
        // in (a companion object of) a subclass of (a companion object of) the class
        // containing the winning info.
        // (no longer needed; rules have changed)
        /*
        for (alt &lt;- applicable.keySet) {
          if (isProperSubClassOrObject(alt.sym.owner, best.sym.owner)) {
            ambiguousImplicitError(best, alt, 
                                   &quot;most specific definition is:&quot;,
                                   &quot;yet alternative definition  &quot;,
                                   &quot;is defined in a subclass.\n Both definitions &quot;)
          }
        }
        */
        <a href="#752280" title="(key: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="44676">applicable</a>(<a href="#752281" title="Implicits.this.ImplicitInfo">best</a>)
      }
    } // end searchImplicit
    
    /** The implicits made available directly by class type `tp`.
     *  If `tp` refers to class C, these are all implicit members of the companion object of C.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)List[Implicits.this.ImplicitInfo]" id="558825">implicitsOfClass</a>(<a title="Implicits.this.global.Type" id="752363">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="List[Implicits.this.ImplicitInfo]">List</span>[ImplicitInfo] = <a href="#752363" title="Implicits.this.global.Type">tp</a> <span title="List[Implicits.this.ImplicitInfo]" class="keyword">match</span> {
      <span title="List[Implicits.this.ImplicitInfo]" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="752368">pre</a>, <a title="Implicits.this.global.Symbol" id="752369">clazz</a>, _) =&gt;
        <a href="#752369" title="Implicits.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27169" title="=&gt; clazz.type">initialize</a>.<a href="../symtab/Symbols.scala.html#27215" title="=&gt; Implicits.this.global.Symbol">linkedClassOfClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30399" title="=&gt; List[Implicits.this.global.Symbol]">members</a>.<a title="=&gt; List[Implicits.this.global.Symbol]" id="24442">toList</a>.<span title="(p: (Implicits.this.global.Symbol) =&gt; Boolean)List[Implicits.this.global.Symbol]">filter</span><span title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.ImplicitInfo)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo],List[Implicits.this.global.Symbol]])List[Implicits.this.ImplicitInfo]">(</span><a href="#752375" title="Implicits.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(512L)">IMPLICIT</span>)) <span title="scala.collection.generic.BuilderFactory[Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo],List#Coll]">map</span>
        (<a title="Implicits.this.global.Symbol" id="752388">sym</a> =&gt; <span title="Implicits.this.ImplicitInfo" class="keyword">new</span> <a href="#40235" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>(<a href="#752388" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Implicits.this.global.Name">name</a>, <a href="#752368" title="Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: Implicits.this.global.Symbol)Implicits.this.global.Type">memberType</a>(<a href="#752369" title="Implicits.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27213" title="=&gt; Implicits.this.global.Symbol">linkedModuleOfClass</a>), <a href="#752388" title="Implicits.this.global.Symbol">sym</a>))
      <span title="List[Nothing]" class="keyword">case</span> _ =&gt;
        List<span title="object Nil">(</span>)
    }

    /** The parts of a type is the smallest set of types that contains
     *    - the type itself
     *    - the parts of its immediate components (prefix and argument)
     *    - the parts of its base types
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]" id="558826">parts</a>(<a title="Implicits.this.global.Type" id="752427">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="List[Implicits.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]" id="752429">partMap</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">LinkedHashMap</span>[Symbol, List[Type]]
      /** Add a new type to partMap, unless a subtype of it with the same
       *  type symbol exists already.
       */
      <span class="keyword">def</span> <a title="(newtp: Implicits.this.global.Type)Boolean" id="752430">addType</a>(<a title="Implicits.this.global.Type" id="752435">newtp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
        <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="752436">tsym</a> = <a href="#752435" title="Implicits.this.global.Type">newtp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>
        <a href="#752429" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol)Option[List[Implicits.this.global.Type]]">get</span>(<a href="#752436" title="Implicits.this.global.Symbol">tsym</a>) <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> Some(<a title="List[Implicits.this.global.Type]" id="752443">ts</a>) =&gt; 
            <span title="Boolean" class="keyword">if</span> (<a href="#752443" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">ts</a> exists (<a href="../symtab/Types.scala.html#30421" title="(that: Implicits.this.global.Type)Boolean">_</a> &lt;:&lt; <a href="#752435" title="Implicits.this.global.Type">newtp</a>)) <span title="Boolean(false)" class="keyword">false</span>
            <span class="keyword">else</span> { <a href="#752429" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol,value: List[Implicits.this.global.Type])Option[List[Implicits.this.global.Type]]">put</span>(<a href="#752436" title="Implicits.this.global.Symbol">tsym</a>, <a href="#752435" title="Implicits.this.global.Type">newtp</a> <a href="#752462" title="Implicits.this.global.Type">::</a> <a href="#752443" title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">ts</a>); <span title="Boolean(true)" class="keyword">true</span> }
          <span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
            <a href="#752429" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol,value: List[Implicits.this.global.Type])Option[List[Implicits.this.global.Type]]">put</span>(<a href="#752436" title="Implicits.this.global.Symbol">tsym</a>, <span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#752435" title="Implicits.this.global.Type">newtp</a>)); <span title="Boolean(true)" class="keyword">true</span>
        }
      }
      /** Enter all parts of `tp` into `partMap`
       */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Unit" id="752431">getParts</a>(<a title="Implicits.this.global.Type" id="752489">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>) {
        <a href="#752489" title="Implicits.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="752493">pre</a>, <a title="Implicits.this.global.Symbol" id="752494">sym</a>, <a title="List[Implicits.this.global.Type]" id="752495">args</a>) <span class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27056" title="(x$1: Boolean)Boolean">isClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; Boolean">isRefinementClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27090" title="=&gt; Boolean">isAnonymousClass</a>) {
              <span title="Unit" class="keyword">if</span> (<a href="#752430" title="(newtp: Implicits.this.global.Type)Boolean">addType</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>)) {
                <span class="keyword">for</span> (<a title="Implicits.this.global.Symbol" id="752522">bc</a> &lt;- <a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Implicits.this.global.Symbol]">baseClasses</a>.<span title="(f: (Implicits.this.global.Symbol) =&gt; Unit)Unit">tail</span>)
                  <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: Implicits.this.global.Symbol)Implicits.this.global.Type">baseType</a>(<a href="#752522" title="Implicits.this.global.Symbol">bc</a>))
                <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752493" title="Implicits.this.global.Type">pre</a>)
                <a href="#752495" title="(f: (Implicits.this.global.Type) =&gt; Unit)Unit">args</a> foreach <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>
              }
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Boolean">isAliasType</a>) {
              <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Implicits.this.global.Type">normalize</a>)
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#752494" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>) {
              <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Implicits.this.global.Type">hi</a>)
            }
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt;
            <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Implicits.this.global.Type">widen</a>)
          <span title="Unit" class="keyword">case</span> _: <a href="../symtab/Types.scala.html#26375" title="Implicits.this.global.SingletonType">SingletonType</a> =&gt;
            <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752489" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; Implicits.this.global.Type">widen</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="752568">ps</a>, _) =&gt;
            <span class="keyword">for</span> (<a title="Implicits.this.global.Type" id="752587">p</a> &lt;- <a href="#752568" title="(f: (Implicits.this.global.Type) =&gt; Unit)Unit">ps</a>) <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752587" title="Implicits.this.global.Type">p</a>)
          <span title="Unit" class="keyword">case</span> AnnotatedType(_, <a title="Implicits.this.global.Type" id="752596">t</a>, _) =&gt;
            <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752596" title="Implicits.this.global.Type">t</a>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="752603">tparams</a>, <a title="Implicits.this.global.Type" id="752604">t</a>) =&gt; 
            <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752604" title="Implicits.this.global.Type">t</a>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
      /** Gives a list of typerefs with the same type symbol,
       *  remove all those that have a prefix which is a supertype
       *  of some other elements's prefix.
       */
      <span class="keyword">def</span> <a title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]" id="752432">compactify</a>(<a title="List[Implicits.this.global.Type]" id="752609">ts</a>: <span title="List[Implicits.this.global.Type]">List</span>[Type]): <span title="List[Implicits.this.global.Type]">List</span>[Type] = <a href="#752609" title="List[Implicits.this.global.Type]">ts</a> <span title="List[Implicits.this.global.Type]" class="keyword">match</span> {
        <span title="List[Implicits.this.global.Type]" class="keyword">case</span> <a href="#752611" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>() =&gt; <a href="#752609" title="List[Implicits.this.global.Type]">ts</a>
        <span title="List[Implicits.this.global.Type]" class="keyword">case</span> (<a title="Implicits.this.global.TypeRef" id="752625">t</a> @ TypeRef(<a title="Implicits.this.global.Type" id="752629">pre</a>, _, _)) :: <a title="List[Implicits.this.global.Type]" id="752632">ts1</a> =&gt; 
          <span title="List[Implicits.this.global.Type]" class="keyword">if</span> (<a href="#752632" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">ts1</a> exists (<a href="#752639" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30421" title="(that: Implicits.this.global.Type)Boolean">prefix</a> &lt;:&lt; <a href="#752629" title="Implicits.this.global.Type">pre</a>)) <a href="#752432" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a>(<a href="#752632" title="List[Implicits.this.global.Type]">ts1</a>)
          <span class="keyword">else</span> <a href="#752625" title="Implicits.this.global.TypeRef">t</a> <a href="#752647" title="Implicits.this.global.TypeRef">::</a> <a href="#752432" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a><span title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">(</span><a href="#752632" title="(p: (Implicits.this.global.Type) =&gt; Boolean)List[Implicits.this.global.Type]">ts1</a> filterNot (<a href="../symtab/Types.scala.html#30421" title="(that: Implicits.this.global.Type)Boolean">pre</a> &lt;:&lt; <a href="#752650" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30376" title="=&gt; Implicits.this.global.Type">prefix</a>))
      }
      <a href="#752431" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#752427" title="Implicits.this.global.Type">tp</a>)
      <span class="keyword">for</span> ((<a title="Implicits.this.global.Symbol" id="752693">k</a>, <a title="List[Implicits.this.global.Type]" id="752694">ts</a>) &lt;- <a href="#752429" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<a title="=&gt; Iterator[(Implicits.this.global.Symbol, List[Implicits.this.global.Type])]" id="148843">iterator</a>.<a href="#752669" title="(f: ((Implicits.this.global.Symbol, List[Implicits.this.global.Type])) =&gt; Traversable[Implicits.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[(Implicits.this.global.Symbol, List[Implicits.this.global.Type])]])List[Implicits.this.global.Type]" id="25407">toList</a>; <a title="Implicits.this.global.Type" id="752707">t</a> &lt;- <a href="#752432" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a><span title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">(</span><a href="#752694" title="List[Implicits.this.global.Type]">ts</a>)) <span class="keyword">yield</span> <a href="#752707" title="Implicits.this.global.Type">t</a>
    }

    /** The implicits made available by type `pt`.
     *  These are all implicits found in companion objects of classes C
     *  such that some part of `tp` has C as one of its superclasses.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[List[Implicits.this.ImplicitInfo]]" id="558827">implicitsOfExpectedType</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]] =
      <a href="#558826" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]">parts</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>).<a title="=&gt; Iterator[Implicits.this.global.Type]" id="29117">iterator</a>.<a title="(f: (Implicits.this.global.Type) =&gt; List[Implicits.this.ImplicitInfo])Iterator[List[Implicits.this.ImplicitInfo]]" id="32316">map</a>(<a href="#558825" title="(tp: Implicits.this.global.Type)List[Implicits.this.ImplicitInfo]">implicitsOfClass</a>).<span title="=&gt; List[List[Implicits.this.ImplicitInfo]]">toList</span>

    /** The manifest corresponding to type `pt`, provided `pt` is an instance of Manifest.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree" id="558828">implicitManifest</a>(<a title="Implicits.this.global.Type" id="752829">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a> = <a href="#752829" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30393" title="=&gt; Implicits.this.global.Type">dealias</a> <span title="Implicits.this.global.Tree" class="keyword">match</span> {
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28598" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a>, <a href="#752835" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="752844">arg</a>)) =&gt; 
        <a href="#558829" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#752844" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(true)" class="keyword">true</span>)
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28594" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>, <a href="#752857" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="752866">arg</a>)) =&gt; 
        <a href="#558829" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#752866" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(false)" class="keyword">false</span>)
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28602" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>, <a href="#752876" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="752885">arg</a>)) =&gt; 
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="752889">itree</a> = <a href="#558829" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#752885" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(false)" class="keyword">false</span>)
        <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#752889" title="(x$1: AnyRef)Boolean">itree</a> == <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28604" title="=&gt; Implicits.this.global.Symbol">NoManifest</a>) <span class="keyword">else</span> <a href="#752889" title="Implicits.this.global.Tree">itree</a>
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a title="Implicits.this.global.Symbol" id="752910">tsym</a>, _) <span class="keyword">if</span> (<a href="#752910" title="Implicits.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; Boolean">isAbstractType</a>) =&gt;
        <a href="#558828" title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree">implicitManifest</a>(<a href="#752829" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46009" title="=&gt; Implicits.this.global.Type">lo</a>)
      <span title="Implicits.this.global.EmptyTree.type" class="keyword">case</span> _ =&gt;
        <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
    }
            
    /** Creates a tree that calls the relevant factory method in object
      * reflect.Manifest for type 'tp'. An EmptyTree is returned if
      * no manifest is found. todo: make this instantiate take type params as well?
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree" id="558829">manifestOfType</a>(<a title="Implicits.this.global.Type" id="752848">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="752849">full</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a> = {
      
      /** Creates a tree that calls the factory method called constructor in object reflect.Manifest */
      <span class="keyword">def</span> <a title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree" id="752915">manifestFactoryCall</a>(<a title="String" id="752919">constructor</a>: <span title="String">String</span>, <a title="Implicits.this.global.Tree*" id="752920">args</a>: <a title="Implicits.this.global.Tree*" id="4199">Tree</a>*): <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a> =
        <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#752920" title="(elem: Any)Boolean">args</a> contains <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> 
          <a href="Typers.scala.html#42872" title="(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Apply)Implicits.this.global.Apply">atPos</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30482" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
            <a href="../ast/Trees.scala.html#49378" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#50970" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.TypeApply">TypeApply</a>(
                <a href="../ast/Trees.scala.html#50528" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<span title="Implicits.this.global.gen.global.Symbol" class="keyword">if</span> (<a href="#752849" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28600" title="=&gt; Implicits.this.global.Symbol">FullManifestModule</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28596" title="=&gt; Implicits.this.global.Symbol">PartialManifestModule</a>), <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name">constructor</a>),
                <span title="(xs: Implicits.this.global.TypeTree*)List[Implicits.this.global.TypeTree]">List</span>(<a href="../ast/Trees.scala.html#26903" title="(tp: Implicits.this.global.Type)Implicits.this.global.TypeTree">TypeTree</a>(<a href="#752848" title="Implicits.this.global.Type">tp</a>))
              ),
              <a href="#752920" title="Implicits.this.global.Tree*">args</a>.<a title="=&gt; List[Implicits.this.global.Tree]" id="25511">toList</a>
            )
          }}
      
      /** Re-wraps a type in a manifest before calling inferImplicit on the result */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree" id="752916">findManifest</a>(<a title="Implicits.this.global.Type" id="753087">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Symbol" id="753089">manifestClass</a>: <a href="../symtab/Symbols.scala.html#26286" title="Implicits.this.global.Symbol">Symbol</a> = <span title="Implicits.this.global.Symbol" class="keyword">if</span> (<a href="#752849" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28598" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28594" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>) =
        <a href="#40225" title="(tree: Implicits.this.global.Tree,pt: Implicits.this.global.Type,reportAmbiguous: Boolean,isView: Boolean,context: Implicits.this.Context)Implicits.this.SearchResult">inferImplicit</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>, <a href="../symtab/Types.scala.html#26461" title="(tycon: Implicits.this.global.Type,args: List[Implicits.this.global.Type])Implicits.this.global.Type">appliedType</a>(<a href="#753089" title="Implicits.this.global.Symbol">manifestClass</a>.<a href="../symtab/Symbols.scala.html#27172" title="=&gt; Implicits.this.global.Type">typeConstructor</a>, <span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#753087" title="Implicits.this.global.Type">tp</a>)), <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>).<a href="#259067" title="=&gt; Implicits.this.global.Tree">tree</a>

      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree" id="752917">findSubManifest</a>(<a title="Implicits.this.global.Type" id="753105">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>) = <a href="#752916" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#753105" title="Implicits.this.global.Type">tp</a>, <span title="Implicits.this.global.Symbol" class="keyword">if</span> (<a href="#752849" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28598" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28602" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>)

      <span class="keyword">def</span> <a title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree" id="752918">mot</a>(<a title="Implicits.this.global.Type" id="753108">tp0</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="Implicits.this.global.Tree">Tree</a> = <a href="#753108" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Implicits.this.global.Tree" class="keyword">match</span> {
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ThisType(_) | SingleType(_, _) =&gt;
          <a href="#752915" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(<span title="java.lang.String(&quot;singleType&quot;)" class="string">&quot;singleType&quot;</span>, <a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42905" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#753108" title="Implicits.this.global.Type">tp0</a>)) 
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ConstantType(<a title="Implicits.this.global.Constant" id="753128">value</a>) =&gt;
          <a href="#558829" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#753108" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30371" title="=&gt; Implicits.this.global.Type">deconst</a>, <a href="#752849" title="Boolean">full</a>)
        <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="753136">pre</a>, <a title="Implicits.this.global.Symbol" id="753137">sym</a>, <a title="List[Implicits.this.global.Type]" id="753138">args</a>) =&gt;
          <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28792" title="(sym: Implicits.this.global.Symbol)Boolean">isValueClass</a><span title="(x$1: Boolean)Boolean">(</span><a href="#753137" title="Implicits.this.global.Symbol">sym</a>) || <a href="../symtab/Definitions.scala.html#28791" title="(sym: Implicits.this.global.Symbol)Boolean">isPhantomClass</a>(<a href="#753137" title="Implicits.this.global.Symbol">sym</a>)) {
            <a href="Typers.scala.html#42872" title="(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Select)Implicits.this.global.Select">atPos</a>(<a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30482" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
              <a href="../ast/Trees.scala.html#50528" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42908" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28600" title="=&gt; Implicits.this.global.Symbol">FullManifestModule</a>), <a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name">toString</a>)
            }}
          } <span class="keyword">else</span> <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) {
            <span class="keyword">val</span> <a title="List[Implicits.this.global.Tree]" id="753259">suffix</a> = <a href="../Global.scala.html#39263" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42919" title="(tp: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkClassOf</a>(<a href="#753108" title="Implicits.this.global.Type">tp0</a>) <a href="#753260" title="Implicits.this.global.gen.global.Tree">::</a> <span title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">(</span><a href="#753138" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List[Implicits.this.global.Type]])List[Implicits.this.global.Tree]">args</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> <a href="#752917" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>)
            <a href="#752915" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(
              <span title="java.lang.String(&quot;classType&quot;)" class="string">&quot;classType&quot;</span>, 
              (<span title="Sequence[Implicits.this.global.Tree]" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#753136" title="(x$1: AnyRef)Boolean">pre</a> eq <a href="../symtab/Types.scala.html#26385" title="object Implicits.this.global.NoPrefix">NoPrefix</a>) || <a href="#753136" title="Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27127" title="=&gt; Boolean">isStaticOwner</a>) <a href="#753259" title="List[Implicits.this.global.Tree]">suffix</a>
               <span class="keyword">else</span> <a href="#752917" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#753136" title="Implicits.this.global.Type">pre</a>) <a href="#753367" title="Implicits.this.global.Tree">::</a> <a href="#753259" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">suffix</a>): _*)
          } <span class="keyword">else</span> <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27059" title="(x$1: Boolean)Boolean">isAbstractType</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27083" title="=&gt; Boolean">isTypeParameterOrSkolem</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27086" title="=&gt; Boolean">isExistential</a>) {
            <a href="#752915" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(
              <span title="java.lang.String(&quot;abstractType&quot;)" class="string">&quot;abstractType&quot;</span>, 
              <a href="#752917" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#753136" title="Implicits.this.global.Type">pre</a>) <a href="#753383" title="Implicits.this.global.Tree">::</a> <a href="../ast/Trees.scala.html#26899" title="(value: Any)Implicits.this.global.Literal">Literal</a>(<a href="#753137" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a>) <a href="#753386" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <a href="#752916" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#753108" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30374" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#46011" title="=&gt; Implicits.this.global.Type">hi</a>) <a href="#753403" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <span title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">(</span><a href="#753138" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List[Implicits.this.global.Type]])List[Implicits.this.global.Tree]">args</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> <a href="#752917" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>): _*)
          } <span class="keyword">else</span> {
            <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>  // a manifest should have been found by normal searchImplicit
          }
        <span title="Implicits.this.global.Tree" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="753522">parents</a>, <a title="Implicits.this.global.Scope" id="753523">decls</a>) =&gt;
          // refinement is not generated yet
          <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#753522" title="List[Implicits.this.global.Type]">parents</a>.<a title="(x$1: Int)Boolean" id="29114">length</a> == <span title="Int(1)" class="int">1</span>) <a href="#752916" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#753522" title="List[Implicits.this.global.Type]">parents</a>.<span title="=&gt; Implicits.this.global.Type">head</span>)
          <span class="keyword">else</span> <a href="#752915" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(<span title="java.lang.String(&quot;intersectionType&quot;)" class="string">&quot;intersectionType&quot;</span>, <a href="#753522" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,Sequence[Implicits.this.global.Tree],List[Implicits.this.global.Type]])Sequence[Implicits.this.global.Tree]">parents</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> (<a href="#752917" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#753543" title="Implicits.this.global.Type">_</a>)): _*)
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="753602">tparams</a>, <a title="Implicits.this.global.Type" id="753603">result</a>) =&gt;
          <a href="#752918" title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree">mot</a>(<a href="#753603" title="Implicits.this.global.Type">result</a>)
        <span title="Implicits.this.global.EmptyTree.type" class="keyword">case</span> _ =&gt;
          <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
      }

      <a href="#752918" title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree">mot</a>(<a href="#752848" title="Implicits.this.global.Type">tp</a>)
    }

    /** An extractor for types of the form ? { name: ? }
     */
    <span class="keyword">object</span> <a title="object ImplicitSearch.this.WildcardName" id="558830">WildcardName</a> <span title="ScalaObject">{</span>
      <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Option[Implicits.this.global.Name]" id="753611">unapply</a>(<a title="Implicits.this.global.Type" id="753615">pt</a>: <a href="../symtab/Types.scala.html#26364" title="Implicits.this.global.Type">Type</a>): <a title="Option[Implicits.this.global.Name]" id="794">Option</a>[Name] = <a href="#753615" title="Implicits.this.global.Type">pt</a> <span title="Option[Implicits.this.global.Name]" class="keyword">match</span> {
        <span title="Option[Implicits.this.global.Name]" class="keyword">case</span> RefinedType(<a href="#753620" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a href="../symtab/Types.scala.html#26378" title="object Implicits.this.global.WildcardType">WildcardType</a>), <a title="Implicits.this.global.Scope" id="753630">decls</a>) =&gt;
          <a href="#753630" title="Implicits.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="=&gt; List[Implicits.this.global.Symbol]">toList</a> <span title="Option[Implicits.this.global.Name]" class="keyword">match</span> {
            <span title="Some[Implicits.this.global.Name]" class="keyword">case</span> <a href="#753634" title="(x: List[Implicits.this.global.Symbol])Some[List[Implicits.this.global.Symbol]]">List</a>(<a title="Implicits.this.global.Symbol" id="753643">sym</a>) <span class="keyword">if</span> (<a href="#753643" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="(x$1: AnyRef)Boolean">tpe</a> == <a href="../symtab/Types.scala.html#26378" title="object Implicits.this.global.WildcardType">WildcardType</a>) =&gt; <a title="(x: Implicits.this.global.Name)Some[Implicits.this.global.Name]" id="267">Some</a>(<a href="#753643" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Implicits.this.global.Name">name</a>)
            <span title="None.type" class="keyword">case</span> _ =&gt; <span title="object None">None</span>
          }
        <span title="None.type" class="keyword">case</span> _ =&gt;
          <span title="object None">None</span>
      }
    }

    /** Return cached search result if found. Otherwise update cache
     *  but keep within sizeLimit entries
     */
    <span class="keyword">def</span> <a title="(key: AnyRef)Implicits.this.SearchResult" id="558832">cacheResult</a>(<a title="AnyRef" id="753657">key</a>: <a title="AnyRef" id="1779">AnyRef</a>): <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = <a href="#40228" title="(key: AnyRef)Option[Implicits.this.SearchResult]">implicitsCache</a> get <a href="#753657" title="AnyRef">key</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> {
      <span title="Implicits.this.SearchResult" class="keyword">case</span> Some(<a title="Implicits.this.SearchResult" id="753665">sr</a>: <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>) =&gt; 
        <a href="#40217" title="(x$1: Int)Unit">hits</a> += <span title="Int(1)" class="int">1</span>
        <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#753665" title="(x$1: AnyRef)Boolean">sr</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#753665" title="Implicits.this.SearchResult">sr</a>
        <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="753710">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#753665" title="Implicits.this.SearchResult">sr</a>.<a href="#259067" title="=&gt; Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29573" title="=&gt; sr.tree.type">duplicate</a>, <a href="#753665" title="Implicits.this.SearchResult">sr</a>.<a href="#259068" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>)
          <span class="keyword">for</span> (<a title="Implicits.this.global.Tree" id="753715">t</a> &lt;- <a href="#753710" title="Implicits.this.SearchResult">result</a>.<a href="../ast/Trees.scala.html#29562" title="(f: (Implicits.this.global.Tree) =&gt; Unit)Unit">tree</a>) <a href="#753715" title="Implicits.this.global.Tree">t</a>.<a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)t.type">setPos</a><span title="Unit">(</span><a href="#558835" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30482" title="=&gt; scala.tools.nsc.util.Position">focus</a>)
          <a href="#753710" title="Implicits.this.SearchResult">result</a>
        }
      <span title="Implicits.this.SearchResult" class="keyword">case</span> <span title="object None">None</span> =&gt; 
        <a href="#40220" title="(x$1: Int)Unit">misses</a> += <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="753720">r</a> = <a href="#558824" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="#558827" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
        //println(&quot;new fact: search implicit of &quot;+key+&quot; = &quot;+r)
        <a href="#40228" title="(key: AnyRef,value: Implicits.this.SearchResult)Unit" id="44752">implicitsCache</a>(<a href="#753657" title="AnyRef">key</a>) = <a href="#753720" title="Implicits.this.SearchResult">r</a>
        <span title="Any" class="keyword">if</span> (<a href="#40228" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="(x$1: Int)Boolean" id="148822">size</a> &gt;= <span title="Int(50000)">sizeLimit</span>)
          <a href="#40228" title="(key: AnyRef)Implicits.this.implicitsCache.type" id="148841">implicitsCache</a> -= <a href="#40228" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="=&gt; Iterator[AnyRef]" id="148844">keysIterator</a>.<a title="()AnyRef" id="32307">next</a>
        <a href="#753720" title="Implicits.this.SearchResult">r</a>
    }

    /** The result of the implicit search:
     *  First search implicits visible in current context.
     *  If that fails, search implicits in expected type `pt`.
     *  If that fails, and `pt` is an instance of Manifest, try to construct a manifest.
     *  If all fails return SearchFailure
     */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.SearchResult" id="558833">bestImplicit</a>: <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a> = {
      <span class="keyword">val</span> <a title="Long" id="753815">start</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span class="keyword">var</span> <a title="Implicits.this.SearchResult" id="753816">result</a> = <a href="#558824" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48718" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span>)
      <span class="keyword">val</span> <a title="Long" id="753817">timer1</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#40202" title="(x$1: Long)Unit">inscopeFail</a> += <a href="#753817" title="(x$1: Long)Long">timer1</a> - <a href="#753815" title="Long">start</a> <span class="keyword">else</span> <a href="#40199" title="(x$1: Long)Unit">inscopeSucceed</a> += <a href="#753817" title="(x$1: Long)Long">timer1</a> - <a href="#753815" title="Long">start</a>
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) {
        <a href="#753816" title="Implicits.this.SearchResult">result</a> = <a href="#558836" title="Implicits.this.global.Type">pt</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> {
          <span title="Implicits.this.SearchResult" class="keyword">case</span> _: <a href="../symtab/Types.scala.html#26370" title="Implicits.this.global.UniqueType">UniqueType</a> =&gt; <a href="#558832" title="(key: AnyRef)Implicits.this.SearchResult">cacheResult</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>)
          <span title="Implicits.this.SearchResult" class="keyword">case</span> <a href="#753611" title="(pt: Implicits.this.global.Type)Option[Implicits.this.global.Name]">WildcardName</a>(<a title="Implicits.this.global.Name" id="753922">name</a>) =&gt; <a href="#558832" title="(key: AnyRef)Implicits.this.SearchResult">cacheResult</a>(<a href="#753922" title="Implicits.this.global.Name">name</a>)
          <span title="Implicits.this.SearchResult" class="keyword">case</span> _ =&gt; <a href="#40223" title="(x$1: Int)Unit">uncached</a> += <span title="Int(1)" class="int">1</span>; <a href="#558824" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="#558827" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
         }
      }

      <span class="keyword">val</span> <a title="Long" id="753818">timer2</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#40208" title="(x$1: Long)Unit">oftypeFail</a> += <a href="#753818" title="(x$1: Long)Long">timer2</a> - <a href="#753817" title="Long">timer1</a> <span class="keyword">else</span> <a href="#40205" title="(x$1: Long)Unit">oftypeSucceed</a> += <a href="#753818" title="(x$1: Long)Long">timer2</a> - <a href="#753817" title="Long">timer1</a>
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) {
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="754056">resultTree</a> = <a href="#558828" title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree">implicitManifest</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#754056" title="(x$1: AnyRef)Boolean">resultTree</a> != <a href="../ast/Trees.scala.html#26761" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="#753816" title="Implicits.this.SearchResult">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40232" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#754056" title="Implicits.this.global.Tree">resultTree</a>, <a href="../ast/Trees.scala.html#26936" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a>)
      }      
      <span class="keyword">val</span> <a title="Long" id="753819">timer3</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#40214" title="(x$1: Long)Unit">manifFail</a> += <a href="#753819" title="(x$1: Long)Long">timer3</a> - <a href="#753818" title="Long">timer2</a> <span class="keyword">else</span> <a href="#40211" title="(x$1: Long)Unit">manifSucceed</a> += <a href="#753819" title="(x$1: Long)Long">timer3</a> - <a href="#753818" title="Long">timer2</a>
      <span title="Unit" class="keyword">if</span> (<a href="#753816" title="(x$1: AnyRef)Boolean">result</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#40233" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> &amp;&amp; <a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;no implicits found for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558836" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558836" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Implicits.this.global.Symbol]">baseClasses</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#558826" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]">parts</a>(<a href="#558836" title="Implicits.this.global.Type">pt</a>)+<a href="#558827" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>)
      <a href="#40196" title="(x$1: Long)Unit">implicitTime</a> += <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span><span title="(x$1: Long)Long">(</span>) - <a href="#753815" title="Long">start</a>    
      <a href="#753816" title="Implicits.this.SearchResult">result</a>
    }

    <span class="keyword">def</span> <a title="=&gt; List[Implicits.this.SearchResult]" id="558834">allImplicits</a>: <span title="List[Implicits.this.SearchResult]">List</span>[SearchResult] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="754221">invalidImplicits</a> = <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">def</span> <a title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]" id="754222">search</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="754225">iss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], <a title="Boolean" id="754226">isLocal</a>: <span title="Boolean">Boolean</span>) = 
        <a href="#558823" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicableInfos</a>(<a href="#754225" title="List[List[Implicits.this.ImplicitInfo]]">iss</a>, <a href="#754226" title="Boolean">isLocal</a>, <a href="#754221" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>).<a title="=&gt; Iterator[Implicits.this.SearchResult]" id="44706">valuesIterator</a>.<span title="=&gt; List[Implicits.this.SearchResult]">toList</span>
      <a href="#754222" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]">search</a>(<a href="Typers.scala.html#42793" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48718" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span>) <a href="#754229" title="List[Implicits.this.SearchResult]">:::</a> <a href="#754222" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]">search</a><a title="(prefix: List[Implicits.this.SearchResult])List[Implicits.this.SearchResult]" id="24420">(</a><a href="#558827" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
    }
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.Exception" id="40239">DivergentImplicit</a> = <span title="java.lang.Exception" class="keyword">new</span> <a title="java.lang.Exception" id="7889">Exception</a>()
}

        </pre>
    </body>
</html>