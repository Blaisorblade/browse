<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/typechecker/Implicits.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Typers.scala 17229 2009-03-02 19:09:42Z extempore $

//todo: rewrite or disllow new T where T is a mixin (currently: &lt;init&gt; not a member of T)
//todo: use inherited type info also for vars and values
//todo: disallow C#D in superclass
//todo: treat :::= correctly
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable.{LinkedHashMap, ListBuffer}
<span class="keyword">import</span> scala.tools.nsc.util.{HashSet, Position, Set, NoPosition, SourceFile}
<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> util.HashSet

/** This trait provides methods to find various kinds of implicits.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Implicits extends java.lang.Object with ScalaObject" id="16800">Implicits</a> <span title="ScalaObject">{</span> 
self: Analyzer =&gt;

  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="39961">traceImplicits</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">var</span> <a title="Long" id="39964">implicitTime</a> = <span title="Long(0L)" class="long">0L</span>  
  <span class="keyword">var</span> <a title="Long" id="39967">inscopeSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="39970">inscopeFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="39973">oftypeSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="39976">oftypeFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="39979">manifSucceed</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Long" id="39982">manifFail</a> = <span title="Long(0L)" class="long">0L</span>
  <span class="keyword">var</span> <a title="Int" id="39985">hits</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="39988">misses</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">var</span> <a title="Int" id="39991">uncached</a> = <span title="Int(0)" class="int">0</span>

  /** Search for an implicit value. See the comment on `result` at the end of class `ImplicitSearch`
   *  for more info how the search is conducted. 
   *  @param tree             The tree for which the implicit needs to be inserted.
   *                          (the inference might instantiate some of the undetermined
   *                          type parameters of that tree.
   *  @param pt               The expected type of the implicit.
   *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
   *                          False iff we search for a view to find out
   *                          whether one type is coercible to another.
   *  @param isView           We are looking for a view
   *  @param context          The current context
   *  @return                 A search result
   */
  <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree,pt: Implicits.this.global.Type,reportAmbiguous: Boolean,isView: Boolean,context: Implicits.this.Context)Implicits.this.SearchResult" id="39993">inferImplicit</a>(<a title="Implicits.this.global.Tree" id="258063">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a>, <a title="Implicits.this.global.Type" id="258064">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="258065">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="258066">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="258067">context</a>: <a href="Contexts.scala.html#39821" title="Implicits.this.Context">Context</a>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">traceImplicits</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#258063" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29374" title="=&gt; Boolean">isEmpty</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#258067" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48427" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typing implicit with undetermined type params: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#258067" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48427" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>+<a href="#258063" title="Implicits.this.global.Tree">tree</a>)
    <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="747956">result</a> = <span title="Implicits.this.ImplicitSearch" class="keyword">new</span> <a href="#40006" title="Implicits.this.ImplicitSearch">ImplicitSearch</a>(<a href="#258063" title="Implicits.this.global.Tree">tree</a>, <a href="#258064" title="Implicits.this.global.Type">pt</a>, <a href="#258066" title="Boolean">isView</a>, <a href="#258067" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48439" title="(reportAmbiguousErrors: Boolean)Implicits.this.Context">makeImplicit</a>(<a href="#258065" title="Boolean">reportAmbiguous</a>)).<a href="#557451" title="=&gt; Implicits.this.SearchResult">bestImplicit</a>
    <a href="#258067" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48428" title="(ps: List[Implicits.this.global.Symbol])Unit">undetparams</a> = <a href="#258067" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48427" title="(p: (Implicits.this.global.Symbol) =&gt; Boolean)List[Implicits.this.global.Symbol]">undetparams</a> filterNot (<a href="#747956" title="Implicits.this.SearchResult">result</a>.<a href="#258272" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#258275" title="(elem: Any)Boolean">from</a> contains <a href="#747981" title="Implicits.this.global.Symbol">_</a>)
    <a href="#747956" title="Implicits.this.SearchResult">result</a>
  }

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50000)" id="39994">sizeLimit</a> = <span title="Int(50000)" class="int">50000</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]" id="39996">implicitsCache</a> = <span title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">LinkedHashMap</span>[AnyRef, SearchResult]

  <span class="keyword">def</span> <a title="()Unit" id="39998">resetImplicits</a>() { <a href="#39996" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="()Unit" id="148242">clear</a>() }

  /** If type `pt` an instance of Manifest or OptManifest, or an abstract type lower-bounded
   *  by such an instance?
   */
  <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Boolean" id="39999">isManifest</a>(<a title="Implicits.this.global.Type" id="262326">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#262326" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30207" title="=&gt; Implicits.this.global.Type">dealias</a> <span title="Boolean" class="keyword">match</span> {
    <span title="Boolean(true)" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28408" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>, <a href="#747994" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) | 
         TypeRef(_, <a href="../symtab/Definitions.scala.html#28412" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a>, <a href="#748010" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) |
         TypeRef(_, <a href="../symtab/Definitions.scala.html#28416" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>, <a href="#748026" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(_)) =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span title="Boolean" class="keyword">case</span> TypeRef(_, <a title="Implicits.this.global.Symbol" id="748041">tsym</a>, _) =&gt; <a href="#748041" title="Implicits.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#26900" title="(x$1: Boolean)Boolean">isAbstractType</a> &amp;&amp; <a href="#39999" title="(pt: Implicits.this.global.Type)Boolean">isManifest</a>(<a href="#262326" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; Implicits.this.global.Type">lo</a>)
    <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
  }

  /** The result of an implicit search
   *  @param  tree    The tree representing the implicit
   *  @param  subst   A substituter that represents the undetermined type parameters
   *                  that were instantiated by the winning implicit.
   */
  <span class="keyword">class</span> <a title="class SearchResult extends java.lang.Object with ScalaObject" id="40000">SearchResult</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="258271">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a>, <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="258272">subst</a>: <a href="../ast/Trees.scala.html#26776" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="258084">toString</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;SearchResult(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#258271" title="=&gt; Implicits.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#258272" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>+<span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  }

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="40002">SearchFailure</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>(<a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#26777" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a>)

  /** A class that records an available implicit
   *  @param   name   The name of the implicit
   *  @param   pre    The prefix type of the implicit
   *  @param   sym    The symbol of the implicit
   */
  <span class="keyword">class</span> <a title="class ImplicitInfo extends java.lang.Object with ScalaObject" id="40003">ImplicitInfo</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Implicits.this.global.Name" id="747936">name</a>: <a href="../symtab/Names.scala.html#26055" title="Implicits.this.global.Name">Name</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="747937">pre</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="747938">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a>) {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Implicits.this.global.Type" id="747930">tpeCache</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>

    /** Computes member type of implicit from prefix `pre` (cached). */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.global.Type" id="747932">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="#747930" title="(x$1: AnyRef)Boolean">tpeCache</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="#747930" title="(x$1: Implicits.this.global.Type)Unit">tpeCache</a> = <a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Implicits.this.global.Symbol)Implicits.this.global.Type">memberType</a>(<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>)
      <a href="#747930" title="=&gt; Implicits.this.global.Type">tpeCache</a>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="747933">equals</a>(<a title="Any" id="748080">other</a>: <a title="Any" id="49">Any</a>) = <a href="#748080" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> <a title="Implicits.this.ImplicitInfo" id="748083">that</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a> =&gt;
        <span title="Boolean" class="keyword">if</span> (<a href="#40003" title="(x$1: AnyRef)Boolean" class="keyword">this</a> eq <a href="#40004" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) <a href="#748083" title="(x$1: AnyRef)Boolean">that</a> eq <a href="#40003" title="Implicits.this.ImplicitInfo" class="keyword">this</a>
        <span class="keyword">else</span> 
          <a href="#40003" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#747936" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#748083" title="Implicits.this.ImplicitInfo">that</a>.<a href="#747936" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
          <a href="#40003" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="../symtab/Types.scala.html#30236" title="(that: Implicits.this.global.Type)Boolean">pre</a> =:= <a href="#748083" title="Implicits.this.ImplicitInfo">that</a>.<a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a> &amp;&amp;
          <a href="#40003" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#747938" title="(x$1: AnyRef)Boolean">sym</a> == <a href="#748083" title="Implicits.this.ImplicitInfo">that</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; 
        <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="747934">hashCode</a> = 
      <a href="#747936" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28207" title="(x$1: Int)Int">hashCode</a> <span title="(x$1: Int)Int">+</span> <a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a>.<span title="()Int">hashCode</span> + <a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>.<span title="()Int">hashCode</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="747935">toString</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;ImplicitInfo(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#747936" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  }

  /** A sentinel indicating no implicit was found */
  <span class="keyword">val</span> <a title="Implicits.this.ImplicitInfo" id="40004">NoImplicitInfo</a> = <span title="Implicits.this.ImplicitInfo" class="keyword">new</span> <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>(<span title="Null(null)" class="keyword">null</span>, <a href="../symtab/Types.scala.html#26224" title="object Implicits.this.global.NoType">NoType</a>, <a href="../symtab/Symbols.scala.html#26134" title="object Implicits.this.global.NoSymbol">NoSymbol</a>)

  /** A class that sets up an implicit search. For more info, see comments for `inferImplicit`.
   *  @param tree             The tree for which the implicit needs to be inserted.
   *  @param pt               The original expected type of the implicit.
   *  @param isView           We are looking for a view
   *  @param context0         The context used for the implicit search
   */
  <span class="keyword">class</span> <a title="class ImplicitSearch extends Implicits.this.Typer with ScalaObject" id="40006">ImplicitSearch</a><span title="ScalaObject">(</span><a title="Implicits.this.global.Tree" id="557453">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a>, <a title="Implicits.this.global.Type" id="557454">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="557455">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="557456">context0</a>: <a href="Contexts.scala.html#39821" title="Implicits.this.Context">Context</a>) 
    <span class="keyword">extends</span> <a href="Typers.scala.html#39921" title="Implicits.this.Typer">Typer</a>(<a href="#557456" title="Implicits.this.Context">context0</a>) {

//    assert(tree.isEmpty || tree.pos.isDefined, tree)

    <span class="keyword">import</span> infer._

    /** Is implicit info `info1` better than implicit info `info2`?
     */
    <span class="keyword">def</span> <a title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean" id="557430">improves</a>(<a title="Implicits.this.ImplicitInfo" id="748176">info1</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Implicits.this.ImplicitInfo" id="748177">info2</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>) =
      <span title="(x$1: Boolean)Boolean">(</span><a href="#748177" title="(x$1: AnyRef)Boolean">info2</a> == <a href="#40004" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) ||
      <span title="(x$1: Boolean)Boolean">(</span><a href="#748176" title="(x$1: AnyRef)Boolean">info1</a> != <a href="#40004" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) &amp;&amp;
      <a href="Infer.scala.html#48768" title="(ftpe1: Implicits.this.global.Type,ftpe2: Implicits.this.global.Type,sym1: Implicits.this.global.Symbol,sym2: Implicits.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a>(<a href="#748176" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#748177" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#748176" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>, <a href="#748177" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>)

    /** Map all type params in given list to WildcardType
     *  @param   tp  The type in which to do the mapping
     *  @param   tparams  The list of type parameters to map
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,tparams: List[Implicits.this.global.Symbol])Implicits.this.global.Type" id="557431">tparamsToWildcards</a>(<a title="Implicits.this.global.Type" id="748207">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="748208">tparams</a>: <span title="List[Implicits.this.global.Symbol]">List</span>[Symbol]) =
      <a href="#748207" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#748208" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#748208" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="748221">t</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Implicits.this.global.WildcardType">WildcardType</a>))

    /* Map a polytype to one in which all type parameters are replaced by wildcards.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="557432">depoly</a>(<a title="Implicits.this.global.Type" id="748248">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a> = <a href="#748248" title="Implicits.this.global.Type">tp</a> <span title="Implicits.this.global.Type" class="keyword">match</span> {
      <span title="Implicits.this.global.Type" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="748252">tparams</a>, <a title="Implicits.this.global.Type" id="748253">restpe</a>) =&gt; <a href="#557431" title="(tp: Implicits.this.global.Type,tparams: List[Implicits.this.global.Symbol])Implicits.this.global.Type">tparamsToWildcards</a>(<a href="#748253" title="Implicits.this.global.Type">restpe</a>, <a href="#748252" title="List[Implicits.this.global.Symbol]">tparams</a>)
      <span title="Implicits.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#748248" title="Implicits.this.global.Type">tp</a>
    }

    /** Does type `tp` contain an Error type as parameter or result?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="557433">containsError</a>(<a title="Implicits.this.global.Type" id="748258">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#748258" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="748262">tparams</a>, <a title="Implicits.this.global.Type" id="748263">restpe</a>) =&gt; <a href="#557433" title="(tp: Implicits.this.global.Type)Boolean">containsError</a>(<a href="#748263" title="Implicits.this.global.Type">restpe</a>)
      <span title="Boolean" class="keyword">case</span> MethodType(<a title="List[Implicits.this.global.Symbol]" id="748270">params</a>, <a title="Implicits.this.global.Type" id="748271">restpe</a>) =&gt; <span title="(x$1: Boolean)Boolean">(</span><a href="#748270" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">params</a> <span title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">map</span> (<a href="#748282" title="Implicits.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Implicits.this.global.Type">tpe</a>) exists (<a href="#748368" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30208" title="=&gt; Boolean">isError</a>)) || <a href="#557433" title="(tp: Implicits.this.global.Type)Boolean">containsError</a>(<a href="#748271" title="Implicits.this.global.Type">restpe</a>)
      <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#748258" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30208" title="=&gt; Boolean">isError</a>
    }

    /** Does type `dtor` dominate type `dted`?
     *  This is the case if the stripped cores `dtor1` and `dted1` of both types are
     *  the same wrt `=:=`, or if they overlap and the complexity of `dtor1` is higher
     *  than the complexity of `dted1`.
     *  The _stripped core_ of a type is the type where
     *   - all refinements and annotations are dropped,
     *   - all universal and existential quantification is eliminated
     *     by replacing variables by their upper bounds,
     *   - all remaining free type parameters in the type are replaced by WildcardType.
     *  The _complexity_ of a stripped core type corresponds roughly to the number of
     *  nodes in its ast, except that singleton types are widened befoe taking the complexity.
     *  Two types overlap if they have the same type symbol, or
     *  if one or both are intersection types with a pair of overlapiing parent types.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dtor: Implicits.this.global.Type,dted: Implicits.this.global.Type)Boolean" id="557434">dominates</a>(<a title="Implicits.this.global.Type" id="748375">dtor</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="748376">dted</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="748378">core</a>(<a title="Implicits.this.global.Type" id="748385">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a> = <a href="#748385" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Implicits.this.global.Type" class="keyword">match</span> {
        <span title="Implicits.this.global.Type" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="748388">parents</a>, <a title="Implicits.this.global.Scope" id="748389">defs</a>) =&gt; <a href="../symtab/Types.scala.html#26300" title="(tps: List[Implicits.this.global.Type],owner: Implicits.this.global.Symbol)Implicits.this.global.Type">intersectionType</a>(<a href="#748388" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">parents</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>, <a href="#748385" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Implicits.this.global.Symbol">owner</a>)
        <span title="Implicits.this.global.Type" class="keyword">case</span> AnnotatedType(<a title="List[Implicits.this.global.AnnotationInfo]" id="748473">annots</a>, <a title="Implicits.this.global.Type" id="748474">tp</a>, <a title="Implicits.this.global.Symbol" id="748475">selfsym</a>) =&gt; <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748474" title="Implicits.this.global.Type">tp</a>)
        <span title="Implicits.this.global.Type" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="748482">tparams</a>, <a title="Implicits.this.global.Type" id="748483">result</a>) =&gt; <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748483" title="Implicits.this.global.Type">result</a>).<a href="../symtab/Types.scala.html#30224" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#748482" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#748482" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="748498">t</a> =&gt; <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748498" title="Implicits.this.global.Symbol">t</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Implicits.this.global.Type">hi</a>)))
        <span title="Implicits.this.global.Type" class="keyword">case</span> PolyType(<a title="List[Implicits.this.global.Symbol]" id="748529">tparams</a>, <a title="Implicits.this.global.Type" id="748530">result</a>) =&gt; <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748530" title="Implicits.this.global.Type">result</a>).<a href="../symtab/Types.scala.html#30224" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#748529" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#748529" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="748545">t</a> =&gt; <a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748545" title="Implicits.this.global.Symbol">t</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Implicits.this.global.Type">hi</a>)))
        <span title="Implicits.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#748385" title="Implicits.this.global.Type">tp</a>
      }
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="748379">stripped</a>(<a title="Implicits.this.global.Type" id="748560">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a> = {
        <span class="keyword">val</span> <a title="List[Implicits.this.global.Symbol]" id="748561">tparams</a> = <a href="Infer.scala.html#48794" title="object ImplicitSearch.this.infer.freeTypeParametersNoSkolems">freeTypeParametersNoSkolems</a>.<a href="../symtab/Types.scala.html#45509" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Symbol]">collect</a>(<a href="#748560" title="Implicits.this.global.Type">tp</a>)
        <a href="#748560" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30224" title="(from: List[Implicits.this.global.Symbol],to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a>(<a href="#748561" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#748561" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">tparams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="748577">t</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Implicits.this.global.WildcardType">WildcardType</a>))
      }
      <span class="keyword">def</span> <a title="(xs: List[Int])Int" id="748380">sum</a>(<a title="List[Int]" id="748590">xs</a>: <span title="List[Int]">List</span>[Int]) = (<span title="Int(0)" class="int">0</span> <a href="#748591" title="Int">/:</a> <a href="#748590" title="(z: Int)(op: (Int, Int) =&gt; Int)Int">xs</a>)(<a href="#748603" title="(x$1: Int)Int">_</a> + <a href="#748604" title="Int">_</a>)
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Int" id="748381">complexity</a>(<a title="Implicits.this.global.Type" id="748629">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a title="Int" id="2177">Int</a> = <a href="#748629" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Int" class="keyword">match</span> {
        <span title="Int(0)" class="keyword">case</span> <a href="../symtab/Types.scala.html#26226" title="object Implicits.this.global.NoPrefix">NoPrefix</a> =&gt;
          <span title="Int(0)" class="int">0</span>
        <span title="Int" class="keyword">case</span> SingleType(<a title="Implicits.this.global.Type" id="748632">pre</a>, <a title="Implicits.this.global.Symbol" id="748633">sym</a>) =&gt; 
          <span title="Int" class="keyword">if</span> (<a href="#748633" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26919" title="=&gt; Boolean">isPackage</a>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a>(<a href="#748629" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Implicits.this.global.Type">widen</a>)
        <span title="Int" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="748641">pre</a>, <a title="Implicits.this.global.Symbol" id="748642">sym</a>, <a title="List[Implicits.this.global.Type]" id="748643">args</a>) =&gt; 
          <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a><span title="(x$1: Int)Int">(</span><a href="#748641" title="Implicits.this.global.Type">pre</a>) <span title="(x$1: Int)Int">+</span> <a href="#748380" title="(xs: List[Int])Int">sum</a>(<a href="#748643" title="(f: (Implicits.this.global.Type) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Type]])List[Int]">args</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a>) + <span title="Int(1)" class="int">1</span>
        <span title="Int" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="748715">parents</a>, _) =&gt; 
          <a href="#748380" title="(xs: List[Int])Int">sum</a><span title="(x$1: Int)Int">(</span><a href="#748715" title="(f: (Implicits.this.global.Type) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Type]])List[Int]">parents</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a>) + <span title="Int(1)" class="int">1</span>
        <span title="Int(1)" class="keyword">case</span> _ =&gt; 
          <span title="Int(1)" class="int">1</span>
      }
      <span class="keyword">def</span> <a title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean" id="748382">overlaps</a>(<a title="Implicits.this.global.Type" id="748763">tp1</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="748764">tp2</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a title="(_1: Implicits.this.global.Type,_2: Implicits.this.global.Type)(Implicits.this.global.Type, Implicits.this.global.Type)" id="1155">(</a><a href="#748763" title="Implicits.this.global.Type">tp1</a>, <a href="#748764" title="Implicits.this.global.Type">tp2</a>) <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> (RefinedType(<a title="List[Implicits.this.global.Type]" id="748777">parents</a>, _), _) =&gt; <a href="#748777" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a href="#748382" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a>(<a href="#748786" title="Implicits.this.global.Type">_</a>, <a href="#748764" title="Implicits.this.global.Type">tp2</a>))
        <span title="Boolean" class="keyword">case</span> (_, RefinedType(<a title="List[Implicits.this.global.Type]" id="748795">parents</a>, _)) =&gt; <a href="#748795" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">parents</a> exists (<a href="#748382" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a>(<a href="#748763" title="Implicits.this.global.Type">tp1</a>, <a href="#748804" title="Implicits.this.global.Type">_</a>))
        <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#748763" title="Implicits.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="#748764" title="Implicits.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>
      }
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="748383">dtor1</a> = <a href="#748379" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a>(<a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748375" title="Implicits.this.global.Type">dtor</a>))
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="748384">dted1</a> = <a href="#748379" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a>(<a href="#748378" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>(<a href="#748376" title="Implicits.this.global.Type">dted</a>))
      <a href="#748382" title="(tp1: Implicits.this.global.Type,tp2: Implicits.this.global.Type)Boolean">overlaps</a><span title="(x$1: Boolean)Boolean">(</span><a href="#748383" title="Implicits.this.global.Type">dtor1</a>, <a href="#748384" title="Implicits.this.global.Type">dted1</a>) &amp;&amp; (<a href="../symtab/Types.scala.html#30236" title="(that: Implicits.this.global.Type)Boolean">dtor1</a> <span title="(x$1: Boolean)Boolean">=:=</span> <a href="#748384" title="Implicits.this.global.Type">dted1</a> || <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a><a title="(x$1: Int)Boolean" id="2960">(</a><a href="#748383" title="Implicits.this.global.Type">dtor1</a>) &gt; <a href="#748381" title="(tp: Implicits.this.global.Type)Int">complexity</a>(<a href="#748384" title="Implicits.this.global.Type">dted1</a>))
    }

    <span title="Unit" class="keyword">if</span> (util.<a href="../util/Statistics.scala.html#14591" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#174710" title="=&gt; Boolean">enabled</a>) <a href="Typers.scala.html#39859" title="(x$1: Int)Unit">implcnt</a> += <span title="Int(1)" class="int">1</span>

    /** Issues an error signalling ambiguous implicits */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo,pre1: String,pre2: String,trailer: String)Unit" id="557435">ambiguousImplicitError</a>(<a title="Implicits.this.ImplicitInfo" id="748879">info1</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Implicits.this.ImplicitInfo" id="748880">info2</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, 
                               <a title="String" id="748881">pre1</a>: <span title="String">String</span>, <a title="String" id="748882">pre2</a>: <span title="String">String</span>, <a title="String" id="748883">trailer</a>: <span title="String">String</span>) =
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#748879" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#748880" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>) {
        <span class="keyword">val</span> <a title="java.lang.String" id="748888">coreMsg</a> = 
          <a href="#748881" title="(x$1: Any)java.lang.String">pre1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#748879" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#748879" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#748879" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 &quot;)" class="string">&quot;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
          <a href="#748882" title="String">pre2</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#748880" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#748880" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#748880" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 &quot;)" class="string">&quot;\n &quot;</span>+
          <a href="#748883" title="String">trailer</a>
        <a href="Infer.scala.html#48740" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, 
          <span title="String" class="keyword">if</span> (<a href="#557455" title="Boolean">isView</a>) {
            <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="748917">found</a> = <a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30192" title="(n: Int)Implicits.this.global.Type">typeArgs</a>(<span title="Int(0)" class="int">0</span>)
            <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="748918">req</a> = <a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30192" title="(n: Int)Implicits.this.global.Type">typeArgs</a>(<span title="Int(1)" class="int">1</span>)
            <a href="Infer.scala.html#48739" title="(found: Implicits.this.global.Type,req: Implicits.this.global.Type)java.lang.String">typeErrorMsg</a><span title="(x$1: Any)java.lang.String">(</span><a href="#748917" title="Implicits.this.global.Type">found</a>, <a href="#748918" title="Implicits.this.global.Type">req</a>)<span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;\012Note that implicit conversions are not applicable because they are ambiguous:\012 &quot;)" class="string">&quot;\nNote that implicit conversions are not applicable because they are ambiguous:\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
            <a href="#748888" title="java.lang.String">coreMsg</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;are possible conversion functions from &quot;)" class="string">&quot;are possible conversion functions from &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#748917" title="Implicits.this.global.Type">found</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span>+<a href="#748918" title="Implicits.this.global.Type">req</a>
          } <span class="keyword">else</span> {
            <span title="(x$1: Any)java.lang.String" class="string">&quot;ambiguous implicit values:\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#748888" title="java.lang.String">coreMsg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;match expected type &quot;)" class="string">&quot;match expected type &quot;</span>+<a href="#557454" title="Implicits.this.global.Type">pt</a>
          })
        }

    /** The type parameters to instantiate */
    <span class="keyword">val</span> <a title="List[Implicits.this.global.Symbol]" id="557436">undetParams</a> = <span title="List[Implicits.this.global.Symbol]" class="keyword">if</span> (<a href="#557455" title="Boolean">isView</a>) List<span title="object Nil">(</span>) <span class="keyword">else</span> <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48368" title="=&gt; Implicits.this.Context">outer</a>.<a href="Contexts.scala.html#48427" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>

    /** Try to construct a typed tree from given implicit info with given
     *  expected type.
     *  Detect infinite search trees for implicits.
     *
     *  @param info    The given implicit info describing the implicit definition
     *  @pre           &lt;code&gt;info.tpe&lt;/code&gt; does not contain an error
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="557438">typedImplicit</a>(<a title="Implicits.this.ImplicitInfo" id="748982">info</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> =
       <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48389" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Option[Implicits.this.global.Type]" id="28941">openImplicits</a> find (<a href="#557434" title="(dtor: Implicits.this.global.Type,dted: Implicits.this.global.Type)Boolean">dominates</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>, <a href="#748989" title="Implicits.this.global.Type">_</a>)) <span title="Implicits.this.SearchResult" class="keyword">match</span> {
         <span title="Implicits.this.SearchResult" class="keyword">case</span> Some(<a title="Implicits.this.global.Type" id="748995">pending</a>) =&gt;
           // println(&quot;Pending implicit &quot;+pending+&quot; dominates &quot;+pt+&quot;/&quot;+undetParams) //@MDEBUG
           <span title="Nothing" class="keyword">throw</span> <a href="#40007" title="=&gt; java.lang.Exception">DivergentImplicit</a>
           <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> 
         <span title="Implicits.this.SearchResult" class="keyword">case</span> <span title="object None">None</span> =&gt;
           <span class="keyword">try</span> {
             <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48390" title="(x$1: List[Implicits.this.global.Type])Unit">openImplicits</a> = <a href="#557454" title="Implicits.this.global.Type">pt</a> <a href="#749000" title="Implicits.this.global.Type">::</a> <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48389" title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">openImplicits</a>
             // println(&quot;  &quot;*context.openImplicits.length+&quot;typed implicit &quot;+info+&quot; for &quot;+pt) //@MDEBUG
             <a href="#557439" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">typedImplicit0</a>(<a href="#748982" title="Implicits.this.ImplicitInfo">info</a>)
           } <span class="keyword">catch</span> {
             <span title="Implicits.this.SearchResult" class="keyword">case</span> <a href="#40007" title="=&gt; java.lang.Exception">DivergentImplicit</a> =&gt; 
               // println(&quot;DivergentImplicit for pt:&quot;+ pt +&quot;, open implicits:&quot;+context.openImplicits) //@MDEBUG
               <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48389" title="=&gt; List[Implicits.this.global.Type]">openImplicits</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span>) {
                 <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30209" title="=&gt; Boolean">isErroneous</a>))
                   <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48356" title="=&gt; Implicits.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45455" title="(pos: scala.tools.nsc.util.Position,msg: String)Unit">error</a>(
                     <a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;diverging implicit expansion for type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557454" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012starting with &quot;)" class="string">&quot;\nstarting with &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                     <a href="#748982" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>+<a href="#748982" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a>)
                 <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
               } <span class="keyword">else</span> {
                 <span title="Nothing" class="keyword">throw</span> <a href="#40007" title="=&gt; java.lang.Exception">DivergentImplicit</a>
               }
           } <span class="keyword">finally</span> {
             <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48390" title="(x$1: List[Implicits.this.global.Type])Unit">openImplicits</a> = <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48389" title="=&gt; List[Implicits.this.global.Type]">openImplicits</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>
           }
       }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="557439">typedImplicit0</a>(<a title="Implicits.this.ImplicitInfo" id="749010">info</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = {

      /** Todo reconcile with definition of stability given in Types.scala */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="749030">isStable</a>(<a title="Implicits.this.global.Type" id="749033">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = <a href="#749033" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="749037">pre</a>, <a title="Implicits.this.global.Symbol" id="749038">sym</a>, _) =&gt; 
          <a href="#749038" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26935" title="(x$1: Boolean)Boolean">isPackageClass</a> || 
          <a href="#749038" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26934" title="(x$1: Boolean)Boolean">isModuleClass</a> &amp;&amp; <a href="#749030" title="(tp: Implicits.this.global.Type)Boolean">isStable</a>(<a href="#749037" title="Implicits.this.global.Type">pre</a>) /*||
          sym.isAliasType &amp;&amp; isStable(tp.normalize)*/
        <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#749033" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30175" title="=&gt; Boolean">isStable</a>
      }

      /** Replace undetParams in type `tp` by Any/Nothing, according to variance */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="749031">approximate</a>(<a title="Implicits.this.global.Type" id="749047">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>) = 
        <a href="#749047" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#557436" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#557436" title="(f: (Implicits.this.global.Symbol) =&gt; object Implicits.this.global.WildcardType)(implicit bf: scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[Implicits.this.global.Type],List[Implicits.this.global.Symbol]])List[Implicits.this.global.Type]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[object Implicits.this.global.WildcardType,List[object Implicits.this.global.WildcardType],List#Coll]">map</span> (<a title="Implicits.this.global.Symbol" id="749058">_</a> =&gt; <a href="../symtab/Types.scala.html#26219" title="object Implicits.this.global.WildcardType">WildcardType</a>))

      /** Instantiated `pt' so that undetermined type parameters are replaced by wildcards
       */
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="749032">wildPt</a> = <a href="#749031" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>)

      //if (traceImplicits) println(&quot;typed impl for &quot;+wildPt+&quot;? &quot;+info.name+&quot;:&quot;+info.tpe+&quot;/&quot;+undetParams)
      <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Infer.scala.html#48749" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isPlausiblyCompatible</a><span title="(x$1: Boolean)Boolean">(</span><a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#749032" title="Implicits.this.global.Type">wildPt</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <a href="Infer.scala.html#48751" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isCompatible</a>(<a href="#557432" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">depoly</a>(<a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>), <a href="#749032" title="Implicits.this.global.Type">wildPt</a>) &amp;&amp; 
          <a href="#749030" title="(tp: Implicits.this.global.Type)Boolean">isStable</a>(<a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a>)) {

        <span class="keyword">val</span> <a title="Implicits.this.global.RefTree" id="749110">itree</a> = <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.RefTree)Implicits.this.global.RefTree">atPos</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30296" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
          <span title="Implicits.this.global.RefTree" class="keyword">if</span> (<a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747937" title="(x$1: AnyRef)Boolean">pre</a> == <a href="../symtab/Types.scala.html#26226" title="object Implicits.this.global.NoPrefix">NoPrefix</a>) <a href="../ast/Trees.scala.html#51878" title="(name: Implicits.this.global.Name)Implicits.this.global.Ident">Ident</a>(<a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747936" title="=&gt; Implicits.this.global.Name">name</a>)
          <span class="keyword">else</span> <a href="../ast/Trees.scala.html#50275" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42673" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747937" title="=&gt; Implicits.this.global.Type">pre</a>), <a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747936" title="=&gt; Implicits.this.global.Name">name</a>)
        }
        //if (traceImplicits) println(&quot;typed impl?? &quot;+info.name+&quot;:&quot;+info.tpe+&quot; ==&gt; &quot;+itree+&quot; with &quot;+wildPt)
        <span class="keyword">def</span> <a title="(reason: String)Implicits.this.SearchResult" id="749111">fail</a>(<a title="String" id="749223">reason</a>: <span title="String">String</span>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37094" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XlogImplicits</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39062" title="(msg: String)Unit">inform</a>(<a href="#749110" title="(other: String)java.lang.String" id="8103">itree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not a valid implicit value for &quot;)" class="string">&quot; is not a valid implicit value for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557454" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; because:\012&quot;)" class="string">&quot; because:\n&quot;</span>+<a href="#749223" title="String">reason</a>)
          <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        }
        <span class="keyword">try</span> {
          <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="749253">itree1</a> = 
            <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#557455" title="Boolean">isView</a>)
              <a href="Typers.scala.html#42636" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a>(
                <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Apply)Implicits.this.global.Apply">atPos</a>(<a href="#749110" title="Implicits.this.global.RefTree">itree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) (
                  <a href="../ast/Trees.scala.html#49125" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.Apply">Apply</a>(<a href="#749110" title="Implicits.this.global.RefTree">itree</a>, <span title="(xs: Implicits.this.global.Ident*)List[Implicits.this.global.Ident]">List</span>(<a href="../ast/Trees.scala.html#51878" title="(name: Implicits.this.global.Name)Implicits.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name" class="string">&quot;&lt;argument&gt;&quot;</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: Implicits.this.global.Type)Implicits.this.global.Ident">setType</a>(<a href="#749031" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a>.<span title="=&gt; Implicits.this.global.Type">head</span>))))), 
                  <a href="Typers.scala.html#39884" title="=&gt; Int">EXPRmode</a>, <a href="#749031" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Implicits.this.global.Type">head</span>))
            <span class="keyword">else</span>
              <a href="Typers.scala.html#42636" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a>(<a href="#749110" title="Implicits.this.global.RefTree">itree</a>, <a href="Typers.scala.html#39884" title="=&gt; Int">EXPRmode</a>, <a href="#749032" title="Implicits.this.global.Type">wildPt</a>)

          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;typed implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749253" title="Implicits.this.global.Tree">itree1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749253" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span>+<a href="#749032" title="Implicits.this.global.Type">wildPt</a>)
          <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="749254">itree2</a> = <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#557455" title="Boolean">isView</a>) (<a href="#749253" title="Implicits.this.global.Tree">itree1</a>: @<a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree @unchecked">unchecked</a>) <span title="Implicits.this.global.Tree" class="keyword">match</span> { <span title="Implicits.this.global.Tree" class="keyword">case</span> Apply(<a title="Implicits.this.global.Tree" id="749382">fun</a>, _) =&gt; <a href="#749382" title="Implicits.this.global.Tree">fun</a> }
                       <span class="keyword">else</span> <a href="Typers.scala.html#42593" title="(tree: Implicits.this.global.Tree,mode: Int,pt: Implicits.this.global.Type)Implicits.this.global.Tree">adapt</a>(<a href="#749253" title="Implicits.this.global.Tree">itree1</a>, <a href="Typers.scala.html#39884" title="=&gt; Int">EXPRmode</a>, <a href="#749032" title="Implicits.this.global.Type">wildPt</a>)
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;adapted implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749253" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Implicits.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749254" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Implicits.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span>+<a href="#749032" title="Implicits.this.global.Type">wildPt</a>)
          <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="749255">hasMatchingSymbol</a>(<a title="Implicits.this.global.Tree" id="749404">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> = <span title="(x$1: Boolean)Boolean">(</span><a href="#749404" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>) || {
            <a href="#749404" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
              <span title="Boolean" class="keyword">case</span> Apply(<a title="Implicits.this.global.Tree" id="749414">fun</a>, _) =&gt; <a href="#749255" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#749414" title="Implicits.this.global.Tree">fun</a>)
              <span title="Boolean" class="keyword">case</span> TypeApply(<a title="Implicits.this.global.Tree" id="749421">fun</a>, _) =&gt; <a href="#749255" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#749421" title="Implicits.this.global.Tree">fun</a>)
              <span title="Boolean" class="keyword">case</span> Select(<a title="Implicits.this.global.Tree" id="749430">pre</a>, <a title="Implicits.this.global.Name" id="749431">name</a>) =&gt; <a href="#749431" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object Implicits.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; Implicits.this.global.Name">apply</a> &amp;&amp; <a href="#749430" title="Implicits.this.global.Tree">pre</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>
              <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
            }
          }

          <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#749254" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30208" title="=&gt; Boolean">isError</a>) <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
          <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#749255" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a>(<a href="#749253" title="Implicits.this.global.Tree">itree1</a>)) {
            <span class="keyword">val</span> <a title="List[Implicits.this.global.TypeVar]" id="749453">tvars</a> = <a href="#557436" title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.global.TypeVar)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.TypeVar,List[Implicits.this.global.TypeVar],List[Implicits.this.global.Symbol]])List[Implicits.this.global.TypeVar]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.TypeVar,List[Implicits.this.global.TypeVar],List#Coll]">map</span> <a href="Infer.scala.html#39943" title="(tparam: Implicits.this.global.Symbol)Implicits.this.global.TypeVar">freshVar</a>
            <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="Infer.scala.html#48751" title="(tp: Implicits.this.global.Type,pt: Implicits.this.global.Type)Boolean">isCompatible</a>(<a href="#749254" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30204" title="(formals: List[Implicits.this.global.Symbol],actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a>(<a href="#557436" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#749453" title="List[Implicits.this.global.TypeVar]">tvars</a>))) {
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;tvars = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749453" title="List[Implicits.this.global.TypeVar]">tvars</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>+(<a href="#749453" title="(f: (Implicits.this.global.TypeVar) =&gt; Implicits.this.global.TypeConstraint)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.TypeConstraint,Any,List[Implicits.this.global.TypeVar]])Any">tvars</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.TypeConstraint,List[Implicits.this.global.TypeConstraint],List#Coll]">map</span> (<a href="#749584" title="Implicits.this.global.TypeVar">_</a>.<a href="../symtab/Types.scala.html#263279" title="=&gt; Implicits.this.global.TypeConstraint">constr</a>)))
              <span class="keyword">val</span> <a title="List[Implicits.this.global.Type]" id="749567">targs</a> = <a href="Infer.scala.html#39949" title="(tvars: List[Implicits.this.global.TypeVar],tparams: List[Implicits.this.global.Symbol],variances: List[Int],upper: Boolean,depth: Int)List[Implicits.this.global.Type]">solvedTypes</a>(<a href="#749453" title="List[Implicits.this.global.TypeVar]">tvars</a>, <a href="#557436" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#557436" title="(f: (Implicits.this.global.Symbol) =&gt; Int)(implicit bf: scala.collection.generic.BuilderFactory[Int,List[Int],List[Implicits.this.global.Symbol]])List[Int]">undetParams</a> <span title="scala.collection.generic.BuilderFactory[Int,List[Int],List#Coll]">map</span> <a href="Variances.scala.html#40022" title="(tp: Implicits.this.global.Type)(tparam: Implicits.this.global.Symbol)Int">varianceInType</a><a href="#749692" title="Implicits.this.global.Symbol">(</a><a href="#557454" title="Implicits.this.global.Type">pt</a>),
                                      <span title="Boolean(false)" class="keyword">false</span>, <a href="../symtab/Types.scala.html#26375" title="(ts: List[Implicits.this.global.Type])Int">lubDepth</a>(<span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#749254" title="Implicits.this.global.Tree">itree2</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#557454" title="Implicits.this.global.Type">pt</a>)))
              <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="749568">subst</a> = <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26776" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a>(<a href="#557436" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#749567" title="List[Implicits.this.global.Type]">targs</a>)
              <a href="../ast/Trees.scala.html#258281" title="(tree: Implicits.this.global.Tree)Unit">subst</a> traverse <a href="#749254" title="Implicits.this.global.Tree">itree2</a> 
              // todo: remove type params that have been instantiated to Nothing, similar
              // to methTypeArgs
              <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="749569">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#749254" title="Implicits.this.global.Tree">itree2</a>, <a href="#749568" title="Implicits.this.global.TreeTypeSubstituter">subst</a>)
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;RESULT = &quot;</span>+<a href="#749569" title="Implicits.this.SearchResult">result</a>)
              // println(&quot;RESULT = &quot;+itree+&quot;///&quot;+itree1+&quot;///&quot;+itree2)//DEBUG
              <a href="#749569" title="Implicits.this.SearchResult">result</a>
            } <span class="keyword">else</span> {
              <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)">traceImplicits</span>) <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;incompatible???&quot;)" class="string">&quot;incompatible???&quot;</span>)
              <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
            }
          } <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37094" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XlogImplicits</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) 
            <a href="#749111" title="(reason: String)Implicits.this.SearchResult">fail</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;candidate implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#749010" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a><span title="(x$1: Any)java.lang.String">+</span>
                 <span title="java.lang.String(&quot; is shadowed by other implicit: &quot;)" class="string">&quot; is shadowed by other implicit: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#749253" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Implicits.this.global.Symbol">symbol</a>+<a href="#749253" title="Implicits.this.global.Tree">itree1</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Implicits.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a>)
          <span class="keyword">else</span> <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        } <span class="keyword">catch</span> {
          <span title="Implicits.this.SearchResult" class="keyword">case</span> <a title="Implicits.this.global.TypeError" id="749772">ex</a>: <a href="../symtab/Types.scala.html#26459" title="Implicits.this.global.TypeError">TypeError</a> =&gt; <a href="#749111" title="(reason: String)Implicits.this.SearchResult">fail</a>(<a href="#749772" title="Implicits.this.global.TypeError">ex</a>.<a title="()java.lang.String" id="25926">getMessage</a>())
        }
      } <span class="keyword">else</span> {
        <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      }
    }

    /** Should implicit definition symbol `sym' be considered for applicability testing?
     *  This is the case if one of the following holds:
     *   - the symbol's type is initialized
     *   - the symbol comes from a classfile
     *   - the symbol comes from a different sourcefile than the current one
     *   - the symbol's definition comes before, and does not contain the closest enclosing definition,
     *   - the symbol's definition is a val, var, or def with an explicit result type
     *  The aim of this method is to prevent premature cyclic reference errors
     *  by computing the types of only those implicitis for which one of these 
     *  conditions is true.
     */
    <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="557440">isValid</a>(<a title="Implicits.this.global.Symbol" id="749777">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="749780">hasExplicitResultType</a>(<a title="Implicits.this.global.Symbol" id="749782">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a>) = {
        <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="749783">hasExplicitRT</a>(<a title="Implicits.this.global.Tree" id="749784">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a>) = <a href="#749784" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> ValDef(_, _, <a title="Implicits.this.global.Tree" id="749791">tpt</a>, _) =&gt; <span title="=&gt; Boolean">!</span><a href="#749791" title="Implicits.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29374" title="=&gt; Boolean">isEmpty</a>
          <span title="Boolean" class="keyword">case</span> DefDef(_, _, _, _, <a title="Implicits.this.global.Tree" id="749802">tpt</a>, _) =&gt; <span title="=&gt; Boolean">!</span><a href="#749802" title="Implicits.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29374" title="=&gt; Boolean">isEmpty</a>
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
        <a href="#749782" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27008" title="=&gt; Implicits.this.global.Type">rawInfo</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> <a title="Implicits.this.TypeCompleter" id="749805">tc</a>: <a href="Namers.scala.html#39840" title="Implicits.this.TypeCompleter">TypeCompleter</a> =&gt; <a href="#749783" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a>(<a href="#749805" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#258994" title="=&gt; Implicits.this.global.Tree">tree</a>)
          <span title="Boolean" class="keyword">case</span> PolyType(_, <a title="Implicits.this.TypeCompleter" id="749810">tc</a>: <a href="Namers.scala.html#39840" title="Implicits.this.TypeCompleter">TypeCompleter</a>) =&gt; <a href="#749783" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a>(<a href="#749810" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#258994" title="=&gt; Implicits.this.global.Tree">tree</a>)
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt; <span title="Boolean(true)" class="keyword">true</span>
        }
      }
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol,owner: Implicits.this.global.Symbol)Boolean" id="749781">comesBefore</a>(<a title="Implicits.this.global.Symbol" id="749815">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a>, <a title="Implicits.this.global.Symbol" id="749816">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a>) =
        <a href="#749815" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30290" title="=&gt; Option[Int]">offset</a>.<span title="(default: =&gt; Int)Int">getOrElse</span><a title="(x$1: Int)Boolean" id="2956">(</a><span title="Int(0)" class="int">0</span>) <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#749816" title="Implicits.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30290" title="=&gt; Option[Int]">offset</a>.<span title="(default: =&gt; Int)Int">getOrElse</span>(Integer.<span title="Int(2147483647)">MAX_VALUE</span>) &amp;&amp;
        <span title="=&gt; Boolean">!</span>(<a href="#749816" title="Implicits.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26985" title="(elem: Any)Boolean">ownerChain</a> contains <a href="#749815" title="Implicits.this.global.Symbol">sym</a>)

      <a href="#749777" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26978" title="(x$1: Boolean)Boolean">isInitialized</a> <span title="(x$1: Boolean)Boolean">||</span>
      <a href="#749777" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27077" title="(x$1: AnyRef)Boolean">sourceFile</a> == <span title="Null(null)" class="keyword">null</span> <span title="(x$1: Boolean)Boolean">||</span>
      (<a href="#749777" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27077" title="(x$1: AnyRef)Boolean" id="6544">sourceFile</a> ne <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48356" title="=&gt; Implicits.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68207" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>) <span title="(x$1: Boolean)Boolean">||</span> 
      <a href="#749780" title="(sym: Implicits.this.global.Symbol)Boolean">hasExplicitResultType</a>(<a href="#749777" title="Implicits.this.global.Symbol">sym</a>) ||
      <a href="#749781" title="(sym: Implicits.this.global.Symbol,owner: Implicits.this.global.Symbol)Boolean">comesBefore</a>(<a href="#749777" title="Implicits.this.global.Symbol">sym</a>, <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48362" title="=&gt; Implicits.this.global.Symbol">owner</a>)
    }

    /** Computes from a list of lists of implicit infos a map which takes
     *  infos which are applicable for given expected type `pt` to their attributed trees.
     *  Computes invalid implicits as a side effect (used for better error message).
     *  @param iss            The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow 
     *                        symbols of the same name in succeeding lists.
     */     
    <span class="keyword">def</span> <a title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="557441">applicableInfos</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="749863">iss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], 
                        <a title="Boolean" id="749864">isLocal</a>: <span title="Boolean">Boolean</span>, 
                        <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="749865">invalidImplicits</a>: <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]): <span title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">Map</span>[ImplicitInfo, SearchResult] = {

      /** A set containing names that are shadowed by implicit infos */
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" id="749867">shadowed</a> = <span title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" class="keyword">new</span> <a href="../util/HashSet.scala.html#14524" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">HashSet</a>[Name](<span title="Int(8)" class="int">8</span>)

      /** Try implicit `info` to see whether it is applicable for expected type `pt`.
       *  This is the case if all of the following holds:
       *   - the info's type is not erroneous,
       *   - the info is not shadowed by another info with the same name,
       *   - we're not trying to infer a view that amounts to the identity function (specifically, Predef.identity or Predef.conforms)
       *   - the result of typedImplicit is non-empty.
       *   @return A search result with an attributed tree containing the implicit if succeeded,
       *           SearchFailure if not.
       */
      <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="749868">tryImplicit</a>(<a title="Implicits.this.ImplicitInfo" id="749874">info</a>: <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> =
        <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#557433" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span title="(x$1: Boolean)Boolean">(</span><a href="#749874" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747932" title="=&gt; Implicits.this.global.Type">tpe</a>) <span title="(x$1: Boolean)Boolean">||</span>
            (<a href="#749864" title="(x$1: Boolean)Boolean">isLocal</a> &amp;&amp; <a href="#749867" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">shadowed</a>.<a href="../util/Set.scala.html#112900" title="(x: Implicits.this.global.Name)Boolean">contains</a>(<a href="#749874" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747936" title="=&gt; Implicits.this.global.Name">name</a>)) || 
            (<a href="#557455" title="(x$1: Boolean)Boolean">isView</a> &amp;&amp; (<a href="#749874" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28343" title="=&gt; Implicits.this.global.Symbol">Predef_identity</a> || <a href="#749874" title="Implicits.this.ImplicitInfo">info</a>.<a href="#747938" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28344" title="=&gt; Implicits.this.global.Symbol">Predef_conforms</a>))  //@M this condition prevents no-op conversions, which are a problem (besides efficiency), 
            // one example is removeNames in NamesDefaults, which relies on the type checker failing in case of ambiguity between an assignment/named arg
           ) <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
        <span class="keyword">else</span> <a href="#557438" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">typedImplicit</a>(<a href="#749874" title="Implicits.this.ImplicitInfo">info</a>)

      <span class="keyword">def</span> <a title="(is: List[Implicits.this.ImplicitInfo])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="749869">appInfos</a>(<a title="List[Implicits.this.ImplicitInfo]" id="749904">is</a>: <span title="List[Implicits.this.ImplicitInfo]">List</span>[ImplicitInfo]): <span title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">Map</span>[ImplicitInfo, SearchResult] = {
        <span class="keyword">var</span> <a title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="749905">applicable</a> = <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Implicits.this.ImplicitInfo, Implicits.this.SearchResult)*)scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">[</span><a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>]()
        <span class="keyword">for</span> (<a title="Implicits.this.ImplicitInfo" id="749925">i</a> &lt;- <a href="#749904" title="(f: (Implicits.this.ImplicitInfo) =&gt; Any)Unit">is</a>)
          <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#557440" title="(sym: Implicits.this.global.Symbol)Boolean">isValid</a>(<a href="#749925" title="Implicits.this.ImplicitInfo">i</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>)) <a href="#749865" title="(x: Implicits.this.global.Symbol)invalidImplicits.type" id="61580">invalidImplicits</a> += <a href="#749925" title="Implicits.this.ImplicitInfo">i</a>.<a href="#747938" title="=&gt; Implicits.this.global.Symbol">sym</a>
          <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="749959">result</a> = <a href="#749868" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">tryImplicit</a>(<a href="#749925" title="Implicits.this.ImplicitInfo">i</a>)
            <span title="Unit" class="keyword">if</span> (<a href="#749959" title="(x$1: AnyRef)Boolean">result</a> != <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#749905" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="44832">applicable</a> += (<a href="#749925" title="(y: Implicits.this.SearchResult)(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)" id="7952">i</a> -&gt; <a href="#749959" title="Implicits.this.SearchResult">result</a>)
          }
        <span title="Unit" class="keyword">if</span> (<a href="#749864" title="Boolean">isLocal</a>)
          <span class="keyword">for</span> (<a title="Implicits.this.ImplicitInfo" id="750161">i</a> &lt;- <a href="#749904" title="(f: (Implicits.this.ImplicitInfo) =&gt; Unit)Unit">is</a>) <a href="../util/HashSet.scala.html#112918" title="(x: Implicits.this.global.Name)Unit">shadowed</a> addEntry <a href="#750161" title="Implicits.this.ImplicitInfo">i</a>.<a href="#747936" title="=&gt; Implicits.this.global.Name">name</a>
        <a href="#749905" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>
      }

      (<span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Implicits.this.ImplicitInfo, Implicits.this.SearchResult)*)scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">[</span><a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>]() <a href="#750170" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">/:</a> <span title="(z: scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])(op: (scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult], Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]) =&gt; scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">(</span><a href="#749863" title="(f: (List[Implicits.this.ImplicitInfo]) =&gt; Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult])(implicit bf: scala.collection.generic.BuilderFactory[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult],List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]],List[List[Implicits.this.ImplicitInfo]]])List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]]">iss</a> <span title="scala.collection.generic.BuilderFactory[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult],List[Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]],List#Coll]">map</span> <a href="#749869" title="(is: List[Implicits.this.ImplicitInfo])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">appInfos</a>))(<a href="#750278" title="(elems: Traversable[(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)])scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="46741">_</a> ++ <a href="#750279" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">_</a>)
    }

    /** Search list of implicit info lists for one matching prototype
     *  &lt;code&gt;pt&lt;/code&gt;. If found return a search result with a tree from found implicit info
     *  which is typed with expected type &lt;code&gt;pt&lt;/code&gt;.
     *  Otherwise return SearchFailure.
     *
     *  @param implicitInfoss The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow 
     *                        symbols of the same name in succeeding lists.
     */
    <span class="keyword">def</span> <a title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult" id="557442">searchImplicit</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="750450">implicitInfoss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], <a title="Boolean" id="750451">isLocal</a>: <span title="Boolean">Boolean</span>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = {

      /** The implicits that are not valid because they come later in the source
       *  and lack an explicit result type. Used for error diagnostics only.
       */
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="750453">invalidImplicits</a> = <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]

      /** A map which takes applicable infos to their attributed trees. */
      <span class="keyword">val</span> <a title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="750454">applicable</a> = <a href="#557441" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicableInfos</a>(<a href="#750450" title="List[List[Implicits.this.ImplicitInfo]]">implicitInfoss</a>, <a href="#750451" title="Boolean">isLocal</a>, <a href="#750453" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>)

      <span title="Unit" class="keyword">if</span> (<a href="#750454" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(x$1: Boolean)Boolean" id="44439">isEmpty</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#750453" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<a title="=&gt; Boolean" id="61743">isEmpty</a>) {
        <a href="Typers.scala.html#42551" title="=&gt; Implicits.this.Inferencer">infer</a>.<a href="Infer.scala.html#48730" title="(pos: scala.tools.nsc.util.Position,msg: () =&gt; String)Unit">setAddendum</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, () =&gt; 
          <span title="(x$1: Any)java.lang.String" class="string">&quot;\n Note: implicit &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#750453" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<a title="=&gt; Implicits.this.global.Symbol" id="61800">head</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not applicable here&quot;)" class="string">&quot; is not applicable here&quot;</span>+
          <span title="java.lang.String(&quot;\012 because it comes after the application point and it lacks an explicit result type&quot;)" class="string">&quot;\n because it comes after the application point and it lacks an explicit result type&quot;</span>)
      }

      /** A candidate for best applicable info wrt `improves` */
      <span class="keyword">val</span> <a title="Implicits.this.ImplicitInfo" id="750455">best</a> = (<a href="#40004" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a> <a href="#750481" title="Implicits.this.ImplicitInfo">/:</a> <a href="#750454" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(z: Implicits.this.ImplicitInfo)(op: (Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo) =&gt; Implicits.this.ImplicitInfo)Implicits.this.ImplicitInfo" id="44464">keysIterator</a>) (
        (<a title="Implicits.this.ImplicitInfo" id="750493">best</a>, <a title="Implicits.this.ImplicitInfo" id="750494">alt</a>) =&gt; <span title="Implicits.this.ImplicitInfo" class="keyword">if</span> (<a href="#557430" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean">improves</a>(<a href="#750494" title="Implicits.this.ImplicitInfo">alt</a>, <a href="#750493" title="Implicits.this.ImplicitInfo">best</a>)) <a href="#750494" title="Implicits.this.ImplicitInfo">alt</a> <span class="keyword">else</span> <a href="#750493" title="Implicits.this.ImplicitInfo">best</a>)
      <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#750455" title="(x$1: AnyRef)Boolean">best</a> == <a href="#40004" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a>) <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="keyword">else</span> {
        /** The list of all applicable infos which are not improved upon by `best`. */
        <span class="keyword">val</span> <a title="scala.collection.Set[Implicits.this.ImplicitInfo]" id="750505">competing</a> = <a href="#750454" title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>.<a title="(p: (Implicits.this.ImplicitInfo) =&gt; Boolean)scala.collection.Set[Implicits.this.ImplicitInfo]" id="44450">keySet</a> dropWhile (<a title="Implicits.this.ImplicitInfo" id="750508">alt</a> =&gt; <a href="#750455" title="(x$1: AnyRef)Boolean">best</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#750508" title="Implicits.this.ImplicitInfo">alt</a> || <a href="#557430" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo)Boolean">improves</a>(<a href="#750455" title="Implicits.this.ImplicitInfo">best</a>, <a href="#750508" title="Implicits.this.ImplicitInfo">alt</a>))
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#750505" title="scala.collection.Set[Implicits.this.ImplicitInfo]">competing</a>.<a title="=&gt; Boolean" id="39338">isEmpty</a>) <a href="#557435" title="(info1: Implicits.this.ImplicitInfo,info2: Implicits.this.ImplicitInfo,pre1: String,pre2: String,trailer: String)Unit">ambiguousImplicitError</a>(<a href="#750455" title="Implicits.this.ImplicitInfo">best</a>, <a href="#750505" title="scala.collection.Set[Implicits.this.ImplicitInfo]">competing</a>.<span title="=&gt; Implicits.this.ImplicitInfo">head</span>, <span title="java.lang.String(&quot;both&quot;)" class="string">&quot;both&quot;</span>, <span title="java.lang.String(&quot;and&quot;)" class="string">&quot;and&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) 

        // Also check that applicable infos that did not get selected are not
        // in (a companion object of) a subclass of (a companion object of) the class
        // containing the winning info.
        // (no longer needed; rules have changed)
        /*
        for (alt &lt;- applicable.keySet) {
          if (isProperSubClassOrObject(alt.sym.owner, best.sym.owner)) {
            ambiguousImplicitError(best, alt, 
                                   &quot;most specific definition is:&quot;,
                                   &quot;yet alternative definition  &quot;,
                                   &quot;is defined in a subclass.\n Both definitions &quot;)
          }
        }
        */
        <a href="#750454" title="(key: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="44444">applicable</a>(<a href="#750455" title="Implicits.this.ImplicitInfo">best</a>)
      }
    } // end searchImplicit
    
    /** The implicits made available directly by class type `tp`.
     *  If `tp` refers to class C, these are all implicit members of the companion object of C.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)List[Implicits.this.ImplicitInfo]" id="557443">implicitsOfClass</a>(<a title="Implicits.this.global.Type" id="750537">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="List[Implicits.this.ImplicitInfo]">List</span>[ImplicitInfo] = <a href="#750537" title="Implicits.this.global.Type">tp</a> <span title="List[Implicits.this.ImplicitInfo]" class="keyword">match</span> {
      <span title="List[Implicits.this.ImplicitInfo]" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="750542">pre</a>, <a title="Implicits.this.global.Symbol" id="750543">clazz</a>, _) =&gt;
        <a href="#750543" title="Implicits.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27010" title="=&gt; clazz.type">initialize</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Implicits.this.global.Symbol">linkedClassOfClass</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30213" title="=&gt; List[Implicits.this.global.Symbol]">members</a>.<a title="=&gt; List[Implicits.this.global.Symbol]" id="24283">toList</a>.<span title="(p: (Implicits.this.global.Symbol) =&gt; Boolean)List[Implicits.this.global.Symbol]">filter</span><span title="(f: (Implicits.this.global.Symbol) =&gt; Implicits.this.ImplicitInfo)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo],List[Implicits.this.global.Symbol]])List[Implicits.this.ImplicitInfo]">(</span><a href="#750549" title="Implicits.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(512L)">IMPLICIT</span>)) <span title="scala.collection.generic.BuilderFactory[Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo],List#Coll]">map</span>
        (<a title="Implicits.this.global.Symbol" id="750562">sym</a> =&gt; <span title="Implicits.this.ImplicitInfo" class="keyword">new</span> <a href="#40003" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>(<a href="#750562" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Implicits.this.global.Name">name</a>, <a href="#750542" title="Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: Implicits.this.global.Symbol)Implicits.this.global.Type">memberType</a>(<a href="#750543" title="Implicits.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Implicits.this.global.Symbol">linkedModuleOfClass</a>), <a href="#750562" title="Implicits.this.global.Symbol">sym</a>))
      <span title="List[Nothing]" class="keyword">case</span> _ =&gt;
        List<span title="object Nil">(</span>)
    }

    /** The parts of a type is the smallest set of types that contains
     *    - the type itself
     *    - the parts of its immediate components (prefix and argument)
     *    - the parts of its base types
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]" id="557444">parts</a>(<a title="Implicits.this.global.Type" id="750601">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="List[Implicits.this.global.Type]">List</span>[Type] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]" id="750603">partMap</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">LinkedHashMap</span>[Symbol, List[Type]]
      /** Add a new type to partMap, unless a subtype of it with the same
       *  type symbol exists already.
       */
      <span class="keyword">def</span> <a title="(newtp: Implicits.this.global.Type)Boolean" id="750604">addType</a>(<a title="Implicits.this.global.Type" id="750609">newtp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <span title="Boolean">Boolean</span> = {
        <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="750610">tsym</a> = <a href="#750609" title="Implicits.this.global.Type">newtp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>
        <a href="#750603" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol)Option[List[Implicits.this.global.Type]]">get</span>(<a href="#750610" title="Implicits.this.global.Symbol">tsym</a>) <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> Some(<a title="List[Implicits.this.global.Type]" id="750617">ts</a>) =&gt; 
            <span title="Boolean" class="keyword">if</span> (<a href="#750617" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">ts</a> exists (<a href="../symtab/Types.scala.html#30235" title="(that: Implicits.this.global.Type)Boolean">_</a> &lt;:&lt; <a href="#750609" title="Implicits.this.global.Type">newtp</a>)) <span title="Boolean(false)" class="keyword">false</span>
            <span class="keyword">else</span> { <a href="#750603" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol,value: List[Implicits.this.global.Type])Option[List[Implicits.this.global.Type]]">put</span>(<a href="#750610" title="Implicits.this.global.Symbol">tsym</a>, <a href="#750609" title="Implicits.this.global.Type">newtp</a> <a href="#750636" title="Implicits.this.global.Type">::</a> <a href="#750617" title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">ts</a>); <span title="Boolean(true)" class="keyword">true</span> }
          <span title="Boolean" class="keyword">case</span> <span title="object None">None</span> =&gt;
            <a href="#750603" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<span title="(key: Implicits.this.global.Symbol,value: List[Implicits.this.global.Type])Option[List[Implicits.this.global.Type]]">put</span>(<a href="#750610" title="Implicits.this.global.Symbol">tsym</a>, <span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#750609" title="Implicits.this.global.Type">newtp</a>)); <span title="Boolean(true)" class="keyword">true</span>
        }
      }
      /** Enter all parts of `tp` into `partMap`
       */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Unit" id="750605">getParts</a>(<a title="Implicits.this.global.Type" id="750663">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>) {
        <a href="#750663" title="Implicits.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="750667">pre</a>, <a title="Implicits.this.global.Symbol" id="750668">sym</a>, <a title="List[Implicits.this.global.Type]" id="750669">args</a>) <span class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="(x$1: Boolean)Boolean">isClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26933" title="=&gt; Boolean">isRefinementClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26931" title="=&gt; Boolean">isAnonymousClass</a>) {
              <span title="Unit" class="keyword">if</span> (<a href="#750604" title="(newtp: Implicits.this.global.Type)Boolean">addType</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>)) {
                <span class="keyword">for</span> (<a title="Implicits.this.global.Symbol" id="750696">bc</a> &lt;- <a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Implicits.this.global.Symbol]">baseClasses</a>.<span title="(f: (Implicits.this.global.Symbol) =&gt; Unit)Unit">tail</span>)
                  <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: Implicits.this.global.Symbol)Implicits.this.global.Type">baseType</a>(<a href="#750696" title="Implicits.this.global.Symbol">bc</a>))
                <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750667" title="Implicits.this.global.Type">pre</a>)
                <a href="#750669" title="(f: (Implicits.this.global.Type) =&gt; Unit)Unit">args</a> foreach <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>
              }
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26899" title="=&gt; Boolean">isAliasType</a>) {
              <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Implicits.this.global.Type">normalize</a>)
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#750668" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>) {
              <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Implicits.this.global.Type">hi</a>)
            }
          <span title="Unit" class="keyword">case</span> ThisType(_) =&gt;
            <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Implicits.this.global.Type">widen</a>)
          <span title="Unit" class="keyword">case</span> _: <a href="../symtab/Types.scala.html#26216" title="Implicits.this.global.SingletonType">SingletonType</a> =&gt;
            <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750663" title="Implicits.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30184" title="=&gt; Implicits.this.global.Type">widen</a>)
          <span title="Unit" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="750742">ps</a>, _) =&gt;
            <span class="keyword">for</span> (<a title="Implicits.this.global.Type" id="750761">p</a> &lt;- <a href="#750742" title="(f: (Implicits.this.global.Type) =&gt; Unit)Unit">ps</a>) <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750761" title="Implicits.this.global.Type">p</a>)
          <span title="Unit" class="keyword">case</span> AnnotatedType(_, <a title="Implicits.this.global.Type" id="750770">t</a>, _) =&gt;
            <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750770" title="Implicits.this.global.Type">t</a>)
          <span title="Unit" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="750777">tparams</a>, <a title="Implicits.this.global.Type" id="750778">t</a>) =&gt; 
            <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750778" title="Implicits.this.global.Type">t</a>)
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
      }
      /** Gives a list of typerefs with the same type symbol,
       *  remove all those that have a prefix which is a supertype
       *  of some other elements's prefix.
       */
      <span class="keyword">def</span> <a title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]" id="750606">compactify</a>(<a title="List[Implicits.this.global.Type]" id="750783">ts</a>: <span title="List[Implicits.this.global.Type]">List</span>[Type]): <span title="List[Implicits.this.global.Type]">List</span>[Type] = <a href="#750783" title="List[Implicits.this.global.Type]">ts</a> <span title="List[Implicits.this.global.Type]" class="keyword">match</span> {
        <span title="List[Implicits.this.global.Type]" class="keyword">case</span> <a href="#750785" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>() =&gt; <a href="#750783" title="List[Implicits.this.global.Type]">ts</a>
        <span title="List[Implicits.this.global.Type]" class="keyword">case</span> (<a title="Implicits.this.global.TypeRef" id="750799">t</a> @ TypeRef(<a title="Implicits.this.global.Type" id="750803">pre</a>, _, _)) :: <a title="List[Implicits.this.global.Type]" id="750806">ts1</a> =&gt; 
          <span title="List[Implicits.this.global.Type]" class="keyword">if</span> (<a href="#750806" title="(p: (Implicits.this.global.Type) =&gt; Boolean)Boolean">ts1</a> exists (<a href="#750813" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30235" title="(that: Implicits.this.global.Type)Boolean">prefix</a> &lt;:&lt; <a href="#750803" title="Implicits.this.global.Type">pre</a>)) <a href="#750606" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a>(<a href="#750806" title="List[Implicits.this.global.Type]">ts1</a>)
          <span class="keyword">else</span> <a href="#750799" title="Implicits.this.global.TypeRef">t</a> <a href="#750821" title="Implicits.this.global.TypeRef">::</a> <a href="#750606" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a><span title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">(</span><a href="#750806" title="(p: (Implicits.this.global.Type) =&gt; Boolean)List[Implicits.this.global.Type]">ts1</a> filterNot (<a href="../symtab/Types.scala.html#30235" title="(that: Implicits.this.global.Type)Boolean">pre</a> &lt;:&lt; <a href="#750824" title="Implicits.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#30190" title="=&gt; Implicits.this.global.Type">prefix</a>))
      }
      <a href="#750605" title="(tp: Implicits.this.global.Type)Unit">getParts</a>(<a href="#750601" title="Implicits.this.global.Type">tp</a>)
      <span class="keyword">for</span> ((<a title="Implicits.this.global.Symbol" id="750867">k</a>, <a title="List[Implicits.this.global.Type]" id="750868">ts</a>) &lt;- <a href="#750603" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.global.Type]]">partMap</a>.<a title="=&gt; Iterator[(Implicits.this.global.Symbol, List[Implicits.this.global.Type])]" id="148236">iterator</a>.<a href="#750843" title="(f: ((Implicits.this.global.Symbol, List[Implicits.this.global.Type])) =&gt; Traversable[Implicits.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[(Implicits.this.global.Symbol, List[Implicits.this.global.Type])]])List[Implicits.this.global.Type]" id="25248">toList</a>; <a title="Implicits.this.global.Type" id="750881">t</a> &lt;- <a href="#750606" title="(ts: List[Implicits.this.global.Type])List[Implicits.this.global.Type]">compactify</a><span title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Type,List[Implicits.this.global.Type],List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">(</span><a href="#750868" title="List[Implicits.this.global.Type]">ts</a>)) <span class="keyword">yield</span> <a href="#750881" title="Implicits.this.global.Type">t</a>
    }

    /** The implicits made available by type `pt`.
     *  These are all implicits found in companion objects of classes C
     *  such that some part of `tp` has C as one of its superclasses.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[List[Implicits.this.ImplicitInfo]]" id="557445">implicitsOfExpectedType</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]] =
      <a href="#557444" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]">parts</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>).<a title="=&gt; Iterator[Implicits.this.global.Type]" id="28931">iterator</a>.<a title="(f: (Implicits.this.global.Type) =&gt; List[Implicits.this.ImplicitInfo])Iterator[List[Implicits.this.ImplicitInfo]]" id="32130">map</a>(<a href="#557443" title="(tp: Implicits.this.global.Type)List[Implicits.this.ImplicitInfo]">implicitsOfClass</a>).<span title="=&gt; List[List[Implicits.this.ImplicitInfo]]">toList</span>

    /** The manifest corresponding to type `pt`, provided `pt` is an instance of Manifest.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree" id="557446">implicitManifest</a>(<a title="Implicits.this.global.Type" id="751000">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a> = <a href="#751000" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30207" title="=&gt; Implicits.this.global.Type">dealias</a> <span title="Implicits.this.global.Tree" class="keyword">match</span> {
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28412" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a>, <a href="#751006" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="751015">arg</a>)) =&gt; 
        <a href="#557447" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#751015" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(true)" class="keyword">true</span>)
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28408" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>, <a href="#751028" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="751037">arg</a>)) =&gt; 
        <a href="#557447" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#751037" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(false)" class="keyword">false</span>)
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a href="../symtab/Definitions.scala.html#28416" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>, <a href="#751047" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a title="Implicits.this.global.Type" id="751056">arg</a>)) =&gt; 
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="751060">itree</a> = <a href="#557447" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#751056" title="Implicits.this.global.Type">arg</a>, <span title="Boolean(false)" class="keyword">false</span>)
        <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#751060" title="(x$1: AnyRef)Boolean">itree</a> == <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28418" title="=&gt; Implicits.this.global.Symbol">NoManifest</a>) <span class="keyword">else</span> <a href="#751060" title="Implicits.this.global.Tree">itree</a>
      <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(_, <a title="Implicits.this.global.Symbol" id="751081">tsym</a>, _) <span class="keyword">if</span> (<a href="#751081" title="Implicits.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#26900" title="=&gt; Boolean">isAbstractType</a>) =&gt;
        <a href="#557446" title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree">implicitManifest</a>(<a href="#751000" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45777" title="=&gt; Implicits.this.global.Type">lo</a>)
      <span title="Implicits.this.global.EmptyTree.type" class="keyword">case</span> _ =&gt;
        <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
    }
            
    /** Creates a tree that calls the relevant factory method in object
      * reflect.Manifest for type 'tp'. An EmptyTree is returned if
      * no manifest is found. todo: make this instantiate take type params as well?
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree" id="557447">manifestOfType</a>(<a title="Implicits.this.global.Type" id="751019">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="751020">full</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a> = {
      
      /** Creates a tree that calls the factory method called constructor in object reflect.Manifest */
      <span class="keyword">def</span> <a title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree" id="751086">manifestFactoryCall</a>(<a title="String" id="751090">constructor</a>: <span title="String">String</span>, <a title="Implicits.this.global.Tree*" id="751091">args</a>: <a title="Implicits.this.global.Tree*" id="4178">Tree</a>*): <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a> =
        <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#751091" title="(elem: Any)Boolean">args</a> contains <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> 
          <a href="Typers.scala.html#42640" title="(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Apply)Implicits.this.global.Apply">atPos</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30296" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
            <a href="../ast/Trees.scala.html#49125" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#50717" title="(fun: Implicits.this.global.Tree,args: List[Implicits.this.global.Tree])Implicits.this.global.TypeApply">TypeApply</a>(
                <a href="../ast/Trees.scala.html#50275" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<span title="Implicits.this.global.gen.global.Symbol" class="keyword">if</span> (<a href="#751020" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28414" title="=&gt; Implicits.this.global.Symbol">FullManifestModule</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28410" title="=&gt; Implicits.this.global.Symbol">PartialManifestModule</a>), <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name">constructor</a>),
                <span title="(xs: Implicits.this.global.TypeTree*)List[Implicits.this.global.TypeTree]">List</span>(<a href="../ast/Trees.scala.html#26744" title="(tp: Implicits.this.global.Type)Implicits.this.global.TypeTree">TypeTree</a>(<a href="#751019" title="Implicits.this.global.Type">tp</a>))
              ),
              <a href="#751091" title="Implicits.this.global.Tree*">args</a>.<a title="=&gt; List[Implicits.this.global.Tree]" id="25352">toList</a>
            )
          }}
      
      /** Re-wraps a type in a manifest before calling inferImplicit on the result */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree" id="751087">findManifest</a>(<a title="Implicits.this.global.Type" id="751258">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Symbol" id="751260">manifestClass</a>: <a href="../symtab/Symbols.scala.html#26127" title="Implicits.this.global.Symbol">Symbol</a> = <span title="Implicits.this.global.Symbol" class="keyword">if</span> (<a href="#751020" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28412" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28408" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>) =
        <a href="#39993" title="(tree: Implicits.this.global.Tree,pt: Implicits.this.global.Type,reportAmbiguous: Boolean,isView: Boolean,context: Implicits.this.Context)Implicits.this.SearchResult">inferImplicit</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>, <a href="../symtab/Types.scala.html#26302" title="(tycon: Implicits.this.global.Type,args: List[Implicits.this.global.Type])Implicits.this.global.Type">appliedType</a>(<a href="#751260" title="Implicits.this.global.Symbol">manifestClass</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; Implicits.this.global.Type">typeConstructor</a>, <span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span>(<a href="#751258" title="Implicits.this.global.Type">tp</a>)), <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>).<a href="#258271" title="=&gt; Implicits.this.global.Tree">tree</a>

      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree" id="751088">findSubManifest</a>(<a title="Implicits.this.global.Type" id="751276">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>) = <a href="#751087" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#751276" title="Implicits.this.global.Type">tp</a>, <span title="Implicits.this.global.Symbol" class="keyword">if</span> (<a href="#751020" title="Boolean">full</a>) <a href="../symtab/Definitions.scala.html#28412" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28416" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a>)

      <span class="keyword">def</span> <a title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree" id="751089">mot</a>(<a title="Implicits.this.global.Type" id="751279">tp0</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26593" title="Implicits.this.global.Tree">Tree</a> = <a href="#751279" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Implicits.this.global.Tree" class="keyword">match</span> {
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ThisType(_) | SingleType(_, _) =&gt;
          <a href="#751086" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(<span title="java.lang.String(&quot;singleType&quot;)" class="string">&quot;singleType&quot;</span>, <a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42673" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#751279" title="Implicits.this.global.Type">tp0</a>)) 
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ConstantType(<a title="Implicits.this.global.Constant" id="751299">value</a>) =&gt;
          <a href="#557447" title="(tp: Implicits.this.global.Type,full: Boolean)Implicits.this.global.Tree">manifestOfType</a>(<a href="#751279" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30185" title="=&gt; Implicits.this.global.Type">deconst</a>, <a href="#751020" title="Boolean">full</a>)
        <span title="Implicits.this.global.Tree" class="keyword">case</span> TypeRef(<a title="Implicits.this.global.Type" id="751307">pre</a>, <a title="Implicits.this.global.Symbol" id="751308">sym</a>, <a title="List[Implicits.this.global.Type]" id="751309">args</a>) =&gt;
          <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28606" title="(sym: Implicits.this.global.Symbol)Boolean">isValueClass</a><span title="(x$1: Boolean)Boolean">(</span><a href="#751308" title="Implicits.this.global.Symbol">sym</a>) || <a href="../symtab/Definitions.scala.html#28605" title="(sym: Implicits.this.global.Symbol)Boolean">isPhantomClass</a>(<a href="#751308" title="Implicits.this.global.Symbol">sym</a>)) {
            <a href="Typers.scala.html#42640" title="(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Implicits.this.global.Select)Implicits.this.global.Select">atPos</a>(<a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30296" title="=&gt; scala.tools.nsc.util.Position">focus</a>) {
              <a href="../ast/Trees.scala.html#50275" title="(qualifier: Implicits.this.global.Tree,name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a>(<a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42676" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a>(<a href="../symtab/Definitions.scala.html#28414" title="=&gt; Implicits.this.global.Symbol">FullManifestModule</a>), <a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)Implicits.this.global.Name">toString</a>)
            }}
          } <span class="keyword">else</span> <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) {
            <span class="keyword">val</span> <a title="List[Implicits.this.global.Tree]" id="751430">suffix</a> = <a href="../Global.scala.html#39031" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42687" title="(tp: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkClassOf</a>(<a href="#751279" title="Implicits.this.global.Type">tp0</a>) <a href="#751431" title="Implicits.this.global.gen.global.Tree">::</a> <span title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">(</span><a href="#751309" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List[Implicits.this.global.Type]])List[Implicits.this.global.Tree]">args</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> <a href="#751088" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>)
            <a href="#751086" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(
              <span title="java.lang.String(&quot;classType&quot;)" class="string">&quot;classType&quot;</span>, 
              (<span title="Sequence[Implicits.this.global.Tree]" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#751307" title="(x$1: AnyRef)Boolean">pre</a> eq <a href="../symtab/Types.scala.html#26226" title="object Implicits.this.global.NoPrefix">NoPrefix</a>) || <a href="#751307" title="Implicits.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26968" title="=&gt; Boolean">isStaticOwner</a>) <a href="#751430" title="List[Implicits.this.global.Tree]">suffix</a>
               <span class="keyword">else</span> <a href="#751088" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#751307" title="Implicits.this.global.Type">pre</a>) <a href="#751535" title="Implicits.this.global.Tree">::</a> <a href="#751430" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">suffix</a>): _*)
          } <span class="keyword">else</span> <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26900" title="(x$1: Boolean)Boolean">isAbstractType</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26924" title="=&gt; Boolean">isTypeParameterOrSkolem</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26927" title="=&gt; Boolean">isExistential</a>) {
            <a href="#751086" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(
              <span title="java.lang.String(&quot;abstractType&quot;)" class="string">&quot;abstractType&quot;</span>, 
              <a href="#751088" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#751307" title="Implicits.this.global.Type">pre</a>) <a href="#751551" title="Implicits.this.global.Tree">::</a> <a href="../ast/Trees.scala.html#26740" title="(value: Any)Implicits.this.global.Literal">Literal</a>(<a href="#751308" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Implicits.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>) <a href="#751554" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <a href="#751087" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#751279" title="Implicits.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#45779" title="=&gt; Implicits.this.global.Type">hi</a>) <a href="#751571" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <span title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">(</span><a href="#751309" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List[Implicits.this.global.Type]])List[Implicits.this.global.Tree]">args</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> <a href="#751088" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>): _*)
          } <span class="keyword">else</span> {
            <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>  // a manifest should have been found by normal searchImplicit
          }
        <span title="Implicits.this.global.Tree" class="keyword">case</span> RefinedType(<a title="List[Implicits.this.global.Type]" id="751687">parents</a>, <a title="Implicits.this.global.Scope" id="751688">decls</a>) =&gt;
          // refinement is not generated yet
          <span title="Implicits.this.global.Tree" class="keyword">if</span> (<a href="#751687" title="List[Implicits.this.global.Type]">parents</a>.<a title="(x$1: Int)Boolean" id="28928">length</a> == <span title="Int(1)" class="int">1</span>) <a href="#751087" title="(tp: Implicits.this.global.Type,manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a>(<a href="#751687" title="List[Implicits.this.global.Type]">parents</a>.<span title="=&gt; Implicits.this.global.Type">head</span>)
          <span class="keyword">else</span> <a href="#751086" title="(constructor: String,args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a>(<span title="java.lang.String(&quot;intersectionType&quot;)" class="string">&quot;intersectionType&quot;</span>, <a href="#751687" title="(f: (Implicits.this.global.Type) =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,Sequence[Implicits.this.global.Tree],List[Implicits.this.global.Type]])Sequence[Implicits.this.global.Tree]">parents</a> <span title="scala.collection.generic.BuilderFactory[Implicits.this.global.Tree,List[Implicits.this.global.Tree],List#Coll]">map</span> (<a href="#751088" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>(<a href="#751708" title="Implicits.this.global.Type">_</a>)): _*)
        <span title="Implicits.this.global.Tree" class="keyword">case</span> ExistentialType(<a title="List[Implicits.this.global.Symbol]" id="751766">tparams</a>, <a title="Implicits.this.global.Type" id="751767">result</a>) =&gt;
          <a href="#751089" title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree">mot</a>(<a href="#751767" title="Implicits.this.global.Type">result</a>)
        <span title="Implicits.this.global.EmptyTree.type" class="keyword">case</span> _ =&gt;
          <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
      }

      <a href="#751089" title="(tp0: Implicits.this.global.Type)Implicits.this.global.Tree">mot</a>(<a href="#751019" title="Implicits.this.global.Type">tp</a>)
    }

    /** An extractor for types of the form ? { name: ? }
     */
    <span class="keyword">object</span> <a title="object ImplicitSearch.this.WildcardName" id="557448">WildcardName</a> <span title="ScalaObject">{</span>
      <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Option[Implicits.this.global.Name]" id="751775">unapply</a>(<a title="Implicits.this.global.Type" id="751779">pt</a>: <a href="../symtab/Types.scala.html#26205" title="Implicits.this.global.Type">Type</a>): <a title="Option[Implicits.this.global.Name]" id="782">Option</a>[Name] = <a href="#751779" title="Implicits.this.global.Type">pt</a> <span title="Option[Implicits.this.global.Name]" class="keyword">match</span> {
        <span title="Option[Implicits.this.global.Name]" class="keyword">case</span> RefinedType(<a href="#751784" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a>(<a href="../symtab/Types.scala.html#26219" title="object Implicits.this.global.WildcardType">WildcardType</a>), <a title="Implicits.this.global.Scope" id="751794">decls</a>) =&gt;
          <a href="#751794" title="Implicits.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="=&gt; List[Implicits.this.global.Symbol]">toList</a> <span title="Option[Implicits.this.global.Name]" class="keyword">match</span> {
            <span title="Some[Implicits.this.global.Name]" class="keyword">case</span> <a href="#751798" title="(x: List[Implicits.this.global.Symbol])Some[List[Implicits.this.global.Symbol]]">List</a>(<a title="Implicits.this.global.Symbol" id="751807">sym</a>) <span class="keyword">if</span> (<a href="#751807" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="(x$1: AnyRef)Boolean">tpe</a> == <a href="../symtab/Types.scala.html#26219" title="object Implicits.this.global.WildcardType">WildcardType</a>) =&gt; <a title="(x: Implicits.this.global.Name)Some[Implicits.this.global.Name]" id="258">Some</a>(<a href="#751807" title="Implicits.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Implicits.this.global.Name">name</a>)
            <span title="None.type" class="keyword">case</span> _ =&gt; <span title="object None">None</span>
          }
        <span title="None.type" class="keyword">case</span> _ =&gt;
          <span title="object None">None</span>
      }
    }

    /** Return cached search result if found. Otherwise update cache
     *  but keep within sizeLimit entries
     */
    <span class="keyword">def</span> <a title="(key: AnyRef)Implicits.this.SearchResult" id="557450">cacheResult</a>(<a title="AnyRef" id="751821">key</a>: <a title="AnyRef" id="1758">AnyRef</a>): <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = <a href="#39996" title="(key: AnyRef)Option[Implicits.this.SearchResult]">implicitsCache</a> get <a href="#751821" title="AnyRef">key</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> {
      <span title="Implicits.this.SearchResult" class="keyword">case</span> Some(<a title="Implicits.this.SearchResult" id="751829">sr</a>: <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>) =&gt; 
        <a href="#39985" title="(x$1: Int)Unit">hits</a> += <span title="Int(1)" class="int">1</span>
        <span title="Implicits.this.SearchResult" class="keyword">if</span> (<a href="#751829" title="(x$1: AnyRef)Boolean">sr</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#751829" title="Implicits.this.SearchResult">sr</a>
        <span class="keyword">else</span> {
          <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="751874">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#751829" title="Implicits.this.SearchResult">sr</a>.<a href="#258271" title="=&gt; Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29387" title="=&gt; sr.tree.type">duplicate</a>, <a href="#751829" title="Implicits.this.SearchResult">sr</a>.<a href="#258272" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>)
          <span class="keyword">for</span> (<a title="Implicits.this.global.Tree" id="751879">t</a> &lt;- <a href="#751874" title="Implicits.this.SearchResult">result</a>.<a href="../ast/Trees.scala.html#29376" title="(f: (Implicits.this.global.Tree) =&gt; Unit)Unit">tree</a>) <a href="#751879" title="Implicits.this.global.Tree">t</a>.<a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)t.type">setPos</a><span title="Unit">(</span><a href="#557453" title="Implicits.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30296" title="=&gt; scala.tools.nsc.util.Position">focus</a>)
          <a href="#751874" title="Implicits.this.SearchResult">result</a>
        }
      <span title="Implicits.this.SearchResult" class="keyword">case</span> <span title="object None">None</span> =&gt; 
        <a href="#39988" title="(x$1: Int)Unit">misses</a> += <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="751884">r</a> = <a href="#557442" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="#557445" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
        //println(&quot;new fact: search implicit of &quot;+key+&quot; = &quot;+r)
        <a href="#39996" title="(key: AnyRef,value: Implicits.this.SearchResult)Unit" id="44520">implicitsCache</a>(<a href="#751821" title="AnyRef">key</a>) = <a href="#751884" title="Implicits.this.SearchResult">r</a>
        <span title="Any" class="keyword">if</span> (<a href="#39996" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="(x$1: Int)Boolean" id="148215">size</a> &gt;= <span title="Int(50000)">sizeLimit</span>)
          <a href="#39996" title="(key: AnyRef)Implicits.this.implicitsCache.type" id="148234">implicitsCache</a> -= <a href="#39996" title="=&gt; scala.collection.mutable.LinkedHashMap[AnyRef,Implicits.this.SearchResult]">implicitsCache</a>.<a title="=&gt; Iterator[AnyRef]" id="148237">keysIterator</a>.<a title="()AnyRef" id="32121">next</a>
        <a href="#751884" title="Implicits.this.SearchResult">r</a>
    }

    /** The result of the implicit search:
     *  First search implicits visible in current context.
     *  If that fails, search implicits in expected type `pt`.
     *  If that fails, and `pt` is an instance of Manifest, try to construct a manifest.
     *  If all fails return SearchFailure
     */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.SearchResult" id="557451">bestImplicit</a>: <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a> = {
      <span class="keyword">val</span> <a title="Long" id="751979">start</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span class="keyword">var</span> <a title="Implicits.this.SearchResult" id="751980">result</a> = <a href="#557442" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48465" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span>)
      <span class="keyword">val</span> <a title="Long" id="751981">timer1</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#39970" title="(x$1: Long)Unit">inscopeFail</a> += <a href="#751981" title="(x$1: Long)Long">timer1</a> - <a href="#751979" title="Long">start</a> <span class="keyword">else</span> <a href="#39967" title="(x$1: Long)Unit">inscopeSucceed</a> += <a href="#751981" title="(x$1: Long)Long">timer1</a> - <a href="#751979" title="Long">start</a>
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) {
        <a href="#751980" title="Implicits.this.SearchResult">result</a> = <a href="#557454" title="Implicits.this.global.Type">pt</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> {
          <span title="Implicits.this.SearchResult" class="keyword">case</span> _: <a href="../symtab/Types.scala.html#26211" title="Implicits.this.global.UniqueType">UniqueType</a> =&gt; <a href="#557450" title="(key: AnyRef)Implicits.this.SearchResult">cacheResult</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>)
          <span title="Implicits.this.SearchResult" class="keyword">case</span> <a href="#751775" title="(pt: Implicits.this.global.Type)Option[Implicits.this.global.Name]">WildcardName</a>(<a title="Implicits.this.global.Name" id="752086">name</a>) =&gt; <a href="#557450" title="(key: AnyRef)Implicits.this.SearchResult">cacheResult</a>(<a href="#752086" title="Implicits.this.global.Name">name</a>)
          <span title="Implicits.this.SearchResult" class="keyword">case</span> _ =&gt; <a href="#39991" title="(x$1: Int)Unit">uncached</a> += <span title="Int(1)" class="int">1</span>; <a href="#557442" title="(implicitInfoss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a>(<a href="#557445" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
         }
      }

      <span class="keyword">val</span> <a title="Long" id="751982">timer2</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#39976" title="(x$1: Long)Unit">oftypeFail</a> += <a href="#751982" title="(x$1: Long)Long">timer2</a> - <a href="#751981" title="Long">timer1</a> <span class="keyword">else</span> <a href="#39973" title="(x$1: Long)Unit">oftypeSucceed</a> += <a href="#751982" title="(x$1: Long)Long">timer2</a> - <a href="#751981" title="Long">timer1</a>
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) {
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="752220">resultTree</a> = <a href="#557446" title="(pt: Implicits.this.global.Type)Implicits.this.global.Tree">implicitManifest</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#752220" title="(x$1: AnyRef)Boolean">resultTree</a> != <a href="../ast/Trees.scala.html#26602" title="object Implicits.this.global.EmptyTree">EmptyTree</a>) <a href="#751980" title="Implicits.this.SearchResult">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#40000" title="Implicits.this.SearchResult">SearchResult</a>(<a href="#752220" title="Implicits.this.global.Tree">resultTree</a>, <a href="../ast/Trees.scala.html#26777" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a>)
      }      
      <span class="keyword">val</span> <a title="Long" id="751983">timer3</a> = <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span>()
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> == <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>) <a href="#39982" title="(x$1: Long)Unit">manifFail</a> += <a href="#751983" title="(x$1: Long)Long">timer3</a> - <a href="#751982" title="Long">timer2</a> <span class="keyword">else</span> <a href="#39979" title="(x$1: Long)Unit">manifSucceed</a> += <a href="#751983" title="(x$1: Long)Long">timer3</a> - <a href="#751982" title="Long">timer2</a>
      <span title="Unit" class="keyword">if</span> (<a href="#751980" title="(x$1: AnyRef)Boolean">result</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#40001" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> &amp;&amp; <a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;no implicits found for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557454" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557454" title="Implicits.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Implicits.this.global.Symbol]">baseClasses</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#557444" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Type]">parts</a>(<a href="#557454" title="Implicits.this.global.Type">pt</a>)+<a href="#557445" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>)
      <a href="#39964" title="(x$1: Long)Unit">implicitTime</a> += <span title="object java.lang.System">System</span>.<span title="()Long">nanoTime</span><span title="(x$1: Long)Long">(</span>) - <a href="#751979" title="Long">start</a>    
      <a href="#751980" title="Implicits.this.SearchResult">result</a>
    }

    <span class="keyword">def</span> <a title="=&gt; List[Implicits.this.SearchResult]" id="557452">allImplicits</a>: <span title="List[Implicits.this.SearchResult]">List</span>[SearchResult] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="752385">invalidImplicits</a> = <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span>[Symbol]
      <span class="keyword">def</span> <a title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]" id="752386">search</a>(<a title="List[List[Implicits.this.ImplicitInfo]]" id="752389">iss</a>: <span title="List[List[Implicits.this.ImplicitInfo]]">List</span>[List[ImplicitInfo]], <a title="Boolean" id="752390">isLocal</a>: <span title="Boolean">Boolean</span>) = 
        <a href="#557441" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean,invalidImplicits: scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol])Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicableInfos</a>(<a href="#752389" title="List[List[Implicits.this.ImplicitInfo]]">iss</a>, <a href="#752390" title="Boolean">isLocal</a>, <a href="#752385" title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>).<a title="=&gt; Iterator[Implicits.this.SearchResult]" id="44474">valuesIterator</a>.<span title="=&gt; List[Implicits.this.SearchResult]">toList</span>
      <a href="#752386" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]">search</a>(<a href="Typers.scala.html#42561" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#48465" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span>) <a href="#752393" title="List[Implicits.this.SearchResult]">:::</a> <a href="#752386" title="(iss: List[List[Implicits.this.ImplicitInfo]],isLocal: Boolean)List[Implicits.this.SearchResult]">search</a><a title="(prefix: List[Implicits.this.SearchResult])List[Implicits.this.SearchResult]" id="24261">(</a><a href="#557445" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span>)
    }
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.lang.Exception" id="40007">DivergentImplicit</a> = <span title="java.lang.Exception" class="keyword">new</span> <a title="java.lang.Exception" id="7820">Exception</a>()
}

        </pre>
    </body>
</html>