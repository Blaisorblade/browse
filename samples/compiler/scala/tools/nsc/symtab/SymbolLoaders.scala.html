<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/symtab/SymbolLoaders.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: SymbolLoaders.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> symtab
 
<span class="keyword">import</span> java.io.{File, IOException} 
 
<span class="keyword">import</span> ch.epfl.lamp.compiler.msil.{Type =&gt; MSILType, Attribute =&gt; MSILAttribute}

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.compat.Platform.currentTime
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> classfile.ClassfileParser
<span class="keyword">import</span> Flags._

/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymbolLoaders extends java.lang.Object with ScalaObject" id="10205">SymbolLoaders</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="109551">global</a>: <a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** A lazy type that completes itself by calling parameter doComplete.
   *  Any linked modules/classes or module classes are also initialized.
   *
   *  @param doComplete    The type completion procedure to be run.
   *                       It takes symbol to compkete as parameter and returns
   *                       name of file loaded for completion as a result.
   *                       Can throw an IOException on error.
   */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymbolLoader extends SymbolLoaders.this.global.LazyType with ScalaObject" id="109553">SymbolLoader</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Types.scala.html#26442" title="SymbolLoaders.this.global.LazyType">LazyType</a> {

    /** Load source or class file for `root', return */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109696">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309391">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>): <span title="Unit">Unit</span>

    /** The kind of file that's processed by this loader */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109697">kindString</a>: <span title="String">String</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="109699">ok</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.AbstractFile" id="109701">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109702">sourceString</a>: <span title="String">String</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109703">complete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309399">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) : <span title="Unit">Unit</span> = {
      <span class="keyword">try</span> {
        <span class="keyword">val</span> <a title="Long" id="309404">start</a> = <a title="=&gt; Long" id="39220">currentTime</a>
        <span class="keyword">val</span> <a title="scala.tools.nsc.Phase" id="309405">currentphase</a> = <a href="SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>
        <a href="#109696" title="(root: SymbolLoaders.this.global.Symbol)Unit">doComplete</a>(<a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>)
        <a href="SymbolTable.scala.html#26248" title="(p: scala.tools.nsc.Phase)Unit">phase</a> = <a href="#309405" title="scala.tools.nsc.Phase">currentphase</a>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="309406">source</a> = <a href="#109697" title="(x$1: Any)java.lang.String">kindString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#109702" title="=&gt; String">sourceString</a>
        <a href="../Global.scala.html#39299" title="(msg: String,start: Long)Unit">informTime</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;loaded &quot;</span> + <a href="#309406" title="=&gt; java.lang.String">source</a>, <a href="#309404" title="Long">start</a>)
        //if (root.rawInfo == this &amp;&amp; root.linkedSym.rawInfo == this)
        //  throw new TypeError(source + &quot; does not define &quot; + root)
        <a href="#109699" title="(x$1: Boolean)Unit">ok</a> = <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="java.io.IOException" id="309441">ex</a>: <a title="java.io.IOException" id="3657">IOException</a> =&gt;
          <a href="#109699" title="(x$1: Boolean)Unit">ok</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="#309441" title="java.io.IOException">ex</a>.<a title="()Unit" id="26091">printStackTrace</a>()
          <span class="keyword">val</span> <a title="java.lang.String" id="309442">msg</a> = <a href="#309441" title="java.io.IOException">ex</a>.<a title="()java.lang.String" id="26085">getMessage</a>()
          <a href="../Global.scala.html#39292" title="(msg: String)Unit">error</a>(
            <span title="String" class="keyword">if</span> (<a href="#309442" title="(x$1: AnyRef)Boolean">msg</a> eq <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot;i/o error while loading &quot;</span> + <a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27147" title="=&gt; SymbolLoaders.this.global.Name">name</a>
            <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;error while loading &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27147" title="=&gt; SymbolLoaders.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> + <a href="#309442" title="java.lang.String">msg</a>);
      }
      <a href="#109705" title="(root: SymbolLoaders.this.global.Symbol)Unit">initRoot</a>(<a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>) <a href="#109705" title="(root: SymbolLoaders.this.global.Symbol)Unit">initRoot</a>(<a href="#309399" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27214" title="=&gt; SymbolLoaders.this.global.Symbol">linkedSym</a>)
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109704">load</a>(<a title="SymbolLoaders.this.global.Symbol" id="309482">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) { <a href="#109703" title="(root: SymbolLoaders.this.global.Symbol)Unit">complete</a>(<a href="#309482" title="SymbolLoaders.this.global.Symbol">root</a>) }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109705">initRoot</a>(<a title="SymbolLoaders.this.global.Symbol" id="309476">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27167" title="(x$1: AnyRef)Boolean">rawInfo</a> == <a href="#109553" title="SymbolLoaders.this.SymbolLoader" class="keyword">this</a>) {
        <span class="keyword">def</span> <a title="(sym: SymbolLoaders.this.global.Symbol)Any" id="309497">markAbsent</a>(<a title="SymbolLoaders.this.global.Symbol" id="309498">sym</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) =
          <span title="Any" class="keyword">if</span> (<a href="#309498" title="(x$1: AnyRef)Boolean">sym</a> != <a href="Symbols.scala.html#26293" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>) <a href="#309498" title="SymbolLoaders.this.global.Symbol">sym</a>.<a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)sym.type">setInfo</a>(<span title="SymbolLoaders.this.global.Type" class="keyword">if</span> (<a href="#109699" title="=&gt; Boolean">ok</a>) <a href="Types.scala.html#26383" title="object SymbolLoaders.this.global.NoType">NoType</a> <span class="keyword">else</span> <a href="Types.scala.html#26376" title="object SymbolLoaders.this.global.ErrorType">ErrorType</a>);
        <a href="#309497" title="(sym: SymbolLoaders.this.global.Symbol)Any">markAbsent</a>(<a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>)
        <a href="#309497" title="(sym: SymbolLoaders.this.global.Symbol)Any">markAbsent</a><span title="Unit">(</span><a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27218" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>)
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27056" title="(x$1: Boolean)Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27093" title="=&gt; Boolean">isModuleClass</a>) <a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27167" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<a href="Types.scala.html#30440" title="(sym: SymbolLoaders.this.global.Symbol)Unit">load</a>(<a href="#309476" title="SymbolLoaders.this.global.Symbol">root</a>)
    }
  }

  /** Load contents of a package
   */
  <span class="keyword">class</span> <a title="class PackageLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109554">PackageLoader</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="SymbolLoaders.this.global.classPath0.Context" id="309551">directory</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109871" title="SymbolLoaders.this.global.classPath0.Context">Context</a>) <span class="keyword">extends</span> <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {

    // XXX: for IDE.
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309527">sourceString</a> = <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168922" title="()String">toString</a>()

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309528">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;directory path&quot;)" class="string">&quot;directory path&quot;</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader" id="309529">newPackageLoader</a>(<a title="SymbolLoaders.this.global.classPath0.Context" id="309606">dir</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109871" title="SymbolLoaders.this.global.classPath0.Context">Context</a>): <a href="#109554" title="SymbolLoaders.this.PackageLoader">PackageLoader</a> =
      <span title="SymbolLoaders.this.PackageLoader" class="keyword">new</span> <a href="#109554" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>(<a href="#309606" title="SymbolLoaders.this.global.classPath0.Context">dir</a>)

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean" id="309530">checkSource</a>(<a title="String" id="309610">name</a>: <span title="String">String</span>, <a title="scala.tools.nsc.io.AbstractFile" id="309611">source</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>): <span title="Boolean">Boolean</span> = <a href="#309611" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">var</span> <a title="SymbolLoaders.this.global.Symbol" id="309532">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a> = _

    <span class="keyword">def</span> <a title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit" id="309534">enterPackage</a>(<a title="String" id="309615">name</a>: <span title="String">String</span>, <a title="SymbolLoaders.this.SymbolLoader" id="309616">completer</a>: <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a>) {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309618">preExisting</a> = <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27297" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">lookup</a>(<a href="Names.scala.html#26207" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#309615" title="String">name</a>))
      <span title="Unit" class="keyword">if</span> (<a href="#309618" title="(x$1: AnyRef)Boolean">preExisting</a> != <a href="Symbols.scala.html#26293" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>)
        <span title="Nothing" class="keyword">throw</span> <a href="Types.scala.html#51622" title="(msg: String)SymbolLoaders.this.global.TypeError" class="keyword">new</a> <a href="Types.scala.html#26618" title="SymbolLoaders.this.global.TypeError">TypeError</a>(
          <a href="#309532" title="(other: String)java.lang.String" id="8172">root</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; contains object and package with same name: &quot;)" class="string">&quot; contains object and package with same name: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#309615" title="String">name</a>+<span title="java.lang.String(&quot;\012one of them needs to be removed from classpath&quot;)" class="string">&quot;\none of them needs to be removed from classpath&quot;</span>)
          
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.TermSymbol" id="309619">pkg</a> = <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27031" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.TermSymbol">newPackage</a>(<a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26207" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#309615" title="String">name</a>))
      <a href="#309619" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#29684" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.Symbol">setInfo</a>(<a href="#309616" title="SymbolLoaders.this.SymbolLoader">completer</a>)
      <a href="#309619" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)pkg.type">setInfo</a>(<a href="#309619" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#29684" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<a href="Symbols.scala.html#27162" title="=&gt; SymbolLoaders.this.global.Type">tpe</a>)
      <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27290" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">enter</a><span title="Unit">(</span><a href="#309619" title="SymbolLoaders.this.global.TermSymbol">pkg</a>)
    }
    // @return - the symbol of the class
    <span class="keyword">def</span> <a title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol" id="309535">enterClassAndModule</a>(<a title="String" id="309682">name</a>: <span title="String">String</span>, <a title="SymbolLoaders.this.SymbolLoader" id="309683">completer</a>: <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a>): <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a> = {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309685">owner</a> = <span title="SymbolLoaders.this.global.Symbol" class="keyword">if</span> (<a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27098" title="=&gt; Boolean">isRoot</a>) <a href="Definitions.scala.html#26638" title="object SymbolLoaders.this.global.definitions">definitions</a>.<a href="Definitions.scala.html#28429" title="=&gt; SymbolLoaders.this.global.Symbol">EmptyPackageClass</a> <span class="keyword">else</span> <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Name" id="309686">className</a> = <a href="Names.scala.html#26207" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#309682" title="String">name</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27297" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">lookup</a><span title="(x$1: AnyRef)Boolean">(</span><a href="Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>) == <a href="Symbols.scala.html#26293" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>, <a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27248" title="(x$1: Any)java.lang.String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> + <a href="#309682" title="String">name</a>)
      <span class="keyword">var</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="309687">clazz</a> = <a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27044" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.ClassSymbol">newClass</a>(<a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>.<a href="Names.scala.html#28388" title="=&gt; SymbolLoaders.this.global.Name">toTypeName</a>)
      <span class="keyword">var</span> <a title="SymbolLoaders.this.global.TermSymbol" id="309688">module</a> = <a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27030" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.TermSymbol">newModule</a>(<a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>)
      <a href="Symbols.scala.html#98274" title="(tp: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.ClassSymbol">clazz</a> setInfo <a href="#309683" title="SymbolLoaders.this.SymbolLoader">completer</a>
      <a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.TermSymbol">module</a> setInfo <a href="#309683" title="SymbolLoaders.this.SymbolLoader">completer</a>
      <a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a>.<a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.Symbol">moduleClass</a> setInfo <a href="#109562" title="object SymbolLoaders.this.moduleClassLoader">moduleClassLoader</a>
      <a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a> = (<a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27290" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">decls</a> enter <a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>).<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ClassSymbol">[</span><a href="Symbols.scala.html#26291" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>]
      <a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a> = (<a href="#309685" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27290" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">decls</a> enter <a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a>).<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ModuleSymbol">[</span><a href="Symbols.scala.html#26288" title="SymbolLoaders.this.global.ModuleSymbol">ModuleSymbol</a>]
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#27213" title="(x$1: AnyRef)Boolean">linkedModuleOfClass</a> == <a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a>, <a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#309688" title="SymbolLoaders.this.global.TermSymbol">module</a>.<a href="Symbols.scala.html#27212" title="(x$1: AnyRef)Boolean">linkedClassOfModule</a> == <a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>, <a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>)
      <a href="#309687" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>
    }
    <span class="keyword">def</span> <a title="(name0: String)Unit" id="309536">checkAdd</a>(<a title="String" id="309827">name0</a> : <span title="String">String</span>) = {
      <span class="keyword">var</span> <a title="String" id="309830">name</a> = <a href="#309827" title="String">name0</a>
      <span title="Unit" class="keyword">while</span> (<a title="(x$1: Int)Boolean" id="2975">(</a><a href="#309830" title="(x$1: Int)Int">name</a> indexOf <span title="Int(36)" class="char">'$'</span>) != <span title="Int(-1)">-</span><span class="int">1</span>) {
        <a href="#309830" title="String">name</a> = <a href="#309830" title="String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#309830" title="(x$1: Int)Int">name</a> indexOf <span title="Int(36)" class="char">'$'</span>)
      }
    }
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="SymbolLoaders.this.global.PackageScope" id="309538">scope</a> = <a href="Scopes.scala.html#26127" title="(depends0: SymbolLoaders.this.global.PackageScopeDependMap)SymbolLoaders.this.global.PackageScope">newPackageScope</a>(<a href="#109559" title="(loader: SymbolLoaders.this.PackageLoader)SymbolLoaders.this.global.PackageScopeDependMap">computeDepends</a>(<a href="#109554" title="SymbolLoaders.this.PackageLoader" class="keyword">this</a>))
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="309539">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309877">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#309877" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>, <a href="#309877" title="SymbolLoaders.this.global.Symbol">root</a>)
      <a href="#109554" title="PackageLoader.this.type" class="keyword">this</a>.<a href="#309532" title="(x$1: SymbolLoaders.this.global.Symbol)Unit">root</a> = <a href="#309877" title="SymbolLoaders.this.global.Symbol">root</a>
      <a href="#309877" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27164" title="(info: SymbolLoaders.this.global.Type)root.type">setInfo</a>(<span title="SymbolLoaders.this.global.PackageClassInfoType" class="keyword">new</span> <a href="Types.scala.html#26409" title="SymbolLoaders.this.global.PackageClassInfoType">PackageClassInfoType</a>(<a href="#309537" title="=&gt; SymbolLoaders.this.global.PackageScope">scope</a>, <a href="#309877" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109554" title="SymbolLoaders.this.PackageLoader" class="keyword">this</a>))
      <a href="#309540" title="()Unit">refresh</a>()
    }
    <span class="keyword">def</span> <a title="()Unit" id="309540">refresh</a>() {
      /** Is the given name a valid input file base name? */
      <span class="keyword">def</span> <a title="(name: String)Boolean" id="309912">isValid</a>(<a title="String" id="309917">name</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
        <a href="#309917" title="String">name</a>.<span title="()Int">length</span><a title="(x$1: Int)Boolean" id="2981">(</a>) <span title="(x$1: Boolean)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> &amp;&amp; (<a title="(x$1: Boolean)Boolean" id="2231">!</a><a href="#309917" title="String">name</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span>(<span title="java.lang.String(&quot;$class&quot;)" class="string">&quot;$class&quot;</span>) || <a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37253" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XO</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)

      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" id="309913">classes</a>  = <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">HashMap</span>[String, global.classPath0.Context]
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" id="309914">packages</a> = <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">HashMap</span>[String, global.classPath0.Context]

      <span class="keyword">def</span> <a title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit" id="309915">recordClass</a>(<a title="scala.tools.nsc.io.AbstractFile" id="309938">file</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="String" id="309939">extension</a>: <span title="String">String</span>, <a title="(SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean" id="309940">classOK</a>: global.classPath0.Context =&gt; Boolean) {
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#309938" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51645" title="=&gt; Boolean">isDirectory</a> &amp;&amp; <a href="#309938" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span>(<a href="#309939" title="String">extension</a>)) {
          <span class="keyword">val</span> <a title="java.lang.String" id="309945">name</a> = <a href="#309938" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#309938" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>.<a title="(x$1: Int)Int" id="2987">length</a> - <a href="#309939" title="String">extension</a>.<span title="()Int">length</span>)
          <span title="Unit" class="keyword">if</span> (<a href="#309912" title="(name: String)Boolean">isValid</a><span title="(x$1: Boolean)Boolean">(</span><a href="#309945" title="java.lang.String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309913" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">classes</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#309945" title="java.lang.String">name</a>)) {
            <span class="keyword">val</span> <a title="SymbolLoaders.this.global.classPath0.Context" id="309986">clazz</a> = <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168919" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#309945" title="java.lang.String">name</a>, <span title="Boolean(false)" class="keyword">false</span>)
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#309986" title="(x$1: AnyRef)Boolean">clazz</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#309940" title="(v1: SymbolLoaders.this.global.classPath0.Context)Boolean" id="25688">classOK</a>(<a href="#309986" title="SymbolLoaders.this.global.classPath0.Context">clazz</a>)) <a href="#309913" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">classes</a>(<a href="#309945" title="java.lang.String">name</a>) = <a href="#309986" title="SymbolLoaders.this.global.classPath0.Context">clazz</a>
          }
        }
      }

      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.classPath0.Entry" id="310020">dir</a> &lt;- <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168916" title="(f: (SymbolLoaders.this.global.classPath0.Entry) =&gt; Unit)Unit">entries</a>) <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#310020" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168839" title="(x$1: AnyRef)Boolean">location</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#310020" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168839" title="=&gt; scala.tools.nsc.io.AbstractFile">location</a>.<a href="../io/AbstractFile.scala.html#51645" title="=&gt; Boolean">isDirectory</a>) {
        <span class="keyword">for</span> (<a title="scala.tools.nsc.io.AbstractFile" id="310035">file</a> &lt;- <a href="#310020" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168839" title="(f: (scala.tools.nsc.io.AbstractFile) =&gt; Unit)Unit">location</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51645" title="(x$1: Boolean)Boolean">isDirectory</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168929" title="(name: String)Boolean">validPackage</a>(<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309914" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>))
            <a href="#309914" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">packages</a>(<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>) = <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168919" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>, <span title="Boolean(true)" class="keyword">true</span>);
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#109551" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a>)
            <a href="#309915" title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit">recordClass</a>(<a href="#310035" title="scala.tools.nsc.io.AbstractFile">file</a>, <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>, <a title="SymbolLoaders.this.global.classPath0.Context" id="310058">source</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
        }
      }
      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.classPath0.Entry" id="310083">dir</a> &lt;- <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168916" title="(f: (SymbolLoaders.this.global.classPath0.Entry) =&gt; Unit)Unit">entries</a>) <span title="Unit" class="keyword">if</span> (<a href="#310083" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168842" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <span class="keyword">for</span> (<a title="scala.tools.nsc.io.AbstractFile" id="310097">file</a> &lt;- <a href="#310083" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168842" title="=&gt; SymbolLoaders.this.global.classPath0.Source">source</a>.<a href="../util/ClassPath.scala.html#168818" title="(f: (scala.tools.nsc.io.AbstractFile) =&gt; Unit)Unit">location</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51645" title="(x$1: Boolean)Boolean">isDirectory</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168929" title="(name: String)Boolean">validPackage</a>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309914" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>))
            <a href="#309914" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">packages</a>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>) = <a href="#309551" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168919" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>, <span title="Boolean(true)" class="keyword">true</span>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#310083" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168842" title="=&gt; SymbolLoaders.this.global.classPath0.Source">source</a>.<a href="../util/ClassPath.scala.html#168820" title="=&gt; Boolean">compile</a>) 
            <a href="#309915" title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit">recordClass</a>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>, <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span>, <a title="SymbolLoaders.this.global.classPath0.Context" id="310120">source</a> =&gt; <a href="#309530" title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean">checkSource</a>(<a href="#310097" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51636" title="=&gt; String">name</a>, <a href="#310120" title="SymbolLoaders.this.global.classPath0.Context">source</a>.<a href="../util/ClassPath.scala.html#168926" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>))
        }
      }

      // do classes first
      <span class="keyword">for</span> ((<a title="String" id="310153">name</a>, <a title="SymbolLoaders.this.global.classPath0.Context" id="310154">file</a>) &lt;- <a href="#309913" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">classes</a>.<a href="#310133" title="(f: ((String, SymbolLoaders.this.global.classPath0.Context)) =&gt; SymbolLoaders.this.global.Symbol)Unit">iterator</a>) {
        <span class="keyword">val</span> <a title="SymbolLoaders.this.SymbolLoader" id="310157">loader</a> = <span title="SymbolLoaders.this.SymbolLoader" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168925" title="=&gt; Boolean">isSourceFile</a>) {
          <span title="SymbolLoaders.this.ClassfileLoader" class="keyword">new</span> <a href="#109560" title="SymbolLoaders.this.ClassfileLoader">ClassfileLoader</a>(<a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168927" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>, <a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168926" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>, <a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168928" title="=&gt; scala.tools.nsc.io.AbstractFile">sourcePath</a>)
        } <span class="keyword">else</span> {
          <a title="(assertion: Boolean)Unit" id="7943">assert</a>(<a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168926" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>)
          <span title="SymbolLoaders.this.SourcefileLoader" class="keyword">new</span> <a href="#109561" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>(<a href="#310154" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168926" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>)
        }
        <a href="#309535" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#310153" title="String">name</a>, <a href="#310157" title="SymbolLoaders.this.SymbolLoader">loader</a>)
      }

      // packages second
      <span class="keyword">for</span> ((<a title="String" id="310244">name</a>, <a title="SymbolLoaders.this.global.classPath0.Context" id="310245">file</a>) &lt;- <a href="#309914" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<a href="#310224" title="(f: ((String, SymbolLoaders.this.global.classPath0.Context)) =&gt; Unit)Unit">iterator</a>)
        <a href="#309534" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit">enterPackage</a>(<a href="#310244" title="String">name</a>, <a href="#309529" title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader">newPackageLoader</a>(<a href="#310245" title="SymbolLoaders.this.global.classPath0.Context">file</a>))

      // if there's a $member object, enter its members as well.
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309916">pkgModule</a> = <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30397" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="StdNames.scala.html#26690" title="object SymbolLoaders.this.global.nme">nme</a>.<a href="StdNames.scala.html#29744" title="=&gt; SymbolLoaders.this.global.Name">PACKAGEkw</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#309916" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27076" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309916" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27167" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#109561" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>])
        <a href="#109555" title="(m: SymbolLoaders.this.global.Symbol)Unit">openPackageModule</a>(<a href="#309916" title="SymbolLoaders.this.global.Symbol">pkgModule</a>)
    }
  }

  <span class="keyword">def</span> <a title="(m: SymbolLoaders.this.global.Symbol)Unit" id="109555">openPackageModule</a>(<a title="SymbolLoaders.this.global.Symbol" id="310260">m</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) = {
    <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="310263">owner</a> = <a href="#310260" title="SymbolLoaders.this.global.Symbol">m</a>.<a href="Symbols.scala.html#27142" title="=&gt; SymbolLoaders.this.global.Symbol">owner</a>
    <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.Symbol" id="310269">member</a> &lt;- <a href="#310260" title="SymbolLoaders.this.global.Symbol">m</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27304" title="(f: (SymbolLoaders.this.global.Symbol) =&gt; SymbolLoaders.this.global.Symbol)Unit">iterator</a>) {
      // todo: handle overlapping definitions in some way: mark as errors
      // or treat as abstractions. For now the symbol in the package module takes precedence.
      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.Symbol" id="310290">existing</a> &lt;- <a href="#310263" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30397" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="#310269" title="SymbolLoaders.this.global.Symbol">member</a>.<a href="Symbols.scala.html#27147" title="=&gt; SymbolLoaders.this.global.Name">name</a>).<a href="Symbols.scala.html#27184" title="(f: (SymbolLoaders.this.global.Symbol) =&gt; Unit)Unit">alternatives</a>)
        <a href="#310263" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27296" title="(sym: SymbolLoaders.this.global.Symbol)Unit">unlink</a>(<a href="#310290" title="SymbolLoaders.this.global.Symbol">existing</a>)
      <a href="#310263" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30396" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27290" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">enter</a>(<a href="#310269" title="SymbolLoaders.this.global.Symbol">member</a>)
    }
  }

  <span class="keyword">class</span> <a title="class NamespaceLoader extends SymbolLoaders.this.PackageLoader with ScalaObject" id="109556">NamespaceLoader</a><span title="ScalaObject">(</span><a title="SymbolLoaders.this.global.classPath0.Context" id="310340">directory</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109871" title="SymbolLoaders.this.global.classPath0.Context">Context</a>) <span class="keyword">extends</span> <a href="#109554" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>(<a href="#310340" title="SymbolLoaders.this.global.classPath0.Context">directory</a>) {

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="310324">kindString</a>: <span title="String">String</span> = <span title="(x$1: Any)java.lang.String" class="string">&quot;namespace &quot;</span> + <a href="#310331" title="=&gt; String">namespace</a>

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="310325">sourceString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader" id="310326">newPackageLoader</a>(<a title="SymbolLoaders.this.global.classPath0.Context" id="310352">dir</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109871" title="SymbolLoaders.this.global.classPath0.Context">Context</a>): <a href="#109554" title="SymbolLoaders.this.PackageLoader">PackageLoader</a> =
      <span title="SymbolLoaders.this.NamespaceLoader" class="keyword">new</span> <a href="#109556" title="SymbolLoaders.this.NamespaceLoader">NamespaceLoader</a>(<a href="#310352" title="SymbolLoaders.this.global.classPath0.Context">dir</a>)

    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]" id="310327">types</a> = <span title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">HashMap</span>[String, MSILType]()

    <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[String]" id="310329">namespaces</a> = <span title="scala.collection.mutable.HashSet[String]" class="keyword">new</span> <a title="scala.collection.mutable.HashSet[String]" id="24960">HashSet</a>[String]()

    <span class="keyword">def</span> <a title="=&gt; String" id="310331">namespace</a>: <span title="String">String</span> = <span title="String" class="keyword">if</span> (<a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27098" title="=&gt; Boolean">isRoot</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#309532" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>

    // TODO: Add check whether the source is newer than the assembly
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean" id="310332">checkSource</a>(<a title="String" id="310358">name</a>: <span title="String">String</span>, <a title="scala.tools.nsc.io.AbstractFile" id="310359">source</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Boolean" id="310361">result</a> = <span title="(x$1: Boolean)Boolean">(</span><a href="#310359" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#310327" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>.<a title="(key: String)Boolean" id="44678">contains</a>(<a href="#310358" title="String">name</a>)
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#310361" title="Boolean">result</a> &amp;&amp; <a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Skipping source file &quot;</span> + <a href="#310359" title="scala.tools.nsc.io.AbstractFile">source</a>)
      <a href="#310361" title="Boolean">result</a>
    }

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="310333">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="310379">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#109564" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#288369" title="(pakage: SymbolLoaders.this.clrTypes.global.Symbol,typesMap: scala.collection.mutable.Map[String,ch.epfl.lamp.compiler.msil.Type],namespacesSet: scala.collection.mutable.Set[String])Unit">collectMembers</a>(<a href="#310379" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#310327" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>, <a href="#310329" title="=&gt; scala.collection.mutable.HashSet[String]">namespaces</a>)

      <span class="keyword">super</span>.<a href="#309539" title="(root: SymbolLoaders.this.global.Symbol)Unit">doComplete</a>(<a href="#310379" title="SymbolLoaders.this.global.Symbol">root</a>)

      <span class="keyword">for</span> (<a title="String" id="310560">namespace</a> &lt;- <a href="#310329" title="=&gt; scala.collection.mutable.HashSet[String]">namespaces</a>.<a title="(f: (String) =&gt; Unit)Unit" id="39799">iterator</a>) {
        <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="310561">oldPkg</a> = <a href="#310379" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27297" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decls</a> lookup <a href="Names.scala.html#26207" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#310560" title="String">namespace</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#310561" title="(x$1: AnyRef)Boolean">oldPkg</a> == <a href="Symbols.scala.html#26293" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>)
          <a href="#309534" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit">enterPackage</a>(<a href="#310560" title="String">namespace</a>, <span title="SymbolLoaders.this.NamespaceLoader" class="keyword">new</span> <a href="#109556" title="SymbolLoaders.this.NamespaceLoader">NamespaceLoader</a>(<span title="SymbolLoaders.this.global.classPath0.Context" class="keyword">new</span> <a href="../Global.scala.html#39312" title="=&gt; scala.tools.nsc.util.ClassPath">classPath0</a>.<a href="../util/ClassPath.scala.html#109871" title="SymbolLoaders.this.global.classPath0.Context">Context</a>(List<a title="object Nil" id="7700">(</a>))))
        //else System.out.println(&quot;PackageLoader: package already in scope: &quot; + oldPkg.fullNameString)
      }

      // import the CLR types contained in the package (namespace)
      <span class="keyword">for</span> ((<a title="String" id="310616">name</a>, <a title="ch.epfl.lamp.compiler.msil.Type" id="310617">typ</a>) &lt;- <a href="#310327" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>.<a href="#310596" title="(f: ((String, ch.epfl.lamp.compiler.msil.Type)) =&gt; Any)Unit">iterator</a>) {
        <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#310331" title="(x$1: AnyRef)Boolean">namespace</a> == <a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="java.lang.String" id="288710">Namespace</a>, <a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<span title="java.lang.String">FullName</span>)

        <span title="Any" class="keyword">if</span> (<a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="(x$1: ch.epfl.lamp.compiler.msil.Type,x$2: Boolean)Boolean" id="288903">IsDefined</a>(<a href="#109564" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#288330" title="=&gt; ch.epfl.lamp.compiler.msil.Type">SCALA_SYMTAB_ATTR</a>, <span title="Boolean(false)" class="keyword">false</span>)) {
          <span class="keyword">val</span> <a title="Array[java.lang.Object]" id="310637">attrs</a> = <a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="(x$1: ch.epfl.lamp.compiler.msil.Type,x$2: Boolean)Array[java.lang.Object]" id="288900">GetCustomAttributes</a>(<a href="#109564" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#288330" title="=&gt; ch.epfl.lamp.compiler.msil.Type">SCALA_SYMTAB_ATTR</a>, <span title="Boolean(false)" class="keyword">false</span>)
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span> (<a href="#310637" title="Array[java.lang.Object]">attrs</a>.<a title="(x$1: Int)Boolean" id="2973">length</a> == <span title="Int(1)" class="int">1</span>, <a href="#310637" title="Array[java.lang.Object]">attrs</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="ch.epfl.lamp.compiler.msil.Attribute" id="310638">a</a> = <a href="#310637" title="(i: Int)java.lang.Object" id="24729">attrs</a>(<span title="Int(0)" class="int">0</span>).<span title="[T0]T0">asInstanceOf</span><span title="ch.epfl.lamp.compiler.msil.Attribute">[</span><a title="ch.epfl.lamp.compiler.msil.Attribute" id="109646">MSILAttribute</a>]
          <span title="Any" class="keyword">if</span> (<a href="#310638" title="ch.epfl.lamp.compiler.msil.Attribute">a</a>.<a title="()ch.epfl.lamp.compiler.msil.ConstructorInfo" id="310682">getConstructor</a><span title="(x$1: AnyRef)Boolean">(</span>) == <a href="#109564" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#288333" title="=&gt; ch.epfl.lamp.compiler.msil.ConstructorInfo">SYMTAB_CONSTR</a>)
            <a href="#309535" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#310616" title="String">name</a>, <span title="SymbolLoaders.this.MSILTypeLoader" class="keyword">new</span> <a href="#109557" title="SymbolLoaders.this.MSILTypeLoader">MSILTypeLoader</a>(<a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>))
        } 
        <span class="keyword">else</span>
          <a href="#309535" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#310616" title="String">name</a>, <span title="SymbolLoaders.this.MSILTypeLoader" class="keyword">new</span> <a href="#109557" title="SymbolLoaders.this.MSILTypeLoader">MSILTypeLoader</a>(<a href="#310617" title="ch.epfl.lamp.compiler.msil.Type">typ</a>))
      }

      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="310381">pkgModule</a> = <a href="#310379" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27163" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30397" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="StdNames.scala.html#26690" title="object SymbolLoaders.this.global.nme">nme</a>.<a href="StdNames.scala.html#29744" title="=&gt; SymbolLoaders.this.global.Name">PACKAGEkw</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#310381" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27076" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#310381" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27167" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#109561" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>])
        <a href="#109555" title="(m: SymbolLoaders.this.global.Symbol)Unit">openPackageModule</a>(<a href="#310381" title="SymbolLoaders.this.global.Symbol">pkgModule</a>)
    }
  }  // NamespaceLoader

  <span class="keyword">class</span> <a title="class MSILTypeLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109557">MSILTypeLoader</a><span title="ScalaObject">(</span><a title="ch.epfl.lamp.compiler.msil.Type" id="310711">typ</a>: <a title="ch.epfl.lamp.compiler.msil.Type" id="109571">MSILType</a>) <span class="keyword">extends</span> <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object MSILTypeLoader.this.typeParser" id="310706">typeParser</a> <span title="ScalaObject" class="keyword">extends</span> clr.<a href="clr/TypeParser.scala.html#23109" title="scala.tools.nsc.symtab.clr.TypeParser">TypeParser</a> {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="310781">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10205" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109551" title="=&gt; scala.tools.nsc.Global">global</a>
    } 
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="310708">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="310786">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#310706" title="object MSILTypeLoader.this.typeParser">typeParser</a>.<a href="clr/TypeParser.scala.html#310762" title="(typ: ch.epfl.lamp.compiler.msil.Type,root: MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol)Unit">parse</a>(<a href="#310711" title="ch.epfl.lamp.compiler.msil.Type">typ</a>, <a href="#310786" title="SymbolLoaders.this.global.Symbol">root</a>.<span title="[T0]T0">asInstanceOf</span><span title="MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol">[</span>typeParser.global.loaders.clrTypes.global.<a href="Symbols.scala.html#26286" title="MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol">Symbol</a>]) // don't check this  
    } 
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="310709">kindString</a>: <span title="String">String</span> = <a href="#310711" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<span title="java.lang.String">FullName</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="310710">sourceString</a> = <a href="#310711" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="()ch.epfl.lamp.compiler.msil.Assembly" id="288725">Assembly</a>.<a title="java.lang.String" id="291338">FullName</a>
  }
  // IDE hook.
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol,loader: SymbolLoaders.this.ClassfileLoader)(f: =&gt; Unit)Unit" id="109558">completeClassfile</a>(<a title="SymbolLoaders.this.global.Symbol" id="310814">root</a> : <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>, <a title="SymbolLoaders.this.ClassfileLoader" id="310815">loader</a> : <a href="#109560" title="SymbolLoaders.this.ClassfileLoader">ClassfileLoader</a>)(<a title="=&gt; Unit" id="310816">f</a> : =&gt; Unit) : <span title="Unit">Unit</span> = <a href="#310816" title="=&gt; Unit">f</a>
  // incremental builder hook
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(loader: SymbolLoaders.this.PackageLoader)SymbolLoaders.this.global.PackageScopeDependMap" id="109559">computeDepends</a>(<a title="SymbolLoaders.this.PackageLoader" id="309545">loader</a> : <a href="#109554" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>) : <a href="Scopes.scala.html#26126" title="SymbolLoaders.this.global.PackageScopeDependMap">PackageScopeDependMap</a> = {
    <span title="Null(null)" class="keyword">null</span>
  }

  <span class="keyword">class</span> <a title="class ClassfileLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109560">ClassfileLoader</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="109990">classFile</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="109991">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="scala.tools.nsc.io.AbstractFile" id="109992">sourcePath0</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>) <span class="keyword">extends</span> <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object ClassfileLoader.this.classfileParser" id="109985">classfileParser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="classfile/ClassfileParser.scala.html#20064" title="scala.tools.nsc.symtab.classfile.ClassfileParser">ClassfileParser</a> {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="310825">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10205" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109551" title="=&gt; scala.tools.nsc.Global">global</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.AbstractFile" id="310827">sourcePath</a> = <a href="#109992" title="scala.tools.nsc.io.AbstractFile">sourcePath0</a> /* could be null */
    }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109987">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="310215">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#109558" title="(root: SymbolLoaders.this.global.Symbol,loader: SymbolLoaders.this.ClassfileLoader)(f: =&gt; Unit)Unit">completeClassfile</a>(<a href="#310215" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109560" title="SymbolLoaders.this.ClassfileLoader" class="keyword">this</a>) {
        <a href="#109985" title="object ClassfileLoader.this.classfileParser">classfileParser</a>.<a href="classfile/ClassfileParser.scala.html#68061" title="(file: scala.tools.nsc.io.AbstractFile,root: ClassfileLoader.this.classfileParser.global.Symbol)Unit">parse</a>(<a href="#109990" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>, <a href="#310215" title="SymbolLoaders.this.global.Symbol">root</a>)
      }
      <a href="#310215" title="SymbolLoaders.this.global.Symbol">root</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="310842">clazz</a>: <a href="Symbols.scala.html#26291" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a> =&gt; 
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#109991" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#310842" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#98290" title="(x$1: AnyRef)Boolean">sourceFile</a> eq <span title="Null(null)" class="keyword">null</span>)) 
            <a href="#310842" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#98291" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#109991" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
        <span title="Unit" class="keyword">case</span> <a title="SymbolLoaders.this.global.ModuleSymbol" id="310859">module</a>: <a href="Symbols.scala.html#26288" title="SymbolLoaders.this.global.ModuleSymbol">ModuleSymbol</a> <span class="keyword">if</span> <a href="#310859" title="SymbolLoaders.this.global.ModuleSymbol">module</a>.<a href="Symbols.scala.html#29684" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="Symbols.scala.html#26291" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>] =&gt;
          <span class="keyword">val</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="310860">clazz</a> = <a href="#310859" title="SymbolLoaders.this.global.ModuleSymbol">module</a>.<a href="Symbols.scala.html#29684" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ClassSymbol">[</span><a href="Symbols.scala.html#26291" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>]
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#109991" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#310860" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#98290" title="(x$1: AnyRef)Boolean">sourceFile</a> eq <span title="Null(null)" class="keyword">null</span>)) 
            <a href="#310860" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#98291" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#109991" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
        <span title="Unit" class="keyword">case</span> _ =&gt;   
      }
      <span title="Unit" class="keyword">if</span> (<a href="#310215" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27236" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) 
        <a href="SymbolTable.scala.html#26234" title="(symbol: SymbolLoaders.this.global.Symbol,tpe: SymbolLoaders.this.global.LazyType)Unit">prepareReset</a>(<a href="#310215" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109560" title="SymbolLoaders.this.ClassfileLoader" class="keyword">this</a>)
    }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109988">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;class file&quot;)" class="string">&quot;class file&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109989">sourceString</a> = <a href="#109990" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>.<a href="../io/AbstractFile.scala.html#51660" title="()String">toString</a>()
  }

  <span class="keyword">class</span> <a title="class SourcefileLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109561">SourcefileLoader</a><span title="ScalaObject">(</span><span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="310173">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20689" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>) <span class="keyword">extends</span> <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="310170">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="310882">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>): <span title="Unit">Unit</span> = <a href="#109551" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39408" title="=&gt; SymbolLoaders.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40453" title="(file: scala.tools.nsc.io.AbstractFile)Unit">compileLate</a>(<a href="#310173" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>)
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="310171">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;source file&quot;)" class="string">&quot;source file&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="310172">sourceString</a> = <a href="#310173" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>.<a href="../io/AbstractFile.scala.html#51660" title="()String">toString</a>()
  }

  <span class="keyword">object</span> <a title="object SymbolLoaders.this.moduleClassLoader" id="109562">moduleClassLoader</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#109553" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109775">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="310906">root</a>: <a href="Symbols.scala.html#26286" title="SymbolLoaders.this.global.Symbol">Symbol</a>) { <a href="#310906" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27217" title="=&gt; SymbolLoaders.this.global.Symbol">sourceModule</a>.<a href="Symbols.scala.html#27169" title="=&gt; SymbolLoaders.this.global.Symbol">initialize</a> }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109776">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="109777">sourceString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  }

  <span class="keyword">object</span> <a title="object SymbolLoaders.this.clrTypes" id="109564">clrTypes</a> <span title="ScalaObject" class="keyword">extends</span> clr.<a href="clr/CLRTypes.scala.html#23121" title="scala.tools.nsc.symtab.clr.CLRTypes">CLRTypes</a> {
    <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="288371">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10205" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109551" title="=&gt; scala.tools.nsc.Global">global</a>
    <span title="Unit" class="keyword">if</span> (<a href="#288371" title="=&gt; SymbolLoaders.this.global.type">global</a>.<a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a>) <a href="clr/CLRTypes.scala.html#288358" title="()Unit">init</a>()
  }

}

        </pre>
    </body>
</html>