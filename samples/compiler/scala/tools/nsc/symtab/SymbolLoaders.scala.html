<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/symtab/SymbolLoaders.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: SymbolLoaders.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> symtab
 
<span class="keyword">import</span> java.io.{File, IOException} 
 
<span class="keyword">import</span> ch.epfl.lamp.compiler.msil.{Type =&gt; MSILType, Attribute =&gt; MSILAttribute}

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.compat.Platform.currentTime
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> classfile.ClassfileParser
<span class="keyword">import</span> Flags._

/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymbolLoaders extends java.lang.Object with ScalaObject" id="10136">SymbolLoaders</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="109153">global</a>: <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** A lazy type that completes itself by calling parameter doComplete.
   *  Any linked modules/classes or module classes are also initialized.
   *
   *  @param doComplete    The type completion procedure to be run.
   *                       It takes symbol to compkete as parameter and returns
   *                       name of file loaded for completion as a result.
   *                       Can throw an IOException on error.
   */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SymbolLoader extends SymbolLoaders.this.global.LazyType with ScalaObject" id="109155">SymbolLoader</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Types.scala.html#26283" title="SymbolLoaders.this.global.LazyType">LazyType</a> {

    /** Load source or class file for `root', return */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109298">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="308472">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>): <span title="Unit">Unit</span>

    /** The kind of file that's processed by this loader */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109299">kindString</a>: <span title="String">String</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="109301">ok</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.AbstractFile" id="109303">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109304">sourceString</a>: <span title="String">String</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109305">complete</a>(<a title="SymbolLoaders.this.global.Symbol" id="308480">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) : <span title="Unit">Unit</span> = {
      <span class="keyword">try</span> {
        <span class="keyword">val</span> <a title="Long" id="308485">start</a> = <a title="=&gt; Long" id="38988">currentTime</a>
        <span class="keyword">val</span> <a title="scala.tools.nsc.Phase" id="308486">currentphase</a> = <a href="SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>
        <a href="#109298" title="(root: SymbolLoaders.this.global.Symbol)Unit">doComplete</a>(<a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>)
        <a href="SymbolTable.scala.html#26089" title="(p: scala.tools.nsc.Phase)Unit">phase</a> = <a href="#308486" title="scala.tools.nsc.Phase">currentphase</a>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="308487">source</a> = <a href="#109299" title="(x$1: Any)java.lang.String">kindString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#109304" title="=&gt; String">sourceString</a>
        <a href="../Global.scala.html#39067" title="(msg: String,start: Long)Unit">informTime</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;loaded &quot;</span> + <a href="#308487" title="=&gt; java.lang.String">source</a>, <a href="#308485" title="Long">start</a>)
        //if (root.rawInfo == this &amp;&amp; root.linkedSym.rawInfo == this)
        //  throw new TypeError(source + &quot; does not define &quot; + root)
        <a href="#109301" title="(x$1: Boolean)Unit">ok</a> = <span title="Boolean(true)" class="keyword">true</span>
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="java.io.IOException" id="308522">ex</a>: <a title="java.io.IOException" id="3636">IOException</a> =&gt;
          <a href="#109301" title="(x$1: Boolean)Unit">ok</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="#308522" title="java.io.IOException">ex</a>.<a title="()Unit" id="25932">printStackTrace</a>()
          <span class="keyword">val</span> <a title="java.lang.String" id="308523">msg</a> = <a href="#308522" title="java.io.IOException">ex</a>.<a title="()java.lang.String" id="25926">getMessage</a>()
          <a href="../Global.scala.html#39060" title="(msg: String)Unit">error</a>(
            <span title="String" class="keyword">if</span> (<a href="#308523" title="(x$1: AnyRef)Boolean">msg</a> eq <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Any)java.lang.String" class="string">&quot;i/o error while loading &quot;</span> + <a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26988" title="=&gt; SymbolLoaders.this.global.Name">name</a>
            <span class="keyword">else</span> <span title="(x$1: Any)java.lang.String" class="string">&quot;error while loading &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26988" title="=&gt; SymbolLoaders.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> + <a href="#308523" title="java.lang.String">msg</a>);
      }
      <a href="#109307" title="(root: SymbolLoaders.this.global.Symbol)Unit">initRoot</a>(<a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>) <a href="#109307" title="(root: SymbolLoaders.this.global.Symbol)Unit">initRoot</a>(<a href="#308480" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27055" title="=&gt; SymbolLoaders.this.global.Symbol">linkedSym</a>)
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109306">load</a>(<a title="SymbolLoaders.this.global.Symbol" id="308563">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) { <a href="#109305" title="(root: SymbolLoaders.this.global.Symbol)Unit">complete</a>(<a href="#308563" title="SymbolLoaders.this.global.Symbol">root</a>) }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109307">initRoot</a>(<a title="SymbolLoaders.this.global.Symbol" id="308557">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27008" title="(x$1: AnyRef)Boolean">rawInfo</a> == <a href="#109155" title="SymbolLoaders.this.SymbolLoader" class="keyword">this</a>) {
        <span class="keyword">def</span> <a title="(sym: SymbolLoaders.this.global.Symbol)Any" id="308578">markAbsent</a>(<a title="SymbolLoaders.this.global.Symbol" id="308579">sym</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) =
          <span title="Any" class="keyword">if</span> (<a href="#308579" title="(x$1: AnyRef)Boolean">sym</a> != <a href="Symbols.scala.html#26134" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>) <a href="#308579" title="SymbolLoaders.this.global.Symbol">sym</a>.<a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)sym.type">setInfo</a>(<span title="SymbolLoaders.this.global.Type" class="keyword">if</span> (<a href="#109301" title="=&gt; Boolean">ok</a>) <a href="Types.scala.html#26224" title="object SymbolLoaders.this.global.NoType">NoType</a> <span class="keyword">else</span> <a href="Types.scala.html#26217" title="object SymbolLoaders.this.global.ErrorType">ErrorType</a>);
        <a href="#308578" title="(sym: SymbolLoaders.this.global.Symbol)Any">markAbsent</a>(<a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>)
        <a href="#308578" title="(sym: SymbolLoaders.this.global.Symbol)Any">markAbsent</a><span title="Unit">(</span><a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27059" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>)
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26897" title="(x$1: Boolean)Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26934" title="=&gt; Boolean">isModuleClass</a>) <a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27008" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<a href="Types.scala.html#30254" title="(sym: SymbolLoaders.this.global.Symbol)Unit">load</a>(<a href="#308557" title="SymbolLoaders.this.global.Symbol">root</a>)
    }
  }

  /** Load contents of a package
   */
  <span class="keyword">class</span> <a title="class PackageLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109156">PackageLoader</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="SymbolLoaders.this.global.classPath0.Context" id="308632">directory</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109473" title="SymbolLoaders.this.global.classPath0.Context">Context</a>) <span class="keyword">extends</span> <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {

    // XXX: for IDE.
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="308608">sourceString</a> = <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168284" title="()String">toString</a>()

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="308609">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;directory path&quot;)" class="string">&quot;directory path&quot;</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader" id="308610">newPackageLoader</a>(<a title="SymbolLoaders.this.global.classPath0.Context" id="308687">dir</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109473" title="SymbolLoaders.this.global.classPath0.Context">Context</a>): <a href="#109156" title="SymbolLoaders.this.PackageLoader">PackageLoader</a> =
      <span title="SymbolLoaders.this.PackageLoader" class="keyword">new</span> <a href="#109156" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>(<a href="#308687" title="SymbolLoaders.this.global.classPath0.Context">dir</a>)

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean" id="308611">checkSource</a>(<a title="String" id="308691">name</a>: <span title="String">String</span>, <a title="scala.tools.nsc.io.AbstractFile" id="308692">source</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>): <span title="Boolean">Boolean</span> = <a href="#308692" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">var</span> <a title="SymbolLoaders.this.global.Symbol" id="308613">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a> = _

    <span class="keyword">def</span> <a title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit" id="308615">enterPackage</a>(<a title="String" id="308696">name</a>: <span title="String">String</span>, <a title="SymbolLoaders.this.SymbolLoader" id="308697">completer</a>: <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a>) {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="308699">preExisting</a> = <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27138" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">lookup</a>(<a href="Names.scala.html#26048" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#308696" title="String">name</a>))
      <span title="Unit" class="keyword">if</span> (<a href="#308699" title="(x$1: AnyRef)Boolean">preExisting</a> != <a href="Symbols.scala.html#26134" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>)
        <span title="Nothing" class="keyword">throw</span> <a href="Types.scala.html#51369" title="(msg: String)SymbolLoaders.this.global.TypeError" class="keyword">new</a> <a href="Types.scala.html#26459" title="SymbolLoaders.this.global.TypeError">TypeError</a>(
          <a href="#308613" title="(other: String)java.lang.String" id="8103">root</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; contains object and package with same name: &quot;)" class="string">&quot; contains object and package with same name: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#308696" title="String">name</a>+<span title="java.lang.String(&quot;\012one of them needs to be removed from classpath&quot;)" class="string">&quot;\none of them needs to be removed from classpath&quot;</span>)
          
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.TermSymbol" id="308700">pkg</a> = <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26872" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.TermSymbol">newPackage</a>(<a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26048" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#308696" title="String">name</a>))
      <a href="#308700" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#29498" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.Symbol">setInfo</a>(<a href="#308697" title="SymbolLoaders.this.SymbolLoader">completer</a>)
      <a href="#308700" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)pkg.type">setInfo</a>(<a href="#308700" title="SymbolLoaders.this.global.TermSymbol">pkg</a>.<a href="Symbols.scala.html#29498" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<a href="Symbols.scala.html#27003" title="=&gt; SymbolLoaders.this.global.Type">tpe</a>)
      <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27131" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">enter</a><span title="Unit">(</span><a href="#308700" title="SymbolLoaders.this.global.TermSymbol">pkg</a>)
    }
    // @return - the symbol of the class
    <span class="keyword">def</span> <a title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol" id="308616">enterClassAndModule</a>(<a title="String" id="308763">name</a>: <span title="String">String</span>, <a title="SymbolLoaders.this.SymbolLoader" id="308764">completer</a>: <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a>): <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a> = {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="308766">owner</a> = <span title="SymbolLoaders.this.global.Symbol" class="keyword">if</span> (<a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26939" title="=&gt; Boolean">isRoot</a>) <a href="Definitions.scala.html#26479" title="object SymbolLoaders.this.global.definitions">definitions</a>.<a href="Definitions.scala.html#28243" title="=&gt; SymbolLoaders.this.global.Symbol">EmptyPackageClass</a> <span class="keyword">else</span> <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Name" id="308767">className</a> = <a href="Names.scala.html#26048" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#308763" title="String">name</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27138" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">lookup</a><span title="(x$1: AnyRef)Boolean">(</span><a href="Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>) == <a href="Symbols.scala.html#26134" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>, <a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27089" title="(x$1: Any)java.lang.String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> + <a href="#308763" title="String">name</a>)
      <span class="keyword">var</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="308768">clazz</a> = <a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#26885" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.ClassSymbol">newClass</a>(<a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>.<a href="Names.scala.html#28202" title="=&gt; SymbolLoaders.this.global.Name">toTypeName</a>)
      <span class="keyword">var</span> <a title="SymbolLoaders.this.global.TermSymbol" id="308769">module</a> = <a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#26871" title="(pos: scala.tools.nsc.util.Position,name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.TermSymbol">newModule</a>(<a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>, <a href="Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SymbolLoaders.this.global.Name">name</a>)
      <a href="Symbols.scala.html#97896" title="(tp: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.ClassSymbol">clazz</a> setInfo <a href="#308764" title="SymbolLoaders.this.SymbolLoader">completer</a>
      <a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.TermSymbol">module</a> setInfo <a href="#308764" title="SymbolLoaders.this.SymbolLoader">completer</a>
      <a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a>.<a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)SymbolLoaders.this.global.Symbol">moduleClass</a> setInfo <a href="#109164" title="object SymbolLoaders.this.moduleClassLoader">moduleClassLoader</a>
      <a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a> = (<a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27131" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">decls</a> enter <a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>).<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ClassSymbol">[</span><a href="Symbols.scala.html#26132" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>]
      <a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a> = (<a href="#308766" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27131" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">decls</a> enter <a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a>).<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ModuleSymbol">[</span><a href="Symbols.scala.html#26129" title="SymbolLoaders.this.global.ModuleSymbol">ModuleSymbol</a>]
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#27054" title="(x$1: AnyRef)Boolean">linkedModuleOfClass</a> == <a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a>, <a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#308769" title="SymbolLoaders.this.global.TermSymbol">module</a>.<a href="Symbols.scala.html#27053" title="(x$1: AnyRef)Boolean">linkedClassOfModule</a> == <a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>, <a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>)
      <a href="#308768" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>
    }
    <span class="keyword">def</span> <a title="(name0: String)Unit" id="308617">checkAdd</a>(<a title="String" id="308908">name0</a> : <span title="String">String</span>) = {
      <span class="keyword">var</span> <a title="String" id="308911">name</a> = <a href="#308908" title="String">name0</a>
      <span title="Unit" class="keyword">while</span> (<a title="(x$1: Int)Boolean" id="2954">(</a><a href="#308911" title="(x$1: Int)Int">name</a> indexOf <span title="Int(36)" class="char">'$'</span>) != <span title="Int(-1)">-</span><span class="int">1</span>) {
        <a href="#308911" title="String">name</a> = <a href="#308911" title="String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#308911" title="(x$1: Int)Int">name</a> indexOf <span title="Int(36)" class="char">'$'</span>)
      }
    }
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="SymbolLoaders.this.global.PackageScope" id="308619">scope</a> = <a href="Scopes.scala.html#25968" title="(depends0: SymbolLoaders.this.global.PackageScopeDependMap)SymbolLoaders.this.global.PackageScope">newPackageScope</a>(<a href="#109161" title="(loader: SymbolLoaders.this.PackageLoader)SymbolLoaders.this.global.PackageScopeDependMap">computeDepends</a>(<a href="#109156" title="SymbolLoaders.this.PackageLoader" class="keyword">this</a>))
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="308620">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="308958">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#308958" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>, <a href="#308958" title="SymbolLoaders.this.global.Symbol">root</a>)
      <a href="#109156" title="PackageLoader.this.type" class="keyword">this</a>.<a href="#308613" title="(x$1: SymbolLoaders.this.global.Symbol)Unit">root</a> = <a href="#308958" title="SymbolLoaders.this.global.Symbol">root</a>
      <a href="#308958" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27005" title="(info: SymbolLoaders.this.global.Type)root.type">setInfo</a>(<span title="SymbolLoaders.this.global.PackageClassInfoType" class="keyword">new</span> <a href="Types.scala.html#26250" title="SymbolLoaders.this.global.PackageClassInfoType">PackageClassInfoType</a>(<a href="#308618" title="=&gt; SymbolLoaders.this.global.PackageScope">scope</a>, <a href="#308958" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109156" title="SymbolLoaders.this.PackageLoader" class="keyword">this</a>))
      <a href="#308621" title="()Unit">refresh</a>()
    }
    <span class="keyword">def</span> <a title="()Unit" id="308621">refresh</a>() {
      /** Is the given name a valid input file base name? */
      <span class="keyword">def</span> <a title="(name: String)Boolean" id="308993">isValid</a>(<a title="String" id="308998">name</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
        <a href="#308998" title="String">name</a>.<span title="()Int">length</span><a title="(x$1: Int)Boolean" id="2960">(</a>) <span title="(x$1: Boolean)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> &amp;&amp; (<a title="(x$1: Boolean)Boolean" id="2210">!</a><a href="#308998" title="String">name</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span>(<span title="java.lang.String(&quot;$class&quot;)" class="string">&quot;$class&quot;</span>) || <a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37058" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XO</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)

      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" id="308994">classes</a>  = <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">HashMap</span>[String, global.classPath0.Context]
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" id="308995">packages</a> = <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">HashMap</span>[String, global.classPath0.Context]

      <span class="keyword">def</span> <a title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit" id="308996">recordClass</a>(<a title="scala.tools.nsc.io.AbstractFile" id="309019">file</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="String" id="309020">extension</a>: <span title="String">String</span>, <a title="(SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean" id="309021">classOK</a>: global.classPath0.Context =&gt; Boolean) {
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#309019" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51391" title="=&gt; Boolean">isDirectory</a> &amp;&amp; <a href="#309019" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span>(<a href="#309020" title="String">extension</a>)) {
          <span class="keyword">val</span> <a title="java.lang.String" id="309026">name</a> = <a href="#309019" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#309019" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>.<a title="(x$1: Int)Int" id="2966">length</a> - <a href="#309020" title="String">extension</a>.<span title="()Int">length</span>)
          <span title="Unit" class="keyword">if</span> (<a href="#308993" title="(name: String)Boolean">isValid</a><span title="(x$1: Boolean)Boolean">(</span><a href="#309026" title="java.lang.String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308994" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">classes</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#309026" title="java.lang.String">name</a>)) {
            <span class="keyword">val</span> <a title="SymbolLoaders.this.global.classPath0.Context" id="309067">clazz</a> = <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168281" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#309026" title="java.lang.String">name</a>, <span title="Boolean(false)" class="keyword">false</span>)
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#309067" title="(x$1: AnyRef)Boolean">clazz</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#309021" title="(v1: SymbolLoaders.this.global.classPath0.Context)Boolean" id="25529">classOK</a>(<a href="#309067" title="SymbolLoaders.this.global.classPath0.Context">clazz</a>)) <a href="#308994" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">classes</a>(<a href="#309026" title="java.lang.String">name</a>) = <a href="#309067" title="SymbolLoaders.this.global.classPath0.Context">clazz</a>
          }
        }
      }

      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.classPath0.Entry" id="309101">dir</a> &lt;- <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168278" title="(f: (SymbolLoaders.this.global.classPath0.Entry) =&gt; Unit)Unit">entries</a>) <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#309101" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168201" title="(x$1: AnyRef)Boolean">location</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <a href="#309101" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168201" title="=&gt; scala.tools.nsc.io.AbstractFile">location</a>.<a href="../io/AbstractFile.scala.html#51391" title="=&gt; Boolean">isDirectory</a>) {
        <span class="keyword">for</span> (<a title="scala.tools.nsc.io.AbstractFile" id="309116">file</a> &lt;- <a href="#309101" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168201" title="(f: (scala.tools.nsc.io.AbstractFile) =&gt; Unit)Unit">location</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51391" title="(x$1: Boolean)Boolean">isDirectory</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168291" title="(name: String)Boolean">validPackage</a>(<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308995" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>))
            <a href="#308995" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">packages</a>(<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>) = <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168281" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>, <span title="Boolean(true)" class="keyword">true</span>);
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#109153" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39184" title="=&gt; Boolean">forMSIL</a>)
            <a href="#308996" title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit">recordClass</a>(<a href="#309116" title="scala.tools.nsc.io.AbstractFile">file</a>, <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>, <a title="SymbolLoaders.this.global.classPath0.Context" id="309139">source</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>)
        }
      }
      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.classPath0.Entry" id="309164">dir</a> &lt;- <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168278" title="(f: (SymbolLoaders.this.global.classPath0.Entry) =&gt; Unit)Unit">entries</a>) <span title="Unit" class="keyword">if</span> (<a href="#309164" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168204" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <span class="keyword">for</span> (<a title="scala.tools.nsc.io.AbstractFile" id="309178">file</a> &lt;- <a href="#309164" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168204" title="=&gt; SymbolLoaders.this.global.classPath0.Source">source</a>.<a href="../util/ClassPath.scala.html#168180" title="(f: (scala.tools.nsc.io.AbstractFile) =&gt; Unit)Unit">location</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51391" title="(x$1: Boolean)Boolean">isDirectory</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168291" title="(name: String)Boolean">validPackage</a>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308995" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<span title="(key: String)Boolean">isDefinedAt</span>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>))
            <a href="#308995" title="(key: String,value: SymbolLoaders.this.global.classPath0.Context)Unit">packages</a>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>) = <a href="#308632" title="=&gt; SymbolLoaders.this.global.classPath0.Context">directory</a>.<a href="../util/ClassPath.scala.html#168281" title="(name: String,isDir: Boolean)SymbolLoaders.this.global.classPath0.Context">find</a>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>, <span title="Boolean(true)" class="keyword">true</span>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#309164" title="SymbolLoaders.this.global.classPath0.Entry">dir</a>.<a href="../util/ClassPath.scala.html#168204" title="=&gt; SymbolLoaders.this.global.classPath0.Source">source</a>.<a href="../util/ClassPath.scala.html#168182" title="=&gt; Boolean">compile</a>) 
            <a href="#308996" title="(file: scala.tools.nsc.io.AbstractFile,extension: String,classOK: (SymbolLoaders.this.global.classPath0.Context) =&gt; Boolean)Unit">recordClass</a>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>, <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span>, <a title="SymbolLoaders.this.global.classPath0.Context" id="309201">source</a> =&gt; <a href="#308611" title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean">checkSource</a>(<a href="#309178" title="scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a>, <a href="#309201" title="SymbolLoaders.this.global.classPath0.Context">source</a>.<a href="../util/ClassPath.scala.html#168288" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>))
        }
      }

      // do classes first
      <span class="keyword">for</span> ((<a title="String" id="309234">name</a>, <a title="SymbolLoaders.this.global.classPath0.Context" id="309235">file</a>) &lt;- <a href="#308994" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">classes</a>.<a href="#309214" title="(f: ((String, SymbolLoaders.this.global.classPath0.Context)) =&gt; SymbolLoaders.this.global.Symbol)Unit">iterator</a>) {
        <span class="keyword">val</span> <a title="SymbolLoaders.this.SymbolLoader" id="309238">loader</a> = <span title="SymbolLoaders.this.SymbolLoader" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168287" title="=&gt; Boolean">isSourceFile</a>) {
          <span title="SymbolLoaders.this.ClassfileLoader" class="keyword">new</span> <a href="#109162" title="SymbolLoaders.this.ClassfileLoader">ClassfileLoader</a>(<a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168289" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>, <a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168288" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>, <a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168290" title="=&gt; scala.tools.nsc.io.AbstractFile">sourcePath</a>)
        } <span class="keyword">else</span> {
          <a title="(assertion: Boolean)Unit" id="7874">assert</a>(<a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168288" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>)
          <span title="SymbolLoaders.this.SourcefileLoader" class="keyword">new</span> <a href="#109163" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>(<a href="#309235" title="SymbolLoaders.this.global.classPath0.Context">file</a>.<a href="../util/ClassPath.scala.html#168288" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>)
        }
        <a href="#308616" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#309234" title="String">name</a>, <a href="#309238" title="SymbolLoaders.this.SymbolLoader">loader</a>)
      }

      // packages second
      <span class="keyword">for</span> ((<a title="String" id="309325">name</a>, <a title="SymbolLoaders.this.global.classPath0.Context" id="309326">file</a>) &lt;- <a href="#308995" title="scala.collection.mutable.HashMap[String,SymbolLoaders.this.global.classPath0.Context]">packages</a>.<a href="#309305" title="(f: ((String, SymbolLoaders.this.global.classPath0.Context)) =&gt; Unit)Unit">iterator</a>)
        <a href="#308615" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit">enterPackage</a>(<a href="#309325" title="String">name</a>, <a href="#308610" title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader">newPackageLoader</a>(<a href="#309326" title="SymbolLoaders.this.global.classPath0.Context">file</a>))

      // if there's a $member object, enter its members as well.
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="308997">pkgModule</a> = <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30211" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="StdNames.scala.html#26531" title="object SymbolLoaders.this.global.nme">nme</a>.<a href="StdNames.scala.html#29558" title="=&gt; SymbolLoaders.this.global.Name">PACKAGEkw</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#308997" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#26917" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#308997" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27008" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#109163" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>])
        <a href="#109157" title="(m: SymbolLoaders.this.global.Symbol)Unit">openPackageModule</a>(<a href="#308997" title="SymbolLoaders.this.global.Symbol">pkgModule</a>)
    }
  }

  <span class="keyword">def</span> <a title="(m: SymbolLoaders.this.global.Symbol)Unit" id="109157">openPackageModule</a>(<a title="SymbolLoaders.this.global.Symbol" id="309341">m</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) = {
    <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309344">owner</a> = <a href="#309341" title="SymbolLoaders.this.global.Symbol">m</a>.<a href="Symbols.scala.html#26983" title="=&gt; SymbolLoaders.this.global.Symbol">owner</a>
    <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.Symbol" id="309350">member</a> &lt;- <a href="#309341" title="SymbolLoaders.this.global.Symbol">m</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27145" title="(f: (SymbolLoaders.this.global.Symbol) =&gt; SymbolLoaders.this.global.Symbol)Unit">iterator</a>) {
      // todo: handle overlapping definitions in some way: mark as errors
      // or treat as abstractions. For now the symbol in the package module takes precedence.
      <span class="keyword">for</span> (<a title="SymbolLoaders.this.global.Symbol" id="309371">existing</a> &lt;- <a href="#309344" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30211" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="#309350" title="SymbolLoaders.this.global.Symbol">member</a>.<a href="Symbols.scala.html#26988" title="=&gt; SymbolLoaders.this.global.Name">name</a>).<a href="Symbols.scala.html#27025" title="(f: (SymbolLoaders.this.global.Symbol) =&gt; Unit)Unit">alternatives</a>)
        <a href="#309344" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27137" title="(sym: SymbolLoaders.this.global.Symbol)Unit">unlink</a>(<a href="#309371" title="SymbolLoaders.this.global.Symbol">existing</a>)
      <a href="#309344" title="SymbolLoaders.this.global.Symbol">owner</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30210" title="=&gt; SymbolLoaders.this.global.Scope">decls</a>.<a href="Scopes.scala.html#27131" title="(sym: SymbolLoaders.this.global.Symbol)SymbolLoaders.this.global.Symbol">enter</a>(<a href="#309350" title="SymbolLoaders.this.global.Symbol">member</a>)
    }
  }

  <span class="keyword">class</span> <a title="class NamespaceLoader extends SymbolLoaders.this.PackageLoader with ScalaObject" id="109158">NamespaceLoader</a><span title="ScalaObject">(</span><a title="SymbolLoaders.this.global.classPath0.Context" id="309421">directory</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109473" title="SymbolLoaders.this.global.classPath0.Context">Context</a>) <span class="keyword">extends</span> <a href="#109156" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>(<a href="#309421" title="SymbolLoaders.this.global.classPath0.Context">directory</a>) {

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309405">kindString</a>: <span title="String">String</span> = <span title="(x$1: Any)java.lang.String" class="string">&quot;namespace &quot;</span> + <a href="#309412" title="=&gt; String">namespace</a>

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="309406">sourceString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(dir: SymbolLoaders.this.global.classPath0.Context)SymbolLoaders.this.PackageLoader" id="309407">newPackageLoader</a>(<a title="SymbolLoaders.this.global.classPath0.Context" id="309433">dir</a>: global.classPath0.<a href="../util/ClassPath.scala.html#109473" title="SymbolLoaders.this.global.classPath0.Context">Context</a>): <a href="#109156" title="SymbolLoaders.this.PackageLoader">PackageLoader</a> =
      <span title="SymbolLoaders.this.NamespaceLoader" class="keyword">new</span> <a href="#109158" title="SymbolLoaders.this.NamespaceLoader">NamespaceLoader</a>(<a href="#309433" title="SymbolLoaders.this.global.classPath0.Context">dir</a>)

    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]" id="309408">types</a> = <span title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">HashMap</span>[String, MSILType]()

    <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[String]" id="309410">namespaces</a> = <span title="scala.collection.mutable.HashSet[String]" class="keyword">new</span> <a title="scala.collection.mutable.HashSet[String]" id="24801">HashSet</a>[String]()

    <span class="keyword">def</span> <a title="=&gt; String" id="309412">namespace</a>: <span title="String">String</span> = <span title="String" class="keyword">if</span> (<a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#26939" title="=&gt; Boolean">isRoot</a>) <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#308613" title="=&gt; SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>

    // TODO: Add check whether the source is newer than the assembly
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String,source: scala.tools.nsc.io.AbstractFile)Boolean" id="309413">checkSource</a>(<a title="String" id="309439">name</a>: <span title="String">String</span>, <a title="scala.tools.nsc.io.AbstractFile" id="309440">source</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Boolean" id="309442">result</a> = <span title="(x$1: Boolean)Boolean">(</span><a href="#309440" title="(x$1: AnyRef)Boolean">source</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309408" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>.<a title="(key: String)Boolean" id="44446">contains</a>(<a href="#309439" title="String">name</a>)
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#309442" title="Boolean">result</a> &amp;&amp; <a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <a title="object Console" id="390">Console</a>.<a title="(x: Any)Unit" id="51323">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Skipping source file &quot;</span> + <a href="#309440" title="scala.tools.nsc.io.AbstractFile">source</a>)
      <a href="#309442" title="Boolean">result</a>
    }

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="309414">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309460">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#109166" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#287489" title="(pakage: SymbolLoaders.this.clrTypes.global.Symbol,typesMap: scala.collection.mutable.Map[String,ch.epfl.lamp.compiler.msil.Type],namespacesSet: scala.collection.mutable.Set[String])Unit">collectMembers</a>(<a href="#309460" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#309408" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>, <a href="#309410" title="=&gt; scala.collection.mutable.HashSet[String]">namespaces</a>)

      <span class="keyword">super</span>.<a href="#308620" title="(root: SymbolLoaders.this.global.Symbol)Unit">doComplete</a>(<a href="#309460" title="SymbolLoaders.this.global.Symbol">root</a>)

      <span class="keyword">for</span> (<a title="String" id="309641">namespace</a> &lt;- <a href="#309410" title="=&gt; scala.collection.mutable.HashSet[String]">namespaces</a>.<a title="(f: (String) =&gt; Unit)Unit" id="39567">iterator</a>) {
        <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309642">oldPkg</a> = <a href="#309460" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Scopes.scala.html#27138" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decls</a> lookup <a href="Names.scala.html#26048" title="(s: String)SymbolLoaders.this.global.Name">newTermName</a>(<a href="#309641" title="String">namespace</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#309642" title="(x$1: AnyRef)Boolean">oldPkg</a> == <a href="Symbols.scala.html#26134" title="object SymbolLoaders.this.global.NoSymbol">NoSymbol</a>)
          <a href="#308615" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)Unit">enterPackage</a>(<a href="#309641" title="String">namespace</a>, <span title="SymbolLoaders.this.NamespaceLoader" class="keyword">new</span> <a href="#109158" title="SymbolLoaders.this.NamespaceLoader">NamespaceLoader</a>(<span title="SymbolLoaders.this.global.classPath0.Context" class="keyword">new</span> <a href="../Global.scala.html#39080" title="=&gt; scala.tools.nsc.util.ClassPath">classPath0</a>.<a href="../util/ClassPath.scala.html#109473" title="SymbolLoaders.this.global.classPath0.Context">Context</a>(List<a title="object Nil" id="7634">(</a>))))
        //else System.out.println(&quot;PackageLoader: package already in scope: &quot; + oldPkg.fullNameString)
      }

      // import the CLR types contained in the package (namespace)
      <span class="keyword">for</span> ((<a title="String" id="309697">name</a>, <a title="ch.epfl.lamp.compiler.msil.Type" id="309698">typ</a>) &lt;- <a href="#309408" title="=&gt; scala.collection.mutable.HashMap[String,ch.epfl.lamp.compiler.msil.Type]">types</a>.<a href="#309677" title="(f: ((String, ch.epfl.lamp.compiler.msil.Type)) =&gt; Any)Unit">iterator</a>) {
        <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#309412" title="(x$1: AnyRef)Boolean">namespace</a> == <a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="java.lang.String" id="287830">Namespace</a>, <a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<span title="java.lang.String">FullName</span>)

        <span title="Any" class="keyword">if</span> (<a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="(x$1: ch.epfl.lamp.compiler.msil.Type,x$2: Boolean)Boolean" id="288023">IsDefined</a>(<a href="#109166" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#287450" title="=&gt; ch.epfl.lamp.compiler.msil.Type">SCALA_SYMTAB_ATTR</a>, <span title="Boolean(false)" class="keyword">false</span>)) {
          <span class="keyword">val</span> <a title="Array[java.lang.Object]" id="309718">attrs</a> = <a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="(x$1: ch.epfl.lamp.compiler.msil.Type,x$2: Boolean)Array[java.lang.Object]" id="288020">GetCustomAttributes</a>(<a href="#109166" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#287450" title="=&gt; ch.epfl.lamp.compiler.msil.Type">SCALA_SYMTAB_ATTR</a>, <span title="Boolean(false)" class="keyword">false</span>)
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span> (<a href="#309718" title="Array[java.lang.Object]">attrs</a>.<a title="(x$1: Int)Boolean" id="2952">length</a> == <span title="Int(1)" class="int">1</span>, <a href="#309718" title="Array[java.lang.Object]">attrs</a>.<span title="=&gt; Int">length</span>)
          <span class="keyword">val</span> <a title="ch.epfl.lamp.compiler.msil.Attribute" id="309719">a</a> = <a href="#309718" title="(i: Int)java.lang.Object" id="24570">attrs</a>(<span title="Int(0)" class="int">0</span>).<span title="[T0]T0">asInstanceOf</span><span title="ch.epfl.lamp.compiler.msil.Attribute">[</span><a title="ch.epfl.lamp.compiler.msil.Attribute" id="109248">MSILAttribute</a>]
          <span title="Any" class="keyword">if</span> (<a href="#309719" title="ch.epfl.lamp.compiler.msil.Attribute">a</a>.<a title="()ch.epfl.lamp.compiler.msil.ConstructorInfo" id="309763">getConstructor</a><span title="(x$1: AnyRef)Boolean">(</span>) == <a href="#109166" title="object SymbolLoaders.this.clrTypes">clrTypes</a>.<a href="clr/CLRTypes.scala.html#287453" title="=&gt; ch.epfl.lamp.compiler.msil.ConstructorInfo">SYMTAB_CONSTR</a>)
            <a href="#308616" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#309697" title="String">name</a>, <span title="SymbolLoaders.this.MSILTypeLoader" class="keyword">new</span> <a href="#109159" title="SymbolLoaders.this.MSILTypeLoader">MSILTypeLoader</a>(<a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>))
        } 
        <span class="keyword">else</span>
          <a href="#308616" title="(name: String,completer: SymbolLoaders.this.SymbolLoader)SymbolLoaders.this.global.Symbol">enterClassAndModule</a>(<a href="#309697" title="String">name</a>, <span title="SymbolLoaders.this.MSILTypeLoader" class="keyword">new</span> <a href="#109159" title="SymbolLoaders.this.MSILTypeLoader">MSILTypeLoader</a>(<a href="#309698" title="ch.epfl.lamp.compiler.msil.Type">typ</a>))
      }

      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.Symbol" id="309462">pkgModule</a> = <a href="#309460" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27004" title="=&gt; SymbolLoaders.this.global.Type">info</a>.<a href="Types.scala.html#30211" title="(name: SymbolLoaders.this.global.Name)SymbolLoaders.this.global.Symbol">decl</a>(<a href="StdNames.scala.html#26531" title="object SymbolLoaders.this.global.nme">nme</a>.<a href="StdNames.scala.html#29558" title="=&gt; SymbolLoaders.this.global.Name">PACKAGEkw</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#309462" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#26917" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#309462" title="SymbolLoaders.this.global.Symbol">pkgModule</a>.<a href="Symbols.scala.html#27008" title="=&gt; SymbolLoaders.this.global.Type">rawInfo</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#109163" title="SymbolLoaders.this.SourcefileLoader">SourcefileLoader</a>])
        <a href="#109157" title="(m: SymbolLoaders.this.global.Symbol)Unit">openPackageModule</a>(<a href="#309462" title="SymbolLoaders.this.global.Symbol">pkgModule</a>)
    }
  }  // NamespaceLoader

  <span class="keyword">class</span> <a title="class MSILTypeLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109159">MSILTypeLoader</a><span title="ScalaObject">(</span><a title="ch.epfl.lamp.compiler.msil.Type" id="309792">typ</a>: <a title="ch.epfl.lamp.compiler.msil.Type" id="109173">MSILType</a>) <span class="keyword">extends</span> <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object MSILTypeLoader.this.typeParser" id="309787">typeParser</a> <span title="ScalaObject" class="keyword">extends</span> clr.<a href="clr/TypeParser.scala.html#22965" title="scala.tools.nsc.symtab.clr.TypeParser">TypeParser</a> {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="309862">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10136" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109153" title="=&gt; scala.tools.nsc.Global">global</a>
    } 
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="309789">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309867">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#309787" title="object MSILTypeLoader.this.typeParser">typeParser</a>.<a href="clr/TypeParser.scala.html#309843" title="(typ: ch.epfl.lamp.compiler.msil.Type,root: MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol)Unit">parse</a>(<a href="#309792" title="ch.epfl.lamp.compiler.msil.Type">typ</a>, <a href="#309867" title="SymbolLoaders.this.global.Symbol">root</a>.<span title="[T0]T0">asInstanceOf</span><span title="MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol">[</span>typeParser.global.loaders.clrTypes.global.<a href="Symbols.scala.html#26127" title="MSILTypeLoader.this.typeParser.global.loaders.clrTypes.global.Symbol">Symbol</a>]) // don't check this  
    } 
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309790">kindString</a>: <span title="String">String</span> = <a href="#309792" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<span title="java.lang.String">FullName</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="309791">sourceString</a> = <a href="#309792" title="ch.epfl.lamp.compiler.msil.Type">typ</a>.<a title="()ch.epfl.lamp.compiler.msil.Assembly" id="287845">Assembly</a>.<a title="java.lang.String" id="290458">FullName</a>
  }
  // IDE hook.
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol,loader: SymbolLoaders.this.ClassfileLoader)(f: =&gt; Unit)Unit" id="109160">completeClassfile</a>(<a title="SymbolLoaders.this.global.Symbol" id="309895">root</a> : <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>, <a title="SymbolLoaders.this.ClassfileLoader" id="309896">loader</a> : <a href="#109162" title="SymbolLoaders.this.ClassfileLoader">ClassfileLoader</a>)(<a title="=&gt; Unit" id="309897">f</a> : =&gt; Unit) : <span title="Unit">Unit</span> = <a href="#309897" title="=&gt; Unit">f</a>
  // incremental builder hook
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(loader: SymbolLoaders.this.PackageLoader)SymbolLoaders.this.global.PackageScopeDependMap" id="109161">computeDepends</a>(<a title="SymbolLoaders.this.PackageLoader" id="308626">loader</a> : <a href="#109156" title="SymbolLoaders.this.PackageLoader">PackageLoader</a>) : <a href="Scopes.scala.html#25967" title="SymbolLoaders.this.global.PackageScopeDependMap">PackageScopeDependMap</a> = {
    <span title="Null(null)" class="keyword">null</span>
  }

  <span class="keyword">class</span> <a title="class ClassfileLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109162">ClassfileLoader</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="109592">classFile</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="109593">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="scala.tools.nsc.io.AbstractFile" id="109594">sourcePath0</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>) <span class="keyword">extends</span> <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object ClassfileLoader.this.classfileParser" id="109587">classfileParser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="classfile/ClassfileParser.scala.html#19929" title="scala.tools.nsc.symtab.classfile.ClassfileParser">ClassfileParser</a> {
      <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="309906">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10136" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109153" title="=&gt; scala.tools.nsc.Global">global</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.AbstractFile" id="309908">sourcePath</a> = <a href="#109594" title="scala.tools.nsc.io.AbstractFile">sourcePath0</a> /* could be null */
    }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109589">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309296">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) {
      <a href="#109160" title="(root: SymbolLoaders.this.global.Symbol,loader: SymbolLoaders.this.ClassfileLoader)(f: =&gt; Unit)Unit">completeClassfile</a>(<a href="#309296" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109162" title="SymbolLoaders.this.ClassfileLoader" class="keyword">this</a>) {
        <a href="#109587" title="object ClassfileLoader.this.classfileParser">classfileParser</a>.<a href="classfile/ClassfileParser.scala.html#67789" title="(file: scala.tools.nsc.io.AbstractFile,root: ClassfileLoader.this.classfileParser.global.Symbol)Unit">parse</a>(<a href="#109592" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>, <a href="#309296" title="SymbolLoaders.this.global.Symbol">root</a>)
      }
      <a href="#309296" title="SymbolLoaders.this.global.Symbol">root</a> <span title="Unit" class="keyword">match</span> {
        <span title="Unit" class="keyword">case</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="309923">clazz</a>: <a href="Symbols.scala.html#26132" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a> =&gt; 
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#109593" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#309923" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#97912" title="(x$1: AnyRef)Boolean">sourceFile</a> eq <span title="Null(null)" class="keyword">null</span>)) 
            <a href="#309923" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#97913" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#109593" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
        <span title="Unit" class="keyword">case</span> <a title="SymbolLoaders.this.global.ModuleSymbol" id="309940">module</a>: <a href="Symbols.scala.html#26129" title="SymbolLoaders.this.global.ModuleSymbol">ModuleSymbol</a> <span class="keyword">if</span> <a href="#309940" title="SymbolLoaders.this.global.ModuleSymbol">module</a>.<a href="Symbols.scala.html#29498" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="Symbols.scala.html#26132" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>] =&gt;
          <span class="keyword">val</span> <a title="SymbolLoaders.this.global.ClassSymbol" id="309941">clazz</a> = <a href="#309940" title="SymbolLoaders.this.global.ModuleSymbol">module</a>.<a href="Symbols.scala.html#29498" title="=&gt; SymbolLoaders.this.global.Symbol">moduleClass</a>.<span title="[T0]T0">asInstanceOf</span><span title="SymbolLoaders.this.global.ClassSymbol">[</span><a href="Symbols.scala.html#26132" title="SymbolLoaders.this.global.ClassSymbol">ClassSymbol</a>]
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#109593" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#309941" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#97912" title="(x$1: AnyRef)Boolean">sourceFile</a> eq <span title="Null(null)" class="keyword">null</span>)) 
            <a href="#309941" title="SymbolLoaders.this.global.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#97913" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#109593" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
        <span title="Unit" class="keyword">case</span> _ =&gt;   
      }
      <span title="Unit" class="keyword">if</span> (<a href="#309296" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27077" title="(x$1: AnyRef)Boolean">sourceFile</a> ne <span title="Null(null)" class="keyword">null</span>) 
        <a href="SymbolTable.scala.html#26075" title="(symbol: SymbolLoaders.this.global.Symbol,tpe: SymbolLoaders.this.global.LazyType)Unit">prepareReset</a>(<a href="#309296" title="SymbolLoaders.this.global.Symbol">root</a>, <a href="#109162" title="SymbolLoaders.this.ClassfileLoader" class="keyword">this</a>)
    }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109590">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;class file&quot;)" class="string">&quot;class file&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109591">sourceString</a> = <a href="#109592" title="=&gt; scala.tools.nsc.io.AbstractFile">classFile</a>.<a href="../io/AbstractFile.scala.html#51406" title="()String">toString</a>()
  }

  <span class="keyword">class</span> <a title="class SourcefileLoader extends SymbolLoaders.this.SymbolLoader with ScalaObject" id="109163">SourcefileLoader</a><span title="ScalaObject">(</span><span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="309254">sourceFile</a>: <a href="../io/AbstractFile.scala.html#20548" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>) <span class="keyword">extends</span> <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="309251">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309963">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>): <span title="Unit">Unit</span> = <a href="#109153" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#39176" title="=&gt; SymbolLoaders.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40221" title="(file: scala.tools.nsc.io.AbstractFile)Unit">compileLate</a>(<a href="#309254" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>)
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309252">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;source file&quot;)" class="string">&quot;source file&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="309253">sourceString</a> = <a href="#309254" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>.<a href="../io/AbstractFile.scala.html#51406" title="()String">toString</a>()
  }

  <span class="keyword">object</span> <a title="object SymbolLoaders.this.moduleClassLoader" id="109164">moduleClassLoader</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#109155" title="SymbolLoaders.this.SymbolLoader">SymbolLoader</a> {
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(root: SymbolLoaders.this.global.Symbol)Unit" id="109377">doComplete</a>(<a title="SymbolLoaders.this.global.Symbol" id="309987">root</a>: <a href="Symbols.scala.html#26127" title="SymbolLoaders.this.global.Symbol">Symbol</a>) { <a href="#309987" title="SymbolLoaders.this.global.Symbol">root</a>.<a href="Symbols.scala.html#27058" title="=&gt; SymbolLoaders.this.global.Symbol">sourceModule</a>.<a href="Symbols.scala.html#27010" title="=&gt; SymbolLoaders.this.global.Symbol">initialize</a> }
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; String" id="109378">kindString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="109379">sourceString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  }

  <span class="keyword">object</span> <a title="object SymbolLoaders.this.clrTypes" id="109166">clrTypes</a> <span title="ScalaObject" class="keyword">extends</span> clr.<a href="clr/CLRTypes.scala.html#22977" title="scala.tools.nsc.symtab.clr.CLRTypes">CLRTypes</a> {
    <span class="keyword">val</span> <a title="SymbolLoaders.this.global.type" id="287491">global</a>: SymbolLoaders.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#10136" title="SymbolLoaders.this.type">SymbolLoaders</a>.<span class="keyword">this</span>.<a href="#109153" title="=&gt; scala.tools.nsc.Global">global</a>
    <span title="Unit" class="keyword">if</span> (<a href="#287491" title="=&gt; SymbolLoaders.this.global.type">global</a>.<a href="../Global.scala.html#39184" title="=&gt; Boolean">forMSIL</a>) <a href="clr/CLRTypes.scala.html#287478" title="()Unit">init</a>()
  }

}

        </pre>
    </body>
</html>