<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/symtab/clr/TypeParser.scala</title>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new scala compiler
 * Copyright 2004-2009 LAMP/EPFL
 */</span>

<span class="comment">// $Id: TypeParser.scala 16893 2009-01-13 13:09:22Z cunei $</span>

<span class="keyword">package</span> scala.tools.nsc.symtab.clr

<span class="keyword">import</span> java.io.IOException

<span class="keyword">import</span> ch.epfl.lamp.compiler.msil.{Type =&gt; MSILType, Attribute =&gt; MSILAttribute, _}

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> classfile.UnPickler

<span class="comment">/**
 *  @author Nikolay Mihaylov
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class TypeParser extends java.lang.Object with ScalaObject</span><a id="17556">TypeParser</a></span> {

  <span class="keyword">val</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a id="35732">global</a></span>: <span class="typed"><span class="type">scala.tools.nsc.Global</span><a href="../../Global.scala.html#6489">Global</a></span>
  <span class="keyword">import</span> global.loaders.clrTypes
  <span class="keyword">import</span> clrTypes.global._

  <span class="comment">//##########################################################################</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span id="35737"><span id="35735"><span id="35736"><a id="96993">clazz</a></span></span></span></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = _
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span id="35740"><span id="35738"><span id="35739"><a id="96994">instanceDefs</a></span></span></span></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="../Scopes.scala.html#22253">Scope</a></span> = _   <span class="comment">// was members</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span id="35743"><span id="35741"><span id="35742"><a id="96995">staticModule</a></span></span></span></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = _  <span class="comment">// was staticsClass</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span id="35746"><span id="35744"><span id="35745"><a id="96996">staticDefs</a></span></span></span></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="../Scopes.scala.html#22253">Scope</a></span> = _     <span class="comment">// was statics</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="35747">statics</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35741">staticModule</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25283">moduleClass</a></span>

  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="35750"><span id="35748"><span id="35749"><a id="96997">busy</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>       <span class="comment">// lock to detect recursive reads</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <span class="typed"><span class="type">object TypeParser.this.unpickler</span><a id="35751">unpickler</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.symtab.classfile.UnPickler</span><a href="../classfile/UnPickler.scala.html#16443">UnPickler</a></span> {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.type</span><span id="97001"><a id="97000">global</a></span></span>: TypeParser.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <span class="typed"><span class="type">TypeParser.this.type</span><a href="#17556">TypeParser</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a href="#35732">global</a></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type,TypeParser.this.global.loaders.clrTypes.global.Symbol)Unit</span><a id="35753">parse</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="35776">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="35777">root</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span>) {

    <span class="keyword">def</span> <span class="typed"><span class="type">(Exception)Nothing</span><a id="97003">handleError</a></span>(<span class="typed"><span class="type">Exception</span><a id="97004">e</a></span>: <span class="typed"><span class="type">Exception</span><a id="2131">Exception</a></span>) = {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">Exception</span><a href="#97004">e</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23651">printStackTrace</a></span>()  <span class="comment">//debug</span>
      <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.io.IOException</span><a id="34438" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.IOException</span><a id="3519">IOException</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;type '&quot;)</span><span class="string">&quot;type '&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#35776">typ</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35180">FullName</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;' is broken\012(&quot;)</span><span class="string">&quot;' is broken\n(&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">Exception</span><a href="#97004">e</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="23646">getMessage</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;)&quot;)</span><span class="string">&quot;)&quot;</span></span>)
    }
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#35748">busy</a></span>)
    <span class="typed"><span class="type">(Boolean)Unit</span><a href="#35749">busy</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>

    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35777">root</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../Symbols.scala.html#25149">isModule</a></span>) {
      <span class="typed"><span class="type">TypeParser.this.type</span><a href="#17556" class="keyword">this</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)Unit</span><a href="#35736">clazz</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35777">root</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25277">linkedClassOfModule</a></span>
      <span class="typed"><span class="type">TypeParser.this.type</span><a href="#17556" class="keyword">this</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)Unit</span><a href="#35742">staticModule</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35777">root</a></span>
    } <span class="keyword">else</span> {
      <span class="typed"><span class="type">TypeParser.this.type</span><a href="#17556" class="keyword">this</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)Unit</span><a href="#35736">clazz</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35777">root</a></span>
      <span class="typed"><span class="type">TypeParser.this.type</span><a href="#17556" class="keyword">this</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)Unit</span><a href="#35742">staticModule</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35777">root</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25278">linkedModuleOfClass</a></span>
    }
    <span class="keyword">try</span> {
      <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a href="#35754">parseClass</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#35776">typ</a></span>)
    } <span class="keyword">catch</span> {
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.tools.nsc.FatalError</span><a id="97012">e</a></span>: <span class="typed"><span class="type">scala.tools.nsc.FatalError</span><a href="../../FatalError.scala.html#6270">FatalError</a></span> =&gt; <span class="typed"><span class="type">(Exception)Nothing</span><a href="#97003">handleError</a></span>(<span class="typed"><span class="type">scala.tools.nsc.FatalError</span><a href="#97012">e</a></span>)
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">RuntimeException</span><a id="97013">e</a></span>: <span class="typed"><span class="type">RuntimeException</span><a id="2002">RuntimeException</a></span> =&gt; <span class="typed"><span class="type">(Exception)Nothing</span><a href="#97003">handleError</a></span>(<span class="typed"><span class="type">RuntimeException</span><a href="#97013">e</a></span>)
    }
    <span class="typed"><span class="type">(Boolean)Unit</span><a href="#35749">busy</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a id="35754">parseClass</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97011">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>) {

    <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.Type]</span><a href="CLRTypes.scala.html#35387">types</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>
    <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[ch.epfl.lamp.compiler.msil.Type,TypeParser.this.global.loaders.clrTypes.global.Symbol]</span><a href="CLRTypes.scala.html#35395">sym2type</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>) = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>

    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type,Boolean)Boolean</span><a id="35518">IsDefined</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35372">SCALA_SYMTAB_ATTR</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)) {
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[java.lang.Object]</span><a id="97022">attrs</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type,Boolean)Array[java.lang.Object]</span><a id="35517">GetCustomAttributes</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35372">SCALA_SYMTAB_ATTR</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span> (<span class="typed"><span class="type">Array[java.lang.Object]</span><a href="#97022">attrs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>, <span class="typed"><span class="type">Array[java.lang.Object]</span><a href="#97022">attrs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Attribute</span><a id="97023">a</a></span> = <span class="typed"><span class="type">(Int)java.lang.Object</span><a href="#97022" id="21509">attrs</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Attribute</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Attribute</span><a id="34301">MSILAttribute</a></span>];
      <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Attribute</span><a href="#97023">a</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a id="35664">getConstructor</a></span>() <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="CLRTypes.scala.html#35375">SYMTAB_CONSTR</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="97024">symtab</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Attribute</span><a href="#97023">a</a></span>.<span class="typed"><span class="type">(Int)java.lang.Object</span><span id="21509"><a id="35666">getConstructorArguments</a></span></span>()(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">Array[Byte]</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Array[Byte]</span><a id="1072">Array</a></span>[Byte]]
      <span class="typed"><span class="type">object TypeParser.this.unpickler</span><a href="#35751">unpickler</a></span>.<span class="typed"><span class="type">(Array[Byte],Int,TypeParser.this.unpickler.global.Symbol,TypeParser.this.unpickler.global.Symbol,String)Unit</span><a href="../classfile/UnPickler.scala.html#53603">unpickle</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#97024">symtab</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">TypeParser.this.unpickler.global.Symbol</span><a id="3503">asInstanceOf</a></span>[unpickler.global.<span class="typed"><span class="type">TypeParser.this.unpickler.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span>], 
                                    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35741">staticModule</a></span>.<span class="typed"><span class="type">TypeParser.this.unpickler.global.Symbol</span><a id="3503">asInstanceOf</a></span>[unpickler.global.<span class="typed"><span class="type">TypeParser.this.unpickler.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span>], <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35180">FullName</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97025">mClass</a></span> = <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">(String)ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35401">getType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35180">FullName</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>);
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97025">mClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
        <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.Type]</span><a href="CLRTypes.scala.html#35387">types</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97025">mClass</a></span>;
        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a id="97053">moduleInstance</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97025">mClass</a></span>.<span class="typed"><span class="type">(java.lang.String)ch.epfl.lamp.compiler.msil.FieldInfo</span><a id="35237">GetField</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;MODULE$&quot;)</span><span class="string">&quot;MODULE$&quot;</span></span>);
        <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97053">moduleInstance</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97025">mClass</a></span>);
        <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.FieldInfo]</span><a href="CLRTypes.scala.html#35393">fields</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97053">moduleInstance</a></span>;
      }
      <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>
    }
    <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97014">flags</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Long</span><a href="#35768">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="97015">ifaces</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="1072">Array</a></span>[MSILType] = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="35270">getInterfaces</a></span>()
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97016">superType</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.compiler.msil.Type</span><a id="35197">BaseType</a></span>() <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.compiler.msil.Type</span><a id="35197">BaseType</a></span>())
                    <span class="keyword">else</span>  <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35215">IsInterface</a></span>()) <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
                    <span class="keyword">else</span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25769">AnyClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>; <span class="comment">// this is System.Object</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="97017">parents</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97016">superType</a></span> <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97070" id="21335">::</a></span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97015">ifaces</a></span>.<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.Type) =&gt; TypeParser.this.global.loaders.clrTypes.global.Type)Array[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21516">map</a></span>(<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>).<span class="typed"><span class="type">=&gt; List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21815">toList</a></span>
    <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Scope)Unit</span><a href="#35739">instanceDefs</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="../Scopes.scala.html#22243">newClassScope</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>)
    <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Scope)Unit</span><a href="#35745">staticDefs</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="../Scopes.scala.html#22243">newClassScope</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35741">staticModule</a></span>)

    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a id="97018">classInfo</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Scope,TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a href="../Types.scala.html#43446">ClassInfoType</a></span>(<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97017">parents</a></span>, <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>, <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a id="97019">staticInfo</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Scope,TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a href="../Types.scala.html#43446">ClassInfoType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span>, <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>)

    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97014">flags</a></span>)
    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a href="#97018">classInfo</a></span>)
    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>)
    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a href="#97019">staticInfo</a></span>)
    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35741">staticModule</a></span>.<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>)
    <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35741">staticModule</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>)

    <span class="comment">// import nested types</span>
    <span class="keyword">for</span> (<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.Type) =&gt; Unit)Unit</span><span id="21792"><span id="21513"><span id="97091"><a id="97093">ntype</a></span></span></span></span> &lt;- <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="35271">getNestedTypes</a></span>() <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97091">ntype</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35207">IsNestedPrivate</a></span>
				            <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97091">ntype</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35209">IsNestedAssembly</a></span>
				            <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97091">ntype</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35211">IsNestedFamANDAssem</a></span>)
				          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97091">ntype</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35215">IsInterface</a></span>)
      {
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.MSILTypeLoader</span><a id="97094">loader</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.MSILTypeLoader</span><span class="keyword">new</span></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a href="#35732">global</a></span>.<span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends scala.tools.nsc.symtab.SymbolLoaders</span><a href="../../Global.scala.html#21226">loaders</a></span>.<span class="typed"><span class="type">TypeParser.this.global.loaders.MSILTypeLoader</span><a href="../SymbolLoaders.scala.html#34357">MSILTypeLoader</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97093">ntype</a></span>)
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a id="97095">nclazz</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="../Symbols.scala.html#25117">newClass</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97093">ntype</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21102" id="35505">Name</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#23895">toTypeName</a></span>)
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97096">nmodule</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25106">newModule</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97093">ntype</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21102" id="35505">Name</a></span>)
	<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="#97095">nclazz</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)nclazz.type</span><a href="../Symbols.scala.html#34732">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.MSILTypeLoader</span><a href="#97094">loader</a></span>)
	<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97096">nmodule</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)nmodule.type</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.MSILTypeLoader</span><a href="#97094">loader</a></span>)
	<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="#97095">nclazz</a></span>)
	<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97096">nmodule</a></span>)

	<span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="#97095">nclazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25278">linkedModuleOfClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97096">nmodule</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97096">nmodule</a></span>)
	<span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97096">nmodule</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#25277">linkedClassOfModule</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="#97095">nclazz</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassSymbol</span><a href="#97095">nclazz</a></span>)
      }

    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.FieldInfo]</span><a id="97020">fields</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.FieldInfo]</span><a id="35266">getFields</a></span>()
    <span class="keyword">for</span> (<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.FieldInfo) =&gt; Unit)Unit</span><span id="21792"><span id="21513"><span id="97132"><a id="97134">field</a></span></span></span></span> &lt;- <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.FieldInfo]</span><a href="#97020">fields</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97132">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74714">IsPrivate</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97132">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74716">IsAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97132">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74718">IsFamilyAndAssembly</a></span>)) {
      <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97135">flags</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.FieldInfo)Long</span><a href="#35769">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="97136">name</a></span> = <span class="typed"><span class="type">(String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21096">newTermName</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35505">Name</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97137">fieldType</a></span> =
        <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74712">IsLiteral</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="74706">FieldType</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35229">IsEnum</a></span>)
	  <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Constant)TypeParser.this.global.loaders.clrTypes.global.ConstantType</span><a href="../Types.scala.html#58509">ConstantType</a></span>(<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type,java.lang.Object)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="#35767">getConstant</a></span>(<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="74706">FieldType</a></span>), <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">()java.lang.Object</span><a id="74725">getValue</a></span>))
	<span class="keyword">else</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="74706">FieldType</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97138">owner</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74710">IsStatic</a></span>()) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>;
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97139">sym</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97138">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25098">newValue</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97136">name</a></span>).<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97135">flags</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97137">fieldType</a></span>);
        <span class="comment">// TODO: set private within!!! -&gt; look at typechecker/Namers.scala</span>
        (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74710">IsStatic</a></span>()) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97139">sym</a></span>);
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.FieldInfo]</span><a href="CLRTypes.scala.html#35393">fields</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97139">sym</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97134">field</a></span>;
    }

    <span class="keyword">for</span> (<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.ConstructorInfo) =&gt; Unit)Unit</span><span id="21792"><span id="21513"><span id="97152"><a id="97154">constr</a></span></span></span></span> &lt;- <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ConstructorInfo]</span><a id="35267">getConstructors</a></span>() <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="#97152">constr</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="#97152">constr</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35705">IsPrivate</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
         <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="#97152">constr</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35707">IsAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="#97152">constr</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35709">IsFamilyAndAssembly</a></span>())
      <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Unit</span><a href="#35755">createMethod</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a href="#97154">constr</a></span>);

    <span class="comment">// initially also contains getters an setters of properties.</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a id="97021">methodsSet</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a id="19895">HashSet</a></span>[MethodInfo]();
    <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="#97021">methodsSet</a></span> <span class="typed"><span class="type">(Iterable[ch.epfl.lamp.compiler.msil.MethodInfo])Unit</span><a id="25513">++=</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a id="35268">getMethods</a></span>();

    <span class="keyword">for</span> (<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.PropertyInfo) =&gt; Unit)Unit</span><span id="21792"><a id="97187">prop</a></span></span> &lt;- <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.PropertyInfo]</span><a id="35269">getProperties</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97188">propType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97172">PropertyType</a></span>);
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97188">propType</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
	<span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97191">getter</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">(Boolean)ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97180">GetGetMethod</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>);
	<span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97192">setter</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">(Boolean)ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97182">GetSetMethod</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>);
	<span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="97193">gparamsLength</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>;
	<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35705">IsPrivate</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35707">IsAssembly</a></span>
	      <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35709">IsFamilyAndAssembly</a></span>))
	  {
	    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97172">PropertyType</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="37053">ReturnType</a></span>);
	    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="97197">gparams</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="1072">Array</a></span>[ParameterInfo] = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="35710">GetParameters</a></span>();
	    <span class="typed"><span class="type">Int</span><a href="#97193">gparamsLength</a></span> = <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97197">gparams</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>;
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="97198">name</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21103">Name</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#97193">gparamsLength</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21102" id="35505">Name</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30762">apply</a></span>;
	    <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97199">flags</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Long</span><a href="#35770">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>);
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97200">mtype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#97193">gparamsLength</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Symbol],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.PolyType</span><a href="../Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97188">propType</a></span>)
                              <span class="keyword">else</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35761">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="37053">ReturnType</a></span>);
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97201">owner</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>;
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97202">methodSym</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97201">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97198">name</a></span>).<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97199">flags</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97200">mtype</a></span>);
	    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97202">methodSym</a></span>.<span class="typed"><span class="type">(Long)methodSym.type</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(Flags.<span class="typed"><span class="type">Long(134217728L)</span><span >ACCESSOR</span></span>);
	    (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97202">methodSym</a></span>)
	    <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="CLRTypes.scala.html#35391">methods</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97202">methodSym</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>;
	    <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="#97021">methodsSet</a></span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodInfo)Unit</span><a id="25500">-=</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>;
	  }
	<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35705">IsPrivate</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35707">IsAssembly</a></span>
	     <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35709">IsFamilyAndAssembly</a></span>))
	  {
	    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="97239">sparams</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="1072">Array</a></span>[ParameterInfo] = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="35710">GetParameters</a></span>()
	    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
	      <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">==</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>);
	    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="37053">ReturnType</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35351">VOID</a></span>);
	    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
	      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97239">sparams</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#97193">gparamsLength</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97191">getter</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;; &quot;)</span><span class="string">&quot;; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>);

	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="97240">name</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21103">Name</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#97193">gparamsLength</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30569">getterToSetter</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.PropertyInfo</span><a href="#97187">prop</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21102" id="35505">Name</a></span>)
			     <span class="keyword">else</span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30960">update</a></span>;
	    <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97241">flags</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Long</span><a href="#35770">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>);
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97242">mtype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35762">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25821">UnitClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>);
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97243">owner</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>;
	    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97244">methodSym</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97243">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97240">name</a></span>).<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97241">flags</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97242">mtype</a></span>);
	    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97244">methodSym</a></span>.<span class="typed"><span class="type">(Long)methodSym.type</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(Flags.<span class="typed"><span class="type">Long(134217728L)</span><span >ACCESSOR</span></span>);
	    (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97244">methodSym</a></span>);
	    <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="CLRTypes.scala.html#35391">methods</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97244">methodSym</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>;
	    <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="#97021">methodsSet</a></span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodInfo)Unit</span><a id="25500">-=</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97192">setter</a></span>;
	  }
      }
    }

<span class="comment">/*    for (event &lt;- typ.GetEvents) {
      // adding += and -= methods to add delegates to an event.
      // raising the event ist not possible from outside the class (this is so
      // generally in .net world)
      val adder: MethodInfo = event.GetAddMethod();
      val remover: MethodInfo = event.GetRemoveMethod();
      if (!(adder == null || adder.IsPrivate || adder.IsAssembly
	    || adder.IsFamilyAndAssembly))
	{
	  assert(adder.ReturnType == clrTypes.VOID);
	  assert(adder.GetParameters().map(_.ParameterType).toList == List(event.EventHandlerType));
	  val name = encode(&quot;+=&quot;);
	  val flags = translateAttributes(adder);
	  val mtype: Type = methodType(adder, adder.ReturnType);
	  createMethod(name, flags, mtype, adder, adder.IsStatic)
	  methodsSet -= adder;
	}
      if (!(remover == null || remover.IsPrivate || remover.IsAssembly
	    || remover.IsFamilyAndAssembly))
	{
	  assert(remover.ReturnType == clrTypes.VOID);
	  assert(remover.GetParameters().map(_.ParameterType).toList == List(event.EventHandlerType));
	  val name = encode(&quot;-=&quot;);
	  val flags = translateAttributes(remover);
	  val mtype: Type = methodType(remover, remover.ReturnType);
	  createMethod(name, flags, mtype, remover, remover.IsStatic)
	  methodsSet -= remover;
	}
    } */</span>

    <span class="keyword">for</span> (<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.MethodInfo) =&gt; Unit)Unit</span><span id="32202"><a id="97278">method</a></span></span> &lt;- <span class="typed"><span class="type">scala.collection.mutable.HashSet[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="#97021">methodsSet</a></span>.<span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[ch.epfl.lamp.compiler.msil.MethodInfo]</span><a id="25574">elements</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97278">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35705">IsPrivate</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97278">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35707">IsAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97278">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35709">IsFamilyAndAssembly</a></span>())
        <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Unit</span><a href="#35755">createMethod</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97278">method</a></span>);

    <span class="comment">// Create methods and views for delegate support</span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Boolean</span><a href="CLRTypes.scala.html#35404">isDelegateType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>)) {
      <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a href="#35758">createDelegateView</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a href="#35759">createDelegateChainers</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>)
    }

    <span class="comment">// create the box/unbox methods for value types</span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35228">IsValueType</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97616">box</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30782">box</a></span>).
        <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.MethodType</span><a href="../Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>));
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TypeParser.this.global.loaders.clrTypes.global.Symbol,TypeParser.this.global.loaders.clrTypes.global.Symbol]</span><a href="../Definitions.scala.html#26126">boxMethod</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>) = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97616">box</a></span>;
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97617">unbox</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30956">unbox</a></span>).
        <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.MethodType</span><a href="../Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>));
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[TypeParser.this.global.loaders.clrTypes.global.Symbol,TypeParser.this.global.loaders.clrTypes.global.Symbol]</span><a href="../Definitions.scala.html#26124">unboxMethod</a></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>) = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97617">unbox</a></span>;
      <span class="comment">//Console.println(typ.FullName + &quot; : &quot; + parents);</span>
    }

    <span class="comment">// for enumerations introduce comparison and bitwise logical operations;</span>
    <span class="comment">// the backend should recognize and replace them with comparison or</span>
    <span class="comment">// bitwise logical operations on the primitive underlying type</span>

    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97011">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35229">IsEnum</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><a id="97626">ENUM_CMP_NAMES</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name*)List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30988">EQ</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30990">NE</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30992">LT</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30994">LE</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30996">GT</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30998">GE</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><a id="97627">ENUM_BIT_LOG_NAMES</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name*)List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#31000">OR</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#31004">AND</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#31002">XOR</a></span>);

      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="97628">flags</a></span> = Flags.JAVA <span class="typed"><span class="type">Int(1048608)</span><span >|</span></span> Flags.FINAL
      <span class="keyword">for</span> (<span class="typed"><span class="type">((TypeParser.this.global.loaders.clrTypes.global.Name) =&gt; Unit)Unit</span><span id="21366"><a id="97633">cmpName</a></span></span> &lt;- <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><a href="#97626">ENUM_CMP_NAMES</a></span>) {
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97634">enumCmpType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="../Types.scala.html#22034">JavaMethodType</a></span>(<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25824">BooleanClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>);
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97635">enumCmp</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97633">cmpName</a></span>);
	<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97635">enumCmp</a></span>.<span class="typed"><span class="type">(Long)enumCmp.type</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">implicit scala.Predef.int2long : (Int)Long</span><span id="6212"><a href="#97628" id="821">flags</a></span></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)enumCmp.type</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97634">enumCmpType</a></span>)
	<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97635">enumCmp</a></span>);
      }

      <span class="keyword">for</span> (<span class="typed"><span class="type">((TypeParser.this.global.loaders.clrTypes.global.Name) =&gt; Unit)Unit</span><span id="21366"><a id="97639">bitLogName</a></span></span> &lt;- <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Name]</span><a href="#97627">ENUM_BIT_LOG_NAMES</a></span>) {
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a id="97640">enumBitLogType</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="../Types.scala.html#22034">JavaMethodType</a></span>(<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.ClassInfoType</span><a href="#97018">classInfo</a></span>);
	<span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97641">enumBitLog</a></span> = <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97639">bitLogName</a></span>);
	<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97641">enumBitLog</a></span>.<span class="typed"><span class="type">(Long)enumBitLog.type</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">implicit scala.Predef.int2long : (Int)Long</span><span id="6212"><a href="#97628" id="821">flags</a></span></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)enumBitLog.type</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="#97640">enumBitLogType</a></span>);
	<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97641">enumBitLog</a></span>);
      }
    }

  } <span class="comment">// parseClass</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Unit</span><a id="35755">createMethod</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="97167">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="34271">MethodBase</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97644">rettype</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35697">IsConstructor</a></span>()) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
                  <span class="keyword">else</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span>].<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="37053">ReturnType</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97644">rettype</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97645">mtype</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35762">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97644">rettype</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97645">mtype</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97646">flags</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Long</span><a href="#35770">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97647">owner</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>()) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a id="97648">methodSym</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97647">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#35760">getName</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>)).<span class="typed"><span class="type">(Long)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97646">flags</a></span>).
    <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97645">mtype</a></span>);
    (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>()) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97648">methodSym</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35697">IsConstructor</a></span>())
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.ConstructorInfo]</span><a href="CLRTypes.scala.html#35389">constructors</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97648">methodSym</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ConstructorInfo</span><a id="34250">ConstructorInfo</a></span>]
    <span class="keyword">else</span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="CLRTypes.scala.html#35391">methods</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="#97648">methodSym</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97167">method</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span>];
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,Array[ch.epfl.lamp.compiler.msil.Type],ch.epfl.lamp.compiler.msil.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="35756">createMethod</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="97161">name</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21103">Name</a></span>, <span class="typed"><span class="type">Long</span><a id="97162">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span>, <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="97163">args</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="1072">Array</a></span>[MSILType], <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97164">retType</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97165">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span>, <span class="typed"><span class="type">Boolean</span><a id="97166">statik</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97659">mtype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(Array[ch.epfl.lamp.compiler.msil.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35763">methodType</a></span>(<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97163">args</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97164">retType</a></span>));
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97659">mtype</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>);
    <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,TypeParser.this.global.loaders.clrTypes.global.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35757">createMethod</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97161">name</a></span>, <span class="typed"><span class="type">Long</span><a href="#97162">flags</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97659">mtype</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97165">method</a></span>, <span class="typed"><span class="type">Boolean</span><a href="#97166">statik</a></span>)
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,TypeParser.this.global.loaders.clrTypes.global.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="35757">createMethod</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="97156">name</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21103">Name</a></span>, <span class="typed"><span class="type">Long</span><a id="97157">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97158">mtype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97159">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span>, <span class="typed"><span class="type">Boolean</span><a id="97160">statik</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97674">methodSym</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Symbols.scala.html#21866">Symbol</a></span> = (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#97160">statik</a></span>)  <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35747">statics</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35735">clazz</a></span>).<span class="typed"><span class="type">(scala.tools.nsc.util.Position,TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.TermSymbol</span><a href="../Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="#97156">name</a></span>);
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97674">methodSym</a></span>.<span class="typed"><span class="type">(Long)methodSym.type</span><a href="../Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><a href="#97157">flags</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type)methodSym.type</span><a href="../Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97158">mtype</a></span>);
    (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Scope</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#97160">statik</a></span>) <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35744">staticDefs</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Scope</span><a href="#35738">instanceDefs</a></span>).<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Symbol)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Scopes.scala.html#34617">enter</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97674">methodSym</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97159">method</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[TypeParser.this.global.loaders.clrTypes.global.Symbol,ch.epfl.lamp.compiler.msil.MethodInfo]</span><a href="CLRTypes.scala.html#35391">methods</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97674">methodSym</a></span>)  = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97159">method</a></span>;
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97674">methodSym</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a id="35758">createDelegateView</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97280">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>) = <span class="typed"><span class="type">Unit</span><span >{</span></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="97282">invoke</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97280">typ</a></span>.<span class="typed"><span class="type">(Int)ch.epfl.lamp.compiler.msil.MemberInfo</span><span id="21509"><a id="35264">GetMember</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Invoke&quot;)</span><span class="string">&quot;Invoke&quot;</span></span>)(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a id="34319">MethodInfo</a></span>];
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97283">invokeRetType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97282">invoke</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="37053">ReturnType</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="97284">invokeParamTypes</a></span>: <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="526">List</a></span>[Type] =<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="#97282">invoke</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="35710">GetParameters</a></span>().<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.ParameterInfo) =&gt; ch.epfl.lamp.compiler.msil.Type)Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="21516">map</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ParameterInfo</span><a href="#97301">_</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97207">ParameterType</a></span>).<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.Type) =&gt; TypeParser.this.global.loaders.clrTypes.global.Type)Array[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21516">map</a></span>(<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>).<span class="typed"><span class="type">=&gt; List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21815">toList</a></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97285">funType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Definitions.scala.html#26000">functionType</a></span>(<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97284">invokeParamTypes</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97283">invokeRetType</a></span>);

    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97286">typClrType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97280">typ</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="97287">flags</a></span> = Flags.JAVA | Flags.STATIC <span class="typed"><span class="type">Int(9437696)</span><span >|</span></span> Flags.IMPLICIT; <span class="comment">// todo: static? think not needed</span>

    <span class="comment">// create the forward view: delegate =&gt; function</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="97288">delegateParamTypes</a></span>: <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="526">List</a></span>[Type] = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97286">typClrType</a></span>);
    <span class="comment">// not ImplicitMethodType, this is for methods with implicit parameters (not implicit methods)</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a id="97289">forwardViewMethodType</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="../Types.scala.html#22034">JavaMethodType</a></span>(<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97288">delegateParamTypes</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97285">funType</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97290">fmsym</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,TypeParser.this.global.loaders.clrTypes.global.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35757">createMethod</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30964">view_</a></span>, <span class="typed"><span class="type">implicit scala.Predef.int2long : (Int)Long</span><span id="6212"><a href="#97287" id="821">flags</a></span></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="#97289">forwardViewMethodType</a></span>, <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>);

    <span class="comment">// create the backward view: function =&gt; delegate</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="97291">functionParamTypes</a></span>: <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="526">List</a></span>[Type] = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97285">funType</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a id="97292">backwardViewMethodType</a></span> = <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="../Types.scala.html#22034">JavaMethodType</a></span>(<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97291">functionParamTypes</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97286">typClrType</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97293">bmsym</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,TypeParser.this.global.loaders.clrTypes.global.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35757">createMethod</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30964">view_</a></span>, <span class="typed"><span class="type">implicit scala.Predef.int2long : (Int)Long</span><span id="6212"><a href="#97287" id="821">flags</a></span></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="#97292">backwardViewMethodType</a></span>, <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>);
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Unit</span><a id="35759">createDelegateChainers</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97346">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="97348">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = Flags.JAVA <span class="typed"><span class="type">Long(1048608L)</span><span >|</span></span> Flags.FINAL
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="97349">args</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="1072">Array</a></span>[MSILType] = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type*)Array[ch.epfl.lamp.compiler.msil.Type]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97346">typ</a></span>)

    <span class="keyword">var</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97350">s</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,Array[ch.epfl.lamp.compiler.msil.Type],ch.epfl.lamp.compiler.msil.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35756">createMethod</a></span>(<span class="typed"><span class="type">(String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#22319">encode</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;+=&quot;)</span><span class="string">&quot;+=&quot;</span></span>), <span class="typed"><span class="type">Long</span><a href="#97348">flags</a></span>, <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97349">args</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35351">VOID</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="CLRTypes.scala.html#35381">DELEGATE_COMBINE</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97350">s</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,Array[ch.epfl.lamp.compiler.msil.Type],ch.epfl.lamp.compiler.msil.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35756">createMethod</a></span>(<span class="typed"><span class="type">(String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#22319">encode</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;-=&quot;)</span><span class="string">&quot;-=&quot;</span></span>), <span class="typed"><span class="type">Long</span><a href="#97348">flags</a></span>, <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97349">args</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35351">VOID</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="CLRTypes.scala.html#35384">DELEGATE_REMOVE</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);

    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97350">s</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,Array[ch.epfl.lamp.compiler.msil.Type],ch.epfl.lamp.compiler.msil.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35756">createMethod</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30649">PLUS</a></span>, <span class="typed"><span class="type">Long</span><a href="#97348">flags</a></span>, <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97349">args</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97346">typ</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="CLRTypes.scala.html#35381">DELEGATE_COMBINE</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97350">s</a></span> = <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name,Long,Array[ch.epfl.lamp.compiler.msil.Type],ch.epfl.lamp.compiler.msil.Type,ch.epfl.lamp.compiler.msil.MethodInfo,Boolean)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#35756">createMethod</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30647">MINUS</a></span>, <span class="typed"><span class="type">Long</span><a href="#97348">flags</a></span>, <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97349">args</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97346">typ</a></span>, <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.MethodInfo</span><a href="CLRTypes.scala.html#35384">DELEGATE_REMOVE</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)TypeParser.this.global.loaders.clrTypes.global.Name</span><a id="35760">getName</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="97653">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="34271">MethodBase</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21103">Name</a></span> = {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97653">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35697">IsConstructor</a></span>()) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30639">CONSTRUCTOR</a></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="97677">name</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97653">method</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35505">Name</a></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97653">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>()) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21096">newTermName</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#97677">name</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="97678">params</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97653">method</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="35710">GetParameters</a></span>();
    <span class="typed"><span class="type">java.lang.String</span><a href="#97677">name</a></span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;GetHashCode&quot;)</span><span class="string">&quot;GetHashCode&quot;</span></span> <span class="keyword">if</span> (<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97678">params</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) =&gt; <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30848">hashCode_</a></span>;
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;ToString&quot;)</span><span class="string">&quot;ToString&quot;</span></span> <span class="keyword">if</span> (<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97678">params</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) =&gt; <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30936">toString_</a></span>;
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;Finalize&quot;)</span><span class="string">&quot;Finalize&quot;</span></span> <span class="keyword">if</span> (<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97678">params</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) =&gt; <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30828">finalize_</a></span>;
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;Equals&quot;)</span><span class="string">&quot;Equals&quot;</span></span> <span class="keyword">if</span> (<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a href="#97678">params</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(Int)ch.epfl.lamp.compiler.msil.ParameterInfo</span><a href="#97678" id="21509">params</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97207">ParameterType</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35360">OBJECT</a></span>) =&gt;
        <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30810">equals_</a></span>;
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;Invoke&quot;)</span><span class="string">&quot;Invoke&quot;</span></span> <span class="keyword">if</span> (<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Boolean</span><a href="CLRTypes.scala.html#35404">isDelegateType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97653">method</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="35506">DeclaringType</a></span>)) =&gt; <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.nme</span><a href="../StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../StdNames.scala.html#30762">apply</a></span>;
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Name</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21096">newTermName</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#97677">name</a></span>);
    }
  }

  <span class="comment">//##########################################################################</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35761">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="97230">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="34271">MethodBase</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97231">rettype</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97695">rtype</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97231">rettype</a></span>);
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97695">rtype</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35762">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97230">method</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97695">rtype</a></span>);
  }

  <span class="comment">/** Return a method type for the given method. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase,TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35762">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="97228">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="34271">MethodBase</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97229">rettype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> =
    <span class="typed"><span class="type">(Array[ch.epfl.lamp.compiler.msil.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35763">methodType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97228">method</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.compiler.msil.ParameterInfo]</span><a id="35710">GetParameters</a></span>().<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.ParameterInfo) =&gt; ch.epfl.lamp.compiler.msil.Type)Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="21516">map</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.ParameterInfo</span><a href="#97702">_</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97207">ParameterType</a></span>), <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97229">rettype</a></span>);

  <span class="comment">/** Return a method type for the provided argument types and return type. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Array[ch.epfl.lamp.compiler.msil.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35763">methodType</a></span>(<span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="97226">argtypes</a></span>: <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a id="1072">Array</a></span>[MSILType], <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97227">rettype</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = {
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97703">paramType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97705">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> =
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97705">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35360">OBJECT</a></span>) <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25769">AnyClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97705">typ</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="97704">ptypes</a></span> = <span class="typed"><span class="type">Array[ch.epfl.lamp.compiler.msil.Type]</span><a href="#97226">argtypes</a></span>.<span class="typed"><span class="type">((ch.epfl.lamp.compiler.msil.Type) =&gt; TypeParser.this.global.loaders.clrTypes.global.Type)Array[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21516">map</a></span>(<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97703">paramType</a></span>).<span class="typed"><span class="type">=&gt; List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a id="21815">toList</a></span>;
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97704">ptypes</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><a id="21673">contains</a></span>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)) <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">(List[TypeParser.this.global.loaders.clrTypes.global.Type],TypeParser.this.global.loaders.clrTypes.global.Type)TypeParser.this.global.loaders.clrTypes.global.JavaMethodType</span><a href="../Types.scala.html#22034">JavaMethodType</a></span>(<span class="typed"><span class="type">List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><a href="#97704">ptypes</a></span>, <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97227">rettype</a></span>);
  }

    <span class="comment">//##########################################################################</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35764">getClassType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97709">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = {
    <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97709">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97710">res</a></span> = <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Name)TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97709">typ</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="35180">FullName</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)TypeParser.this.global.loaders.clrTypes.global.Name</span><a href="../Names.scala.html#21102" id="5858">replace</a></span>(<span class="typed"><span class="type">Char('+')</span><span class="char">'+'</span></span>, <span class="typed"><span class="type">Char('.')</span><span class="char">'.'</span></span>)).<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>;
    <span class="comment">//if (res.isError())</span>
    <span class="comment">//  global.reporter.error(&quot;unknown class reference &quot; + type.FullName);</span>
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97710">res</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97189">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> = {
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="comment">/*type == clrTypes.BYTE ||*/</span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35324">USHORT</a></span>
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35333">UINT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35339">ULONG</a></span>
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35205">IsNotPublic</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35207">IsNestedPrivate</a></span>()
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35209">IsNestedAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35211">IsNestedFamANDAssem</a></span>()
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35226">IsPointer</a></span>()
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35224">IsArray</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35765">getCLSType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.compiler.msil.Type</span><a id="35235">GetElementType</a></span>()) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>))
      <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>;
    <span class="comment">//Symbol s = clrTypes.getSymbol(type);</span>
    <span class="comment">//scalac.symtab.Type t = s != null ? make.classType(s) : getCLRType(type);</span>
    <span class="keyword">else</span>
      <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97189">typ</a></span>)
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97069">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span> =
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35360">OBJECT</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>;
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35369">VALUE_TYPE</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25772">AnyValClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35363">STRING</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25802">StringClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>;
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35351">VOID</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25821">UnitClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35348">BOOLEAN</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25824">BooleanClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35327">CHAR</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25836">CharClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35315">BYTE</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35318">UBYTE</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25830">ByteClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35321">SHORT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35324">USHORT</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25833">ShortClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35330">INT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35333">UINT</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25839">IntClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35336">LONG</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35339">ULONG</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25846">LongClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35342">FLOAT</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25849">FloatClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; ch.epfl.lamp.compiler.msil.Type</span><a href="CLRTypes.scala.html#35345">DOUBLE</a></span>)
      <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25852">DoubleClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35224">IsArray</a></span>())
      <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type,List[TypeParser.this.global.loaders.clrTypes.global.Type])TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#22037">appliedType</a></span>(<span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25901">ArrayClass</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>,
                  <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type*)List[TypeParser.this.global.loaders.clrTypes.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35766">getCLRType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.compiler.msil.Type</span><a id="35235">GetElementType</a></span>())));
    <span class="keyword">else</span> {
      <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97746">res</a></span> = <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes</span><a href="../SymbolLoaders.scala.html#34365">clrTypes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[ch.epfl.lamp.compiler.msil.Type,TypeParser.this.global.loaders.clrTypes.global.Symbol]</span><a href="CLRTypes.scala.html#35395">sym2type</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Option[TypeParser.this.global.loaders.clrTypes.global.Symbol]</span><a id="24235">get</a></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span>) <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97747">sym</a></span>) =&gt; <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97747">sym</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Symbols.scala.html#25230">tpe</a></span>
        <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#35764">getClassType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span>);
      }
      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97746">res</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>, <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97069">typ</a></span>)
      <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97746">res</a></span>
    }

  <span class="comment">// the values are Java-Box-Classes (e.g. Integer, Boolean, Character)</span>
  <span class="comment">// java.lang.Number to get the value (if a number, not for boolean, character)</span>
  <span class="comment">// see ch.epfl.lamp.compiler.msil.util.PEStream.java</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(TypeParser.this.global.loaders.clrTypes.global.Type,java.lang.Object)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a id="35767">getConstant</a></span>(<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a id="97143">constType</a></span>: <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="../Types.scala.html#21944">Type</a></span>, <span class="typed"><span class="type">java.lang.Object</span><a id="97144">value</a></span>: <span class="typed"><span class="type">java.lang.Object</span><a id="2017">Object</a></span>): <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#22297">Constant</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a id="97756">typeClass</a></span> = <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Type</span><a href="#97143">constType</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Types.scala.html#25650">typeSymbol</a></span>
    <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25824">BooleanClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Boolean</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Boolean</span><a id="2026">Boolean</a></span>].<span class="typed"><span class="type">()Boolean</span><a id="31527">booleanValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25830">ByteClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Byte</span><a id="23183">byteValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25833">ShortClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Short</span><a id="23184">shortValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25836">CharClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Character</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Character</span><a id="1945">Character</a></span>].<span class="typed"><span class="type">()Char</span><a id="19655">charValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25839">IntClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Int</span><a id="23179">intValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25846">LongClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Long</span><a id="23180">longValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25849">FloatClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Float</span><a id="23181">floatValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25852">DoubleClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.Number</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.Number</span><a id="1900">Number</a></span>].<span class="typed"><span class="type">()Double</span><a id="23182">doubleValue</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Constant</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object TypeParser.this.global.loaders.clrTypes.global.definitions</span><a href="../Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="../Definitions.scala.html#25802">StringClass</a></span>)
      <span class="typed"><span class="type">(Any)TypeParser.this.global.loaders.clrTypes.global.Constant</span><a href="../Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="3503">asInstanceOf</a></span>[java.lang.<span class="typed"><span class="type">java.lang.String</span><a id="1861">String</a></span>])
    <span class="keyword">else</span>
      <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;illegal value: &quot;)</span><span class="string">&quot;illegal value: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.Object</span><a href="#97144">value</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;, class-symbol: &quot;)</span><span class="string">&quot;, class-symbol: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">TypeParser.this.global.loaders.clrTypes.global.Symbol</span><a href="#97756">typeClass</a></span>)
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.Type)Long</span><a id="35768">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="97066">typ</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a id="34226">MSILType</a></span>): <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Long</span><a id="97766">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35205">IsNotPublic</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35207">IsNestedPrivate</a></span>()
	<span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35209">IsNestedAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35211">IsNestedFamANDAssem</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(4)</span><span >PRIVATE</span></span>;
    <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35208">IsNestedFamily</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35210">IsNestedFamORAssem</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(1)</span><span >PROTECTED</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35203">IsAbstract</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(8)</span><span >ABSTRACT</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35212">IsSealed</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(32)</span><span >FINAL</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.Type</span><a href="#97066">typ</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35215">IsInterface</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(128)</span><span >INTERFACE</span></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(33554432)</span><span >TRAIT</span></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(8)</span><span >ABSTRACT</span></span>;

    <span class="typed"><span class="type">Long</span><a href="#97766">flags</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.FieldInfo)Long</span><a id="35769">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a id="97065">field</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a id="34343">FieldInfo</a></span>): <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Long</span><a id="97774">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74714">IsPrivate</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74716">IsAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74718">IsFamilyAndAssembly</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(4)</span><span >PRIVATE</span></span>;
    <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74715">IsFamily</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74717">IsFamilyOrAssembly</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(1)</span><span >PROTECTED</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74711">IsInitOnly</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(32)</span><span >FINAL</span></span>;
    <span class="keyword">else</span>
      <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(4096)</span><span >MUTABLE</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.FieldInfo</span><a href="#97065">field</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="74710">IsStatic</a></span>)
      <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(8388608)</span><span >STATIC</span></span>

    <span class="typed"><span class="type">Long</span><a href="#97774">flags</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.compiler.msil.MethodBase)Long</span><a id="35770">translateAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="97064">method</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a id="34271">MethodBase</a></span>): <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Long</span><a id="97780">flags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35705">IsPrivate</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35707">IsAssembly</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35709">IsFamilyAndAssembly</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(4)</span><span >PRIVATE</span></span>;
    <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35706">IsFamily</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35708">IsFamilyOrAssembly</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(1)</span><span >PROTECTED</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35698">IsAbstract</a></span>())
      <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(16)</span><span >DEFERRED</span></span>;
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ch.epfl.lamp.compiler.msil.MethodBase</span><a href="#97064">method</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="35701">IsStatic</a></span>)
      <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> = <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3261">|</a></span> Flags.<span class="typed"><span class="type">Int(8388608)</span><span >STATIC</span></span>

    <span class="typed"><span class="type">Long</span><a href="#97780">flags</a></span>
  }
}

        </pre>
    </body>
</html>