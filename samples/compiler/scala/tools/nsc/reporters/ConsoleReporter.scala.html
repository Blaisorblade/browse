<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/reporters/ConsoleReporter.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2002-2009 LAMP/EPFL
 * @author Martin Odersky
 */</span>
<span class="comment">// $Id: ConsoleReporter.scala 16884 2009-01-09 16:52:09Z cunei $</span>

<span class="keyword">package</span> scala.tools.nsc.reporters

<span class="keyword">import</span> java.io.{BufferedReader, InputStreamReader, IOException, PrintWriter}
<span class="keyword">import</span> util._

<span class="comment">/**
 * This class implements a Reporter that displays messages on a text
 * console.
 */</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class ConsoleReporter extends scala.tools.nsc.reporters.AbstractReporter with ScalaObject</span><a id="15935">ConsoleReporter</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.Settings</span><span id="46747"><span id="46746"><a id="46771">settings</a></span></span></span>: <span class="typed"><span class="type">scala.tools.nsc.Settings</span><a href="../Settings.scala.html#6744">Settings</a></span>, <span class="typed"><span class="type">java.io.BufferedReader</span><span id="46748"><a id="46772">reader</a></span></span>: <span class="typed"><span class="type">java.io.BufferedReader</span><a id="3549">BufferedReader</a></span>, <span class="typed"><span class="type">java.io.PrintWriter</span><span id="46749"><a id="46773">writer</a></span></span>: <span class="typed"><span class="type">java.io.PrintWriter</span><a id="3759">PrintWriter</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.reporters.AbstractReporter</span><a href="AbstractReporter.scala.html#15908">AbstractReporter</a></span> {
  <span class="comment">/** Whether a short file name should be displayed before errors */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="46753"><span id="46751"><span id="46752"><a id="60013">shortname</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

  <span class="comment">/** maximal number of error messages to be printed */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int(100)</span><span id="46755"><a id="46754">ERROR_LIMIT</a></span></span> = <span class="typed"><span class="type">Int(100)</span><span class="int">100</span></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a id="46756">label</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a id="60016">severity</a></span>: <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34449">Severity</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60016">severity</a></span> <span class="typed"><span class="type">String</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">java.lang.String(&quot;error&quot;)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34454">ERROR</a></span>   =&gt; <span class="typed"><span class="type">java.lang.String(&quot;error&quot;)</span><span class="string">&quot;error&quot;</span></span>
    <span class="typed"><span class="type">java.lang.String(&quot;warning&quot;)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34452">WARNING</a></span> =&gt; <span class="typed"><span class="type">java.lang.String(&quot;warning&quot;)</span><span class="string">&quot;warning&quot;</span></span>
    <span class="typed"><span class="type">Null(null)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34450">INFO</a></span>    =&gt; <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a id="46757">clabel</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a id="60017">severity</a></span>: <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34449">Severity</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="60018">label0</a></span> = <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a href="#46756">label</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60017">severity</a></span>)
    <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">String</span><a href="#60018">label0</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">String</span><a href="#60018">label0</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;: &quot;)</span><span class="string">&quot;: &quot;</span></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.Settings)scala.tools.nsc.reporters.ConsoleReporter</span><a id="46758" class="keyword">this</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Settings</span><a id="46770">settings</a></span>: <span class="typed"><span class="type">scala.tools.nsc.Settings</span><a href="../Settings.scala.html#6744">Settings</a></span>) =
    <span class="typed"><span class="type">ConsoleReporter.this.type</span><a href="#15935" class="keyword">this</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Settings</span><a href="#46770">settings</a></span>, <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">=&gt; java.io.BufferedReader</span><a id="27044">in</a></span>, <span class="typed"><span class="type">(java.io.OutputStream,Boolean)java.io.PrintWriter</span><a id="28680" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.PrintWriter</span><a id="3759">PrintWriter</a></span>(<span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">=&gt; java.io.PrintStream</span><a id="27045">err</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>))

  <span class="comment">/** Returns the number of errors issued totally as a string.
   *
   *  @param severity ...
   *  @return         ...
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a id="46759">getCountString</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a id="60051">severity</a></span>: <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34449">Severity</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> =
    <span class="typed"><span class="type">(Int,String)String</span><a href="Reporter.scala.html#34477">countElementsAsString</a></span>((<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60051">severity</a></span>).<span class="typed"><span class="type">=&gt; Int</span><a href="Reporter.scala.html#47093">count</a></span>, <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a href="#46756">label</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60051">severity</a></span>))

  <span class="comment">/** Prints the message. */</span>
  <span class="comment">//def printMessage(msg: String) { writer.println(msg) }  // platform-dependent!</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)Unit</span><a id="46760">printMessage</a></span>(<span class="typed"><span class="type">String</span><a id="60054">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) { <span class="typed"><span class="type">java.io.PrintWriter</span><a href="#46749">writer</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="28701">print</a></span>(<span class="typed"><span class="type">String</span><a href="#60054">msg</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>); <span class="typed"><span class="type">java.io.PrintWriter</span><a href="#46749">writer</a></span>.<span class="typed"><span class="type">()Unit</span><a id="28685">flush</a></span>() }

  <span class="comment">/** Prints the message with the given position indication. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a id="46761">printMessage</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60056">posIn</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">String</span><a id="60057">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60056">posIn</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60058">pos</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60056">posIn</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#25346">inUltimateSource</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60056">posIn</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a href="../util/Position.scala.html#25342">source</a></span>.<span class="typed"><span class="type">(=&gt; scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.SourceFile</span><a id="25411">getOrElse</a></span>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="60059">buf</a></span> = <span class="typed"><span class="type">(String)StringBuilder</span><a id="23673" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a id="1435">StringBuilder</a></span>(<span class="typed"><span class="type">String</span><a href="#60057">msg</a></span>)
      <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a href="../util/Position.scala.html#25342">source</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25406">isEmpty</a></span>) {
        <span class="typed"><span class="type">StringBuilder</span><a href="#60059">buf</a></span>.<span class="typed"><span class="type">(Int,String)StringBuilder</span><a id="23707">insert</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>)
        <span class="typed"><span class="type">StringBuilder</span><a href="#60059">buf</a></span>.<span class="typed"><span class="type">(Int,String)StringBuilder</span><a id="23707">insert</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25343">line</a></span>.<span class="typed"><span class="type">((Int) =&gt; java.lang.String)Option[java.lang.String]</span><a id="25413">map</a></span>(<span class="typed"><span class="type">Int</span><a id="60075">ln</a></span> =&gt; <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25343">line</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="25408">get</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span>).<span class="typed"><span class="type">(=&gt; java.lang.String)java.lang.String</span><a id="25411">getOrElse</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span>))
      }
      <span class="comment">//println(getSource.file)</span>
      <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span> <span class="typed"><span class="type">Any</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">StringBuilder</span><span class="keyword">case</span></span> <a id="1">FakePos</a>(<span class="typed"><span class="type">String</span><a id="60092">msg</a></span>) =&gt;
          <span class="typed"><span class="type">StringBuilder</span><a href="#60059">buf</a></span>.<span class="typed"><span class="type">(Int,String)StringBuilder</span><a id="23707">insert</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">String</span><a href="#60092">msg</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>)
        <span class="typed"><span class="type">StringBuilder</span><span class="keyword">case</span></span> _ <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a href="../util/Position.scala.html#25342">source</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25406">isEmpty</a></span> =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="60095">file</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a href="../util/Position.scala.html#25342">source</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a id="25408">get</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../util/SourceFile.scala.html#22650">file</a></span>
          <span class="typed"><span class="type">StringBuilder</span><a href="#60059">buf</a></span>.<span class="typed"><span class="type">(Int,String)StringBuilder</span><a id="23707">insert</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#46751">shortname</a></span>) <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#60095">file</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../io/AbstractFile.scala.html#25439">name</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#60095">file</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../io/AbstractFile.scala.html#25440">path</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
      }
      <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">StringBuilder</span><a href="#60059">buf</a></span>.<span class="typed"><span class="type">()String</span><a id="23723">toString</a></span>())
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25343">line</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25406">isEmpty</a></span>)
        <span class="typed"><span class="type">(scala.tools.nsc.util.Position)Unit</span><a href="#46763">printSourceLine</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60058">pos</a></span>)
    } <span class="keyword">else</span>
      <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">String</span><a href="#60057">msg</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,ConsoleReporter.this.Severity)Unit</span><a id="46762">print</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60111">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">String</span><a id="60112">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a id="60113">severity</a></span>: <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34449">Severity</a></span>) {
    <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="#46761">printMessage</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60111">pos</a></span>, <span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a href="#46757">clabel</a></span>(<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60113">severity</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#60112">msg</a></span>)
  }

  <span class="comment">/**
   *  @param pos ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position)Unit</span><a id="46763">printSourceLine</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60109">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>) {
    <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60109">pos</a></span>.<span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6140"><a href="../util/Position.scala.html#25345" id="821">lineContent</a></span></span>.<span class="typed"><span class="type">=&gt; String</span><a id="22839">stripLineEnd</a></span>)
    <span class="typed"><span class="type">(scala.tools.nsc.util.Position)Unit</span><a href="#46764">printColumnMarker</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60109">pos</a></span>)
  }

  <span class="comment">/** Prints the column marker of the given position.
   *
   *  @param pos ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position)Unit</span><a id="46764">printColumnMarker</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60125">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>) = <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60125">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25344">column</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25406">isEmpty</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="60128">buffer</a></span> = <span class="typed"><span class="type">(Int)StringBuilder</span><a id="23672" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a id="1435">StringBuilder</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60125">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25344">column</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="25408">get</a></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="60129">i</a></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#60130" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#60129">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60125">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25344">column</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="25408">get</a></span>) {
      <span class="typed"><span class="type">StringBuilder</span><a href="#60128">buffer</a></span>.<span class="typed"><span class="type">(Char)StringBuilder</span><a id="23697">append</a></span>(<span class="typed"><span class="type">Char(' ')</span><span class="char">' '</span></span>)
      <span class="typed"><span class="type">Int</span><a href="#60129">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
    <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60125">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../util/Position.scala.html#25344">column</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="25408">get</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">StringBuilder</span><a href="#60128">buffer</a></span>.<span class="typed"><span class="type">(Char)StringBuilder</span><a id="23697">append</a></span>(<span class="typed"><span class="type">Char('^')</span><span class="char">'^'</span></span>)
    <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">StringBuilder</span><a href="#60128">buffer</a></span>.<span class="typed"><span class="type">()String</span><a id="23723">toString</a></span>())
  }
  
  <span class="comment">/** Prints the number of errors and warnings if their are non-zero. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="46765">printSummary</a></span>() {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34452">WARNING</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="Reporter.scala.html#47093">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a href="#46759">getCountString</a></span>(<span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34452">WARNING</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; found&quot;)</span><span class="string">&quot; found&quot;</span></span>)
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (  <span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34454">ERROR</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="Reporter.scala.html#47093">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(String)Unit</span><a href="#46760">printMessage</a></span>(<span class="typed"><span class="type">(ConsoleReporter.this.Severity)String</span><a href="#46759">getCountString</a></span>(<span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34454">ERROR</a></span>  ) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; found&quot;)</span><span class="string">&quot; found&quot;</span></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,ConsoleReporter.this.Severity)Unit</span><a id="46766">display</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="60185">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">String</span><a id="60186">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a id="60187">severity</a></span>: <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34449">Severity</a></span>) {
    <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60187">severity</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a href="Reporter.scala.html#47094">count</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60187">severity</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; ConsoleReporter.this.Severity</span><a href="Reporter.scala.html#34454">ERROR</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60187">severity</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="Reporter.scala.html#47093">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&lt;=</a></span> <span class="typed"><span class="type">Int(100)</span><span >ERROR_LIMIT</span></span>)
      <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,ConsoleReporter.this.Severity)Unit</span><a href="#46762">print</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#60185">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#60186">msg</a></span>, <span class="typed"><span class="type">ConsoleReporter.this.Severity</span><a href="#60187">severity</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="46767">displayPrompt</a></span>: <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="keyword">try</span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><a id="60213">continue</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#60214" class="keyword">while</a></span> (<span class="typed"><span class="type">Boolean</span><a href="#60213">continue</a></span>) {
      <span class="typed"><span class="type">java.io.PrintWriter</span><a href="#46749">writer</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="28701">print</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;r)esume, a)bort: &quot;)</span><span class="string">&quot;r)esume, a)bort: &quot;</span></span>)
      <span class="typed"><span class="type">java.io.PrintWriter</span><a href="#46749">writer</a></span>.<span class="typed"><span class="type">()Unit</span><a id="28685">flush</a></span>()
      <span class="keyword">var</span> <span class="typed"><span class="type">java.lang.String</span><a id="60215">line</a></span> = <span class="typed"><span class="type">java.io.BufferedReader</span><a href="#46748">reader</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="46779">readLine</a></span>()
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.String</span><a href="#60215">line</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
	<span class="typed"><span class="type">java.lang.String</span><a href="#60215">line</a></span> = <span class="typed"><span class="type">java.lang.String</span><a href="#60215">line</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="5867">toLowerCase</a></span>()
	<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.String(&quot;abort&quot;)</span><span class="string">&quot;abort&quot;</span></span> <span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5841">startsWith</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="#60215">line</a></span>)
            <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.Error</span><a id="27228" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Error</span><span id="5975"><a id="821">Error</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;user abort&quot;)</span><span class="string">&quot;user abort&quot;</span></span>)
	<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.String(&quot;resume&quot;)</span><span class="string">&quot;resume&quot;</span></span> <span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5841">startsWith</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="#60215">line</a></span>) <span class="typed"><span class="type">Boolean</span><a href="#60213">continue</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      }
    }
  } <span class="keyword">catch</span> {
    <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.io.IOException</span><a id="60225">ex</a></span>: <span class="typed"><span class="type">java.io.IOException</span><a id="3519">IOException</a></span> =&gt; {
      <span class="typed"><span class="type">java.io.IOException</span><a href="#60225">ex</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23651">printStackTrace</a></span>()
      <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.Error</span><a id="27228" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Error</span><span id="5975"><a id="821">Error</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;input read error&quot;)</span><span class="string">&quot;input read error&quot;</span></span>)
    }
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="46768">flush</a></span>() { <span class="typed"><span class="type">java.io.PrintWriter</span><a href="#46749">writer</a></span>.<span class="typed"><span class="type">()Unit</span><a id="28685">flush</a></span>() }
}

        </pre>
    </body>
</html>