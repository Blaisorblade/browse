<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/util/ArgumentsExpander.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

<span class="keyword">import</span> java.io.{FileReader, BufferedReader, StreamTokenizer, FileNotFoundException}
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

/**
 * Expands all arguments starting with @ to the contents of the
 * file named like each argument.
 */
<span class="keyword">object</span> <a title="object scala.tools.nsc.util.ArgumentsExpander" id="14507">ArgumentsExpander</a> <a title="ScalaObject" id="959">{</a>

  <span class="keyword">def</span> <a title="(arg: String)List[String]" id="328671">expandArg</a>(<a title="String" id="328673">arg</a>: <span title="String">String</span>): <span title="List[String]">List</span>[String] =
    <a href="#328672" title="(fileName: String)List[String]">expandFromFile</a>(<a href="#328673" title="String">arg</a>.<a title="(x$1: Int)java.lang.String" id="7014">substring</a>(<span title="Int(1)" class="int">1</span>))

  /*
   * Extracts all the arguments in a specified file.
   * Throws FileNotFoundException if the file does not exist.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fileName: String)List[String]" id="328672">expandFromFile</a>(<a title="String" id="775068">fileName</a>: <span title="String">String</span>): <span title="List[String]">List</span>[String]  = {
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="775076">f</a> = <a href="../io/AbstractFile.scala.html#20549" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a>.<a href="../io/AbstractFile.scala.html#121036" title="(path: String)scala.tools.nsc.io.AbstractFile">getFile</a>(<a href="#775068" title="String">fileName</a>)
    <span title="Unit" class="keyword">if</span> (<a href="#775076" title="(x$1: AnyRef)Boolean" id="6542">f</a> eq <span title="Null(null)" class="keyword">null</span>) <span title="Nothing" class="keyword">throw</span> <a title="(x$1: java.lang.String)java.io.FileNotFoundException" id="578670" class="keyword">new</a> <a title="java.io.FileNotFoundException" id="3699">FileNotFoundException</a>(
      <span title="(x$1: Any)java.lang.String" class="string">&quot;argument file &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#775068" title="String">fileName</a> +<span title="java.lang.String(&quot; could not be found&quot;)" class="string">&quot; could not be found&quot;</span>)

    <span class="keyword">val</span> <a title="java.io.BufferedReader" id="775077">in</a> = <a title="(x$1: java.io.Reader)java.io.BufferedReader" id="38840" class="keyword">new</a> <a title="java.io.BufferedReader" id="3669">BufferedReader</a>(<a title="(x$1: java.io.File)java.io.FileReader" id="564578" class="keyword">new</a> <a title="java.io.FileReader" id="3978">FileReader</a>(<a href="#775076" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#51387" title="=&gt; java.io.File">file</a>))

    <span class="keyword">val</span> <a title="java.io.StreamTokenizer" id="775078">tokenizer</a> = <a title="(x$1: java.io.Reader)java.io.StreamTokenizer" id="775116" class="keyword">new</a> <a title="java.io.StreamTokenizer" id="3930">StreamTokenizer</a>( <a href="#775077" title="java.io.BufferedReader">in</a> )
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="()Unit" id="775118">resetSyntax</a>
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="(x$1: Int,x$2: Int)Unit" id="775119">wordChars</a>(<span title="Int(32)" class="char">' '</span>, <span title="Int(255)" class="int">255</span>)
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="(x$1: Int,x$2: Int)Unit" id="775122">whitespaceChars</a>(<span title="Int(0)" class="int">0</span>, <span title="Int(32)" class="char">' '</span>)
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="(x$1: Int)Unit" id="775130">commentChar</a>(<span title="Int(35)" class="char">'#'</span>)
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<span title="(x$1: Int)Unit">quoteChar</span>(<span title="Int(34)" class="char">'&quot;'</span>)
    <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<span title="(x$1: Int)Unit">quoteChar</span>(<span title="Int(39)" class="char">'\''</span>)

    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="775079">ts</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[String]" id="24819">ListBuffer</a>[String]
    <span title="Unit" class="keyword">while</span> (<a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="()Int" id="775143">nextToken</a><a title="(x$1: Int)Boolean" id="2954">(</a>) != StreamTokenizer.<span title="Int(-1)">TT_EOF</span>) {
      <a href="#775079" title="(x: String)ts.type" id="61580">ts</a> <a href="#775080" title="()Unit">+=</a> <a href="#775078" title="java.io.StreamTokenizer">tokenizer</a>.<a title="java.lang.String" id="775112">sval</a>
    }
    <a href="#775077" title="java.io.BufferedReader">in</a>.<a title="()Unit" id="38857">close</a>()
    <a href="#775079" title="scala.collection.mutable.ListBuffer[String]">ts</a>.<a title="=&gt; List[String]" id="61592">toList</a>
  }
}

        </pre>
    </body>
</html>