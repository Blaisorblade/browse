<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/util/FreshNameCreator.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: FreshNameCreator.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

<span class="keyword">import</span> scala.collection.mutable.HashMap

<span class="keyword">trait</span> <a title="trait FreshNameCreator extends java.lang.Object" id="14773">FreshNameCreator</a> <a title="java.lang.Object" id="3646">{</a>

  /** do not call before after type checking ends.
   */
  @deprecated(<span class="string">&quot;use newName(Position, String) instead&quot;</span>)
  <span class="keyword">def</span> <a title="(prefix: String)String" id="74283">newName</a>(<a title="String" id="74319">prefix</a>: <span title="String">String</span>): <span title="String">String</span>

  /** do not call before after type checking ends.
   */
  @deprecated(<span class="string">&quot;use newName(Position) instead&quot;</span>)
  <span class="keyword">def</span> <a title="()String" id="74284">newName</a>(): <span title="String">String</span>

  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,prefix: String)String" id="74285">newName</a>(<a title="scala.tools.nsc.util.Position" id="74303">pos</a>: util.<a href="Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="74304">prefix</a>: <span title="String">String</span>): <span title="String">String</span>
  <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)String" id="74286">newName</a>(<a title="scala.tools.nsc.util.Position" id="74289">pos</a>: util.<a href="Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <span title="String">String</span>
}

<span class="keyword">object</span> <a title="object scala.tools.nsc.util.FreshNameCreator" id="14774">FreshNameCreator</a> <span title="ScalaObject">{</span>

  <span class="keyword">class</span> <a title="class Default extends java.lang.Object with scala.tools.nsc.util.FreshNameCreator with ScalaObject" id="311608">Default</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#14773" title="scala.tools.nsc.util.FreshNameCreator">FreshNameCreator</a> {

    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Int" id="311611">counter</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="311613">counters</a> = <span title="scala.collection.mutable.HashMap[String,Int]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="25113">HashMap</a>[String, Int]

    /**
     * Create a fresh name with the given prefix. It is guaranteed
     * that the returned name has never been returned by a previous
     * call to this function (provided the prefix does not end in a digit).
     */
    <span class="keyword">def</span> <a title="(prefix: String)String" id="311615">newName</a>(<a title="String" id="554539">prefix</a>: <span title="String">String</span>): <span title="String">String</span> = {
      <span class="keyword">val</span> <a title="java.lang.String" id="554542">safePrefix</a> = <a href="#554539" title="String">prefix</a>.<span title="(x$1: Char,x$2: Char)java.lang.String">replace</span>(<span title="Char('&lt;')" class="char">'&lt;'</span>, <span title="Char('$')" class="char">'$'</span>).<span title="(x$1: Char,x$2: Char)java.lang.String">replace</span>(<span title="Char('&gt;')" class="char">'&gt;'</span>, <span title="Char('$')" class="char">'$'</span>)
      <span class="keyword">val</span> <a title="Int" id="554543">count</a> = <a href="#311613" title="=&gt; scala.collection.mutable.HashMap[String,Int]">counters</a>.<a title="(key: String,default: =&gt; Int)Int" id="44672">getOrElse</a><span title="(x$1: Int)Int">(</span><a href="#554542" title="java.lang.String">safePrefix</a>, <span title="Int(0)" class="int">0</span>) + <span title="Int(1)" class="int">1</span>
      <a href="#311613" title="(key: String,value: Int)Unit" id="44618">counters</a>(<a href="#554542" title="java.lang.String">safePrefix</a>) = <a href="#554543" title="Int">count</a>
      <a href="#554542" title="(x$1: Any)java.lang.String">safePrefix</a> + <a href="#554543" title="Int">count</a>
    }
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,prefix: String)String" id="311616">newName</a>(<a title="scala.tools.nsc.util.Position" id="554584">pos</a>: util.<a href="Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="554585">prefix</a>: <span title="String">String</span>) = <a href="#311615" title="(prefix: String)String">newName</a>(<a href="#554585" title="String">prefix</a>)
    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)String" id="311617">newName</a>(<a title="scala.tools.nsc.util.Position" id="554590">pos</a>: util.<a href="Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>) = <a href="#311618" title="()String">newName</a>()

    <span class="keyword">def</span> <a title="()String" id="311618">newName</a>(): <span title="String">String</span> = {
      <a href="#311611" title="(x$1: Int)Unit">counter</a> += <span title="Int(1)" class="int">1</span>
      <span title="(x$1: Any)java.lang.String" class="string">&quot;$&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#311611" title="=&gt; Int">counter</a> + <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
    }
  }

}

        </pre>
    </body>
</html>