<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/jvm/GenJVM.scala</title>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Iulian Dragos
 */</span>

<span class="comment">// $Id: GenJVM.scala 17503 2009-04-14 22:43:05Z dragos $</span>

<span class="keyword">package</span> scala.tools.nsc.backend.jvm

<span class="keyword">import</span> java.io.{DataOutputStream, File, OutputStream}
<span class="keyword">import</span> java.nio.ByteBuffer

<span class="keyword">import</span> scala.collection.immutable.{Set, ListSet}
<span class="keyword">import</span> scala.collection.mutable.{Map, HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.io.AbstractFile
<span class="keyword">import</span> scala.tools.nsc.symtab._
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}
<span class="keyword">import</span> scala.tools.nsc.symtab.classfile.ClassfileConstants._

<span class="keyword">import</span> ch.epfl.lamp.fjbg._

<span class="comment">/** This class ...
 *
 *  @author  Iulian Dragos
 *  @version 1.0
 * 
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class GenJVM extends scala.tools.nsc.SubComponent with ScalaObject</span><a id="17240">GenJVM</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.SubComponent</span><a href="../../SubComponent.scala.html#6300">SubComponent</a></span> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> icodes._
  <span class="keyword">import</span> icodes.opcodes._

  <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="68409"><a id="68408">phaseName</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;jvm&quot;)</span><span class="string">&quot;jvm&quot;</span></span>
  
  <span class="comment">/**
   * Directory where output will be written.  By default it
   * is the directory specified by Settings.outdir.
   */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><span id="68412"><span id="68410"><span id="68411"><a id="68420">outputDir</a></span></span></span></span>: <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#12693">AbstractFile</a></span> = <span class="typed"><span class="type">object scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#12694">AbstractFile</a></span>.<span class="typed"><span class="type">(String)scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#68425">getDirectory</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting</span><a href="../../Settings.scala.html#29954">outdir</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)

  <span class="comment">/** Create a new phase */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.Phase)GenJVM.this.JvmPhase</span><a id="68413">newPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="68433">p</a></span>: <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="../../Phase.scala.html#6873">Phase</a></span>) = <span class="typed"><span class="type">GenJVM.this.JvmPhase</span><span class="keyword">new</span></span> <span class="typed"><span class="type">GenJVM.this.JvmPhase</span><a href="#68414">JvmPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#68433">p</a></span>)

  <span class="comment">/** JVM code generation phase
   */</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class JvmPhase extends GenJVM.this.StdPhase with ScalaObject</span><a id="68414">JvmPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><span id="68436"><a id="68443">prev</a></span></span>: <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="../../Phase.scala.html#6873">Phase</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">GenJVM.this.StdPhase</span><a href="../../SubComponent.scala.html#29468">StdPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#68443">prev</a></span>) {

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="68438">erasedTypes</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
    <span class="keyword">object</span> <span class="typed"><span class="type">object JvmPhase.this.codeGenerator</span><a id="68439">codeGenerator</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">GenJVM.this.BytecodeGenerator</span><a href="#68418">BytecodeGenerator</a></span>

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="68441">run</a></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(String)Unit</span><a href="../../Global.scala.html#21199">inform</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;[running phase &quot;)</span><span class="string">&quot;[running phase &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; String</span><a href="../../SubComponent.scala.html#38195">name</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; on icode]&quot;)</span><span class="string">&quot; on icode]&quot;</span></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30064">Xdce</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">object GenJVM.this.global.icodes</span><a href="../../Global.scala.html#21176">icodes</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]</span><a href="../icode/ICodes.scala.html#32305">classes</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.IClass) =&gt; Boolean)Unit</span><a id="24210">retain</a></span> { (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68594">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a id="68595">cls</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="../icode/Members.scala.html#32330">IClass</a></span>) =&gt; <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">object GenJVM.this.global.inliner</span><a href="../../Global.scala.html#21273">inliner</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.inliner.global.Symbol)Boolean</span><a href="../opt/Inliners.scala.html#33976">isClosureClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68594">sym</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">object GenJVM.this.global.deadCode</span><a href="../../Global.scala.html#21277">deadCode</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.deadCode.global.Symbol)Boolean</span><a href="../opt/DeadCodeElimination.scala.html#32299" id="25543">liveClosures</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68594">sym</a></span>) } 

      <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.global.Symbol,GenJVM.this.global.icodes.IClass]</span><a href="../icode/ICodes.scala.html#32305">classes</a></span>.<span class="typed"><span class="type">=&gt; Iterator[GenJVM.this.global.icodes.IClass]</span><a id="24244">values</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.IClass) =&gt; Unit)Unit</span><a id="32202">foreach</a></span> <span class="typed"><span class="type">object JvmPhase.this.codeGenerator</span><a href="#68439">codeGenerator</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.IClass)Unit</span><a href="#68525">genClass</a></span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.CompilationUnit)Unit</span><a id="68442">apply</a></span>(<span class="typed"><span class="type">GenJVM.this.global.CompilationUnit</span><a id="68615">unit</a></span>: <span class="typed"><span class="type">GenJVM.this.global.CompilationUnit</span><a href="../../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) {
      <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;JVM works on icode classes, not on compilation units!&quot;)</span><span class="string">&quot;JVM works on icode classes, not on compilation units!&quot;</span></span>)
    }
  }

  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="68417"><span id="68415"><span id="68416"><a id="68421">pickledBytes</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> <span class="comment">// statistics</span>

  <span class="comment">/**
   * Java bytecode generator.
   *
   */</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class BytecodeGenerator extends java.lang.Object with ScalaObject</span><a id="68418">BytecodeGenerator</a></span> {
    <span class="keyword">val</span> <span class="typed"><span class="type">Double</span><span id="68451"><a id="68450">MIN_SWITCH_DENSITY</a></span></span> = <span class="typed"><span class="type">Double(0.7)</span><span class="double">0.7</span></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="68453"><a id="68452">StringBuilderClass</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;scala.StringBuilder&quot;)</span><span class="string">&quot;scala.StringBuilder&quot;</span></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="68455"><a id="68454">BoxesRunTime</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;scala.runtime.BoxesRunTime&quot;)</span><span class="string">&quot;scala.runtime.BoxesRunTime&quot;</span></span>

    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span id="68457"><a id="68456">StringBuilderType</a></span></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68452">StringBuilderClass</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span id="68459"><a id="68458">toStringType</a></span></span>      = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JObjectType</span><a id="68255">JObjectType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68620">JAVA_LANG_STRING</a></span>, <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="68650">EMPTY_ARRAY</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span id="68461"><a id="68460">MethodTypeType</a></span></span>    = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.MethodType&quot;)</span><span class="string">&quot;java.dyn.MethodType&quot;</span></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span id="68463"><a id="68462">JavaLangClassType</a></span></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Class&quot;)</span><span class="string">&quot;java.lang.Class&quot;</span></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span id="68465"><a id="68464">MethodHandleType</a></span></span>  = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.MethodHandle&quot;)</span><span class="string">&quot;java.dyn.MethodHandle&quot;</span></span>)
    
    <span class="comment">// Scala attributes</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68467"><a id="68466">SerializableAttr</a></span></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26095">SerializableAttr</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68469"><a id="68468">SerialVersionUID</a></span></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.SerialVersionUID&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68471"><a id="68470">CloneableAttr</a></span></span>    = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.cloneable&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68473"><a id="68472">TransientAtt</a></span></span>     = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.transient&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68475"><a id="68474">VolatileAttr</a></span></span>     = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.volatile&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68477"><a id="68476">RemoteAttr</a></span></span>       = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.remote&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68479"><a id="68478">ThrowsAttr</a></span></span>       = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.throws&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68481"><a id="68480">BeanInfoAttr</a></span></span>     = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.reflect.BeanInfo&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68483"><a id="68482">BeanInfoSkipAttr</a></span></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.reflect.BeanInfoSkip&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68485"><a id="68484">BeanDisplayNameAttr</a></span></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.reflect.BeanDisplayName&quot;</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="68487"><a id="68486">BeanDescriptionAttr</a></span></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;scala.reflect.BeanDescription&quot;</a></span>)

    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68489">CloneableClass</a></span>  = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;java.lang.Cloneable&quot;</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68491">RemoteInterface</a></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;java.rmi.Remote&quot;</a></span>)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="68493">RemoteException</a></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26110">getClass</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;java.rmi.RemoteException&quot;</a></span>).<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>

    <span class="keyword">var</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><span id="68496"><span id="68494"><span id="68495"><a id="68703">clasz</a></span></span></span></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="../icode/Members.scala.html#32330">IClass</a></span> = _
    <span class="keyword">var</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><span id="68499"><span id="68497"><span id="68498"><a id="68704">method</a></span></span></span></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span> = _
    <span class="keyword">var</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><span id="68502"><span id="68500"><span id="68501"><a id="68747">jclass</a></span></span></span></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span> = _
    <span class="keyword">var</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><span id="68505"><span id="68503"><span id="68504"><a id="68772">jmethod</a></span></span></span></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="68224">JMethod</a></span> = _
<span class="comment">//    var jcode: JExtendedCode = _</span>

    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><span id="68508"><span id="68506"><span id="68507"><a id="68773">innerClasses</a></span></span></span></span>: <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a id="26500">Set</a></span>[Symbol] = <span class="typed"><span class="type">object scala.collection.immutable.ListSet</span><a id="26288">ListSet</a></span>.<span class="typed"><span class="type">scala.collection.immutable.ListSet[GenJVM.this.global.Symbol]</span><a id="68841">empty</a></span> <span class="comment">// referenced inner classes</span>

    <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.FJBGContext</span><span id="68510"><a id="68509">fjbgContext</a></span></span> =
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.FJBGContext</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../../Settings.scala.html#29980">target</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;jvm-1.5&quot;)</span><span class="string">&quot;jvm-1.5&quot;</span></span>) <span class="typed"><span class="type">(Int,Int)ch.epfl.lamp.fjbg.FJBGContext</span><a id="68782" class="keyword">new</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.FJBGContext</span><a id="68251">FJBGContext</a></span>(<span class="typed"><span class="type">Int(49)</span><span class="int">49</span></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
      <span class="keyword">else</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.FJBGContext</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.FJBGContext</span><a id="68251">FJBGContext</a></span>()

    <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><span id="68512"><a id="68511">emitSource</a></span></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.DebugSetting</span><a href="../../Settings.scala.html#29966">debuginfo</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Settings.scala.html#56364">level</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><span id="68514"><a id="68513">emitLines</a></span></span>  = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.DebugSetting</span><a href="../../Settings.scala.html#29966">debuginfo</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Settings.scala.html#56364">level</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><span id="68516"><a id="68515">emitVars</a></span></span>   = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.DebugSetting</span><a href="../../Settings.scala.html#29966">debuginfo</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Settings.scala.html#56364">level</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(3)</span><span class="int">3</span></span>

    <span class="comment">/** Write a class to disk, adding the Scala signature (pickled type information) and
     *  inner classes.
     * 
     * @param jclass The FJBG class, where code was emitted
     * @param sym    The corresponding symbol, used for looking up pickled information
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a id="68517">emitClass</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68847">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68848">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a id="68849">addScalaAttr</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68852">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.tools.nsc.symtab.classfile.PickleBuffer]</span><a href="../../Global.scala.html#36584">symData</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Option[scala.tools.nsc.symtab.classfile.PickleBuffer]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68852">sym</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.tools.nsc.symtab.classfile.PickleBuffer</span><a id="68854">pickle</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68855">scalaAttr</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,Any,java.lang.String,Array[Byte],Int)ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68798">JOtherAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>,
                                                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>,
                                                  <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31066">ScalaSignatureATTR</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                                                  <span class="typed"><span class="type">scala.tools.nsc.symtab.classfile.PickleBuffer</span><a href="#68854">pickle</a></span>.<span class="typed"><span class="type">=&gt; Array[Byte]</span><a href="../../symtab/classfile/PickleBuffer.scala.html#68894">bytes</a></span>,
                                                  <span class="typed"><span class="type">scala.tools.nsc.symtab.classfile.PickleBuffer</span><a href="#68854">pickle</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/classfile/PickleBuffer.scala.html#68900">writeIndex</a></span>)
          <span class="typed"><span class="type">(Int)Unit</span><a href="#68416">pickledBytes</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#68415">pickledBytes</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.symtab.classfile.PickleBuffer</span><a href="#68854">pickle</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/classfile/PickleBuffer.scala.html#68900">writeIndex</a></span>
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="68881">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#68855">scalaAttr</a></span>)
          <span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.tools.nsc.symtab.classfile.PickleBuffer]</span><a href="../../Global.scala.html#36584">symData</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a id="24167">-=</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68852">sym</a></span>
          <span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.Symbol,scala.tools.nsc.symtab.classfile.PickleBuffer]</span><a href="../../Global.scala.html#36584">symData</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a id="24167">-=</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68852">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25279">linkedSym</a></span>
          <span class="comment">//System.out.println(&quot;Generated ScalaSig Attr for &quot; + sym)//debug</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68958">markerAttr</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#68518">getMarkerAttr</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>)
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="68881">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#68958">markerAttr</a></span>)
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Could not find pickle information for &quot;)</span><span class="string">&quot;Could not find pickle information for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68852">sym</a></span>)
      }
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>().<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5842">endsWith</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68848">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25166">isModuleClass</a></span>))
        <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a href="#68849">addScalaAttr</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68535">isTopLevelModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68848">sym</a></span>)) <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68848">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25282">sourceModule</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68848">sym</a></span>);
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)Unit</span><a href="#68534">addInnerClasses</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>)

      <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="68850">outfile</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,String)scala.tools.nsc.io.AbstractFile</span><a href="#68578">getFile</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;.class&quot;)</span><span class="string">&quot;.class&quot;</span></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.DataOutputStream</span><a id="68851">outstream</a></span> = <span class="typed"><span class="type">java.io.DataOutputStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.DataOutputStream</span><a id="3528">DataOutputStream</a></span>(<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#68850">outfile</a></span>.<span class="typed"><span class="type">=&gt; java.io.OutputStream</span><a href="../../io/AbstractFile.scala.html#25446">output</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68847">jclass</a></span>.<span class="typed"><span class="type">(java.io.DataOutputStream)Unit</span><a id="68743">writeTo</a></span>(<span class="typed"><span class="type">java.io.DataOutputStream</span><a href="#68851">outstream</a></span>)
      <span class="typed"><span class="type">java.io.DataOutputStream</span><a href="#68851">outstream</a></span>.<span class="typed"><span class="type">()Unit</span><a id="27129">close</a></span>()
      <span class="typed"><span class="type">(String)Unit</span><a href="../../Global.scala.html#21203">informProgress</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;wrote &quot;)</span><span class="string">&quot;wrote &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#68850">outfile</a></span>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68518">getMarkerAttr</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68959">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>): <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68380">JOtherAttribute</a></span> =
      <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,Any,java.lang.String,Array[Byte],Int)ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68798">JOtherAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68959">jclass</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68959">jclass</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31078">ScalaATTR</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>, <span class="typed"><span class="type">Array[Byte]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Byte]</span><a id="1072">Array</a></span>[Byte](<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>), <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
    
    <span class="keyword">var</span> <span class="typed"><span class="type">Option[Long]</span><span id="68521"><span id="68519"><span id="68520"><a id="68807">serialVUID</a></span></span></span></span>: <span class="typed"><span class="type">Option[Long]</span><a id="934">Option</a></span>[Long] = <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="68524"><span id="68522"><span id="68523"><a id="68808">remoteClass</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IClass)Unit</span><a id="68525">genClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a id="68612">c</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="../icode/Members.scala.html#32330">IClass</a></span>) {
      <span class="typed"><span class="type">(GenJVM.this.global.icodes.IClass)Unit</span><a href="#68495">clasz</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>
      <span class="typed"><span class="type">(scala.collection.immutable.Set[GenJVM.this.global.Symbol])Unit</span><a href="#68507">innerClasses</a></span> = <span class="typed"><span class="type">object scala.collection.immutable.ListSet</span><a id="26288">ListSet</a></span>.<span class="typed"><span class="type">scala.collection.immutable.ListSet[GenJVM.this.global.Symbol]</span><a id="68841">empty</a></span>

      <span class="keyword">var</span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a id="68999">parents</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.Type]</span><a href="../../symtab/Types.scala.html#25659">parents</a></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Array[java.lang.String]</span><a id="69000">ifaces</a></span>  = <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JClass</span><a id="68387">JClass</a></span>.<span class="typed"><span class="type">Array[java.lang.String]</span><a id="68712">NO_INTERFACES</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="69001">name</a></span>    = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)
      <span class="typed"><span class="type">(Option[Long])Unit</span><a href="#68520">serialVUID</a></span>  = <span class="typed"><span class="type">object None</span><a id="536">None</a></span>
      <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68523">remoteClass</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)
        <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)List[GenJVM.this.global.icodes.global.Type]</span><a href="#69005" id="21335">::</a></span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>;

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="../../Global.scala.html#21318">forCLDC</a></span>)
        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.global.AnnotationInfo) =&gt; Unit)Unit</span><span id="21366"><a id="69012">attr</a></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>) <span class="typed"><span class="type">GenJVM.this.global.icodes.global.AnnotationInfo</span><a href="#69012">attr</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="69022">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#69022">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68466">SerializableAttr</a></span> =&gt;
            <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> <span class="typed"><span class="type">(List[GenJVM.this.global.Type])List[GenJVM.this.global.Type]</span><a href="#69025" id="21339">:::</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Type*)List[GenJVM.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25907">SerializableClass</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="69029">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#69029">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68470">CloneableAttr</a></span> =&gt;
            <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> <span class="typed"><span class="type">(List[GenJVM.this.global.Type])List[GenJVM.this.global.Type]</span><a href="#69032" id="21339">:::</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Type*)List[GenJVM.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68488">CloneableClass</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="69036">tp</a></span>, <span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a id="69037">value</a></span> <a id="1">::</a> _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#69036">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68468">SerialVersionUID</a></span> =&gt;
            <span class="typed"><span class="type">(Option[Long])Unit</span><a href="#68520">serialVUID</a></span> = <span class="typed"><span class="type">(Long)Some[Long]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a href="#69037">value</a></span>.<span class="typed"><span class="type">=&gt; Option[GenJVM.this.global.Constant]</span><a href="../../symtab/AnnotationInfos.scala.html#47876">constant</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Constant</span><a id="25408">get</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Constants.scala.html#37599">longValue</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="69046">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#69046">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68476">RemoteAttr</a></span> =&gt;
            <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> <span class="typed"><span class="type">(List[GenJVM.this.global.Type])List[GenJVM.this.global.Type]</span><a href="#69049" id="21339">:::</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Type*)List[GenJVM.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68490">RemoteInterface</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>)
            <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68523">remoteClass</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>)
        }

      <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.Type]</span><a id="21405">removeDuplicates</a></span>

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) {
        <span class="typed"><span class="type">Array[java.lang.String]</span><a href="#69000">ifaces</a></span> = <span class="typed"><span class="type">Array[String]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String](<span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
        <span class="typed"><span class="type">List[GenJVM.this.global.icodes.global.Type]</span><a href="#68999">parents</a></span>.<span class="typed"><span class="type">(Int)List[GenJVM.this.global.icodes.global.Type]</span><a id="21353">drop</a></span>(<span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>).<span class="typed"><span class="type">((GenJVM.this.global.icodes.global.Type) =&gt; String)List[String]</span><a id="21362">map</a></span>((<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Type</span><a id="69075">s</a></span>) =&gt; <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Type</span><a href="#69075">s</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>)).<span class="typed"><span class="type">(Array[String],Int)Unit</span><a id="21824">copyToArray</a></span>(<span class="typed"><span class="type">Array[java.lang.String]</span><a href="#69000">ifaces</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
        <span class="typed"><span class="type">Unit</span><span >(</span></span>)
      }

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)Unit</span><a href="#68501">jclass</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,java.lang.String,Array[java.lang.String],java.lang.String)ch.epfl.lamp.fjbg.JClass</span><a id="68783">JClass</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a href="#68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>),
                                  <span class="typed"><span class="type">String</span><a href="#69001">name</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">(Int)GenJVM.this.global.icodes.global.Type</span><a href="#68999" id="21361">parents</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>),
                                  <span class="typed"><span class="type">Array[java.lang.String]</span><a href="#69000">ifaces</a></span>,
                                  <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.CompilationUnit</span><a href="../icode/Members.scala.html#32690">cunit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a href="../../CompilationUnits.scala.html#24127">source</a></span>.<span class="typed"><span class="type">()String</span><a href="../../util/SourceFile.scala.html#22658">toString</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>.<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5842">endsWith</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>))
        <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="68881">addAttribute</a></span>(<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#68518">getMarkerAttr</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>))
      
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68536">isStaticModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Option[Long]</span><a href="#68519">serialVUID</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; Option[String]</span><a href="../icode/Members.scala.html#32693">bootstrapClass</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25407">isDefined</a></span>) {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68536">isStaticModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>))
            <span class="typed"><span class="type">=&gt; Unit</span><a href="#68542">addModuleInstanceField</a></span>;
        <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)Unit</span><a href="#68543">addStaticInit</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>)
        
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68535">isTopLevelModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25277">linkedClassOfModule</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.NoSymbol</span><a href="../../symtab/Symbols.scala.html#21873">NoSymbol</a></span>)
            <span class="typed"><span class="type">(GenJVM.this.global.Symbol,String)Unit</span><a href="#68548">dumpMirrorClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.CompilationUnit</span><a href="../icode/Members.scala.html#32690">cunit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a href="../../CompilationUnits.scala.html#24127">source</a></span>.<span class="typed"><span class="type">()String</span><a href="../../util/SourceFile.scala.html#22658">toString</a></span>);
          <span class="keyword">else</span>
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;No mirror class for module with linked class: &quot;)</span><span class="string">&quot;No mirror class for module with linked class: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Symbols.scala.html#25313">fullNameString</a></span>)
        }
      }
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="69136">lmoc</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25278">linkedModuleOfClass</a></span>
        <span class="comment">// add static forwarders if there are no name conflicts; see bugs #363 and #1735</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69136">lmoc</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.NoSymbol</span><a href="../../symtab/Symbols.scala.html#21873">NoSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>)) {
          <span class="comment">// forwarders were creating many issues, see #1795 for instance; so for now</span>
          <span class="comment">// they are only enabled if -Xforwarders is supplied to scalac...</span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30004">forwarders</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>) {         
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Adding forwarders to existing class &quot;)</span><span class="string">&quot;Adding forwarders to existing class &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; found in module &quot;)</span><span class="string">&quot; found in module &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69136">lmoc</a></span>)
            <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a href="#68546">addForwarders</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69136">lmoc</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25283">moduleClass</a></span>)
          }
          <span class="comment">// ...but we special case main so at least ticket #363 can continue to work.</span>
          <span class="comment">// XXX we would like to, but doing so induces #1795 as surely as adding them all.</span>
          <span class="comment">// else addForwarders(jclass, lmoc.moduleClass, _.name == nme.main)</span>
        }
      }
        
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; Option[String]</span><a href="../icode/Members.scala.html#32693">bootstrapClass</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25407">isDefined</a></span>) <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="68742">setBootstrapClass</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; Option[String]</span><a href="../icode/Members.scala.html#32693">bootstrapClass</a></span>.<span class="typed"><span class="type">=&gt; String</span><a id="25408">get</a></span>)
      <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.IField]</span><a href="../icode/Members.scala.html#32684">fields</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.IField) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IField)Unit</span><a href="#68537">genField</a></span>
      <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.IMethod]</span><a href="../icode/Members.scala.html#32687">methods</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.IMethod) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a href="#68538">genMethod</a></span>

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a href="#68530">addGenericSignature</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68531">addAnnotations</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a href="#68517">emitClass</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)
      
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25094">hasAttribute</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68480">BeanInfoAttr</a></span>)
        <span class="typed"><span class="type">(GenJVM.this.global.icodes.IClass)Unit</span><a href="#68526">genBeanInfoClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#68612">c</a></span>) 
    }
    

    <span class="comment">/**
     * Generate a bean info class that describes the given class.
     *
     * @author Ross Judson (ross.judson@soletta.com)
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IClass)Unit</span><a id="68526">genBeanInfoClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a id="69161">c</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="../icode/Members.scala.html#32330">IClass</a></span>) {      
      <span class="keyword">val</span> <span class="typed"><span class="type">Option[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a id="69162">description</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.icodes.global.AnnotationInfo) =&gt; Boolean)Option[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a id="21374">find</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.AnnotationInfo</span><a href="#69176">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/AnnotationInfos.scala.html#47884">atp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68486">BeanDescriptionAttr</a></span>)
      <span class="comment">// informProgress(description.toString())</span>
	
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="69163">beanInfoClass</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,java.lang.String,Array[java.lang.String],java.lang.String)ch.epfl.lamp.fjbg.JClass</span><a id="68783">JClass</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a href="#68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>),
            <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;BeanInfo&quot;)</span><span class="string">&quot;BeanInfo&quot;</span></span>,
            <span class="typed"><span class="type">java.lang.String(&quot;scala/reflect/ScalaBeanInfo&quot;)</span><span class="string">&quot;scala/reflect/ScalaBeanInfo&quot;</span></span>,
            <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JClass</span><a id="68387">JClass</a></span>.<span class="typed"><span class="type">Array[java.lang.String]</span><a id="68712">NO_INTERFACES</a></span>,
            <span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.CompilationUnit</span><a href="../icode/Members.scala.html#32690">cunit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a href="../../CompilationUnits.scala.html#24127">source</a></span>.<span class="typed"><span class="type">()String</span><a href="../../util/SourceFile.scala.html#22658">toString</a></span>)
	
      <span class="keyword">var</span> <span class="typed"><span class="type">List[String]</span><a id="69164">fieldList</a></span> = <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>[String]()
      <span class="keyword">for</span> (<span class="typed"><span class="type">(((GenJVM.this.global.icodes.IField, GenJVM.this.global.icodes.global.Symbol, GenJVM.this.global.icodes.global.Symbol)) =&gt; Unit)Unit</span><span id="69192"><span id="69202"><span id="23590"><span id="21362"><span id="69208"><span id="21367"><span id="69188"><span id="449"><a id="21366">f</a></span></span></span></span></span></span></span></span></span> &lt;- <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.IField]</span><a href="../icode/Members.scala.html#32684">fields</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69188">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25139">hasGetter</a></span>;
	         <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><span id="69193"><span id="69203"><a id="69209">g</a></span></span></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69192">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25291">getter</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>);
	         <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><span id="69194"><span id="69204"><a id="69210">s</a></span></span></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69192">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Symbol)GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25292">setter</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>);
	         <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69203">g</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25184">isPublic</a></span>)
        <span class="typed"><span class="type">List[String]</span><a href="#69164">fieldList</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69208">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>) <span class="typed"><span class="type">(String)List[String]</span><a href="#69211" id="21335">::</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69209">g</a></span>) <span class="typed"><span class="type">(String)List[String]</span><a href="#69212" id="21335">::</a></span> (<span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69210">s</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.NoSymbol</span><a href="../../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#69210">s</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(String)List[String]</span><a href="#69213" id="21335">::</a></span> <span class="typed"><span class="type">List[String]</span><a href="#69164">fieldList</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="69165">methodList</a></span> = 
	     <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.IMethod) =&gt; String)List[String]</span><span id="21362"><span id="21367"><span id="69223"><a id="69228">m</a></span></span></span></span> &lt;- <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.IMethod]</span><a href="../icode/Members.scala.html#32687">methods</a></span> 
	         <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69223">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25148">isConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
	         <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69223">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25184">isPublic</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
	         <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69223">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Name)Boolean</span><a href="../../symtab/Names.scala.html#23910">startsWith</a></span> <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;$&quot;</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
	         <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69223">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25137">isGetter</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
	         <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69223">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25138">isSetter</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69228">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>)

      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="69166">constructor</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69163">beanInfoClass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType,Array[ch.epfl.lamp.fjbg.JType],Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod</span><a id="68736">addNewMethod</a></span>(JAccessFlags.<span class="typed"><span class="type">Int(1)</span><span >ACC_PUBLIC</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span class="string">&quot;&lt;init&gt;&quot;</span></span>, <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>, <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.TypeKind])Array[ch.epfl.lamp.fjbg.JType]</span><a href="#68577">javaTypes</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>), <span class="typed"><span class="type">(List[GenJVM.this.global.Symbol])Array[String]</span><a href="#68571">javaNames</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="69167">jcode</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#69166">constructor</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode</span><a id="68763">getCode</a></span>().<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>]
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="69168">strKind</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25802">StringClass</a></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a id="69169">stringArrayKind</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a id="68356">JArrayType</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a href="#69168">strKind</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="69170">conType</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25799">ClassClass</a></span>), <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a href="#69169">stringArrayKind</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a href="#69169">stringArrayKind</a></span>))
	
      <span class="keyword">def</span> <span class="typed"><span class="type">(Seq[String])Unit</span><a id="69171">push</a></span>(<span class="typed"><span class="type">Seq[String]</span><a id="69866">lst</a></span>:<span class="typed"><span class="type">Seq[String]</span><a id="763">Seq</a></span>[String]) {
	      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="69867">fi</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
	      <span class="keyword">for</span> (<span class="typed"><span class="type">((String) =&gt; Unit)Unit</span><span id="21792"><a id="69869">f</a></span></span> &lt;- <span class="typed"><span class="type">Seq[String]</span><a href="#69866">lst</a></span>) {
    	    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69412">emitDUP</a></span>()
	        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a id="69620">emitPUSH</a></span>(<span class="typed"><span class="type">Int</span><a href="#69867">fi</a></span>)
    	    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">String</span><a href="#69869">f</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
	          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69628">emitPUSH</a></span>(<span class="typed"><span class="type">String</span><a href="#69869">f</a></span>)
	        <span class="keyword">else</span>
	          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69319">emitACONST_NULL</a></span>()
	        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69636">emitASTORE</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a href="#69168">strKind</a></span>)
	        <span class="typed"><span class="type">Int</span><a href="#69867">fi</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
	      } 
      }

      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69365">emitALOAD_0</a></span>()
      <span class="comment">// push the class	</span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69629">emitPUSH</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IClass</span><a href="#69161">c</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="68227">JReferenceType</a></span>])
      
      <span class="comment">// push the the string array of field information</span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a id="69620">emitPUSH</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#69164">fieldList</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)	
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69557">emitANEWARRAY</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a href="#69168">strKind</a></span>)
      <span class="typed"><span class="type">(Seq[String])Unit</span><a href="#69171">push</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#69164">fieldList</a></span>)
      
      <span class="comment">// push the string array of method information	</span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a id="69620">emitPUSH</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#69165">methodList</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69557">emitANEWARRAY</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a href="#69168">strKind</a></span>)
      <span class="typed"><span class="type">(Seq[String])Unit</span><a href="#69171">push</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#69165">methodList</a></span>)
      
      <span class="comment">// invoke the superclass constructor, which will do the</span>
      <span class="comment">// necessary java reflection and create Method objects.	</span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69552">emitINVOKESPECIAL</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;scala/reflect/ScalaBeanInfo&quot;)</span><span class="string">&quot;scala/reflect/ScalaBeanInfo&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span class="string">&quot;&lt;init&gt;&quot;</span></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a href="#69170">conType</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#69167">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69546">emitRETURN</a></span>()
      
      <span class="comment">// write the bean information class file.</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="69172">outfile</a></span> = <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,String)scala.tools.nsc.io.AbstractFile</span><a href="#68578">getFile</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69163">beanInfoClass</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;.class&quot;)</span><span class="string">&quot;.class&quot;</span></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.DataOutputStream</span><a id="69173">outstream</a></span> = <span class="typed"><span class="type">java.io.DataOutputStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.DataOutputStream</span><a id="3528">DataOutputStream</a></span>(<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#69172">outfile</a></span>.<span class="typed"><span class="type">=&gt; java.io.OutputStream</span><a href="../../io/AbstractFile.scala.html#25446">output</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69163">beanInfoClass</a></span>.<span class="typed"><span class="type">(java.io.DataOutputStream)Unit</span><a id="68743">writeTo</a></span>(<span class="typed"><span class="type">java.io.DataOutputStream</span><a href="#69173">outstream</a></span>)
      <span class="typed"><span class="type">java.io.DataOutputStream</span><a href="#69173">outstream</a></span>.<span class="typed"><span class="type">()Unit</span><a id="27129">close</a></span>()
      <span class="typed"><span class="type">(String)Unit</span><a href="../../Global.scala.html#21203">informProgress</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;wrote BeanInfo &quot;)</span><span class="string">&quot;wrote BeanInfo &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#69172">outfile</a></span>)
    }
    
    
    <span class="comment">/** Add the given 'throws' attributes to jmethod */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,List[GenJVM.this.global.AnnotationInfo])Unit</span><a id="68527">addExceptionsAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="69905">jmethod</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="68224">JMethod</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="69906">excs</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="526">List</a></span>[AnnotationInfo]) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#69906">excs</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>

      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a id="69907">cpool</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#69905">jmethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JConstantPool</span><a id="68879">getConstantPool</a></span>()
      <span class="keyword">val</span> <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="69908">buf</a></span>: <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="20895">ByteBuffer</a></span> = <span class="typed"><span class="type">object java.nio.ByteBuffer</span><a id="20896">ByteBuffer</a></span>.<span class="typed"><span class="type">(Int)java.nio.ByteBuffer</span><a id="70027">allocate</a></span>(<span class="typed"><span class="type">Int(512)</span><span class="int">512</span></span>)
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="69909">nattr</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

      <span class="comment">// put some radom value; the actual number is determined at the end</span>
      <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#69908">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Int(47802)</span><span class="int">0xbaba</span></span>.<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)

      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; Unit)Unit</span><span id="21366"><a href="#70112" id="21367">AnnotationInfo</a></span></span>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><span id="70113"><span id="70121"><a id="70131">tp</a></span></span></span>, <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationArgument])Some[List[GenJVM.this.global.AnnotationArgument]]</span><span id="21410"><a href="#70114" id="527">List</a></span></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><span id="70117"><span id="70125"><a id="70135">exc</a></span></span></span>), _) &lt;- <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#69906">excs</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.AnnotationInfo]</span><a id="21405">removeDuplicates</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70121">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68478">ThrowsAttr</a></span>) {
        <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#69908">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#69907">cpool</a></span>.<span class="typed"><span class="type">implicit scala.Predef.int2Integer : (Int)java.lang.Integer</span><span id="6221"><span id="821"><a id="69997">addClass</a></span></span></span>(
            <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a href="#70135">exc</a></span>.<span class="typed"><span class="type">=&gt; Option[GenJVM.this.global.Constant]</span><a href="../../symtab/AnnotationInfos.scala.html#47876">constant</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Constant</span><a id="25408">get</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Constants.scala.html#37605">typeValue</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>)).<span class="typed"><span class="type">()Short</span><a id="26749">shortValue</a></span>)
        <span class="typed"><span class="type">Int</span><a href="#69909">nattr</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      }

      <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68581">assert</a></span>(<span class="typed"><span class="type">Int</span><a href="#69909">nattr</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
      <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#69908">buf</a></span>.<span class="typed"><span class="type">(Int,Short)java.nio.ByteBuffer</span><a id="70063">putShort</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Int</span><a href="#69909">nattr</a></span>.<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Name,java.nio.ByteBuffer)Unit</span><a href="#68533">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#69905">jmethod</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31052">ExceptionsATTR</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#69908">buf</a></span>)
    }

    <span class="comment">/** Whether an annotation should be emitted as a Java annotation */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)Boolean</span><a id="68528">shouldEmitAttribute</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a id="70190">annot</a></span>: <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="../../symtab/AnnotationInfos.scala.html#22334">AnnotationInfo</a></span>) =
      (<span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70190">annot</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/AnnotationInfos.scala.html#47884">atp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
       <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70190">annot</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/AnnotationInfos.scala.html#47884">atp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25249">isNonBottomSubClass</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25859">ClassfileAnnotationClass</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
       <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70190">annot</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/AnnotationInfos.scala.html#47892">isConstant</a></span>)
	     

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JConstantPool,java.nio.ByteBuffer,List[GenJVM.this.global.AnnotationInfo])Int</span><a id="68529">emitAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a id="70204">cpool</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a id="68266">JConstantPool</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="70205">buf</a></span>: <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="20895">ByteBuffer</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="70206">attributes</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="526">List</a></span>[AnnotationInfo]): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
<span class="comment">//      val cpool = jclass.getConstantPool()</span>

      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Constant)Unit</span><a id="70207">emitElement</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a id="70210">const</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="../../symtab/Constants.scala.html#22297">Constant</a></span>): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Constants.scala.html#37590">tag</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(2)</span><span >BooleanTag</span></span> =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('Z')</span><span class="char">'Z'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="70005">addInteger</a></span>(<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Constants.scala.html#37594">booleanValue</a></span>) <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(3)</span><span >ByteTag</span></span>    =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('B')</span><span class="char">'B'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="70005">addInteger</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">implicit scala.Predef.byte2int : (Byte)Int</span><span id="6200"><a href="../../symtab/Constants.scala.html#37595" id="821">byteValue</a></span></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(4)</span><span >ShortTag</span></span>   =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('S')</span><span class="char">'S'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="70005">addInteger</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">implicit scala.Predef.short2int : (Short)Int</span><span id="6204"><a href="../../symtab/Constants.scala.html#37596" id="821">shortValue</a></span></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(5)</span><span >CharTag</span></span>    =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('C')</span><span class="char">'C'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="70005">addInteger</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">implicit scala.Predef.char2int : (Char)Int</span><span id="6208"><a href="../../symtab/Constants.scala.html#37597" id="821">charValue</a></span></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(6)</span><span >IntTag</span></span>     =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('I')</span><span class="char">'I'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="70005">addInteger</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Constants.scala.html#37598">intValue</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(7)</span><span >LongTag</span></span>    =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('J')</span><span class="char">'J'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Long)Int</span><a id="70007">addLong</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Constants.scala.html#37599">longValue</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(8)</span><span >FloatTag</span></span>   =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('F')</span><span class="char">'F'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Float)Int</span><a id="70006">addFloat</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Float</span><a href="../../symtab/Constants.scala.html#37600">floatValue</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(9)</span><span >DoubleTag</span></span>  =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('D')</span><span class="char">'D'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(Double)Int</span><a id="70008">addDouble</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Double</span><a href="../../symtab/Constants.scala.html#37601">doubleValue</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(10)</span><span >StringTag</span></span>  =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('s')</span><span class="char">'s'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Constants.scala.html#37603">stringValue</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(12)</span><span >ClassTag</span></span>   =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('c')</span><span class="char">'c'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Constants.scala.html#37605">typeValue</a></span>).<span class="typed"><span class="type">()java.lang.String</span><a id="68664">getSignature</a></span>()).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(13)</span><span >EnumTag</span></span> =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('e')</span><span class="char">'e'</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Constants.scala.html#37592">tpe</a></span>).<span class="typed"><span class="type">()java.lang.String</span><a id="68664">getSignature</a></span>()).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Constants.scala.html#37606">symbolValue</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(14)</span><span >ArrayTag</span></span> =&gt;
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">Char('[')</span><span class="char">'['</span></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="2973">toByte</a></span>)
          <span class="keyword">val</span> <span class="typed"><span class="type">Array[GenJVM.this.global.Constant]</span><a id="70265">arr</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70210">const</a></span>.<span class="typed"><span class="type">=&gt; Array[GenJVM.this.global.Constant]</span><a href="../../symtab/Constants.scala.html#37607">arrayValue</a></span>
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Array[GenJVM.this.global.Constant]</span><a href="#70265">arr</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>.<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
          <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.Constant) =&gt; Unit)Unit</span><span id="21792"><a id="70271">elem</a></span></span> &lt;- <span class="typed"><span class="type">Array[GenJVM.this.global.Constant]</span><a href="#70265">arr</a></span>) <span class="typed"><span class="type">(GenJVM.this.global.Constant)Unit</span><a href="#70207">emitElement</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Constant</span><a href="#70271">elem</a></span>)
      }

      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70208">nattr</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="70209">pos</a></span> = <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">()Int</span><a id="70089">position</a></span>()

      <span class="comment">// put some random value; the actual number of annotations is determined at the end</span>
      <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Int(47802)</span><span class="int">0xbaba</span></span>.<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)

      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; Unit)Unit</span><span id="21366"><span id="21367"><span id="70292"><span id="70278"><a href="#70277" id="70285">attrib</a></span></span></span></span></span>@<a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><span id="70279"><span id="70286"><a id="70293">typ</a></span></span></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><span id="70280"><span id="70287"><a id="70294">consts</a></span></span></span>, <span class="typed"><span class="type">List[(GenJVM.this.global.Name, GenJVM.this.global.AnnotationArgument)]</span><span id="70281"><span id="70288"><a id="70295">nvPairs</a></span></span></span>) &lt;- <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70206">attributes</a></span>; 
           <span class="keyword">if</span> <span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)Boolean</span><a href="#68528">shouldEmitAttribute</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70285">attrib</a></span>))
      {
        <span class="typed"><span class="type">Int</span><a href="#70208">nattr</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="70296">jtype</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70293">typ</a></span>)
        <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a href="#70296">jtype</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68664">getSignature</a></span>()).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#68580">assert</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><a href="#70294">consts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&lt;=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><a href="#70294">consts</a></span>.<span class="typed"><span class="type">()String</span><a id="21770">toString</a></span>)
        <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>((<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><a href="#70294">consts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">List[(GenJVM.this.global.Name, GenJVM.this.global.AnnotationArgument)]</span><a href="#70295">nvPairs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><a href="#70294">consts</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) {
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;value&quot;)</span><span class="string">&quot;value&quot;</span></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
          <span class="typed"><span class="type">(GenJVM.this.global.Constant)Unit</span><a href="#70207">emitElement</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationArgument]</span><a href="#70294">consts</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.AnnotationArgument</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; Option[GenJVM.this.global.Constant]</span><a href="../../symtab/AnnotationInfos.scala.html#47876">constant</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Constant</span><a id="25408">get</a></span>)
        }
        <span class="keyword">for</span> (<span class="typed"><span class="type">(((GenJVM.this.global.Name, GenJVM.this.global.AnnotationArgument)) =&gt; Unit)Unit</span><span id="21366"><a href="#70335" id="21367">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.Name</span><span id="70336"><a id="70341">name</a></span></span>, <span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><span id="70337"><a id="70342">value</a></span></span>) &lt;- <span class="typed"><span class="type">List[(GenJVM.this.global.Name, GenJVM.this.global.AnnotationArgument)]</span><a href="#70295">nvPairs</a></span>) {
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#70204">cpool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="#70341">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
          <span class="typed"><span class="type">(GenJVM.this.global.Constant)Unit</span><a href="#70207">emitElement</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a href="#70342">value</a></span>.<span class="typed"><span class="type">=&gt; Option[GenJVM.this.global.Constant]</span><a href="../../symtab/AnnotationInfos.scala.html#47876">constant</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Constant</span><a id="25408">get</a></span>)
        }
      }

      <span class="comment">// save the number of annotations</span>
      <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70205">buf</a></span>.<span class="typed"><span class="type">(Int,Short)java.nio.ByteBuffer</span><a id="70063">putShort</a></span>(<span class="typed"><span class="type">Int</span><a href="#70209">pos</a></span>, <span class="typed"><span class="type">Int</span><a href="#70208">nattr</a></span>.<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>)
      <span class="typed"><span class="type">Int</span><a href="#70208">nattr</a></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a id="68530">addGenericSignature</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="69156">jmember</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="68221">JMember</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69157">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69158">owner</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../../Settings.scala.html#29980">target</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;jvm-1.5&quot;)</span><span class="string">&quot;jvm-1.5&quot;</span></span> 
	  <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.EXPANDEDNAME <span class="typed"><span class="type">Long(68721573888L)</span><span >|</span></span> Flags.SYNTHETIC) 
	  <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(17179869184L)</span><span >LIFTED</span></span>))) { 
        <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70358">memberTpe</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; GenJVM.this.global.Type)GenJVM.this.global.Type</span><a href="../../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Global.scala.html#36566">erasurePhase</a></span>)(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69158">owner</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25263">thisType</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)GenJVM.this.global.Type</span><a href="../../symtab/Types.scala.html#25689">memberInfo</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>))
<span class="comment">//        println(&quot;sym: &quot; + sym.fullNameString + &quot; : &quot; + memberTpe + &quot; sym.info: &quot; + sym.info)</span>
        <span class="typed"><span class="type">object GenJVM.this.global.erasure</span><a href="../../Global.scala.html#21255">erasure</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.erasure.global.Symbol,GenJVM.this.global.erasure.global.Type)Option[String]</span><a href="../../transform/Erasure.scala.html#58487">javaSig</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70358">memberTpe</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">String</span><a id="70375">sig</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">Short</span><a id="70376">index</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#69156">jmember</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JConstantPool</span><a id="68879">getConstantPool</a></span>().<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">String</span><a href="#70375">sig</a></span>).<span class="typed"><span class="type">=&gt; Short</span><a id="3083">toShort</a></span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#29986">verbose</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>) 
              <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Unit)Unit</span><a href="../../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Global.scala.html#36566">erasurePhase</a></span>) {
                <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;add generic sig &quot;)</span><span class="string">&quot;add generic sig &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69157">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; ==&gt; &quot;)</span><span class="string">&quot; ==&gt; &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">String</span><a href="#70375">sig</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; @ &quot;)</span><span class="string">&quot; @ &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">Short</span><a href="#70376">index</a></span>)
              }
            <span class="keyword">val</span> <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="70377">buf</a></span> = <span class="typed"><span class="type">object java.nio.ByteBuffer</span><a id="20896">ByteBuffer</a></span>.<span class="typed"><span class="type">(Int)java.nio.ByteBuffer</span><a id="70027">allocate</a></span>(<span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>)
            <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70377">buf</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Short</span><a href="#70376">index</a></span>)
            <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Name,java.nio.ByteBuffer)Unit</span><a href="#68533">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#69156">jmember</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31064">SignatureATTR</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70377">buf</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
        }
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,List[GenJVM.this.global.AnnotationInfo])Unit</span><a id="68531">addAnnotations</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="69159">jmember</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="68221">JMember</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="69160">attributes</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="526">List</a></span>[AnnotationInfo]) {
      <span class="keyword">val</span> <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="70385">toEmit</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#69160">attributes</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; Boolean)List[GenJVM.this.global.AnnotationInfo]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)Boolean</span><a href="#68528">shouldEmitAttribute</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70388">_</a></span>))

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70385">toEmit</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>

      <span class="keyword">val</span> <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="70386">buf</a></span>: <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="20895">ByteBuffer</a></span> = <span class="typed"><span class="type">object java.nio.ByteBuffer</span><a id="20896">ByteBuffer</a></span>.<span class="typed"><span class="type">(Int)java.nio.ByteBuffer</span><a id="70027">allocate</a></span>(<span class="typed"><span class="type">Int(2048)</span><span class="int">2048</span></span>)

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JConstantPool,java.nio.ByteBuffer,List[GenJVM.this.global.AnnotationInfo])Int</span><a href="#68529">emitAttributes</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#69159">jmember</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JConstantPool</span><a id="68879">getConstantPool</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70386">buf</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70385">toEmit</a></span>)

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Name,java.nio.ByteBuffer)Unit</span><a href="#68533">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#69159">jmember</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31072">RuntimeAnnotationATTR</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70386">buf</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(List[List[GenJVM.this.global.AnnotationInfo]])Unit</span><a id="68532">addParamAnnotations</a></span>(<span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a id="70389">pattrss</a></span>: <span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a id="526">List</a></span>[List[AnnotationInfo]]) {
      <span class="keyword">val</span> <span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a id="70390">attributes</a></span> = <span class="keyword">for</span> (<span class="typed"><span class="type">((List[GenJVM.this.global.AnnotationInfo]) =&gt; List[GenJVM.this.global.AnnotationInfo])List[List[GenJVM.this.global.AnnotationInfo]]</span><span id="21362"><a id="70394">attrs</a></span></span> &lt;- <span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a href="#70389">pattrss</a></span>) <span class="keyword">yield</span>
        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; GenJVM.this.global.AnnotationInfo)List[GenJVM.this.global.AnnotationInfo]</span><span id="70407"><span id="70397"><span id="70413"><span id="21362"><span id="21367"><a href="#70396" id="70402">attr</a></span></span></span></span></span></span> @ <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><span id="70398"><span id="70403"><span id="70408"><a id="70414">tpe</a></span></span></span></span>, _, _) &lt;- <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70394">attrs</a></span>;
             <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70402">attr</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/AnnotationInfos.scala.html#47892">isConstant</a></span>;
             <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70408">tpe</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25249">isNonBottomSubClass</a></span> <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25859">ClassfileAnnotationClass</a></span>) <span class="keyword">yield</span> <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70413">attr</a></span>;
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a href="#70390">attributes</a></span>.<span class="typed"><span class="type">((List[GenJVM.this.global.AnnotationInfo]) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70416">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>;

      <span class="keyword">val</span> <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="70391">buf</a></span>: <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="20895">ByteBuffer</a></span> = <span class="typed"><span class="type">object java.nio.ByteBuffer</span><a id="20896">ByteBuffer</a></span>.<span class="typed"><span class="type">(Int)java.nio.ByteBuffer</span><a id="70027">allocate</a></span>(<span class="typed"><span class="type">Int(2048)</span><span class="int">2048</span></span>)

      <span class="comment">// number of parameters</span>
      <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70391">buf</a></span>.<span class="typed"><span class="type">(Byte)java.nio.ByteBuffer</span><a id="70034">put</a></span>(<span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a href="#70390">attributes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="3082">toByte</a></span>)
      <span class="keyword">for</span> (<span class="typed"><span class="type">((List[GenJVM.this.global.AnnotationInfo]) =&gt; Unit)Unit</span><span id="21366"><a id="70420">attrs</a></span></span> &lt;- <span class="typed"><span class="type">List[List[GenJVM.this.global.AnnotationInfo]]</span><a href="#70390">attributes</a></span>)
        <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JConstantPool,java.nio.ByteBuffer,List[GenJVM.this.global.AnnotationInfo])Int</span><a href="#68529">emitAttributes</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JConstantPool</span><a id="68879">getConstantPool</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70391">buf</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70420">attrs</a></span>)

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Name,java.nio.ByteBuffer)Unit</span><a href="#68533">addAttribute</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#31076">RuntimeParamAnnotationATTR</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70391">buf</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Name,java.nio.ByteBuffer)Unit</span><a id="68533">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="70186">jmember</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a id="68221">JMember</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Name</span><a id="70187">name</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21103">Name</a></span>, <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="70188">buf</a></span>: <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="20895">ByteBuffer</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70188">buf</a></span>.<span class="typed"><span class="type">()Int</span><a id="70089">position</a></span>() <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>

      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="70422">length</a></span> = <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70188">buf</a></span>.<span class="typed"><span class="type">()Int</span><a id="70089">position</a></span>();
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="70423">arr</a></span> = <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#70188">buf</a></span>.<span class="typed"><span class="type">()Array[Byte]</span><a id="70043">array</a></span>().<span class="typed"><span class="type">(Int,Int)Array[Byte]</span><a id="21512">subArray</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Int</span><a href="#70422">length</a></span>);

      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="70424">attr</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#70186">jmember</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.FJBGContext</span><a id="68880">getContext</a></span>().<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,Any,java.lang.String,Array[Byte],Int)ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68798">JOtherAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#70186">jmember</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JClass</span><a id="68878">getJClass</a></span>(),
                                                      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#70186">jmember</a></span>,
                                                      <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="#70187">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                                                      <span class="typed"><span class="type">Array[Byte]</span><a href="#70423">arr</a></span>,
                                                      <span class="typed"><span class="type">Int</span><a href="#70422">length</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMember</span><a href="#70186">jmember</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="68881">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#70424">attr</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)Unit</span><a id="68534">addInnerClasses</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68961">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a id="70433">addOwnInnerClasses</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="70434">cls</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><span id="32193"><span id="70436"><a id="70438">sym</a></span></span></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70434">cls</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Scope</span><a href="../../symtab/Types.scala.html#25677">decls</a></span>.<span class="typed"><span class="type">=&gt; Iterator[GenJVM.this.global.Symbol]</span><a href="../../symtab/Scopes.scala.html#34630">elements</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70436">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25129">isClass</a></span>)
          <span class="typed"><span class="type">(scala.collection.immutable.Set[GenJVM.this.global.Symbol])Unit</span><a href="#68507">innerClasses</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a href="#68506">innerClasses</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a id="31138">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70438">sym</a></span>;
      }
      <span class="comment">// add inner classes which might not have been referenced yet</span>
      <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Unit)Unit</span><a href="../../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Global.scala.html#36566">erasurePhase</a></span>) {
        <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a href="#70433">addOwnInnerClasses</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)
        <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Unit</span><a href="#70433">addOwnInnerClasses</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25280">linkedClassOfClass</a></span>)
      }

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a href="#68506">innerClasses</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JInnerClassesAttribute</span><a id="70442">innerClassesAttr</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68961">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JInnerClassesAttribute</span><a id="68731">getInnerClasses</a></span>()
        <span class="comment">// sort them so inner classes succeed their enclosing class</span>
        <span class="comment">// to satisfy the Eclipse Java compiler</span>
        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Unit)Unit</span><span id="21366"><a id="70464">innerSym</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a href="#68506">innerClasses</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a id="21815">toList</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.Symbol, GenJVM.this.global.Symbol) =&gt; Boolean)List[GenJVM.this.global.Symbol]</span><a id="21370">sort</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70459">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Names.scala.html#23890">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70460">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Names.scala.html#23890">length</a></span>)) {
          <span class="keyword">var</span> <span class="typed"><span class="type">String</span><a id="70465">outerName</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70464">innerSym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25070">rawowner</a></span>)
          <span class="comment">// remove the trailing '$'</span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">String</span><a href="#70465">outerName</a></span>.<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5842">endsWith</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>)) 
            <span class="typed"><span class="type">String</span><a href="#70465">outerName</a></span> = <span class="typed"><span class="type">String</span><a href="#70465">outerName</a></span>.<span class="typed"><span class="type">(Int,Int)java.lang.String</span><a id="5855">substring</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">String</span><a href="#70465">outerName</a></span>.<span class="typed"><span class="type">()Int</span><a id="5821">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
          <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70466">flags</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a href="#68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70464">innerSym</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70464">innerSym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25070">rawowner</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>))
            <span class="typed"><span class="type">Int</span><a href="#70466">flags</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|=</a></span> JAccessFlags.<span class="typed"><span class="type">Int(8)</span><span >ACC_STATIC</span></span>

          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JInnerClassesAttribute</span><a href="#70442">innerClassesAttr</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,java.lang.String,Int)Unit</span><a id="70450">addEntry</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70464">innerSym</a></span>),
              <span class="typed"><span class="type">String</span><a href="#70465">outerName</a></span>,
              <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70464">innerSym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25073">rawname</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
              <span class="typed"><span class="type">Int</span><a href="#70466">flags</a></span>);
        }
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a id="68535">isTopLevelModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="68960">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
      <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Boolean)Boolean</span><a href="../../symtab/SymbolTable.scala.html#21147">atPhase</a></span> (<span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Global.scala.html#36560">picklerPhase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Phase.scala.html#27787">next</a></span>) {
        <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68960">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25166">isModuleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68960">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25189">isImplClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#68960">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25201">isNestedClass</a></span>
      }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a id="68536">isStaticModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69124">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
      <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69124">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25166">isModuleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69124">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25189">isImplClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69124">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(17179869184L)</span><span >LIFTED</span></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IField)Unit</span><a id="68537">genField</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a id="69149">f</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="../icode/Members.scala.html#32331">IField</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Adding field: &quot;)</span><span class="string">&quot;Adding field: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Symbols.scala.html#25313">fullNameString</a></span>);
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70501">attributes</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

      <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.global.AnnotationInfo) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">GenJVM.this.global.icodes.global.AnnotationInfo</span><a id="70509">a</a></span> =&gt; <span class="typed"><span class="type">GenJVM.this.global.icodes.global.AnnotationInfo</span><a href="#70509">a</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70510">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70510">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68472">TransientAtt</a></span> =&gt;
          <span class="typed"><span class="type">Int</span><a href="#70501">attributes</a></span> = <span class="typed"><span class="type">Int</span><a href="#70501">attributes</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> JAccessFlags.<span class="typed"><span class="type">Int(128)</span><span >ACC_TRANSIENT</span></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70519">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70519">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68474">VolatileAttr</a></span> =&gt;
          <span class="typed"><span class="type">Int</span><a href="#70501">attributes</a></span> = <span class="typed"><span class="type">Int</span><a href="#70501">attributes</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> JAccessFlags.<span class="typed"><span class="type">Int(64)</span><span >ACC_VOLATILE</span></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>);
      }}
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70502">flags</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a href="#68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(4096L)</span><span >MUTABLE</span></span>)) 
        <span class="typed"><span class="type">Int</span><a href="#70502">flags</a></span> = <span class="typed"><span class="type">Int</span><a href="#70502">flags</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> JAccessFlags.<span class="typed"><span class="type">Int(16)</span><span >ACC_FINAL</span></span>
      
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JField</span><a id="70503">jfield</a></span> =
        <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField</span><a id="68734">addNewField</a></span>(<span class="typed"><span class="type">Int</span><a href="#70502">flags</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> <span class="typed"><span class="type">Int</span><a href="#70501">attributes</a></span>,
                           <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>),
                           <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>));
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a href="#68530">addGenericSignature</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JField</span><a href="#70503">jfield</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>, <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68531">addAnnotations</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JField</span><a href="#70503">jfield</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IField</span><a href="#69149">f</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#37278">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a id="68538">genMethod</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a id="69153">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span>) {
      <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Generating method &quot;)</span><span class="string">&quot;Generating method &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Symbols.scala.html#25313">fullNameString</a></span>)
      <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a href="#68498">method</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>
      <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><a href="#68557">endPC</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24168">clear</a></span>
      <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a href="#68569">computeLocalVarsIndex</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>)

      <span class="keyword">var</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="70543">resTpe</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Types.scala.html#25663">resultType</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25146">isClassConstructor</a></span>)
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a href="#70543">resTpe</a></span> = <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>;

      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70544">flags</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a href="#68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="68732">isInterface</a></span>())
        <span class="typed"><span class="type">Int</span><a href="#70544">flags</a></span> = <span class="typed"><span class="type">Int</span><a href="#70544">flags</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> JAccessFlags.<span class="typed"><span class="type">Int(1024)</span><span >ACC_ABSTRACT</span></span>;
      
      <span class="comment">// native methods of objects are generated in mirror classes</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../icode/Members.scala.html#32870">native</a></span>)
        <span class="typed"><span class="type">Int</span><a href="#70544">flags</a></span> = <span class="typed"><span class="type">Int</span><a href="#70544">flags</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> JAccessFlags.<span class="typed"><span class="type">Int(256)</span><span >ACC_NATIVE</span></span>

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod)Unit</span><a href="#68504">jmethod</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType,Array[ch.epfl.lamp.fjbg.JType],Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod</span><a id="68736">addNewMethod</a></span>(<span class="typed"><span class="type">Int</span><a href="#70544">flags</a></span>,
                                    <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>),
                                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a href="#70543">resTpe</a></span>,
                                    <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.TypeKind])Array[ch.epfl.lamp.fjbg.JType]</span><a href="#68577">javaTypes</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32888">params</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; GenJVM.this.global.icodes.TypeKind)List[GenJVM.this.global.icodes.TypeKind]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70567">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>)),
                                    <span class="typed"><span class="type">(List[GenJVM.this.global.Symbol])Array[String]</span><a href="#68571">javaNames</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32888">params</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; GenJVM.this.global.icodes.global.Symbol)List[GenJVM.this.global.icodes.global.Symbol]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70571">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>)));

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(67108864L)</span><span >BRIDGE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../../Settings.scala.html#29980">target</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;jvm-1.4&quot;)</span><span class="string">&quot;jvm-1.4&quot;</span></span>) {
        <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="68881">addAttribute</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,Any,java.lang.String,Array[Byte])ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68799">JOtherAttribute</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>, <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;Bridge&quot;)</span><span class="string">&quot;Bridge&quot;</span></span>,
                                                         <span class="typed"><span class="type">Array[Byte]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Byte]</span><a id="1072">Array</a></span>[Byte](<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)))
      }

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,GenJVM.this.global.Symbol)Unit</span><a href="#68539">addRemoteException</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>)

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="69271">isAbstract</a></span>() <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../icode/Members.scala.html#32870">native</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="70580">jcode</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode</span><a id="68763">getCode</a></span>().<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>]

        <span class="comment">// add a fake local for debugging purpuses</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#68515">emitVars</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68541">isClosureApply</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>)) {
          <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="70582">outerField</a></span> = <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25678">decl</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Name)GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30568">getterToLocal</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30456">OUTER</a></span>))
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#70582">outerField</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.NoSymbol</span><a href="../../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) {
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Adding fake local to represent outer 'this' for closure &quot;)</span><span class="string">&quot;Adding fake local to represent outer 'this' for closure &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="70584">_this</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><span class="keyword">new</span></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="../icode/Members.scala.html#32333">Local</a></span>(
              <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,GenJVM.this.global.icodes.global.Name)GenJVM.this.global.icodes.global.TermSymbol</span><a href="../../symtab/Symbols.scala.html#25099">newVariable</a></span>(<span class="typed"><span class="type">object scala.tools.nsc.util.NoPosition</span><a href="../../util/Position.scala.html#8304">NoPosition</a></span>, <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" class="string">&quot;this$&quot;</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32385">toTypeKind</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#70582">outerField</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
            <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">(List[GenJVM.this.global.icodes.Local])Unit</span><a href="../icode/Members.scala.html#32886">locals</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32885">locals</a></span> <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.Local])List[GenJVM.this.global.icodes.Local]</span><a href="#70588" id="21339">:::</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local*)List[GenJVM.this.global.icodes.Local]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70584">_this</a></span>)
            <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a href="#68569">computeLocalVarsIndex</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>) <span class="comment">// since we added a new local, we need to recompute indexes</span>

            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70580">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69365">emitALOAD_0</a></span>
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70580">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69549">emitGETFIELD</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>),
                               <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#70582">outerField</a></span>),
                               <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#70582">outerField</a></span>))
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70580">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69633">emitSTORE</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a href="#68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70584">_this</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70584">_this</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>))
          }
        }

        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><span id="21366"><span id="21367"><span id="70622"><a id="70625">local</a></span></span></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32885">locals</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32888">params</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><a id="21673">contains</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70622">local</a></span>)) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;add local var: &quot;)</span><span class="string">&quot;add local var: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70625">local</a></span>);
          <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,java.lang.String)ch.epfl.lamp.fjbg.JLocalVariable</span><a id="68765">addNewLocalVariable</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70625">local</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70625">local</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>))
        }

        <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a href="#68555">genCode</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#68515">emitVars</a></span>)
          <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod,ch.epfl.lamp.fjbg.JCode)Unit</span><a href="#68556">genLocalVariableTable</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70580">jcode</a></span>);
      }
      
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a href="#68530">addGenericSignature</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>, <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><span id="23625"><a href="#70634" id="1379">(</a></span></span><span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><span id="70634"><span id="70546"><a href="#70545" id="23614">excs</a></span></span></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><span id="70635"><span id="70547"><a href="#70545" id="23616">others</a></span></span></span>) = <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><a href="#68540">splitAnnotations</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>, <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68478">ThrowsAttr</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68527">addExceptionsAttribute</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70546">excs</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68531">addAnnotations</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70547">others</a></span>)
      <span class="typed"><span class="type">(List[List[GenJVM.this.global.AnnotationInfo]])Unit</span><a href="#68532">addParamAnnotations</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#69153">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32888">params</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo])List[List[GenJVM.this.global.icodes.global.AnnotationInfo]]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70641">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>))
    }
    
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,GenJVM.this.global.Symbol)Unit</span><a id="68539">addRemoteException</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="70578">jmethod</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="68224">JMethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="70579">meth</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)Boolean</span><a id="70642">isRemoteThrows</a></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a id="70643">ainfo</a></span>: <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="../../symtab/AnnotationInfos.scala.html#22334">AnnotationInfo</a></span>) = <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70643">ainfo</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70644">tp</a></span>, <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationArgument])Some[List[GenJVM.this.global.AnnotationArgument]]</span><span id="21410"><a href="#70645" id="527">List</a></span></span>(<span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a id="70648">arg</a></span>), _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70644">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68478">ThrowsAttr</a></span> =&gt;
          <span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a href="#70648">arg</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Tree</span><a href="../../symtab/AnnotationInfos.scala.html#47870">intTree</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">Literal</a>(<a id="1">Constant</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70652">tpe</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="../../symtab/Types.scala.html#21944">Type</a></span>)) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70652">tpe</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="#68492">RemoteException</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
            <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
          }
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      }

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#68522">remoteClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
          (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70579">meth</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25094">hasAttribute</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68476">RemoteAttr</a></span>) 
           <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#70578">jmethod</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="69261">isPublic</a></span>() 
           <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="../../Global.scala.html#21318">forCLDC</a></span>)) {
          <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a id="70655">ainfo</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Type,List[GenJVM.this.global.AnnotationArgument],List[(GenJVM.this.global.Name, GenJVM.this.global.AnnotationArgument)])GenJVM.this.global.AnnotationInfo</span><a href="../../symtab/AnnotationInfos.scala.html#55111">AnnotationInfo</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68478">ThrowsAttr</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>, <span class="typed"><span class="type">(GenJVM.this.global.AnnotationArgument*)List[GenJVM.this.global.AnnotationArgument]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(GenJVM.this.global.Constant)GenJVM.this.global.AnnotationArgument</span><a href="../../symtab/AnnotationInfos.scala.html#47873" class="keyword">new</a></span> <span class="typed"><span class="type">GenJVM.this.global.AnnotationArgument</span><a href="../../symtab/AnnotationInfos.scala.html#22333">AnnotationArgument</a></span>(<span class="typed"><span class="type">(Any)GenJVM.this.global.Constant</span><a href="../../symtab/Constants.scala.html#50347">Constant</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="#68492">RemoteException</a></span>))), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>())
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70579">meth</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)Boolean</span><a href="#70642">isRemoteThrows</a></span>)) {
            <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70579">meth</a></span>.<span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="../../symtab/Symbols.scala.html#25091">attributes</a></span> = <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70655">ainfo</a></span> <span class="typed"><span class="type">(GenJVM.this.global.AnnotationInfo)List[GenJVM.this.global.AnnotationInfo]</span><a href="#70662" id="21335">::</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70579">meth</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>;
          }      
        }
    }
    

    <span class="comment">/** Return a pair of lists of annotations, first one containing all 
     *  annotations for the given symbol, and the rest.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><a id="68540">splitAnnotations</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="70632">annotations</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a id="526">List</a></span>[AnnotationInfo], <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="70633">annotSym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><a id="1378">(</a></span>List[AnnotationInfo], List[AnnotationInfo]) = {
      <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#70632">annotations</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.AnnotationInfo) =&gt; Boolean)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><a id="21369">partition</a></span> { <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a id="70666">a</a></span> =&gt; <span class="typed"><span class="type">GenJVM.this.global.AnnotationInfo</span><a href="#70666">a</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">AnnotationInfo</a>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70667">tp</a></span>, _, _) <span class="keyword">if</span> <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70667">tp</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70633">annotSym</a></span> =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      }}
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a id="68541">isClosureApply</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="70581">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
      (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70581">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30762">apply</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
      <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70581">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(2097152L)</span><span >SYNTHETIC</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
      <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70581">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Type]</span><a href="../../symtab/Types.scala.html#25659">parents</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.Type) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> { <span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="70674">t</a></span> =&gt; 
        <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70676">TypeRef</a></span>(_, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><span id="70675"><a id="70676">sym</a></span></span>, _) = <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#70674">t</a></span>;
        <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; Array[GenJVM.this.global.Symbol]</span><a href="../../symtab/Definitions.scala.html#25997">FunctionClass</a></span> <span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Boolean)Boolean</span><a id="21794">exists</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70675">sym</a></span>.<span class="typed"><span class="type">(AnyRef)Boolean</span><a href="#70679" id="3509">==</a></span>
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="68542">addModuleInstanceField</a></span> {
      <span class="keyword">import</span> JAccessFlags._
      <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField</span><a id="68734">addNewField</a></span>(ACC_PUBLIC | ACC_FINAL <span class="typed"><span class="type">Int(25)</span><span >|</span></span> ACC_STATIC,
                        <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30558">MODULE_INSTANCE_FIELD</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                        <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="68725">getType</a></span>())
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass)Unit</span><a id="68543">addStaticInit</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="69128">cls</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>) {
      <span class="keyword">import</span> JAccessFlags._
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="70691">clinitMethod</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69128">cls</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType,Array[ch.epfl.lamp.fjbg.JType],Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod</span><a id="68736">addNewMethod</a></span>(ACC_PUBLIC <span class="typed"><span class="type">Int(9)</span><span >|</span></span> ACC_STATIC,
                                          <span class="typed"><span class="type">java.lang.String(&quot;&lt;clinit&gt;&quot;)</span><span class="string">&quot;&lt;clinit&gt;&quot;</span></span>,
                                          <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>,
                                          <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="68650">EMPTY_ARRAY</a></span>,
                                          <span class="typed"><span class="type">Array[String]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String](<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="70692">clinit</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#70691">clinitMethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode</span><a id="68763">getCode</a></span>().<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>]
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68536">isStaticModule</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>)) {
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69555">emitNEW</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69128">cls</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>())
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69552">emitINVOKESPECIAL</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69128">cls</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>(),
                                 JMethod.<span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span >INSTANCE_CONSTRUCTOR_NAME</span></span>,
                                 <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JMethodType</span><a id="68210">JMethodType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68680">ARGLESS_VOID_FUNCTION</a></span>)
      }

      <span class="typed"><span class="type">=&gt; Option[Long]</span><a href="#68519">serialVUID</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">Long</span><a id="70700">value</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="70701">fieldName</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;serialVersionUID&quot;)</span><span class="string">&quot;serialVersionUID&quot;</span></span>
          <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType)ch.epfl.lamp.fjbg.JField</span><a id="68734">addNewField</a></span>(JAccessFlags.ACC_STATIC | JAccessFlags.ACC_PUBLIC <span class="typed"><span class="type">Int(25)</span><span >|</span></span> JAccessFlags.ACC_FINAL,
                             <span class="typed"><span class="type">java.lang.String</span><a href="#70701">fieldName</a></span>,
                             <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68658">LONG</a></span>)
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a id="69622">emitPUSH</a></span>(<span class="typed"><span class="type">Long</span><a href="#70700">value</a></span>)
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69548">emitPUTSTATIC</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>(), <span class="typed"><span class="type">java.lang.String</span><a href="#70701">fieldName</a></span>, <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68658">LONG</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>)
      }

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; Option[String]</span><a href="../icode/Members.scala.html#32693">bootstrapClass</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25407">isDefined</a></span>) <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JExtendedCode)Unit</span><a href="#68544">emitBootstrapMethodInstall</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>)
      
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70692">clinit</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69546">emitRETURN</a></span>()
    }
    
    <span class="comment">/** Emit code that installs a boostrap method for invoke dynamic. It installs the default
     *  method, found in scala.runtime.DynamicDispatch.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JExtendedCode)Unit</span><a id="68544">emitBootstrapMethodInstall</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="70710">jcode</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>) {
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69629">emitPUSH</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="68725">getType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="68227">JReferenceType</a></span>])
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69629">emitPUSH</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;scala.runtime.DynamicDispatch&quot;)</span><span class="string">&quot;scala.runtime.DynamicDispatch&quot;</span></span>))
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69628">emitPUSH</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;bootstrapInvokeDynamic&quot;)</span><span class="string">&quot;bootstrapInvokeDynamic&quot;</span></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69547">emitGETSTATIC</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.Linkage&quot;)</span><span class="string">&quot;java.dyn.Linkage&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;BOOTSTRAP_METHOD_TYPE&quot;)</span><span class="string">&quot;BOOTSTRAP_METHOD_TYPE&quot;</span></span>, <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68460">MethodTypeType</a></span>)
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69412">emitDUP</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;scala.Console&quot;)</span><span class="string">&quot;scala.Console&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;println&quot;)</span><span class="string">&quot;println&quot;</span></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JObjectType</span><a id="68255">JObjectType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68619">JAVA_LANG_OBJECT</a></span>)))
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.MethodHandles&quot;)</span><span class="string">&quot;java.dyn.MethodHandles&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;findStatic&quot;)</span><span class="string">&quot;findStatic&quot;</span></span>, 
                              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68464">MethodHandleType</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68462">JavaLangClassType</a></span>, <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JObjectType</span><a id="68255">JObjectType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68620">JAVA_LANG_STRING</a></span>, <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68460">MethodTypeType</a></span>)))
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#70710">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.Linkage&quot;)</span><span class="string">&quot;java.dyn.Linkage&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;registerBootstrapMethod&quot;)</span><span class="string">&quot;registerBootstrapMethod&quot;</span></span>,
                              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>, <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68462">JavaLangClassType</a></span>, <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68464">MethodHandleType</a></span>)))
    }
    
    <span class="comment">/** Add a forwarder for method m */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a id="68545">addForwarder</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="71270">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71271">module</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71272">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="keyword">import</span> JAccessFlags._          
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="71274">moduleName</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71271">module</a></span>) <span class="comment">// + &quot;$&quot;</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="71275">mirrorName</a></span> = <span class="typed"><span class="type">String</span><a href="#71274">moduleName</a></span>.<span class="typed"><span class="type">(Int,Int)java.lang.String</span><a id="5855">substring</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">String</span><a href="#71274">moduleName</a></span>.<span class="typed"><span class="type">()Int</span><a id="5821">length</a></span>() <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a id="71276">paramJavaTypes</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Type]</span><a href="../../symtab/Types.scala.html#25668">paramTypes</a></span> <span class="typed"><span class="type">((GenJVM.this.global.Type) =&gt; GenJVM.this.global.icodes.TypeKind)List[GenJVM.this.global.icodes.TypeKind]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32385">toTypeKind</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[String]</span><a id="71277">paramNames</a></span>: <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String] = <span class="typed"><span class="type">Array[String]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String](<span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a href="#71276">paramJavaTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>);

      <span class="keyword">for</span> (<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="40475"><a id="71322">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6133"><a id="821" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="26778">until</a></span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a href="#71276">paramJavaTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
        <span class="typed"><span class="type">Array[String]</span><a href="#71277">paramNames</a></span>(<span class="typed"><span class="type">Int</span><a href="#71322">i</a></span>) = <span class="typed"><span class="type">java.lang.String(&quot;x_&quot;)</span><span class="string">&quot;x_&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">Int</span><a href="#71322">i</a></span>

      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a id="71278">mirrorMethod</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#71270">jclass</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,ch.epfl.lamp.fjbg.JType,Array[ch.epfl.lamp.fjbg.JType],Array[java.lang.String])ch.epfl.lamp.fjbg.JMethod</span><a id="68736">addNewMethod</a></span>(ACC_PUBLIC | ACC_FINAL <span class="typed"><span class="type">Int(25)</span><span >|</span></span> ACC_STATIC,
        <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>),
        <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Types.scala.html#25663">resultType</a></span>),
        <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.TypeKind])Array[ch.epfl.lamp.fjbg.JType]</span><a href="#68577">javaTypes</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a href="#71276">paramJavaTypes</a></span>),
        <span class="typed"><span class="type">Array[String]</span><a href="#71277">paramNames</a></span>);
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="71279">mirrorCode</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode</span><a id="68763">getCode</a></span>().<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>];
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71279">mirrorCode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69547">emitGETSTATIC</a></span>(<span class="typed"><span class="type">String</span><a href="#71274">moduleName</a></span>,
                               <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30558">MODULE_INSTANCE_FIELD</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                               <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">String</span><a href="#71274">moduleName</a></span>));
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71280">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71281">index</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="71282">argTypes</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>.<span class="typed"><span class="type">()Array[ch.epfl.lamp.fjbg.JType]</span><a id="68761">getArgumentTypes</a></span>()
      <span class="typed"><span class="type">Unit</span><a href="#71286" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#71280">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a href="#71282">argTypes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) {
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71279">mirrorCode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69631">emitLOAD</a></span>(<span class="typed"><span class="type">Int</span><a href="#71281">index</a></span>, <span class="typed"><span class="type">(Int)ch.epfl.lamp.fjbg.JType</span><a href="#71282" id="21509">argTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#71280">i</a></span>))
        <span class="typed"><span class="type">Int</span><a href="#71281">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#71281">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">(Int)ch.epfl.lamp.fjbg.JType</span><a href="#71282" id="21509">argTypes</a></span>(<span class="typed"><span class="type">Int</span><a href="#71280">i</a></span>).<span class="typed"><span class="type">()Int</span><a id="68663">getSize</a></span>()
        <span class="typed"><span class="type">Int</span><a href="#71280">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      }

      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71279">mirrorCode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69551">emitINVOKEVIRTUAL</a></span>(<span class="typed"><span class="type">String</span><a href="#71274">moduleName</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>(), <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="69259">getType</a></span>().<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>])
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71279">mirrorCode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69637">emitRETURN</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="68760">getReturnType</a></span>())

      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,GenJVM.this.global.Symbol)Unit</span><a href="#68539">addRemoteException</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>)
      <span class="comment">// only add generic signature if the method is concrete; bug #1745</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(16L)</span><span >DEFERRED</span></span>))
        <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a href="#68530">addGenericSignature</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71271">module</a></span>)
        
      <span class="keyword">val</span> <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><span id="23625"><a href="#71390" id="1379">(</a></span></span><span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><span id="71390"><span id="71284"><a href="#71283" id="23614">throws</a></span></span></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><span id="71391"><span id="71285"><a href="#71283" id="23616">others</a></span></span></span>) = <span class="typed"><span class="type">(List[GenJVM.this.global.AnnotationInfo],GenJVM.this.global.Symbol)(List[GenJVM.this.global.AnnotationInfo], List[GenJVM.this.global.AnnotationInfo])</span><a href="#68540">splitAnnotations</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71272">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.AnnotationInfo]</span><a href="../../symtab/Symbols.scala.html#25090">attributes</a></span>, <span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="#68478">ThrowsAttr</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMethod,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68527">addExceptionsAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#71284">throws</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JMember,List[GenJVM.this.global.AnnotationInfo])Unit</span><a href="#68531">addAnnotations</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethod</span><a href="#71278">mirrorMethod</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.AnnotationInfo]</span><a href="#71285">others</a></span>)
    } 

    <span class="comment">/** Add forwarders for all methods defined in `module' that don't conflict with 
     *  methods in the companion class of `module'. A conflict arises when a method
     *  with the same name is defined both in a class and its companion object (method
     *  signature is not taken into account).  If 3rd argument cond is supplied, only
     *  symbols for which cond(sym) is true are given forwarders.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a id="68546">addForwarders</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="69144">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69145">module</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>) { <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol,(GenJVM.this.global.Symbol) =&gt; Boolean)Unit</span><a href="#68547">addForwarders</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69144">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69145">module</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71396">_</a></span> =&gt; <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>) }
    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol,(GenJVM.this.global.Symbol) =&gt; Boolean)Unit</span><a id="68547">addForwarders</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="69141">jclass</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69142">module</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">(GenJVM.this.global.Symbol) =&gt; Boolean</span><a id="69143">cond</a></span>: (Symbol) =&gt; Boolean) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol,GenJVM.this.global.Name)Boolean</span><a id="71397">conflictsIn</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71402">cls</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Name</span><a id="71403">name</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21103">Name</a></span>) =
        <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71402">cls</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a href="../../symtab/Types.scala.html#25681">nonPrivateMembers</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71407">_</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="#71403">name</a></span>)
      
      <span class="comment">/** List of parents shared by both class and module, so we don't add forwarders
       *  for methods defined there - bug #1804 */</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a id="71399">commonParents</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a id="71410">cps</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a href="../../symtab/Types.scala.html#25708">baseClasses</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a id="71411">mps</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25277">linkedClassOfModule</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a href="../../symtab/Types.scala.html#25708">baseClasses</a></span>
        <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a href="#71410">cps</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Boolean)List[GenJVM.this.global.Symbol]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a href="#71411">mps</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a href="#71413" id="21673">contains</a></span>)
      }
      <span class="comment">/* the setter doesn't show up in members so we inspect the name */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Name)Boolean</span><a id="71400">conflictsInCommonParent</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Name</span><a id="71414">name</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21103">Name</a></span>) =
        <span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a href="#71398">commonParents</a></span> <span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> { <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71416">cp</a></span> =&gt; <span class="typed"><span class="type">GenJVM.this.global.Name</span><a href="#71414">name</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Name)Boolean</span><a href="../../symtab/Names.scala.html#23910">startsWith</a></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71416">cp</a></span>.<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6142"><a href="../../symtab/Symbols.scala.html#25215" id="821">name</a></span></span> <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)GenJVM.this.global.Name</span><a href="../../symtab/Names.scala.html#21102" id="23659">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>) }
             
      <span class="comment">/** Should method `m' get a forwarder in the mirror class? */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a id="71401">shouldForward</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71422">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
        <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Boolean)Boolean</span><a href="../../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.Run</span><a href="../../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../../Global.scala.html#36560">picklerPhase</a></span>) (
          <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25778">ObjectClass</a></span> 
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25142">isMethod</a></span>
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.CASE <span class="typed"><span class="type">Long(2049L)</span><span >|</span></span> Flags.PROTECTED)
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25148">isConstructor</a></span>
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25195">isStaticMember</a></span>
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25769">AnyClass</a></span>) 
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25250">isSubClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25277">linkedClassOfModule</a></span>)
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(GenJVM.this.global.Symbol,GenJVM.this.global.Name)Boolean</span><a href="#71397">conflictsIn</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25778">ObjectClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>)
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(GenJVM.this.global.Name)Boolean</span><a href="#71400">conflictsInCommonParent</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>)
          <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(GenJVM.this.global.Symbol,GenJVM.this.global.Name)Boolean</span><a href="#71397">conflictsIn</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25277">linkedClassOfModule</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71422">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25215">name</a></span>)
        )
      
      <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68581">assert</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25166">isModuleClass</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Dumping mirror class for object: &quot;)</span><span class="string">&quot;Dumping mirror class for object: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>);
      
      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Unit)Unit</span><span id="21366"><span id="71437"><span id="71434"><span id="21367"><a id="71440">m</a></span></span></span></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Symbol]</span><a href="../../symtab/Types.scala.html#25681">nonPrivateMembers</a></span>; <span class="keyword">if</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#71401">shouldForward</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71434">m</a></span>) ; <span class="keyword">if</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#69143" id="21757">cond</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71437">m</a></span>))
        <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol,GenJVM.this.global.Symbol)Unit</span><a href="#68545">addForwarder</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#69141">jclass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69142">module</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71440">m</a></span>)
    }
    
    <span class="comment">/** Dump a mirror class for a top-level module. A mirror class is a class containing
     *  only static methods that forward to the corresponding method on the MODULE instance
     *  of the given Scala object.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol,String)Unit</span><a id="68548">dumpMirrorClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69131">clasz</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">String</span><a id="69132">sourceFile</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) {
      <span class="keyword">import</span> JAccessFlags._
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="71442">moduleName</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69131">clasz</a></span>) <span class="comment">// + &quot;$&quot;</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="71443">mirrorName</a></span> = <span class="typed"><span class="type">String</span><a href="#71442">moduleName</a></span>.<span class="typed"><span class="type">(Int,Int)java.lang.String</span><a id="5855">substring</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">String</span><a href="#71442">moduleName</a></span>.<span class="typed"><span class="type">()Int</span><a id="5821">length</a></span>() <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="71444">mirrorClass</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(Int,java.lang.String,java.lang.String,Array[java.lang.String],java.lang.String)ch.epfl.lamp.fjbg.JClass</span><a id="68783">JClass</a></span>(ACC_SUPER | ACC_PUBLIC <span class="typed"><span class="type">Int(49)</span><span >|</span></span> ACC_FINAL,
                                           <span class="typed"><span class="type">java.lang.String</span><a href="#71443">mirrorName</a></span>,
                                           <span class="typed"><span class="type">java.lang.String(&quot;java.lang.Object&quot;)</span><span class="string">&quot;java.lang.Object&quot;</span></span>,
                                           <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JClass</span><a id="68387">JClass</a></span>.<span class="typed"><span class="type">Array[java.lang.String]</span><a id="68712">NO_INTERFACES</a></span>,
                                           <span class="typed"><span class="type">String</span><a href="#69132">sourceFile</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a href="#68546">addForwarders</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#71444">mirrorClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69131">clasz</a></span>)
      <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,GenJVM.this.global.Symbol)Unit</span><a href="#68517">emitClass</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#71444">mirrorClass</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69131">clasz</a></span>)
    }

    <span class="keyword">var</span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><span id="68551"><span id="68549"><span id="68550"><a id="68809">linearization</a></span></span></span></span>: <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="526">List</a></span>[BasicBlock] = <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>

    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="68554"><span id="68552"><span id="68553"><a id="68810">isModuleInitialized</a></span></span></span></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

    <span class="comment">/**
     *  @param m ...
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a id="68555">genCode</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a id="70629">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span>) {
      <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="71479">jcode</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode</span><a id="68763">getCode</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a id="68401">JExtendedCode</a></span>]

      <span class="keyword">def</span> <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.Map[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]</span><a id="71480">makeLabels</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="71488">bs</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="526">List</a></span>[BasicBlock]) = {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Making labels for: &quot;)</span><span class="string">&quot;Making labels for: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>);
        <span class="typed"><span class="type">object scala.collection.mutable.HashMap</span><a id="20082">HashMap</a></span>.<span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]</span><a id="24163">empty</a></span> <span class="typed"><span class="type">(Iterable[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)])scala.collection.mutable.Map[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]</span><a id="24195">++</a></span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71488">bs</a></span>.<span class="typed"><span class="type">(List[ch.epfl.lamp.fjbg.JCode#Label])List[(GenJVM.this.global.icodes.BasicBlock, ch.epfl.lamp.fjbg.JCode#Label)]</span><a id="21386">zip</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71488">bs</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.BasicBlock) =&gt; ch.epfl.lamp.fjbg.JCode#Label)List[ch.epfl.lamp.fjbg.JCode#Label]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71502">b</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JCode#Label</span><a id="69585">newLabel</a></span>))
      }

      <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68553">isModuleInitialized</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

      <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])Unit</span><a href="#68550">linearization</a></span> = <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.Linearizer</span><a href="../icode/ICodes.scala.html#32308">linearizer</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)List[GenJVM.this.global.icodes.BasicBlock]</span><a href="../icode/Linearizers.scala.html#33332">linearize</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#70629">m</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Map[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]</span><a id="71481">labels</a></span> = <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])scala.collection.mutable.Map[GenJVM.this.global.icodes.BasicBlock,ch.epfl.lamp.fjbg.JCode#Label]</span><a href="#71480">makeLabels</a></span>(<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#68549">linearization</a></span>)
      <span class="comment">/** local variables whose scope appears in this block. */</span>
      <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a id="71482">varsInBlock</a></span>: collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a id="20147">Set</a></span>[Local] = <span class="typed"><span class="type">scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[GenJVM.this.global.icodes.Local]</span><a id="19895">HashSet</a></span>

      <span class="keyword">var</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71483">nextBlock</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="../icode/BasicBlocks.scala.html#32337">BasicBlock</a></span> = <span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#68549">linearization</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.BasicBlock</span><a id="21332">head</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])Unit</span><a id="71484">genBlocks</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="71519">l</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="526">List</a></span>[BasicBlock]): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71519">l</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71520">x</a></span> <a id="1">::</a> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>; <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Unit</span><a href="#71486">genBlock</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71520">x</a></span>)
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71522">x</a></span> <a id="1">::</a> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71523">y</a></span> <a id="1">::</a> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="71524">ys</a></span> =&gt; <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71523">y</a></span>; <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Unit</span><a href="#71486">genBlock</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71522">x</a></span>); <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])Unit</span><a href="#71484">genBlocks</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71523">y</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71525" id="21335">::</a></span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71524">ys</a></span>)
    }


    <span class="comment">/** Generate exception handlers for the current method. */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="71485">genExceptionHandlers</a></span> {

      <span class="comment">/** Return a list of pairs of intervals where the handler is active.
       *  The intervals in the list have to be inclusive in the beginning and
       *  exclusive in the end: [start, end).
       */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]</span><a id="71528">ranges</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a id="71529">e</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="../icode/ExceptionHandlers.scala.html#32394">ExceptionHandler</a></span>): <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)] = {
        <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a id="71530">covered</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71529">e</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="../icode/ExceptionHandlers.scala.html#51920">covered</a></span>
        <span class="keyword">var</span> <span class="typed"><span class="type">List[(Int, Int)]</span><a id="71531">ranges</a></span>: <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)] = <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>
        <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71532">start</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
        <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71533">end</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>

        <span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#68549">linearization</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.BasicBlock) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> ((<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71536">b</a></span>) =&gt; {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span> (<span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71530">covered</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Boolean</span><a id="25542">contains</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>) ) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#71532">start</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) { <span class="comment">// we're inside a handler range</span>
              <span class="typed"><span class="type">Int</span><a href="#71533">end</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>()
              <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#71531">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#71532">start</a></span>, <span class="typed"><span class="type">Int</span><a href="#71533">end</a></span>) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#71541" id="21335">::</a></span> <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#71531">ranges</a></span>
              <span class="typed"><span class="type">Int</span><a href="#71532">start</a></span> = -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
            }
          } <span class="keyword">else</span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#71532">start</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) { <span class="comment">// we're inside a handler range </span>
              <span class="typed"><span class="type">Int</span><a href="#71533">end</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Int</span><a href="#68557" id="24239">endPC</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>)
            } <span class="keyword">else</span> {
              <span class="typed"><span class="type">Int</span><a href="#71532">start</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>()
              <span class="typed"><span class="type">Int</span><a href="#71533">end</a></span>   = <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Int</span><a href="#68557" id="24239">endPC</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>)
            }
            <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71530">covered</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71530">covered</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a id="31144">-</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71536">b</a></span>
          }
        });

        <span class="comment">/* Add the last interval. Note that since the intervals are 
         * open-ended to the right, we have to give a number past the actual
         * code!
         */</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#71532">start</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) {
          <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#71531">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#71532">start</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#71558" id="21335">::</a></span> <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#71531">ranges</a></span>;
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71530">covered</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Some covered blocks were not found in method: &quot;)</span><span class="string">&quot;Some covered blocks were not found in method: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                <span class="typed"><span class="type">java.lang.String(&quot; covered: &quot;)</span><span class="string">&quot; covered: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.collection.immutable.Set[GenJVM.this.global.icodes.BasicBlock]</span><a href="#71530">covered</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; not in &quot;)</span><span class="string">&quot; not in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#68549">linearization</a></span>);
        <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#71531">ranges</a></span>
      }
      
      <span class="typed"><span class="type">BytecodeGenerator.this.type</span><a href="#68418" class="keyword">this</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.ExceptionHandler]</span><a href="../icode/Members.scala.html#32873">exh</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.ExceptionHandler) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a id="71568">e</a></span> =&gt; 
        <span class="typed"><span class="type">(GenJVM.this.global.icodes.ExceptionHandler)List[(Int, Int)]</span><a href="#71528">ranges</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>).<span class="typed"><span class="type">(((Int, Int), (Int, Int)) =&gt; Boolean)List[(Int, Int)]</span><a id="21370">sort</a></span>({ (<span class="typed"><span class="type">(Int, Int)</span><a id="71570">p1</a></span>, <span class="typed"><span class="type">(Int, Int)</span><a id="71571">p2</a></span>) =&gt; <span class="typed"><span class="type">(Int, Int)</span><a href="#71570">p1</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23614">_1</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">(Int, Int)</span><a href="#71571">p2</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23614">_1</a></span> })
        .<span class="typed"><span class="type">(((Int, Int)) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">(Int, Int)</span><a id="71575">p</a></span> =&gt; 
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23614">_1</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23616">_2</a></span>) {
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
              <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Adding exception handler &quot;)</span><span class="string">&quot;Adding exception handler &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;at block: &quot;)</span><span class="string">&quot;at block: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.BasicBlock</span><a href="../icode/ExceptionHandlers.scala.html#51919">startBlock</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; for &quot;)</span><span class="string">&quot; for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                  <span class="typed"><span class="type">java.lang.String(&quot; from: &quot;)</span><span class="string">&quot; from: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23614">_1</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; to: &quot;)</span><span class="string">&quot; to: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23616">_2</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; catching: &quot;)</span><span class="string">&quot; catching: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/ExceptionHandlers.scala.html#51906">cls</a></span>);
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,Int,Int,java.lang.String)Unit</span><a id="69590">addExceptionHandler</a></span>(<span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23614">_1</a></span>, <span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="23616">_2</a></span>, 
                                      <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.BasicBlock</span><a href="../icode/ExceptionHandlers.scala.html#51919">startBlock</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>(),
                                      <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/ExceptionHandlers.scala.html#51906">cls</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.NoSymbol</span><a href="../../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ExceptionHandler</span><a href="#71568">e</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/ExceptionHandlers.scala.html#51906">cls</a></span>))
          } <span class="keyword">else</span> 
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Empty exception range: &quot;)</span><span class="string">&quot;Empty exception range: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(Int, Int)</span><a href="#71575">p</a></span>)
        }
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)Unit</span><a id="71486">genBlock</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="71521">b</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="../icode/BasicBlocks.scala.html#32337">BasicBlock</a></span>) {
      <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>).<span class="typed"><span class="type">()Unit</span><a id="71507">anchorToNext</a></span>()

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Generating code for block: &quot;)</span><span class="string">&quot;Generating code for block: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; at pc: &quot;)</span><span class="string">&quot; at pc: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>());
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71605">lastMappedPC</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71606">lastLineNr</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71607">crtPC</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="#71482">varsInBlock</a></span>.<span class="typed"><span class="type">()Unit</span><a id="25531">clear</a></span>

      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Instruction) =&gt; Unit)Unit</span><a href="../icode/BasicBlocks.scala.html#33193" id="71617">instr</a></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>) {
        <span class="keyword">class</span> <span class="typed"><span class="type">class CompilationError extends java.lang.Error with ScalaObject</span><a id="71618">CompilationError</a></span>(<span class="typed"><span class="type">String</span><span id="71622"><a id="71627">msg</a></span></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">java.lang.Error</span><span id="5975"><a id="821">Error</a></span></span> {
          <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()String</span><a id="71624">toString</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = {
            <span class="typed"><span class="type">String</span><a href="#71622">msg</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
            <span class="typed"><span class="type">java.lang.String(&quot;\012Current method: &quot;)</span><span class="string">&quot;\nCurrent method: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
            <span class="typed"><span class="type">java.lang.String(&quot;\012Current block: &quot;)</span><span class="string">&quot;\nCurrent block: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
            <span class="typed"><span class="type">java.lang.String(&quot;\012Current instruction: &quot;)</span><span class="string">&quot;\nCurrent instruction: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Instruction</span><a href="#71617">instr</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
            <span class="typed"><span class="type">java.lang.String(&quot;\012---------------------&quot;)</span><span class="string">&quot;\n---------------------&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
            <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; Unit</span><a href="../icode/Members.scala.html#32905">dump</a></span>
          }
        }
        <span class="keyword">def</span> <span class="typed"><span class="type">(Boolean,String)Unit</span><a id="71619">assert</a></span>(<span class="typed"><span class="type">Boolean</span><a id="71633">cond</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>, <span class="typed"><span class="type">String</span><a id="71634">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) = <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#71633">cond</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">CompilationError</span><span class="keyword">new</span></span> <span class="typed"><span class="type">CompilationError</span><a href="#71618">CompilationError</a></span>(<span class="typed"><span class="type">String</span><a href="#71634">msg</a></span>);

        <span class="typed"><span class="type">GenJVM.this.global.icodes.Instruction</span><a href="#71617">instr</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">THIS</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71635">clasz</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69365">emitALOAD_0</a></span>()

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CONSTANT</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a id="71636">const</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Constants.scala.html#37590">tag</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(1)</span><span >UnitTag</span></span>    =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>);
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(2)</span><span >BooleanTag</span></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Boolean)Unit</span><a id="69612">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Constants.scala.html#37594">booleanValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(3)</span><span >ByteTag</span></span>    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Byte)Unit</span><a id="69614">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Byte</span><a href="../../symtab/Constants.scala.html#37595">byteValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(4)</span><span >ShortTag</span></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Short)Unit</span><a id="69616">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Short</span><a href="../../symtab/Constants.scala.html#37596">shortValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(5)</span><span >CharTag</span></span>    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Char)Unit</span><a id="69618">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Char</span><a href="../../symtab/Constants.scala.html#37597">charValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(6)</span><span >IntTag</span></span>     =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a id="69620">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../symtab/Constants.scala.html#37598">intValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(7)</span><span >LongTag</span></span>    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a id="69622">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Constants.scala.html#37599">longValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(8)</span><span >FloatTag</span></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Float)Unit</span><a id="69624">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Float</span><a href="../../symtab/Constants.scala.html#37600">floatValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(9)</span><span >DoubleTag</span></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Double)Unit</span><a id="69626">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; Double</span><a href="../../symtab/Constants.scala.html#37601">doubleValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(10)</span><span >StringTag</span></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69628">emitPUSH</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Constants.scala.html#37603">stringValue</a></span>)
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(11)</span><span >NullTag</span></span>    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69319">emitACONST_NULL</a></span>()
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(12)</span><span >ClassTag</span></span>   =&gt;
                <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="71648">kind</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32385">toTypeKind</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Constants.scala.html#37605">typeValue</a></span>);
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71648">kind</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../icode/TypeKinds.scala.html#33480">isValueType</a></span>)
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69629">emitPUSH</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JObjectType</span><a href="#68563" id="24239">classLiteral</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71648">kind</a></span>));
                <span class="keyword">else</span>
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69629">emitPUSH</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71648">kind</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="68227">JReferenceType</a></span>]);
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Int(13)</span><span >EnumTag</span></span>   =&gt;
                <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71656">sym</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Constants.scala.html#37606">symbolValue</a></span>
                <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69547">emitGETSTATIC</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71656">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>),
                                    <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71656">sym</a></span>),
                                    <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71656">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../../symtab/Types.scala.html#25653">underlying</a></span>))
              <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _          =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unknown constant value: &quot;)</span><span class="string">&quot;Unknown constant value: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Constant</span><a href="#71636">const</a></span>);
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">LOAD_ARRAY_ITEM</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="71658">kind</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69635">emitALOAD</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71658">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">LOAD_LOCAL</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="71661">local</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69631">emitLOAD</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a href="#68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#71661">local</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#71661">local</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">LOAD_FIELD</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71671">field</a></span>, <span class="typed"><span class="type">Boolean</span><a id="71672">isStatic</a></span>) =&gt;
            <span class="keyword">var</span> <span class="typed"><span class="type">String</span><a id="71673">owner</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>);
<span class="comment">//            if (field.owner.hasFlag(Flags.MODULE)) owner = owner + &quot;$&quot;;</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)            
              <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;LOAD_FIELD with owner: &quot;)</span><span class="string">&quot;LOAD_FIELD with owner: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#71673">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                  <span class="typed"><span class="type">java.lang.String(&quot; flags: &quot;)</span><span class="string">&quot; flags: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">object scala.tools.nsc.symtab.Flags</span><a href="../../symtab/Flags.scala.html#9658">Flags</a></span>.<span class="typed"><span class="type">(Long)String</span><a href="../../symtab/Flags.scala.html#20637">flagsToString</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Symbols.scala.html#25218">flags</a></span>))
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#71672">isStatic</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69547">emitGETSTATIC</a></span>(<span class="typed"><span class="type">String</span><a href="#71673">owner</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>),
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>))
            <span class="keyword">else</span>
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69549">emitGETFIELD</a></span>(<span class="typed"><span class="type">String</span><a href="#71673">owner</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>),
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71671">field</a></span>))
              
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">LOAD_MODULE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71679">module</a></span>) =&gt;
<span class="comment">//            assert(module.isModule, &quot;Expected module: &quot; + module)</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
              <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;genearting LOAD_MODULE for: &quot;)</span><span class="string">&quot;genearting LOAD_MODULE for: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71679">module</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; flags: &quot;)</span><span class="string">&quot; flags: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> 
                  <span class="typed"><span class="type">object scala.tools.nsc.symtab.Flags</span><a href="../../symtab/Flags.scala.html#9658">Flags</a></span>.<span class="typed"><span class="type">(Long)String</span><a href="../../symtab/Flags.scala.html#20637">flagsToString</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71679">module</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Symbols.scala.html#25218">flags</a></span>));
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71679">module</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25283">moduleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>() <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30910">readResolve</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69365">emitALOAD_0</a></span>()
            <span class="keyword">else</span>
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69547">emitGETSTATIC</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71679">module</a></span>) <span class="comment">/* + &quot;$&quot; */</span> ,
                                  <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30558">MODULE_INSTANCE_FIELD</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71679">module</a></span>));

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">STORE_ARRAY_ITEM</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="71689">kind</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69636">emitASTORE</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71689">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">STORE_LOCAL</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="71692">local</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69633">emitSTORE</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a href="#68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#71692">local</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#71692">local</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">STORE_THIS</a>(_) =&gt;
            <span class="comment">// this only works for impl classes because the self parameter comes first</span>
            <span class="comment">// in the method signature. If that changes, this code has to be revisited.</span>
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69398">emitASTORE_0</a></span>()

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">STORE_FIELD</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71702">field</a></span>, <span class="typed"><span class="type">Boolean</span><a id="71703">isStatic</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="71704">owner</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71702">field</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="comment">// + (if (field.owner.hasFlag(Flags.MODULE)) &quot;$&quot; else &quot;&quot;);</span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#71703">isStatic</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69548">emitPUTSTATIC</a></span>(<span class="typed"><span class="type">String</span><a href="#71704">owner</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71702">field</a></span>),
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71702">field</a></span>))
            <span class="keyword">else</span>
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69550">emitPUTFIELD</a></span>(<span class="typed"><span class="type">String</span><a href="#71704">owner</a></span>,
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71702">field</a></span>),
                                  <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71702">field</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CALL_PRIMITIVE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a id="71707">primitive</a></span>) =&gt;
            <span class="typed"><span class="type">(GenJVM.this.global.icodes.Primitive,scala.tools.nsc.util.Position)Unit</span><a href="#71487">genPrimitive</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a href="#71707">primitive</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.Instruction</span><a href="#71617">instr</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../icode/Opcodes.scala.html#33393">pos</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.opcodes.CALL_METHOD</span><a id="71710">call</a></span> @ <a id="1">CALL_METHOD</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="71711">method</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.opcodes.InvokeStyle</span><a id="71712">style</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="71713">owner</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>);
            <span class="comment">//reference the type of the receiver instead of the method owner (if not an interface!)</span>
            <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="71714">dynamicOwner</a></span> =
              <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68573">needsInterfaceCall</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.opcodes.CALL_METHOD</span><a href="#71710">call</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Opcodes.scala.html#33716">hostClass</a></span>)) <span class="typed"><span class="type">String</span><a href="#71713">owner</a></span>
              <span class="keyword">else</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.opcodes.CALL_METHOD</span><a href="#71710">call</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Opcodes.scala.html#33716">hostClass</a></span>)

            <span class="typed"><span class="type">GenJVM.this.global.icodes.opcodes.InvokeStyle</span><a href="#71712">style</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.opcodes.InvokeDynamic</span><a href="../icode/Opcodes.scala.html#32601">InvokeDynamic</a></span> =&gt;
                <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69554">emitINVOKEINTERFACE</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.dyn.Dynamic&quot;)</span><span class="string">&quot;java.dyn.Dynamic&quot;</span></span>, 
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>])
              
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.opcodes.Dynamic</span><a href="../icode/Opcodes.scala.html#32599">Dynamic</a></span> =&gt;
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68573">needsInterfaceCall</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>))
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69554">emitINVOKEINTERFACE</a></span>(<span class="typed"><span class="type">String</span><a href="#71713">owner</a></span>,
                                            <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                            <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>])
                <span class="keyword">else</span>
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69551">emitINVOKEVIRTUAL</a></span>(<span class="typed"><span class="type">String</span><a href="#71714">dynamicOwner</a></span>,
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>]);

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Static</a>(<span class="typed"><span class="type">Boolean</span><a id="71719">instance</a></span>) =&gt;
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#71719">instance</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69552">emitINVOKESPECIAL</a></span>(<span class="typed"><span class="type">String</span><a href="#71713">owner</a></span>,
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>]);
                } <span class="keyword">else</span>
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">String</span><a href="#71713">owner</a></span>,
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>]);

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">SuperCall</a>(_) =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69552">emitINVOKESPECIAL</a></span>(<span class="typed"><span class="type">String</span><a href="#71713">owner</a></span>,
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>),
                                          <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>]);
                  <span class="comment">// we initialize the MODULE$ field immediately after the super ctor</span>
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68536">isStaticModule</a></span>(<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32681">symbol</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#68552">isModuleInitialized</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                      <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>() <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> JMethod.<span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span >INSTANCE_CONSTRUCTOR_NAME</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                      <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#71711">method</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> JMethod.<span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span >INSTANCE_CONSTRUCTOR_NAME</span></span>) {
                        <span class="typed"><span class="type">(Boolean)Unit</span><a href="#68553">isModuleInitialized</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>;
                        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69365">emitALOAD_0</a></span>();
                        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69548">emitPUTSTATIC</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>(),
                                            <span class="typed"><span class="type">object GenJVM.this.global.nme</span><a href="../../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/StdNames.scala.html#30558">MODULE_INSTANCE_FIELD</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>,
                                            <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="68725">getType</a></span>());
                      }


            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">BOX</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="71728">kind</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71729">boxedType</a></span> = <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#26122" id="24239">boxedClass</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71728">kind</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../icode/TypeKinds.scala.html#33477">toType</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="71730">mtype</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a href="#68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71729">boxedType</a></span>), <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71728">kind</a></span>)))
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68454">BoxesRunTime</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;boxTo&quot;)</span><span class="string">&quot;boxTo&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71729">boxedType</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Symbols.scala.html#25311">cleanNameString</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a href="#71730">mtype</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">UNBOX</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="71920">kind</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="71921">mtype</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71920">kind</a></span>), <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JObjectType</span><a id="68255">JObjectType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68619">JAVA_LANG_OBJECT</a></span>))
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69553">emitINVOKESTATIC</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68454">BoxesRunTime</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;unboxTo&quot;)</span><span class="string">&quot;unboxTo&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#71920">kind</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Type</span><a href="../icode/TypeKinds.scala.html#33477">toType</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../../symtab/Symbols.scala.html#25311">cleanNameString</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a href="#71921">mtype</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">NEW</a>(<a id="1">REFERENCE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="72107">cls</a></span>)) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="72108">className</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#72107">cls</a></span>)
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69555">emitNEW</a></span>(<span class="typed"><span class="type">String</span><a href="#72108">className</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CREATE_ARRAY</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72109">elem</a></span>, <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) =&gt; <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72109">elem</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(_) | <a id="1">ARRAY</a>(_) =&gt;
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69557">emitANEWARRAY</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72109">elem</a></span>).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="68227">JReferenceType</a></span>])
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69556">emitNEWARRAY</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72109">elem</a></span>))
          }
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CREATE_ARRAY</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72112">elem</a></span>, <span class="typed"><span class="type">Int</span><a id="72113">dims</a></span>) =&gt; 
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType,Int)Unit</span><a id="69558">emitMULTIANEWARRAY</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind,Int)GenJVM.this.global.icodes.ARRAY</span><a href="../icode/TypeKinds.scala.html#32376">ArrayN</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72112">elem</a></span>, <span class="typed"><span class="type">Int</span><a href="#72113">dims</a></span>)).<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JReferenceType</span><a id="68227">JReferenceType</a></span>], <span class="typed"><span class="type">Int</span><a href="#72113">dims</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">IS_INSTANCE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72117">tpe</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72117">tpe</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="72118">cls</a></span>) =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69562">emitINSTANCEOF</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#72118">cls</a></span>)))
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ARRAY</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72119">elem</a></span>)    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69562">emitINSTANCEOF</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a id="68356">JArrayType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72119">elem</a></span>)))
              <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unknown reference type in IS_INSTANCE: &quot;)</span><span class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72117">tpe</a></span>)
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CHECK_CAST</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72121">tpe</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72121">tpe</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="72122">cls</a></span>) =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69561">emitCHECKCAST</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#72122">cls</a></span>)))
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ARRAY</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72123">elem</a></span>)    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JReferenceType)Unit</span><a id="69561">emitCHECKCAST</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a id="68356">JArrayType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72123">elem</a></span>)))
              <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unknown reference type in IS_INSTANCE: &quot;)</span><span class="string">&quot;Unknown reference type in IS_INSTANCE: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72121">tpe</a></span>)
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">SWITCH</a>(<span class="typed"><span class="type">List[List[Int]]</span><a id="72125">tags</a></span>, <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a id="72126">branches</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">Array[Array[Int]]</span><a id="72127">tagArray</a></span> = <span class="typed"><span class="type">Array[Array[Int]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Array[Int]]</span><a id="1072">Array</a></span>[Array[Int]](<span class="typed"><span class="type">List[List[Int]]</span><a href="#72125">tags</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
            <span class="keyword">var</span> <span class="typed"><span class="type">List[List[Int]]</span><a id="72128">caze</a></span> = <span class="typed"><span class="type">List[List[Int]]</span><a href="#72125">tags</a></span>
            <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="72129">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

            <span class="typed"><span class="type">Unit</span><a href="#72131" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Array[Array[Int]]</span><a href="#72127">tagArray</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) {
              <span class="typed"><span class="type">Array[Array[Int]]</span><a href="#72127">tagArray</a></span>(<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span>) = <span class="typed"><span class="type">Array[Int]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Int]</span><a id="1072">Array</a></span>[Int](<span class="typed"><span class="type">List[List[Int]]</span><a href="#72128">caze</a></span>.<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
              <span class="typed"><span class="type">List[List[Int]]</span><a href="#72128">caze</a></span>.<span class="typed"><span class="type">=&gt; List[Int]</span><a id="21332">head</a></span>.<span class="typed"><span class="type">(Array[Int],Int)Unit</span><a id="21824">copyToArray</a></span>(<span class="typed"><span class="type">(Int)Array[Int]</span><a href="#72127" id="21509">tagArray</a></span>(<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span>), <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
              <span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
              <span class="typed"><span class="type">List[List[Int]]</span><a href="#72128">caze</a></span> = <span class="typed"><span class="type">List[List[Int]]</span><a href="#72128">caze</a></span>.<span class="typed"><span class="type">=&gt; List[List[Int]]</span><a id="21334">tail</a></span>
            }
            <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JCode#Label]</span><a id="72130">branchArray</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int)Array[ch.epfl.lamp.fjbg.JCode#Label]</span><a id="69586">newLabels</a></span>(<span class="typed"><span class="type">Array[Array[Int]]</span><a href="#72127">tagArray</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>)
            <span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
            <span class="typed"><span class="type">Unit</span><a href="#72132" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&lt;</a></span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JCode#Label]</span><a href="#72130">branchArray</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21508">length</a></span>) {
              <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JCode#Label]</span><a href="#72130">branchArray</a></span>(<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span>) = <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">(Int)GenJVM.this.global.icodes.BasicBlock</span><a href="#72126" id="21361">branches</a></span>(<span class="typed"><span class="type">Int</span><a href="#72129">i</a></span>))
              <span class="typed"><span class="type">Int</span><a href="#72129">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
            }
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
              <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Emitting SWITHCH:\012tags: &quot;)</span><span class="string">&quot;Emitting SWITHCH:\ntags: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">List[List[Int]]</span><a href="#72125">tags</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012branches: &quot;)</span><span class="string">&quot;\nbranches: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#72126">branches</a></span>);
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Array[Array[Int]],Array[ch.epfl.lamp.fjbg.JCode#Label],ch.epfl.lamp.fjbg.JCode#Label,Double)Unit</span><a id="69651">emitSWITCH</a></span>(<span class="typed"><span class="type">Array[Array[Int]]</span><a href="#72127">tagArray</a></span>, 
                             <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JCode#Label]</span><a href="#72130">branchArray</a></span>,
                             <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#72126">branches</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.BasicBlock</span><a id="21350">last</a></span>),
                             <span class="typed"><span class="type">=&gt; Double</span><a href="#68450">MIN_SWITCH_DENSITY</a></span>);
            <span class="typed"><span class="type">Unit</span><span >(</span></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">JUMP</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72195">whereto</a></span>) =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72195">whereto</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72195">whereto</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>); <span class="comment">// default to short jumps</span>

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CJUMP</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72208">success</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72209">failure</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a id="72210">cond</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72211">kind</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72211">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69643">emitIF_ICMP</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp</span><a href="#68561" id="24239">negate</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>)), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>))
                  <span class="comment">// .. and fall through to success label</span>
                } <span class="keyword">else</span> {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69643">emitIF_ICMP</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>)
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                }

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(_) | <a id="1">ARRAY</a>(_) =&gt;
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69646">emitIF_ACMP</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp</span><a href="#68561" id="24239">negate</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>)), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>))
                  <span class="comment">// .. and fall through to success label</span>
                } <span class="keyword">else</span> {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69646">emitIF_ACMP</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>)
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                }

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
                (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72211">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69471">emitLCMP</a></span>()
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; 
                    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LT</span><a href="../icode/Primitives.scala.html#32445">LT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LE</span><a href="../icode/Primitives.scala.html#32449">LE</a></span>) <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69473">emitFCMPG</a></span>()
                    <span class="keyword">else</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69472">emitFCMPL</a></span>()
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; 
                    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LT</span><a href="../icode/Primitives.scala.html#32445">LT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LE</span><a href="../icode/Primitives.scala.html#32449">LE</a></span>) <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69475">emitDCMPG</a></span>()
                    <span class="keyword">else</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69474">emitDCMPL</a></span>()
                }
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp</span><a href="#68561" id="24239">negate</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>)), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>));
                  <span class="comment">// .. and fall through to success label</span>
                } <span class="keyword">else</span> {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72210">cond</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72208">success</a></span>));
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>)
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72209">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                }
            }
            
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">CZJUMP</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72353">success</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72354">failure</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a id="72355">cond</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72356">kind</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72356">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp</span><a href="#68561" id="24239">negate</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span>)), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>));
                } <span class="keyword">else</span> {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>)
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                }

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(_) | <a id="1">ARRAY</a>(_) =&gt;
                <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72402">Success</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>
                <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a id="72403">Failure</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>
                <span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.BasicBlock)(GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.BasicBlock)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.EQ</span><a href="../icode/Primitives.scala.html#32441">EQ</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72402">Success</a></span>) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69522">emitIFNONNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.NE</span><a href="../icode/Primitives.scala.html#32443">NE</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72403">Failure</a></span>) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69522">emitIFNONNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.EQ</span><a href="../icode/Primitives.scala.html#32441">EQ</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72403">Failure</a></span>) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69519">emitIFNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.NE</span><a href="../icode/Primitives.scala.html#32443">NE</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72402">Success</a></span>) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69519">emitIFNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.EQ</span><a href="../icode/Primitives.scala.html#32441">EQ</a></span>, _) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69519">emitIFNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>));
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.NE</span><a href="../icode/Primitives.scala.html#32443">NE</a></span>, _) =&gt;
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69522">emitIFNONNULL</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>));
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);                    
                }

              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
                (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72356">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69327">emitLCONST_0</a></span>(); <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69471">emitLCMP</a></span>()
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; 
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69329">emitFCONST_0</a></span>(); 
                    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LT</span><a href="../icode/Primitives.scala.html#32445">LT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LE</span><a href="../icode/Primitives.scala.html#32449">LE</a></span>) <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69473">emitFCMPG</a></span>()
                    <span class="keyword">else</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69472">emitFCMPL</a></span>()                    
                  <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; 
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69332">emitDCONST_0</a></span>(); 
                    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LT</span><a href="../icode/Primitives.scala.html#32445">LT</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LE</span><a href="../icode/Primitives.scala.html#32449">LE</a></span>) <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69475">emitDCMPG</a></span>()
                    <span class="keyword">else</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69474">emitDCMPL</a></span>()
                }
                <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>) {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)GenJVM.this.global.icodes.TestOp</span><a href="#68561" id="24239">negate</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span>)), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>))
                } <span class="keyword">else</span> {
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,ch.epfl.lamp.fjbg.JCode#Label)Unit</span><a id="69640">emitIF</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TestOp)Int</span><a href="#68559" id="24239">conds</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TestOp</span><a href="#72355">cond</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72353">success</a></span>))
                  <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71483">nextBlock</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>)
                    <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JCode#Label,Boolean)Unit</span><a id="69649">emitGOTO_maybe_W</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#72354">failure</a></span>), <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>);
                }
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">RETURN</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72507">kind</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69637">emitRETURN</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72507">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">THROW</a>() =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69560">emitATHROW</a></span>()

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DROP</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72510">kind</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72510">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69411">emitPOP2</a></span>()
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69410">emitPOP</a></span>()
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DUP</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72511">kind</a></span>) =&gt;
            <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72511">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69415">emitDUP2</a></span>()
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69412">emitDUP</a></span>()
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">MONITOR_ENTER</a>() =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69563">emitMONITORENTER</a></span>()

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">MONITOR_EXIT</a>() =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69564">emitMONITOREXIT</a></span>()            

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">SCOPE_ENTER</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="72512">lv</a></span>) =&gt; 
            <span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="#71482">varsInBlock</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Unit</span><a id="25511">+=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72512">lv</a></span>
            <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72512">lv</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a href="../icode/Members.scala.html#33257">start</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()
            
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">SCOPE_EXIT</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="72514">lv</a></span>) =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="#71482">varsInBlock</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Boolean</span><a id="25542">contains</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>) {
              <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])Unit</span><a href="../icode/Members.scala.html#33263">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../icode/Members.scala.html#33256">start</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#72515" id="21335">::</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>
              <span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="#71482">varsInBlock</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Unit</span><a id="25520">-=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>
            } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="../icode/BasicBlocks.scala.html#33176">varsInScope</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Boolean</span><a id="25542">contains</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>) {
              <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])Unit</span><a href="../icode/Members.scala.html#33263">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>(), <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#72521" id="21335">::</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>
              <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="../icode/BasicBlocks.scala.html#33176">varsInScope</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Unit</span><a id="25520">-=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72514">lv</a></span>
            } <span class="keyword">else</span>
              <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#71619">assert</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;Illegal local var nesting: &quot;)</span><span class="string">&quot;Illegal local var nesting: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">LOAD_EXCEPTION</a>() =&gt;
            <span class="typed"><span class="type">Unit</span><span >(</span></span>)
        }

        <span class="typed"><span class="type">Int</span><a href="#71607">crtPC</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()
        
<span class="comment">//        assert(instr.pos.source.isEmpty || instr.pos.source.get == (clasz.cunit.source), &quot;sources don't match&quot;)</span>
<span class="comment">//        val crtLine = instr.pos.line.get(lastLineNr);</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71620">crtLine</a></span> = <span class="keyword">try</span> {
          (<span class="typed"><span class="type">GenJVM.this.global.icodes.Instruction</span><a href="#71617">instr</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../icode/Opcodes.scala.html#33393">pos</a></span>).<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../../util/Position.scala.html#25343">line</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="25408">get</a></span>
        } <span class="keyword">catch</span> {
          <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> _: <span class="typed"><span class="type">NoSuchElementException</span><a id="5698">NoSuchElementException</a></span> =&gt;
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Warning: wrong position in: &quot;)</span><span class="string">&quot;Warning: wrong position in: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>)
            <span class="typed"><span class="type">Int</span><a href="#71606">lastLineNr</a></span>
        }
          
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.Instruction</span><a href="../icode/BasicBlocks.scala.html#33214">lastInstruction</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Instruction</span><a href="#71617">instr</a></span>)
          <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><a href="#68557">endPC</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>) = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>();

        <span class="comment">//System.err.println(&quot;CRTLINE: &quot; + instr.pos + &quot; &quot; + </span>
        <span class="comment">//           /* (if (instr.pos &lt; clasz.cunit.source.content.length) clasz.cunit.source.content(instr.pos) else '*') + */ &quot; &quot; + crtLine);</span>

        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#71607">crtPC</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int</span><a href="#71605">lastMappedPC</a></span>) {
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int,Int,Int)Unit</span><a id="69596">completeLineNumber</a></span>(<span class="typed"><span class="type">Int</span><a href="#71605">lastMappedPC</a></span>, <span class="typed"><span class="type">Int</span><a href="#71607">crtPC</a></span>, <span class="typed"><span class="type">Int</span><a href="#71620">crtLine</a></span>)
          <span class="typed"><span class="type">Int</span><a href="#71605">lastMappedPC</a></span> = <span class="typed"><span class="type">Int</span><a href="#71607">crtPC</a></span>
          <span class="typed"><span class="type">Int</span><a href="#71606">lastLineNr</a></span>   = <span class="typed"><span class="type">Int</span><a href="#71620">crtLine</a></span>
        }
      }
      
      <span class="comment">// local vars that survived this basic block </span>
      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><span id="21792"><a id="72562">lv</a></span></span> &lt;- <span class="typed"><span class="type">scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="#71482">varsInBlock</a></span>) {
        <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72562">lv</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])Unit</span><a href="../icode/Members.scala.html#33263">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72562">lv</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../icode/Members.scala.html#33256">start</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#72563" id="21335">::</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72562">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>
      }
      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><span id="21792"><a id="72569">lv</a></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.Set[GenJVM.this.global.icodes.Local]</span><a href="../icode/BasicBlocks.scala.html#33176">varsInScope</a></span>) {
        <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72569">lv</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])Unit</span><a href="../icode/Members.scala.html#33263">ranges</a></span> = <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">(GenJVM.this.global.icodes.BasicBlock)ch.epfl.lamp.fjbg.JCode#Label</span><a href="#71481" id="24239">labels</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.BasicBlock</span><a href="#71521">b</a></span>).<span class="typed"><span class="type">()Int</span><a id="71508">getAnchor</a></span>(), <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#72570" id="21335">::</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72569">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>
      }
    }


    <span class="comment">/**
     *  @param primitive ...
     *  @param pos       ...
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Primitive,scala.tools.nsc.util.Position)Unit</span><a id="71487">genPrimitive</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a id="71708">primitive</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a href="../icode/Primitives.scala.html#32400">Primitive</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="71709">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../../util/Position.scala.html#8480">Position</a></span>) {
      <span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a href="#71708">primitive</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Negation</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72578">kind</a></span>) =&gt;
          <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72578">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt; 
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69439">emitINEG</a></span>()

            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69440">emitLNEG</a></span>()
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69441">emitFNEG</a></span>()
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69442">emitDNEG</a></span>()
            <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Impossible to negate a &quot;)</span><span class="string">&quot;Impossible to negate a &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72578">kind</a></span>)
          }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Arithmetic</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ArithmeticOp</span><a id="72579">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72580">kind</a></span>) =&gt;
          <span class="typed"><span class="type">GenJVM.this.global.icodes.ArithmeticOp</span><a href="#72579">op</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.ADD</span><a href="../icode/Primitives.scala.html#32454">ADD</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType)Unit</span><a id="69638">emitADD</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>))
            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.SUB</span><a href="../icode/Primitives.scala.html#32456">SUB</a></span> =&gt;
              (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69423">emitISUB</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69424">emitLSUB</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69425">emitFSUB</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69426">emitDSUB</a></span>()
              }

            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.MUL</span><a href="../icode/Primitives.scala.html#32458">MUL</a></span> =&gt;
              (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69427">emitIMUL</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69428">emitLMUL</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69429">emitFMUL</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69430">emitDMUL</a></span>()
              }

            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DIV</span><a href="../icode/Primitives.scala.html#32460">DIV</a></span> =&gt;
              (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69431">emitIDIV</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69432">emitLDIV</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69433">emitFDIV</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69434">emitDDIV</a></span>()
              }

            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.REM</span><a href="../icode/Primitives.scala.html#32462">REM</a></span> =&gt;
              (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69435">emitIREM</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69436">emitLREM</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69437">emitFREM</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69438">emitDREM</a></span>()
              }

            <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.NOT</span><a href="../icode/Primitives.scala.html#32464">NOT</a></span> =&gt;
              <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span> =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a id="69620">emitPUSH</a></span>(-<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>)
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69453">emitIXOR</a></span>()
                <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>   =&gt;
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a id="69622">emitPUSH</a></span>(-<span class="typed"><span class="type">Long(-1L)</span><span class="long">1l</span></span>)
                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69454">emitLXOR</a></span>()
                <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt;
                  <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Impossible to negate an &quot;)</span><span class="string">&quot;Impossible to negate an &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72580">kind</a></span>)
              }

            <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt;
              <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unknown arithmetic primitive &quot;)</span><span class="string">&quot;Unknown arithmetic primitive &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a href="#71708">primitive</a></span>)
          }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Logical</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.LogicalOp</span><a id="72589">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72590">kind</a></span>) =&gt; <span class="typed"><span class="type">(GenJVM.this.global.icodes.LogicalOp,GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.LogicalOp, GenJVM.this.global.icodes.TypeKind)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.LogicalOp</span><a href="#72589">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.AND</span><a href="../icode/Primitives.scala.html#32474">AND</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69450">emitLAND</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.AND</span><a href="../icode/Primitives.scala.html#32474">AND</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69449">emitIAND</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.AND</span><a href="../icode/Primitives.scala.html#32474">AND</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69449">emitIAND</a></span>()
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span>));

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.OR</span><a href="../icode/Primitives.scala.html#32476">OR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69452">emitLOR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.OR</span><a href="../icode/Primitives.scala.html#32476">OR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69451">emitIOR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.OR</span><a href="../icode/Primitives.scala.html#32476">OR</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69451">emitIOR</a></span>()
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span>));

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.XOR</span><a href="../icode/Primitives.scala.html#32478">XOR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69454">emitLXOR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.XOR</span><a href="../icode/Primitives.scala.html#32478">XOR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69453">emitIXOR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.XOR</span><a href="../icode/Primitives.scala.html#32478">XOR</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69453">emitIXOR</a></span>()
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span>)
              <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72590">kind</a></span>));
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Shift</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ShiftOp</span><a id="72605">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72606">kind</a></span>) =&gt; <span class="typed"><span class="type">(GenJVM.this.global.icodes.ShiftOp,GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ShiftOp, GenJVM.this.global.icodes.TypeKind)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.ShiftOp</span><a href="#72605">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72606">kind</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSL</span><a href="../icode/Primitives.scala.html#32467">LSL</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69444">emitLSHL</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSL</span><a href="../icode/Primitives.scala.html#32467">LSL</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69443">emitISHL</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSL</span><a href="../icode/Primitives.scala.html#32467">LSL</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69443">emitISHL</a></span>()
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72606">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.ASR</span><a href="../icode/Primitives.scala.html#32469">ASR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69446">emitLSHR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.ASR</span><a href="../icode/Primitives.scala.html#32469">ASR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69445">emitISHR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.ASR</span><a href="../icode/Primitives.scala.html#32469">ASR</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69445">emitISHR</a></span>()
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72606">kind</a></span>))

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSR</span><a href="../icode/Primitives.scala.html#32471">LSR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69448">emitLUSHR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSR</span><a href="../icode/Primitives.scala.html#32471">LSR</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69447">emitIUSHR</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.LSR</span><a href="../icode/Primitives.scala.html#32471">LSR</a></span>, _) =&gt;
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69447">emitIUSHR</a></span>()
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72606">kind</a></span>))
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Comparison</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.ComparisonOp</span><a id="72618">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72619">kind</a></span>) =&gt; (<span class="typed"><span class="type">(GenJVM.this.global.icodes.ComparisonOp,GenJVM.this.global.icodes.TypeKind)(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">GenJVM.this.global.icodes.ComparisonOp</span><a href="#72618">op</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72619">kind</a></span>): @<span class="typed"><span class="type">(GenJVM.this.global.icodes.ComparisonOp, GenJVM.this.global.icodes.TypeKind) @unchecked</span><a id="1378">unchecked</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.CMP</span><a href="../icode/Primitives.scala.html#32436">CMP</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>)    =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69471">emitLCMP</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.CMPL</span><a href="../icode/Primitives.scala.html#32434">CMPL</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>)  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69472">emitFCMPL</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.CMPG</span><a href="../icode/Primitives.scala.html#32438">CMPG</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>)  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69473">emitFCMPG</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.CMPL</span><a href="../icode/Primitives.scala.html#32434">CMPL</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span>) =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69474">emitDCMPL</a></span>()
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object GenJVM.this.global.icodes.CMPG</span><a href="../icode/Primitives.scala.html#32438">CMPG</a></span>, <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span>) =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69474">emitDCMPL</a></span>()
        }

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Conversion</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72625">src</a></span>, <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72626">dst</a></span>) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Converting from: &quot;)</span><span class="string">&quot;Converting from: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72625">src</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; to: &quot;)</span><span class="string">&quot; to: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72626">dst</a></span>);
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72626">dst</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span>) {
            <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Illegal conversion at: &quot;)</span><span class="string">&quot;Illegal conversion at: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IClass</span><a href="#68494">clasz</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
                            <span class="typed"><span class="type">java.lang.String(&quot; at: &quot;)</span><span class="string">&quot; at: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#71709">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a href="../../util/Position.scala.html#25342">source</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a id="25408">get</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#71709">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a href="../../util/Position.scala.html#25343">line</a></span>.<span class="typed"><span class="type">(=&gt; Int)Int</span><a id="25411">getOrElse</a></span>(-<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>));
          } <span class="keyword">else</span>
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType,ch.epfl.lamp.fjbg.JType)Unit</span><a id="69639">emitT2T</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72625">src</a></span>), <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72626">dst</a></span>));

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ArrayLength</a>(_) =&gt;
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69559">emitARRAYLENGTH</a></span>()

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.StartConcat</span><a href="../icode/Primitives.scala.html#32428">StartConcat</a></span> =&gt;
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="69555">emitNEW</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68452">StringBuilderClass</a></span>)
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">()Unit</span><a id="69412">emitDUP</a></span>()
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69552">emitINVOKESPECIAL</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68452">StringBuilderClass</a></span>,
                                  JMethod.<span class="typed"><span class="type">java.lang.String(&quot;&lt;init&gt;&quot;)</span><span >INSTANCE_CONSTRUCTOR_NAME</span></span>,
                                  <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JMethodType</span><a id="68210">JMethodType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68680">ARGLESS_VOID_FUNCTION</a></span>)

        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">StringConcat</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="72639">el</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="72640">jtype</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72639">el</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(_) | <a id="1">ARRAY</a>(_)=&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JObjectType</span><a id="68255">JObjectType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68619">JAVA_LANG_OBJECT</a></span>
            <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#72639">el</a></span>)
          }
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69551">emitINVOKEVIRTUAL</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68452">StringBuilderClass</a></span>,
                                  <span class="typed"><span class="type">java.lang.String(&quot;append&quot;)</span><span class="string">&quot;append&quot;</span></span>,
                                  <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JObjectType</span><a href="#68456">StringBuilderType</a></span>,
                                  <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JType*)Array[ch.epfl.lamp.fjbg.JType]</span><span id="21530"><a id="1073">Array</a></span></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a href="#72640">jtype</a></span>)))
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.EndConcat</span><a href="../icode/Primitives.scala.html#32430">EndConcat</a></span> =&gt;
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JExtendedCode</span><a href="#71479">jcode</a></span>.<span class="typed"><span class="type">(java.lang.String,java.lang.String,ch.epfl.lamp.fjbg.JMethodType)Unit</span><a id="69551">emitINVOKEVIRTUAL</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#68452">StringBuilderClass</a></span>,
                                  <span class="typed"><span class="type">java.lang.String(&quot;toString&quot;)</span><span class="string">&quot;toString&quot;</span></span>,
                                  <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethodType</span><a href="#68458">toStringType</a></span>)

        <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">(String)Nothing</span><a href="../../Global.scala.html#21214">abort</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Unimplemented primitive &quot;)</span><span class="string">&quot;Unimplemented primitive &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Primitive</span><a href="#71708">primitive</a></span>)
      }
    }

      <span class="comment">// genCode starts here</span>
      <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.BasicBlock])Unit</span><a href="#71484">genBlocks</a></span>(<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.BasicBlock]</span><a href="#68549">linearization</a></span>)

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">BytecodeGenerator.this.type</span><a href="#68418" class="keyword">this</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.ExceptionHandler]</span><a href="../icode/Members.scala.html#32873">exh</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>)
        <span class="typed"><span class="type">=&gt; Unit</span><a href="#71485">genExceptionHandlers</a></span>;
    }


    <span class="comment">/** Emit a Local variable table for debugging purposes.
     *  Synthetic locals are skipped. All variables are method-scoped.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod,ch.epfl.lamp.fjbg.JCode)Unit</span><a id="68556">genLocalVariableTable</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a id="70630">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span>, <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JCode</span><a id="70631">jcode</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JCode</span><a id="68317">JCode</a></span>) {
        <span class="keyword">var</span> <span class="typed"><span class="type">List[GenJVM.this.global.icodes.Local]</span><a id="72828">vars</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#70630">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32885">locals</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Boolean)List[GenJVM.this.global.icodes.Local]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="72838">l</a></span> =&gt; <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72838">l</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(2097152L)</span><span >SYNTHETIC</span></span>))

        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[GenJVM.this.global.icodes.Local]</span><a href="#72828">vars</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span>

        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a id="72829">pool</a></span> = <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JConstantPool</span><a id="68730">getConstantPool</a></span>()
        <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="72830">pc</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JCode</span><a href="#70631">jcode</a></span>.<span class="typed"><span class="type">()Int</span><a id="69310">getPC</a></span>()
        <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="72831">anonCounter</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
        <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="72832">entries</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
        <span class="typed"><span class="type">List[GenJVM.this.global.icodes.Local]</span><a href="#72828">vars</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="72845">lv</a></span> =&gt;
          <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72845">lv</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])Unit</span><a href="../icode/Members.scala.html#33263">ranges</a></span> = <span class="typed"><span class="type">(List[(Int, Int)])List[(Int, Int)]</span><a href="#68579">mergeEntries</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72845">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a id="21385">reverse</a></span>);
          <span class="typed"><span class="type">Int</span><a href="#72832">entries</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72845">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>
        }
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="69264">isStatic</a></span>()) <span class="typed"><span class="type">Int</span><a href="#72832">entries</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>

        <span class="keyword">val</span> <span class="typed"><span class="type">java.nio.ByteBuffer</span><a id="72833">lvTab</a></span> = <span class="typed"><span class="type">object java.nio.ByteBuffer</span><a id="20896">ByteBuffer</a></span>.<span class="typed"><span class="type">(Int)java.nio.ByteBuffer</span><a id="70027">allocate</a></span>(<span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3149">*</a></span> <span class="typed"><span class="type">Int</span><a href="#72832">entries</a></span>)
        <span class="keyword">def</span> <span class="typed"><span class="type">(String,String,Short,Short,Short)Unit</span><a id="72834">emitEntry</a></span>(<span class="typed"><span class="type">String</span><a id="72912">name</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">String</span><a id="72913">signature</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>, <span class="typed"><span class="type">Short</span><a id="72914">idx</a></span>: <span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>, <span class="typed"><span class="type">Short</span><a id="72915">start</a></span>: <span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>, <span class="typed"><span class="type">Short</span><a id="72916">end</a></span>: <span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>) {
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Short</span><a href="#72915">start</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Short</span><a href="#72916">end</a></span>)
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#72829">pool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">String</span><a href="#72912">name</a></span>).<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>])
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JConstantPool</span><a href="#72829">pool</a></span>.<span class="typed"><span class="type">(java.lang.String)Int</span><a id="70011">addUtf8</a></span>(<span class="typed"><span class="type">String</span><a href="#72913">signature</a></span>).<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>])
          <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Short</span><a href="#72914">idx</a></span>)
        }

        <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">(Short)java.nio.ByteBuffer</span><a id="70061">putShort</a></span>(<span class="typed"><span class="type">Int</span><a href="#72832">entries</a></span>.<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>])

        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="69264">isStatic</a></span>()) {
          <span class="typed"><span class="type">(String,String,Short,Short,Short)Unit</span><a href="#72834">emitEntry</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;this&quot;)</span><span class="string">&quot;this&quot;</span></span>, <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>.<span class="typed"><span class="type">()ch.epfl.lamp.fjbg.JType</span><a id="68725">getType</a></span>().<span class="typed"><span class="type">()java.lang.String</span><a id="68664">getSignature</a></span>(), <span class="typed"><span class="type">Short(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>.<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>], <span class="typed"><span class="type">Int</span><a href="#72830">pc</a></span>.<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>])
        }

        <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><span id="21366"><a id="72926">lv</a></span></span> &lt;- <span class="typed"><span class="type">List[GenJVM.this.global.icodes.Local]</span><a href="#72828">vars</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="72927">name</a></span> = <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72926">lv</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
              <span class="typed"><span class="type">Int</span><a href="#72831">anonCounter</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
              <span class="typed"><span class="type">java.lang.String(&quot;&lt;anon&quot;)</span><span class="string">&quot;&lt;anon&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">Int</span><a href="#72831">anonCounter</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;&gt;&quot;)</span><span class="string">&quot;&gt;&quot;</span></span>
            } <span class="keyword">else</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72926">lv</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#33246">sym</a></span>)

            <span class="keyword">val</span> <span class="typed"><span class="type">Short</span><a id="72928">index</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a href="#68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72926">lv</a></span>).<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>]
            <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="72929">tpe</a></span>   = <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72926">lv</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>).<span class="typed"><span class="type">()java.lang.String</span><a id="68664">getSignature</a></span>()
            <span class="keyword">for</span> (<span class="typed"><span class="type">(((Int, Int)) =&gt; Unit)Unit</span><span id="21366"><a href="#72956" id="21367">(</a></span></span><span class="typed"><span class="type">Int</span><span id="72957"><a id="72962">start</a></span></span>, <span class="typed"><span class="type">Int</span><span id="72958"><a id="72963">end</a></span></span>) &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#72926">lv</a></span>.<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a href="../icode/Members.scala.html#33262">ranges</a></span>) {
              <span class="typed"><span class="type">(String,String,Short,Short,Short)Unit</span><a href="#72834">emitEntry</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#72927">name</a></span>, <span class="typed"><span class="type">java.lang.String</span><a href="#72929">tpe</a></span>, <span class="typed"><span class="type">Short</span><a href="#72928">index</a></span>, <span class="typed"><span class="type">Int</span><a href="#72962">start</a></span>.<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>], (<span class="typed"><span class="type">Int</span><a href="#72963">end</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int</span><a href="#72962">start</a></span>).<span class="typed"><span class="type">Short</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">Short</span><a id="2384">Short</a></span>])
            }
        }
        <span class="keyword">val</span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="72835">attr</a></span> =
            <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.FJBGContext</span><a href="#68509">fjbgContext</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,Any,java.lang.String,Array[Byte])ch.epfl.lamp.fjbg.JOtherAttribute</span><a id="68799">JOtherAttribute</a></span>(<span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JClass</span><a href="#68500">jclass</a></span>,
                                        <span class="typed"><span class="type">=&gt; ch.epfl.lamp.fjbg.JMethod</span><a href="#68503">jmethod</a></span>,
                                        <span class="typed"><span class="type">java.lang.String(&quot;LocalVariableTable&quot;)</span><span class="string">&quot;LocalVariableTable&quot;</span></span>,
                                        <span class="typed"><span class="type">java.nio.ByteBuffer</span><a href="#72833">lvTab</a></span>.<span class="typed"><span class="type">()Array[Byte]</span><a id="70043">array</a></span>())
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JCode</span><a href="#70631">jcode</a></span>.<span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JAttribute)Unit</span><a id="69315">addAttribute</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JOtherAttribute</span><a href="#72835">attr</a></span>)
    }


    <span class="comment">/** For each basic block, the first PC address following it. */</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><span id="68558"><a id="68557">endPC</a></span></span>: <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><a id="20081">HashMap</a></span>[BasicBlock, Int] = <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.BasicBlock,Int]</span><a id="20081">HashMap</a></span>()
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><span id="68560"><a id="68559">conds</a></span></span>: <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a id="20081">HashMap</a></span>[TestOp, Int] = <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a id="20081">HashMap</a></span>()

    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.EQ)ArrowAssoc[object GenJVM.this.global.icodes.EQ]</span><span id="6054"><a href="../icode/Primitives.scala.html#32441" id="821">EQ</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.EQ, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(0)</span><span >COND_EQ</span></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.NE)ArrowAssoc[object GenJVM.this.global.icodes.NE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32443" id="821">NE</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.NE, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(1)</span><span >COND_NE</span></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.LT)ArrowAssoc[object GenJVM.this.global.icodes.LT]</span><span id="6054"><a href="../icode/Primitives.scala.html#32445" id="821">LT</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.LT, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(2)</span><span >COND_LT</span></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.GT)ArrowAssoc[object GenJVM.this.global.icodes.GT]</span><span id="6054"><a href="../icode/Primitives.scala.html#32451" id="821">GT</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.GT, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(4)</span><span >COND_GT</span></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.LE)ArrowAssoc[object GenJVM.this.global.icodes.LE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32449" id="821">LE</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.LE, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(5)</span><span >COND_LE</span></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,Int]</span><a href="#68559">conds</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, Int))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.GE)ArrowAssoc[object GenJVM.this.global.icodes.GE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32447" id="821">GE</a></span></span> <span class="typed"><span class="type">(Int)(object GenJVM.this.global.icodes.GE, Int)</span><a id="6050">-&gt;</a></span> JExtendedCode.<span class="typed"><span class="type">Int(3)</span><span >COND_GE</span></span>)

    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><span id="68562"><a id="68561">negate</a></span></span>: <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a id="20081">HashMap</a></span>[TestOp, TestOp] = <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a id="20081">HashMap</a></span>()

    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.EQ)ArrowAssoc[object GenJVM.this.global.icodes.EQ]</span><span id="6054"><a href="../icode/Primitives.scala.html#32441" id="821">EQ</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.NE)(object GenJVM.this.global.icodes.EQ, object GenJVM.this.global.icodes.NE)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.NE</span><a href="../icode/Primitives.scala.html#32443">NE</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.NE)ArrowAssoc[object GenJVM.this.global.icodes.NE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32443" id="821">NE</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.EQ)(object GenJVM.this.global.icodes.NE, object GenJVM.this.global.icodes.EQ)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.EQ</span><a href="../icode/Primitives.scala.html#32441">EQ</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.LT)ArrowAssoc[object GenJVM.this.global.icodes.LT]</span><span id="6054"><a href="../icode/Primitives.scala.html#32445" id="821">LT</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.GE)(object GenJVM.this.global.icodes.LT, object GenJVM.this.global.icodes.GE)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.GE</span><a href="../icode/Primitives.scala.html#32447">GE</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.GT)ArrowAssoc[object GenJVM.this.global.icodes.GT]</span><span id="6054"><a href="../icode/Primitives.scala.html#32451" id="821">GT</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.LE)(object GenJVM.this.global.icodes.GT, object GenJVM.this.global.icodes.LE)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LE</span><a href="../icode/Primitives.scala.html#32449">LE</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.LE)ArrowAssoc[object GenJVM.this.global.icodes.LE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32449" id="821">LE</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.GT)(object GenJVM.this.global.icodes.LE, object GenJVM.this.global.icodes.GT)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.GT</span><a href="../icode/Primitives.scala.html#32451">GT</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TestOp,GenJVM.this.global.icodes.TestOp]</span><a href="#68561">negate</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TestOp, GenJVM.this.global.icodes.TestOp))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.GE)ArrowAssoc[object GenJVM.this.global.icodes.GE]</span><span id="6054"><a href="../icode/Primitives.scala.html#32447" id="821">GE</a></span></span> <span class="typed"><span class="type">(object GenJVM.this.global.icodes.LT)(object GenJVM.this.global.icodes.GE, object GenJVM.this.global.icodes.LT)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LT</span><a href="../icode/Primitives.scala.html#32445">LT</a></span>)

    <span class="comment">/** Map from type kinds to the Java reference types. It is used for
     *  loading class constants. @see Predef.classOf. */</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><span id="68564"><a id="68563">classLiteral</a></span></span>: <span class="typed"><span class="type">scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a id="19880">Map</a></span>[TypeKind, JObjectType] = <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a id="20081">HashMap</a></span>()

    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.UNIT)ArrowAssoc[object GenJVM.this.global.icodes.UNIT]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32355" id="821">UNIT</a></span></span>   <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.UNIT, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Void&quot;)</span><span class="string">&quot;java.lang.Void&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.BOOL)ArrowAssoc[object GenJVM.this.global.icodes.BOOL]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32357" id="821">BOOL</a></span></span>   <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.BOOL, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Boolean&quot;)</span><span class="string">&quot;java.lang.Boolean&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.BYTE)ArrowAssoc[object GenJVM.this.global.icodes.BYTE]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32359" id="821">BYTE</a></span></span>   <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.BYTE, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Byte&quot;)</span><span class="string">&quot;java.lang.Byte&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.SHORT)ArrowAssoc[object GenJVM.this.global.icodes.SHORT]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32361" id="821">SHORT</a></span></span>  <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.SHORT, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Short&quot;)</span><span class="string">&quot;java.lang.Short&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.CHAR)ArrowAssoc[object GenJVM.this.global.icodes.CHAR]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32363" id="821">CHAR</a></span></span>   <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.CHAR, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Character&quot;)</span><span class="string">&quot;java.lang.Character&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.INT)ArrowAssoc[object GenJVM.this.global.icodes.INT]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32365" id="821">INT</a></span></span>    <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.INT, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Integer&quot;)</span><span class="string">&quot;java.lang.Integer&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.LONG)ArrowAssoc[object GenJVM.this.global.icodes.LONG]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32367" id="821">LONG</a></span></span>   <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.LONG, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Long&quot;)</span><span class="string">&quot;java.lang.Long&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.FLOAT)ArrowAssoc[object GenJVM.this.global.icodes.FLOAT]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32369" id="821">FLOAT</a></span></span>  <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.FLOAT, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Float&quot;)</span><span class="string">&quot;java.lang.Float&quot;</span></span>))
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[GenJVM.this.global.icodes.TypeKind,ch.epfl.lamp.fjbg.JObjectType]</span><a href="#68563">classLiteral</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind, ch.epfl.lamp.fjbg.JObjectType))Unit</span><a id="24189">+=</a></span> (<span class="typed"><span class="type">(object GenJVM.this.global.icodes.DOUBLE)ArrowAssoc[object GenJVM.this.global.icodes.DOUBLE]</span><span id="6054"><a href="../icode/TypeKinds.scala.html#32371" id="821">DOUBLE</a></span></span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JObjectType)(object GenJVM.this.global.icodes.DOUBLE, ch.epfl.lamp.fjbg.JObjectType)</span><a id="6050">-&gt;</a></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;java.lang.Double&quot;)</span><span class="string">&quot;java.lang.Double&quot;</span></span>))


    <span class="comment">////////////////////// local vars ///////////////////////</span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a id="68565">sizeOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="73186">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)Int</span><a href="#68566">sizeOf</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32385">toTypeKind</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#73186">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>))


    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)Int</span><a id="68566">sizeOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="73188">k</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32353">TypeKind</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#73188">k</a></span> <span class="typed"><span class="type">Int</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Int(2)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span> | <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span> =&gt; <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>
      <span class="typed"><span class="type">Int(1)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod,GenJVM.this.global.Symbol)Int</span><a id="68567">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a id="70617">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span>, <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="70618">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73191">Some</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><span id="73189"><a id="73191">local</a></span></span>) = <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#70617">m</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Symbol)Option[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32897">lookupLocal</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#70618">sym</a></span>)
      <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a href="#68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73189">local</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.Local)Int</span><a id="68568">indexOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a id="70616">local</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="../icode/Members.scala.html#32333">Local</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
      <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#68580">assert</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70616">local</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../icode/Members.scala.html#33253">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3146">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>,
             <span class="typed"><span class="type">java.lang.String(&quot;Invalid index for: &quot;)</span><span class="string">&quot;Invalid index for: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70616">local</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;{&quot;)</span><span class="string">&quot;{&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70616">local</a></span>.<span class="typed"><span class="type">()Int</span><a id="5782">hashCode</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;}: &quot;)</span><span class="string">&quot;}: &quot;</span></span>)
      <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#70616">local</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../icode/Members.scala.html#33253">index</a></span>
    }

    <span class="comment">/**
     * Compute the indexes of each local variable of the given
     * method. Assumes parameters come first in the list of locals.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.IMethod)Unit</span><a id="68569">computeLocalVarsIndex</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a id="70549">m</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="../icode/Members.scala.html#32332">IMethod</a></span>) {
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="73201">idx</a></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#70549">m</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.global.Symbol</span><a href="../icode/Members.scala.html#32864">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25195">isStaticMember</a></span>)
        <span class="typed"><span class="type">Int</span><a href="#73201">idx</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>;

      <span class="keyword">for</span> (<span class="typed"><span class="type">((GenJVM.this.global.icodes.Local) =&gt; Unit)Unit</span><span id="21366"><a id="73204">l</a></span></span> &lt;- <span class="typed"><span class="type">GenJVM.this.global.icodes.IMethod</span><a href="#70549">m</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.icodes.Local]</span><a href="../icode/Members.scala.html#32885">locals</a></span>) {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span>)
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Index value for &quot;)</span><span class="string">&quot;Index value for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73204">l</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;{&quot;)</span><span class="string">&quot;{&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73204">l</a></span>.<span class="typed"><span class="type">()Int</span><a id="5782">hashCode</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;}: &quot;)</span><span class="string">&quot;}: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">Int</span><a href="#73201">idx</a></span>)
        <span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73204">l</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a href="../icode/Members.scala.html#33254">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#73201">idx</a></span>
        <span class="typed"><span class="type">Int</span><a href="#73201">idx</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)Int</span><a href="#68566">sizeOf</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.Local</span><a href="#73204">l</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.TypeKind</span><a href="../icode/Members.scala.html#33248">kind</a></span>)
      }
    }

    <span class="comment">////////////////////// Utilities ////////////////////////</span>

    <span class="comment">/**
     * &lt;p&gt;
     *   Return the a name of this symbol that can be used on the Java
     *   platform. It removes spaces from names.
     * &lt;/p&gt;
     * &lt;p&gt;
     *   Special handling: scala.Nothing and &lt;code&gt;scala.Null&lt;/code&gt; are
     *   &lt;em&gt;erased&lt;/em&gt; to &lt;code&gt;scala.runtime.Nothing$&lt;/code&gt; and
     *   &lt;/code&gt;scala.runtime.Null$&lt;/code&gt;. This is needed because they are
     *   not real classes, and they mean 'abrupt termination upon evaluation
     *   of that expression' or &lt;code&gt;null&lt;/code&gt; respectively. This handling is 
     *   done already in &lt;a href=&quot;../icode/GenIcode.html&quot; target=&quot;contentFrame&quot;&gt;
     *   &lt;code&gt;GenICode&lt;/code&gt;&lt;/a&gt;, but here we need to remove references
     *   from method signatures to these types, because such classes can 
     *   not exist in the classpath: the type checker will be very confused.
     * &lt;/p&gt;
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a id="68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69003">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="73230">suffix</a></span> = <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
                        <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25189">isImplClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
                        <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>)) <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>;

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25785">NothingClass</a></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25788">RuntimeNothingClass</a></span>)
      <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25782">NullClass</a></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25790">RuntimeNullClass</a></span>)

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25070">rawowner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25167">isPackageClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25166">isModuleClass</a></span>) {
        <span class="typed"><span class="type">(scala.collection.immutable.Set[GenJVM.this.global.Symbol])Unit</span><a href="#68507">innerClasses</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a href="#68506">innerClasses</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)scala.collection.immutable.Set[GenJVM.this.global.Symbol]</span><a id="31138">+</a></span> <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>;
      }

      (<span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25149">isModule</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25142">isMethod</a></span>))
        <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">(Char)String</span><a href="../../symtab/Symbols.scala.html#25312">fullNameString</a></span>(<span class="typed"><span class="type">Char('/')</span><span class="char">'/'</span></span>)
      <span class="keyword">else</span>
        <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69003">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Name</span><a href="../../symtab/Symbols.scala.html#25307">simpleName</a></span>.<span class="typed"><span class="type">()String</span><a href="../../symtab/Names.scala.html#23898">toString</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="5870">trim</a></span>()) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="#73230">suffix</a></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(List[GenJVM.this.global.Symbol])Array[String]</span><a id="68571">javaNames</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a id="69247">syms</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a id="526">List</a></span>[Symbol]): <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String] = {
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[String]</span><a id="73236">res</a></span> = <span class="typed"><span class="type">Array[String]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[String]</span><a id="1072">Array</a></span>[String](<span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a href="#69247">syms</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="73237">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="typed"><span class="type">List[GenJVM.this.global.Symbol]</span><a href="#69247">syms</a></span> <span class="typed"><span class="type">((GenJVM.this.global.Symbol) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="73240">s</a></span> =&gt; { <span class="typed"><span class="type">Array[String]</span><a href="#73236">res</a></span>(<span class="typed"><span class="type">Int</span><a href="#73237">i</a></span>) = <span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#73240">s</a></span>); <span class="typed"><span class="type">Int</span><a href="#73237">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> })
      <span class="typed"><span class="type">Array[String]</span><a href="#73236">res</a></span>
    }

    <span class="comment">/**
     * Return the Java modifiers for the given symbol.
     * Java modifiers for classes:
     *  - public, abstract, final, strictfp (not used)
     * for interfaces:
     *  - the same as for classes, without 'final'
     * for fields:
     *  - public, private (*)
     *  - static, final 
     * for methods:
     *  - the same as for fields, plus:
     *  - abstract, synchronized (not used), strictfp (not used), native (not used)
     * 
     *  (*) protected cannot be used, since inner classes 'see' protected members,
     *      and they would fail verification after lifted.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Int</span><a id="68572">javaFlags</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69117">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = {
      <span class="keyword">import</span> JAccessFlags._

      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="73264">jf</a></span>: <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="73265">f</a></span> = <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../../symtab/Symbols.scala.html#25218">flags</a></span>
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(2097152L)</span><span >SYNTHETIC</span></span>) <span class="typed"><span class="type">Int(4096)</span><span >ACC_SYNTHETIC</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
<span class="comment">/*      jf = jf | (if (sym hasFlag Flags.PRIVATE) ACC_PRIVATE else 
                  if (sym hasFlag Flags.PROTECTED) ACC_PROTECTED else ACC_PUBLIC)
*/</span>
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(4L)</span><span >PRIVATE</span></span>) <span class="typed"><span class="type">Int(2)</span><span >ACC_PRIVATE</span></span> <span class="keyword">else</span>  <span class="typed"><span class="type">Int(1)</span><span >ACC_PUBLIC</span></span>)
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(8L)</span><span >ABSTRACT</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
                     (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(16L)</span><span >DEFERRED</span></span>)) <span class="typed"><span class="type">Int(1024)</span><span >ACC_ABSTRACT</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>) <span class="typed"><span class="type">Int(512)</span><span >ACC_INTERFACE</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>)
                       <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25257">enclClass</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>) 
                       <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25146">isClassConstructor</a></span>) <span class="typed"><span class="type">Int(16)</span><span >ACC_FINAL</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25195">isStaticMember</a></span>) <span class="typed"><span class="type">Int(8)</span><span >ACC_STATIC</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../../Settings.scala.html#29980">target</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;jvm-1.5&quot;)</span><span class="string">&quot;jvm-1.5&quot;</span></span>)
        <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> (<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span> Flags.<span class="typed"><span class="type">Long(67108864L)</span><span >BRIDGE</span></span>) ACC_BRIDGE <span class="typed"><span class="type">Int(4160)</span><span >|</span></span> ACC_SYNTHETIC <span class="keyword">else</span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>))
        <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> = <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|</a></span> <span class="typed"><span class="type">Int(32)</span><span >ACC_SUPER</span></span>

      <span class="comment">// constructors of module classes should be private</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25187">isPrimaryConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="#68535">isTopLevelModule</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69117">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#25211">owner</a></span>)) {
        <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">|=</a></span> <span class="typed"><span class="type">Int(2)</span><span >ACC_PRIVATE</span></span>
        <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3153">&amp;=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a id="3098">~</a></span><span class="typed"><span class="type">Int(1)</span><span >ACC_PUBLIC</span></span>
      }
      <span class="typed"><span class="type">Int</span><a href="#73264">jf</a></span>
    }

    <span class="comment">/** Calls to methods in 'sym' need invokeinterface? */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a id="68573">needsInterfaceCall</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="71715">sym</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
      <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71715">sym</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25231">info</a></span> <span class="comment">// needed so that the type is up to date (erasure may add lateINTERFACE to traits)</span>
      <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71715">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
      (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71715">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../../symtab/Symbols.scala.html#25223">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
       <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#71715">sym</a></span>.<span class="typed"><span class="type">(GenJVM.this.global.Symbol)Boolean</span><a href="../../symtab/Symbols.scala.html#25249">isNonBottomSubClass</a></span>(<span class="typed"><span class="type">object GenJVM.this.global.definitions</span><a href="../../symtab/Definitions.scala.html#22259">definitions</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Symbol</span><a href="../../symtab/Definitions.scala.html#25859">ClassfileAnnotationClass</a></span>))
    }


    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a id="68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="69865">t</a></span>: <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32353">TypeKind</a></span>): <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68299">JType</a></span> = (<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#69865">t</a></span>: @<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind @unchecked</span><a href="../icode/TypeKinds.scala.html#32353">unchecked</a></span>) <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.UNIT</span><a href="../icode/TypeKinds.scala.html#32355">UNIT</a></span>            =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BOOL</span><a href="../icode/TypeKinds.scala.html#32357">BOOL</a></span>            =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68652">BOOLEAN</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.BYTE</span><a href="../icode/TypeKinds.scala.html#32359">BYTE</a></span>            =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68653">BYTE</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.SHORT</span><a href="../icode/TypeKinds.scala.html#32361">SHORT</a></span>           =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68655">SHORT</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.CHAR</span><a href="../icode/TypeKinds.scala.html#32363">CHAR</a></span>            =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68654">CHAR</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.INT</span><a href="../icode/TypeKinds.scala.html#32365">INT</a></span>             =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68656">INT</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.LONG</span><a href="../icode/TypeKinds.scala.html#32367">LONG</a></span>            =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68658">LONG</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.FLOAT</span><a href="../icode/TypeKinds.scala.html#32369">FLOAT</a></span>           =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68657">FLOAT</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object GenJVM.this.global.icodes.DOUBLE</span><a href="../icode/TypeKinds.scala.html#32371">DOUBLE</a></span>          =&gt; <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68659">DOUBLE</a></span>
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">case</span></span> <a id="1">REFERENCE</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a id="73339">cls</a></span>)  =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JObjectType</span><a id="68254">JObjectType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Symbol)String</span><a href="#68570">javaName</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.global.Symbol</span><a href="#73339">cls</a></span>))
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><span class="keyword">case</span></span> <a id="1">ARRAY</a>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="73340">elem</a></span>)     =&gt; <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JArrayType</span><a id="68356">JArrayType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#73340">elem</a></span>))
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a id="68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a id="69864">t</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="../../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68299">JType</a></span> = <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.icodes.global.Type)GenJVM.this.global.icodes.TypeKind</span><a href="../icode/TypeKinds.scala.html#32385">toTypeKind</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Type</span><a href="#69864">t</a></span>))

    <span class="keyword">def</span> <span class="typed"><span class="type">(GenJVM.this.global.Symbol)ch.epfl.lamp.fjbg.JType</span><a id="68576">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a id="69863">s</a></span>: <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="../../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68299">JType</a></span> =
      <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69863">s</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25142">isMethod</a></span>)
        <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JMethodType</span><a id="68209">JMethodType</a></span>(
          <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69863">s</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../symtab/Symbols.scala.html#25146">isClassConstructor</a></span>) <span class="typed"><span class="type">object ch.epfl.lamp.fjbg.JType</span><a id="68300">JType</a></span>.<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JType</span><a id="68651">VOID</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69863">s</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Types.scala.html#25663">resultType</a></span>),
          <span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69863">s</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[GenJVM.this.global.Type]</span><a href="../../symtab/Types.scala.html#25668">paramTypes</a></span>.<span class="typed"><span class="type">((GenJVM.this.global.Type) =&gt; ch.epfl.lamp.fjbg.JType)List[ch.epfl.lamp.fjbg.JType]</span><a id="21362">map</a></span>(<span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>).<span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="21675">toArray</a></span>)
      <span class="keyword">else</span>
        <span class="typed"><span class="type">(GenJVM.this.global.Type)ch.epfl.lamp.fjbg.JType</span><a href="#68575">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.Symbol</span><a href="#69863">s</a></span>.<span class="typed"><span class="type">=&gt; GenJVM.this.global.Type</span><a href="../../symtab/Symbols.scala.html#25230">tpe</a></span>)

    <span class="keyword">def</span> <span class="typed"><span class="type">(List[GenJVM.this.global.icodes.TypeKind])Array[ch.epfl.lamp.fjbg.JType]</span><a id="68577">javaTypes</a></span>(<span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a id="69246">ts</a></span>: <span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a id="526">List</a></span>[TypeKind]): <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="1072">Array</a></span>[JType] = {
      <span class="keyword">val</span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="73357">res</a></span> = <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a id="1072">Array</a></span>[JType](<span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a href="#69246">ts</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>)
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="73358">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="typed"><span class="type">List[GenJVM.this.global.icodes.TypeKind]</span><a href="#69246">ts</a></span> <span class="typed"><span class="type">((GenJVM.this.global.icodes.TypeKind) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> ( <span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a id="73361">t</a></span> =&gt; { <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a href="#73357">res</a></span>(<span class="typed"><span class="type">Int</span><a href="#73358">i</a></span>) = <span class="typed"><span class="type">(GenJVM.this.global.icodes.TypeKind)ch.epfl.lamp.fjbg.JType</span><a href="#68574">javaType</a></span>(<span class="typed"><span class="type">GenJVM.this.global.icodes.TypeKind</span><a href="#73361">t</a></span>); <span class="typed"><span class="type">Int</span><a href="#73358">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> } );
      <span class="typed"><span class="type">Array[ch.epfl.lamp.fjbg.JType]</span><a href="#73357">res</a></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(ch.epfl.lamp.fjbg.JClass,String)scala.tools.nsc.io.AbstractFile</span><a id="68578">getFile</a></span>(<span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68962">cls</a></span>: <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a id="68386">JClass</a></span>, <span class="typed"><span class="type">String</span><a id="68963">suffix</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>): <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#12693">AbstractFile</a></span> = {
      <span class="keyword">var</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="73385">dir</a></span>: <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#12693">AbstractFile</a></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="#68410">outputDir</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">List[java.lang.String]</span><a id="73386">pathParts</a></span> = <span class="typed"><span class="type">ch.epfl.lamp.fjbg.JClass</span><a href="#68962">cls</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="68876">getName</a></span>().<span class="typed"><span class="type">(java.lang.String)Array[java.lang.String]</span><a id="5865">split</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;[./]&quot;)</span><span class="string">&quot;[./]&quot;</span></span>).<span class="typed"><span class="type">=&gt; List[java.lang.String]</span><a id="21815">toList</a></span>
      <span class="keyword">for</span> (<span class="typed"><span class="type">((java.lang.String) =&gt; Unit)Unit</span><span id="21366"><a id="73390">part</a></span></span> &lt;- <span class="typed"><span class="type">List[java.lang.String]</span><a href="#73386">pathParts</a></span>.<span class="typed"><span class="type">=&gt; List[java.lang.String]</span><a id="21349">init</a></span>) {
        <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#73385">dir</a></span> = <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#73385">dir</a></span>.<span class="typed"><span class="type">(String)scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#25454">subdirectoryNamed</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#73390">part</a></span>)
      }
      <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#73385">dir</a></span>.<span class="typed"><span class="type">(String)scala.tools.nsc.io.AbstractFile</span><a href="../../io/AbstractFile.scala.html#25453">fileNamed</a></span>(<span class="typed"><span class="type">List[java.lang.String]</span><a href="#73386">pathParts</a></span>.<span class="typed"><span class="type">=&gt; java.lang.String</span><a id="21350">last</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#68963">suffix</a></span>)
    }


    
    <span class="comment">/** Merge adjacent ranges. */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[(Int, Int)])List[(Int, Int)]</span><a id="68579">mergeEntries</a></span>(<span class="typed"><span class="type">List[(Int, Int)]</span><a id="72846">ranges</a></span>: <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)]): <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)] = 
      (<span class="typed"><span class="type">List[(Int, Int)]</span><a href="#72846">ranges</a></span>.<span class="typed"><span class="type">(List[(Int, Int)])((List[(Int, Int)], (Int, Int)) =&gt; List[(Int, Int)])List[(Int, Int)]</span><a id="21375">foldLeft</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>: <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)]) { (<span class="typed"><span class="type">List[(Int, Int)]</span><a id="73395">collapsed</a></span>: <span class="typed"><span class="type">List[(Int, Int)]</span><a id="526">List</a></span>[(Int, Int)], <span class="typed"><span class="type">(Int, Int)</span><a id="73396">p</a></span>: <span class="typed"><span class="type">(Int, Int)</span><a id="1378">(</a></span>Int, Int)) =&gt; <span class="typed"><span class="type">(List[(Int, Int)],(Int, Int))(List[(Int, Int)], (Int, Int))</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">List[(Int, Int)]</span><a href="#73395">collapsed</a></span>, <span class="typed"><span class="type">(Int, Int)</span><a href="#73396">p</a></span>) <span class="typed"><span class="type">List[(Int, Int)]</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">List[(Int, Int)]</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, _) =&gt; <span class="typed"><span class="type">((Int, Int)*)List[(Int, Int)]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(Int, Int)</span><a href="#73396">p</a></span>)
        <span class="typed"><span class="type">List[(Int, Int)]</span><span class="keyword">case</span></span> <a id="1">(</a><a id="1">(</a><span class="typed"><span class="type">Int</span><a id="73400">s1</a></span>, <span class="typed"><span class="type">Int</span><a id="73401">e1</a></span>) <a id="1">::</a> <span class="typed"><span class="type">List[(Int, Int)]</span><a id="73402">rest</a></span>, <a id="1">(</a><span class="typed"><span class="type">Int</span><a id="73403">s2</a></span>, <span class="typed"><span class="type">Int</span><a id="73404">e2</a></span>)) <span class="keyword">if</span> (<span class="typed"><span class="type">Int</span><a href="#73401">e1</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int</span><a href="#73403">s2</a></span>) =&gt; <span class="typed"><span class="type">(Int,Int)(Int, Int)</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">Int</span><a href="#73400">s1</a></span>, <span class="typed"><span class="type">Int</span><a href="#73404">e2</a></span>) <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#73406" id="21335">::</a></span> <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#73402">rest</a></span>
        <span class="typed"><span class="type">List[(Int, Int)]</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(Int, Int)</span><a href="#73396">p</a></span> <span class="typed"><span class="type">((Int, Int))List[(Int, Int)]</span><a href="#73411" id="21335">::</a></span> <span class="typed"><span class="type">List[(Int, Int)]</span><a href="#73395">collapsed</a></span>
      }}).<span class="typed"><span class="type">=&gt; List[(Int, Int)]</span><a id="21385">reverse</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(Boolean,String)Unit</span><a id="68580">assert</a></span>(<span class="typed"><span class="type">Boolean</span><a id="70172">cond</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>, <span class="typed"><span class="type">String</span><a id="70173">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) = <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">Boolean</span><a href="#70172">cond</a></span>) {
      <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>.<span class="typed"><span class="type">=&gt; Unit</span><a href="../icode/Members.scala.html#32905">dump</a></span>
      <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.Error</span><a id="27228" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Error</span><span id="5975"><a id="821">Error</a></span></span>(<span class="typed"><span class="type">String</span><a href="#70173">msg</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;\012Method: &quot;)</span><span class="string">&quot;\nMethod: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; GenJVM.this.global.icodes.IMethod</span><a href="#68497">method</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(Boolean)Unit</span><a id="68581">assert</a></span>(<span class="typed"><span class="type">Boolean</span><a id="70171">cond</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>) { <span class="typed"><span class="type">(Boolean,String)Unit</span><a href="#68580">assert</a></span>(<span class="typed"><span class="type">Boolean</span><a href="#70171">cond</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;Assertion failed.&quot;)</span><span class="string">&quot;Assertion failed.&quot;</span></span>) }
  }
}

        </pre>
    </body>
</html>