<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/icode/Checkers.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */

// $Id: Checkers.scala 18549 2009-08-22 23:29:38Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend
<span class="keyword">package</span> icode

<span class="keyword">import</span> scala.collection.mutable.{Buffer, ListBuffer, Map, HashMap}
<span class="keyword">import</span> scala.tools.nsc.symtab._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Checkers extends java.lang.Object with ScalaObject" id="15186">Checkers</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="75738">global</a>: <a href="../../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** &lt;p&gt;
   *    This class performs a set of checks similar to what the bytecode
   *    verifier does. For each basic block, it checks that:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;
   *      for primitive operations: the type and numer of operands match
   *      the type of the operation
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for method calls: the method exists in the type of the receiver
   *      and the number and type of arguments match the declared type of 
   *      the method.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for object creation: the constructor can be called.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for load/stores: the field/local/param exists and the type 
   *      of the value matches that of the target.
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   *  &lt;p&gt;
   *    For a control flow graph it checks that type stacks at entry to
   *    each basic block 'agree': 
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;they have the same length&lt;/li&gt;
   *    &lt;li&gt;there exists a lub for all types at the same position in stacks.&lt;/li&gt;
   *  &lt;/ul&gt;
   *
   *  @author  Iulian Dragos
   *  @version 1.0, 06/09/2005
   *
   *  @todo Better checks for &lt;code&gt;MONITOR_ENTER/EXIT&lt;/code&gt;
   *        Better checks for local var initializations
   */
  <span class="keyword">class</span> <a title="class ICodeChecker extends java.lang.Object with ScalaObject" id="75740">ICodeChecker</a> <span title="ScalaObject">{</span>
    <span class="keyword">import</span> icodes._
    <span class="keyword">import</span> opcodes._

    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.IClass" id="75748">clasz</a>: <a href="Members.scala.html#46171" title="Checkers.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.IMethod" id="75751">method</a>: <a href="Members.scala.html#46173" title="Checkers.this.global.icodes.IMethod">IMethod</a> = _
    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.Code" id="75754">code</a>: <a href="Members.scala.html#46170" title="Checkers.this.global.icodes.Code">Code</a> = _

    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" id="75756">in</a>: <span title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">Map</span>[BasicBlock, TypeStack] = <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">HashMap</span>()
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" id="75758">out</a>: <span title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">Map</span>[BasicBlock, TypeStack] = <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">HashMap</span>()

    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeStack" id="75760">emptyStack</a> = <span title="Checkers.this.global.icodes.TypeStack" class="keyword">new</span> <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>()

    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="75762">STRING</a>        = <a href="TypeKinds.scala.html#60434" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26479" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28333" title="=&gt; Checkers.this.global.Symbol">StringClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="75764">SCALA_ALL</a>     = <a href="TypeKinds.scala.html#60434" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26479" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; Checkers.this.global.Symbol">NothingClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="75766">SCALA_ALL_REF</a> = <a href="TypeKinds.scala.html#60434" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26479" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28269" title="=&gt; Checkers.this.global.Symbol">NullClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="75768">THROWABLE</a>     = <a href="TypeKinds.scala.html#60434" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26479" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28297" title="=&gt; Checkers.this.global.Symbol">ThrowableClass</a>)

    <span class="keyword">def</span> <a title="=&gt; Unit" id="75770">checkICodes</a>: <a title="Unit" id="1950">Unit</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="../../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../Settings.scala.html#37070" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">verbose</a>.<a href="../../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
      <a title="(x: Any)Unit" id="8057">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;[[consistency check at the beginning of phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../Global.scala.html#39092" title="=&gt; scala.tools.nsc.Phase">globalPhase</a>.<a href="../../Phase.scala.html#23159" title="=&gt; String">name</a> + <span title="java.lang.String(&quot;]]&quot;)" class="string">&quot;]]&quot;</span>)
      <a href="ICodes.scala.html#46146" title="=&gt; scala.collection.mutable.HashMap[Checkers.this.global.icodes.global.Symbol,Checkers.this.global.icodes.IClass]">classes</a>.<a title="(f: (Checkers.this.global.icodes.IClass) =&gt; Unit)Unit" id="44474">valuesIterator</a> foreach <a href="#75771" title="(cls: Checkers.this.global.icodes.IClass)Unit">check</a>
    }

    <span class="keyword">def</span> <a title="(cls: Checkers.this.global.icodes.IClass)Unit" id="75771">check</a>(<a title="Checkers.this.global.icodes.IClass" id="75926">cls</a>: <a href="Members.scala.html#46171" title="Checkers.this.global.icodes.IClass">IClass</a>) {
      <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Checking class &quot;</span> + <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>)
      <a href="#75748" title="(x$1: Checkers.this.global.icodes.IClass)Unit">clasz</a> = <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.IField" id="75962">f1</a> &lt;- <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66672" title="(f: (Checkers.this.global.icodes.IField) =&gt; Unit)Unit">fields</a>; <a title="Checkers.this.global.icodes.IField" id="75987">f2</a> &lt;- <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66672" title="(f: (Checkers.this.global.icodes.IField) =&gt; Unit)Unit">fields</a> <span class="keyword">if</span> <a href="#75962" title="(x$1: AnyRef)Boolean">f1</a> ne <a href="#75987" title="Checkers.this.global.icodes.IField">f2</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#75962" title="Checkers.this.global.icodes.IField">f1</a>.<a href="Members.scala.html#67140" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="#75987" title="Checkers.this.global.icodes.IField">f2</a>.<a href="Members.scala.html#67140" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.icodes.global.Name">name</a>)
          <a href="#15186" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#75738" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39060" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Repetitive field name: &quot;</span> +
                                     <a href="#75962" title="Checkers.this.global.icodes.IField">f1</a>.<a href="Members.scala.html#67140" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>);

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.IMethod" id="76029">m1</a> &lt;- <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66675" title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">methods</a>; <a title="Checkers.this.global.icodes.IMethod" id="76054">m2</a> &lt;- <a href="#75926" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66675" title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">methods</a> <span class="keyword">if</span> <a href="#76029" title="(x$1: AnyRef)Boolean">m1</a> ne <a href="#76054" title="Checkers.this.global.icodes.IMethod">m2</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#76029" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61225" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#76054" title="Checkers.this.global.icodes.IMethod">m2</a>.<a href="Members.scala.html#61225" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.icodes.global.Name">name</a> &amp;&amp;
            <a href="#76029" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61225" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Types.scala.html#30236" title="(that: Checkers.this.global.icodes.global.Type)Boolean">tpe</a> =:= <a href="#76054" title="Checkers.this.global.icodes.IMethod">m2</a>.<a href="Members.scala.html#61225" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)
          <a href="#15186" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#75738" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39060" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Repetitive method: &quot;</span> +
                                     <a href="#76029" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61225" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>);
      <a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66675" title="=&gt; List[Checkers.this.global.icodes.IMethod]">methods</a>.<span title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">foreach</span>(<a href="#75775" title="(m: Checkers.this.global.icodes.IMethod)Unit">check</a>)
    }

    /** Apply the give funtion to each pair of the cartesian product of
     * l1 x l2.
     */
    <span class="keyword">def</span> <a title="[a](l1: List[a],l2: List[a])(f: (a, a) =&gt; Unit)Unit" id="75772">pairwise</a>[<a title="&gt;: Nothing &lt;: Any" id="75774">a</a>](<a title="List[a]" id="76109">l1</a>: <span title="List[a]">List</span>[a], <a title="List[a]" id="76110">l2</a>: <span title="List[a]">List</span>[a])(<a title="(a, a) =&gt; Unit" id="76111">f</a>: (a, a) =&gt; Unit) =
      <a href="#76109" title="(f: (a) =&gt; Unit)Unit">l1</a> foreach { <a title="a" id="76130">x</a> =&gt;
        <a href="#76110" title="(f: (a) =&gt; Unit)Unit">l2</a> foreach { <a title="a" id="76147">y</a> =&gt; <a href="#76111" title="(v1: a,v2: a)Unit" id="37637">f</a>(<a href="#76130" title="a">x</a>, <a href="#76147" title="a">y</a>) }
      }

    <span class="keyword">def</span> <a title="(m: Checkers.this.global.icodes.IMethod)Unit" id="75775">check</a>(<a title="Checkers.this.global.icodes.IMethod" id="75924">m</a>: <a href="Members.scala.html#46173" title="Checkers.this.global.icodes.IMethod">IMethod</a>) {
      <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Checking method &quot;</span> + <a href="#75924" title="Checkers.this.global.icodes.IMethod">m</a>)
      <a href="#75751" title="(x$1: Checkers.this.global.icodes.IMethod)Unit">method</a> = <a href="#75924" title="Checkers.this.global.icodes.IMethod">m</a>
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#75924" title="Checkers.this.global.icodes.IMethod">m</a>.<a href="Members.scala.html#61260" title="=&gt; Boolean">isDeferred</a>)
        <a href="#75776" title="(c: Checkers.this.global.icodes.Code)Unit">check</a>(<a href="#75924" title="Checkers.this.global.icodes.IMethod">m</a>.<a href="Members.scala.html#61228" title="=&gt; Checkers.this.global.icodes.Code">code</a>)
    }

    <span class="keyword">def</span> <a title="(c: Checkers.this.global.icodes.Code)Unit" id="75776">check</a>(<a title="Checkers.this.global.icodes.Code" id="75922">c</a>: <a href="Members.scala.html#46170" title="Checkers.this.global.icodes.Code">Code</a>) {
      <span class="keyword">var</span> <a title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]" id="76174">worklist</a>: <a title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]" id="24840">Buffer</a>[BasicBlock] = <span title="scala.collection.mutable.ListBuffer[Checkers.this.global.icodes.BasicBlock]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[Checkers.this.global.icodes.BasicBlock]" id="24819">ListBuffer</a>()

      <span class="keyword">def</span> <a title="(elems: List[Checkers.this.global.icodes.BasicBlock])Unit" id="76175">append</a>(<a title="List[Checkers.this.global.icodes.BasicBlock]" id="76180">elems</a>: <span title="List[Checkers.this.global.icodes.BasicBlock]">List</span>[BasicBlock]) = <a href="#76180" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Any)Unit">elems</a> foreach <a href="#76176" title="(bl: Checkers.this.global.icodes.BasicBlock)Any">appendBlock</a>;
      <span class="keyword">def</span> <a title="(bl: Checkers.this.global.icodes.BasicBlock)Any" id="76176">appendBlock</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="76196">bl</a>: <a href="BasicBlocks.scala.html#46178" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>) =
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#76174" title="(elem: Any)Boolean" id="25609">worklist</a> contains <a href="#76196" title="Checkers.this.global.icodes.BasicBlock">bl</a>))
          <a href="#76174" title="(elem: Checkers.this.global.icodes.BasicBlock)scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a> += <a href="#76196" title="Checkers.this.global.icodes.BasicBlock">bl</a>

      <a href="#75756" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">in</a>.<span title="()Unit">clear</span>;  <a href="#75758" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">out</a>.<span title="()Unit">clear</span>;
      <a href="#75754" title="(x$1: Checkers.this.global.icodes.Code)Unit">code</a> = <a href="#75922" title="Checkers.this.global.icodes.Code">c</a>;
      <a href="#76174" title="(elem: Checkers.this.global.icodes.BasicBlock)scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a> += <a href="#75922" title="Checkers.this.global.icodes.Code">c</a>.<a href="Members.scala.html#61392" title="=&gt; Checkers.this.global.icodes.BasicBlock">startBlock</a>
      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.BasicBlock" id="76301">bl</a> &lt;- <a href="#75922" title="Checkers.this.global.icodes.Code">c</a>.<a href="Members.scala.html#61390" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack])Unit" id="61746">blocks</a>) {
        <a href="#75756" title="(kv: (Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack))ICodeChecker.this.in.type">in</a>  += (<a href="#76301" title="(y: Checkers.this.global.icodes.TypeStack)(Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack)">bl</a> -&gt; <a href="#75760" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)
        <a href="#75758" title="(kv: (Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack))ICodeChecker.this.out.type">out</a> += (<a href="#76301" title="(y: Checkers.this.global.icodes.TypeStack)(Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack)">bl</a> -&gt; <a href="#75760" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)
      }

      <span title="Unit" class="keyword">while</span> (<a href="#76174" title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a>.<a title="(x$1: Int)Boolean" id="61629">length</a> &gt; <span title="Int(0)" class="int">0</span>) <a href="#76394" title="()Unit">{</a>
        <span class="keyword">val</span> <a title="Checkers.this.global.icodes.BasicBlock" id="76402">block</a> = <a href="#76174" title="(n: Int)Checkers.this.global.icodes.BasicBlock" id="61624">worklist</a>(<span title="Int(0)" class="int">0</span>); <a href="#76174" title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a>.<a title="(n: Int)Unit" id="61662">trimStart</a>(<span title="Int(1)" class="int">1</span>);
        <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeStack" id="76403">output</a> = <a href="#75787" title="(b: Checkers.this.global.icodes.BasicBlock,initial: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack">check</a>(<a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>, <a href="#75756" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">in</a>(<a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>));
        <span title="Unit" class="keyword">if</span> (<a href="#76403" title="(x$1: AnyRef)Boolean">output</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#75758" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">out</a>(<a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>) ||
            (<a href="#75758" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">out</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>) eq <a href="#75760" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)) {
          <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Output changed for block: &quot;</span> + <a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61351" title="=&gt; String">fullString</a>);
          <a href="#75758" title="(key: Checkers.this.global.icodes.BasicBlock,value: Checkers.this.global.icodes.TypeStack)Unit">out</a>(<a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>) = <a href="#76403" title="Checkers.this.global.icodes.TypeStack">output</a>;
          <a href="#76175" title="(elems: List[Checkers.this.global.icodes.BasicBlock])Unit">append</a>(<a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61344" title="=&gt; List[Checkers.this.global.icodes.BasicBlock]">successors</a>);
          <a href="#76402" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61344" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Unit)Unit">successors</a> foreach <a href="#75777" title="(bl: Checkers.this.global.icodes.BasicBlock)Unit">meet</a>;
        }
      }
    }

    /** 
     * Apply the meet operator of the stack lattice on bl's predecessors.
     * :-). Compute the input to bl by checking that all stacks have the
     * same length, and taking the lub of types at the same positions.
     */
    <span class="keyword">def</span> <a title="(bl: Checkers.this.global.icodes.BasicBlock)Unit" id="75777">meet</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="76525">bl</a>: <a href="BasicBlocks.scala.html#46178" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>) {
      <span class="keyword">val</span> <a title="List[Checkers.this.global.icodes.BasicBlock]" id="76536">preds</a> = <a href="#76525" title="Checkers.this.global.icodes.BasicBlock">bl</a>.<a href="BasicBlocks.scala.html#61346" title="=&gt; List[Checkers.this.global.icodes.BasicBlock]">predecessors</a>

      <span class="keyword">def</span> <a title="(s1: Checkers.this.global.icodes.TypeStack,s2: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="76537">meet2</a>(<a title="Checkers.this.global.icodes.TypeStack" id="76538">s1</a>: <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>, <a title="Checkers.this.global.icodes.TypeStack" id="76539">s2</a>: <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>): <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = {
        <span title="Checkers.this.global.icodes.TypeStack" class="keyword">if</span> (<a href="#76538" title="(x$1: AnyRef)Boolean">s1</a> eq <a href="#75760" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>) <a href="#76539" title="Checkers.this.global.icodes.TypeStack">s2</a>
        <span class="keyword">else</span> <span title="Checkers.this.global.icodes.TypeStack" class="keyword">if</span> (<a href="#76539" title="(x$1: AnyRef)Boolean">s2</a> eq <a href="#75760" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>) <a href="#76538" title="Checkers.this.global.icodes.TypeStack">s1</a> 
        <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#76538" title="Checkers.this.global.icodes.TypeStack">s1</a>.<a href="TypeStacks.scala.html#60537" title="(x$1: Int)Boolean" id="2954">length</a> != <a href="#76539" title="Checkers.this.global.icodes.TypeStack">s2</a>.<a href="TypeStacks.scala.html#60537" title="=&gt; Int">length</a>)
            <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.backend.icode.CheckerError" class="keyword">new</span> <a href="CheckerError.scala.html#14967" title="scala.tools.nsc.backend.icode.CheckerError">CheckerError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Incompatible stacks: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76538" title="Checkers.this.global.icodes.TypeStack">s1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76539" title="Checkers.this.global.icodes.TypeStack">s2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#75751" title="=&gt; Checkers.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; at entry to block: &quot;)" class="string">&quot; at entry to block: &quot;</span> + <a href="#76525" title="Checkers.this.global.icodes.BasicBlock">bl</a>);
          <a href="TypeStacks.scala.html#60535" title="(stack: Checkers.this.global.icodes.Rep)Checkers.this.global.icodes.TypeStack" class="keyword">new</a> <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>(<span title="object List">List</span>.<a title="(xs: List[Checkers.this.global.icodes.TypeKind],ys: List[Checkers.this.global.icodes.TypeKind])(f: (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) =&gt; Checkers.this.global.icodes.TypeKind)List[Checkers.this.global.icodes.TypeKind]" id="24375">map2</a>(<a href="#76538" title="Checkers.this.global.icodes.TypeStack">s1</a>.<a href="TypeStacks.scala.html#60532" title="=&gt; Checkers.this.global.icodes.Rep">types</a>, <a href="#76539" title="Checkers.this.global.icodes.TypeStack">s2</a>.<a href="TypeStacks.scala.html#60532" title="=&gt; Checkers.this.global.icodes.Rep">types</a>) (<a href="TypeKinds.scala.html#46200" title="(a: Checkers.this.global.icodes.TypeKind,b: Checkers.this.global.icodes.TypeKind)Checkers.this.global.icodes.TypeKind">lub</a>))
        }
      }

      <span title="Unit" class="keyword">if</span> (<a href="#76536" title="(x$1: AnyRef)Boolean">preds</a> != <span title="object Nil">Nil</span>) {
        <a href="#75756" title="(key: Checkers.this.global.icodes.BasicBlock,value: Checkers.this.global.icodes.TypeStack)Unit">in</a>(<a href="#76525" title="Checkers.this.global.icodes.BasicBlock">bl</a>) = <a title="(f: (Checkers.this.global.icodes.TypeStack, Checkers.this.global.icodes.TypeStack) =&gt; Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="28951">(</a><a href="#76536" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Checkers.this.global.icodes.TypeStack)(implicit bf: scala.collection.generic.BuilderFactory[Checkers.this.global.icodes.TypeStack,List[Checkers.this.global.icodes.TypeStack],List[Checkers.this.global.icodes.BasicBlock]])List[Checkers.this.global.icodes.TypeStack]" id="25243">preds</a> <a title="scala.collection.generic.BuilderFactory[Checkers.this.global.icodes.TypeStack,List[Checkers.this.global.icodes.TypeStack],List#Coll]" id="24313">map</a> <a href="#75758" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">out</a>.<a href="#76628" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">apply</a>) reduceLeft <a href="#76537" title="(s1: Checkers.this.global.icodes.TypeStack,s2: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack">meet2</a>;      
        <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Input changed for block: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76525" title="Checkers.this.global.icodes.BasicBlock">bl</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> + <a href="#75756" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">in</a>(<a href="#76525" title="Checkers.this.global.icodes.BasicBlock">bl</a>));
      }
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.TypeStack" id="75779">typeStack</a>: <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.Instruction" id="75782">instruction</a>: <a href="Opcodes.scala.html#46182" title="Checkers.this.global.icodes.Instruction">Instruction</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.BasicBlock" id="75785">basicBlock</a>: <a href="BasicBlocks.scala.html#46178" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a> = <span title="Null(null)" class="keyword">null</span>

    /**
     * Check the basic block to be type correct and return the
     * produced type stack.
     */
    <span class="keyword">def</span> <a title="(b: Checkers.this.global.icodes.BasicBlock,initial: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="75787">check</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="75919">b</a>: <a href="BasicBlocks.scala.html#46178" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Checkers.this.global.icodes.TypeStack" id="75920">initial</a>: <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>): <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = {
      <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;** Checking block:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#75919" title="Checkers.this.global.icodes.BasicBlock">b</a>.<a href="BasicBlocks.scala.html#61351" title="=&gt; String">fullString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with initial stack:\012&quot;)" class="string">&quot; with initial stack:\n&quot;</span> + <a href="#75920" title="Checkers.this.global.icodes.TypeStack">initial</a>)
      <span class="keyword">var</span> <a title="Checkers.this.global.icodes.TypeStack" id="76756">stack</a> = <a href="TypeStacks.scala.html#60536" title="(that: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" class="keyword">new</a> <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>(<a href="#75920" title="Checkers.this.global.icodes.TypeStack">initial</a>)

      <a href="#75740" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#75779" title="(x$1: Checkers.this.global.icodes.TypeStack)Unit">typeStack</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>
      <a href="#75740" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#75785" title="(x$1: Checkers.this.global.icodes.BasicBlock)Unit">basicBlock</a> = <a href="#75919" title="Checkers.this.global.icodes.BasicBlock">b</a>

      <span class="keyword">def</span> <a title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit" id="76757">typeError</a>(<a title="Checkers.this.global.icodes.TypeKind" id="76781">k1</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind" id="76782">k2</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>) {
        <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76781" title="Checkers.this.global.icodes.TypeKind">k1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but &quot;)" class="string">&quot; but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76782" title="Checkers.this.global.icodes.TypeKind">k2</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>)
      }

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.Instruction" id="76866">instr</a> &lt;- <a href="BasicBlocks.scala.html#61318" title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit">b</a>) {

        <span class="keyword">def</span> <a title="(len: Int)Unit" id="76867">checkStack</a>(<a title="Int" id="76875">len</a>: <a title="Int" id="2177">Int</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60537" title="(x$1: Int)Boolean">length</a> &lt; <a href="#76875" title="Int">len</a>)
            <a href="#75740" title="ICodeChecker.this.type">ICodeChecker</a>.<span class="keyword">this</span>.<a href="#75790" title="(msg: String,stack: Checkers.this.global.icodes.TypeStack)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Expected at least &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76875" title="Int">len</a> + <span title="java.lang.String(&quot; elements on the stack&quot;)" class="string">&quot; elements on the stack&quot;</span>, <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>);
          <span class="keyword">else</span>
            <span title="Unit">(</span>)
        }

        <span class="keyword">def</span> <a title="(local: Checkers.this.global.icodes.Local)Unit" id="76868">checkLocal</a>(<a title="Checkers.this.global.icodes.Local" id="76894">local</a>: <a href="Members.scala.html#46174" title="Checkers.this.global.icodes.Local">Local</a>) {
          <a href="#75751" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>.<a href="Members.scala.html#61257" title="(n: Checkers.this.global.icodes.global.Name)Option[Checkers.this.global.icodes.Local]">lookupLocal</a>(<a href="#76894" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#60751" title="=&gt; Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.icodes.global.Name">name</a>) <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> <a title="object None" id="465">None</a> =&gt; <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76894" title="Checkers.this.global.icodes.Local">local</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined in method &quot;)" class="string">&quot; is not defined in method &quot;</span> + <a href="#75751" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt; <span title="Unit">(</span>)
          }
        }

        <span class="keyword">def</span> <a title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit" id="76869">checkField</a>(<a title="Checkers.this.global.icodes.TypeKind" id="76921">obj</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.Symbol" id="76922">field</a>: <a href="../../symtab/Symbols.scala.html#26127" title="Checkers.this.global.Symbol">Symbol</a>) {
          <a href="#76921" title="Checkers.this.global.icodes.TypeKind">obj</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="76933">sym</a>) =&gt;
              <span title="Unit" class="keyword">if</span> (<a href="#76933" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30217" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#76922" title="Checkers.this.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.Name">name</a>) == <a href="../../symtab/Symbols.scala.html#26134" title="object Checkers.this.global.NoSymbol">NoSymbol</a>) 
                <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76922" title="Checkers.this.global.Symbol">field</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined in class &quot;)" class="string">&quot; is not defined in class &quot;</span> + <a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt;
              <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected reference type, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76921" title="Checkers.this.global.icodes.TypeKind">obj</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
          }
        }

        /** Checks that tpe is a subtype of one of the allowed types */
        <span class="keyword">def</span> <a title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit" id="76870">checkType</a>(<a title="Checkers.this.global.icodes.TypeKind" id="76966">tpe</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind*" id="76967">allowed</a>: <span title="Checkers.this.global.icodes.TypeKind*">TypeKind</span>*) {
          <span title="Unit" class="keyword">if</span> (<a href="#75791" title="(k1: Checkers.this.global.icodes.TypeKind,kinds: Checkers.this.global.icodes.TypeKind*)Boolean">isOneOf</a>(<a href="#76966" title="Checkers.this.global.icodes.TypeKind">tpe</a>, <a href="#76967" title="Checkers.this.global.icodes.TypeKind*">allowed</a>: _*))
            <span title="Unit">(</span>)
          <span class="keyword">else</span>
            <a href="#75788" title="(msg: String)Unit">error</a>(<a href="#76966" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a title="()java.lang.String" id="6528">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not one of: &quot;)" class="string">&quot; is not one of: &quot;</span> + <a href="#76967" title="Checkers.this.global.icodes.TypeKind*">allowed</a>.<a title="=&gt; List[Checkers.this.global.icodes.TypeKind]" id="25352">toList</a>.<a title="(start: String,sep: String,end: String)String" id="25360">mkString</a>(<span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span>));
        }

        /** Checks that the 2 topmost elements on stack are of the
         *  kind TypeKind.
         */
        <span class="keyword">def</span> <a title="(kind: Checkers.this.global.icodes.TypeKind)Unit" id="76871">checkBinop</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77003">kind</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>) {
          <span class="keyword">val</span> <a href="#77005" title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">(</a><a href="#77004" title="Checkers.this.global.icodes.TypeKind" id="77005">a</a>, <a href="#77004" title="Checkers.this.global.icodes.TypeKind" id="77006">b</a>) = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60541" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>
          <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77005" title="Checkers.this.global.icodes.TypeKind">a</a>, <a href="#77003" title="Checkers.this.global.icodes.TypeKind">kind</a>)
          <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77006" title="Checkers.this.global.icodes.TypeKind">b</a>, <a href="#77003" title="Checkers.this.global.icodes.TypeKind">kind</a>)
        }

        /** Check that arguments on the stack match method params. */
        <span class="keyword">def</span> <a title="(method: Checkers.this.global.Symbol)Unit" id="76872">checkMethodArgs</a>(<a title="Checkers.this.global.Symbol" id="77027">method</a>: <a href="../../symtab/Symbols.scala.html#26127" title="Checkers.this.global.Symbol">Symbol</a>) {
          <span class="keyword">val</span> <a title="List[Checkers.this.global.Type]" id="77028">params</a> = <a href="#77027" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30200" title="=&gt; List[Checkers.this.global.Type]">paramTypes</a>
          <a href="#76867" title="(len: Int)Unit">checkStack</a>(<a href="#77028" title="List[Checkers.this.global.Type]">params</a>.<span title="=&gt; Int">length</span>)
          <a href="#77028" title="List[Checkers.this.global.Type]">params</a>.<a title="=&gt; List[Checkers.this.global.Type]" id="24301">reverse</a>.<span title="(f: (Checkers.this.global.Type) =&gt; Unit)Unit">foreach</span>( (<a title="Checkers.this.global.Type" id="77048">tpe</a>) =&gt; <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77048" title="Checkers.this.global.Type">tpe</a>)))
        }

        /** Checks that the object passed as receiver has a method
         *  &lt;code&gt;method&lt;/code&gt; and that it is callable from the current method.
         *
         *  @param receiver ...
         *  @param method   ...
         */
        <span class="keyword">def</span> <a title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit" id="76873">checkMethod</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77059">receiver</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.Symbol" id="77060">method</a>: <a href="../../symtab/Symbols.scala.html#26127" title="Checkers.this.global.Symbol">Symbol</a>) = 
          <a href="#77059" title="Checkers.this.global.icodes.TypeKind">receiver</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="77062">sym</a>) =&gt;
              <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77062" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30217" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.Name">name</a>) != <a href="../../symtab/Symbols.scala.html#26134" title="object Checkers.this.global.NoSymbol">NoSymbol</a>,
                        <span title="(x$1: Any)java.lang.String" class="string">&quot;Method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77060" title="Checkers.this.global.Symbol">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist in &quot;)" class="string">&quot; does not exist in &quot;</span> + <a href="#77062" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>);
              <span title="Unit" class="keyword">if</span> (<a href="../../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">method</a> hasFlag Flags.<span title="Long(4L)">PRIVATE</span>)
                <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66669" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>,
                          <span title="(x$1: Any)java.lang.String" class="string">&quot;Cannot call private method of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26983" title="=&gt; Checkers.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a> 
                          <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> + <a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66669" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>);
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">method</a> hasFlag Flags.<span title="Long(1L)">PROTECTED</span>)
                <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="../../symtab/Symbols.scala.html#27024" title="(that: Checkers.this.global.icodes.global.Symbol)Boolean">symbol</a> isSubClass <a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26983" title="=&gt; Checkers.this.global.Symbol">owner</a>,
                          <span title="(x$1: Any)java.lang.String" class="string">&quot;Cannot call protected method of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26983" title="=&gt; Checkers.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>
                          <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> + <a href="#75748" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66669" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a>);

            <span title="Unit" class="keyword">case</span> ARRAY(_) =&gt;
              <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77059" title="Checkers.this.global.icodes.TypeKind">receiver</a>.<a href="TypeKinds.scala.html#60436" title="=&gt; Checkers.this.global.icodes.global.Type">toType</a>.<a href="../../symtab/Types.scala.html#30217" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#77060" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26988" title="=&gt; Checkers.this.global.Name">name</a>) != <a href="../../symtab/Symbols.scala.html#26134" title="object Checkers.this.global.NoSymbol">NoSymbol</a>,
                        <span title="(x$1: Any)java.lang.String" class="string">&quot;Method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77060" title="Checkers.this.global.Symbol">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist in &quot;)" class="string">&quot; does not exist in &quot;</span> + <a href="#77059" title="Checkers.this.global.icodes.TypeKind">receiver</a>)

            <span title="Unit" class="keyword">case</span> <a title="Checkers.this.global.icodes.TypeKind" id="77153">t</a> =&gt;
              <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Not a reference type: &quot;</span> + <a href="#77153" title="Checkers.this.global.icodes.TypeKind">t</a>)
          }

        <span class="keyword">def</span> <a title="(cond: Boolean,msg: String)Unit" id="76874">checkBool</a>(<a title="Boolean" id="77065">cond</a>: <a title="Boolean" id="1951">Boolean</a>, <a title="String" id="77066">msg</a>: <span title="String">String</span>) =
          <span title="Unit" class="keyword">if</span> (<a href="#77065" title="Boolean">cond</a>) <span title="Unit">(</span>) <span class="keyword">else</span> <a href="#75788" title="(msg: String)Unit">error</a>(<a href="#77066" title="String">msg</a>)

        <a href="#75740" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#75782" title="(x$1: Checkers.this.global.icodes.Instruction)Unit">instruction</a> = <a href="#76866" title="Checkers.this.global.icodes.Instruction">instr</a>

        <span title="Unit" class="keyword">if</span> (<a href="../../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
          <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;PC: &quot;</span> + <a href="#76866" title="Checkers.this.global.icodes.Instruction">instr</a>)
          <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;stack: &quot;</span> + <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>)
          <a href="../../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="java.lang.String(&quot;================&quot;)" class="string">&quot;================&quot;</span>)
        }
        <a href="#76866" title="Checkers.this.global.icodes.Instruction">instr</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> THIS(<a title="Checkers.this.global.icodes.global.Symbol" id="77176">clasz</a>) =&gt;
            <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77176" title="Checkers.this.global.icodes.global.Symbol">clasz</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)

          <span title="Unit" class="keyword">case</span> CONSTANT(<a title="Checkers.this.global.icodes.global.Constant" id="77186">const</a>) =&gt;
            <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77186" title="Checkers.this.global.icodes.global.Constant">const</a>.<a href="../../symtab/Constants.scala.html#42811" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)

          <span title="Unit" class="keyword">case</span> LOAD_ARRAY_ITEM(<a title="Checkers.this.global.icodes.TypeKind" id="77196">kind</a>) =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(2)" class="int">2</span>)
            (<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60541" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>: @<a title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) @unchecked" id="1154">unchecked</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> (<a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77206">elem</a>)) =&gt; 
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">elem</a> &lt;:&lt; <a href="#77196" title="Checkers.this.global.icodes.TypeKind">kind</a>))
                  <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77196" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77206" title="Checkers.this.global.icodes.TypeKind">elem</a>);
                <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77206" title="Checkers.this.global.icodes.TypeKind">elem</a>);
              <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77221">a</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77222">b</a>) =&gt;
                <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected and INT and a array reference, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                    <a href="#77221" title="Checkers.this.global.icodes.TypeKind">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77222" title="Checkers.this.global.icodes.TypeKind">b</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
            }

         <span title="Unit" class="keyword">case</span> LOAD_LOCAL(<a title="Checkers.this.global.icodes.Local" id="77239">local</a>) =&gt;
           <a href="#76868" title="(local: Checkers.this.global.icodes.Local)Unit">checkLocal</a>(<a href="#77239" title="Checkers.this.global.icodes.Local">local</a>)
           <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77239" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#60753" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>)

         <span title="Unit" class="keyword">case</span> LOAD_FIELD(<a title="Checkers.this.global.icodes.global.Symbol" id="77249">field</a>, <a title="Boolean" id="77250">isStatic</a>) =&gt;
           <span title="Unit" class="keyword">if</span> (<a href="#77250" title="Boolean">isStatic</a>) <span title="Unit">{</span>
             // the symbol's owner should contain it's field, but
             // this is already checked by the type checker, no need
             // to redo that here
           } <span class="keyword">else</span> {
             <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77253">obj</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
             <a href="#76869" title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit">checkField</a>(<a href="#77253" title="Checkers.this.global.icodes.TypeKind">obj</a>, <a href="#77249" title="Checkers.this.global.icodes.global.Symbol">field</a>)
           }
           <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77249" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>))

         <span title="Unit" class="keyword">case</span> LOAD_MODULE(<a title="Checkers.this.global.icodes.global.Symbol" id="77267">module</a>) =&gt;
           <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>((<a href="#77267" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#26917" title="(x$1: Boolean)Boolean">isModule</a> || <a href="#77267" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#26934" title="=&gt; Boolean">isModuleClass</a>),
                     <span title="(x$1: Any)java.lang.String" class="string">&quot;Expected module: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77267" title="Checkers.this.global.icodes.global.Symbol">module</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> + <a href="../../symtab/Flags.scala.html#10413" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../../symtab/Flags.scala.html#28814" title="(flags: Long)String">flagsToString</a>(<a href="#77267" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#26991" title="=&gt; Long">flags</a>));
           <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77267" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>));

         <span title="Unit" class="keyword">case</span> STORE_ARRAY_ITEM(<a title="Checkers.this.global.icodes.TypeKind" id="77291">kind</a>) =&gt;
           <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(3)" class="int">3</span>);
           (<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60542" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop3</a>: @<a title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) @unchecked" id="395">unchecked</a>) <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77301">k</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77303">elem</a>)) =&gt;
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k</a> &lt;:&lt; <a href="#77291" title="Checkers.this.global.icodes.TypeKind">kind</a>))
                  <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77291" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77301" title="Checkers.this.global.icodes.TypeKind">k</a>);
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k</a> &lt;:&lt; <a href="#77303" title="Checkers.this.global.icodes.TypeKind">elem</a>))
                  <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77303" title="Checkers.this.global.icodes.TypeKind">elem</a>, <a href="#77301" title="Checkers.this.global.icodes.TypeKind">k</a>);
             <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77321">a</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77322">b</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77323">c</a>) =&gt;
                <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected and array reference, and int and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77291" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)java.lang.String">+</span> 
                      <span title="java.lang.String(&quot; but &quot;)" class="string">&quot; but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77321" title="Checkers.this.global.icodes.TypeKind">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77322" title="Checkers.this.global.icodes.TypeKind">b</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77323" title="Checkers.this.global.icodes.TypeKind">c</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
           }

         <span title="Unit" class="keyword">case</span> STORE_LOCAL(<a title="Checkers.this.global.icodes.Local" id="77348">local</a>) =&gt;
           <a href="#76868" title="(local: Checkers.this.global.icodes.Local)Unit">checkLocal</a>(<a href="#77348" title="Checkers.this.global.icodes.Local">local</a>)
           <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)

           <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77351">actualType</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
           <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">actualType</a> &lt;:&lt; <a href="#77348" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#60753" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>) &amp;&amp; 
               //actualType != CASE_CLASS &amp;&amp;
               <a href="#77348" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#60753" title="(x$1: AnyRef)Boolean">kind</a> != <a href="#75766" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL_REF</a>)
             <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77348" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#60753" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77351" title="Checkers.this.global.icodes.TypeKind">actualType</a>);

         <span title="Unit" class="keyword">case</span> STORE_FIELD(<a title="Checkers.this.global.icodes.global.Symbol" id="77373">field</a>, <a title="Boolean" id="77374">isStatic</a>) =&gt;
           <span title="Unit" class="keyword">if</span> (<a href="#77374" title="Boolean">isStatic</a>) {
             <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>);
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77377">fieldType</a> = <a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77373" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>);
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77378">actualType</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
             <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">actualType</a> &lt;:&lt; <a href="#77377" title="Checkers.this.global.icodes.TypeKind">fieldType</a>))
                   // &amp;&amp; actualType != CASE_CLASS)
               <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77377" title="Checkers.this.global.icodes.TypeKind">fieldType</a>, <a href="#77378" title="Checkers.this.global.icodes.TypeKind">actualType</a>);
           } <span class="keyword">else</span> {
             <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(2)" class="int">2</span>);
             <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60541" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a> <span title="Unit" class="keyword">match</span> {
               <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77395">value</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77396">obj</a>) =&gt;
                 <a href="#76869" title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit">checkField</a>(<a href="#77396" title="Checkers.this.global.icodes.TypeKind">obj</a>, <a href="#77373" title="Checkers.this.global.icodes.global.Symbol">field</a>);
                 <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77399">fieldType</a> = <a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77373" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>);
                 <span title="Unit" class="keyword">if</span> (<a href="#77399" title="(x$1: AnyRef)Boolean">fieldType</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#75766" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL_REF</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">value</a> &lt;:&lt; <a href="#77399" title="Checkers.this.global.icodes.TypeKind">fieldType</a>))
                     //&amp;&amp; value != CASE_CLASS)
                 <a href="#76757" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77399" title="Checkers.this.global.icodes.TypeKind">fieldType</a>, <a href="#77395" title="Checkers.this.global.icodes.TypeKind">value</a>);
             }
           }

         <span title="Unit" class="keyword">case</span> CALL_PRIMITIVE(<a title="Checkers.this.global.icodes.Primitive" id="77419">primitive</a>) =&gt;
           <a href="#76867" title="(len: Int)Unit">checkStack</a>(<a href="#76866" title="Checkers.this.global.icodes.Instruction">instr</a>.<a href="Opcodes.scala.html#61468" title="=&gt; Int">consumed</a>);
           <a href="#77419" title="Checkers.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> Negation(<a title="Checkers.this.global.icodes.TypeKind" id="77427">kind</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77427" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46203" title="object Checkers.this.global.icodes.BOOL">BOOL</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46215" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46217" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>);
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77427" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77427" title="Checkers.this.global.icodes.TypeKind">kind</a>;

             <span title="Unit" class="keyword">case</span> Test(<a title="Checkers.this.global.icodes.TestOp" id="77448">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77449">kind</a>, <a title="Boolean" id="77450">zero</a>) =&gt;
               <span title="Unit" class="keyword">if</span> (<a href="#77450" title="Boolean">zero</a>) {
                 <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77453">actualType</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
                 <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77453" title="Checkers.this.global.icodes.TypeKind">actualType</a>, <a href="#77449" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               } <span class="keyword">else</span>
                 <a href="#76871" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77449" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46203" title="object Checkers.this.global.icodes.BOOL">BOOL</a>

             <span title="Unit" class="keyword">case</span> Comparison(<a title="Checkers.this.global.icodes.ComparisonOp" id="77465">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77466">kind</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77466" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46215" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46217" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#76871" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77466" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>

             <span title="Unit" class="keyword">case</span> Arithmetic(<a title="Checkers.this.global.icodes.ArithmeticOp" id="77478">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77479">kind</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77479" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46215" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46217" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <span title="Unit" class="keyword">if</span> (<a href="#77478" title="(x$1: AnyRef)Boolean">op</a> == <a href="Primitives.scala.html#46306" title="object Checkers.this.global.icodes.NOT">NOT</a>)
                 <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77479" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <span class="keyword">else</span>
                 <a href="#76871" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77479" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77479" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Logical(<a title="Checkers.this.global.icodes.LogicalOp" id="77501">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77502">kind</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77502" title="Checkers.this.global.icodes.TypeKind">kind</a>,  <a href="TypeKinds.scala.html#46203" title="object Checkers.this.global.icodes.BOOL">BOOL</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>)
               <a href="#76871" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77502" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77502" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Shift(<a title="Checkers.this.global.icodes.ShiftOp" id="77514">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77515">kind</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77515" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>)
               <span class="keyword">val</span> <a href="#77519" title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">(</a><a href="#77518" title="Checkers.this.global.icodes.TypeKind" id="77519">a</a>, <a href="#77518" title="Checkers.this.global.icodes.TypeKind" id="77520">b</a>) = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60541" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77519" title="Checkers.this.global.icodes.TypeKind">a</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>)
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77520" title="Checkers.this.global.icodes.TypeKind">b</a>, <a href="#77515" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77515" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Conversion(<a title="Checkers.this.global.icodes.TypeKind" id="77548">src</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77549">dst</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77548" title="Checkers.this.global.icodes.TypeKind">src</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46215" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46217" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77549" title="Checkers.this.global.icodes.TypeKind">dst</a>, <a href="TypeKinds.scala.html#46205" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46209" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46207" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46213" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46215" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46217" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77548" title="Checkers.this.global.icodes.TypeKind">src</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77549" title="Checkers.this.global.icodes.TypeKind">dst</a>

             <span title="Unit" class="keyword">case</span> ArrayLength(<a title="Checkers.this.global.icodes.TypeKind" id="77564">kind</a>) =&gt;
               <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77567">arr</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
               <a href="#77567" title="Checkers.this.global.icodes.TypeKind">arr</a> <span title="Unit" class="keyword">match</span> {
                 <span title="Unit" class="keyword">case</span> ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77571">elem</a>) =&gt;
                   <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77571" title="Checkers.this.global.icodes.TypeKind">elem</a>, <a href="#77564" title="Checkers.this.global.icodes.TypeKind">kind</a>);
                 <span title="Unit" class="keyword">case</span> _ =&gt;
                   <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; array reference expected, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77567" title="Checkers.this.global.icodes.TypeKind">arr</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
               }
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>

             <span title="Unit" class="keyword">case</span> <a href="Primitives.scala.html#46270" title="object Checkers.this.global.icodes.StartConcat">StartConcat</a> =&gt;
               <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46229" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)

             <span title="Unit" class="keyword">case</span> <a href="Primitives.scala.html#46272" title="object Checkers.this.global.icodes.EndConcat">EndConcat</a> =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46229" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)
               <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#75762" title="=&gt; Checkers.this.global.icodes.REFERENCE">STRING</a>)

             <span title="Unit" class="keyword">case</span> StringConcat(<a title="Checkers.this.global.icodes.TypeKind" id="77599">el</a>) =&gt;
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77599" title="Checkers.this.global.icodes.TypeKind">el</a>)
               <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46229" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)
               <a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46229" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>
           }

         <span title="Unit" class="keyword">case</span> CALL_METHOD(<a title="Checkers.this.global.icodes.global.Symbol" id="77615">method</a>, <a title="Checkers.this.global.icodes.opcodes.InvokeStyle" id="77616">style</a>) =&gt;
           <a href="#77616" title="Checkers.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> <a href="Opcodes.scala.html#46441" title="object Checkers.this.global.icodes.opcodes.Dynamic">Dynamic</a> | <a href="Opcodes.scala.html#46443" title="object Checkers.this.global.icodes.opcodes.InvokeDynamic">InvokeDynamic</a> =&gt;
               <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30200" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
               <a href="#76872" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#76873" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30193" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>))

             <span title="Unit" class="keyword">case</span> Static(<a title="Boolean" id="77659">onInstance</a>) =&gt;
               <span title="Unit" class="keyword">if</span> (<a href="#77659" title="Boolean">onInstance</a>) {
                 <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30200" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
                 <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span>Flags.<span title="Long(4L)">PRIVATE</span>) || <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a>,
                           <span title="java.lang.String(&quot;Static call to non-private method.&quot;)" class="string">&quot;Static call to non-private method.&quot;</span>)
                 <a href="#76872" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
                 <a href="#76873" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
                 <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a>)
                   <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30193" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>));
               } <span class="keyword">else</span> {
                 <a href="#76867" title="(len: Int)Unit">checkStack</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30200" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>);
                 <a href="#76872" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>);
                 <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30193" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>));
               }

             <span title="Unit" class="keyword">case</span> SuperCall(<a title="Checkers.this.global.icodes.global.Name" id="77723">mix</a>) =&gt;
               <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30200" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
               <a href="#76872" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#76873" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46231" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77615" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27004" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30193" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>))
           }

          <span title="Unit" class="keyword">case</span> NEW(<a title="Checkers.this.global.icodes.REFERENCE" id="77767">kind</a>) =&gt;
            <a href="#77767" title="Checkers.this.global.icodes.REFERENCE">kind</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="77771">cls</a>) =&gt;
                <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77767" title="Checkers.this.global.icodes.REFERENCE">kind</a>)
              //bq: had to change from _ to null, because otherwise would be unreachable code
              <span title="Unit" class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt;
                <a href="#75788" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;NEW call to non-reference type: &quot;</span> + <a href="#77767" title="Checkers.this.global.icodes.REFERENCE">kind</a>)
            }

          <span title="Unit" class="keyword">case</span> CREATE_ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77786">elem</a>, <a title="Int" id="77787">dims</a>) =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<a href="#77787" title="Int">dims</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60543" title="(n: Int)List[Checkers.this.global.icodes.TypeKind]">pop</a><span title="(f: (Checkers.this.global.icodes.TypeKind) =&gt; Unit)Unit">(</span><a href="#77787" title="Int">dims</a>) foreach (<a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77813" title="Checkers.this.global.icodes.TypeKind">_</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>))
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#62509" title="(elem: Checkers.this.global.icodes.TypeKind)Checkers.this.global.icodes.ARRAY">ARRAY</a>(<a href="#77786" title="Checkers.this.global.icodes.TypeKind">elem</a>))

          <span title="Unit" class="keyword">case</span> IS_INSTANCE(<a title="Checkers.this.global.icodes.TypeKind" id="77834">tpe</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77837">ref</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77837" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#77837" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60438" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;IS_INSTANCE on primitive type: &quot;</span> + <a href="#77837" title="Checkers.this.global.icodes.TypeKind">ref</a>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77834" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#77834" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60438" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;IS_INSTANCE to primitive type: &quot;</span> + <a href="#77834" title="Checkers.this.global.icodes.TypeKind">tpe</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46203" title="object Checkers.this.global.icodes.BOOL">BOOL</a>);

          <span title="Unit" class="keyword">case</span> CHECK_CAST(<a title="Checkers.this.global.icodes.TypeKind" id="77860">tpe</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77863">ref</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77863" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#77863" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60438" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;CHECK_CAST on primitive type: &quot;</span> + <a href="#77863" title="Checkers.this.global.icodes.TypeKind">ref</a>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77860" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#77860" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60438" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;CHECK_CAST to primitive type: &quot;</span> + <a href="#77860" title="Checkers.this.global.icodes.TypeKind">tpe</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77860" title="Checkers.this.global.icodes.TypeKind">tpe</a>);

          <span title="Unit" class="keyword">case</span> SWITCH(<a title="List[List[Int]]" id="77883">tags</a>, <a title="List[Checkers.this.global.icodes.BasicBlock]" id="77884">labels</a>) =&gt;
            <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46211" title="object Checkers.this.global.icodes.INT">INT</a>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77883" title="List[List[Int]]">tags</a>.<a title="(x$1: Int)Boolean" id="2952">length</a> == <a href="#77884" title="List[Checkers.this.global.icodes.BasicBlock]">labels</a>.<a title="(x$1: Int)Int" id="2966">length</a> - <span title="Int(1)" class="int">1</span>,
                      <span title="java.lang.String(&quot;The number of tags and labels does not coincide.&quot;)" class="string">&quot;The number of tags and labels does not coincide.&quot;</span>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77884" title="(p: (Checkers.this.global.icodes.BasicBlock) =&gt; Boolean)Boolean" id="28935">labels</a> forall (<a title="Checkers.this.global.icodes.BasicBlock" id="77910">b</a> =&gt; <a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77910" title="Checkers.this.global.icodes.BasicBlock">b</a>),
                      <span title="java.lang.String(&quot;Switch target cannot be found in code.&quot;)" class="string">&quot;Switch target cannot be found in code.&quot;</span>)

          <span title="Unit" class="keyword">case</span> JUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="77919">whereto</a>) =&gt;
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77919" title="Checkers.this.global.icodes.BasicBlock">whereto</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#77919" title="Checkers.this.global.icodes.BasicBlock">whereto</a>)

          <span title="Unit" class="keyword">case</span> CJUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="77933">success</a>, <a title="Checkers.this.global.icodes.BasicBlock" id="77934">failure</a>, <a title="Checkers.this.global.icodes.TestOp" id="77935">cond</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77936">kind</a>) =&gt;
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77933" title="Checkers.this.global.icodes.BasicBlock">success</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#77933" title="Checkers.this.global.icodes.BasicBlock">success</a>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77934" title="Checkers.this.global.icodes.BasicBlock">failure</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#77934" title="Checkers.this.global.icodes.BasicBlock">failure</a>)
            <a href="#76871" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77936" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> CZJUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="77959">success</a>, <a title="Checkers.this.global.icodes.BasicBlock" id="77960">failure</a>, <a title="Checkers.this.global.icodes.TestOp" id="77961">cond</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77962">kind</a>) =&gt;
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77959" title="Checkers.this.global.icodes.BasicBlock">success</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#77959" title="Checkers.this.global.icodes.BasicBlock">success</a>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#75754" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61390" title="(elem: Any)Boolean">blocks</a> contains <a href="#77960" title="Checkers.this.global.icodes.BasicBlock">failure</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#77960" title="Checkers.this.global.icodes.BasicBlock">failure</a>)
            <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77962" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> RETURN(<a title="Checkers.this.global.icodes.TypeKind" id="77984">kind</a>) =&gt;
            <a href="#77984" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="TypeKinds.scala.html#46201" title="object Checkers.this.global.icodes.UNIT">UNIT</a> =&gt; <span title="Unit">(</span>)

              <span title="Unit" class="keyword">case</span> REFERENCE(_) | ARRAY(_) =&gt;
                <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
                <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77993">top</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
                <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77993" title="Checkers.this.global.icodes.TypeKind">top</a>.<a href="TypeKinds.scala.html#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#77993" title="Checkers.this.global.icodes.TypeKind">top</a>.<a href="TypeKinds.scala.html#60438" title="=&gt; Boolean">isArrayType</a>,
                            <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77984" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is a reference type, but &quot;)" class="string">&quot; is a reference type, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77993" title="Checkers.this.global.icodes.TypeKind">top</a> + <span title="java.lang.String(&quot; is not&quot;)" class="string">&quot; is not&quot;</span>);
              <span title="Unit" class="keyword">case</span> _ =&gt;
                <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
                <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78010">top</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
                <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#78010" title="Checkers.this.global.icodes.TypeKind">top</a>, <a href="#77984" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            }

          <span title="Unit" class="keyword">case</span> THROW() =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78019">thrown</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78019" title="Checkers.this.global.icodes.TypeKind">thrown</a>.<a href="../../symtab/Types.scala.html#30235" title="(that: Checkers.this.global.icodes.global.Type)Boolean">toType</a> &lt;:&lt; <a href="../../symtab/Definitions.scala.html#26479" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28297" title="=&gt; Checkers.this.global.Symbol">ThrowableClass</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; Checkers.this.global.Type">tpe</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Element on top of stack should implement 'Throwable': &quot;</span> + <a href="#78019" title="Checkers.this.global.icodes.TypeKind">thrown</a>);
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#75764" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL</a>)

          <span title="Unit" class="keyword">case</span> DROP(<a title="Checkers.this.global.icodes.TypeKind" id="78033">kind</a>) =&gt;
            <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#78033" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> DUP(<a title="Checkers.this.global.icodes.TypeKind" id="78041">kind</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78044">top</a> = <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#78044" title="Checkers.this.global.icodes.TypeKind">top</a>, <a href="#78041" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78044" title="Checkers.this.global.icodes.TypeKind">top</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78044" title="Checkers.this.global.icodes.TypeKind">top</a>)

          <span title="Unit" class="keyword">case</span> MONITOR_ENTER() =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>.<a href="TypeKinds.scala.html#60437" title="=&gt; Boolean">isReferenceType</a>,
                      <span title="java.lang.String(&quot;MONITOR_ENTER on non-reference type&quot;)" class="string">&quot;MONITOR_ENTER on non-reference type&quot;</span>)

          <span title="Unit" class="keyword">case</span> MONITOR_EXIT() =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#76874" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>.<a href="TypeKinds.scala.html#60437" title="=&gt; Boolean">isReferenceType</a>,
                      <span title="java.lang.String(&quot;MONITOR_EXIT on non-reference type&quot;)" class="string">&quot;MONITOR_EXIT on non-reference type&quot;</span>)

          <span title="Unit" class="keyword">case</span> BOX(<a title="Checkers.this.global.icodes.TypeKind" id="78072">kind</a>) =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#76870" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#78072" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="../../Global.scala.html#39037" title="object Checkers.this.global.icodes">icodes</a>.<a href="ICodes.scala.html#46156" title="=&gt; Checkers.this.global.icodes.TypeKind">AnyRefReference</a>)
            
          <span title="Unit" class="keyword">case</span> UNBOX(<a title="Checkers.this.global.icodes.TypeKind" id="78085">kind</a>) =&gt;
            <a href="#76867" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60540" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78085" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> LOAD_EXCEPTION() =&gt;
            <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60538" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#75768" title="=&gt; Checkers.this.global.icodes.REFERENCE">THROWABLE</a>)
            
          <span title="Unit" class="keyword">case</span> SCOPE_ENTER(_) | SCOPE_EXIT(_) =&gt;
            <span title="Unit">(</span>)
          
          <span title="Nothing" class="keyword">case</span> _ =&gt;
            <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown instruction: &quot;</span> + <a href="#76866" title="Checkers.this.global.icodes.Instruction">instr</a>)
        }
      }
      <a href="#76756" title="Checkers.this.global.icodes.TypeStack">stack</a>
    }

    //////////////// Error reporting /////////////////////////

    <span class="keyword">def</span> <a title="(msg: String)Unit" id="75788">error</a>(<a title="String" id="76789">msg</a>: <span title="String">String</span>) {
      <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#75751" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>.<a href="Members.scala.html#61262" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in block: &quot;)" class="string">&quot; in block: &quot;</span> + <a href="#75785" title="=&gt; Checkers.this.global.icodes.BasicBlock">basicBlock</a>.<a href="BasicBlocks.scala.html#61275" title="=&gt; Int">label</a>)
      <a href="#75789" title="=&gt; Unit">printLastIntructions</a>

      <a href="#15186" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#75738" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39060" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;ICode checker: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#75751" title="=&gt; Checkers.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#76789" title="String">msg</a>)
    }

    /** Prints the last 4 instructions. */
    <span class="keyword">def</span> <a title="=&gt; Unit" id="75789">printLastIntructions</a> {
      <span class="keyword">var</span> <a title="Int" id="78138">printed</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="List[Checkers.this.global.icodes.Instruction]" id="78139">buf</a>: <span title="List[Checkers.this.global.icodes.Instruction]">List</span>[Instruction] = <span title="object Nil">Nil</span>

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.Instruction" id="78151">i</a> &lt;- <a href="#75785" title="=&gt; Checkers.this.global.icodes.BasicBlock">basicBlock</a>.<a title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit" id="25582">reverse</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="#78151" title="(x$1: AnyRef)Boolean">i</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#75782" title="=&gt; Checkers.this.global.icodes.Instruction">instruction</a> || (<a href="#78138" title="(x$1: Int)Boolean">printed</a> <span title="(x$1: Boolean)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <a href="#78138" title="(x$1: Int)Boolean">printed</a> &lt; <span title="Int(3)" class="int">3</span>)) {
          <a href="#78139" title="List[Checkers.this.global.icodes.Instruction]">buf</a> = <a href="#78151" title="Checkers.this.global.icodes.Instruction">i</a> <a href="#78174" title="Checkers.this.global.icodes.Instruction">::</a> <a href="#78139" title="(x: Checkers.this.global.icodes.Instruction)List[Checkers.this.global.icodes.Instruction]" id="24258">buf</a>
          <a href="#78138" title="Int">printed</a> += <span title="Int(1)" class="int">1</span>
        }
      }
      <a href="#78139" title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit">buf</a> foreach <span title="object Console">Console</span>.<a href="#78238" title="(x: Any)Unit">println</a>
      <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;at: &quot;</span> + (<a href="#78139" title="List[Checkers.this.global.icodes.Instruction]">buf</a>.<a title="=&gt; Checkers.this.global.icodes.Instruction" id="25443">head</a>.<a href="Opcodes.scala.html#61473" title="=&gt; scala.tools.nsc.util.Position">pos</a>))
    }

    <span class="keyword">def</span> <a title="(msg: String,stack: Checkers.this.global.icodes.TypeStack)Unit" id="75790">error</a>(<a title="String" id="76786">msg</a>: <span title="String">String</span>, <a title="Checkers.this.global.icodes.TypeStack" id="76787">stack</a>: <a href="TypeStacks.scala.html#46190" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>) {
      <a href="#75788" title="(msg: String)Unit">error</a>(<a href="#76786" title="(x$1: Any)java.lang.String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012 type stack: &quot;)" class="string">&quot;\n type stack: &quot;</span> + <a href="#76787" title="Checkers.this.global.icodes.TypeStack">stack</a>)
    }

    //////////////////// Checking /////////////////////////////

    /** Return true if &lt;code&gt;k1&lt;/code&gt; is a subtype of any of the following
     *  types.
     */
    <span class="keyword">def</span> <a title="(k1: Checkers.this.global.icodes.TypeKind,kinds: Checkers.this.global.icodes.TypeKind*)Boolean" id="75791">isOneOf</a>(<a title="Checkers.this.global.icodes.TypeKind" id="76968">k1</a>: <a href="TypeKinds.scala.html#46199" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind*" id="76969">kinds</a>: <span title="Checkers.this.global.icodes.TypeKind*">TypeKind</span>*) =
      <a href="#76969" title="Checkers.this.global.icodes.TypeKind*">kinds</a>.<a title="(p: (Checkers.this.global.icodes.TypeKind) =&gt; Boolean)Boolean" id="25282">exists</a>( <a title="Checkers.this.global.icodes.TypeKind" id="76974">k</a> =&gt; <a href="TypeKinds.scala.html#60444" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k1</a> &lt;:&lt; <a href="#76974" title="Checkers.this.global.icodes.TypeKind">k</a>)

  }
}

        </pre>
    </body>
</html>