<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/icode/Checkers.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */

// $Id: Checkers.scala 18549 2009-08-22 23:29:38Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend
<span class="keyword">package</span> icode

<span class="keyword">import</span> scala.collection.mutable.{Buffer, ListBuffer, Map, HashMap}
<span class="keyword">import</span> scala.tools.nsc.symtab._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Checkers extends java.lang.Object with ScalaObject" id="15261">Checkers</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="76025">global</a>: <a href="../../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** &lt;p&gt;
   *    This class performs a set of checks similar to what the bytecode
   *    verifier does. For each basic block, it checks that:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;
   *      for primitive operations: the type and numer of operands match
   *      the type of the operation
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for method calls: the method exists in the type of the receiver
   *      and the number and type of arguments match the declared type of 
   *      the method.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for object creation: the constructor can be called.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      for load/stores: the field/local/param exists and the type 
   *      of the value matches that of the target.
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   *  &lt;p&gt;
   *    For a control flow graph it checks that type stacks at entry to
   *    each basic block 'agree': 
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;they have the same length&lt;/li&gt;
   *    &lt;li&gt;there exists a lub for all types at the same position in stacks.&lt;/li&gt;
   *  &lt;/ul&gt;
   *
   *  @author  Iulian Dragos
   *  @version 1.0, 06/09/2005
   *
   *  @todo Better checks for &lt;code&gt;MONITOR_ENTER/EXIT&lt;/code&gt;
   *        Better checks for local var initializations
   */
  <span class="keyword">class</span> <a title="class ICodeChecker extends java.lang.Object with ScalaObject" id="76027">ICodeChecker</a> <span title="ScalaObject">{</span>
    <span class="keyword">import</span> icodes._
    <span class="keyword">import</span> opcodes._

    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.IClass" id="76035">clasz</a>: <a href="Members.scala.html#46403" title="Checkers.this.global.icodes.IClass">IClass</a> = _
    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.IMethod" id="76038">method</a>: <a href="Members.scala.html#46405" title="Checkers.this.global.icodes.IMethod">IMethod</a> = _
    <span class="keyword">var</span> <a title="Checkers.this.global.icodes.Code" id="76041">code</a>: <a href="Members.scala.html#46402" title="Checkers.this.global.icodes.Code">Code</a> = _

    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" id="76043">in</a>: <span title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">Map</span>[BasicBlock, TypeStack] = <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">HashMap</span>()
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" id="76045">out</a>: <span title="scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">Map</span>[BasicBlock, TypeStack] = <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">HashMap</span>()

    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeStack" id="76047">emptyStack</a> = <span title="Checkers.this.global.icodes.TypeStack" class="keyword">new</span> <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>()

    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="76049">STRING</a>        = <a href="TypeKinds.scala.html#60703" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26638" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28519" title="=&gt; Checkers.this.global.Symbol">StringClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="76051">SCALA_ALL</a>     = <a href="TypeKinds.scala.html#60703" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26638" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28457" title="=&gt; Checkers.this.global.Symbol">NothingClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="76053">SCALA_ALL_REF</a> = <a href="TypeKinds.scala.html#60703" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26638" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28455" title="=&gt; Checkers.this.global.Symbol">NullClass</a>)
    <span class="keyword">val</span> <a title="Checkers.this.global.icodes.REFERENCE" id="76055">THROWABLE</a>     = <a href="TypeKinds.scala.html#60703" title="(cls: Checkers.this.global.icodes.global.Symbol)Checkers.this.global.icodes.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#26638" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28483" title="=&gt; Checkers.this.global.Symbol">ThrowableClass</a>)

    <span class="keyword">def</span> <a title="=&gt; Unit" id="76057">checkICodes</a>: <a title="Unit" id="1971">Unit</a> = {
      <span title="Unit" class="keyword">if</span> (<a href="../../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../Settings.scala.html#37265" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">verbose</a>.<a href="../../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
      <a title="(x: Any)Unit" id="8126">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;[[consistency check at the beginning of phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../Global.scala.html#39324" title="=&gt; scala.tools.nsc.Phase">globalPhase</a>.<a href="../../Phase.scala.html#23303" title="=&gt; String">name</a> + <span title="java.lang.String(&quot;]]&quot;)" class="string">&quot;]]&quot;</span>)
      <a href="ICodes.scala.html#46378" title="=&gt; scala.collection.mutable.HashMap[Checkers.this.global.icodes.global.Symbol,Checkers.this.global.icodes.IClass]">classes</a>.<a title="(f: (Checkers.this.global.icodes.IClass) =&gt; Unit)Unit" id="44706">valuesIterator</a> foreach <a href="#76058" title="(cls: Checkers.this.global.icodes.IClass)Unit">check</a>
    }

    <span class="keyword">def</span> <a title="(cls: Checkers.this.global.icodes.IClass)Unit" id="76058">check</a>(<a title="Checkers.this.global.icodes.IClass" id="76213">cls</a>: <a href="Members.scala.html#46403" title="Checkers.this.global.icodes.IClass">IClass</a>) {
      <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Checking class &quot;</span> + <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>)
      <a href="#76035" title="(x$1: Checkers.this.global.icodes.IClass)Unit">clasz</a> = <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.IField" id="76249">f1</a> &lt;- <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66944" title="(f: (Checkers.this.global.icodes.IField) =&gt; Unit)Unit">fields</a>; <a title="Checkers.this.global.icodes.IField" id="76274">f2</a> &lt;- <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66944" title="(f: (Checkers.this.global.icodes.IField) =&gt; Unit)Unit">fields</a> <span class="keyword">if</span> <a href="#76249" title="(x$1: AnyRef)Boolean">f1</a> ne <a href="#76274" title="Checkers.this.global.icodes.IField">f2</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#76249" title="Checkers.this.global.icodes.IField">f1</a>.<a href="Members.scala.html#67412" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="#76274" title="Checkers.this.global.icodes.IField">f2</a>.<a href="Members.scala.html#67412" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.icodes.global.Name">name</a>)
          <a href="#15261" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#76025" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39292" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Repetitive field name: &quot;</span> +
                                     <a href="#76249" title="Checkers.this.global.icodes.IField">f1</a>.<a href="Members.scala.html#67412" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>);

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.IMethod" id="76316">m1</a> &lt;- <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66947" title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">methods</a>; <a title="Checkers.this.global.icodes.IMethod" id="76341">m2</a> &lt;- <a href="#76213" title="Checkers.this.global.icodes.IClass">cls</a>.<a href="Members.scala.html#66947" title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">methods</a> <span class="keyword">if</span> <a href="#76316" title="(x$1: AnyRef)Boolean">m1</a> ne <a href="#76341" title="Checkers.this.global.icodes.IMethod">m2</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#76316" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61494" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#76341" title="Checkers.this.global.icodes.IMethod">m2</a>.<a href="Members.scala.html#61494" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.icodes.global.Name">name</a> &amp;&amp;
            <a href="#76316" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61494" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Types.scala.html#30422" title="(that: Checkers.this.global.icodes.global.Type)Boolean">tpe</a> =:= <a href="#76341" title="Checkers.this.global.icodes.IMethod">m2</a>.<a href="Members.scala.html#61494" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)
          <a href="#15261" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#76025" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39292" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Repetitive method: &quot;</span> +
                                     <a href="#76316" title="Checkers.this.global.icodes.IMethod">m1</a>.<a href="Members.scala.html#61494" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>);
      <a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66947" title="=&gt; List[Checkers.this.global.icodes.IMethod]">methods</a>.<span title="(f: (Checkers.this.global.icodes.IMethod) =&gt; Unit)Unit">foreach</span>(<a href="#76062" title="(m: Checkers.this.global.icodes.IMethod)Unit">check</a>)
    }

    /** Apply the give funtion to each pair of the cartesian product of
     * l1 x l2.
     */
    <span class="keyword">def</span> <a title="[a](l1: List[a],l2: List[a])(f: (a, a) =&gt; Unit)Unit" id="76059">pairwise</a>[<a title="&gt;: Nothing &lt;: Any" id="76061">a</a>](<a title="List[a]" id="76396">l1</a>: <span title="List[a]">List</span>[a], <a title="List[a]" id="76397">l2</a>: <span title="List[a]">List</span>[a])(<a title="(a, a) =&gt; Unit" id="76398">f</a>: (a, a) =&gt; Unit) =
      <a href="#76396" title="(f: (a) =&gt; Unit)Unit">l1</a> foreach { <a title="a" id="76417">x</a> =&gt;
        <a href="#76397" title="(f: (a) =&gt; Unit)Unit">l2</a> foreach { <a title="a" id="76434">y</a> =&gt; <a href="#76398" title="(v1: a,v2: a)Unit" id="37866">f</a>(<a href="#76417" title="a">x</a>, <a href="#76434" title="a">y</a>) }
      }

    <span class="keyword">def</span> <a title="(m: Checkers.this.global.icodes.IMethod)Unit" id="76062">check</a>(<a title="Checkers.this.global.icodes.IMethod" id="76211">m</a>: <a href="Members.scala.html#46405" title="Checkers.this.global.icodes.IMethod">IMethod</a>) {
      <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Checking method &quot;</span> + <a href="#76211" title="Checkers.this.global.icodes.IMethod">m</a>)
      <a href="#76038" title="(x$1: Checkers.this.global.icodes.IMethod)Unit">method</a> = <a href="#76211" title="Checkers.this.global.icodes.IMethod">m</a>
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#76211" title="Checkers.this.global.icodes.IMethod">m</a>.<a href="Members.scala.html#61529" title="=&gt; Boolean">isDeferred</a>)
        <a href="#76063" title="(c: Checkers.this.global.icodes.Code)Unit">check</a>(<a href="#76211" title="Checkers.this.global.icodes.IMethod">m</a>.<a href="Members.scala.html#61497" title="=&gt; Checkers.this.global.icodes.Code">code</a>)
    }

    <span class="keyword">def</span> <a title="(c: Checkers.this.global.icodes.Code)Unit" id="76063">check</a>(<a title="Checkers.this.global.icodes.Code" id="76209">c</a>: <a href="Members.scala.html#46402" title="Checkers.this.global.icodes.Code">Code</a>) {
      <span class="keyword">var</span> <a title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]" id="76461">worklist</a>: <a title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]" id="24999">Buffer</a>[BasicBlock] = <span title="scala.collection.mutable.ListBuffer[Checkers.this.global.icodes.BasicBlock]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[Checkers.this.global.icodes.BasicBlock]" id="24978">ListBuffer</a>()

      <span class="keyword">def</span> <a title="(elems: List[Checkers.this.global.icodes.BasicBlock])Unit" id="76462">append</a>(<a title="List[Checkers.this.global.icodes.BasicBlock]" id="76467">elems</a>: <span title="List[Checkers.this.global.icodes.BasicBlock]">List</span>[BasicBlock]) = <a href="#76467" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Any)Unit">elems</a> foreach <a href="#76463" title="(bl: Checkers.this.global.icodes.BasicBlock)Any">appendBlock</a>;
      <span class="keyword">def</span> <a title="(bl: Checkers.this.global.icodes.BasicBlock)Any" id="76463">appendBlock</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="76483">bl</a>: <a href="BasicBlocks.scala.html#46410" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>) =
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#76461" title="(elem: Any)Boolean" id="25768">worklist</a> contains <a href="#76483" title="Checkers.this.global.icodes.BasicBlock">bl</a>))
          <a href="#76461" title="(elem: Checkers.this.global.icodes.BasicBlock)scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a> += <a href="#76483" title="Checkers.this.global.icodes.BasicBlock">bl</a>

      <a href="#76043" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">in</a>.<span title="()Unit">clear</span>;  <a href="#76045" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">out</a>.<span title="()Unit">clear</span>;
      <a href="#76041" title="(x$1: Checkers.this.global.icodes.Code)Unit">code</a> = <a href="#76209" title="Checkers.this.global.icodes.Code">c</a>;
      <a href="#76461" title="(elem: Checkers.this.global.icodes.BasicBlock)scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a> += <a href="#76209" title="Checkers.this.global.icodes.Code">c</a>.<a href="Members.scala.html#61661" title="=&gt; Checkers.this.global.icodes.BasicBlock">startBlock</a>
      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.BasicBlock" id="76588">bl</a> &lt;- <a href="#76209" title="Checkers.this.global.icodes.Code">c</a>.<a href="Members.scala.html#61659" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack])Unit" id="62018">blocks</a>) {
        <a href="#76043" title="(kv: (Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack))ICodeChecker.this.in.type">in</a>  += (<a href="#76588" title="(y: Checkers.this.global.icodes.TypeStack)(Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack)">bl</a> -&gt; <a href="#76047" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)
        <a href="#76045" title="(kv: (Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack))ICodeChecker.this.out.type">out</a> += (<a href="#76588" title="(y: Checkers.this.global.icodes.TypeStack)(Checkers.this.global.icodes.BasicBlock, Checkers.this.global.icodes.TypeStack)">bl</a> -&gt; <a href="#76047" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)
      }

      <span title="Unit" class="keyword">while</span> (<a href="#76461" title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a>.<a title="(x$1: Int)Boolean" id="61901">length</a> &gt; <span title="Int(0)" class="int">0</span>) <a href="#76681" title="()Unit">{</a>
        <span class="keyword">val</span> <a title="Checkers.this.global.icodes.BasicBlock" id="76689">block</a> = <a href="#76461" title="(n: Int)Checkers.this.global.icodes.BasicBlock" id="61896">worklist</a>(<span title="Int(0)" class="int">0</span>); <a href="#76461" title="scala.collection.mutable.Buffer[Checkers.this.global.icodes.BasicBlock]">worklist</a>.<a title="(n: Int)Unit" id="61934">trimStart</a>(<span title="Int(1)" class="int">1</span>);
        <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeStack" id="76690">output</a> = <a href="#76074" title="(b: Checkers.this.global.icodes.BasicBlock,initial: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack">check</a>(<a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>, <a href="#76043" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">in</a>(<a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>));
        <span title="Unit" class="keyword">if</span> (<a href="#76690" title="(x$1: AnyRef)Boolean">output</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#76045" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">out</a>(<a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>) ||
            (<a href="#76045" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">out</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>) eq <a href="#76047" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>)) {
          <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Output changed for block: &quot;</span> + <a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61620" title="=&gt; String">fullString</a>);
          <a href="#76045" title="(key: Checkers.this.global.icodes.BasicBlock,value: Checkers.this.global.icodes.TypeStack)Unit">out</a>(<a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>) = <a href="#76690" title="Checkers.this.global.icodes.TypeStack">output</a>;
          <a href="#76462" title="(elems: List[Checkers.this.global.icodes.BasicBlock])Unit">append</a>(<a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61613" title="=&gt; List[Checkers.this.global.icodes.BasicBlock]">successors</a>);
          <a href="#76689" title="Checkers.this.global.icodes.BasicBlock">block</a>.<a href="BasicBlocks.scala.html#61613" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Unit)Unit">successors</a> foreach <a href="#76064" title="(bl: Checkers.this.global.icodes.BasicBlock)Unit">meet</a>;
        }
      }
    }

    /** 
     * Apply the meet operator of the stack lattice on bl's predecessors.
     * :-). Compute the input to bl by checking that all stacks have the
     * same length, and taking the lub of types at the same positions.
     */
    <span class="keyword">def</span> <a title="(bl: Checkers.this.global.icodes.BasicBlock)Unit" id="76064">meet</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="76812">bl</a>: <a href="BasicBlocks.scala.html#46410" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>) {
      <span class="keyword">val</span> <a title="List[Checkers.this.global.icodes.BasicBlock]" id="76823">preds</a> = <a href="#76812" title="Checkers.this.global.icodes.BasicBlock">bl</a>.<a href="BasicBlocks.scala.html#61615" title="=&gt; List[Checkers.this.global.icodes.BasicBlock]">predecessors</a>

      <span class="keyword">def</span> <a title="(s1: Checkers.this.global.icodes.TypeStack,s2: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="76824">meet2</a>(<a title="Checkers.this.global.icodes.TypeStack" id="76825">s1</a>: <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>, <a title="Checkers.this.global.icodes.TypeStack" id="76826">s2</a>: <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>): <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = {
        <span title="Checkers.this.global.icodes.TypeStack" class="keyword">if</span> (<a href="#76825" title="(x$1: AnyRef)Boolean">s1</a> eq <a href="#76047" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>) <a href="#76826" title="Checkers.this.global.icodes.TypeStack">s2</a>
        <span class="keyword">else</span> <span title="Checkers.this.global.icodes.TypeStack" class="keyword">if</span> (<a href="#76826" title="(x$1: AnyRef)Boolean">s2</a> eq <a href="#76047" title="=&gt; Checkers.this.global.icodes.TypeStack">emptyStack</a>) <a href="#76825" title="Checkers.this.global.icodes.TypeStack">s1</a> 
        <span class="keyword">else</span> {
          <span title="Unit" class="keyword">if</span> (<a href="#76825" title="Checkers.this.global.icodes.TypeStack">s1</a>.<a href="TypeStacks.scala.html#60806" title="(x$1: Int)Boolean" id="2975">length</a> != <a href="#76826" title="Checkers.this.global.icodes.TypeStack">s2</a>.<a href="TypeStacks.scala.html#60806" title="=&gt; Int">length</a>)
            <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.backend.icode.CheckerError" class="keyword">new</span> <a href="CheckerError.scala.html#15042" title="scala.tools.nsc.backend.icode.CheckerError">CheckerError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Incompatible stacks: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76825" title="Checkers.this.global.icodes.TypeStack">s1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76826" title="Checkers.this.global.icodes.TypeStack">s2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76038" title="=&gt; Checkers.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; at entry to block: &quot;)" class="string">&quot; at entry to block: &quot;</span> + <a href="#76812" title="Checkers.this.global.icodes.BasicBlock">bl</a>);
          <a href="TypeStacks.scala.html#60804" title="(stack: Checkers.this.global.icodes.Rep)Checkers.this.global.icodes.TypeStack" class="keyword">new</a> <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>(<span title="object List">List</span>.<a title="(xs: List[Checkers.this.global.icodes.TypeKind],ys: List[Checkers.this.global.icodes.TypeKind])(f: (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) =&gt; Checkers.this.global.icodes.TypeKind)List[Checkers.this.global.icodes.TypeKind]" id="24534">map2</a>(<a href="#76825" title="Checkers.this.global.icodes.TypeStack">s1</a>.<a href="TypeStacks.scala.html#60801" title="=&gt; Checkers.this.global.icodes.Rep">types</a>, <a href="#76826" title="Checkers.this.global.icodes.TypeStack">s2</a>.<a href="TypeStacks.scala.html#60801" title="=&gt; Checkers.this.global.icodes.Rep">types</a>) (<a href="TypeKinds.scala.html#46432" title="(a: Checkers.this.global.icodes.TypeKind,b: Checkers.this.global.icodes.TypeKind)Checkers.this.global.icodes.TypeKind">lub</a>))
        }
      }

      <span title="Unit" class="keyword">if</span> (<a href="#76823" title="(x$1: AnyRef)Boolean">preds</a> != <span title="object Nil">Nil</span>) {
        <a href="#76043" title="(key: Checkers.this.global.icodes.BasicBlock,value: Checkers.this.global.icodes.TypeStack)Unit">in</a>(<a href="#76812" title="Checkers.this.global.icodes.BasicBlock">bl</a>) = <a title="(f: (Checkers.this.global.icodes.TypeStack, Checkers.this.global.icodes.TypeStack) =&gt; Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="29137">(</a><a href="#76823" title="(f: (Checkers.this.global.icodes.BasicBlock) =&gt; Checkers.this.global.icodes.TypeStack)(implicit bf: scala.collection.generic.BuilderFactory[Checkers.this.global.icodes.TypeStack,List[Checkers.this.global.icodes.TypeStack],List[Checkers.this.global.icodes.BasicBlock]])List[Checkers.this.global.icodes.TypeStack]" id="25402">preds</a> <a title="scala.collection.generic.BuilderFactory[Checkers.this.global.icodes.TypeStack,List[Checkers.this.global.icodes.TypeStack],List#Coll]" id="24472">map</a> <a href="#76045" title="=&gt; scala.collection.mutable.Map[Checkers.this.global.icodes.BasicBlock,Checkers.this.global.icodes.TypeStack]">out</a>.<a href="#76915" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">apply</a>) reduceLeft <a href="#76824" title="(s1: Checkers.this.global.icodes.TypeStack,s2: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack">meet2</a>;      
        <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Input changed for block: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76812" title="Checkers.this.global.icodes.BasicBlock">bl</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> + <a href="#76043" title="(key: Checkers.this.global.icodes.BasicBlock)Checkers.this.global.icodes.TypeStack">in</a>(<a href="#76812" title="Checkers.this.global.icodes.BasicBlock">bl</a>));
      }
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.TypeStack" id="76066">typeStack</a>: <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.Instruction" id="76069">instruction</a>: <a href="Opcodes.scala.html#46414" title="Checkers.this.global.icodes.Instruction">Instruction</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Checkers.this.global.icodes.BasicBlock" id="76072">basicBlock</a>: <a href="BasicBlocks.scala.html#46410" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a> = <span title="Null(null)" class="keyword">null</span>

    /**
     * Check the basic block to be type correct and return the
     * produced type stack.
     */
    <span class="keyword">def</span> <a title="(b: Checkers.this.global.icodes.BasicBlock,initial: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" id="76074">check</a>(<a title="Checkers.this.global.icodes.BasicBlock" id="76206">b</a>: <a href="BasicBlocks.scala.html#46410" title="Checkers.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Checkers.this.global.icodes.TypeStack" id="76207">initial</a>: <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>): <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a> = {
      <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;** Checking block:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76206" title="Checkers.this.global.icodes.BasicBlock">b</a>.<a href="BasicBlocks.scala.html#61620" title="=&gt; String">fullString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with initial stack:\012&quot;)" class="string">&quot; with initial stack:\n&quot;</span> + <a href="#76207" title="Checkers.this.global.icodes.TypeStack">initial</a>)
      <span class="keyword">var</span> <a title="Checkers.this.global.icodes.TypeStack" id="77046">stack</a> = <a href="TypeStacks.scala.html#60805" title="(that: Checkers.this.global.icodes.TypeStack)Checkers.this.global.icodes.TypeStack" class="keyword">new</a> <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>(<a href="#76207" title="Checkers.this.global.icodes.TypeStack">initial</a>)

      <a href="#76027" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#76066" title="(x$1: Checkers.this.global.icodes.TypeStack)Unit">typeStack</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>
      <a href="#76027" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#76072" title="(x$1: Checkers.this.global.icodes.BasicBlock)Unit">basicBlock</a> = <a href="#76206" title="Checkers.this.global.icodes.BasicBlock">b</a>

      <span class="keyword">def</span> <a title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit" id="77047">typeError</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77071">k1</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77072">k2</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>) {
        <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77071" title="Checkers.this.global.icodes.TypeKind">k1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but &quot;)" class="string">&quot; but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77072" title="Checkers.this.global.icodes.TypeKind">k2</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>)
      }

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.Instruction" id="77156">instr</a> &lt;- <a href="BasicBlocks.scala.html#61587" title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit">b</a>) {

        <span class="keyword">def</span> <a title="(len: Int)Unit" id="77157">checkStack</a>(<a title="Int" id="77165">len</a>: <a title="Int" id="2198">Int</a>) {
          <span title="Unit" class="keyword">if</span> (<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60806" title="(x$1: Int)Boolean">length</a> &lt; <a href="#77165" title="Int">len</a>)
            <a href="#76027" title="ICodeChecker.this.type">ICodeChecker</a>.<span class="keyword">this</span>.<a href="#76077" title="(msg: String,stack: Checkers.this.global.icodes.TypeStack)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Expected at least &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77165" title="Int">len</a> + <span title="java.lang.String(&quot; elements on the stack&quot;)" class="string">&quot; elements on the stack&quot;</span>, <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>);
          <span class="keyword">else</span>
            <span title="Unit">(</span>)
        }

        <span class="keyword">def</span> <a title="(local: Checkers.this.global.icodes.Local)Unit" id="77158">checkLocal</a>(<a title="Checkers.this.global.icodes.Local" id="77184">local</a>: <a href="Members.scala.html#46406" title="Checkers.this.global.icodes.Local">Local</a>) {
          <a href="#76038" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>.<a href="Members.scala.html#61526" title="(n: Checkers.this.global.icodes.global.Name)Option[Checkers.this.global.icodes.Local]">lookupLocal</a>(<a href="#77184" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#61020" title="=&gt; Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.icodes.global.Name">name</a>) <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> <a title="object None" id="477">None</a> =&gt; <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77184" title="Checkers.this.global.icodes.Local">local</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined in method &quot;)" class="string">&quot; is not defined in method &quot;</span> + <a href="#76038" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt; <span title="Unit">(</span>)
          }
        }

        <span class="keyword">def</span> <a title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit" id="77159">checkField</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77211">obj</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.Symbol" id="77212">field</a>: <a href="../../symtab/Symbols.scala.html#26286" title="Checkers.this.global.Symbol">Symbol</a>) {
          <a href="#77211" title="Checkers.this.global.icodes.TypeKind">obj</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="77223">sym</a>) =&gt;
              <span title="Unit" class="keyword">if</span> (<a href="#77223" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30403" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#77212" title="Checkers.this.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.Name">name</a>) == <a href="../../symtab/Symbols.scala.html#26293" title="object Checkers.this.global.NoSymbol">NoSymbol</a>) 
                <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77212" title="Checkers.this.global.Symbol">field</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined in class &quot;)" class="string">&quot; is not defined in class &quot;</span> + <a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt;
              <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected reference type, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77211" title="Checkers.this.global.icodes.TypeKind">obj</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
          }
        }

        /** Checks that tpe is a subtype of one of the allowed types */
        <span class="keyword">def</span> <a title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit" id="77160">checkType</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77256">tpe</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind*" id="77257">allowed</a>: <span title="Checkers.this.global.icodes.TypeKind*">TypeKind</span>*) {
          <span title="Unit" class="keyword">if</span> (<a href="#76078" title="(k1: Checkers.this.global.icodes.TypeKind,kinds: Checkers.this.global.icodes.TypeKind*)Boolean">isOneOf</a>(<a href="#77256" title="Checkers.this.global.icodes.TypeKind">tpe</a>, <a href="#77257" title="Checkers.this.global.icodes.TypeKind*">allowed</a>: _*))
            <span title="Unit">(</span>)
          <span class="keyword">else</span>
            <a href="#76075" title="(msg: String)Unit">error</a>(<a href="#77256" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a title="()java.lang.String" id="6597">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not one of: &quot;)" class="string">&quot; is not one of: &quot;</span> + <a href="#77257" title="Checkers.this.global.icodes.TypeKind*">allowed</a>.<a title="=&gt; List[Checkers.this.global.icodes.TypeKind]" id="25511">toList</a>.<a title="(start: String,sep: String,end: String)String" id="25519">mkString</a>(<span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span>));
        }

        /** Checks that the 2 topmost elements on stack are of the
         *  kind TypeKind.
         */
        <span class="keyword">def</span> <a title="(kind: Checkers.this.global.icodes.TypeKind)Unit" id="77161">checkBinop</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77293">kind</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>) {
          <span class="keyword">val</span> <a href="#77295" title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">(</a><a href="#77294" title="Checkers.this.global.icodes.TypeKind" id="77295">a</a>, <a href="#77294" title="Checkers.this.global.icodes.TypeKind" id="77296">b</a>) = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60810" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>
          <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77295" title="Checkers.this.global.icodes.TypeKind">a</a>, <a href="#77293" title="Checkers.this.global.icodes.TypeKind">kind</a>)
          <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77296" title="Checkers.this.global.icodes.TypeKind">b</a>, <a href="#77293" title="Checkers.this.global.icodes.TypeKind">kind</a>)
        }

        /** Check that arguments on the stack match method params. */
        <span class="keyword">def</span> <a title="(method: Checkers.this.global.Symbol)Unit" id="77162">checkMethodArgs</a>(<a title="Checkers.this.global.Symbol" id="77317">method</a>: <a href="../../symtab/Symbols.scala.html#26286" title="Checkers.this.global.Symbol">Symbol</a>) {
          <span class="keyword">val</span> <a title="List[Checkers.this.global.Type]" id="77318">params</a> = <a href="#77317" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30386" title="=&gt; List[Checkers.this.global.Type]">paramTypes</a>
          <a href="#77157" title="(len: Int)Unit">checkStack</a>(<a href="#77318" title="List[Checkers.this.global.Type]">params</a>.<span title="=&gt; Int">length</span>)
          <a href="#77318" title="List[Checkers.this.global.Type]">params</a>.<a title="=&gt; List[Checkers.this.global.Type]" id="24460">reverse</a>.<span title="(f: (Checkers.this.global.Type) =&gt; Unit)Unit">foreach</span>( (<a title="Checkers.this.global.Type" id="77338">tpe</a>) =&gt; <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77338" title="Checkers.this.global.Type">tpe</a>)))
        }

        /** Checks that the object passed as receiver has a method
         *  &lt;code&gt;method&lt;/code&gt; and that it is callable from the current method.
         *
         *  @param receiver ...
         *  @param method   ...
         */
        <span class="keyword">def</span> <a title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit" id="77163">checkMethod</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77349">receiver</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.Symbol" id="77350">method</a>: <a href="../../symtab/Symbols.scala.html#26286" title="Checkers.this.global.Symbol">Symbol</a>) = 
          <a href="#77349" title="Checkers.this.global.icodes.TypeKind">receiver</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="77352">sym</a>) =&gt;
              <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77352" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30403" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.Name">name</a>) != <a href="../../symtab/Symbols.scala.html#26293" title="object Checkers.this.global.NoSymbol">NoSymbol</a>,
                        <span title="(x$1: Any)java.lang.String" class="string">&quot;Method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77350" title="Checkers.this.global.Symbol">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist in &quot;)" class="string">&quot; does not exist in &quot;</span> + <a href="#77352" title="Checkers.this.global.icodes.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>);
              <span title="Unit" class="keyword">if</span> (<a href="../../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">method</a> hasFlag Flags.<span title="Long(4L)">PRIVATE</span>)
                <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66941" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>,
                          <span title="(x$1: Any)java.lang.String" class="string">&quot;Cannot call private method of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27142" title="=&gt; Checkers.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a> 
                          <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> + <a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66941" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>);
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">method</a> hasFlag Flags.<span title="Long(1L)">PROTECTED</span>)
                <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="../../symtab/Symbols.scala.html#27183" title="(that: Checkers.this.global.icodes.global.Symbol)Boolean">symbol</a> isSubClass <a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27142" title="=&gt; Checkers.this.global.Symbol">owner</a>,
                          <span title="(x$1: Any)java.lang.String" class="string">&quot;Cannot call protected method of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27142" title="=&gt; Checkers.this.global.Symbol">owner</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>
                          <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> + <a href="#76035" title="=&gt; Checkers.this.global.icodes.IClass">clasz</a>.<a href="Members.scala.html#66941" title="=&gt; Checkers.this.global.icodes.global.Symbol">symbol</a>.<a href="../../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a>);

            <span title="Unit" class="keyword">case</span> ARRAY(_) =&gt;
              <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77349" title="Checkers.this.global.icodes.TypeKind">receiver</a>.<a href="TypeKinds.scala.html#60705" title="=&gt; Checkers.this.global.icodes.global.Type">toType</a>.<a href="../../symtab/Types.scala.html#30403" title="(name: Checkers.this.global.icodes.global.Name)Checkers.this.global.icodes.global.Symbol">member</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#77350" title="Checkers.this.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27147" title="=&gt; Checkers.this.global.Name">name</a>) != <a href="../../symtab/Symbols.scala.html#26293" title="object Checkers.this.global.NoSymbol">NoSymbol</a>,
                        <span title="(x$1: Any)java.lang.String" class="string">&quot;Method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77350" title="Checkers.this.global.Symbol">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not exist in &quot;)" class="string">&quot; does not exist in &quot;</span> + <a href="#77349" title="Checkers.this.global.icodes.TypeKind">receiver</a>)

            <span title="Unit" class="keyword">case</span> <a title="Checkers.this.global.icodes.TypeKind" id="77443">t</a> =&gt;
              <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Not a reference type: &quot;</span> + <a href="#77443" title="Checkers.this.global.icodes.TypeKind">t</a>)
          }

        <span class="keyword">def</span> <a title="(cond: Boolean,msg: String)Unit" id="77164">checkBool</a>(<a title="Boolean" id="77355">cond</a>: <a title="Boolean" id="1972">Boolean</a>, <a title="String" id="77356">msg</a>: <span title="String">String</span>) =
          <span title="Unit" class="keyword">if</span> (<a href="#77355" title="Boolean">cond</a>) <span title="Unit">(</span>) <span class="keyword">else</span> <a href="#76075" title="(msg: String)Unit">error</a>(<a href="#77356" title="String">msg</a>)

        <a href="#76027" title="ICodeChecker.this.type" class="keyword">this</a>.<a href="#76069" title="(x$1: Checkers.this.global.icodes.Instruction)Unit">instruction</a> = <a href="#77156" title="Checkers.this.global.icodes.Instruction">instr</a>

        <span title="Unit" class="keyword">if</span> (<a href="../../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
          <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;PC: &quot;</span> + <a href="#77156" title="Checkers.this.global.icodes.Instruction">instr</a>)
          <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;stack: &quot;</span> + <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>)
          <a href="../../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="java.lang.String(&quot;================&quot;)" class="string">&quot;================&quot;</span>)
        }
        <a href="#77156" title="Checkers.this.global.icodes.Instruction">instr</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> THIS(<a title="Checkers.this.global.icodes.global.Symbol" id="77466">clasz</a>) =&gt;
            <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77466" title="Checkers.this.global.icodes.global.Symbol">clasz</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)

          <span title="Unit" class="keyword">case</span> CONSTANT(<a title="Checkers.this.global.icodes.global.Constant" id="77476">const</a>) =&gt;
            <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77476" title="Checkers.this.global.icodes.global.Constant">const</a>.<a href="../../symtab/Constants.scala.html#43043" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>)

          <span title="Unit" class="keyword">case</span> LOAD_ARRAY_ITEM(<a title="Checkers.this.global.icodes.TypeKind" id="77486">kind</a>) =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(2)" class="int">2</span>)
            (<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60810" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>: @<a title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) @unchecked" id="1175">unchecked</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> (<a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77496">elem</a>)) =&gt; 
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">elem</a> &lt;:&lt; <a href="#77486" title="Checkers.this.global.icodes.TypeKind">kind</a>))
                  <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77486" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77496" title="Checkers.this.global.icodes.TypeKind">elem</a>);
                <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77496" title="Checkers.this.global.icodes.TypeKind">elem</a>);
              <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77511">a</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77512">b</a>) =&gt;
                <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected and INT and a array reference, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                    <a href="#77511" title="Checkers.this.global.icodes.TypeKind">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77512" title="Checkers.this.global.icodes.TypeKind">b</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
            }

         <span title="Unit" class="keyword">case</span> LOAD_LOCAL(<a title="Checkers.this.global.icodes.Local" id="77529">local</a>) =&gt;
           <a href="#77158" title="(local: Checkers.this.global.icodes.Local)Unit">checkLocal</a>(<a href="#77529" title="Checkers.this.global.icodes.Local">local</a>)
           <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#77529" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#61022" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>)

         <span title="Unit" class="keyword">case</span> LOAD_FIELD(<a title="Checkers.this.global.icodes.global.Symbol" id="77539">field</a>, <a title="Boolean" id="77540">isStatic</a>) =&gt;
           <span title="Unit" class="keyword">if</span> (<a href="#77540" title="Boolean">isStatic</a>) <span title="Unit">{</span>
             // the symbol's owner should contain it's field, but
             // this is already checked by the type checker, no need
             // to redo that here
           } <span class="keyword">else</span> {
             <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77543">obj</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
             <a href="#77159" title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit">checkField</a>(<a href="#77543" title="Checkers.this.global.icodes.TypeKind">obj</a>, <a href="#77539" title="Checkers.this.global.icodes.global.Symbol">field</a>)
           }
           <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77539" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>))

         <span title="Unit" class="keyword">case</span> LOAD_MODULE(<a title="Checkers.this.global.icodes.global.Symbol" id="77557">module</a>) =&gt;
           <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>((<a href="#77557" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#27076" title="(x$1: Boolean)Boolean">isModule</a> || <a href="#77557" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#27093" title="=&gt; Boolean">isModuleClass</a>),
                     <span title="(x$1: Any)java.lang.String" class="string">&quot;Expected module: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77557" title="Checkers.this.global.icodes.global.Symbol">module</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flags: &quot;)" class="string">&quot; flags: &quot;</span> + <a href="../../symtab/Flags.scala.html#10482" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../../symtab/Flags.scala.html#29000" title="(flags: Long)String">flagsToString</a>(<a href="#77557" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#27150" title="=&gt; Long">flags</a>));
           <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77557" title="Checkers.this.global.icodes.global.Symbol">module</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>));

         <span title="Unit" class="keyword">case</span> STORE_ARRAY_ITEM(<a title="Checkers.this.global.icodes.TypeKind" id="77581">kind</a>) =&gt;
           <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(3)" class="int">3</span>);
           (<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60811" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop3</a>: @<a title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind) @unchecked" id="410">unchecked</a>) <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77591">k</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77593">elem</a>)) =&gt;
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k</a> &lt;:&lt; <a href="#77581" title="Checkers.this.global.icodes.TypeKind">kind</a>))
                  <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77581" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77591" title="Checkers.this.global.icodes.TypeKind">k</a>);
                <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k</a> &lt;:&lt; <a href="#77593" title="Checkers.this.global.icodes.TypeKind">elem</a>))
                  <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77593" title="Checkers.this.global.icodes.TypeKind">elem</a>, <a href="#77591" title="Checkers.this.global.icodes.TypeKind">k</a>);
             <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77611">a</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77612">b</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77613">c</a>) =&gt;
                <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; expected and array reference, and int and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77581" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)java.lang.String">+</span> 
                      <span title="java.lang.String(&quot; but &quot;)" class="string">&quot; but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77611" title="Checkers.this.global.icodes.TypeKind">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77612" title="Checkers.this.global.icodes.TypeKind">b</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77613" title="Checkers.this.global.icodes.TypeKind">c</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
           }

         <span title="Unit" class="keyword">case</span> STORE_LOCAL(<a title="Checkers.this.global.icodes.Local" id="77638">local</a>) =&gt;
           <a href="#77158" title="(local: Checkers.this.global.icodes.Local)Unit">checkLocal</a>(<a href="#77638" title="Checkers.this.global.icodes.Local">local</a>)
           <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)

           <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77641">actualType</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
           <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">actualType</a> &lt;:&lt; <a href="#77638" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#61022" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>) &amp;&amp; 
               //actualType != CASE_CLASS &amp;&amp;
               <a href="#77638" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#61022" title="(x$1: AnyRef)Boolean">kind</a> != <a href="#76053" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL_REF</a>)
             <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77638" title="Checkers.this.global.icodes.Local">local</a>.<a href="Members.scala.html#61022" title="=&gt; Checkers.this.global.icodes.TypeKind">kind</a>, <a href="#77641" title="Checkers.this.global.icodes.TypeKind">actualType</a>);

         <span title="Unit" class="keyword">case</span> STORE_FIELD(<a title="Checkers.this.global.icodes.global.Symbol" id="77663">field</a>, <a title="Boolean" id="77664">isStatic</a>) =&gt;
           <span title="Unit" class="keyword">if</span> (<a href="#77664" title="Boolean">isStatic</a>) {
             <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>);
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77667">fieldType</a> = <a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77663" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>);
             <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77668">actualType</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
             <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">actualType</a> &lt;:&lt; <a href="#77667" title="Checkers.this.global.icodes.TypeKind">fieldType</a>))
                   // &amp;&amp; actualType != CASE_CLASS)
               <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77667" title="Checkers.this.global.icodes.TypeKind">fieldType</a>, <a href="#77668" title="Checkers.this.global.icodes.TypeKind">actualType</a>);
           } <span class="keyword">else</span> {
             <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(2)" class="int">2</span>);
             <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60810" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a> <span title="Unit" class="keyword">match</span> {
               <span title="Unit" class="keyword">case</span> (<a title="Checkers.this.global.icodes.TypeKind" id="77685">value</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77686">obj</a>) =&gt;
                 <a href="#77159" title="(obj: Checkers.this.global.icodes.TypeKind,field: Checkers.this.global.Symbol)Unit">checkField</a>(<a href="#77686" title="Checkers.this.global.icodes.TypeKind">obj</a>, <a href="#77663" title="Checkers.this.global.icodes.global.Symbol">field</a>);
                 <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77689">fieldType</a> = <a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77663" title="Checkers.this.global.icodes.global.Symbol">field</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.icodes.global.Type">tpe</a>);
                 <span title="Unit" class="keyword">if</span> (<a href="#77689" title="(x$1: AnyRef)Boolean">fieldType</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#76053" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL_REF</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">value</a> &lt;:&lt; <a href="#77689" title="Checkers.this.global.icodes.TypeKind">fieldType</a>))
                     //&amp;&amp; value != CASE_CLASS)
                 <a href="#77047" title="(k1: Checkers.this.global.icodes.TypeKind,k2: Checkers.this.global.icodes.TypeKind)Unit">typeError</a>(<a href="#77689" title="Checkers.this.global.icodes.TypeKind">fieldType</a>, <a href="#77685" title="Checkers.this.global.icodes.TypeKind">value</a>);
             }
           }

         <span title="Unit" class="keyword">case</span> CALL_PRIMITIVE(<a title="Checkers.this.global.icodes.Primitive" id="77709">primitive</a>) =&gt;
           <a href="#77157" title="(len: Int)Unit">checkStack</a>(<a href="#77156" title="Checkers.this.global.icodes.Instruction">instr</a>.<a href="Opcodes.scala.html#61737" title="=&gt; Int">consumed</a>);
           <a href="#77709" title="Checkers.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> Negation(<a title="Checkers.this.global.icodes.TypeKind" id="77717">kind</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77717" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46435" title="object Checkers.this.global.icodes.BOOL">BOOL</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46447" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46449" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>);
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77717" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77717" title="Checkers.this.global.icodes.TypeKind">kind</a>;

             <span title="Unit" class="keyword">case</span> Test(<a title="Checkers.this.global.icodes.TestOp" id="77738">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77739">kind</a>, <a title="Boolean" id="77740">zero</a>) =&gt;
               <span title="Unit" class="keyword">if</span> (<a href="#77740" title="Boolean">zero</a>) {
                 <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77743">actualType</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>;
                 <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77743" title="Checkers.this.global.icodes.TypeKind">actualType</a>, <a href="#77739" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               } <span class="keyword">else</span>
                 <a href="#77161" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77739" title="Checkers.this.global.icodes.TypeKind">kind</a>);
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46435" title="object Checkers.this.global.icodes.BOOL">BOOL</a>

             <span title="Unit" class="keyword">case</span> Comparison(<a title="Checkers.this.global.icodes.ComparisonOp" id="77755">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77756">kind</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77756" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46447" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46449" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#77161" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77756" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>

             <span title="Unit" class="keyword">case</span> Arithmetic(<a title="Checkers.this.global.icodes.ArithmeticOp" id="77768">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77769">kind</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77769" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46447" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46449" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <span title="Unit" class="keyword">if</span> (<a href="#77768" title="(x$1: AnyRef)Boolean">op</a> == <a href="Primitives.scala.html#46538" title="object Checkers.this.global.icodes.NOT">NOT</a>)
                 <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77769" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <span class="keyword">else</span>
                 <a href="#77161" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77769" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77769" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Logical(<a title="Checkers.this.global.icodes.LogicalOp" id="77791">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77792">kind</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77792" title="Checkers.this.global.icodes.TypeKind">kind</a>,  <a href="TypeKinds.scala.html#46435" title="object Checkers.this.global.icodes.BOOL">BOOL</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>)
               <a href="#77161" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#77792" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77792" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Shift(<a title="Checkers.this.global.icodes.ShiftOp" id="77804">op</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77805">kind</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77805" title="Checkers.this.global.icodes.TypeKind">kind</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>)
               <span class="keyword">val</span> <a href="#77809" title="(Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">(</a><a href="#77808" title="Checkers.this.global.icodes.TypeKind" id="77809">a</a>, <a href="#77808" title="Checkers.this.global.icodes.TypeKind" id="77810">b</a>) = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60810" title="=&gt; (Checkers.this.global.icodes.TypeKind, Checkers.this.global.icodes.TypeKind)">pop2</a>
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77809" title="Checkers.this.global.icodes.TypeKind">a</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>)
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77810" title="Checkers.this.global.icodes.TypeKind">b</a>, <a href="#77805" title="Checkers.this.global.icodes.TypeKind">kind</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77805" title="Checkers.this.global.icodes.TypeKind">kind</a>

             <span title="Unit" class="keyword">case</span> Conversion(<a title="Checkers.this.global.icodes.TypeKind" id="77838">src</a>, <a title="Checkers.this.global.icodes.TypeKind" id="77839">dst</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77838" title="Checkers.this.global.icodes.TypeKind">src</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46447" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46449" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77839" title="Checkers.this.global.icodes.TypeKind">dst</a>, <a href="TypeKinds.scala.html#46437" title="object Checkers.this.global.icodes.BYTE">BYTE</a>, <a href="TypeKinds.scala.html#46441" title="object Checkers.this.global.icodes.CHAR">CHAR</a>, <a href="TypeKinds.scala.html#46439" title="object Checkers.this.global.icodes.SHORT">SHORT</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>, <a href="TypeKinds.scala.html#46445" title="object Checkers.this.global.icodes.LONG">LONG</a>, <a href="TypeKinds.scala.html#46447" title="object Checkers.this.global.icodes.FLOAT">FLOAT</a>, <a href="TypeKinds.scala.html#46449" title="object Checkers.this.global.icodes.DOUBLE">DOUBLE</a>)
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77838" title="Checkers.this.global.icodes.TypeKind">src</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="#77839" title="Checkers.this.global.icodes.TypeKind">dst</a>

             <span title="Unit" class="keyword">case</span> ArrayLength(<a title="Checkers.this.global.icodes.TypeKind" id="77854">kind</a>) =&gt;
               <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="77857">arr</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
               <a href="#77857" title="Checkers.this.global.icodes.TypeKind">arr</a> <span title="Unit" class="keyword">match</span> {
                 <span title="Unit" class="keyword">case</span> ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="77861">elem</a>) =&gt;
                   <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77861" title="Checkers.this.global.icodes.TypeKind">elem</a>, <a href="#77854" title="Checkers.this.global.icodes.TypeKind">kind</a>);
                 <span title="Unit" class="keyword">case</span> _ =&gt;
                   <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot; array reference expected, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#77857" title="Checkers.this.global.icodes.TypeKind">arr</a> + <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>);
               }
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>

             <span title="Unit" class="keyword">case</span> <a href="Primitives.scala.html#46502" title="object Checkers.this.global.icodes.StartConcat">StartConcat</a> =&gt;
               <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46461" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)

             <span title="Unit" class="keyword">case</span> <a href="Primitives.scala.html#46504" title="object Checkers.this.global.icodes.EndConcat">EndConcat</a> =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46461" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)
               <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#76049" title="=&gt; Checkers.this.global.icodes.REFERENCE">STRING</a>)

             <span title="Unit" class="keyword">case</span> StringConcat(<a title="Checkers.this.global.icodes.TypeKind" id="77889">el</a>) =&gt;
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77889" title="Checkers.this.global.icodes.TypeKind">el</a>)
               <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46461" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>)
               <a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">stack</a> push <a href="TypeKinds.scala.html#46461" title="object Checkers.this.global.icodes.ConcatClass">ConcatClass</a>
           }

         <span title="Unit" class="keyword">case</span> CALL_METHOD(<a title="Checkers.this.global.icodes.global.Symbol" id="77905">method</a>, <a title="Checkers.this.global.icodes.opcodes.InvokeStyle" id="77906">style</a>) =&gt;
           <a href="#77906" title="Checkers.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> {
             <span title="Unit" class="keyword">case</span> <a href="Opcodes.scala.html#46673" title="object Checkers.this.global.icodes.opcodes.Dynamic">Dynamic</a> | <a href="Opcodes.scala.html#46675" title="object Checkers.this.global.icodes.opcodes.InvokeDynamic">InvokeDynamic</a> =&gt;
               <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30386" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
               <a href="#77162" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#77163" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30379" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>))

             <span title="Unit" class="keyword">case</span> Static(<a title="Boolean" id="77949">onInstance</a>) =&gt;
               <span title="Unit" class="keyword">if</span> (<a href="#77949" title="Boolean">onInstance</a>) {
                 <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30386" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
                 <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span>Flags.<span title="Long(4L)">PRIVATE</span>) || <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a>,
                           <span title="java.lang.String(&quot;Static call to non-private method.&quot;)" class="string">&quot;Static call to non-private method.&quot;</span>)
                 <a href="#77162" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
                 <a href="#77163" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
                 <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a>)
                   <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30379" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>));
               } <span class="keyword">else</span> {
                 <a href="#77157" title="(len: Int)Unit">checkStack</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30386" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>);
                 <a href="#77162" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>);
                 <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30379" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>));
               }

             <span title="Unit" class="keyword">case</span> SuperCall(<a title="Checkers.this.global.icodes.global.Name" id="78013">mix</a>) =&gt;
               <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="(x$1: Int)Int" class="int">1</span> + <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30386" title="=&gt; List[Checkers.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">length</span>)
               <a href="#77162" title="(method: Checkers.this.global.Symbol)Unit">checkMethodArgs</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#77163" title="(receiver: Checkers.this.global.icodes.TypeKind,method: Checkers.this.global.Symbol)Unit">checkMethod</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>)
               <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46463" title="(t: Checkers.this.global.icodes.global.Type)Checkers.this.global.icodes.TypeKind">toTypeKind</a>(<a href="#77905" title="Checkers.this.global.icodes.global.Symbol">method</a>.<a href="../../symtab/Symbols.scala.html#27163" title="=&gt; Checkers.this.global.icodes.global.Type">info</a>.<a href="../../symtab/Types.scala.html#30379" title="=&gt; Checkers.this.global.icodes.global.Type">resultType</a>))
           }

          <span title="Unit" class="keyword">case</span> NEW(<a title="Checkers.this.global.icodes.REFERENCE" id="78057">kind</a>) =&gt;
            <a href="#78057" title="Checkers.this.global.icodes.REFERENCE">kind</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> REFERENCE(<a title="Checkers.this.global.icodes.global.Symbol" id="78061">cls</a>) =&gt;
                <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78057" title="Checkers.this.global.icodes.REFERENCE">kind</a>)
              //bq: had to change from _ to null, because otherwise would be unreachable code
              <span title="Unit" class="keyword">case</span> <span title="Null(null)" class="keyword">null</span> =&gt;
                <a href="#76075" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;NEW call to non-reference type: &quot;</span> + <a href="#78057" title="Checkers.this.global.icodes.REFERENCE">kind</a>)
            }

          <span title="Unit" class="keyword">case</span> CREATE_ARRAY(<a title="Checkers.this.global.icodes.TypeKind" id="78076">elem</a>, <a title="Int" id="78077">dims</a>) =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<a href="#78077" title="Int">dims</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60812" title="(n: Int)List[Checkers.this.global.icodes.TypeKind]">pop</a><span title="(f: (Checkers.this.global.icodes.TypeKind) =&gt; Unit)Unit">(</span><a href="#78077" title="Int">dims</a>) foreach (<a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#78103" title="Checkers.this.global.icodes.TypeKind">_</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>))
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#62781" title="(elem: Checkers.this.global.icodes.TypeKind)Checkers.this.global.icodes.ARRAY">ARRAY</a>(<a href="#78076" title="Checkers.this.global.icodes.TypeKind">elem</a>))

          <span title="Unit" class="keyword">case</span> IS_INSTANCE(<a title="Checkers.this.global.icodes.TypeKind" id="78124">tpe</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78127">ref</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78127" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60706" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#78127" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60707" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;IS_INSTANCE on primitive type: &quot;</span> + <a href="#78127" title="Checkers.this.global.icodes.TypeKind">ref</a>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78124" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60706" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#78124" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60707" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;IS_INSTANCE to primitive type: &quot;</span> + <a href="#78124" title="Checkers.this.global.icodes.TypeKind">tpe</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="TypeKinds.scala.html#46435" title="object Checkers.this.global.icodes.BOOL">BOOL</a>);

          <span title="Unit" class="keyword">case</span> CHECK_CAST(<a title="Checkers.this.global.icodes.TypeKind" id="78150">tpe</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78153">ref</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78153" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60706" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#78153" title="Checkers.this.global.icodes.TypeKind">ref</a>.<a href="TypeKinds.scala.html#60707" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;CHECK_CAST on primitive type: &quot;</span> + <a href="#78153" title="Checkers.this.global.icodes.TypeKind">ref</a>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78150" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60706" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#78150" title="Checkers.this.global.icodes.TypeKind">tpe</a>.<a href="TypeKinds.scala.html#60707" title="=&gt; Boolean">isArrayType</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;CHECK_CAST to primitive type: &quot;</span> + <a href="#78150" title="Checkers.this.global.icodes.TypeKind">tpe</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78150" title="Checkers.this.global.icodes.TypeKind">tpe</a>);

          <span title="Unit" class="keyword">case</span> SWITCH(<a title="List[List[Int]]" id="78173">tags</a>, <a title="List[Checkers.this.global.icodes.BasicBlock]" id="78174">labels</a>) =&gt;
            <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="TypeKinds.scala.html#46443" title="object Checkers.this.global.icodes.INT">INT</a>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78173" title="List[List[Int]]">tags</a>.<a title="(x$1: Int)Boolean" id="2973">length</a> == <a href="#78174" title="List[Checkers.this.global.icodes.BasicBlock]">labels</a>.<a title="(x$1: Int)Int" id="2987">length</a> - <span title="Int(1)" class="int">1</span>,
                      <span title="java.lang.String(&quot;The number of tags and labels does not coincide.&quot;)" class="string">&quot;The number of tags and labels does not coincide.&quot;</span>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78174" title="(p: (Checkers.this.global.icodes.BasicBlock) =&gt; Boolean)Boolean" id="29121">labels</a> forall (<a title="Checkers.this.global.icodes.BasicBlock" id="78200">b</a> =&gt; <a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78200" title="Checkers.this.global.icodes.BasicBlock">b</a>),
                      <span title="java.lang.String(&quot;Switch target cannot be found in code.&quot;)" class="string">&quot;Switch target cannot be found in code.&quot;</span>)

          <span title="Unit" class="keyword">case</span> JUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="78209">whereto</a>) =&gt;
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78209" title="Checkers.this.global.icodes.BasicBlock">whereto</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#78209" title="Checkers.this.global.icodes.BasicBlock">whereto</a>)

          <span title="Unit" class="keyword">case</span> CJUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="78223">success</a>, <a title="Checkers.this.global.icodes.BasicBlock" id="78224">failure</a>, <a title="Checkers.this.global.icodes.TestOp" id="78225">cond</a>, <a title="Checkers.this.global.icodes.TypeKind" id="78226">kind</a>) =&gt;
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78223" title="Checkers.this.global.icodes.BasicBlock">success</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#78223" title="Checkers.this.global.icodes.BasicBlock">success</a>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78224" title="Checkers.this.global.icodes.BasicBlock">failure</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#78224" title="Checkers.this.global.icodes.BasicBlock">failure</a>)
            <a href="#77161" title="(kind: Checkers.this.global.icodes.TypeKind)Unit">checkBinop</a>(<a href="#78226" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> CZJUMP(<a title="Checkers.this.global.icodes.BasicBlock" id="78249">success</a>, <a title="Checkers.this.global.icodes.BasicBlock" id="78250">failure</a>, <a title="Checkers.this.global.icodes.TestOp" id="78251">cond</a>, <a title="Checkers.this.global.icodes.TypeKind" id="78252">kind</a>) =&gt;
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78249" title="Checkers.this.global.icodes.BasicBlock">success</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#78249" title="Checkers.this.global.icodes.BasicBlock">success</a>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#76041" title="=&gt; Checkers.this.global.icodes.Code">code</a>.<a href="Members.scala.html#61659" title="(elem: Any)Boolean">blocks</a> contains <a href="#78250" title="Checkers.this.global.icodes.BasicBlock">failure</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Jump to non-existant block &quot;</span> + <a href="#78250" title="Checkers.this.global.icodes.BasicBlock">failure</a>)
            <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#78252" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> RETURN(<a title="Checkers.this.global.icodes.TypeKind" id="78274">kind</a>) =&gt;
            <a href="#78274" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a href="TypeKinds.scala.html#46433" title="object Checkers.this.global.icodes.UNIT">UNIT</a> =&gt; <span title="Unit">(</span>)

              <span title="Unit" class="keyword">case</span> REFERENCE(_) | ARRAY(_) =&gt;
                <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
                <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78283">top</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
                <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78283" title="Checkers.this.global.icodes.TypeKind">top</a>.<a href="TypeKinds.scala.html#60706" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#78283" title="Checkers.this.global.icodes.TypeKind">top</a>.<a href="TypeKinds.scala.html#60707" title="=&gt; Boolean">isArrayType</a>,
                            <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#78274" title="Checkers.this.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is a reference type, but &quot;)" class="string">&quot; is a reference type, but &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#78283" title="Checkers.this.global.icodes.TypeKind">top</a> + <span title="java.lang.String(&quot; is not&quot;)" class="string">&quot; is not&quot;</span>);
              <span title="Unit" class="keyword">case</span> _ =&gt;
                <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
                <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78300">top</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
                <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#78300" title="Checkers.this.global.icodes.TypeKind">top</a>, <a href="#78274" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            }

          <span title="Unit" class="keyword">case</span> THROW() =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78309">thrown</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#78309" title="Checkers.this.global.icodes.TypeKind">thrown</a>.<a href="../../symtab/Types.scala.html#30421" title="(that: Checkers.this.global.icodes.global.Type)Boolean">toType</a> &lt;:&lt; <a href="../../symtab/Definitions.scala.html#26638" title="object Checkers.this.global.definitions">definitions</a>.<a href="../../symtab/Definitions.scala.html#28483" title="=&gt; Checkers.this.global.Symbol">ThrowableClass</a>.<a href="../../symtab/Symbols.scala.html#27162" title="=&gt; Checkers.this.global.Type">tpe</a>,
                      <span title="(x$1: Any)java.lang.String" class="string">&quot;Element on top of stack should implement 'Throwable': &quot;</span> + <a href="#78309" title="Checkers.this.global.icodes.TypeKind">thrown</a>);
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#76051" title="=&gt; Checkers.this.global.icodes.REFERENCE">SCALA_ALL</a>)

          <span title="Unit" class="keyword">case</span> DROP(<a title="Checkers.this.global.icodes.TypeKind" id="78323">kind</a>) =&gt;
            <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#78323" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> DUP(<a title="Checkers.this.global.icodes.TypeKind" id="78331">kind</a>) =&gt;
            <span class="keyword">val</span> <a title="Checkers.this.global.icodes.TypeKind" id="78334">top</a> = <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#78334" title="Checkers.this.global.icodes.TypeKind">top</a>, <a href="#78331" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78334" title="Checkers.this.global.icodes.TypeKind">top</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78334" title="Checkers.this.global.icodes.TypeKind">top</a>)

          <span title="Unit" class="keyword">case</span> MONITOR_ENTER() =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>.<a href="TypeKinds.scala.html#60706" title="=&gt; Boolean">isReferenceType</a>,
                      <span title="java.lang.String(&quot;MONITOR_ENTER on non-reference type&quot;)" class="string">&quot;MONITOR_ENTER on non-reference type&quot;</span>)

          <span title="Unit" class="keyword">case</span> MONITOR_EXIT() =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#77164" title="(cond: Boolean,msg: String)Unit">checkBool</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>.<a href="TypeKinds.scala.html#60706" title="=&gt; Boolean">isReferenceType</a>,
                      <span title="java.lang.String(&quot;MONITOR_EXIT on non-reference type&quot;)" class="string">&quot;MONITOR_EXIT on non-reference type&quot;</span>)

          <span title="Unit" class="keyword">case</span> BOX(<a title="Checkers.this.global.icodes.TypeKind" id="78362">kind</a>) =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#77160" title="(tpe: Checkers.this.global.icodes.TypeKind,allowed: Checkers.this.global.icodes.TypeKind*)Unit">checkType</a>(<a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>, <a href="#78362" title="Checkers.this.global.icodes.TypeKind">kind</a>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="../../Global.scala.html#39269" title="object Checkers.this.global.icodes">icodes</a>.<a href="ICodes.scala.html#46388" title="=&gt; Checkers.this.global.icodes.TypeKind">AnyRefReference</a>)
            
          <span title="Unit" class="keyword">case</span> UNBOX(<a title="Checkers.this.global.icodes.TypeKind" id="78375">kind</a>) =&gt;
            <a href="#77157" title="(len: Int)Unit">checkStack</a>(<span title="Int(1)" class="int">1</span>)
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60809" title="=&gt; Checkers.this.global.icodes.TypeKind">pop</a>
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#78375" title="Checkers.this.global.icodes.TypeKind">kind</a>)

          <span title="Unit" class="keyword">case</span> LOAD_EXCEPTION() =&gt;
            <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>.<a href="TypeStacks.scala.html#60807" title="(t: Checkers.this.global.icodes.TypeKind)Unit">push</a>(<a href="#76055" title="=&gt; Checkers.this.global.icodes.REFERENCE">THROWABLE</a>)
            
          <span title="Unit" class="keyword">case</span> SCOPE_ENTER(_) | SCOPE_EXIT(_) =&gt;
            <span title="Unit">(</span>)
          
          <span title="Nothing" class="keyword">case</span> _ =&gt;
            <a href="../../Global.scala.html#39309" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown instruction: &quot;</span> + <a href="#77156" title="Checkers.this.global.icodes.Instruction">instr</a>)
        }
      }
      <a href="#77046" title="Checkers.this.global.icodes.TypeStack">stack</a>
    }

    //////////////// Error reporting /////////////////////////

    <span class="keyword">def</span> <a title="(msg: String)Unit" id="76075">error</a>(<a title="String" id="77079">msg</a>: <span title="String">String</span>) {
      <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<a href="#76038" title="=&gt; Checkers.this.global.icodes.IMethod">method</a>.<a href="Members.scala.html#61531" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in block: &quot;)" class="string">&quot; in block: &quot;</span> + <a href="#76072" title="=&gt; Checkers.this.global.icodes.BasicBlock">basicBlock</a>.<a href="BasicBlocks.scala.html#61544" title="=&gt; Int">label</a>)
      <a href="#76076" title="=&gt; Unit">printLastIntructions</a>

      <a href="#15261" title="Checkers.this.type">Checkers</a>.<span class="keyword">this</span>.<a href="#76025" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39292" title="(msg: String)Unit">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;ICode checker: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#76038" title="=&gt; Checkers.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#77079" title="String">msg</a>)
    }

    /** Prints the last 4 instructions. */
    <span class="keyword">def</span> <a title="=&gt; Unit" id="76076">printLastIntructions</a> {
      <span class="keyword">var</span> <a title="Int" id="78428">printed</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="List[Checkers.this.global.icodes.Instruction]" id="78429">buf</a>: <span title="List[Checkers.this.global.icodes.Instruction]">List</span>[Instruction] = <span title="object Nil">Nil</span>

      <span class="keyword">for</span> (<a title="Checkers.this.global.icodes.Instruction" id="78441">i</a> &lt;- <a href="#76072" title="=&gt; Checkers.this.global.icodes.BasicBlock">basicBlock</a>.<a title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit" id="25741">reverse</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="#78441" title="(x$1: AnyRef)Boolean">i</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#76069" title="=&gt; Checkers.this.global.icodes.Instruction">instruction</a> || (<a href="#78428" title="(x$1: Int)Boolean">printed</a> <span title="(x$1: Boolean)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <a href="#78428" title="(x$1: Int)Boolean">printed</a> &lt; <span title="Int(3)" class="int">3</span>)) {
          <a href="#78429" title="List[Checkers.this.global.icodes.Instruction]">buf</a> = <a href="#78441" title="Checkers.this.global.icodes.Instruction">i</a> <a href="#78464" title="Checkers.this.global.icodes.Instruction">::</a> <a href="#78429" title="(x: Checkers.this.global.icodes.Instruction)List[Checkers.this.global.icodes.Instruction]" id="24417">buf</a>
          <a href="#78428" title="Int">printed</a> += <span title="Int(1)" class="int">1</span>
        }
      }
      <a href="#78429" title="(f: (Checkers.this.global.icodes.Instruction) =&gt; Unit)Unit">buf</a> foreach <span title="object Console">Console</span>.<a href="#78528" title="(x: Any)Unit">println</a>
      <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;at: &quot;</span> + (<a href="#78429" title="List[Checkers.this.global.icodes.Instruction]">buf</a>.<a title="=&gt; Checkers.this.global.icodes.Instruction" id="25602">head</a>.<a href="Opcodes.scala.html#61742" title="=&gt; scala.tools.nsc.util.Position">pos</a>))
    }

    <span class="keyword">def</span> <a title="(msg: String,stack: Checkers.this.global.icodes.TypeStack)Unit" id="76077">error</a>(<a title="String" id="77076">msg</a>: <span title="String">String</span>, <a title="Checkers.this.global.icodes.TypeStack" id="77077">stack</a>: <a href="TypeStacks.scala.html#46422" title="Checkers.this.global.icodes.TypeStack">TypeStack</a>) {
      <a href="#76075" title="(msg: String)Unit">error</a>(<a href="#77076" title="(x$1: Any)java.lang.String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012 type stack: &quot;)" class="string">&quot;\n type stack: &quot;</span> + <a href="#77077" title="Checkers.this.global.icodes.TypeStack">stack</a>)
    }

    //////////////////// Checking /////////////////////////////

    /** Return true if &lt;code&gt;k1&lt;/code&gt; is a subtype of any of the following
     *  types.
     */
    <span class="keyword">def</span> <a title="(k1: Checkers.this.global.icodes.TypeKind,kinds: Checkers.this.global.icodes.TypeKind*)Boolean" id="76078">isOneOf</a>(<a title="Checkers.this.global.icodes.TypeKind" id="77258">k1</a>: <a href="TypeKinds.scala.html#46431" title="Checkers.this.global.icodes.TypeKind">TypeKind</a>, <a title="Checkers.this.global.icodes.TypeKind*" id="77259">kinds</a>: <span title="Checkers.this.global.icodes.TypeKind*">TypeKind</span>*) =
      <a href="#77259" title="Checkers.this.global.icodes.TypeKind*">kinds</a>.<a title="(p: (Checkers.this.global.icodes.TypeKind) =&gt; Boolean)Boolean" id="25441">exists</a>( <a title="Checkers.this.global.icodes.TypeKind" id="77264">k</a> =&gt; <a href="TypeKinds.scala.html#60713" title="(other: Checkers.this.global.icodes.TypeKind)Boolean">k1</a> &lt;:&lt; <a href="#77264" title="Checkers.this.global.icodes.TypeKind">k</a>)

  }
}

        </pre>
    </body>
</html>