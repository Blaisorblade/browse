<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/icode/analysis/DataFlowAnalysis.scala</title>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="comment">// $Id: DataFlowAnalysis.scala 16893 2009-01-13 13:09:22Z cunei $</span>

<span class="keyword">package</span> scala.tools.nsc.backend.icode.analysis

<span class="keyword">import</span> scala.collection.jcl.{HashMap, Set, HashSet, LinkedHashSet}
<span class="keyword">import</span> scala.collection.mutable.Map

<span class="comment">/** A generic framework for data flow analysis.
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait DataFlowAnalysis[L &lt;: scala.tools.nsc.backend.icode.analysis.CompleteLattice] extends java.lang.Object with ScalaObject</span><a id="16657">DataFlowAnalysis</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: scala.tools.nsc.backend.icode.analysis.CompleteLattice</span><a id="18880">L</a></span> &lt;: CompleteLattice] {
  <span class="comment">/** A type for program points. */</span>
  <span class="keyword">type</span> <span class="typed"><span class="type">&gt;: Nothing &lt;: scala.tools.nsc.backend.icode.analysis.ProgramPoint[DataFlowAnalysis.this.P]</span><a id="32740">P</a></span> &lt;: ProgramPoint[P]
  <span class="keyword">val</span>  <span class="typed"><span class="type">=&gt; L</span><a id="32741">lattice</a></span>: <span class="typed"><span class="type">L</span><a href="#18880">L</a></span>

  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><span id="32743"><a id="32742">worklist</a></span></span>: <span class="typed"><span class="type">scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a id="24596">Set</a></span>[P] = <span class="typed"><span class="type">()scala.collection.jcl.LinkedHashSet[DataFlowAnalysis.this.P]</span><a id="32949" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.jcl.LinkedHashSet[DataFlowAnalysis.this.P]</span><a id="24644">LinkedHashSet</a></span>

  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><span id="32745"><a id="32744">in</a></span></span>:  <span class="typed"><span class="type">scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="19880">Map</a></span>[P, lattice.Elem] = <span class="typed"><span class="type">()scala.collection.jcl.HashMap[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="133339" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.jcl.HashMap[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="24527">HashMap</a></span>
  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><span id="32747"><a id="32746">out</a></span></span>: <span class="typed"><span class="type">scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="19880">Map</a></span>[P, lattice.Elem] = <span class="typed"><span class="type">()scala.collection.jcl.HashMap[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="133339" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.jcl.HashMap[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a id="24527">HashMap</a></span>
  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><span id="32749"><a id="32748">visited</a></span></span>: <span class="typed"><span class="type">scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a id="24371">HashSet</a></span>[P] = <span class="typed"><span class="type">()scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a id="61539" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a id="24371">HashSet</a></span>

  <span class="comment">/** collect statistics? */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="32752"><span id="32750"><span id="32751"><a id="133326">stat</a></span></span></span></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
  
  <span class="comment">/** the number of times we iterated before reaching a fixpoint. */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="32755"><span id="32753"><span id="32754"><a id="133327">iterations</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
  
  <span class="comment">/* Implement this function to initialize the worklist.  */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a id="32756">init</a></span>(<span class="typed"><span class="type">=&gt; Unit</span><a id="33348">f</a></span>: =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = {
    <span class="typed"><span class="type">(Int)Unit</span><a href="#32754">iterations</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32744">in</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24207">clear</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32746">out</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24207">clear</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">()Unit</span><a id="32968">clear</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a href="#32748">visited</a></span>.<span class="typed"><span class="type">()Unit</span><a id="32956">clear</a></span>;
    <span class="typed"><span class="type">=&gt; Unit</span><a href="#33348">f</a></span>
  }
  
  <span class="comment">/** Reinitialize, but keep the old solutions. Should be used when reanalyzing the
   *  same method, after some code transformation.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a id="32757">reinit</a></span>(<span class="typed"><span class="type">=&gt; Unit</span><a id="61481">f</a></span>: =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = {
    <span class="typed"><span class="type">(Int)Unit</span><a href="#32754">iterations</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">()Unit</span><a id="32968">clear</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a href="#32748">visited</a></span>.<span class="typed"><span class="type">()Unit</span><a id="32956">clear</a></span>;
    <span class="typed"><span class="type">=&gt; Unit</span><a href="#61481">f</a></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="32758">run</a></span>: <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span>

  <span class="comment">/** Implements forward dataflow analysis: the transfer function is 
   *  applied when inputs to a Program point change, to obtain the new 
   *  output value.
   *
   *  @param f the transfer function.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P, DataFlowAnalysis.this.lattice.Elem) =&gt; DataFlowAnalysis.this.lattice.Elem)Unit</span><a id="32759">forwardAnalysis</a></span>(<span class="typed"><span class="type">(DataFlowAnalysis.this.P, DataFlowAnalysis.this.lattice.Elem) =&gt; DataFlowAnalysis.this.lattice.Elem</span><a id="61515">f</a></span>: (P, lattice.Elem) =&gt; lattice.Elem): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="keyword">try</span> {
    <span class="typed"><span class="type">Unit</span><a href="#133363" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="32967">isEmpty</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#32750">stat</a></span>) <span class="typed"><span class="type">(Int)Unit</span><a href="#32754">iterations</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
<span class="comment">//      Console.println(&quot;worklist in: &quot; + worklist);</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a id="133364">point</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.jcl.MutableIterator[DataFlowAnalysis.this.P]</span><a id="24866">elements</a></span>.<span class="typed"><span class="type">()DataFlowAnalysis.this.P</span><a id="32164">next</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)Unit</span><a id="32998">-=</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.HashSet[DataFlowAnalysis.this.P]</span><a href="#32748">visited</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)Unit</span><a id="32999">+=</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>;
      <span class="comment">//Console.println(&quot;taking out point: &quot; + point + &quot; worklist out: &quot; + worklist);</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a id="133365">output</a></span> = <span class="typed"><span class="type">(DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem)DataFlowAnalysis.this.lattice.Elem</span><a href="#61515" id="29833">f</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>, <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32744" id="24239">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>))

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">=&gt; L</span><a href="#32741">lattice</a></span>.<span class="typed"><span class="type">=&gt; DataFlowAnalysis.this.lattice.Elem</span><a href="CompleteLattice.scala.html#32727">bottom</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32746" id="24239">out</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a href="#133365">output</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32746" id="24239">out</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>)) {
<span class="comment">//        Console.println(&quot;Output changed at &quot; + point + &quot; from: &quot; + out(point) + &quot; to: &quot; + output + &quot; and they are different: &quot; + (output != out(point)))</span>
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32746">out</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>) = <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a href="#133365">output</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">List[DataFlowAnalysis.this.P]</span><a id="133402">succs</a></span> = <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133364">point</a></span>.<span class="typed"><span class="type">=&gt; List[DataFlowAnalysis.this.P]</span><a href="ProgramPoint.scala.html#33227">successors</a></span>
        <span class="typed"><span class="type">List[DataFlowAnalysis.this.P]</span><a href="#133402">succs</a></span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a id="133404">p</a></span> =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">(DataFlowAnalysis.this.P)Boolean</span><a id="32960">contains</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133404">p</a></span>))
            <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)Unit</span><a id="32999">+=</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133404">p</a></span>;
          <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32744">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133404">p</a></span>) = <span class="typed"><span class="type">=&gt; L</span><a href="#32741">lattice</a></span>.<span class="typed"><span class="type">(List[DataFlowAnalysis.this.lattice.Elem])DataFlowAnalysis.this.lattice.Elem</span><a href="CompleteLattice.scala.html#32728">lub</a></span>(<span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32744" id="24239">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133404">p</a></span>) <span class="typed"><span class="type">(DataFlowAnalysis.this.lattice.Elem)List[DataFlowAnalysis.this.lattice.Elem]</span><a href="#133407" id="21335">::</a></span> (<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133404">p</a></span>.<span class="typed"><span class="type">=&gt; List[DataFlowAnalysis.this.P]</span><a href="ProgramPoint.scala.html#33226">predecessors</a></span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P) =&gt; DataFlowAnalysis.this.lattice.Elem)List[DataFlowAnalysis.this.lattice.Elem]</span><a id="21362">map</a></span> <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32746">out</a></span>.<span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#133414" id="24239">apply</a></span>))
        }
      }
    }
  } <span class="keyword">catch</span> {
    <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">NoSuchElementException</span><a id="133417">e</a></span>: <span class="typed"><span class="type">NoSuchElementException</span><a id="5698">NoSuchElementException</a></span> =&gt; 
      <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;in: &quot;)</span><span class="string">&quot;in: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32744">in</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a id="21818">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>))
      <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;out: &quot;)</span><span class="string">&quot;out: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32746">out</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a id="21818">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>))
      <span class="typed"><span class="type">NoSuchElementException</span><a href="#133417">e</a></span>.<span class="typed"><span class="type">()Unit</span><a id="23651">printStackTrace</a></span>
      <span class="typed"><span class="type">object Predef</span><a id="821">Predef</a></span>.<span class="typed"><span class="type">(String)Nothing</span><a id="6000">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Could not find element &quot;)</span><span class="string">&quot;Could not find element &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">NoSuchElementException</span><a href="#133417">e</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="23646">getMessage</a></span>)
  }

  <span class="comment">/** ...
   *
   *  @param f ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P, DataFlowAnalysis.this.lattice.Elem) =&gt; DataFlowAnalysis.this.lattice.Elem)Unit</span><a id="32760">backwardAnalysis</a></span>(<span class="typed"><span class="type">(DataFlowAnalysis.this.P, DataFlowAnalysis.this.lattice.Elem) =&gt; DataFlowAnalysis.this.lattice.Elem</span><a id="133431">f</a></span>: (P, lattice.Elem) =&gt; lattice.Elem): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> =
    <span class="typed"><span class="type">Unit</span><a href="#133432" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="32967">isEmpty</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#32750">stat</a></span>) <span class="typed"><span class="type">(Int)Unit</span><a href="#32754">iterations</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a id="133433">point</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.jcl.MutableIterator[DataFlowAnalysis.this.P]</span><a id="24866">elements</a></span>.<span class="typed"><span class="type">()DataFlowAnalysis.this.P</span><a id="32164">next</a></span>; <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)Unit</span><a id="32998">-=</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>

      <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32746">out</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>) = <span class="typed"><span class="type">=&gt; L</span><a href="#32741">lattice</a></span>.<span class="typed"><span class="type">(List[DataFlowAnalysis.this.lattice.Elem])DataFlowAnalysis.this.lattice.Elem</span><a href="CompleteLattice.scala.html#32728">lub</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>.<span class="typed"><span class="type">=&gt; List[DataFlowAnalysis.this.P]</span><a href="ProgramPoint.scala.html#33227">successors</a></span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P) =&gt; DataFlowAnalysis.this.lattice.Elem)List[DataFlowAnalysis.this.lattice.Elem]</span><a id="21362">map</a></span> <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32744">in</a></span>.<span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#133461" id="24239">apply</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a id="133434">input</a></span> = <span class="typed"><span class="type">(DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem)DataFlowAnalysis.this.lattice.Elem</span><a href="#133431" id="29833">f</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>, <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32746" id="24239">out</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>))

      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">=&gt; L</span><a href="#32741">lattice</a></span>.<span class="typed"><span class="type">=&gt; DataFlowAnalysis.this.lattice.Elem</span><a href="CompleteLattice.scala.html#32727">bottom</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32744" id="24239">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a href="#133434">input</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)DataFlowAnalysis.this.lattice.Elem</span><a href="#32744" id="24239">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>)) {
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.Map[DataFlowAnalysis.this.P,DataFlowAnalysis.this.lattice.Elem]</span><a href="#32744">in</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>) = <span class="typed"><span class="type">DataFlowAnalysis.this.lattice.Elem</span><a href="#133434">input</a></span>
        <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133433">point</a></span>.<span class="typed"><span class="type">=&gt; List[DataFlowAnalysis.this.P]</span><a href="ProgramPoint.scala.html#33226">predecessors</a></span> <span class="typed"><span class="type">((DataFlowAnalysis.this.P) =&gt; Unit)Unit</span><a id="21366">foreach</a></span> { <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a id="133476">p</a></span> =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span>.<span class="typed"><span class="type">(DataFlowAnalysis.this.P)Boolean</span><a id="32960">contains</a></span>(<span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133476">p</a></span>))
            <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set[DataFlowAnalysis.this.P]</span><a href="#32742">worklist</a></span> <span class="typed"><span class="type">(DataFlowAnalysis.this.P)Unit</span><a id="32999">+=</a></span> <span class="typed"><span class="type">DataFlowAnalysis.this.P</span><a href="#133476">p</a></span>;
        }
      }
    }

}

        </pre>
    </body>
</html>