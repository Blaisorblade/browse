<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/icode/BasicBlocks.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */

// $Id: BasicBlocks.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend
<span class="keyword">package</span> icode

//import scala.tools.nsc.ast._
<span class="keyword">import</span> scala.collection.mutable.{Map, Set}
<span class="keyword">import</span> scala.collection.mutable.LinkedHashSet
<span class="keyword">import</span> scala.tools.nsc.util.{Position,NoPosition}
<span class="keyword">import</span> scala.tools.nsc.backend.icode.analysis.ProgramPoint

<span class="keyword">trait</span> <a title="trait BasicBlocks extends java.lang.Object with ScalaObject" id="15048">BasicBlocks</a> <span title="ScalaObject">{</span>
  self: ICodes =&gt;
  <span class="keyword">import</span> opcodes._

  /** This class represents a basic block. Each
   *  basic block contains a list of instructions that are
   *  either executed all, or none. No jumps
   *  to/from the &quot;middle&quot; of the basic block are allowed (modulo exceptions).
   */
  <span class="keyword">class</span> <a title="class BasicBlock extends java.lang.Object with scala.tools.nsc.backend.icode.analysis.ProgramPoint[BasicBlocks.this.BasicBlock] with Seq[BasicBlocks.this.Instruction] with ScalaObject" id="46410">BasicBlock</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="Int" id="334945">label</a>: <span title="Int">Int</span>, <span class="keyword">val</span> <a title="BasicBlocks.this.IMethod" id="334946">method</a>: <a href="Members.scala.html#46405" title="BasicBlocks.this.IMethod">IMethod</a>)
        <span class="keyword">extends</span> <a title="java.lang.Object" id="3646">AnyRef</a>
        <span class="keyword">with</span> <a href="analysis/ProgramPoint.scala.html#16094" title="scala.tools.nsc.backend.icode.analysis.ProgramPoint[BasicBlocks.this.BasicBlock]">ProgramPoint</a>[BasicBlock]
        <span class="keyword">with</span> <span title="Seq[BasicBlocks.this.Instruction]">Seq</span>[Instruction] {

    <span class="keyword">import</span> BBFlags._
    
    <span class="keyword">def</span> <a title="=&gt; BasicBlocks.this.Code" id="61550">code</a> = <a href="#334946" title="=&gt; BasicBlocks.this.IMethod">method</a>.<a href="Members.scala.html#61497" title="=&gt; BasicBlocks.this.Code">code</a>
    
    /** Flags of this basic block. */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="61552">flags</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

    /** Does this block have the given flag? */
    <span class="keyword">def</span> <a title="(flag: Int)Boolean" id="61554">hasFlag</a>(<a title="Int" id="67813">flag</a>: <span title="Int">Int</span>): <span title="Boolean">Boolean</span> = <a title="(x$1: Int)Boolean" id="2975">(</a><a href="#61552" title="(x$1: Int)Int">flags</a> &amp; <a href="#67813" title="Int">flag</a>) != <span title="Int(0)" class="int">0</span>
    
    /** Set the given flag. */
    <span class="keyword">def</span> <a title="(flag: Int)Unit" id="61555">setFlag</a>(<a title="Int" id="329790">flag</a>: <span title="Int">Int</span>): <a title="Unit" id="1971">Unit</a> = <a href="#61552" title="(x$1: Int)Unit" id="2995">flags</a> |= <a href="#329790" title="Int">flag</a>
    <span class="keyword">def</span> <a title="(flag: Int)Unit" id="61556">resetFlag</a>(<a title="Int" id="329794">flag</a>: <span title="Int">Int</span>) {
      <a href="#61552" title="(x$1: Int)Unit">flags</a> &amp;= <a title="=&gt; Int" id="2888">~</a><a href="#329794" title="Int">flag</a>
    }
    
    /** Is this block closed? */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="61557">closed</a>: <span title="Boolean">Boolean</span> = <a href="#61554" title="(flag: Int)Boolean">hasFlag</a>(<span title="Int(8)">CLOSED</span>)
    <span class="keyword">def</span> <a title="(b: Boolean)Unit" id="61558">closed_=</a>(<a title="Boolean" id="335015">b</a>: <span title="Boolean">Boolean</span>) = <span title="Unit" class="keyword">if</span> (<a href="#335015" title="Boolean">b</a>) <a href="#61555" title="(flag: Int)Unit">setFlag</a>(<span title="Int(8)">CLOSED</span>) <span class="keyword">else</span> <a href="#61556" title="(flag: Int)Unit">resetFlag</a>(<span title="Int(8)">CLOSED</span>)
    
    /** When set, the &lt;code&gt;emit&lt;/code&gt; methods will be ignored. */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="61559">ignore</a>: <span title="Boolean">Boolean</span> = <a href="#61554" title="(flag: Int)Boolean">hasFlag</a>(<span title="Int(2)">IGNORING</span>)
    <span class="keyword">def</span> <a title="(b: Boolean)Unit" id="61560">ignore_=</a>(<a title="Boolean" id="335026">b</a>: <span title="Boolean">Boolean</span>) = <span title="Unit" class="keyword">if</span> (<a href="#335026" title="Boolean">b</a>) <a href="#61555" title="(flag: Int)Unit">setFlag</a>(<span title="Int(2)">IGNORING</span>) <span class="keyword">else</span> <a href="#61556" title="(flag: Int)Unit">resetFlag</a>(<span title="Int(2)">IGNORING</span>)

    /** Is this block the head of a while? */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="61561">loopHeader</a> = <a href="#61554" title="(flag: Int)Boolean">hasFlag</a>(<span title="Int(1)">LOOP_HEADER</span>)
    <span class="keyword">def</span> <a title="(b: Boolean)Unit" id="61562">loopHeader_=</a>(<a title="Boolean" id="335033">b</a>: <span title="Boolean">Boolean</span>) = 
      <span title="Unit" class="keyword">if</span> (<a href="#335033" title="Boolean">b</a>) <a href="#61555" title="(flag: Int)Unit">setFlag</a>(<span title="Int(1)">LOOP_HEADER</span>) <span class="keyword">else</span> <a href="#61556" title="(flag: Int)Unit">resetFlag</a>(<span title="Int(1)">LOOP_HEADER</span>)
    
    /** Is this block the start block of an exception handler? */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="61563">exceptionHandlerHeader</a> = <a href="#61554" title="(flag: Int)Boolean">hasFlag</a>(<span title="Int(4)">EX_HEADER</span>)
    <span class="keyword">def</span> <a title="(b: Boolean)Unit" id="61564">exceptionHandlerHeader_=</a>(<a title="Boolean" id="329787">b</a>: <span title="Boolean">Boolean</span>) = 
      <span title="Unit" class="keyword">if</span> (<a href="#329787" title="Boolean">b</a>) <a href="#61555" title="(flag: Int)Unit">setFlag</a>(<span title="Int(4)">EX_HEADER</span>) <span class="keyword">else</span> <a href="#61556" title="(flag: Int)Unit">resetFlag</a>(<span title="Int(4)">EX_HEADER</span>)

    /** Has this basic block been modified since the last call to 'toList'? */ 
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="61565">touched</a> = <a href="#61554" title="(flag: Int)Boolean">hasFlag</a>(<span title="Int(16)">TOUCHED</span>)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(b: Boolean)Unit" id="61566">touched_=</a>(<a title="Boolean" id="335045">b</a>: <span title="Boolean">Boolean</span>) = <span title="Unit" class="keyword">if</span> (<a href="#335045" title="Boolean">b</a>) <a href="#61555" title="(flag: Int)Unit">setFlag</a>(<span title="Int(16)">TOUCHED</span>) <span class="keyword">else</span> <a href="#61556" title="(flag: Int)Unit">resetFlag</a>(<span title="Int(16)">TOUCHED</span>)

    /** Cached predecessors. */
    <span class="keyword">var</span> <a title="List[BasicBlocks.this.BasicBlock]" id="61568">preds</a>: <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock] = <span title="Null(null)" class="keyword">null</span>
    
    /** Local variables that are in scope at entry of this basic block. Used
     *  for debugging information.
     */
    <span class="keyword">var</span> <a title="scala.collection.mutable.Set[BasicBlocks.this.Local]" id="61571">varsInScope</a>: <a title="scala.collection.mutable.Set[BasicBlocks.this.Local]" id="25170">Set</a>[Local] = <span title="scala.collection.mutable.LinkedHashSet[BasicBlocks.this.Local]" class="keyword">new</span> <a title="scala.collection.mutable.LinkedHashSet[BasicBlocks.this.Local]" id="25233">LinkedHashSet</a>()
    
    /** ICode instructions, used as temporary storage while emitting code.
     * Once closed is called, only the `instrs' array should be used.
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[BasicBlocks.this.Instruction]" id="61574">instructionList</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction] = <span title="object Nil">Nil</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="BasicBlocks.this.Instruction" id="61577">_lastInstruction</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a> = <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Array[BasicBlocks.this.Instruction]" id="61580">instrs</a>: <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction] = _

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[BasicBlocks.this.Instruction]" id="61582">toList</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction] = {
      <span title="Unit" class="keyword">if</span> (<a href="#61557" title="(x$1: Boolean)Boolean">closed</a> &amp;&amp; <a href="#61565" title="=&gt; Boolean">touched</a>)
        <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; List[BasicBlocks.this.Instruction]">toList</span>
      <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>
    }
    
    /** Return an iterator over the instructions in this basic block. */
    <span class="keyword">def</span> <a title="=&gt; Iterator[BasicBlocks.this.Instruction]" id="61583">iterator</a>: <a title="Iterator[BasicBlocks.this.Instruction]" id="4309">Iterator</a>[Instruction] =
      <span title="Iterator[BasicBlocks.this.Instruction]" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<a title="=&gt; Iterator[BasicBlocks.this.Instruction]" id="25890">iterator</a> <span class="keyword">else</span> <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; List[BasicBlocks.this.Instruction]">reverse</span>.<a title="=&gt; Iterator[BasicBlocks.this.Instruction]" id="29117">iterator</a>
    
    /** return the underlying array of instructions */
    <span class="keyword">def</span> <a title="=&gt; Array[BasicBlocks.this.Instruction]" id="61584">getArray</a>: <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction] = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>)
      <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>
    }

    <span class="keyword">def</span> <a title="(is: List[BasicBlocks.this.Instruction])Unit" id="61585">fromList</a>(<a title="List[BasicBlocks.this.Instruction]" id="156736">is</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction]) {
      <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <a href="#61612" title="(l: List[BasicBlocks.this.Instruction])Array[BasicBlocks.this.Instruction]">toInstructionArray</a>(<a href="#156736" title="List[BasicBlocks.this.Instruction]">is</a>)
      <a href="#61558" title="(b: Boolean)Unit">closed</a> = <span title="Boolean(true)" class="keyword">true</span>
    }

    // public:

    /** Return the index of inst. Uses reference equality.
     *  Returns -1 if not found.
     */
    <span class="keyword">def</span> <a title="(inst: BasicBlocks.this.Instruction)Int" id="61586">indexOf</a>(<a title="BasicBlocks.this.Instruction" id="335076">inst</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>): <span title="Int">Int</span> = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>)
      <span class="keyword">var</span> <a title="Int" id="335084">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> (<a href="#335084" title="(x$1: Int)Boolean">i</a> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>) <a href="#335085" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a><a title="(x$1: AnyRef)Boolean" id="6611">(</a><a href="#335084" title="Int">i</a>) eq <a href="#335076" title="BasicBlocks.this.Instruction">inst</a>) <span title="Nothing" class="keyword">return</span> <a href="#335084" title="Int">i</a>
        <a href="#335084" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
      <span title="Int(-1)">-</span><span class="int">1</span>
    }

    /** Compute an hashCode for the block */
//    override def hashCode() = label;

    /** Apply a function to all the instructions of the block. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[U](f: (BasicBlocks.this.Instruction) =&gt; U)Unit" id="61587">foreach</a>[<a title="&gt;: Nothing &lt;: Any" id="61589">U</a>](<a title="(BasicBlocks.this.Instruction) =&gt; U" id="77091">f</a>: Instruction =&gt; U) = {
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#61557" title="=&gt; Boolean">closed</a>) {
        <a href="ICodes.scala.html#46383" title="=&gt; Unit">dump</a>
        <a href="ICodes.scala.html#46377" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39309" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Traversing an open block!: &quot;</span> + <a href="#334945" title="=&gt; Int">label</a>)
      }
      <a href="#61580" title="(f: (BasicBlocks.this.Instruction) =&gt; U)Unit" id="25892">instrs</a> foreach <a href="#77091" title="(BasicBlocks.this.Instruction) =&gt; U">f</a>
    }

    /** The number of instructions in this basic block so far. */
    <span class="keyword">def</span> <a title="=&gt; Int" id="61590">length</a>: <span title="Int">Int</span> =
      <span title="Int" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span> <span class="keyword">else</span> <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; Int">length</span>

    /** Return the index of the instruction which produced the value 
     *  consumed by the given instruction. 
     */
    <span class="keyword">def</span> <a title="(pos: Int)Option[Int]" id="61591">findDef</a>(<a title="Int" id="335149">pos</a>: <span title="Int">Int</span>): <a title="Option[Int]" id="794">Option</a>[Int] = {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>)
      <span class="keyword">var</span> <a title="Int" id="335151">i</a> = <a href="#335149" title="Int">pos</a>
      <span class="keyword">var</span> <a title="Int" id="335152">d</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> (<a href="#335151" title="(x$1: Int)Boolean">i</a> &gt; <span title="Int(0)" class="int">0</span>) <a href="#335153" title="()Unit">{</a>
        <a href="#335151" title="Int">i</a> -= <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="Int" id="335164">prod</a> = <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#335151" title="Int">i</a>).<a href="Opcodes.scala.html#61738" title="=&gt; Int">produced</a>
        <span title="Unit" class="keyword">if</span> (<a href="#335164" title="(x$1: Int)Boolean">prod</a> <span title="(x$1: Boolean)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span> &amp;&amp; <a href="#335152" title="(x$1: Int)Boolean">d</a> == <span title="Int(0)" class="int">0</span>)
          <span title="Nothing" class="keyword">return</span> <a title="(x: Int)Some[Int]" id="267">Some</a>(<a href="#335151" title="Int">i</a>)
        <a href="#335152" title="Int">d</a> += (<a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#335151" title="Int">i</a>).<a href="Opcodes.scala.html#61737" title="(x$1: Int)Int">consumed</a> - <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#335151" title="Int">i</a>).<a href="Opcodes.scala.html#61738" title="=&gt; Int">produced</a>)
      }
      <span title="object None">None</span>
    }
    

    /** Return the n-th instruction. */
    <span class="keyword">def</span> <a title="(n: Int)BasicBlocks.this.Instruction" id="61592">apply</a>(<a title="Int" id="166027">n</a>: <span title="Int">Int</span>): <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a> =
      <span title="BasicBlocks.this.Instruction" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#166027" title="Int">n</a>) <span class="keyword">else</span> <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<a title="(n: Int)BasicBlocks.this.Instruction" id="29115">reverse</a>(<a href="#166027" title="Int">n</a>)

    ///////////////////// Substitutions ///////////////////////

    /**
     * Replace the instruction at the given position. Used by labels when
     * they are anchored. It retains the position of the previous instruction.
     */
    <span class="keyword">def</span> <a title="(pos: Int,instr: BasicBlocks.this.Instruction)Boolean" id="61593">replaceInstruction</a>(<a title="Int" id="155899">pos</a>: <span title="Int">Int</span>, <a title="BasicBlocks.this.Instruction" id="155900">instr</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>): <span title="Boolean">Boolean</span> = {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>, <span title="java.lang.String(&quot;Instructions can be replaced only after the basic block is closed&quot;)" class="string">&quot;Instructions can be replaced only after the basic block is closed&quot;</span>)

      <a href="#155900" title="BasicBlocks.this.Instruction">instr</a>.<a href="Opcodes.scala.html#61743" title="(x$1: scala.tools.nsc.util.Position)Unit">pos</a> = <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#155899" title="Int">pos</a>).<a href="Opcodes.scala.html#61742" title="=&gt; scala.tools.nsc.util.Position">pos</a>
      <a href="#61580" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">instrs</a>(<a href="#155899" title="Int">pos</a>) = <a href="#155900" title="BasicBlocks.this.Instruction">instr</a>
      <span title="Boolean(true)" class="keyword">true</span>
    }

    /**
     * Replace the given instruction with the new one. 
     * Returns `true' if it actually changed something. 
     * It retains the position of the previous instruction.
     */
    <span class="keyword">def</span> <a title="(oldInstr: BasicBlocks.this.Instruction,newInstr: BasicBlocks.this.Instruction)Boolean" id="61594">replaceInstruction</a>(<a title="BasicBlocks.this.Instruction" id="155894">oldInstr</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>, <a title="BasicBlocks.this.Instruction" id="155895">newInstr</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>): <span title="Boolean">Boolean</span> = {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>, <span title="java.lang.String(&quot;Instructions can be replaced only after the basic block is closed&quot;)" class="string">&quot;Instructions can be replaced only after the basic block is closed&quot;</span>)

      <span class="keyword">var</span> <a title="Int" id="335341">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Boolean" id="335342">changed</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span title="Unit" class="keyword">while</span> (<a href="#335341" title="(x$1: Int)Boolean">i</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#335342" title="Boolean">changed</a>) <a href="#335343" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#335341" title="Int">i</a>) == <a href="#155894" title="BasicBlocks.this.Instruction">oldInstr</a>) {
          <a href="#155895" title="BasicBlocks.this.Instruction">newInstr</a>.<a href="Opcodes.scala.html#61743" title="(x$1: scala.tools.nsc.util.Position)Unit">pos</a> = <a href="#155894" title="BasicBlocks.this.Instruction">oldInstr</a>.<a href="Opcodes.scala.html#61742" title="=&gt; scala.tools.nsc.util.Position">pos</a>
          <a href="#61580" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">instrs</a>(<a href="#335341" title="Int">i</a>) = <a href="#155895" title="BasicBlocks.this.Instruction">newInstr</a>
          <a href="#335342" title="Boolean">changed</a> = <span title="Boolean(true)" class="keyword">true</span>
        }
        <a href="#335341" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
      <a href="#335342" title="Boolean">changed</a>
    }

    /** Replaces &lt;code&gt;iold&lt;/code&gt; with &lt;code&gt;is&lt;/code&gt;. It does not update
     *  the position field in the newly inserted instrucitons, so it behaves
     *  differently than the one-instruction versions of this function.
     *
     *  @param iold ..
     *  @param is   ..
     *  @return     ..
     */
    <span class="keyword">def</span> <a title="(iold: BasicBlocks.this.Instruction,is: List[BasicBlocks.this.Instruction])Boolean" id="61595">replaceInstruction</a>(<a title="BasicBlocks.this.Instruction" id="155889">iold</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>, <a title="List[BasicBlocks.this.Instruction]" id="155890">is</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction]): <span title="Boolean">Boolean</span> = {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>, <span title="java.lang.String(&quot;Instructions can be replaced only after the basic block is closed&quot;)" class="string">&quot;Instructions can be replaced only after the basic block is closed&quot;</span>)

      <span class="keyword">var</span> <a title="Int" id="335429">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Boolean" id="335430">changed</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span title="Unit" class="keyword">while</span> (<a href="#335429" title="(x$1: Int)Boolean">i</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span> &amp;&amp; (<a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a><a title="(x$1: AnyRef)Boolean" id="6613">(</a><a href="#335429" title="Int">i</a>) ne <a href="#155889" title="BasicBlocks.this.Instruction">iold</a>))
        <a href="#335429" title="Int">i</a> <a href="#335431" title="()Unit">+=</a> <span title="Int(1)" class="int">1</span>

      <span title="Unit" class="keyword">if</span> (<a href="#335429" title="(x$1: Int)Boolean">i</a> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>) {
        <span class="keyword">val</span> <a title="Array[BasicBlocks.this.Instruction]" id="335504">newInstrs</a> = <span title="Array[BasicBlocks.this.Instruction]" class="keyword">new</span> <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction](<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> <span title="(x$1: Int)Int">+</span> <a href="#155890" title="List[BasicBlocks.this.Instruction]">is</a>.<span title="=&gt; Int">length</span> - <span title="Int(1)" class="int">1</span>);
        <a href="#335430" title="Boolean">changed</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="object Array">Array</span>.<span title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</span>(<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>, <span title="Int(0)" class="int">0</span>, <a href="#335504" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>, <span title="Int(0)" class="int">0</span>, <a href="#335429" title="Int">i</a>)
        <span class="keyword">var</span> <a title="Int" id="335505">j</a> = <a href="#335429" title="Int">i</a>
        <span class="keyword">for</span> (<a title="BasicBlocks.this.Instruction" id="335553">x</a> &lt;- <a href="#155890" title="(f: (BasicBlocks.this.Instruction) =&gt; Unit)Unit">is</a>) {
          <a href="#335504" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">newInstrs</a>(<a href="#335505" title="Int">j</a>) = <a href="#335553" title="BasicBlocks.this.Instruction">x</a>
          <a href="#335505" title="Int">j</a> += <span title="Int(1)" class="int">1</span>
        }
        <span title="Unit" class="keyword">if</span> (<a href="#335429" title="(x$1: Int)Int">i</a> <span title="(x$1: Int)Boolean">+</span> <span title="Int(1)" class="int">1</span> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>)
          <span title="object Array">Array</span>.<span title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</span>(<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>, <a href="#335429" title="(x$1: Int)Int">i</a> + <span title="Int(1)" class="int">1</span>, <a href="#335504" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>, <a href="#335505" title="Int">j</a>, <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> <span title="(x$1: Int)Int">-</span> <a href="#335429" title="Int">i</a> - <span title="Int(1)" class="int">1</span>)
        <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <a href="#335504" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>;
      }

      <a href="#335430" title="Boolean">changed</a>
    }
    
    /** Insert instructions in 'is' immediately after index 'idx'. */
    <span class="keyword">def</span> <a title="(idx: Int,is: List[BasicBlocks.this.Instruction])Unit" id="61596">insertAfter</a>(<a title="Int" id="335667">idx</a>: <span title="Int">Int</span>, <a title="List[BasicBlocks.this.Instruction]" id="335668">is</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction]) {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>, <span title="java.lang.String(&quot;Instructions can be replaced only after the basic block is closed&quot;)" class="string">&quot;Instructions can be replaced only after the basic block is closed&quot;</span>)

      <span class="keyword">var</span> <a title="Int" id="335670">i</a> = <a href="#335667" title="(x$1: Int)Int">idx</a> + <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">if</span> (<a href="#335670" title="(x$1: Int)Boolean">i</a> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>) {
        <span class="keyword">val</span> <a title="Array[BasicBlocks.this.Instruction]" id="335692">newInstrs</a> = <span title="Array[BasicBlocks.this.Instruction]" class="keyword">new</span> <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction](<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> + <a href="#335668" title="List[BasicBlocks.this.Instruction]">is</a>.<span title="=&gt; Int">length</span>);
        <span title="object Array">Array</span>.<span title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</span>(<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>, <span title="Int(0)" class="int">0</span>, <a href="#335692" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>, <span title="Int(0)" class="int">0</span>, <a href="#335670" title="Int">i</a>)
        <span class="keyword">var</span> <a title="Int" id="335693">j</a> = <a href="#335670" title="Int">i</a>
        <span class="keyword">for</span> (<a title="BasicBlocks.this.Instruction" id="335739">x</a> &lt;- <a href="#335668" title="(f: (BasicBlocks.this.Instruction) =&gt; Unit)Unit">is</a>) {
          <a href="#335692" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">newInstrs</a>(<a href="#335693" title="Int">j</a>) = <a href="#335739" title="BasicBlocks.this.Instruction">x</a>
          <a href="#335693" title="Int">j</a> += <span title="Int(1)" class="int">1</span>
        }
        <span title="Unit" class="keyword">if</span> (<a href="#335670" title="(x$1: Int)Int">i</a> <span title="(x$1: Int)Boolean">+</span> <span title="Int(1)" class="int">1</span> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>)
          <span title="object Array">Array</span>.<span title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</span>(<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>, <a href="#335670" title="(x$1: Int)Int">i</a> + <span title="Int(1)" class="int">1</span>, <a href="#335692" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>, <a href="#335693" title="Int">j</a>, <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> - <a href="#335670" title="Int">i</a>)
        <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <a href="#335692" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>;
      }
    }

    /** Removes instructions found at the given positions.
     *
     *  @param positions ...
     */
    <span class="keyword">def</span> <a title="(positions: Int*)Unit" id="61597">removeInstructionsAt</a>(<a title="Int*" id="335847">positions</a>: <a title="Int*" id="4199">Int</a>*) {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>)
      <span class="keyword">val</span> <a title="List[Int]" id="335849">removed</a> = <a href="#335847" title="Int*">positions</a>.<span title="=&gt; List[Int]">toList</span>
      <span class="keyword">val</span> <a title="Array[BasicBlocks.this.Instruction]" id="335850">newInstrs</a> = <span title="Array[BasicBlocks.this.Instruction]" class="keyword">new</span> <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction](<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> - <a href="#335847" title="Int*">positions</a>.<a title="=&gt; Int" id="25702">length</a>)
      <span class="keyword">var</span> <a title="Int" id="335851">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="335852">j</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> (<a href="#335851" title="(x$1: Int)Boolean">i</a> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>) <a href="#335853" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#335849" title="List[Int]">removed</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#335851" title="Int">i</a>)) {
          <a href="#335850" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">newInstrs</a>(<a href="#335852" title="Int">j</a>) = <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#335851" title="Int">i</a>)
          <a href="#335852" title="Int">j</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#335851" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
      <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <a href="#335850" title="Array[BasicBlocks.this.Instruction]">newInstrs</a>
    }
    
    /** Remove the last instruction of this basic block. It is
     *  fast for an open block, but slower when the block is closed.
     */
    <span class="keyword">def</span> <a title="=&gt; Unit" id="61598">removeLastInstruction</a> {
      <span title="Unit" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) 
        <a href="#61597" title="(positions: Int*)Unit">removeInstructionsAt</a>(<a href="#46410" title="=&gt; Int" id="25707">size</a>)
      <span class="keyword">else</span> {
        <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<a title="=&gt; List[BasicBlocks.this.Instruction]" id="25477">tail</a>
        <a href="#61566" title="(b: Boolean)Unit">touched</a> = <span title="Boolean(true)" class="keyword">true</span>
      }
    }

    /** Replaces all instructions found in the map.
     *
     *  @param map ...
     */
    <span class="keyword">def</span> <a title="(map: scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction])Unit" id="61599">subst</a>(<a title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]" id="335993">map</a>: <span title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]">Map</span>[Instruction, Instruction]) {
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#61557" title="=&gt; Boolean">closed</a>) <a href="#61600" title="(map: scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction])Unit">substOnList</a>(<a href="#335993" title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]">map</a>) <span class="keyword">else</span> {
        <span class="keyword">var</span> <a title="Int" id="335999">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#335999" title="(x$1: Int)Boolean">i</a> &lt; <a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="=&gt; Int">length</span>) <a href="#336000" title="()Unit">{</a>
          <a href="#335993" title="(key: BasicBlocks.this.Instruction)Option[BasicBlocks.this.Instruction]">map</a> get <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#335999" title="Int">i</a>) <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> Some(<a title="BasicBlocks.this.Instruction" id="336022">instr</a>) =&gt; <a href="#61566" title="(b: Boolean)Unit">touched</a> = <a href="#61593" title="(pos: Int,instr: BasicBlocks.this.Instruction)Boolean">replaceInstruction</a>(<a href="#335999" title="Int">i</a>, <a href="#336022" title="BasicBlocks.this.Instruction">instr</a>)
            <span title="Unit" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Unit">(</span>)
          }
          <a href="#335999" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(map: scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction])Unit" id="61600">substOnList</a>(<a title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]" id="335995">map</a>: <span title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]">Map</span>[Instruction, Instruction]) {
      <span class="keyword">def</span> <a title="(l: List[BasicBlocks.this.Instruction])List[BasicBlocks.this.Instruction]" id="336070">subst</a>(<a title="List[BasicBlocks.this.Instruction]" id="336071">l</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction]): <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction] = <a href="#336071" title="List[BasicBlocks.this.Instruction]">l</a> <span title="List[BasicBlocks.this.Instruction]" class="keyword">match</span> {
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> <span title="object Nil">Nil</span> =&gt; <span title="object Nil">Nil</span>
        <span title="List[BasicBlocks.this.Instruction]" class="keyword">case</span> <a title="BasicBlocks.this.Instruction" id="336076">x</a> :: <a title="List[BasicBlocks.this.Instruction]" id="336077">xs</a> =&gt;
          <a href="#335995" title="scala.collection.mutable.Map[BasicBlocks.this.Instruction,BasicBlocks.this.Instruction]">map</a>.<span title="(key: BasicBlocks.this.Instruction)Option[BasicBlocks.this.Instruction]">get</span>(<a href="#336076" title="BasicBlocks.this.Instruction">x</a>) <span title="List[BasicBlocks.this.Instruction]" class="keyword">match</span> {
            <span title="List[BasicBlocks.this.Instruction]" class="keyword">case</span> Some(<a title="BasicBlocks.this.Instruction" id="336084">newInstr</a>) =&gt; <a href="#336084" title="BasicBlocks.this.Instruction">newInstr</a> <a href="#336087" title="BasicBlocks.this.Instruction">::</a> <a href="#336070" title="(l: List[BasicBlocks.this.Instruction])List[BasicBlocks.this.Instruction]">subst</a><span title="(x: BasicBlocks.this.Instruction)List[BasicBlocks.this.Instruction]">(</span><a href="#336077" title="List[BasicBlocks.this.Instruction]">xs</a>)
            <span title="List[BasicBlocks.this.Instruction]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#336076" title="BasicBlocks.this.Instruction">x</a> <a href="#336097" title="BasicBlocks.this.Instruction">::</a> <a href="#336070" title="(l: List[BasicBlocks.this.Instruction])List[BasicBlocks.this.Instruction]">subst</a><span title="(x: BasicBlocks.this.Instruction)List[BasicBlocks.this.Instruction]">(</span><a href="#336077" title="List[BasicBlocks.this.Instruction]">xs</a>)
          }
      }

      <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#336070" title="(l: List[BasicBlocks.this.Instruction])List[BasicBlocks.this.Instruction]">subst</a>(<a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>)
    }

    ////////////////////// Emit //////////////////////


    /** Add a new instruction at the end of the block,
     *  using the same source position as the last emitted instruction
     */
    <span class="keyword">def</span> <a title="(instr: BasicBlocks.this.Instruction)Unit" id="61601">emit</a>(<a title="BasicBlocks.this.Instruction" id="296276">instr</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>) {
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; Boolean">isEmpty</span>)
        <a href="#61602" title="(instr: BasicBlocks.this.Instruction,pos: scala.tools.nsc.util.Position)Unit">emit</a>(<a href="#296276" title="BasicBlocks.this.Instruction">instr</a>, <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; BasicBlocks.this.Instruction">head</span>.<a href="Opcodes.scala.html#61742" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      <span class="keyword">else</span>
        <a href="#61602" title="(instr: BasicBlocks.this.Instruction,pos: scala.tools.nsc.util.Position)Unit">emit</a>(<a href="#296276" title="BasicBlocks.this.Instruction">instr</a>, <a href="../../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>)
    }

    <span class="keyword">def</span> <a title="(instr: BasicBlocks.this.Instruction,pos: scala.tools.nsc.util.Position)Unit" id="61602">emit</a>(<a title="BasicBlocks.this.Instruction" id="296271">instr</a>: <a href="Opcodes.scala.html#46414" title="BasicBlocks.this.Instruction">Instruction</a>, <a title="scala.tools.nsc.util.Position" id="296272">pos</a>: <a href="../../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) {
        <a href="#61618" title="()Unit">print</a>()
        <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;trying to emit: &quot;</span> + <a href="#296271" title="BasicBlocks.this.Instruction">instr</a>)
      }
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a title="(x$1: Boolean)Boolean" id="2231">!</a><a href="#61557" title="=&gt; Boolean">closed</a> || <a href="#61559" title="=&gt; Boolean">ignore</a>, <span title="java.lang.String(&quot;BasicBlock closed&quot;)" class="string">&quot;BasicBlock closed&quot;</span>)

      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#61559" title="=&gt; Boolean">ignore</a>) {
        <a href="#61566" title="(b: Boolean)Unit">touched</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#296271" title="BasicBlocks.this.Instruction">instr</a>.<a href="Opcodes.scala.html#61743" title="(x$1: scala.tools.nsc.util.Position)Unit">pos</a> = <a href="#296272" title="scala.tools.nsc.util.Position">pos</a>
        <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#296271" title="BasicBlocks.this.Instruction">instr</a> <a href="#336189" title="BasicBlocks.this.Instruction">::</a> <a href="#61574" title="(x: BasicBlocks.this.Instruction)List[BasicBlocks.this.Instruction]">instructionList</a>
        <a href="#61577" title="(x$1: BasicBlocks.this.Instruction)Unit">_lastInstruction</a> = <a href="#296271" title="BasicBlocks.this.Instruction">instr</a>
      }
    }
    
    <span class="keyword">def</span> <a title="(instrs: Seq[BasicBlocks.this.Instruction])Unit" id="61603">emit</a>(<a title="Seq[BasicBlocks.this.Instruction]" id="296268">instrs</a>: <span title="Seq[BasicBlocks.this.Instruction]">Seq</span>[Instruction]) {
      <a href="#296268" title="(f: (BasicBlocks.this.Instruction) =&gt; Unit)Unit" id="25590">instrs</a> foreach (<a title="BasicBlocks.this.Instruction" id="336211">i</a> =&gt; <a href="#61602" title="(instr: BasicBlocks.this.Instruction,pos: scala.tools.nsc.util.Position)Unit">emit</a>(<a href="#336211" title="BasicBlocks.this.Instruction">i</a>, <a href="#336211" title="BasicBlocks.this.Instruction">i</a>.<a href="Opcodes.scala.html#61742" title="=&gt; scala.tools.nsc.util.Position">pos</a>))
    }

    /** Close the block */
    <span class="keyword">def</span> <a title="=&gt; Unit" id="61604">close</a> {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <span title="Int(0)" class="int">0</span>, <span title="java.lang.String(&quot;Empty block.&quot;)" class="string">&quot;Empty block.&quot;</span>)
      <a href="#61558" title="(b: Boolean)Unit">closed</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; List[BasicBlocks.this.Instruction]">reverse</span>
      <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <a href="#61612" title="(l: List[BasicBlocks.this.Instruction])Array[BasicBlocks.this.Instruction]">toInstructionArray</a>(<a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>)
    }

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61605">open</a> {
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#61557" title="=&gt; Boolean">closed</a>)
      <a href="#61558" title="(b: Boolean)Unit">closed</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#61560" title="(b: Boolean)Unit">ignore</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; List[BasicBlocks.this.Instruction]">reverse</span>  // prepare for appending to the head
    }

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61606">clear</a> {
      <a href="#61574" title="(x$1: List[BasicBlocks.this.Instruction])Unit">instructionList</a> = <span title="object Nil">Nil</span>
      <a href="#61580" title="(x$1: Array[BasicBlocks.this.Instruction])Unit">instrs</a> = <span title="Null(null)" class="keyword">null</span>
      <a href="#61568" title="(x$1: List[BasicBlocks.this.BasicBlock])Unit">preds</a>  = <span title="Null(null)" class="keyword">null</span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="61607">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; Boolean">isEmpty</span>

    /** Enter ignore mode: new 'emit'ted instructions will not be
     *  added to this basic block. It makes the generation of THROW
     *  and RETURNs easier.
     */
    <span class="keyword">def</span> <a title="=&gt; Unit" id="61608">enterIgnoreMode</a> = <a href="#61560" title="(b: Boolean)Unit">ignore</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61609">exitIgnoreMode</a> {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#61559" title="=&gt; Boolean">ignore</a>, <span title="java.lang.String(&quot;Exit ignore mode when not in ignore mode.&quot;)" class="string">&quot;Exit ignore mode when not in ignore mode.&quot;</span>)
      <a href="#61560" title="(b: Boolean)Unit">ignore</a> = <span title="Boolean(false)" class="keyword">false</span>
    }

    /** Return the last instruction of this basic block. */
    <span class="keyword">def</span> <a title="=&gt; BasicBlocks.this.Instruction" id="61610">lastInstruction</a> =
      <span title="BasicBlocks.this.Instruction" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>)
        <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<a href="#61580" title="=&gt; Array[BasicBlocks.this.Instruction]">instrs</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>)
      <span class="keyword">else</span>
        <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<span title="=&gt; BasicBlocks.this.Instruction">head</span>

    <span class="keyword">def</span> <a title="=&gt; BasicBlocks.this.Instruction" id="61611">firstInstruction</a> =
      <span title="BasicBlocks.this.Instruction" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>)
        <a href="#61580" title="(i: Int)BasicBlocks.this.Instruction">instrs</a>(<span title="Int(0)" class="int">0</span>)
      <span class="keyword">else</span>
        <a href="#61574" title="=&gt; List[BasicBlocks.this.Instruction]">instructionList</a>.<a title="=&gt; BasicBlocks.this.Instruction" id="29143">last</a>

    /** Convert the list to an array */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(l: List[BasicBlocks.this.Instruction])Array[BasicBlocks.this.Instruction]" id="61612">toInstructionArray</a>(<a title="List[BasicBlocks.this.Instruction]" id="335068">l</a>: <span title="List[BasicBlocks.this.Instruction]">List</span>[Instruction]): <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction] = {
      <span class="keyword">var</span> <a title="Array[BasicBlocks.this.Instruction]" id="336303">array</a> = <span title="Array[BasicBlocks.this.Instruction]" class="keyword">new</span> <span title="Array[BasicBlocks.this.Instruction]">Array</span>[Instruction](<a href="#335068" title="List[BasicBlocks.this.Instruction]">l</a>.<span title="=&gt; Int">length</span>)
      <span class="keyword">var</span> <a title="Int" id="336304">i</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

      <a href="#335068" title="(f: (BasicBlocks.this.Instruction) =&gt; Unit)Unit">l</a> foreach (<a title="BasicBlocks.this.Instruction" id="336325">x</a> =&gt; { <a href="#336303" title="(i: Int,x: BasicBlocks.this.Instruction)Unit">array</a>(<a href="#336304" title="Int">i</a>) = <a href="#336325" title="BasicBlocks.this.Instruction">x</a>; <a href="#336304" title="Int">i</a> += <span title="Int(1)" class="int">1</span> })
      <a href="#336303" title="Array[BasicBlocks.this.Instruction]">array</a>
    }

    <span class="keyword">def</span> <a title="=&gt; List[BasicBlocks.this.BasicBlock]" id="61613">successors</a> : <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock] = <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">if</span> (<a href="#61607" title="=&gt; Boolean">isEmpty</a>) <span title="object Nil">Nil</span> <span class="keyword">else</span> {
      <span class="keyword">var</span> <a title="List[BasicBlocks.this.BasicBlock]" id="336376">res</a> = <a href="#61610" title="=&gt; BasicBlocks.this.Instruction">lastInstruction</a> <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">match</span> {
        <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">case</span> JUMP (<a title="BasicBlocks.this.BasicBlock" id="336378">whereto</a>) =&gt; <span title="(xs: BasicBlocks.this.BasicBlock*)List[BasicBlocks.this.BasicBlock]">List</span>(<a href="#336378" title="BasicBlocks.this.BasicBlock">whereto</a>)
        <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">case</span> CJUMP(<a title="BasicBlocks.this.BasicBlock" id="336394">success</a>, <a title="BasicBlocks.this.BasicBlock" id="336395">failure</a>, _, _) =&gt; <a href="#336395" title="BasicBlocks.this.BasicBlock">failure</a> <a href="#336398" title="BasicBlocks.this.BasicBlock">::</a> <a href="#336394" title="BasicBlocks.this.BasicBlock">success</a> <a href="#336399" title="(x: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">::</a> <span title="(x: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">Nil</span>
        <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">case</span> CZJUMP(<a title="BasicBlocks.this.BasicBlock" id="336418">success</a>, <a title="BasicBlocks.this.BasicBlock" id="336419">failure</a>, _, _) =&gt; <a href="#336419" title="BasicBlocks.this.BasicBlock">failure</a> <a href="#336422" title="BasicBlocks.this.BasicBlock">::</a> <a href="#336418" title="BasicBlocks.this.BasicBlock">success</a> <a href="#336423" title="(x: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">::</a> <span title="(x: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">Nil</span>
        <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">case</span> SWITCH(_,<a title="List[BasicBlocks.this.BasicBlock]" id="336440">labels</a>) =&gt; <a href="#336440" title="List[BasicBlocks.this.BasicBlock]">labels</a>
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> RETURN(_) =&gt; <span title="object Nil">Nil</span>
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> THROW() =&gt; <span title="object Nil">Nil</span>
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> _ =&gt;
          <span title="scala.collection.immutable.Nil.type" class="keyword">if</span> (<a href="#61557" title="=&gt; Boolean">closed</a>) {
            <a href="ICodes.scala.html#46383" title="=&gt; Unit">dump</a>
            <a href="ICodes.scala.html#46377" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#39309" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;The last instruction is not a control flow instruction: &quot;</span> + <a href="#61610" title="=&gt; BasicBlocks.this.Instruction">lastInstruction</a>)
          }
          <span class="keyword">else</span> <span title="object Nil">Nil</span>
      }
      <a href="#334946" title="=&gt; BasicBlocks.this.IMethod">method</a>.<a href="Members.scala.html#61503" title="=&gt; List[BasicBlocks.this.ExceptionHandler]">exh</a>.<span title="(f: (BasicBlocks.this.ExceptionHandler) =&gt; Unit)Unit">foreach</span> { e: <a href="ExceptionHandlers.scala.html#46468" title="BasicBlocks.this.ExceptionHandler">ExceptionHandler</a> =&gt;
        <span title="Unit" class="keyword">if</span> (<a href="#336469" title="BasicBlocks.this.ExceptionHandler">e</a>.<a href="ExceptionHandlers.scala.html#61719" title="(b: BasicBlocks.this.BasicBlock)Boolean">covers</a>(<a href="#46410" title="BasicBlocks.this.BasicBlock" class="keyword">this</a>)) <a href="#336376" title="List[BasicBlocks.this.BasicBlock]">res</a> = <a href="#336469" title="BasicBlocks.this.ExceptionHandler">e</a>.<a href="ExceptionHandlers.scala.html#61714" title="=&gt; BasicBlocks.this.BasicBlock">startBlock</a> <a href="#336473" title="BasicBlocks.this.BasicBlock">::</a> <a href="#336376" title="(x: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">res</a>
      }
      <a href="#336376" title="(that: Traversable[BasicBlocks.this.BasicBlock])(implicit bf: scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List[BasicBlocks.this.BasicBlock]])List[BasicBlocks.this.BasicBlock]">res</a> <span title="scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List#Coll]">++</span> <a href="#61614" title="(b: BasicBlocks.this.BasicBlock,succs: List[BasicBlocks.this.BasicBlock])List[BasicBlocks.this.BasicBlock]">exceptionalSucc</a>(<a href="#46410" title="BasicBlocks.this.BasicBlock" class="keyword">this</a>, <a href="#336376" title="List[BasicBlocks.this.BasicBlock]">res</a>)
    }
    
    /** Return a list of successors for 'b' that come from exception handlers
     *  covering b's (non-exceptional) successors. These exception handlers 
     *  might not cover 'b' itself. This situation corresponds to an 
     *  exception being thrown as the first thing of one of b's successors.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(b: BasicBlocks.this.BasicBlock,succs: List[BasicBlocks.this.BasicBlock])List[BasicBlocks.this.BasicBlock]" id="61614">exceptionalSucc</a>(<a title="BasicBlocks.this.BasicBlock" id="336549">b</a>: <a href="#46410" title="BasicBlocks.this.BasicBlock">BasicBlock</a>, <a title="List[BasicBlocks.this.BasicBlock]" id="336550">succs</a>: <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock]): <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock] = {
      <span class="keyword">def</span> <a title="(s: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]" id="336610">findSucc</a>(<a title="BasicBlocks.this.BasicBlock" id="336611">s</a>: <a href="#46410" title="BasicBlocks.this.BasicBlock">BasicBlock</a>): <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock] = { 
        <span class="keyword">val</span> <a title="List[BasicBlocks.this.BasicBlock]" id="336612">ss</a> = <a href="#334946" title="=&gt; BasicBlocks.this.IMethod">method</a>.<a href="Members.scala.html#61503" title="(f: (BasicBlocks.this.ExceptionHandler) =&gt; Traversable[BasicBlocks.this.BasicBlock])(implicit bf: scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List[BasicBlocks.this.ExceptionHandler]])List[BasicBlocks.this.BasicBlock]">exh</a> <span title="scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List#Coll]">flatMap</span> { <a title="BasicBlocks.this.ExceptionHandler" id="336621">h</a> =&gt; 
          <span title="List[BasicBlocks.this.BasicBlock]" class="keyword">if</span> (<a href="#336621" title="BasicBlocks.this.ExceptionHandler">h</a>.<a href="ExceptionHandlers.scala.html#61719" title="(b: BasicBlocks.this.BasicBlock)Boolean">covers</a>(<a href="#336611" title="BasicBlocks.this.BasicBlock">s</a>)) <span title="(xs: BasicBlocks.this.BasicBlock*)List[BasicBlocks.this.BasicBlock]">List</span>(<a href="#336621" title="BasicBlocks.this.ExceptionHandler">h</a>.<a href="ExceptionHandlers.scala.html#61714" title="=&gt; BasicBlocks.this.BasicBlock">startBlock</a>) <span class="keyword">else</span> <span title="object Nil">Nil</span>
        }
        <a href="#336612" title="(that: Traversable[BasicBlocks.this.BasicBlock])(implicit bf: scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List[BasicBlocks.this.BasicBlock]])List[BasicBlocks.this.BasicBlock]">ss</a> <span title="scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List#Coll]">++</span> (<a href="#336612" title="(f: (BasicBlocks.this.BasicBlock) =&gt; Traversable[BasicBlocks.this.BasicBlock])(implicit bf: scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List[BasicBlocks.this.BasicBlock]])List[BasicBlocks.this.BasicBlock]">ss</a> <span title="scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List#Coll]">flatMap</span> <a href="#336610" title="(s: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">findSucc</a>)
      }
      
      <a href="#336550" title="List[BasicBlocks.this.BasicBlock]">succs</a>.<span title="(f: (BasicBlocks.this.BasicBlock) =&gt; Traversable[BasicBlocks.this.BasicBlock])(implicit bf: scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List[BasicBlocks.this.BasicBlock]])List[BasicBlocks.this.BasicBlock]">flatMap</span><span title="scala.collection.generic.BuilderFactory[BasicBlocks.this.BasicBlock,List[BasicBlocks.this.BasicBlock],List#Coll]">(</span><a href="#336610" title="(s: BasicBlocks.this.BasicBlock)List[BasicBlocks.this.BasicBlock]">findSucc</a>).<a title="=&gt; List[BasicBlocks.this.BasicBlock]" id="25786">removeDuplicates</a>
    }

    /** Returns the precessors of this block, in the current 'code' chunk.
     *  This is signifficant only if there are exception handlers, which live
     *  in different code 'chunks' than the rest of the method.
     */
    <span class="keyword">def</span> <a title="=&gt; List[BasicBlocks.this.BasicBlock]" id="61615">predecessors</a>: <span title="List[BasicBlocks.this.BasicBlock]">List</span>[BasicBlock] = {
      <a href="#61568" title="(x$1: List[BasicBlocks.this.BasicBlock])Unit">preds</a> = <a href="#61550" title="=&gt; BasicBlocks.this.Code">code</a>.<a href="Members.scala.html#61659" title="=&gt; scala.collection.mutable.ListBuffer[BasicBlocks.this.BasicBlock]">blocks</a>.<a title="=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[BasicBlocks.this.BasicBlock]" id="61871">iterator</a>.<a title="(p: (BasicBlocks.this.BasicBlock) =&gt; Boolean)Iterator[BasicBlocks.this.BasicBlock]" id="32329">filter</a> (<a href="#337043" title="BasicBlocks.this.BasicBlock">_</a>.<a href="#61613" title="=&gt; List[BasicBlocks.this.BasicBlock]">successors</a>.<span title="(elem: Any)Boolean">contains</span>(<a href="#46410" title="BasicBlocks.this.BasicBlock" class="keyword">this</a>)).<a title="=&gt; List[BasicBlocks.this.BasicBlock]" id="32462">toList</a>
      <a href="#61568" title="=&gt; List[BasicBlocks.this.BasicBlock]">preds</a>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="61616">equals</a>(<a title="Any" id="337050">other</a>: <a title="Any" id="49">Any</a>): <span title="Boolean">Boolean</span> = <a href="#337050" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> <a title="BasicBlocks.this.BasicBlock" id="337052">that</a>: <a href="#46410" title="BasicBlocks.this.BasicBlock">BasicBlock</a> =&gt; <span title="(x$1: Boolean)Boolean">(</span><a href="#337052" title="BasicBlocks.this.BasicBlock">that</a>.<a href="#334945" title="(x$1: Int)Boolean">label</a> == <a href="#334945" title="=&gt; Int">label</a>) &amp;&amp; (<a href="#337052" title="BasicBlocks.this.BasicBlock">that</a>.<a href="#61550" title="(x$1: AnyRef)Boolean">code</a> == <a href="#61550" title="=&gt; BasicBlocks.this.Code">code</a>)
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="61617">hashCode</a> = <a href="#334945" title="(x$1: Int)Int" id="2989">label</a> <span title="(x$1: Int)Int">*</span> <span title="Int(41)" class="int">41</span> + <a href="#61550" title="=&gt; BasicBlocks.this.Code">code</a>.<a title="()Int" id="6593">hashCode</a>
    
    // Instead of it, rather use a printer
    <span class="keyword">def</span> <a title="()Unit" id="61618">print</a>() { <a href="#61619" title="(out: java.io.PrintStream)Unit">print</a>(java.lang.<a title="object java.lang.System" id="1651">System</a>.<a title="java.io.PrintStream" id="65176">out</a>) }

    <span class="keyword">def</span> <a title="(out: java.io.PrintStream)Unit" id="61619">print</a>(<a title="java.io.PrintStream" id="336160">out</a>: java.io.<a title="java.io.PrintStream" id="4023">PrintStream</a>) {
      <a href="#336160" title="java.io.PrintStream">out</a>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;block #&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#334945" title="=&gt; Int">label</a>+<span title="java.lang.String(&quot; :&quot;)" class="string">&quot; :&quot;</span>)
      <a href="#61582" title="=&gt; List[BasicBlocks.this.Instruction]">toList</a>.<span title="(f: (BasicBlocks.this.Instruction) =&gt; Unit)Unit">foreach</span>(<a title="BasicBlocks.this.Instruction" id="337134">i</a> =&gt; <a href="#336160" title="java.io.PrintStream">out</a>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;  &quot;</span> + <a href="#337134" title="BasicBlocks.this.Instruction">i</a>))
      <a href="#336160" title="java.io.PrintStream">out</a>.<span title="(x$1: java.lang.String)Unit">print</span>(<span title="java.lang.String(&quot;Successors: &quot;)" class="string">&quot;Successors: &quot;</span>)
      <a href="#61613" title="=&gt; List[BasicBlocks.this.BasicBlock]">successors</a>.<span title="(f: (BasicBlocks.this.BasicBlock) =&gt; Unit)Unit">foreach</span>((x: <a href="#46410" title="BasicBlocks.this.BasicBlock">BasicBlock</a>) =&gt; <a href="#336160" title="java.io.PrintStream">out</a>.<span title="(x$1: java.lang.String)Unit">print</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot; &quot;</span>+<a href="#337169" title="BasicBlocks.this.BasicBlock">x</a>.<a href="#334945" title="=&gt; Int">label</a>.<span title="()java.lang.String">toString</span>()))
      <a href="#336160" title="java.io.PrintStream">out</a>.<a title="()Unit" id="41418">println</a>()
    }

    <span class="keyword">def</span> <a title="=&gt; String" id="61620">fullString</a>: <span title="String">String</span> = {
      <span class="keyword">val</span> <a title="StringBuilder" id="337220">buf</a> = <a title="()StringBuilder" id="57658" class="keyword">new</a> <a title="StringBuilder" id="375">StringBuilder</a>()
      <a href="#337220" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span>(<span title="java.lang.String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span>).<span title="(s: String)StringBuilder">append</span>(<a href="#334945" title="=&gt; Int">label</a>.<span title="()java.lang.String">toString</span>())
      <a href="#337220" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span>(<span title="java.lang.String(&quot;\012Successors: &quot;)" class="string">&quot;\nSuccessors: &quot;</span>).<span title="(x: Any)StringBuilder">append</span>(<a href="#61613" title="=&gt; List[BasicBlocks.this.BasicBlock]">successors</a>)
      <a href="#337220" title="StringBuilder">buf</a>.<span title="(s: String)StringBuilder">append</span>(<span title="java.lang.String(&quot;\012Predecessors: &quot;)" class="string">&quot;\nPredecessors: &quot;</span>).<span title="(x: Any)StringBuilder">append</span>(<a href="#61615" title="=&gt; List[BasicBlocks.this.BasicBlock]">predecessors</a>)
      <a href="#337220" title="StringBuilder">buf</a>.<a title="()String" id="57807">toString</a>()
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="61621">toString</a>(): <span title="String">String</span> = <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> + <a href="#334945" title="=&gt; Int">label</a>
  }

}

<span class="keyword">object</span> <a title="object scala.tools.nsc.backend.icode.BBFlags" id="14965">BBFlags</a> <span title="ScalaObject">{</span>
  /** This block is a loop header (was translated from a while). */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1)" id="62247">LOOP_HEADER</a> = <span title="Int(1)" class="int">0x00000001</span>
  
  /** Ignoring mode: emit instructions are dropped. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2)" id="62249">IGNORING</a>    = <span title="Int(2)" class="int">0x00000002</span>
  
  /** This block is the header of an exception handler. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(4)" id="62251">EX_HEADER</a>   = <span title="Int(4)" class="int">0x00000004</span>
  
  /** This block is closed. No new instructions can be added. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(8)" id="62253">CLOSED</a>      = <span title="Int(8)" class="int">0x00000008</span>

  /** This block has been changed, cached results are recomputed. */
  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(16)" id="62255">TOUCHED</a>     = <span title="Int(16)" class="int">0x00000010</span>
}

        </pre>
    </body>
</html>