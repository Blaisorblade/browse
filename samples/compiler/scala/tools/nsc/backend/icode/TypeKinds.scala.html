<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/backend/icode/TypeKinds.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */

// $Id: TypeKinds.scala 18552 2009-08-23 14:58:30Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend
<span class="keyword">package</span> icode

/* A type case

    case UNIT            =&gt; 
    case BOOL            =&gt; 
    case BYTE            =&gt; 
    case SHORT           =&gt; 
    case CHAR            =&gt; 
    case INT             =&gt; 
    case LONG            =&gt; 
    case FLOAT           =&gt; 
    case DOUBLE          =&gt; 
    case REFERENCE(cls)  =&gt; 
    case ARRAY(elem)     =&gt; 

*/

<span class="keyword">import</span> scala.collection.mutable.{ Map, HashMap }

<span class="keyword">trait</span> <a title="trait TypeKinds extends java.lang.Object with ScalaObject" id="15096">TypeKinds</a> <span title="ScalaObject">{</span> self: ICodes =&gt;
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions.{ ArrayClass, AnyRefClass, ObjectClass, NullClass, NothingClass }
  
  /** A map from scala primitive Types to ICode TypeKinds */
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.Map[TypeKinds.this.global.Symbol,TypeKinds.this.TypeKind]" id="46196">primitiveTypeMap</a>: collection.<span title="scala.collection.Map[TypeKinds.this.global.Symbol,TypeKinds.this.TypeKind]">Map</span>[Symbol, TypeKind] = {
    <span class="keyword">import</span> definitions._
    collection.<span title="(elems: (TypeKinds.this.global.Symbol, Product with TypeKinds.this.TypeKind)*)scala.collection.immutable.Map[TypeKinds.this.global.Symbol,Product with TypeKinds.this.TypeKind]">Map</span>(
      <a href="../../symtab/Definitions.scala.html#28277" title="(y: object TypeKinds.this.UNIT)(TypeKinds.this.global.Symbol, object TypeKinds.this.UNIT)">UnitClass</a>     -&gt; <a href="#179927" title="object TypeKinds.this.UNIT">UNIT</a>,
      <a href="../../symtab/Definitions.scala.html#28293" title="(y: object TypeKinds.this.BOOL)(TypeKinds.this.global.Symbol, object TypeKinds.this.BOOL)">BooleanClass</a>  -&gt; <a href="#179954" title="object TypeKinds.this.BOOL">BOOL</a>,
      <a href="../../symtab/Definitions.scala.html#28283" title="(y: object TypeKinds.this.CHAR)(TypeKinds.this.global.Symbol, object TypeKinds.this.CHAR)">CharClass</a>     -&gt; <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a>,
      <a href="../../symtab/Definitions.scala.html#28279" title="(y: object TypeKinds.this.BYTE)(TypeKinds.this.global.Symbol, object TypeKinds.this.BYTE)">ByteClass</a>     -&gt; <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a>,
      <a href="../../symtab/Definitions.scala.html#28281" title="(y: object TypeKinds.this.SHORT)(TypeKinds.this.global.Symbol, object TypeKinds.this.SHORT)">ShortClass</a>    -&gt; <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a>,
      <a href="../../symtab/Definitions.scala.html#28285" title="(y: object TypeKinds.this.INT)(TypeKinds.this.global.Symbol, object TypeKinds.this.INT)">IntClass</a>      -&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>,
      <a href="../../symtab/Definitions.scala.html#28287" title="(y: object TypeKinds.this.LONG)(TypeKinds.this.global.Symbol, object TypeKinds.this.LONG)">LongClass</a>     -&gt; <a href="#180089" title="object TypeKinds.this.LONG">LONG</a>,
      <a href="../../symtab/Definitions.scala.html#28289" title="(y: object TypeKinds.this.FLOAT)(TypeKinds.this.global.Symbol, object TypeKinds.this.FLOAT)">FloatClass</a>    -&gt; <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a>,
      <a href="../../symtab/Definitions.scala.html#28291" title="(y: object TypeKinds.this.DOUBLE)(TypeKinds.this.global.Symbol, object TypeKinds.this.DOUBLE)">DoubleClass</a>   -&gt; <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a>
    )
  }
  /** Reverse map for toType */
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.Map[TypeKinds.this.TypeKind,TypeKinds.this.global.Symbol]" id="46198">reversePrimitiveMap</a>: collection.<span title="scala.collection.Map[TypeKinds.this.TypeKind,TypeKinds.this.global.Symbol]">Map</span>[TypeKind, Symbol] = 
    collection.<span title="(elems: (TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol)*)scala.collection.immutable.Map[TypeKinds.this.TypeKind,TypeKinds.this.global.Symbol]">Map</span>(<a href="#46195" title="=&gt; scala.collection.Map[TypeKinds.this.global.Symbol,TypeKinds.this.TypeKind]">primitiveTypeMap</a>.<a title="(f: ((TypeKinds.this.global.Symbol, TypeKinds.this.TypeKind)) =&gt; (TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol))(implicit bf: scala.collection.generic.BuilderFactory[(TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol),Sequence[(TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol)],List[(TypeKinds.this.global.Symbol, TypeKinds.this.TypeKind)]])Sequence[(TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol)]" id="25352">toList</a> <a title="scala.collection.generic.BuilderFactory[(TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol),List[(TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol)],List#Coll]" id="24313">map</a> (<a href="#179584" title="(TypeKinds.this.global.Symbol, TypeKinds.this.TypeKind)">_</a>.<a title="=&gt; (TypeKinds.this.TypeKind, TypeKinds.this.global.Symbol)" id="36440">swap</a>) : _*)

  /** This class represents a type kind. Type kinds
   * represent the types that the VM know (or the ICode 
   * view of what VMs know).
   */
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TypeKind extends java.lang.Object with ScalaObject" id="46199">TypeKind</a> <span title="ScalaObject">{</span>

    <span class="keyword">def</span> <a title="=&gt; TypeKinds.this.global.Type" id="60436">toType</a>: <a href="../../symtab/Types.scala.html#26205" title="TypeKinds.this.global.Type">Type</a> = (<a href="#46197" title="(key: TypeKinds.this.TypeKind)Option[TypeKinds.this.global.Symbol]">reversePrimitiveMap</a> get <a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a>) <span title="TypeKinds.this.global.Type" class="keyword">match</span> {
      <span title="TypeKinds.this.global.Type" class="keyword">case</span> Some(<a title="TypeKinds.this.global.Symbol" id="179648">sym</a>)  =&gt; <a href="#179648" title="TypeKinds.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; TypeKinds.this.global.Type">tpe</a>
      <span title="TypeKinds.this.global.Type" class="keyword">case</span> <span title="object None">None</span>       =&gt; <a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a> <span title="TypeKinds.this.global.Type" class="keyword">match</span> {  
        <span title="TypeKinds.this.global.Type" class="keyword">case</span> REFERENCE(<a title="TypeKinds.this.global.Symbol" id="179651">cls</a>)  =&gt; <a href="#179651" title="TypeKinds.this.global.Symbol">cls</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; TypeKinds.this.global.Type">tpe</a> // typeRef(cls.typeConstructor.prefix, cls, Nil)
        // case VALUE(cls)      =&gt; typeRef(cls.typeConstructor.prefix, cls, Nil)
        <span title="TypeKinds.this.global.Type" class="keyword">case</span> ARRAY(<a title="TypeKinds.this.TypeKind" id="179654">elem</a>)     =&gt; <a href="../../symtab/Types.scala.html#26295" title="(pre: TypeKinds.this.global.Type,sym: TypeKinds.this.global.Symbol,args: List[TypeKinds.this.global.Type])TypeKinds.this.global.Type">typeRef</a>(<a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>.<a href="../../symtab/Symbols.scala.html#27013" title="=&gt; TypeKinds.this.global.Type">typeConstructor</a>.<a href="../../symtab/Types.scala.html#30190" title="=&gt; TypeKinds.this.global.Type">prefix</a>, <a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>, <a title="(xs: TypeKinds.this.global.Type*)List[TypeKinds.this.global.Type]" id="24319">List</a>(<a href="#179654" title="TypeKinds.this.TypeKind">elem</a>.<a href="#60436" title="=&gt; TypeKinds.this.global.Type">toType</a>))
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="java.lang.String(&quot;Unknown type kind.&quot;)" class="string">&quot;Unknown type kind.&quot;</span>)
      }
    }

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60437">isReferenceType</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60438">isArrayType</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60439">isValueType</a>: <span title="Boolean">Boolean</span> = <span title="(x$1: Boolean)Boolean">!</span><a href="#60437" title="=&gt; Boolean">isReferenceType</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#60438" title="=&gt; Boolean">isArrayType</a>


    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60440">isIntType</a>: <span title="Boolean">Boolean</span> = <a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean(true)" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60441">isRealType</a>: <span title="Boolean">Boolean</span> = <a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean(true)" class="keyword">case</span> <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60442">isNumericType</a>: <span title="Boolean">Boolean</span> = <a href="#60440" title="(x$1: Boolean)Boolean" id="2214">isIntType</a> | <a href="#60441" title="=&gt; Boolean">isRealType</a>

    <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="60443">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179568">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>

    /** Simple subtyping check */
    <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)Boolean" id="60444">&lt;:&lt;</a>(<a title="TypeKinds.this.TypeKind" id="76975">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <span title="Boolean">Boolean</span> = <span title="(x$1: Boolean)Boolean">(</span><a href="#46199" title="(x$1: AnyRef)Boolean" class="keyword">this</a> eq <a href="#76975" title="TypeKinds.this.TypeKind">other</a>) || (<a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> <a href="#179954" title="object TypeKinds.this.BOOL">BOOL</a> | <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> =&gt; 
        <a href="#76975" title="TypeKinds.this.TypeKind">other</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean(true)" class="keyword">case</span> <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
      <span title="Boolean" class="keyword">case</span> _ =&gt; <a href="#46199" title="(x$1: AnyRef)Boolean" class="keyword">this</a> eq <a href="#76975" title="TypeKinds.this.TypeKind">other</a>
    })

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="60445">equals</a>(<a title="Any" id="62689">other</a>: <span title="Any">Any</span>): <span title="Boolean">Boolean</span> =
      <a href="#46199" title="(x$1: AnyRef)Boolean" class="keyword">this</a> eq <a href="#62689" title="Any">other</a>.<a title="[T0]T0" id="3623">asInstanceOf</a><span title="AnyRef">[</span><a title="AnyRef" id="1758">AnyRef</a>]
                     
    /** Is this type a category 2 type in JVM terms? */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="60446">isWideType</a>: <span title="Boolean">Boolean</span> = <a href="#46199" title="TypeKinds.this.TypeKind" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean(true)" class="keyword">case</span> <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }
    
    /** The number of dimensions for array types. */
    <span class="keyword">def</span> <a title="=&gt; Int" id="60447">dimensions</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
  }

  /**
   * The least upper bound of two typekinds. They have to be either
   * REFERENCE or ARRAY kinds.
   *
   * The lub is based on the lub of scala types.
   */
  <span class="keyword">def</span> <a title="(a: TypeKinds.this.TypeKind,b: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="46200">lub</a>(<a title="TypeKinds.this.TypeKind" id="60513">a</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>, <a title="TypeKinds.this.TypeKind" id="60514">b</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = {
    <span class="keyword">def</span> <a title="(t1: TypeKinds.this.global.Type,t2: TypeKinds.this.global.Type)TypeKinds.this.global.Type" id="179695">lub0</a>(<a title="TypeKinds.this.global.Type" id="179696">t1</a>: <a href="../../symtab/Types.scala.html#26205" title="TypeKinds.this.global.Type">Type</a>, <a title="TypeKinds.this.global.Type" id="179697">t2</a>: <a href="../../symtab/Types.scala.html#26205" title="TypeKinds.this.global.Type">Type</a>): <a href="../../symtab/Types.scala.html#26205" title="TypeKinds.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="TypeKinds.this.global.Type" id="179698">lubTpe</a> = <a href="ICodes.scala.html#46145" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../symtab/Types.scala.html#26441" title="(ts: List[TypeKinds.this.global.Type])TypeKinds.this.global.Type">lub</a>(<a href="#179696" title="TypeKinds.this.global.Type">t1</a> <a href="#179710" title="TypeKinds.this.global.Type">::</a> <a href="#179697" title="TypeKinds.this.global.Type">t2</a> <a href="#179711" title="(x: TypeKinds.this.global.Type)List[TypeKinds.this.global.Type]">::</a> <a title="(x: TypeKinds.this.global.Type)List[TypeKinds.this.global.Type]" id="7634">Nil</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#179698" title="TypeKinds.this.global.Type">lubTpe</a>.<a href="../../symtab/Types.scala.html#30180" title="=&gt; TypeKinds.this.global.Symbol">typeSymbol</a>.<a href="../../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>,
             <span title="(x$1: Any)java.lang.String" class="string">&quot;Least upper bound of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#179696" title="TypeKinds.this.global.Type">t1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#179697" title="TypeKinds.this.global.Type">t2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not a class: &quot;)" class="string">&quot; is not a class: &quot;</span> + <a href="#179698" title="TypeKinds.this.global.Type">lubTpe</a>)
      <a href="#179698" title="TypeKinds.this.global.Type">lubTpe</a>
    }

    <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#60513" title="TypeKinds.this.TypeKind">a</a>.<a href="#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#60513" title="TypeKinds.this.TypeKind">a</a>.<a href="#60438" title="=&gt; Boolean">isArrayType</a>) &amp;&amp;
        (<a href="#60514" title="TypeKinds.this.TypeKind">b</a>.<a href="#60437" title="(x$1: Boolean)Boolean">isReferenceType</a> || <a href="#60514" title="TypeKinds.this.TypeKind">b</a>.<a href="#60438" title="=&gt; Boolean">isArrayType</a>))
      <a href="#46231" title="(t: TypeKinds.this.global.Type)TypeKinds.this.TypeKind">toTypeKind</a>(<a href="#179695" title="(t1: TypeKinds.this.global.Type,t2: TypeKinds.this.global.Type)TypeKinds.this.global.Type">lub0</a>(<a href="#60513" title="TypeKinds.this.TypeKind">a</a>.<a href="#60436" title="=&gt; TypeKinds.this.global.Type">toType</a>, <a href="#60514" title="TypeKinds.this.TypeKind">b</a>.<a href="#60436" title="=&gt; TypeKinds.this.global.Type">toType</a>))
    <span class="keyword">else</span> <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#60513" title="(x$1: AnyRef)Boolean">a</a> == <a href="#60514" title="TypeKinds.this.TypeKind">b</a>) <a href="#60513" title="TypeKinds.this.TypeKind">a</a>
    <span class="keyword">else</span> <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#60513" title="(x$1: AnyRef)Boolean">a</a> == <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)) <a href="#60514" title="TypeKinds.this.TypeKind">b</a>
    <span class="keyword">else</span> <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#60514" title="(x$1: AnyRef)Boolean">b</a> == <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)) <a href="#60513" title="TypeKinds.this.TypeKind">a</a>
    <span class="keyword">else</span> <a title="(_1: TypeKinds.this.TypeKind,_2: TypeKinds.this.TypeKind)(TypeKinds.this.TypeKind, TypeKinds.this.TypeKind)" id="1155">(</a><a href="#60513" title="TypeKinds.this.TypeKind">a</a>, <a href="#60514" title="TypeKinds.this.TypeKind">b</a>) <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
      <span title="TypeKinds.this.TypeKind" class="keyword">case</span> (BOXED(<a title="TypeKinds.this.TypeKind" id="179805">a1</a>), BOXED(<a title="TypeKinds.this.TypeKind" id="179808">b1</a>)) =&gt; <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#179805" title="(x$1: AnyRef)Boolean">a1</a> == <a href="#179808" title="TypeKinds.this.TypeKind">b1</a>) <a href="#60513" title="TypeKinds.this.TypeKind">a</a> <span class="keyword">else</span> <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
      <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> (BOXED(_), REFERENCE(_)) | (REFERENCE(_), BOXED(_)) =&gt; <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
      <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> (BOXED(_), ARRAY(_)) | (ARRAY(_), BOXED(_)) =&gt; <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
      <span title="TypeKinds.this.INT.type" class="keyword">case</span> (<a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a>, <a href="#180062" title="object TypeKinds.this.INT">INT</a>) | (<a href="#180062" title="object TypeKinds.this.INT">INT</a>, <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a>) =&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>
      <span title="TypeKinds.this.INT.type" class="keyword">case</span> (<a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a>, <a href="#180062" title="object TypeKinds.this.INT">INT</a>) | (<a href="#180062" title="object TypeKinds.this.INT">INT</a>, <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a>) =&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>
      <span title="TypeKinds.this.INT.type" class="keyword">case</span> (<a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a>, <a href="#180062" title="object TypeKinds.this.INT">INT</a>) | (<a href="#180062" title="object TypeKinds.this.INT">INT</a>, <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a>) =&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>
      <span title="Nothing" class="keyword">case</span> _ =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.backend.icode.CheckerError" class="keyword">new</span> <a href="CheckerError.scala.html#14967" title="scala.tools.nsc.backend.icode.CheckerError">CheckerError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Incompatible types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#60513" title="TypeKinds.this.TypeKind">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span> + <a href="#60514" title="TypeKinds.this.TypeKind">b</a>)
    }
  }

  /** The unit value */
  case <span class="keyword">object</span> <a href="#179916" title="object TypeKinds.this.UNIT" id="179927">UNIT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62422">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179904">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = <a href="#179904" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
      <span title="TypeKinds.this.UNIT.type" class="keyword">case</span> <a href="#179927" title="object TypeKinds.this.UNIT">UNIT</a> =&gt; <a href="#179927" title="object TypeKinds.this.UNIT">UNIT</a>
      <span title="TypeKinds.this.UNIT.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)  =&gt; <a href="#179927" title="object TypeKinds.this.UNIT">UNIT</a>
      <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: UNIT with &quot;</span> + <a href="#179904" title="TypeKinds.this.TypeKind">other</a>)
    }
  }

  /** A boolean value */
  case <span class="keyword">object</span> <a href="#179943" title="object TypeKinds.this.BOOL" id="179954">BOOL</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="63028">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179931">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = <a href="#179931" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
      <span title="TypeKinds.this.BOOL.type" class="keyword">case</span> <a href="#179954" title="object TypeKinds.this.BOOL">BOOL</a> =&gt; <a href="#179954" title="object TypeKinds.this.BOOL">BOOL</a>
      <span title="TypeKinds.this.BOOL.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#179954" title="object TypeKinds.this.BOOL">BOOL</a>
      <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: BOOL with &quot;</span> + <a href="#179931" title="TypeKinds.this.TypeKind">other</a>)
    }
  }

  /** A 1-byte signed integer */
  case <span class="keyword">object</span> <a href="#179970" title="object TypeKinds.this.BYTE" id="179981">BYTE</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62573">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179958">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = 
      <a href="#179958" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> | <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <a href="#179958" title="TypeKinds.this.TypeKind">other</a>
        <span title="TypeKinds.this.BYTE.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a>
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: BYTE with &quot;</span> + <a href="#179958" title="TypeKinds.this.TypeKind">other</a>)
      }
  }

  /** A 2-byte signed integer */
  case <span class="keyword">object</span> <a href="#179997" title="object TypeKinds.this.SHORT" id="180008">SHORT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62563">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179985">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = 
      <a href="#179985" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.SHORT.type" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> =&gt; <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a>
        <span title="TypeKinds.this.SHORT.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a>
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <a href="#179985" title="TypeKinds.this.TypeKind">other</a>
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: SHORT with &quot;</span> + <a href="#179985" title="TypeKinds.this.TypeKind">other</a>)
      }
  }

  /** A 2-byte signed integer */
  case <span class="keyword">object</span> <a href="#180024" title="object TypeKinds.this.CHAR" id="180035">CHAR</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62553">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180012">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180012" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.CHAR.type" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> =&gt; <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a>
        <span title="TypeKinds.this.CHAR.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a>
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <a href="#180012" title="TypeKinds.this.TypeKind">other</a>
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: CHAR with &quot;</span> + <a href="#180012" title="TypeKinds.this.TypeKind">other</a>)
      }
  }


  /** A 4-byte signed integer */
  case <span class="keyword">object</span> <a href="#180051" title="object TypeKinds.this.INT" id="180062">INT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62545">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180039">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180039" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.INT.type" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> | <a href="#180062" title="object TypeKinds.this.INT">INT</a> =&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>
        <span title="TypeKinds.this.INT.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#180062" title="object TypeKinds.this.INT">INT</a>
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <a href="#180039" title="TypeKinds.this.TypeKind">other</a>
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: INT with &quot;</span> + <a href="#180039" title="TypeKinds.this.TypeKind">other</a>)
      }
  }

  /** An 8-byte signed integer */
  case <span class="keyword">object</span> <a href="#180078" title="object TypeKinds.this.LONG" id="180089">LONG</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="77431">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180066">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180066" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.LONG.type" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> | <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> =&gt; <a href="#180089" title="object TypeKinds.this.LONG">LONG</a>
        <span title="TypeKinds.this.LONG.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>) =&gt; <a href="#180089" title="object TypeKinds.this.LONG">LONG</a>
        <span title="TypeKinds.this.DOUBLE.type" class="keyword">case</span> <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> | <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> =&gt; <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a>
        <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: LONG with &quot;</span> + <a href="#180066" title="TypeKinds.this.TypeKind">other</a>)
      }
  }

  /** A 4-byte floating point number */
  case <span class="keyword">object</span> <a href="#180105" title="object TypeKinds.this.FLOAT" id="180116">FLOAT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="77433">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180093">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = <a href="#180093" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
      <span title="TypeKinds.this.FLOAT.type" class="keyword">case</span> <a href="#179981" title="object TypeKinds.this.BYTE">BYTE</a> | <a href="#180008" title="object TypeKinds.this.SHORT">SHORT</a> | <a href="#180035" title="object TypeKinds.this.CHAR">CHAR</a> | <a href="#180062" title="object TypeKinds.this.INT">INT</a> | <a href="#180089" title="object TypeKinds.this.LONG">LONG</a> | <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a> =&gt; <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a>
      <span title="TypeKinds.this.FLOAT.type" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)                  =&gt; <a href="#180116" title="object TypeKinds.this.FLOAT">FLOAT</a>
      <span title="TypeKinds.this.DOUBLE.type" class="keyword">case</span> <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a>                                   =&gt; <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a>
      <span title="Nothing" class="keyword">case</span> _ =&gt; <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: FLOAT with &quot;</span> + <a href="#180093" title="TypeKinds.this.TypeKind">other</a>)
    }
  }

  /** An 8-byte floating point number */
  case <span class="keyword">object</span> <a href="#180140" title="object TypeKinds.this.DOUBLE" id="180151">DOUBLE</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="77435">maxType</a>(<a title="TypeKinds.this.TypeKind" id="179566">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#179566" title="TypeKinds.this.TypeKind">other</a>.<a href="#60442" title="=&gt; Boolean">isNumericType</a>) 
        <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a>
      <span class="keyword">else</span> <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#179566" title="(x$1: AnyRef)Boolean">other</a> == <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)) <a href="#180151" title="object TypeKinds.this.DOUBLE">DOUBLE</a> 
      <span class="keyword">else</span> <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparable type kinds: DOUBLE with &quot;</span> + <a href="#179566" title="TypeKinds.this.TypeKind">other</a>)
  }

  /** A string reference */
  // case object STRING extends TypeKind {
  //   override def maxType(other: TypeKind): TypeKind = other match {
  //     case STRING =&gt; STRING;
  //     case _   =&gt;
  //       abort(&quot;Uncomparbale type kinds: STRING with &quot; + other);
  //   }
  // }

  /** A class type. */
  <span class="keyword">final</span> case <span class="keyword">class</span> <a title="class REFERENCE extends TypeKinds.this.TypeKind with ScalaObject with Product" id="60434">REFERENCE</a><span title="ScalaObject">(</span><a title="TypeKinds.this.global.Symbol" id="60459">cls</a>: <a href="../../symtab/Symbols.scala.html#26127" title="TypeKinds.this.global.Symbol">Symbol</a>) <span class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#60459" title="(x$1: AnyRef)Boolean" id="6544">cls</a> ne <span title="Null(null)" class="keyword">null</span>,
           <span title="java.lang.String(&quot;REFERENCE to null class symbol.&quot;)" class="string">&quot;REFERENCE to null class symbol.&quot;</span>)
    <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#60459" title="(x$1: AnyRef)Boolean">cls</a> != <a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>,
           <span title="java.lang.String(&quot;REFERENCE to Array is not allowed, should be ARRAY[..] instead&quot;)" class="string">&quot;REFERENCE to Array is not allowed, should be ARRAY[..] instead&quot;</span>)
    <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#60459" title="(x$1: AnyRef)Boolean">cls</a> != <a href="../../symtab/Symbols.scala.html#26134" title="object TypeKinds.this.global.NoSymbol">NoSymbol</a>,
           <span title="java.lang.String(&quot;REFERENCE to NoSymbol not allowed!&quot;)" class="string">&quot;REFERENCE to NoSymbol not allowed!&quot;</span>)

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="60452">toString</a>(): <span title="String">String</span> = 
      <span title="(x$1: Any)java.lang.String" class="string">&quot;REFERENCE(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#60459" title="=&gt; TypeKinds.this.global.Symbol">cls</a>.<a href="../../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>

    /**
     * Approximate `lub'. The common type of two references is
     * always AnyRef. For 'real' least upper bound wrt to subclassing
     * use method 'lub'.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="60453">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180201">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180201" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> REFERENCE(_) | ARRAY(_) =&gt;
          <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
        <span title="Nothing" class="keyword">case</span> _ =&gt;
          <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparbale type kinds: REFERENCE with &quot;</span> + <a href="#180201" title="TypeKinds.this.TypeKind">other</a>)
      }

    /** Checks subtyping relationship. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)Boolean" id="60454">&lt;:&lt;</a>(<a title="TypeKinds.this.TypeKind" id="180217">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <span title="Boolean">Boolean</span> =
      <span title="Boolean" class="keyword">if</span> (<a href="#60459" title="(x$1: AnyRef)Boolean">cls</a> == <a href="../../symtab/Definitions.scala.html#28271" title="=&gt; TypeKinds.this.global.Symbol">NothingClass</a>)
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <a href="#180217" title="TypeKinds.this.TypeKind">other</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> REFERENCE(<a title="TypeKinds.this.global.Symbol" id="180225">cls2</a>) =&gt;
          <a href="#60459" title="=&gt; TypeKinds.this.global.Symbol">cls</a>.<a href="../../symtab/Types.scala.html#30235" title="(that: TypeKinds.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#180225" title="TypeKinds.this.global.Symbol">cls2</a>.<a href="../../symtab/Symbols.scala.html#27003" title="=&gt; TypeKinds.this.global.Type">tpe</a>
        <span title="Boolean" class="keyword">case</span> ARRAY(_) =&gt;
          <a href="#60459" title="(x$1: AnyRef)Boolean">cls</a> == <a href="../../symtab/Definitions.scala.html#28269" title="=&gt; TypeKinds.this.global.Symbol">NullClass</a>
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="60455">isReferenceType</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>;

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="60456">equals</a>(<a title="Any" id="180241">other</a>: <span title="Any">Any</span>): <span title="Boolean">Boolean</span> = <a href="#180241" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> REFERENCE(<a title="TypeKinds.this.global.Symbol" id="180243">cls2</a>) =&gt; <a href="#60459" title="(x$1: AnyRef)Boolean">cls</a> == <a href="#180243" title="TypeKinds.this.global.Symbol">cls2</a>
      <span title="Boolean(false)" class="keyword">case</span> _               =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }
  }

//   final case class VALUE(cls: Symbol) extends TypeKind {
//     override def equals(other: Any): Boolean = other match {
//       case VALUE(cls2) =&gt; cls == cls2;
//       case _ =&gt; false;
//     }

//     def maxType(other: TypeKind): TypeKind =
//       abort(toString() + &quot; maxType &quot; + other.toString());

//     override def toString(): String =
//       &quot;VALUE(&quot; + cls.fullNameString + &quot;)&quot;;
//   }

  <span class="keyword">def</span> <a title="(elem: TypeKinds.this.TypeKind,dims: Int)TypeKinds.this.ARRAY" id="46222">ArrayN</a>(<a title="TypeKinds.this.TypeKind" id="90906">elem</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>, <a title="Int" id="90907">dims</a>: <span title="Int">Int</span>): <a href="#62509" title="TypeKinds.this.ARRAY">ARRAY</a> = {
    <a title="(assertion: Boolean)Unit" id="7874">assert</a>(<a href="#90907" title="(x$1: Int)Boolean" id="2960">dims</a> &gt; <span title="Int(0)" class="int">0</span>)
    <span title="TypeKinds.this.ARRAY" class="keyword">if</span> (<a href="#90907" title="(x$1: Int)Boolean" id="2952">dims</a> == <span title="Int(1)" class="int">1</span>)
      <a href="#62509" title="(elem: TypeKinds.this.TypeKind)TypeKinds.this.ARRAY">ARRAY</a>(<a href="#90906" title="TypeKinds.this.TypeKind">elem</a>)
    <span class="keyword">else</span>
      <a href="#62509" title="(elem: TypeKinds.this.TypeKind)TypeKinds.this.ARRAY">ARRAY</a>(<a href="#46222" title="(elem: TypeKinds.this.TypeKind,dims: Int)TypeKinds.this.ARRAY">ArrayN</a>(<a href="#90906" title="TypeKinds.this.TypeKind">elem</a>, <a href="#90907" title="(x$1: Int)Int" id="2966">dims</a> - <span title="Int(1)" class="int">1</span>))
  }

  <span class="keyword">final</span> case <span class="keyword">class</span> <a title="class ARRAY extends TypeKinds.this.TypeKind with ScalaObject with Product" id="62509">ARRAY</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="TypeKinds.this.TypeKind" id="63687">elem</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>) <span class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="62514">toString</a>(): <span title="String">String</span> =
      <span title="(x$1: Any)java.lang.String" class="string">&quot;ARRAY[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63687" title="=&gt; TypeKinds.this.TypeKind">elem</a> + <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="62515">isArrayType</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="62516">dimensions</a>: <span title="Int">Int</span> = <a title="(x$1: Int)Int" id="2964" class="int">1</a> + <a href="#63687" title="=&gt; TypeKinds.this.TypeKind">elem</a>.<a href="#60447" title="=&gt; Int">dimensions</a>

    /** The ultimate element type of this array. */
    <span class="keyword">def</span> <a title="=&gt; TypeKinds.this.TypeKind" id="62517">elementKind</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = <a href="#63687" title="=&gt; TypeKinds.this.TypeKind">elem</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
      <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a title="TypeKinds.this.ARRAY" id="180363">a</a> @ ARRAY(<a title="TypeKinds.this.TypeKind" id="180364">e1</a>) =&gt; <a href="#180363" title="TypeKinds.this.ARRAY">a</a>.<a href="#62517" title="=&gt; TypeKinds.this.TypeKind">elementKind</a>
      <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <a title="TypeKinds.this.TypeKind" id="180367">k</a> =&gt; <a href="#180367" title="TypeKinds.this.TypeKind">k</a>
    }
    
    /**
     * Approximate `lub'. The common type of two references is
     * always AnyRef. For 'real' least upper bound wrt to subclassing
     * use method 'lub'.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="62518">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180368">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180368" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> REFERENCE(_) =&gt;
          <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
        <span title="TypeKinds.this.ARRAY" class="keyword">case</span> ARRAY(<a title="TypeKinds.this.TypeKind" id="180378">elem2</a>) =&gt;
          <a href="#62509" title="(elem: TypeKinds.this.TypeKind)TypeKinds.this.ARRAY">ARRAY</a>(<a href="#60443" title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind">elem</a> maxType <a href="#180378" title="TypeKinds.this.TypeKind">elem2</a>)
        <span title="Nothing" class="keyword">case</span> _ =&gt;
          <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparbale type kinds: ARRAY with &quot;</span> + <a href="#180368" title="TypeKinds.this.TypeKind">other</a>)
      }

    /** Array subtyping is covariant, as in Java. Necessary for checking 
     *  code that interacts with Java. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)Boolean" id="62519">&lt;:&lt;</a>(<a title="TypeKinds.this.TypeKind" id="180393">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <span title="Boolean">Boolean</span> =
      <a href="#180393" title="TypeKinds.this.TypeKind">other</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean" class="keyword">case</span> ARRAY(<a title="TypeKinds.this.TypeKind" id="180395">elem2</a>) =&gt;
          <a href="#60444" title="(other: TypeKinds.this.TypeKind)Boolean">elem</a> &lt;:&lt; <a href="#180395" title="TypeKinds.this.TypeKind">elem2</a>
        <span title="Boolean(true)" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a> | <a href="../../symtab/Definitions.scala.html#28267" title="=&gt; TypeKinds.this.global.Symbol">ObjectClass</a>) =&gt;
          <span title="Boolean(true)" class="keyword">true</span>  //  TODO: platform dependent!
        <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="62520">equals</a>(<a title="Any" id="180402">other</a>: <span title="Any">Any</span>): <span title="Boolean">Boolean</span> = <a href="#180402" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> ARRAY(<a title="TypeKinds.this.TypeKind" id="180404">elem2</a>) =&gt; <a href="#63687" title="(x$1: AnyRef)Boolean">elem</a> == <a href="#180404" title="TypeKinds.this.TypeKind">elem2</a>
      <span title="Boolean(false)" class="keyword">case</span> _               =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }

  }
  
  /** A boxed value. */
  case <span class="keyword">class</span> <a title="class BOXED extends TypeKinds.this.TypeKind with ScalaObject with Product" id="63556">BOXED</a><span title="ScalaObject">(</span><a title="TypeKinds.this.TypeKind" id="63567">kind</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>) <span class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="63561">toString</a>(): <span title="String">String</span> =
      <span title="(x$1: Any)java.lang.String" class="string">&quot;BOXED(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#63567" title="=&gt; TypeKinds.this.TypeKind">kind</a> + <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>

    /**
     * Approximate `lub'. The common type of two references is
     * always AnyRef. For 'real' least upper bound wrt to subclassing
     * use method 'lub'.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="63562">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180447">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180447" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> REFERENCE(_) | ARRAY(_) | BOXED(_) =&gt;
          <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
        <span title="Nothing" class="keyword">case</span> _ =&gt;
          <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparbale type kinds: ARRAY with &quot;</span> + <a href="#180447" title="TypeKinds.this.TypeKind">other</a>)
      }

    /** Checks subtyping relationship. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)Boolean" id="63563">&lt;:&lt;</a>(<a title="TypeKinds.this.TypeKind" id="180465">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <span title="Boolean">Boolean</span> =
      <a href="#180465" title="TypeKinds.this.TypeKind">other</a> <span title="Boolean" class="keyword">match</span> {
        <span title="Boolean(true)" class="keyword">case</span> REFERENCE(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a> | <a href="../../symtab/Definitions.scala.html#28267" title="=&gt; TypeKinds.this.global.Symbol">ObjectClass</a>) =&gt;
          <span title="Boolean(true)" class="keyword">true</span> // TODO: platform dependent!
                     
        <span title="Boolean" class="keyword">case</span> BOXED(<a title="TypeKinds.this.TypeKind" id="180469">other</a>) =&gt;
          <a href="#63567" title="(x$1: AnyRef)Boolean">kind</a> == <a href="#180469" title="TypeKinds.this.TypeKind">other</a>

        <span title="Boolean(false)" class="keyword">case</span> _ =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="63564">equals</a>(<a title="Any" id="180478">other</a>: <span title="Any">Any</span>): <span title="Boolean">Boolean</span> = <a href="#180478" title="Any">other</a> <span title="Boolean" class="keyword">match</span> {
      <span title="Boolean" class="keyword">case</span> BOXED(<a title="TypeKinds.this.TypeKind" id="180480">kind2</a>) =&gt; <a href="#63567" title="(x$1: AnyRef)Boolean">kind</a> == <a href="#180480" title="TypeKinds.this.TypeKind">kind2</a>
      <span title="Boolean(false)" class="keyword">case</span> _            =&gt; <span title="Boolean(false)" class="keyword">false</span>
    }

  }

 /**
  * Dummy TypeKind to represent the ConcatClass in a platform-independent
  * way. For JVM it would have been a REFERENCE to 'StringBuffer'.
  */
  case <span class="keyword">object</span> <a href="#180542" title="object TypeKinds.this.ConcatClass" id="180553">ConcatClass</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> {
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="63276">toString</a>() = <span title="java.lang.String(&quot;ConcatClass&quot;)" class="string">&quot;ConcatClass&quot;</span>

    /** 
     * Approximate `lub'. The common type of two references is
     * always AnyRef. For 'real' least upper bound wrt to subclassing
     * use method 'lub'.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)TypeKinds.this.TypeKind" id="63277">maxType</a>(<a title="TypeKinds.this.TypeKind" id="180519">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> =
      <a href="#180519" title="TypeKinds.this.TypeKind">other</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.REFERENCE" class="keyword">case</span> REFERENCE(_) =&gt;
          <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="../../symtab/Definitions.scala.html#28265" title="=&gt; TypeKinds.this.global.Symbol">AnyRefClass</a>)
        <span title="Nothing" class="keyword">case</span> _ =&gt;
          <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Uncomparbale type kinds: ConcatClass with &quot;</span> + <a href="#180519" title="TypeKinds.this.TypeKind">other</a>)
      }

    /** Checks subtyping relationship. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: TypeKinds.this.TypeKind)Boolean" id="63278">&lt;:&lt;</a>(<a title="TypeKinds.this.TypeKind" id="180533">other</a>: <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a>): <span title="Boolean">Boolean</span> = (<span title="(x$1: AnyRef)Boolean" class="keyword">this</span> eq <a href="#180533" title="TypeKinds.this.TypeKind">other</a>)

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="63279">isReferenceType</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  }

  ////////////////// Conversions //////////////////////////////


  /** Return the TypeKind of the given type */
  <span class="keyword">def</span> <a title="(t: TypeKinds.this.global.Type)TypeKinds.this.TypeKind" id="46231">toTypeKind</a>(<a title="TypeKinds.this.global.Type" id="62437">t</a>: <a href="../../symtab/Types.scala.html#26205" title="TypeKinds.this.global.Type">Type</a>): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = <a href="#62437" title="TypeKinds.this.global.Type">t</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> ThisType(<a title="TypeKinds.this.global.Symbol" id="180555">sym</a>) =&gt; 
      <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#180555" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>)
        <a href="ICodes.scala.html#46156" title="=&gt; TypeKinds.this.TypeKind">AnyRefReference</a>
      <span class="keyword">else</span>
        <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="#180555" title="TypeKinds.this.global.Symbol">sym</a>)

    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> SingleType(<a title="TypeKinds.this.global.Type" id="180572">pre</a>, <a title="TypeKinds.this.global.Symbol" id="180573">sym</a>) =&gt; 
      <span title="(default: =&gt; TypeKinds.this.TypeKind)TypeKinds.this.TypeKind">(</span><a href="#46195" title="(key: TypeKinds.this.global.Symbol)Option[TypeKinds.this.TypeKind]">primitiveTypeMap</a> get <a href="#180573" title="TypeKinds.this.global.Symbol">sym</a>) getOrElse <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="#180573" title="TypeKinds.this.global.Symbol">sym</a>)

    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> ConstantType(<a title="TypeKinds.this.global.Constant" id="180593">value</a>) =&gt;
      <a href="#46231" title="(t: TypeKinds.this.global.Type)TypeKinds.this.TypeKind">toTypeKind</a>(<a href="#62437" title="TypeKinds.this.global.Type">t</a>.<a href="../../symtab/Types.scala.html#30183" title="=&gt; TypeKinds.this.global.Type">underlying</a>)

    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> TypeRef(_, <a title="TypeKinds.this.global.Symbol" id="180601">sym</a>, <a title="List[TypeKinds.this.global.Type]" id="180602">args</a>) =&gt;
      <span title="(default: =&gt; TypeKinds.this.TypeKind)TypeKinds.this.TypeKind">(</span><a href="#46195" title="(key: TypeKinds.this.global.Symbol)Option[TypeKinds.this.TypeKind]">primitiveTypeMap</a> get <a href="#180601" title="TypeKinds.this.global.Symbol">sym</a>) getOrElse <a href="#46232" title="(sym: TypeKinds.this.global.Symbol,targs: List[TypeKinds.this.global.Type])TypeKinds.this.TypeKind">arrayOrClassType</a>(<a href="#180601" title="TypeKinds.this.global.Symbol">sym</a>, <a href="#180602" title="List[TypeKinds.this.global.Type]">args</a>)

    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> ClassInfoType(_, _, <a title="TypeKinds.this.global.Symbol" id="180623">sym</a>) =&gt;
      <a href="#46195" title="(key: TypeKinds.this.global.Symbol)Option[TypeKinds.this.TypeKind]">primitiveTypeMap</a> get <a href="#180623" title="TypeKinds.this.global.Symbol">sym</a> <span title="TypeKinds.this.TypeKind" class="keyword">match</span> {
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> Some(<a title="TypeKinds.this.TypeKind" id="180630">k</a>) =&gt; <a href="#180630" title="TypeKinds.this.TypeKind">k</a>
        <span title="TypeKinds.this.TypeKind" class="keyword">case</span> <span title="object None">None</span>    =&gt;
          <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#180623" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>)
            <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="java.lang.String(&quot;ClassInfoType to ArrayClass!&quot;)" class="string">&quot;ClassInfoType to ArrayClass!&quot;</span>)
          <span class="keyword">else</span>
            <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="#180623" title="TypeKinds.this.global.Symbol">sym</a>)
      }

    <span title="TypeKinds.this.TypeKind" class="keyword">case</span> ExistentialType(<a title="List[TypeKinds.this.global.Symbol]" id="180649">tparams</a>, <a title="TypeKinds.this.global.Type" id="180650">t</a>) =&gt;
      <a href="#46231" title="(t: TypeKinds.this.global.Type)TypeKinds.this.TypeKind">toTypeKind</a>(<a href="#180650" title="TypeKinds.this.global.Type">t</a>)
      
    //case WildcardType =&gt; // bq: useful hack when wildcard types come here
    //  REFERENCE(definitions.ObjectClass)

    <span title="Nothing" class="keyword">case</span> _ =&gt;
      <a href="../../Global.scala.html#39077" title="(msg: String)Nothing">abort</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62437" title="TypeKinds.this.global.Type">t</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62437" title="TypeKinds.this.global.Type">t</a>.<a href="../../symtab/Types.scala.html#30206" title="=&gt; TypeKinds.this.global.Type">normalize</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62437" title="TypeKinds.this.global.Type">t</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62437" title="TypeKinds.this.global.Type">t</a>.<a href="../../symtab/Types.scala.html#30206" title="=&gt; TypeKinds.this.global.Type">normalize</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
	    <span title="java.lang.String(&quot; TypeRef? &quot;)" class="string">&quot; TypeRef? &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#62437" title="TypeKinds.this.global.Type">t</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../../symtab/Types.scala.html#26254" title="TypeKinds.this.global.TypeRef">TypeRef</a>] <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> + <a href="#62437" title="TypeKinds.this.global.Type">t</a>.<a href="../../symtab/Types.scala.html#30206" title="=&gt; TypeKinds.this.global.Type">normalize</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../../symtab/Types.scala.html#26254" title="TypeKinds.this.global.TypeRef">TypeRef</a>]) 
  }
  
  /** Return the type kind of a class, possibly an array type.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: TypeKinds.this.global.Symbol,targs: List[TypeKinds.this.global.Type])TypeKinds.this.TypeKind" id="46232">arrayOrClassType</a>(<a title="TypeKinds.this.global.Symbol" id="180612">sym</a>: <a href="../../symtab/Symbols.scala.html#26127" title="TypeKinds.this.global.Symbol">Symbol</a>, <a title="List[TypeKinds.this.global.Type]" id="180613">targs</a>: <a title="List[TypeKinds.this.global.Type]" id="7345">List</a>[Type]): <a href="#46199" title="TypeKinds.this.TypeKind">TypeKind</a> = {
    <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#180612" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../../symtab/Definitions.scala.html#28393" title="=&gt; TypeKinds.this.global.Symbol">ArrayClass</a>)
      <a href="#62509" title="(elem: TypeKinds.this.TypeKind)TypeKinds.this.ARRAY">ARRAY</a>(<a href="#46231" title="(t: TypeKinds.this.global.Type)TypeKinds.this.TypeKind">toTypeKind</a>(<a href="#180613" title="List[TypeKinds.this.global.Type]">targs</a>.<a title="=&gt; TypeKinds.this.global.Type" id="25443">head</a>))
    <span class="keyword">else</span> <span title="TypeKinds.this.TypeKind" class="keyword">if</span> (<a href="#180612" title="TypeKinds.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>)
        <a href="#60434" title="(cls: TypeKinds.this.global.Symbol)TypeKinds.this.REFERENCE">REFERENCE</a>(<a href="#180612" title="TypeKinds.this.global.Symbol">sym</a>)
    <span class="keyword">else</span> {
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#180612" title="TypeKinds.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#26896" title="=&gt; Boolean">isType</a>, <a href="#180612" title="TypeKinds.this.global.Symbol">sym</a>) // it must be compiling Array[a]
      <a href="ICodes.scala.html#46156" title="=&gt; TypeKinds.this.TypeKind">AnyRefReference</a>
    }
  }

}

        </pre>
    </body>
</html>