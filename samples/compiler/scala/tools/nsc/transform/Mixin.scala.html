<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/Mixin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */
// $Id: Mixin.scala 18406 2009-07-30 07:41:22Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.tools.nsc.util.{Position,NoPosition}
<span class="keyword">import</span> scala.collection.mutable.HashMap

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mixin extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="14467">Mixin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#14026" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#11964" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> CODE._

  /** The name of the phase: */
  <span class="keyword">val</span> <a title="String" id="581184">phaseName</a>: <a title="String" id="1626">String</a> = <span title="java.lang.String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>

  /** The phase might set the fiollowing new flags: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="581186">phaseNewFlags</a>: <a title="Long" id="2205">Long</a> = <a href="../symtab/Flags.scala.html#28927" title="(x$1: Long)Long">lateMODULE</a> | <a href="../symtab/Flags.scala.html#28941" title="=&gt; Long">notABSTRACT</a>

  /** This map contains a binding (class -&gt; info) if
   *  the class with this info at phase mixinPhase has been treated for mixin composition 
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]" id="581187">treatedClassInfos</a> = collection.mutable.<a title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]" id="24949">Map</a><span title="(elems: (Mixin.this.global.Symbol, Mixin.this.global.Type)*)scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]">[</span><a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a>]()

// --------- helper functions -----------------------------------------------

  /** A member of a trait is implemented statically if its implementation after the
   *  mixin transform is in the static implementation module. To be statically
   *  implemented, a member must be a method that belonged to the trait's implementation class
   *  before (e.g. it is not abstract). Not statically implemented are
   *   - non-private modules: these are implemented directly in the mixin composition class
   *     (private modules, on the other hand, are implemented statically, but their
   *      module variable is not. all such private modules are lifted, because 
   *      non-lifted private modules have been eliminated in ExplicitOuter)
   *   - field accessors and superaccessors, except for lazy value accessors which become initializer
   *     methods in the impl class (because they can have arbitrary initializers)
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="581189">isImplementedStatically</a>(<a title="Mixin.this.global.Symbol" id="720290">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#720290" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27120" title="(x$1: Boolean)Boolean">isImplClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#720290" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
    (<span title="(x$1: Boolean)Boolean">!</span><a href="#720290" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a> || <a href="#720290" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(PRIVATE <span title="Long(17179869188L)">|</span> LIFTED)) &amp;&amp;
    (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag (ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR)) || <a href="#720290" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))

  /** A member of a trait is static only if it belongs only to the
   *  implementation class, not the interface, and it is implemented
   *  statically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="581190">isStaticOnly</a>(<a title="Mixin.this.global.Symbol" id="720353">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#581189" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span title="(x$1: Boolean)Boolean">(</span><a href="#720353" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <a href="#720353" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27123" title="=&gt; Boolean">isImplOnly</a>

  /** A member of a trait is forwarded if it is implemented statically and it
   *  is also visible in the trait's interface. In that case, a forwarder to
   *  the member's static implementation will be added to the class that
   *  inherits the trait.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="581191">isForwarded</a>(<a title="Mixin.this.global.Symbol" id="720360">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#581189" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span title="(x$1: Boolean)Boolean">(</span><a href="#720360" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#720360" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27123" title="=&gt; Boolean">isImplOnly</a>

  /** Maps the type of an implementation class to its interface;
   *  maps all other types to themselves.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="581192">toInterface</a>(<a title="Mixin.this.global.Type" id="720367">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a> =
    <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40432" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#720367" title="Mixin.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27216" title="=&gt; Mixin.this.global.Symbol">toInterface</a>).<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>

  /** Maps all parts of this type that refer to implementation classes to
   *  their corresponding interfaces.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.TypeMap" id="581193">toInterfaceMap</a> = <a href="#720163" title="Mixin.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26479" title="anonymous class $anon extends Mixin.this.global.TypeMap" id="720163">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="720165">apply</a>(<a title="Mixin.this.global.Type" id="720169">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#42954" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">mapOver</a>( <a href="#720169" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> {
      <span title="Mixin.this.global.Type" class="keyword">case</span> TypeRef(<a title="Mixin.this.global.Type" id="720245">pre</a>, <a title="Mixin.this.global.Symbol" id="720246">sym</a>, <a title="List[Mixin.this.global.Type]" id="720247">args</a>) <span class="keyword">if</span> (<a href="#720246" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>) =&gt;
        <a href="../symtab/Types.scala.html#26454" title="(pre: Mixin.this.global.Type,sym: Mixin.this.global.Symbol,args: List[Mixin.this.global.Type])Mixin.this.global.Type">typeRef</a>(<a href="#720245" title="Mixin.this.global.Type">pre</a>, <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40432" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#720246" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27216" title="=&gt; Mixin.this.global.Symbol">toInterface</a>), <a href="#720247" title="List[Mixin.this.global.Type]">args</a>)
      <span title="Mixin.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#720169" title="Mixin.this.global.Type">tp</a>
    })
  }

  /** The implementation class corresponding to a currently compiled interface.
   *  todo: try to use Symbol.implClass instead?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="581195">implClass</a>(<a title="Mixin.this.global.Symbol" id="720379">iface</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = {
    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720381">impl</a> = <a href="#720379" title="Mixin.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#27200" title="=&gt; Mixin.this.global.Symbol">implClass</a>
    <span title="Mixin.this.global.Symbol" class="keyword">if</span> (<a href="#720381" title="(x$1: AnyRef)Boolean">impl</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#720381" title="Mixin.this.global.Symbol">impl</a> <span class="keyword">else</span> <a href="../Global.scala.html#39355" title="object Mixin.this.global.erasure">erasure</a>.<a href="AddInterfaces.scala.html#42655" title="(iface: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.global.Symbol">implClass</a>(<a href="#720379" title="Mixin.this.global.Symbol">iface</a>)
  }

  /** Returns the symbol that is accessed by a super-accessor in a mixin composition.
   *
   *  @param base       The class in which everything is mixed together
   *  @param member     The symbol statically referred to by the superaccessor in the trait
   *  @param mixinClass The mixin class that produced the superaccessor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol,mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="581196">rebindSuper</a>(<a title="Mixin.this.global.Symbol" id="720391">base</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="720392">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="720393">mixinClass</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> =
    <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40422" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Symbol]" id="720401">bcs</a> = <a href="#720391" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<a title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)List[Mixin.this.global.Symbol]" id="24456">dropWhile</a>(<a href="#720393" title="Mixin.this.global.Symbol">mixinClass</a> <a href="#720411" title="(x$1: AnyRef)Boolean">!=</a>).<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="720402">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;starting rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720391" title="Mixin.this.global.Symbol">base</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720392" title="Mixin.this.global.Symbol">member</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720392" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720393" title="Mixin.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#720391" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)
      <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#720402" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#720403" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720455">other</a> = <a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30398" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a>(<a href="#720392" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>);
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720455" title="Mixin.this.global.Symbol">other</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720455" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#720455" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>)
        }
        <a href="#720402" title="Mixin.this.global.Symbol">sym</a> = <a href="#720392" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27222" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>).<a href="../symtab/Symbols.scala.html#27186" title="(cond: (Mixin.this.global.Symbol) =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a>(<a title="Mixin.this.global.Symbol" id="720483">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#720483" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(DEFERRED <span title="Long(67108880L)">|</span> BRIDGE))
        <a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a> = <a href="#720401" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      }
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#720402" title="(x$1: AnyRef)Boolean">sym</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#720392" title="Mixin.this.global.Symbol">member</a>)
      <a href="#720402" title="Mixin.this.global.Symbol">sym</a>
    }

// --------- type transformation -----------------------------------------------

  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol)Boolean" id="581197">isConcreteAccessor</a>(<a title="Mixin.this.global.Symbol" id="720543">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = 
    <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) &amp;&amp; 
    (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(16L)">DEFERRED</span>) || (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>))

  /** Is member overridden (either directly or via a bridge) in base class sequence `bcs'? */
  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean" id="581198">isOverriddenAccessor</a>(<a title="Mixin.this.global.Symbol" id="720556">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol]" id="720557">bcs</a>: <span title="List[Mixin.this.global.Symbol]">List</span>[Symbol]): <span title="Boolean">Boolean</span> = <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a>(<a href="../SubComponent.scala.html#39871" title="=&gt; scala.tools.nsc.Phase">ownPhase</a>) {
    <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Boolean" id="720565">hasOverridingAccessor</a>(<a title="Mixin.this.global.Symbol" id="720566">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = {
      <a href="#720566" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30398" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a>(<a href="#720556" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>).<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(
        <a title="Mixin.this.global.Symbol" id="720575">sym</a> =&gt; 
          <a href="#581197" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span title="(x$1: Boolean)Boolean">(</span><a href="#720575" title="Mixin.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <span title="=&gt; Boolean">!</span><a href="#720575" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(34359738368L)">MIXEDIN</span>) &amp;&amp;
          <a href="../symtab/Types.scala.html#26577" title="(tp1: Mixin.this.global.Type,tp2: Mixin.this.global.Type,alwaysMatchSimple: Boolean)Boolean">matchesType</a>(<a href="#720575" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#720556" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span>))
    }
    <a href="#720557" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="(x$1: AnyRef)Boolean">head</span> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#720556" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a> &amp;&amp; 
    (<a href="#720565" title="(clazz: Mixin.this.global.Symbol)Boolean">hasOverridingAccessor</a><span title="(x$1: Boolean)Boolean">(</span><a href="#720557" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>) || <a href="#581198" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#720556" title="Mixin.this.global.Symbol">member</a>, <a href="#720557" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>))
  }

  /** Add given member to given class, and mark member as mixed-in.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="581199">addMember</a>(<a title="Mixin.this.global.Symbol" id="720610">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="720611">member</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = {
    <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new member of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720610" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> + <a href="#720611" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27255" title="=&gt; String">defString</a>)
    <a href="#720610" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">decls</a> enter <a href="#720611" title="Mixin.this.global.Symbol">member</a>
    <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)member.type">member</a> setFlag <span title="Long(34359738368L)">MIXEDIN</span>
  }

  <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="581200">needsExpandedSetterName</a>(<a title="Mixin.this.global.Symbol" id="720636">field</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
    <span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) &amp;&amp;
    (<span title="Boolean" class="keyword">if</span> (<a href="#720636" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4194304L)">STABLE</span>) <span class="keyword">else</span> <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4096L)">MUTABLE</span>))

  /** Add getters and setters for all non-module fields of an implementation
   *  class to its interface unless they are already present. This is done
   *  only once per class. The mixedin flag is used to remember whether late
   *  members have been added to an interface.
   *    - lazy fields don't get a setter.
   *  
   *  @param clazz ...
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="581201">addLateInterfaceMembers</a>(<a title="Mixin.this.global.Symbol" id="720647">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: AnyRef)Boolean">(</span><a href="#581187" title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">treatedClassInfos</a> get <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>) != <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>)) {
      <a href="#581187" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Type)Unit">treatedClassInfos</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>) = <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="../symtab/SymbolTable.scala.html#26247" title="(x$1: AnyRef)Boolean">phase</a> == <a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40432" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)

      /** Create a new getter. Getters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="720664">newGetter</a>(<a title="Mixin.this.global.Symbol" id="720682">field</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = {
        //println(&quot;creating new getter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newMethod</a>(<a href="#720682" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29853" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#720682" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>))
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<a href="#720682" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27150" title="(x$1: Int)Long">flags</a> <span title="(x$1: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>(PRIVATE <span title="Int(524292)">|</span> LOCAL) <span title="(x$1: Long)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x$1: Int)Long">|</span> <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a> | 
                     (<span title="Int" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4096L)">MUTABLE</span>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(4194304)">STABLE</span>))
          .<a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#720682" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>))
      }

      /** Create a new setter. Setters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="720665">newSetter</a>(<a title="Mixin.this.global.Symbol" id="720760">field</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = {
        //println(&quot;creating new setter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Mixin.this.global.Name" id="720761">setterName</a> = <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29851" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterToSetter</a>(<a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29853" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#720760" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>))
        <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="720762">setter</a> = <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newMethod</a>(<a href="#720760" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#720761" title="Mixin.this.global.Name">setterName</a>)
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<a href="#720760" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27150" title="(x$1: Int)Long">flags</a> <span title="(x$1: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>(PRIVATE <span title="Int(524292)">|</span> LOCAL) <span title="(x$1: Long)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> | <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>)
        <a href="#720762" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)setter.type">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(<a href="#720762" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#27041" title="(argtypes: List[Mixin.this.global.Type])List[Mixin.this.global.Symbol]">newSyntheticValueParams</a>(<span title="(xs: Mixin.this.global.Type*)List[Mixin.this.global.Type]">List</span>(<a href="#720760" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>)), <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>))
        <span title="Unit" class="keyword">if</span> (<a href="#581200" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#720760" title="Mixin.this.global.Symbol">field</a>)) {
          //println(&quot;creating expanded setter from &quot;+field)
          <a href="#720762" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: Mixin.this.global.Name)Unit">name</a> = <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27234" title="(simpleSetterName: Mixin.this.global.Name)Mixin.this.global.Name">expandedSetterName</a>(<a href="#720762" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>)
        }
        <a href="#720762" title="Mixin.this.global.TermSymbol">setter</a>
      }

      <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a> // make sure info is up to date, so that implClass is set.
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720666">impl</a> = <a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>)
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#720666" title="(x$1: AnyRef)Boolean">impl</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)

      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="720876">member</a> &lt;- <a href="#720666" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
        <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27124" title="=&gt; Boolean">isModuleVar</a>) {
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27054" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27112" title="=&gt; Boolean">isDeferred</a>, <a href="#720876" title="Mixin.this.global.Symbol">member</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">(</a><a href="#720666" title="Mixin.this.global.Symbol">impl</a>) hasFlag <span title="Long(4L)">PRIVATE</span>) {
            <a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27232" title="(base: Mixin.this.global.Symbol)Unit">makeNotPrivate</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>) // this will also make getter&amp;setter not private
          }
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720881">getter</a> = <a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>)
          <span title="Any" class="keyword">if</span> (<a href="#720881" title="(x$1: AnyRef)Boolean">getter</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>, <a href="#720664" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newGetter</a>(<a href="#720876" title="Mixin.this.global.Symbol">member</a>))
          <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26410" title="Mixin.this.global.ConstantType">ConstantType</a>] &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720923">setter</a> = <a href="#720876" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27228" title="(base: Mixin.this.global.Symbol,hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>, <a href="#581200" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#720876" title="Mixin.this.global.Symbol">member</a>))
            <span title="Any" class="keyword">if</span> (<a href="#720923" title="(x$1: AnyRef)Boolean">setter</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#720647" title="Mixin.this.global.Symbol">clazz</a>, <a href="#720665" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newSetter</a>(<a href="#720876" title="Mixin.this.global.Symbol">member</a>))
          }
        }
      }
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new defs of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720647" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#720647" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>);
    }
  }

  /** Map a lazy, mixedin field accessor to it's trait member accessor */
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="581202">initializer</a> = <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">HashMap</span>[Symbol, Symbol]
  
  /** Add all members to be mixed in into a (non-trait-) class
   *  These are:
   *    for every mixin trait T that is not also inherited by the superclass:
   *     add late interface members to T and then:
   *      - if a member M of T is forwarded to the implementation class, add
   *        a forwarder for M unless one exists already.
   *        The alias of the forwarder is the static member it forwards to.
   *      - for every abstract accessor in T, add a field and an implementation for that acessor
   *      - for every super accessor in T, add an implementation of that accessor
   *      - for every module in T, add a module
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit" id="581204">addMixedinMembers</a>(<a title="Mixin.this.global.Symbol" id="720972">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.CompilationUnit" id="720973">unit</a> : <a href="../CompilationUnits.scala.html#39428" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>) {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; <span title="(x$1: AnyRef)Boolean">(</span><a href="#581187" title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">treatedClassInfos</a> get <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>) != <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>)) {
      <a href="#581187" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Type)Unit">treatedClassInfos</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>) = <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>

      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>, <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="=&gt; List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>)

      // first complete the superclass with mixed in members
      <a href="#581204" title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27207" title="=&gt; Mixin.this.global.Symbol">superClass</a>,<a href="#720973" title="Mixin.this.global.CompilationUnit">unit</a>)

      //Console.println(&quot;adding members of &quot; + clazz.info.baseClasses.tail.takeWhile(superclazz !=) + &quot; to &quot; + clazz);//DEBUG

      /** Mix in members of implementation class mixinClass into class clazz */
      <span class="keyword">def</span> <a title="(impl: Mixin.this.global.Symbol,iface: Mixin.this.global.Symbol)Unit" id="720994">mixinImplClassMembers</a>(<a title="Mixin.this.global.Symbol" id="721021">impl</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="721022">iface</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) {
        <span title="(assertion: Boolean)Unit">assert</span> (<a href="#721021" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>)
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="721045">member</a> &lt;- <a href="#721021" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
          <span title="Any" class="keyword">if</span> (<a href="#581191" title="(sym: Mixin.this.global.Symbol)Boolean">isForwarded</a>(<a href="#721045" title="Mixin.this.global.Symbol">member</a>)) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721048">imember</a> = <a href="#721045" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27221" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overriddenSymbol</a>(<a href="#721022" title="Mixin.this.global.Symbol">iface</a>)
            //Console.println(&quot;mixin member &quot;+member+&quot;:&quot;+member.tpe+member.locationString+&quot; &quot;+imember+&quot; &quot;+imember.overridingSymbol(clazz)+&quot; to &quot;+clazz+&quot; with scope &quot;+clazz.info.decls)//DEBUG
            <span title="Any" class="keyword">if</span> (<a href="#721048" title="Mixin.this.global.Symbol">imember</a>.<a href="../symtab/Symbols.scala.html#27222" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>) <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a> &amp;&amp;
                <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30442" title="(name: Mixin.this.global.Name,excludedFlags: Int,requiredFlags: Long,stableOnly: Boolean)(from: Mixin.this.global.Symbol)Mixin.this.global.Symbol">findMember</a>(<a href="#721045" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>, <span title="Int(0)" class="int">0</span>, <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>, <span title="Boolean(false)" class="keyword">false</span>)(<a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>).<a href="../symtab/Symbols.scala.html#27184" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<a title="(elem: Any)Boolean" id="25768">contains</a>(<a href="#721048" title="Mixin.this.global.Symbol">imember</a>)) {
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721075">member1</a> = <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(
                    <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>,
                    <a href="#721045" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27188" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>) <a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)Mixin.this.global.Symbol">setPos</a> <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a> resetFlag (<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>))
                  <a href="#721075" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]T0">asInstanceOf</span><a href="../symtab/Symbols.scala.html#29680" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">[</a><a href="../symtab/Symbols.scala.html#26287" title="Mixin.this.global.TermSymbol">TermSymbol</a>] setAlias <a href="#721045" title="Mixin.this.global.Symbol">member</a>;
                }
          }
        }
      }

      /** Mix in members of trait mixinClass into class clazz. Also,
       *  for each lazy field in mixinClass, add a link from its mixed in member to it's 
       *  initializer method inside the implclass.
       */
      <span class="keyword">def</span> <a title="(mixinClass: Mixin.this.global.Symbol)Unit" id="720995">mixinTraitMembers</a>(<a title="Mixin.this.global.Symbol" id="721126">mixinClass</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) {
        // For all members of a trait's interface do:
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="721145">member</a> &lt;- <a href="#721126" title="Mixin.this.global.Symbol">mixinClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
          <span title="Any" class="keyword">if</span> (<a href="#581197" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a>(<a href="#721145" title="Mixin.this.global.Symbol">member</a>)) {
            <span title="Any" class="keyword">if</span> (<a href="#581198" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#721145" title="Mixin.this.global.Symbol">member</a>, <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)) {
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a title="(x: Any)Unit" id="8126">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;!!! is overridden val: &quot;</span>+<a href="#721145" title="Mixin.this.global.Symbol">member</a>)
            } <span class="keyword">else</span> {
              // mixin field accessors
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721158">member1</a> = <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(
                <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>,
                <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27188" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>)
                  <a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)Mixin.this.global.Symbol">setPos</a> <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>
                  resetFlag (<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>))
              <span title="Unit" class="keyword">if</span> (<a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
                <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="721199">init</a> = <a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#721126" title="Mixin.this.global.Symbol">mixinClass</a>).<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30397" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a>(<a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>)
                <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#721199" title="(x$1: AnyRef)Boolean">init</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Could not find initializer for &quot;</span> + <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>)
                <a href="#581202" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Symbol)Unit" id="44618">initializer</a>(<a href="#721158" title="Mixin.this.global.Symbol">member1</a>) = <a href="#721199" title="Mixin.this.global.Symbol">init</a>
              }
              <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27065" title="=&gt; Boolean">isSetter</a>)
                <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> {
                  <span title="Unit" class="keyword">case</span> MethodType(<span title="object Nil">Nil</span>, ConstantType(_)) =&gt;
                    // member is a constant; only getter is needed
                    ;
                  <span title="Unit" class="keyword">case</span> MethodType(<span title="object Nil">Nil</span>, TypeRef(_, <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>, _)) =&gt;
                    // member is a value of type unit. No field needed
                    ;
                  <span title="Mixin.this.global.Symbol" class="keyword">case</span> _ =&gt;
                    // otherwise mixin a field as well
                    <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>,
                              <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">(</a><a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29850" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterToLocal</a>(<a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>))
                              <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a> (LOCAL <span title="(x$1: Long)Long">|</span> PRIVATE | <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27154" title="(mask: Long)Long">getFlag</a>(MUTABLE <span title="Long(2147487744L)">|</span> LAZY))
                              <a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setFlag</a> (<span title="Long" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(4194304L)">STABLE</span>)) <span title="Long(4096L)">MUTABLE</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span>)
                              <a href="../symtab/Symbols.scala.html#27014" title="(annots: List[Mixin.this.global.AnnotationInfoBase])Mixin.this.global.TermSymbol">setInfo</a> <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>
                              setAnnotations <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; List[Mixin.this.global.AnnotationInfo]">annotations</a>)
                }
            }
          } <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) { // mixin super accessors
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721337">member1</a> = <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#720972" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27188" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>)) setPos <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#721337" title="Mixin.this.global.Symbol">member1</a>.<a href="../symtab/Symbols.scala.html#27202" title="(x$1: AnyRef)Boolean">alias</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#721337" title="Mixin.this.global.Symbol">member1</a>)
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721338">alias1</a> = <a href="#581196" title="(base: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol,mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol">rebindSuper</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a>, <a href="#721126" title="Mixin.this.global.Symbol">mixinClass</a>)
            <a href="#721337" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]T0">asInstanceOf</span><a href="../symtab/Symbols.scala.html#29680" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">[</a><a href="../symtab/Symbols.scala.html#26287" title="Mixin.this.global.TermSymbol">TermSymbol</a>] setAlias <a href="#721338" title="Mixin.this.global.Symbol">alias1</a>

          } <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27069" title="(x$1: Boolean)Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27076" title="=&gt; Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">member</a> hasFlag (LIFTED <span title="Long(17246978048L)">|</span> BRIDGE))) {
            // mixin objects: todo what happens with abstract objects?
            <a href="#581199" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721145" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27188" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>))
              .<a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a>(<a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
              .<a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a>(<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>)
          }
        }
      }

      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="721447">mc</a> &lt;- <a href="#720972" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27208" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit">mixinClasses</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">mc</a> hasFlag <a href="../symtab/Flags.scala.html#28925" title="=&gt; Long">lateINTERFACE</a>) {
          // @SEAN: adding trait tracking so we don't have to recompile transitive closures
          <a href="#720973" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45672" title="(elem: Mixin.this.global.Symbol)unit.depends.type" id="39520">depends</a> += <a href="#721447" title="Mixin.this.global.Symbol">mc</a>
          <a href="#581201" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a>(<a href="#721447" title="Mixin.this.global.Symbol">mc</a>)
          <a href="#720995" title="(mixinClass: Mixin.this.global.Symbol)Unit">mixinTraitMembers</a>(<a href="#721447" title="Mixin.this.global.Symbol">mc</a>)
          <a href="#720994" title="(impl: Mixin.this.global.Symbol,iface: Mixin.this.global.Symbol)Unit">mixinImplClassMembers</a>(<a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#721447" title="Mixin.this.global.Symbol">mc</a>), <a href="#721447" title="Mixin.this.global.Symbol">mc</a>)
        }
    }
  }

  /** The info transform for this phase does the following:
   *   - The parents of every class are mapped from implementation class to interface
   *   - Implementation classes become modules that inherit nothing
   *     and that define all.
   *
   *  @param sym ...
   *  @param tp  ...
   *  @return    ...
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol,tp: Mixin.this.global.Type)Mixin.this.global.Type" id="581205">transformInfo</a>(<a title="Mixin.this.global.Symbol" id="721492">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Type" id="721493">tp</a>: <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a> = <a href="#721493" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> {
    <span title="Mixin.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[Mixin.this.global.Type]" id="721500">parents</a>, <a title="Mixin.this.global.Scope" id="721501">decls</a>, <a title="Mixin.this.global.Symbol" id="721502">clazz</a>) =&gt;
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Type]" id="721505">parents1</a> = <a href="#721500" title="List[Mixin.this.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Mixin.this.global.Scope" id="721506">decls1</a> = <a href="#721501" title="Mixin.this.global.Scope">decls</a>
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>) {
        <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>) {
          <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)clazz.type">clazz</a> setFlag <a href="../symtab/Flags.scala.html#28927" title="=&gt; Long">lateMODULE</a>
          <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="721517">sourceModule</a> = <a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27297" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">lookup</a>(<a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28387" title="=&gt; Mixin.this.global.Name">toTermName</a>)
          <span title="Any" class="keyword">if</span> (<a href="#721517" title="(x$1: AnyRef)Boolean">sourceModule</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
            <a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">sourceModule</a> setPos <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <a href="#721517" title="Mixin.this.global.Symbol">sourceModule</a>.<a href="../symtab/Symbols.scala.html#27151" title="(fs: Long)Unit">flags</a> = MODULE <span title="Long(288L)">|</span> FINAL
          } <span class="keyword">else</span> {
            <a href="#721517" title="Mixin.this.global.Symbol">sourceModule</a> = <a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27029" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name,clazz: Mixin.this.global.ClassSymbol)Mixin.this.global.TermSymbol">newModule</a>(
              <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28387" title="=&gt; Mixin.this.global.Name">toTermName</a>, <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<span title="[T0]T0">asInstanceOf</span><span title="Mixin.this.global.ClassSymbol">[</span><a href="../symtab/Symbols.scala.html#26291" title="Mixin.this.global.ClassSymbol">ClassSymbol</a>])
            <a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">decls</a> enter <a href="#721517" title="Mixin.this.global.Symbol">sourceModule</a>
          }
          <a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">sourceModule</a> setInfo <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#721502" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27217" title="(x$1: AnyRef)Boolean">sourceModule</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)//debug
          <a href="#721505" title="List[Mixin.this.global.Type]">parents1</a> = List<span title="object Nil">(</span>)
          <a href="#721506" title="Mixin.this.global.Scope">decls1</a> = <a href="../symtab/Scopes.scala.html#26165" title="(decls: List[Mixin.this.global.Symbol])Mixin.this.global.Scope">newScope</a>(<a href="#721501" title="Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)List[Mixin.this.global.Symbol]">toList</a> filter <a href="#581189" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#721500" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="#721505" title="List[Mixin.this.global.Type]">parents1</a> = <a href="#721500" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Mixin.this.global.Type">head</span> <a href="#721630" title="Mixin.this.global.Type">::</a> <span title="(x: Mixin.this.global.Type)List[Mixin.this.global.Type]">(</span><a href="#721500" title="List[Mixin.this.global.Type]">parents</a>.<span title="(f: (Mixin.this.global.Type) =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List[Mixin.this.global.Type]])List[Mixin.this.global.Type]">tail</span> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List#Coll]">map</span> <a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>)
        }
      }
      //decls1 = atPhase(phase.next)(newScope(decls1.toList))//debug
      <span title="Mixin.this.global.Type" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#721505" title="(x$1: AnyRef)Boolean">parents1</a> eq <a href="#721500" title="List[Mixin.this.global.Type]">parents</a>) &amp;&amp; (<a href="#721506" title="(x$1: AnyRef)Boolean">decls1</a> eq <a href="#721501" title="Mixin.this.global.Scope">decls</a>)) <a href="#721493" title="Mixin.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44491" title="(parents: List[Mixin.this.global.Type],decls: Mixin.this.global.Scope,typeSymbol: Mixin.this.global.Symbol)Mixin.this.global.ClassInfoType">ClassInfoType</a>(<a href="#721505" title="List[Mixin.this.global.Type]">parents1</a>, <a href="#721506" title="Mixin.this.global.Scope">decls1</a>, <a href="#721502" title="Mixin.this.global.Symbol">clazz</a>)

    <span title="Mixin.this.global.Type" class="keyword">case</span> MethodType(<a title="List[Mixin.this.global.Symbol]" id="721766">params</a>, <a title="Mixin.this.global.Type" id="721767">restp</a>) =&gt;
      <a href="#581193" title="(v1: Mixin.this.global.Type)Mixin.this.global.Type">toInterfaceMap</a>(
        <span title="Mixin.this.global.Type" class="keyword">if</span> (<a href="#581189" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>(<a href="#721492" title="Mixin.this.global.Symbol">sym</a>)) {
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721773">ownerParam</a> = <a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27042" title="(argtype: Mixin.this.global.Type)Mixin.this.global.Symbol">newSyntheticValueParam</a>(<a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#721492" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27194" title="=&gt; Mixin.this.global.Type">typeOfThis</a>))
          <a href="../symtab/Types.scala.html#44127" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(<a href="#721773" title="Mixin.this.global.Symbol">ownerParam</a> <a href="#721797" title="Mixin.this.global.Symbol">::</a> <a href="#721766" title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">params</a>, <a href="#721767" title="Mixin.this.global.Type">restp</a>)
        } <span class="keyword">else</span>
          <a href="#721493" title="Mixin.this.global.Type">tp</a>)

    <span title="Mixin.this.global.Type" class="keyword">case</span> _ =&gt;
      <a href="#721493" title="Mixin.this.global.Type">tp</a>
  }

// --------- term transformation -----------------------------------------------

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: Mixin.this.global.CompilationUnit)Mixin.this.global.Transformer" id="581206">newTransformer</a>(<a title="Mixin.this.global.CompilationUnit" id="721809">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26932" title="Mixin.this.global.Transformer">Transformer</a> =
    <span title="Mixin.this.MixinTransformer" class="keyword">new</span> <a href="#581207" title="Mixin.this.MixinTransformer">MixinTransformer</a>(<a href="#721809" title="Mixin.this.global.CompilationUnit">unit</a>)

  <span class="keyword">class</span> <a title="class MixinTransformer extends Mixin.this.global.Transformer with ScalaObject" id="581207">MixinTransformer</a><span title="ScalaObject">(</span><a title="Mixin.this.global.CompilationUnit" id="721834">unit</a> : <a href="../CompilationUnits.scala.html#39428" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26932" title="Mixin.this.global.Transformer">Transformer</a> {

    /** Within a static implementation method: the parameter referring to the
     *  current object undefined evrywhere else.
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="721816">self</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = _

    /** The rootContext used for typing */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Context" id="721818">rootContext</a> =
      <a href="../Global.scala.html#39355" title="object Mixin.this.global.erasure">erasure</a>.<a href="../typechecker/Contexts.scala.html#40045" title="=&gt; Mixin.this.global.erasure.Context">NoContext</a>.<a href="../typechecker/Contexts.scala.html#48686" title="(tree: Mixin.this.global.erasure.global.Tree,owner: Mixin.this.global.erasure.global.Symbol,scope: Mixin.this.global.erasure.global.Scope)Mixin.this.global.erasure.Context">make</a>(<a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>, <a href="../symtab/Definitions.scala.html#28425" title="=&gt; Mixin.this.global.ModuleClassSymbol">RootClass</a>, <a href="../symtab/Scopes.scala.html#26125" title="=&gt; Mixin.this.global.Scope">newScope</a>)

    /** The typer */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.erasure.Typer" id="721821">localTyper</a>: erasure.<a href="../typechecker/Typers.scala.html#40153" title="Mixin.this.global.erasure.Typer">Typer</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree" id="721823">typedPos</a>(<a title="scala.tools.nsc.util.Position" id="721883">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>)(<a title="Mixin.this.global.Tree" id="721884">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>) = <a href="../typechecker/Typers.scala.html#42872" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">localTyper</a> typed { <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a>(<a href="#721883" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#721884" title="Mixin.this.global.Tree">tree</a>) }

    <span class="keyword">import</span> scala.collection._
    
    /** Map a field symbol to a unique integer denoting its position in the class layout.
     *  For each class, fields defined by the class come after inherited fields. Mixed-in
     *  fields count as fields defined by the class itself.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]" id="721825">fieldOffset</a>: mutable.<a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]" id="24948">Map</a>[Symbol, Int] = <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">HashMap</span>[Symbol, Int]

    /** The first transform; called in a pre-order traversal at phase mixin
     *  (that is, every node is processed before its children).
     *  What transform does:
     *   - For every non-trait class, add all mixed in members to the class info.
     *   - For every trait, add all late interface members to the class info
     *   - For every static implementation method:
     *       - remove override flag
     *       - create a new method definition that also has a `self' parameter
     *         (which comes first) Iuli: this position is assumed by tail call elimination 
     *         on a different receiver. Storing a new 'this' assumes it is located at
     *         index 0 in the local variable table. See 'STORE_THIS' and GenJVM/GenMSIL.
     *   - Map implementation class types in type-apply's to their interfaces
     *   - Remove all fields in implementation classes
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="721827">preTransform</a>(<a title="Mixin.this.global.Tree" id="721912">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721914">sym</a> = <a href="#721912" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>
      <a href="#721912" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.Tree" class="keyword">case</span> Template(<a title="List[Mixin.this.global.Tree]" id="721920">parents</a>, <a title="Mixin.this.global.ValDef" id="721921">self</a>, <a title="List[Mixin.this.global.Tree]" id="721922">body</a>) =&gt;
          <a href="#721821" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#39355" title="object Mixin.this.global.erasure">erasure</a>.<a href="Erasure.scala.html#42696" title="(context: Mixin.this.global.erasure.Context)Mixin.this.global.erasure.Eraser">newTyper</a>(<a href="#721818" title="=&gt; Mixin.this.global.erasure.Context">rootContext</a>.<a href="../typechecker/Contexts.scala.html#48689" title="(tree: Mixin.this.global.erasure.global.Tree,owner: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.Context">make</a>(<a href="#721912" title="Mixin.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>))
          <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="../ast/Trees.scala.html#45699" title="=&gt; (x$1: MixinTransformer.this.type)Mixin.this.global.Symbol" id="786682">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>)//todo: needed?
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) <a href="#581204" title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>,<a href="#721834" title="Mixin.this.global.CompilationUnit">unit</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">currentOwner</a> hasFlag <a href="../symtab/Flags.scala.html#28925" title="=&gt; Long">lateINTERFACE</a>) <a href="#581201" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>)
          <a href="#721912" title="Mixin.this.global.Tree">tree</a>
        <span title="Mixin.this.global.Tree" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="721990">mods</a>, <a title="Mixin.this.global.Name" id="721991">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="721992">tparams</a>, <a href="#721994" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a>(<a title="List[Mixin.this.global.ValDef]" id="722003">vparams</a>), <a title="Mixin.this.global.Tree" id="722005">tpt</a>, <a title="Mixin.this.global.Tree" id="722006">rhs</a>) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a> =&gt;
          <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#581189" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>(<a href="#721914" title="Mixin.this.global.Symbol">sym</a>)) {
            <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)sym.type">sym</a> setFlag <a href="../symtab/Flags.scala.html#28943" title="=&gt; Long">notOVERRIDE</a>
            <a href="#721816" title="(x$1: Mixin.this.global.Symbol)Unit">self</a> = <a href="#721914" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newValue</a>(<a href="#721914" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29901" title="=&gt; Mixin.this.global.Name">SELF</a>) 
              .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<span title="Long(8192L)">PARAM</span>)
              .<a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27194" title="=&gt; Mixin.this.global.Type">typeOfThis</a>));
            <span class="keyword">val</span> <a title="Mixin.this.global.ValDef" id="722011">selfdef</a> = <a href="../ast/Trees.scala.html#26782" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><a href="../ast/Trees.scala.html#29552" title="(tp: Mixin.this.global.Type)Mixin.this.global.ValDef">(</a><a href="#721816" title="=&gt; Mixin.this.global.Symbol">self</a>) setType <a href="../symtab/Types.scala.html#26383" title="object Mixin.this.global.NoType">NoType</a>
            <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#721912" title="Mixin.this.global.Tree">tree</a>, <a href="#721990" title="Mixin.this.global.Modifiers">mods</a>, <a href="#721991" title="Mixin.this.global.Name">name</a>, <a href="#721992" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span>(<a href="#722011" title="Mixin.this.global.ValDef">selfdef</a> <a href="#722069" title="Mixin.this.global.ValDef">::</a> <a href="#722003" title="(x: Mixin.this.global.ValDef)List[Mixin.this.global.ValDef]">vparams</a>), <a href="#722005" title="Mixin.this.global.Tree">tpt</a>, <a href="#722006" title="Mixin.this.global.Tree">rhs</a>)
          } <span class="keyword">else</span> {
            <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
          }
        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(<a title="Mixin.this.global.TypeApply" id="722084">tapp</a> @ TypeApply(<a title="Mixin.this.global.Tree" id="722087">fn</a>, <a href="#722089" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a title="Mixin.this.global.Tree" id="722098">arg</a>)), <a href="#722103" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>()) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#722098" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Type" id="722115">ifacetpe</a> = <a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#722098" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Mixin.this.global.Type">tpe</a>)
            <a href="#722098" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29550" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#722115" title="Mixin.this.global.Type">ifacetpe</a>
            <a href="#722084" title="Mixin.this.global.TypeApply">tapp</a>.<a href="../ast/Trees.scala.html#29550" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="../symtab/Types.scala.html#44127" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#722115" title="Mixin.this.global.Type">ifacetpe</a>)
            <a href="#721912" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29550" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#722115" title="Mixin.this.global.Type">ifacetpe</a>
          }
          <a href="#721912" title="Mixin.this.global.Tree">tree</a>
        <span title="Mixin.this.global.EmptyTree.type" class="keyword">case</span> ValDef(_, _, _, _) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a> =&gt;
          <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#721912" title="Mixin.this.global.Tree">tree</a>
      }
    }
         
    /** Create an identifier which references self parameter.
     *
     *  @param pos ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree" id="721828">selfRef</a>(<a title="scala.tools.nsc.util.Position" id="722164">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>) =
      <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42914" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">(</a><a href="#721816" title="=&gt; Mixin.this.global.Symbol">self</a>) setPos <a href="#722164" title="scala.tools.nsc.util.Position">pos</a>

    /** Replace a super reference by this or the self parameter, depending
     *  on whether we are in an implementation class or not.
     *  Leave all other trees unchanged */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree" id="721829">transformSuper</a>(<a title="Mixin.this.global.Tree" id="722175">qual</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>) = 
      <span title="Mixin.this.global.Tree" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#722175" title="Mixin.this.global.Tree">qual</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26879" title="Mixin.this.global.Super">Super</a>]) <a href="#722175" title="Mixin.this.global.Tree">qual</a>
      <span class="keyword">else</span> <span title="Mixin.this.global.gen.global.Tree" class="keyword">if</span> (<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>) <a href="#721828" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">selfRef</a>(<a href="#722175" title="Mixin.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      <span class="keyword">else</span> <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42913" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)

    /** Create a static reference to given symbol &lt;code&gt;sym&lt;/code&gt; of the
     *  form &lt;code&gt;M.sym&lt;/code&gt; where M is the symbol's implementation module.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="721830">staticRef</a>(<a title="Mixin.this.global.Symbol" id="722184">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
      <a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>  //todo: needed?
      <a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a> //todo: needed?
      <span title="Unit" class="keyword">if</span> (<a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27217" title="(x$1: AnyRef)Boolean">sourceModule</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
        <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722184" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="=&gt; List[Mixin.this.global.Symbol]">toList</a>)//debug
      }
      <a href="../ast/TreeDSL.scala.html#42765" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#722184" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27217" title="=&gt; Mixin.this.global.Symbol">sourceModule</a>) <a href="../ast/TreeDSL.scala.html#42777" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.global.Select">DOT</a> <a href="#722184" title="Mixin.this.global.Symbol">sym</a>
    }

    /** Add all new definitions to a non-trait class 
     *  These fall into the following categories:
     *    - for a trait interface: 
     *       - abstract accessors for all fields in the implementation class
     *    - for a non-trait class:
     *       - A field for every in a mixin class 
     *       - Setters and getters for such fields
     *           - getters for mixed in lazy fields are completed 
     *       - module variables and module creators for every module in a mixin class
     *         (except if module is lifted -- in this case the module variable
     *          is local to some function, and the creator method is static.)
     *       - A super accessor for every super accessor in a mixin class
     *       - Forwarders for all methods that are implemented statically
     *  All superaccessors are completed with right-hand sides (@see completeSuperAccessor)
     *  @param clazz  The class to which definitions are added
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="721831">addNewDefs</a>(<a title="Mixin.this.global.Symbol" id="722271">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="722272">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <span title="List[Mixin.this.global.Tree]">List</span>[Tree] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="722274">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="24978">ListBuffer</a>[Tree]

      /** Attribute given tree and anchor at given position */
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="722275">attributedDef</a>(<a title="scala.tools.nsc.util.Position" id="722295">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Mixin.this.global.Tree" id="722296">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;add new def to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722271" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#722296" title="Mixin.this.global.Tree">tree</a>)
        <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#722295" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#722296" title="Mixin.this.global.Tree">tree</a>)
      }

      /** The position of given symbol, or, if this is undefined, 
       *  the position of the current class. */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position" id="722276">position</a>(<a title="Mixin.this.global.Symbol" id="722311">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
        <span title="scala.tools.nsc.util.Position" class="keyword">if</span> (<a href="#722311" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="(x$1: AnyRef)Boolean">pos</a> == <a href="../util/Position.scala.html#14615" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>) <a href="#722271" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span class="keyword">else</span> <a href="#722311" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>

      /** Add tree at given position as new definition */
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit" id="722277">addDef</a>(<a title="scala.tools.nsc.util.Position" id="722319">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="Mixin.this.global.Tree" id="722320">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>) {
        <a href="#722274" title="(x: Mixin.this.global.Tree)newDefs.type" id="61852">newDefs</a> <span title="Unit">+=</span> <a href="#722275" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Mixin.this.global.Tree">attributedDef</a>(<a href="#722319" title="scala.tools.nsc.util.Position">pos</a>, <a href="#722320" title="Mixin.this.global.Tree">tree</a>)
      }

      /** Add new method definition.
       *
       *  @param sym   The method
       *  @param rhs   A function that maps formal parameters to the method's
       *               right-hand side
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit" id="722278">addDefDef</a>(<a title="Mixin.this.global.Symbol" id="722354">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="(List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree" id="722355">rhs</a>: List[Symbol] =&gt; Tree) {
        <a href="#722277" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#722276" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#722354" title="Mixin.this.global.Symbol">sym</a>), <a href="../ast/Trees.scala.html#26791" title="(sym: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#722354" title="Mixin.this.global.Symbol">sym</a>, <a href="#722355" title="(v1: List[Mixin.this.global.Symbol])Mixin.this.global.Tree">rhs</a>(<a href="#722354" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27176" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span>)))
      }

      /** Add `newdefs' to `stats', removing any abstract method definitions
       *  in &lt;code&gt;stats&lt;/code&gt; that are matched by some symbol defined in
       *  &lt;code&gt;newDefs&lt;/code&gt;.
       */
      <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree],newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="722279">add</a>(<a title="List[Mixin.this.global.Tree]" id="722408">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="List[Mixin.this.global.Tree]" id="722409">newDefs</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]) = {
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="722410">newSyms</a> = <a href="#722409" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Tree]])List[Mixin.this.global.Symbol]">newDefs</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List#Coll]">map</span> (<a href="#722420" title="Mixin.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>)
        <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Boolean" id="722411">isNotDuplicate</a>(<a title="Mixin.this.global.Tree" id="722501">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>) = <a href="#722501" title="Mixin.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="722512">sym</a> = <a href="#722501" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>;
            <span title="=&gt; Boolean">!</span>(<a href="#722512" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27112" title="(x$1: Boolean)Boolean">isDeferred</a> &amp;&amp;
              (<a href="#722410" title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)Boolean">newSyms</a> exists (<a title="Mixin.this.global.Symbol" id="722517">nsym</a> =&gt; <a href="#722517" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#722512" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a> &amp;&amp; (<a href="#722517" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Types.scala.html#30424" title="(that: Mixin.this.global.Type)Boolean">tpe</a> matches <a href="#722512" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>))))
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        }
        <span title="List[Mixin.this.global.Tree]" class="keyword">if</span> (<a href="#722409" title="List[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#722408" title="List[Mixin.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <a href="#722409" title="List[Mixin.this.global.Tree]">newDefs</a> <a href="#722534" title="List[Mixin.this.global.Tree]">:::</a> <a href="#722408" title="List[Mixin.this.global.Tree]">stats</a>.<span title="(p: (Mixin.this.global.Tree) =&gt; Boolean)List[Mixin.this.global.Tree]">filter</span><span title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">(</span><a href="#722411" title="(tree: Mixin.this.global.Tree)Boolean">isNotDuplicate</a>)
      }

      /** If `stat' is a superaccessor, complete it by adding a right-hand side.
       *  Note: superaccessors are always abstract until this point. 
       *   The method to call in a superaccessor is stored in the accessor symbol's alias field.
       *  The rhs is: 
       *    super.A(xs)  where A is the super accessor's alias and xs are its formal parameters.
       *  This rhs is typed and then mixin transformed.
       */
      <span class="keyword">def</span> <a title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree" id="722280">completeSuperAccessor</a>(<a title="Mixin.this.global.Tree" id="722549">stat</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>) = <a href="#722549" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="722558">mods</a>, <a title="Mixin.this.global.Name" id="722559">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="722560">tparams</a>, <a href="#722562" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a>(<a title="List[Mixin.this.global.ValDef]" id="722571">vparams</a>), <a title="Mixin.this.global.Tree" id="722573">tpt</a>, <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
        <span class="keyword">if</span> (<a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) =&gt;
          <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="722578">rhs0</a> = (<a href="../ast/Trees.scala.html#26882" title="(sym: Mixin.this.global.Symbol,mix: Mixin.this.global.Name)Mixin.this.global.Tree">Super</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#722271" title="Mixin.this.global.Symbol">clazz</a>, <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29871" title="=&gt; Mixin.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; Mixin.this.global.Name">toTypeName</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a>)(<a href="#722571" title="(f: (Mixin.this.global.ValDef) =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,Sequence[Mixin.this.global.Tree],List[Mixin.this.global.ValDef]])Sequence[Mixin.this.global.Tree]">vparams</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List#Coll]">map</span> (<a title="Mixin.this.global.ValDef" id="722644">v</a> =&gt; <a href="../ast/Trees.scala.html#26895" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>(<a href="#722644" title="Mixin.this.global.ValDef">v</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>)): _*)
          <span class="keyword">val</span> <a title="Mixin.this.global.erasure.global.Tree" id="722579">rhs1</a> = <a href="#721821" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42874" title="(tree: Mixin.this.global.erasure.global.Tree,pt: Mixin.this.global.erasure.global.Type)Mixin.this.global.erasure.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Apply)Mixin.this.global.Apply">atPos</a>(<a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#722578" title="Mixin.this.global.Apply">rhs0</a>), <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>)
          <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="722580">rhs2</a> = <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40432" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#721833" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#722579" title="Mixin.this.global.erasure.global.Tree">rhs1</a>))
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;complete super acc &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722579" title="Mixin.this.global.erasure.global.Tree">rhs1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> + <a href="#722549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<a href="../symtab/Flags.scala.html#28925" title="=&gt; Long">lateINTERFACE</a>))//debug
          <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#722549" title="Mixin.this.global.Tree">stat</a>, <a href="#722558" title="Mixin.this.global.Modifiers">mods</a>, <a href="#722559" title="Mixin.this.global.Name">name</a>, <a href="#722560" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span>(<a href="#722571" title="List[Mixin.this.global.ValDef]">vparams</a>), <a href="#722573" title="Mixin.this.global.Tree">tpt</a>, <a href="#722580" title="Mixin.this.global.Tree">rhs2</a>)
        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#722549" title="Mixin.this.global.Tree">stat</a>
      }

      <span class="keyword">import</span> lazyVals._

      /** Return the bitmap field for 'offset', create one if not inheriting it already. */ 
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol" id="722282">bitmapFor</a>(<a title="Mixin.this.global.Symbol" id="722813">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="722814">offset</a>: <span title="Int">Int</span>): <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a> = {
        <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="722815">sym</a> = <a href="#722813" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30403" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29864" title="(n: Int)Mixin.this.global.Name">bitmapName</a>(<a href="#722814" title="(x$1: Int)Int">offset</a> / <a href="../Global.scala.html#580999" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span title="(assertion: Boolean)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#722815" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>))
        <span title="Unit" class="keyword">if</span> (<a href="#722815" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
          <a href="#722815" title="Mixin.this.global.Symbol">sym</a> = <a href="#722813" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27023" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newVariable</a>(<a href="#722813" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29864" title="(n: Int)Mixin.this.global.Name">bitmapName</a>(<a href="#722814" title="(x$1: Int)Int">offset</a> / <a href="../Global.scala.html#580999" title="=&gt; Int">FLAGS_PER_WORD</a>))
                       .<a href="../symtab/Symbols.scala.html#27164" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Definitions.scala.html#28471" title="=&gt; Mixin.this.global.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>)
                       .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<span title="Long(1L)">PROTECTED</span>)
          <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40420" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>) {
            <a href="../symtab/Symbols.scala.html#27015" title="(annot: Mixin.this.global.AnnotationInfo)Mixin.this.global.Symbol">sym</a> addAnnotation <a href="../symtab/AnnotationInfos.scala.html#44986" title="(atp: Mixin.this.global.Type,args: List[Mixin.this.global.Tree],assocs: List[(Mixin.this.global.Name, Mixin.this.global.ClassfileAnnotArg)])Mixin.this.global.AnnotationInfo">AnnotationInfo</a>(<a href="../symtab/Definitions.scala.html#28758" title="=&gt; Mixin.this.global.Symbol">VolatileAttr</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>)
          }
          <a href="#722813" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a>(<a href="#722815" title="Mixin.this.global.Symbol">sym</a>)
          <a href="#722277" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#722813" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#42753" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: Mixin.this.global.Tree)Mixin.this.global.ValDef">(</a><a href="#722815" title="Mixin.this.global.Symbol">sym</a>) === <a href="../ast/TreeDSL.scala.html#42729" title="=&gt; Mixin.this.global.Literal">ZERO</a>)
        }
        <a href="#722815" title="Mixin.this.global.Symbol">sym</a>
      }

      /** Return an (untyped) tree of the form 'Clazz.this.bmp = Clazz.this.bmp | mask'. */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree" id="722283">mkSetFlag</a>(<a title="Mixin.this.global.Symbol" id="722951">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="722952">offset</a>: <span title="Int">Int</span>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="722953">bmp</a>   = <a href="#722282" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#722951" title="Mixin.this.global.Symbol">clazz</a>, <a href="#722952" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="722954">mask</a>  = <a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#722952" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#580999" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.CODE.SelectStart" id="722955">x</a>     = <a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#722951" title="Mixin.this.global.Symbol">clazz</a>) DOT <a href="#722953" title="Mixin.this.global.Symbol">bmp</a>
        
        <a href="../ast/TreeDSL.scala.html#45318" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">x</a> === (<a href="../ast/TreeDSL.scala.html#45307" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">x</a> INT_| <a href="#722954" title="Mixin.this.global.Literal">mask</a>)
      }
      
      /** Return an (untyped) tree of the form 'clazz.this.bitmapSym &amp; mask (==|!=) 0', the
       *  precise comparison operator depending on the value of 'equalToZero'.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree" id="722284">mkTest</a>(<a title="Mixin.this.global.Symbol" id="723056">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="723057">mask</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>, <a title="Mixin.this.global.Symbol" id="723058">bitmapSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="723059">equalToZero</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Apply" id="723060">lhs</a> = <a href="../ast/TreeDSL.scala.html#45308" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">(</a><a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#723056" title="Mixin.this.global.Symbol">clazz</a>) <a href="../ast/TreeDSL.scala.html#42778" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">DOT</a> <a href="#723058" title="Mixin.this.global.Symbol">bitmapSym</a>) INT_&amp; <a href="#723057" title="Mixin.this.global.Tree">mask</a>
        <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723059" title="Boolean">equalToZero</a>)  <a href="../ast/TreeDSL.scala.html#45309" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">lhs</a> INT_== <a href="../ast/TreeDSL.scala.html#42729" title="=&gt; Mixin.this.global.Literal">ZERO</a>
        <span class="keyword">else</span>              <a href="../ast/TreeDSL.scala.html#45310" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">lhs</a> INT_!= <a href="../ast/TreeDSL.scala.html#42729" title="=&gt; Mixin.this.global.Literal">ZERO</a>
      }

      /** return a 'lazified' version of rhs. 
       *  @param clazz The class symbol
       *  @param init The tree which initializes the field ( f = &lt;rhs&gt; )
       *  @param fieldSym The symbol of this lazy field
       *  @param offset The offset of this field in the flags bitmap
       *
       *  The result will be a tree of the form
       *  {
       *    if ((bitmap$n &amp; MASK) == 0) {
       *       synhronized(this) {
       *         if ((bitmap$n &amp; MASK) == 0) {
       *           synhronized(this) {
       *             init // l$ = &lt;rhs&gt;
       *           }
       *           bitmap$n = bimap$n | MASK
       *         }}}
       *    l$
       *  }
       *  where bitmap$n is an int value acting as a bitmap of initialized values. It is
       *  the 'n' is (offset / 32), the MASK is (1 &lt;&lt; (offset % 32)).
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree" id="722285">mkLazyDef</a>(<a title="Mixin.this.global.Symbol" id="723159">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="723160">init</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="Mixin.this.global.Tree" id="723161">retVal</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>, <a title="Int" id="723162">offset</a>: <span title="Int">Int</span>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="723163">bitmapSym</a> = <a href="#722282" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#723159" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723162" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="723164">mask</a>      = <a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#723162" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#580999" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Tree" id="723165">cond</a>      = <a href="#722284" title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a>(<a href="#723159" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723164" title="Mixin.this.global.Literal">mask</a>, <a href="#723163" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(true)" class="keyword">true</span>)
        <span class="keyword">def</span> <a title="=&gt; List[Mixin.this.global.Tree]" id="723166">syncBody</a>  = <a href="#723160" title="List[Mixin.this.global.Tree]">init</a> <a href="#723190" title="List[Mixin.this.global.Tree]">:::</a> <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">(</span><a href="#722283" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#723159" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723162" title="Int">offset</a>), <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>)
        
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="723167">result</a>    = 
          <a href="../ast/TreeDSL.scala.html#42756" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#50041" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">(</a><a href="#723165" title="=&gt; Mixin.this.global.Tree">cond</a>) THEN <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42933" title="(monitor: Mixin.this.global.gen.global.Tree,body: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkSynchronized</a>(
            <a href="../ast/TreeGen.scala.html#42913" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">gen</a> mkAttributedThis <a href="#723159" title="Mixin.this.global.Symbol">clazz</a>,
            <a href="../ast/TreeDSL.scala.html#42756" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#50041" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">(</a><a href="#723165" title="=&gt; Mixin.this.global.Tree">cond</a>) THEN <a href="../ast/TreeDSL.scala.html#42758" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#723166" title="=&gt; List[Mixin.this.global.Tree]">syncBody</a>: _*) <a href="../ast/TreeDSL.scala.html#50043" title="=&gt; Mixin.this.global.If">ENDIF</a>
          ) <a href="../ast/TreeDSL.scala.html#50043" title="=&gt; Mixin.this.global.If">ENDIF</a>

        <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723160" title="List[Mixin.this.global.Tree]">init</a>.<span title="=&gt; Mixin.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42758" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#723167" title="Mixin.this.global.If">result</a>, <a href="#723161" title="Mixin.this.global.Tree">retVal</a>))
      }
      
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree" id="722286">mkCheckedAccessor</a>(<a title="Mixin.this.global.Symbol" id="723240">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="723241">retVal</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>, <a title="Int" id="723242">offset</a>: <span title="Int">Int</span>, <a title="scala.tools.nsc.util.Position" id="723243">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="723244">bitmapSym</a> = <a href="#722282" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#723240" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723242" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="723245">mask</a>      = <a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#723242" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#580999" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">val</span> <a title="java.lang.String" id="723246">msg</a>       = <span title="(x$1: Any)java.lang.String" class="string">&quot;Uninitialized field: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#721834" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45663" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#723243" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30490" title="=&gt; Int">line</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="723247">result</a>    = 
          <a href="../ast/TreeDSL.scala.html#42756" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> (<a href="#722284" title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a>(<a href="#723240" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723245" title="Mixin.this.global.Literal">mask</a>, <a href="#723244" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(false)" class="keyword">false</span>)) .
            <a href="../ast/TreeDSL.scala.html#50041" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">THEN</a> (<a href="#723241" title="Mixin.this.global.Tree">retVal</a>) .
            <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: Mixin.this.global.Tree)Mixin.this.global.If">ELSE</a> (<a href="../ast/TreeDSL.scala.html#42750" title="(sym: Mixin.this.global.Symbol,msg: Mixin.this.global.Tree)Mixin.this.global.Throw">THROW</a>(<a href="../symtab/Definitions.scala.html#28491" title="=&gt; Mixin.this.global.Symbol">UninitializedErrorClass</a>, <a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<a href="#723246" title="java.lang.String">msg</a>)))
        
        <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723243" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42758" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#723247" title="Mixin.this.global.If">result</a>, <a href="#723241" title="Mixin.this.global.Tree">retVal</a>))
      }
       
      /** Complete lazy field accessors. Applies only to classes, for it's own (non inherited) lazy fields.
       *  If 'checkinit' is enabled, getters that check for the initialized bit are generated, and
       *  the class constructor is changed to set the initialized bits.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="722287">addCheckedGetters</a>(<a title="Mixin.this.global.Symbol" id="723302">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="723303">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <span title="List[Mixin.this.global.Tree]">List</span>[Tree] = {
        <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree])Mixin.this.global.Tree" id="723304">findLazyAssignment</a>(<a title="List[Mixin.this.global.Tree]" id="723306">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = (
          <span class="keyword">for</span> (<a title="Mixin.this.global.Assign" id="723346">s</a> @ Assign(<a title="Mixin.this.global.Tree" id="723349">lhs</a>, _) &lt;- <a href="#723306" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Assign)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Assign,List[Mixin.this.global.Assign],List[Mixin.this.global.Tree]])List[Mixin.this.global.Assign]">stats</a> ; <span class="keyword">if</span> <a href="#723349" title="Mixin.this.global.Tree">lhs</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span class="keyword">yield</span> <a href="#723346" title="Mixin.this.global.Assign">s</a>
        ) <span title="=&gt; Mixin.this.global.Assign">head</span> // if there's no assignment then it's a bug and we crash

        <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="723305">stats1</a> = <span class="keyword">for</span> (<a title="Mixin.this.global.Tree" id="723549">stat</a> &lt;- <a href="#723303" title="(f: (Mixin.this.global.Tree) =&gt; (Mixin.this.global.Tree, Mixin.this.global.Symbol))(implicit bf: scala.collection.generic.BuilderFactory[(Mixin.this.global.Tree, Mixin.this.global.Symbol),List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)],List[Mixin.this.global.Tree]])List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)]">stats</a>; <a title="Mixin.this.global.Symbol" id="723550">sym</a> = <a href="#723549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>) <span class="keyword">yield</span> <a href="#723549" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="723561">mods</a>, <a title="Mixin.this.global.Name" id="723562">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="723563">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="723564">vp</a>, <a title="Mixin.this.global.Tree" id="723565">tpt</a>, <a title="Mixin.this.global.Tree" id="723566">rhs</a>) 
            <span class="keyword">if</span> <a href="#723550" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#723566" title="(x$1: AnyRef)Boolean">rhs</a> != <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#723302" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#721825" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#723550" title="Mixin.this.global.Symbol">sym</a>))
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="723581">rhs1</a> = <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723550" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) 
                <a href="#722285" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#723302" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#723566" title="Mixin.this.global.Tree">rhs</a>), <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#723550" title="Mixin.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> {
                <span class="keyword">val</span> Block<a href="#36621" title="(List[Mixin.this.global.Tree], Mixin.this.global.Tree)">(</a><a href="#723628" title="List[Mixin.this.global.Tree]" id="36621">stats</a>, <a href="#723628" title="Mixin.this.global.Tree" id="36623">res</a>) = <a href="#723566" title="Mixin.this.global.Tree">rhs</a>
                <a href="#722285" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#723302" title="Mixin.this.global.Symbol">clazz</a>, <a href="#36621" title="List[Mixin.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#26890" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#723302" title="Mixin.this.global.Symbol">clazz</a>), <a href="#36623" title="Mixin.this.global.Tree">res</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>), <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#723550" title="Mixin.this.global.Symbol">sym</a>))
              }
              <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#723549" title="Mixin.this.global.Tree">stat</a>, <a href="#723561" title="Mixin.this.global.Modifiers">mods</a>, <a href="#723562" title="Mixin.this.global.Name">name</a>, <a href="#723563" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#723564" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#723565" title="Mixin.this.global.Tree">tpt</a>, <a href="#723581" title="Mixin.this.global.Tree">rhs1</a>)
              
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="723722">mods</a>, <a title="Mixin.this.global.Name" id="723723">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="723724">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="723725">vp</a>, <a title="Mixin.this.global.Tree" id="723726">tpt</a>, <a title="Mixin.this.global.Tree" id="723727">rhs</a>) 
            <span class="keyword">if</span> <a href="#722288" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span title="(x$1: Boolean)Boolean">(</span><a href="#723550" title="Mixin.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#723727" title="(x$1: AnyRef)Boolean">rhs</a> != <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#723302" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#723302" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#721825" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#723550" title="Mixin.this.global.Symbol">sym</a>))

              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="723828">rhs1</a> = (<a href="#722286" title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree">mkCheckedAccessor</a><span title="(v1: Mixin.this.global.Tree)Mixin.this.global.Tree">(</span><a href="#723302" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723839" title="Mixin.this.global.Tree">_</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#723550" title="Mixin.this.global.Symbol">sym</a>), <a href="#723549" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>))(
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723550" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a> <span class="keyword">else</span> <a href="#723727" title="Mixin.this.global.Tree">rhs</a>
              )
              <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#723549" title="Mixin.this.global.Tree">stat</a>, <a href="#723722" title="Mixin.this.global.Modifiers">mods</a>, <a href="#723723" title="Mixin.this.global.Name">name</a>, <a href="#723724" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#723725" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#723726" title="Mixin.this.global.Tree">tpt</a>, <a href="#723828" title="Mixin.this.global.Tree">rhs1</a>)
              
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="723888">mods</a>, <a title="Mixin.this.global.Name" id="723889">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="723890">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="723891">vp</a>, <a title="Mixin.this.global.Tree" id="723892">tpt</a>, <a title="Mixin.this.global.Tree" id="723893">rhs</a>) <span class="keyword">if</span> <a href="#723550" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a> =&gt;
            <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#723549" title="Mixin.this.global.Tree">stat</a>, <a href="#723888" title="Mixin.this.global.Modifiers">mods</a>, <a href="#723889" title="Mixin.this.global.Name">name</a>, <a href="#723890" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#723891" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#723892" title="Mixin.this.global.Tree">tpt</a>, <a href="#722289" title="(clazz: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">addInitBits</a>(<a href="#723302" title="Mixin.this.global.Symbol">clazz</a>, <a href="#723893" title="Mixin.this.global.Tree">rhs</a>))

          <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt; <a href="#723549" title="Mixin.this.global.Tree">stat</a>
        }
        <a href="#723305" title="List[Mixin.this.global.Tree]">stats1</a>
      }

      /** Does this field require an intialized bit? */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="722288">needsInitFlag</a>(<a title="Mixin.this.global.Symbol" id="723730">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = {
        <span class="keyword">val</span> <a title="Boolean" id="723731">res</a> = (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37277" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37988" title="(x$1: Boolean)Boolean">value</a> 
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; Boolean">isGetter</a> 
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27072" title="=&gt; Boolean">isInitializedToDefault</a>
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(536870912L)">PARAMACCESSOR</span>)
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(137438953472L)">PRESUPER</span>)
           &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27109" title="=&gt; Boolean">isOuterAccessor</a>)
        
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;needsInitFlag(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27248" title="=&gt; String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> + <a href="#723731" title="Boolean">res</a>)
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\tsym.isGetter: &quot;</span> + <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; Boolean">isGetter</a>) 
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!isInitializedToDefault: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27072" title="=&gt; Boolean">isInitializedToDefault</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2199023255552L)">DEFAULTINIT</span>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(134217728L)">ACCESSOR</span>) + <a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a>)
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!sym.hasFlag(PARAMACCESSOR): &quot;</span> + <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(536870912L)">PARAMACCESSOR</span>))
          //println(&quot;\t!sym.accessed.hasFlag(PRESUPER): &quot; + !sym.accessed.hasFlag(PRESUPER))
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!sym.isOuterAccessor: &quot;</span> + <span title="=&gt; Boolean">!</span><a href="#723730" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27109" title="=&gt; Boolean">isOuterAccessor</a>)
        }
        
        <a href="#723731" title="Boolean">res</a>
      }
      
      /** Adds statements to set the 'init' bit for each field initialized 
       * in the body of a constructor. 
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="722289">addInitBits</a>(<a title="Mixin.this.global.Symbol" id="723903">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="723904">rhs</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
        <a href="#723991" title="Mixin.this.global.Transformer{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26932" title="anonymous class $anon extends Mixin.this.global.Transformer" id="723991">Transformer</a> {
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree],exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]" id="723993">transformStats</a>(<a title="List[Mixin.this.global.Tree]" id="723997">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="Mixin.this.global.Symbol" id="723998">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = {
            <span class="keyword">val</span> <a title="List[Mixin.this.global.erasure.global.Tree]" id="724005">stats1</a> = <a href="#723997" title="(f: (Mixin.this.global.Tree) =&gt; Traversable[Mixin.this.global.erasure.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.erasure.global.Tree],List[Mixin.this.global.Tree]])List[Mixin.this.global.erasure.global.Tree]">stats</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.erasure.global.Tree],List#Coll]">flatMap</span> { <a title="Mixin.this.global.Tree" id="724014">stat</a> =&gt; <a href="#724014" title="Mixin.this.global.Tree">stat</a> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">match</span> {
              <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">case</span> Assign(<a title="Mixin.this.global.Select" id="724017">lhs</a> @ Select(This(_), _), <a title="Mixin.this.global.Tree" id="724029">rhs</a>) =&gt;
                <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="724032">sym</a> = <a href="#723903" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30397" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a>(<a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29853" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#724017" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>))
                  .<a href="../symtab/Symbols.scala.html#27186" title="(cond: (Mixin.this.global.Symbol) =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a>(<a href="#724041" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; Boolean">isGetter</a>)
                <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> (<a href="#724029" title="(x$1: AnyRef)Boolean">rhs</a> == <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
                  List<span title="object Nil">(</span>)
                <span class="keyword">else</span> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> (<a href="#724032" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#722288" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#724032" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <a href="#721825" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#724032" title="Mixin.this.global.Symbol">sym</a>)) { 
                  <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;adding checked getter for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#724032" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="../symtab/Flags.scala.html#10482" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../symtab/Flags.scala.html#29000" title="(flags: Long)String">flagsToString</a>(<a href="#724017" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27150" title="=&gt; Long">flags</a>))
                  <span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span>(<a href="#724014" title="Mixin.this.global.Tree">stat</a>, <a href="#721821" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a>(<a href="#722283" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#723903" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#724032" title="Mixin.this.global.Symbol">sym</a>))))
                } <span class="keyword">else</span> {
                  <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#724014" title="Mixin.this.global.Tree">stat</a>)
                }
              <span title="List[Nothing]" class="keyword">case</span> Apply(<a title="Mixin.this.global.Select" id="724135">setter</a> @ Select(Ident(<a title="Mixin.this.global.Name" id="724143">self</a>), _), <a href="#724149" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)) <span class="keyword">if</span> <a href="#724135" title="Mixin.this.global.Select">setter</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27065" title="=&gt; Boolean">isSetter</a> =&gt;
                // remove initialization for default values
                List<span title="object Nil">(</span>)
              <span title="List[Mixin.this.global.Tree]" class="keyword">case</span> _ =&gt; <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#724014" title="Mixin.this.global.Tree">stat</a>)
            }
            }
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45714" title="(stats: List[Mixin.this.global.Tree],exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]">transformStats</a>(<a href="#724005" title="List[Mixin.this.global.erasure.global.Tree]">stats1</a>, <a href="#723998" title="Mixin.this.global.Symbol">exprOwner</a>)
          }
        }.<a href="../ast/Trees.scala.html#45705" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#723904" title="Mixin.this.global.Tree">rhs</a>)
      }
      
      /** Return the number of bits used by superclass fields.
       *  This number is a conservative approximation of what is actually used:
       *    - fields initialized to the default value don't get a checked initializer
       *      but there is no way to recover this information from types alone.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Int" id="722290">usedBits</a>(<a title="Mixin.this.global.Symbol" id="724268">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>): <span title="Int">Int</span> = {
        <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="724269">isField</a>(<a title="Mixin.this.global.Symbol" id="724272">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = 
          <a href="#724272" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(4L)">PRIVATE</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#724272" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#724272" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>
        
        <span class="keyword">def</span> <a title="(sc: Mixin.this.global.Type,field: Mixin.this.global.Symbol)Boolean" id="724270">needsBitmapField</a>(<a title="Mixin.this.global.Type" id="724279">sc</a>: <a href="../symtab/Types.scala.html#26364" title="Mixin.this.global.Type">Type</a>, <a title="Mixin.this.global.Symbol" id="724280">field</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) =
          <span title="(x$1: Boolean)Boolean">!</span><a href="#724279" title="Mixin.this.global.Type">sc</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
          <a href="#724280" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#724268" title="Mixin.this.global.Symbol">clazz</a> &amp;&amp;
          (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37277" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37988" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#724269" title="(sym: Mixin.this.global.Symbol)Boolean">isField</a>(<a href="#724280" title="Mixin.this.global.Symbol">field</a>) ||
            <a href="#724280" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))
        
        // parents != baseClasses.map(_.tpe): bug #1535
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="724271">fields</a> = <span class="keyword">for</span> {
          <a title="Mixin.this.global.Type" id="724399">sc</a> &lt;- <a href="#724268" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Type]">map</span><span title="(f: (Mixin.this.global.Type) =&gt; Traversable[Mixin.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Type]])List[Mixin.this.global.Symbol]">(</span><a href="#724310" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>)
          <a title="Mixin.this.global.Symbol" id="724416">field</a> &lt;- <a href="#724399" title="Mixin.this.global.Type">sc</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27304" title="=&gt; Iterator[Mixin.this.global.Symbol]">iterator</a>.<a title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]" id="32462">toList</a>
          <span class="keyword">if</span> <a href="#724270" title="(sc: Mixin.this.global.Type,field: Mixin.this.global.Symbol)Boolean">needsBitmapField</a>(<a href="#724399" title="Mixin.this.global.Type">sc</a>, <a href="#724416" title="Mixin.this.global.Symbol">field</a>)
        } <span class="keyword">yield</span> <a href="#724416" title="Mixin.this.global.Symbol">field</a>
        
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Found inherited fields in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#724268" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> + <a href="#724271" title="List[Mixin.this.global.Symbol]">fields</a>)
        <a href="#724271" title="List[Mixin.this.global.Symbol]">fields</a>.<a title="=&gt; Int" id="29114">length</a>
      }
      
      
      /** Fill the map from fields to offset numbers.
       *  Instead of field symbols, the map keeps their getter symbols. This makes
       *  code generation easier later.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="722291">buildFieldPositions</a>(<a title="Mixin.this.global.Symbol" id="724587">clazz</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) {
        <span class="keyword">var</span> <a title="Int" id="724588">fields</a> = <a href="#722290" title="(clazz: Mixin.this.global.Symbol)Int">usedBits</a>(<a href="#724587" title="Mixin.this.global.Symbol">clazz</a>)
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="724607">f</a> &lt;- <a href="#724587" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27304" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit" id="32329">iterator</a> <span class="keyword">if</span> <a href="#722288" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span title="(x$1: Boolean)Boolean">(</span><a href="#724607" title="Mixin.this.global.Symbol">f</a>) || <a href="#724607" title="Mixin.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<a href="#724607" title="Mixin.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#27248" title="(x$1: Any)java.lang.String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> + <a href="#724588" title="Int">fields</a>)
          <a href="#721825" title="(key: Mixin.this.global.Symbol,value: Int)Unit">fieldOffset</a>(<a href="#724607" title="Mixin.this.global.Symbol">f</a>) = <a href="#724588" title="Int">fields</a>
          <a href="#724588" title="Int" id="2985">fields</a> += <span title="Int(1)" class="int">1</span>
        }
      }
      
      <a href="#722291" title="(clazz: Mixin.this.global.Symbol)Unit">buildFieldPositions</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>)
      // begin addNewDefs
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Tree]" id="722292">stats1</a> = <a href="#722287" title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addCheckedGetters</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>, <a href="#722272" title="List[Mixin.this.global.Tree]">stats</a>)

      // for all symbols `sym' in the class definition, which are mixed in:
      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="724681">sym</a> &lt;- <a href="#722271" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27303" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit">toList</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(34359738368L)">MIXEDIN</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">clazz</a> hasFlag <a href="../symtab/Flags.scala.html#28925" title="=&gt; Long">lateINTERFACE</a>) {
            // if current class is a trait interface, add an abstract method for accessor `sym'
            <a href="#722278" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="724687">vparamss</a> =&gt; <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#722271" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) { 
            // if class is not a trait add accessor definitions
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) &amp;&amp; 
                (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(16L)">DEFERRED</span>) || (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <a href="../symtab/Flags.scala.html#28923" title="=&gt; Long">lateDEFERRED</a>))) { 
              // add accessor definitions
              <a href="#722278" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="724701">vparams</a> =&gt; {
                <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="724702">accessedRef</a> = <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
                  <span title="Mixin.this.global.Literal" class="keyword">case</span> MethodType(<a href="#724706" title="(x: List[Mixin.this.global.Symbol])Some[List[Mixin.this.global.Symbol]]">List</a>(), ConstantType(<a title="Mixin.this.global.Constant" id="724717">c</a>)) =&gt; <a href="../ast/Trees.scala.html#49595" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a>(<a href="#724717" title="Mixin.this.global.Constant">c</a>)
                  <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt; 
                    // if it is a mixed-in lazy value, complete the accessor
                    <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(2147483648L)">LAZY</span>) &amp;&amp; <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; Boolean">isGetter</a>) {
                      <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="724757">rhs1</a> = 
                        <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>)
                          <a href="#722285" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Apply*)List[Mixin.this.global.Apply]">List</span>(<a href="../ast/Trees.scala.html#49378" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#721830" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#581202" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>)), <span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span>(<a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42913" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>)))), <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>))
                        <span class="keyword">else</span> {
                          <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="724844">assign</a> = <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Assign)Mixin.this.global.Assign">atPos</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                            <a href="../ast/Trees.scala.html#73379" title="(lhs: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a>(<a href="../ast/Trees.scala.html#26890" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>), <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; Mixin.this.global.Symbol">accessed</a>) /*gen.mkAttributedRef(sym.accessed)*/ ,
                                <a href="../ast/Trees.scala.html#49378" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#721830" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#581202" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>)), <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42913" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>) <a href="#724947" title="Mixin.this.global.gen.global.Tree">::</a> <span title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">Nil</span>))
                          }
                          <a href="#722285" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Assign*)List[Mixin.this.global.Assign]">List</span>(<a href="#724844" title="Mixin.this.global.Assign">assign</a>), <a href="../ast/Trees.scala.html#26890" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>), <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; Mixin.this.global.Symbol">accessed</a>), <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>))
                        }
                      <a href="#724757" title="Mixin.this.global.Tree">rhs1</a>
                    } <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28463" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) {
                      <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                    } <span class="keyword">else</span> {
                      <a href="../ast/Trees.scala.html#26890" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26886" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>), <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27199" title="=&gt; Mixin.this.global.Symbol">accessed</a>)
                    }
                }
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27065" title="=&gt; Boolean">isSetter</a>) {
                  <span class="keyword">val</span> <a title="Boolean" id="725103">isOverriddenSetter</a> = 
                    <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29845" title="(name: Mixin.this.global.Name)Boolean">isTraitSetterName</a><span title="(x$1: Boolean)Boolean">(</span><a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>) &amp;&amp; {
                      <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27223" title="=&gt; List[Mixin.this.global.Symbol]">allOverriddenSymbols</a> <span title="Boolean" class="keyword">match</span> {
                        <span title="Boolean" class="keyword">case</span> <a title="Mixin.this.global.Symbol" id="725111">other</a> :: _ =&gt; 
                          <a href="#581198" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#725111" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#725111" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>), <a href="#722271" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)
                        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
                          <span title="Boolean(false)" class="keyword">false</span>
                      }
                    }
                  <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#725103" title="Boolean">isOverriddenSetter</a>) <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                  <span class="keyword">else</span> <a href="#724702" title="Mixin.this.global.Tree">accessedRef</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
                    <span title="Mixin.this.global.Tree" class="keyword">case</span> Literal(_) =&gt; <a href="#724702" title="Mixin.this.global.Tree">accessedRef</a>
                    <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
                      <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="725126">init</a> = <a href="../ast/Trees.scala.html#73379" title="(lhs: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a>(<a href="#724702" title="Mixin.this.global.Tree">accessedRef</a>, <a href="../ast/Trees.scala.html#26895" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>(<a href="#724701" title="List[Mixin.this.global.Symbol]">vparams</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>)) 
                      <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37277" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37988" title="(x$1: Boolean)Boolean">value</a> &amp;&amp; <a href="#722288" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>))) {
                        <a href="../ast/Trees.scala.html#49279" title="(stats: List[Mixin.this.global.Tree],expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a>(<span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#725126" title="Mixin.this.global.Assign">init</a>, <a href="#722283" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>)))), <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; Mixin.this.global.Literal">UNIT</a>)
                      } <span class="keyword">else</span>
                        <a href="#725126" title="Mixin.this.global.Assign">init</a>
                  }
                } <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>) &amp;&amp; <a href="#722288" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>)) {
                  <a href="#722286" title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree">mkCheckedAccessor</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>,  <a href="#724702" title="Mixin.this.global.Tree">accessedRef</a>, <a href="#721825" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>), <a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
                } <span class="keyword">else</span>
                  <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42920" title="(tree: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkCheckInit</a>(<a href="#724702" title="Mixin.this.global.Tree">accessedRef</a>)
              })
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27076" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag LIFTED <span title="Long(17246978048L)">|</span> BRIDGE)) {
              // add modules 
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.ValDef" id="725258">vdef</a> = <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42927" title="(accessor: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.ValDef">mkModuleVarDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>)
              <a href="#722277" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#722276" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>), <a href="#725258" title="Mixin.this.global.gen.global.ValDef">vdef</a>)
              <a href="#722277" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#722276" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>), <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42928" title="(accessor: Mixin.this.global.gen.global.Symbol,mvar: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.DefDef">mkCachedModuleAccessDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>, <a href="#725258" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</a>))
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) {
              // add fields
              <a href="#722277" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#722276" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>), <a href="../ast/Trees.scala.html#26782" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>))
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) {
              // add superaccessors
              <a href="#722278" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="725303">vparams</a> =&gt; <a href="../ast/Trees.scala.html#26761" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
            } <span class="keyword">else</span> {
              // add forwarders
              <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27202" title="(x$1: AnyRef)Boolean">alias</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#724681" title="Mixin.this.global.Symbol">sym</a>)
              <a href="#722278" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="725322">vparams</a> =&gt;
                <a href="../ast/Trees.scala.html#49378" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#721830" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#724681" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27202" title="=&gt; Mixin.this.global.Symbol">alias</a>), <a href="../Global.scala.html#39263" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42913" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#722271" title="Mixin.this.global.Symbol">clazz</a>) <a href="#725343" title="Mixin.this.global.gen.global.Tree">::</a> <span title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">(</span><a href="#725322" title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Ident]">vparams</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List#Coll]">map</span> <a href="../ast/Trees.scala.html#26895" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>)))
            }
          }
        }
      }
      <a href="#722292" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#722279" title="(stats: List[Mixin.this.global.Tree],newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a>(<a href="#722292" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#722274" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a>.<a title="=&gt; List[Mixin.this.global.Tree]" id="61864">toList</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#722271" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27082" title="=&gt; Boolean">isTrait</a>) <a href="#722292" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#722292" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Tree,List[Mixin.this.global.Tree],List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">stats1</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Tree,List[Mixin.this.global.Tree],List#Coll]">map</span> <a href="#722280" title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree">completeSuperAccessor</a>
      <a href="#722292" title="List[Mixin.this.global.Tree]">stats1</a>
    }

    /** The transform that gets applied to a tree after it has been completely
     *  traversed and possible modified by a preTransform.
     *  This step will
     *    - change every node type that refers to an implementation class to its 
     *      corresponding interface, unless the node's symbol is an implementation class.
     *    - change parents of templates to conform to parents in the symbol info
     *    - add all new definitions to a class or interface
     *    - remove widening casts
     *    - change calls to methods which are defined only in implementation classes
     *      to static calls of methods in implementation modules (@see staticCall)
     *    - change super calls to methods in implementation classes to static calls
     *      (@see staticCall)
     *    - change `this' in implementation modules to references to the self parameter
     *    - refer to fields in some implementation class vie an abstract method in the interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="721832">postTransform</a>(<a title="Mixin.this.global.Tree" id="725511">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="725513">sym</a> = <a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>

      // change every node type that refers to an implementation class to its
      // corresponding interface, unless the node's symbol is an implementation class.
      <span title="Unit" class="keyword">if</span> (<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27120" title="(x$1: Boolean)Boolean">isImplClass</a> &amp;&amp;
          (<span title="(x$1: Boolean)Boolean">(</span><a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> eq <span title="Null(null)" class="keyword">null</span>) || <span title="=&gt; Boolean">!</span><a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>))
        <a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29550" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Mixin.this.global.Type">tpe</a>);

      <a href="#725511" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.Template" class="keyword">case</span> Template(<a title="List[Mixin.this.global.Tree]" id="725530">parents</a>, <a title="Mixin.this.global.ValDef" id="725531">self</a>, <a title="List[Mixin.this.global.Tree]" id="725532">body</a>) =&gt;
          // change parents of templates to conform to parents in the symbol info
          <span class="keyword">val</span> <a title="List[Mixin.this.global.TypeTree]" id="725535">parents1</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="(f: (Mixin.this.global.Type) =&gt; Mixin.this.global.TypeTree)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree],List[Mixin.this.global.Type]])List[Mixin.this.global.TypeTree]">parents</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree],List#Coll]">map</span> (<a title="Mixin.this.global.Type" id="725545">t</a> =&gt; <a href="../ast/Trees.scala.html#26903" title="(tp: Mixin.this.global.Type)Mixin.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.TypeTree">(</a><a href="#725545" title="Mixin.this.global.Type">t</a>) setPos <a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)

          // add all new definitions to current class or interface
          <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="725536">body1</a> = <a href="#721831" title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addNewDefs</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#725532" title="List[Mixin.this.global.Tree]">body</a>)

          <a href="../ast/Trees.scala.html#45697" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48803" title="(tree: Mixin.this.global.Tree,parents: List[Mixin.this.global.Tree],self: Mixin.this.global.ValDef,body: List[Mixin.this.global.Tree])Mixin.this.global.Template">Template</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>, <a href="#725535" title="List[Mixin.this.global.TypeTree]">parents1</a>, <a href="#725531" title="Mixin.this.global.ValDef">self</a>, <a href="#725536" title="List[Mixin.this.global.Tree]">body1</a>)

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(TypeApply(<a title="Mixin.this.global.Select" id="725650">sel</a> @ Select(<a title="Mixin.this.global.Tree" id="725655">qual</a>, <a title="Mixin.this.global.Name" id="725656">name</a>), <a href="#725660" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a title="Mixin.this.global.Tree" id="725669">targ</a>)), <a href="#725674" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>())
        <span class="keyword">if</span> (<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28711" title="=&gt; Mixin.this.global.Symbol">Object_asInstanceOf</a> &amp;&amp; (<a href="#725655" title="Mixin.this.global.Tree">qual</a>.<a href="../symtab/Types.scala.html#30421" title="(that: Mixin.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#725669" title="Mixin.this.global.Tree">targ</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Mixin.this.global.Type">tpe</a>)) =&gt;
          // remove widening casts
          <a href="#725655" title="Mixin.this.global.Tree">qual</a>

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(Select(<a title="Mixin.this.global.Tree" id="725704">qual</a>, _), <a title="List[Mixin.this.global.Tree]" id="725707">args</a>) =&gt;
          /** Changes &lt;code&gt;qual.m(args)&lt;/code&gt; where m refers to an implementation
           *  class method to Q.m(S, args) where Q is the implementation module of
           *  &lt;code&gt;m&lt;/code&gt; and S is the self parameter for the call, which
           *  is determined as follows:
           *     - if qual != super, qual itself
           *     - if qual == super, and we are in an implementation class,
           *       the current self parameter.
           *     - if qual == super, and we are not in an implementation class, `this'
           */
          <span class="keyword">def</span> <a title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree" id="725710">staticCall</a>(<a title="Mixin.this.global.Symbol" id="725711">target</a>: <a href="../symtab/Symbols.scala.html#26286" title="Mixin.this.global.Symbol">Symbol</a>) = {
            <span title="Unit" class="keyword">if</span> (<a href="#725711" title="(x$1: AnyRef)Boolean">target</a> == <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)
              <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#725513" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30403" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23287" title="=&gt; scala.tools.nsc.Phase">prev</a>)(<a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27163" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30403" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; Mixin.this.global.Name">name</a>).<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>);//debug
            
            <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#49378" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#721830" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#725711" title="Mixin.this.global.Symbol">target</a>), <a href="#721829" title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree">transformSuper</a>(<a href="#725704" title="Mixin.this.global.Tree">qual</a>) <a href="#725796" title="Mixin.this.global.Tree">::</a> <a href="#725707" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">args</a>))
          }
          <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#581190" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>)) {
            // change calls to methods which are defined only in implementation
            // classes to static calls of methods in implementation modules
            <a href="#725710" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>)
          } <span class="keyword">else</span> <a href="#725704" title="Mixin.this.global.Tree">qual</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
            <span title="Mixin.this.global.Tree" class="keyword">case</span> Super(_, <a title="Mixin.this.global.Name" id="725818">mix</a>) =&gt;
              // change super calls to methods in implementation classes to static calls.
              // Transform references super.m(args) as follows:
              //  - if `m' refers to a trait, insert a static call to the correspondign static
              //    implementation
              //  - otherwise return tree unchanged
              <span title="Unit" class="keyword">if</span> (<a href="#725818" title="(x$1: AnyRef)Boolean">mix</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29871" title="=&gt; Mixin.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; Mixin.this.global.Name">toTypeName</a> &amp;&amp; <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>)
                <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;illegal super in trait: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#786682" title="=&gt; (x$1: MixinTransformer.this.type)Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#725511" title="Mixin.this.global.Tree">tree</a>);
              <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">owner</a> hasFlag <a href="../symtab/Flags.scala.html#28925" title="=&gt; Long">lateINTERFACE</a>) {
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(134217728L)">ACCESSOR</span>)) {
                  <span title="(assertion: Boolean)Unit">assert</span>(<a href="#725707" title="List[Mixin.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>)
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="725847">sym1</a> = <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27222" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)
                  <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)((<a href="#721829" title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree">transformSuper</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#725704" title="Mixin.this.global.Tree">qual</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#725847" title="Mixin.this.global.Symbol">sym1</a>)())
                }
                <span class="keyword">else</span> {
                  <a href="#725710" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a>(<a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23287" title="=&gt; scala.tools.nsc.Phase">prev</a>)(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27222" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="#581195" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>))))
                }
              } <span class="keyword">else</span> {
                <span title="(assertion: Boolean)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a>)
                <a href="#725511" title="Mixin.this.global.Tree">tree</a>
              }
            <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
              <a href="#725511" title="Mixin.this.global.Tree">tree</a>
          }

        <span title="Mixin.this.global.gen.global.Tree" class="keyword">case</span> This(_) <span class="keyword">if</span> <a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27120" title="=&gt; Boolean">isImplClass</a> =&gt;
          // change `this' in implementation modules to references to the self parameter
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="../ast/Trees.scala.html#45699" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)
          <a href="#721828" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">selfRef</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Select(Super(_, _), <a title="Mixin.this.global.Name" id="725941">name</a>) =&gt;
          <a href="#725511" title="Mixin.this.global.Tree">tree</a>

        <span title="Mixin.this.global.erasure.global.Tree" class="keyword">case</span> Select(<a title="Mixin.this.global.Tree" id="725948">qual</a>, <a title="Mixin.this.global.Name" id="725949">name</a>) <span class="keyword">if</span> <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27120" title="(x$1: Boolean)Boolean">isImplClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#581190" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>, <a title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" id="8170" class="string">&quot;no method allowed here: %s%s %s&quot;</a>.<a title="(args: Any*)String" id="30950">format</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>, <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27123" title="=&gt; Boolean">isImplOnly</a>, <a href="../symtab/Flags.scala.html#29000" title="(flags: Long)String">flagsToString</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27150" title="=&gt; Long">flags</a>)))

          // refer to fields in some implementation class via an abstract
          // getter in the interface.
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="725956">iface</a> = <a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>).<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="725957">getter</a> = <a href="#725513" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27226" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#725956" title="Mixin.this.global.Symbol">iface</a>)
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#725957" title="(x$1: AnyRef)Boolean">getter</a> != <a href="../symtab/Symbols.scala.html#26293" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)
          <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)((<a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">qual</a> <a href="../ast/TreeDSL.scala.html#44955" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#725957" title="Mixin.this.global.Symbol">getter</a>)())

        <span title="Mixin.this.global.erasure.global.Tree" class="keyword">case</span> Assign(Apply(<a title="Mixin.this.global.Select" id="726045">lhs</a> @ Select(<a title="Mixin.this.global.Tree" id="726050">qual</a>, _), <a href="#726054" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>()), <a title="Mixin.this.global.Tree" id="726066">rhs</a>) =&gt;
          // assign to fields in some implementation class via an abstract
          // setter in the interface.
          <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="726069">setter</a> = <a href="#726045" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27228" title="(base: Mixin.this.global.Symbol,hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><a href="../symtab/Symbols.scala.html#27007" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a>
            <a href="#581192" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#726045" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; Mixin.this.global.Type">tpe</a>).<a href="../symtab/Types.scala.html#30366" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>, 
            <a href="#581200" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#726045" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; Mixin.this.global.Symbol">symbol</a>)
          ) setPos <a href="#726045" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>
          
          <a href="#721823" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#725511" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { (<a href="../ast/TreeDSL.scala.html#45317" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">qual</a> <a href="../ast/TreeDSL.scala.html#44955" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#726069" title="=&gt; Mixin.this.global.Symbol">setter</a>)(<a href="#726066" title="Mixin.this.global.Tree">rhs</a>) }

        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#725511" title="Mixin.this.global.Tree">tree</a>
      }
    }

    /** The main transform method.
     *  This performs pre-order traversal preTransform at mixin phase;
     *  when coming back, it performs a postTransform at phase after.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="721833">transform</a>(<a title="Mixin.this.global.Tree" id="722761">tree</a>: <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">try</span> { //debug
        <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Typer" id="726126">outerTyper</a> = <a href="#721821" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="726127">tree1</a> = <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#721827" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">preTransform</a>(<a href="#722761" title="Mixin.this.global.Tree">tree</a>))
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="726128">res</a> = <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#721832" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">postTransform</a>(<a href="#726127" title="Mixin.this.global.Tree">tree1</a>))
        // needed when not flattening inner classes. parts after an
        // inner class will otherwise be typechecked with a wrong scope
        <a href="#721821" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="#726126" title="Mixin.this.global.erasure.Typer">outerTyper</a>
        <a href="#726128" title="Mixin.this.global.Tree">res</a>
      } <span class="keyword">catch</span> {
        <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="726149">ex</a>: <a title="Throwable" id="1908">Throwable</a> =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#722761" title="Mixin.this.global.Tree">tree</a>)
          <span title="Nothing" class="keyword">throw</span> <a href="#726149" title="java.lang.Throwable">ex</a>
      }
    }
  }
}

        </pre>
    </body>
</html>