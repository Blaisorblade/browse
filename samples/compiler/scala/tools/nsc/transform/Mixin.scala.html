<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/Mixin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */
// $Id: Mixin.scala 18406 2009-07-30 07:41:22Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.tools.nsc.util.{Position,NoPosition}
<span class="keyword">import</span> scala.collection.mutable.HashMap

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mixin extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="14392">Mixin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#13951" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#11895" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> CODE._

  /** The name of the phase: */
  <span class="keyword">val</span> <a title="String" id="579619">phaseName</a>: <a title="String" id="1605">String</a> = <span title="java.lang.String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>

  /** The phase might set the fiollowing new flags: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="579621">phaseNewFlags</a>: <a title="Long" id="2184">Long</a> = <a href="../symtab/Flags.scala.html#28741" title="(x$1: Long)Long">lateMODULE</a> | <a href="../symtab/Flags.scala.html#28755" title="=&gt; Long">notABSTRACT</a>

  /** This map contains a binding (class -&gt; info) if
   *  the class with this info at phase mixinPhase has been treated for mixin composition 
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]" id="579622">treatedClassInfos</a> = collection.mutable.<a title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]" id="24790">Map</a><span title="(elems: (Mixin.this.global.Symbol, Mixin.this.global.Type)*)scala.collection.mutable.Map[Mixin.this.global.Symbol,Mixin.this.global.Type]">[</span><a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a>]()

// --------- helper functions -----------------------------------------------

  /** A member of a trait is implemented statically if its implementation after the
   *  mixin transform is in the static implementation module. To be statically
   *  implemented, a member must be a method that belonged to the trait's implementation class
   *  before (e.g. it is not abstract). Not statically implemented are
   *   - non-private modules: these are implemented directly in the mixin composition class
   *     (private modules, on the other hand, are implemented statically, but their
   *      module variable is not. all such private modules are lifted, because 
   *      non-lifted private modules have been eliminated in ExplicitOuter)
   *   - field accessors and superaccessors, except for lazy value accessors which become initializer
   *     methods in the impl class (because they can have arbitrary initializers)
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="579624">isImplementedStatically</a>(<a title="Mixin.this.global.Symbol" id="718568">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#718568" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26961" title="(x$1: Boolean)Boolean">isImplClass</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#718568" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
    (<span title="(x$1: Boolean)Boolean">!</span><a href="#718568" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a> || <a href="#718568" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(PRIVATE <span title="Long(17179869188L)">|</span> LIFTED)) &amp;&amp;
    (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag (ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR)) || <a href="#718568" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))

  /** A member of a trait is static only if it belongs only to the
   *  implementation class, not the interface, and it is implemented
   *  statically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="579625">isStaticOnly</a>(<a title="Mixin.this.global.Symbol" id="718631">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#579624" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span title="(x$1: Boolean)Boolean">(</span><a href="#718631" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <a href="#718631" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26964" title="=&gt; Boolean">isImplOnly</a>

  /** A member of a trait is forwarded if it is implemented statically and it
   *  is also visible in the trait's interface. In that case, a forwarder to
   *  the member's static implementation will be added to the class that
   *  inherits the trait.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="579626">isForwarded</a>(<a title="Mixin.this.global.Symbol" id="718638">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
    <a href="#579624" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span title="(x$1: Boolean)Boolean">(</span><a href="#718638" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#718638" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26964" title="=&gt; Boolean">isImplOnly</a>

  /** Maps the type of an implementation class to its interface;
   *  maps all other types to themselves.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="579627">toInterface</a>(<a title="Mixin.this.global.Type" id="718645">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a> =
    <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40200" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#718645" title="Mixin.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#27057" title="=&gt; Mixin.this.global.Symbol">toInterface</a>).<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>

  /** Maps all parts of this type that refer to implementation classes to
   *  their corresponding interfaces.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.TypeMap" id="579628">toInterfaceMap</a> = <a href="#718441" title="Mixin.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26320" title="anonymous class $anon extends Mixin.this.global.TypeMap" id="718441">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="718443">apply</a>(<a title="Mixin.this.global.Type" id="718447">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#42722" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">mapOver</a>( <a href="#718447" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> {
      <span title="Mixin.this.global.Type" class="keyword">case</span> TypeRef(<a title="Mixin.this.global.Type" id="718523">pre</a>, <a title="Mixin.this.global.Symbol" id="718524">sym</a>, <a title="List[Mixin.this.global.Type]" id="718525">args</a>) <span class="keyword">if</span> (<a href="#718524" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>) =&gt;
        <a href="../symtab/Types.scala.html#26295" title="(pre: Mixin.this.global.Type,sym: Mixin.this.global.Symbol,args: List[Mixin.this.global.Type])Mixin.this.global.Type">typeRef</a>(<a href="#718523" title="Mixin.this.global.Type">pre</a>, <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40200" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#718524" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27057" title="=&gt; Mixin.this.global.Symbol">toInterface</a>), <a href="#718525" title="List[Mixin.this.global.Type]">args</a>)
      <span title="Mixin.this.global.Type" class="keyword">case</span> _ =&gt; <a href="#718447" title="Mixin.this.global.Type">tp</a>
    })
  }

  /** The implementation class corresponding to a currently compiled interface.
   *  todo: try to use Symbol.implClass instead?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="579630">implClass</a>(<a title="Mixin.this.global.Symbol" id="718657">iface</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = {
    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="718659">impl</a> = <a href="#718657" title="Mixin.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#27041" title="=&gt; Mixin.this.global.Symbol">implClass</a>
    <span title="Mixin.this.global.Symbol" class="keyword">if</span> (<a href="#718659" title="(x$1: AnyRef)Boolean">impl</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#718659" title="Mixin.this.global.Symbol">impl</a> <span class="keyword">else</span> <a href="../Global.scala.html#39123" title="object Mixin.this.global.erasure">erasure</a>.<a href="AddInterfaces.scala.html#42423" title="(iface: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.global.Symbol">implClass</a>(<a href="#718657" title="Mixin.this.global.Symbol">iface</a>)
  }

  /** Returns the symbol that is accessed by a super-accessor in a mixin composition.
   *
   *  @param base       The class in which everything is mixed together
   *  @param member     The symbol statically referred to by the superaccessor in the trait
   *  @param mixinClass The mixin class that produced the superaccessor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol,mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="579631">rebindSuper</a>(<a title="Mixin.this.global.Symbol" id="718669">base</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="718670">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="718671">mixinClass</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> =
    <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40190" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Symbol]" id="718679">bcs</a> = <a href="#718669" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<a title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)List[Mixin.this.global.Symbol]" id="24297">dropWhile</a>(<a href="#718671" title="Mixin.this.global.Symbol">mixinClass</a> <a href="#718689" title="(x$1: AnyRef)Boolean">!=</a>).<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="718680">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;starting rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718669" title="Mixin.this.global.Symbol">base</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718670" title="Mixin.this.global.Symbol">member</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718670" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718671" title="Mixin.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#718669" title="Mixin.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)
      <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#718680" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#718681" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="718733">other</a> = <a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30212" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a>(<a href="#718670" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>);
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;rebindsuper &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718733" title="Mixin.this.global.Symbol">other</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718733" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#718733" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>)
        }
        <a href="#718680" title="Mixin.this.global.Symbol">sym</a> = <a href="#718670" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27063" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>).<a href="../symtab/Symbols.scala.html#27027" title="(cond: (Mixin.this.global.Symbol) =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a>(<a title="Mixin.this.global.Symbol" id="718761">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#718761" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(DEFERRED <span title="Long(67108880L)">|</span> BRIDGE))
        <a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a> = <a href="#718679" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      }
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#718680" title="(x$1: AnyRef)Boolean">sym</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#718670" title="Mixin.this.global.Symbol">member</a>)
      <a href="#718680" title="Mixin.this.global.Symbol">sym</a>
    }

// --------- type transformation -----------------------------------------------

  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol)Boolean" id="579632">isConcreteAccessor</a>(<a title="Mixin.this.global.Symbol" id="718821">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = 
    <span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) &amp;&amp; 
    (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(16L)">DEFERRED</span>) || (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>))

  /** Is member overridden (either directly or via a bridge) in base class sequence `bcs'? */
  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean" id="579633">isOverriddenAccessor</a>(<a title="Mixin.this.global.Symbol" id="718834">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol]" id="718835">bcs</a>: <span title="List[Mixin.this.global.Symbol]">List</span>[Symbol]): <span title="Boolean">Boolean</span> = <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a>(<a href="../SubComponent.scala.html#39639" title="=&gt; scala.tools.nsc.Phase">ownPhase</a>) {
    <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Boolean" id="718843">hasOverridingAccessor</a>(<a title="Mixin.this.global.Symbol" id="718844">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = {
      <a href="#718844" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30212" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a>(<a href="#718834" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>).<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)Boolean">exists</span>(
        <a title="Mixin.this.global.Symbol" id="718853">sym</a> =&gt; 
          <a href="#579632" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span title="(x$1: Boolean)Boolean">(</span><a href="#718853" title="Mixin.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> 
          <span title="=&gt; Boolean">!</span><a href="#718853" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(34359738368L)">MIXEDIN</span>) &amp;&amp;
          <a href="../symtab/Types.scala.html#26418" title="(tp1: Mixin.this.global.Type,tp2: Mixin.this.global.Type,alwaysMatchSimple: Boolean)Boolean">matchesType</a>(<a href="#718853" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#718834" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span>))
    }
    <a href="#718835" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="(x$1: AnyRef)Boolean">head</span> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#718834" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a> &amp;&amp; 
    (<a href="#718843" title="(clazz: Mixin.this.global.Symbol)Boolean">hasOverridingAccessor</a><span title="(x$1: Boolean)Boolean">(</span><a href="#718835" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>) || <a href="#579633" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#718834" title="Mixin.this.global.Symbol">member</a>, <a href="#718835" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>))
  }

  /** Add given member to given class, and mark member as mixed-in.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="579634">addMember</a>(<a title="Mixin.this.global.Symbol" id="718888">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="718889">member</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = {
    <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new member of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718888" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> + <a href="#718889" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27096" title="=&gt; String">defString</a>)
    <a href="#718888" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">decls</a> enter <a href="#718889" title="Mixin.this.global.Symbol">member</a>
    <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)member.type">member</a> setFlag <span title="Long(34359738368L)">MIXEDIN</span>
  }

  <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="579635">needsExpandedSetterName</a>(<a title="Mixin.this.global.Symbol" id="718914">field</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
    <span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) &amp;&amp;
    (<span title="Boolean" class="keyword">if</span> (<a href="#718914" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4194304L)">STABLE</span>) <span class="keyword">else</span> <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4096L)">MUTABLE</span>))

  /** Add getters and setters for all non-module fields of an implementation
   *  class to its interface unless they are already present. This is done
   *  only once per class. The mixedin flag is used to remember whether late
   *  members have been added to an interface.
   *    - lazy fields don't get a setter.
   *  
   *  @param clazz ...
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="579636">addLateInterfaceMembers</a>(<a title="Mixin.this.global.Symbol" id="718925">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: AnyRef)Boolean">(</span><a href="#579622" title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">treatedClassInfos</a> get <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>) != <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>)) {
      <a href="#579622" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Type)Unit">treatedClassInfos</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>) = <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="../symtab/SymbolTable.scala.html#26088" title="(x$1: AnyRef)Boolean">phase</a> == <a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40200" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)

      /** Create a new getter. Getters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="718942">newGetter</a>(<a title="Mixin.this.global.Symbol" id="718960">field</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = {
        //println(&quot;creating new getter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newMethod</a>(<a href="#718960" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29667" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#718960" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>))
          .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<a href="#718960" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26991" title="(x$1: Int)Long">flags</a> <span title="(x$1: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>(PRIVATE <span title="Int(524292)">|</span> LOCAL) <span title="(x$1: Long)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x$1: Int)Long">|</span> <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a> | 
                     (<span title="Int" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">field</a> hasFlag <span title="Long(4096L)">MUTABLE</span>) <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(4194304)">STABLE</span>))
          .<a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#718960" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>))
      }

      /** Create a new setter. Setters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="718943">newSetter</a>(<a title="Mixin.this.global.Symbol" id="719038">field</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = {
        //println(&quot;creating new setter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Mixin.this.global.Name" id="719039">setterName</a> = <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29665" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterToSetter</a>(<a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29667" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#719038" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>))
        <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="719040">setter</a> = <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newMethod</a>(<a href="#719038" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#719039" title="Mixin.this.global.Name">setterName</a>)
          .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<a href="#719038" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26991" title="(x$1: Int)Long">flags</a> <span title="(x$1: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>(PRIVATE <span title="Int(524292)">|</span> LOCAL) <span title="(x$1: Long)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> | <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>)
        <a href="#719040" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)setter.type">setInfo</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(<a href="#719040" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#26882" title="(argtypes: List[Mixin.this.global.Type])List[Mixin.this.global.Symbol]">newSyntheticValueParams</a>(<span title="(xs: Mixin.this.global.Type*)List[Mixin.this.global.Type]">List</span>(<a href="#719038" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>)), <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>))
        <span title="Unit" class="keyword">if</span> (<a href="#579635" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#719038" title="Mixin.this.global.Symbol">field</a>)) {
          //println(&quot;creating expanded setter from &quot;+field)
          <a href="#719040" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: Mixin.this.global.Name)Unit">name</a> = <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27075" title="(simpleSetterName: Mixin.this.global.Name)Mixin.this.global.Name">expandedSetterName</a>(<a href="#719040" title="Mixin.this.global.TermSymbol">setter</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>)
        }
        <a href="#719040" title="Mixin.this.global.TermSymbol">setter</a>
      }

      <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a> // make sure info is up to date, so that implClass is set.
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="718944">impl</a> = <a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>)
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#718944" title="(x$1: AnyRef)Boolean">impl</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)

      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="719154">member</a> &lt;- <a href="#718944" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
        <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26965" title="=&gt; Boolean">isModuleVar</a>) {
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26895" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26953" title="=&gt; Boolean">isDeferred</a>, <a href="#719154" title="Mixin.this.global.Symbol">member</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">(</a><a href="#718944" title="Mixin.this.global.Symbol">impl</a>) hasFlag <span title="Long(4L)">PRIVATE</span>) {
            <a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27073" title="(base: Mixin.this.global.Symbol)Unit">makeNotPrivate</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>) // this will also make getter&amp;setter not private
          }
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719159">getter</a> = <a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>)
          <span title="Any" class="keyword">if</span> (<a href="#719159" title="(x$1: AnyRef)Boolean">getter</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>, <a href="#718942" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newGetter</a>(<a href="#719154" title="Mixin.this.global.Symbol">member</a>))
          <span title="Any" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26251" title="Mixin.this.global.ConstantType">ConstantType</a>] &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719201">setter</a> = <a href="#719154" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27069" title="(base: Mixin.this.global.Symbol,hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>, <a href="#579635" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#719154" title="Mixin.this.global.Symbol">member</a>))
            <span title="Any" class="keyword">if</span> (<a href="#719201" title="(x$1: AnyRef)Boolean">setter</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#718925" title="Mixin.this.global.Symbol">clazz</a>, <a href="#718943" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newSetter</a>(<a href="#719154" title="Mixin.this.global.Symbol">member</a>))
          }
        }
      }
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;new defs of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#718925" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> + <a href="#718925" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>);
    }
  }

  /** Map a lazy, mixedin field accessor to it's trait member accessor */
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="579637">initializer</a> = <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]">HashMap</span>[Symbol, Symbol]
  
  /** Add all members to be mixed in into a (non-trait-) class
   *  These are:
   *    for every mixin trait T that is not also inherited by the superclass:
   *     add late interface members to T and then:
   *      - if a member M of T is forwarded to the implementation class, add
   *        a forwarder for M unless one exists already.
   *        The alias of the forwarder is the static member it forwards to.
   *      - for every abstract accessor in T, add a field and an implementation for that acessor
   *      - for every super accessor in T, add an implementation of that accessor
   *      - for every module in T, add a module
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit" id="579639">addMixedinMembers</a>(<a title="Mixin.this.global.Symbol" id="719250">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.CompilationUnit" id="719251">unit</a> : <a href="../CompilationUnits.scala.html#39196" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>) {
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">clazz</a> hasFlag <span title="Long(1048576L)">JAVA</span>) &amp;&amp; <span title="(x$1: AnyRef)Boolean">(</span><a href="#579622" title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">treatedClassInfos</a> get <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>) != <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>)) {
      <a href="#579622" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Type)Unit">treatedClassInfos</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>) = <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>

      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>, <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>)
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="=&gt; List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>)

      // first complete the superclass with mixed in members
      <a href="#579639" title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27048" title="=&gt; Mixin.this.global.Symbol">superClass</a>,<a href="#719251" title="Mixin.this.global.CompilationUnit">unit</a>)

      //Console.println(&quot;adding members of &quot; + clazz.info.baseClasses.tail.takeWhile(superclazz !=) + &quot; to &quot; + clazz);//DEBUG

      /** Mix in members of implementation class mixinClass into class clazz */
      <span class="keyword">def</span> <a title="(impl: Mixin.this.global.Symbol,iface: Mixin.this.global.Symbol)Unit" id="719272">mixinImplClassMembers</a>(<a title="Mixin.this.global.Symbol" id="719299">impl</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="719300">iface</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) {
        <span title="(assertion: Boolean)Unit">assert</span> (<a href="#719299" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>)
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="719323">member</a> &lt;- <a href="#719299" title="Mixin.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
          <span title="Any" class="keyword">if</span> (<a href="#579626" title="(sym: Mixin.this.global.Symbol)Boolean">isForwarded</a>(<a href="#719323" title="Mixin.this.global.Symbol">member</a>)) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719326">imember</a> = <a href="#719323" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27062" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overriddenSymbol</a>(<a href="#719300" title="Mixin.this.global.Symbol">iface</a>)
            //Console.println(&quot;mixin member &quot;+member+&quot;:&quot;+member.tpe+member.locationString+&quot; &quot;+imember+&quot; &quot;+imember.overridingSymbol(clazz)+&quot; to &quot;+clazz+&quot; with scope &quot;+clazz.info.decls)//DEBUG
            <span title="Any" class="keyword">if</span> (<a href="#719326" title="Mixin.this.global.Symbol">imember</a>.<a href="../symtab/Symbols.scala.html#27063" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>) <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a> &amp;&amp;
                <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30256" title="(name: Mixin.this.global.Name,excludedFlags: Int,requiredFlags: Long,stableOnly: Boolean)(from: Mixin.this.global.Symbol)Mixin.this.global.Symbol">findMember</a>(<a href="#719323" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>, <span title="Int(0)" class="int">0</span>, <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>, <span title="Boolean(false)" class="keyword">false</span>)(<a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>).<a href="../symtab/Symbols.scala.html#27025" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<a title="(elem: Any)Boolean" id="25609">contains</a>(<a href="#719326" title="Mixin.this.global.Symbol">imember</a>)) {
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719353">member1</a> = <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(
                    <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>,
                    <a href="#719323" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27029" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>) <a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)Mixin.this.global.Symbol">setPos</a> <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a> resetFlag (<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>))
                  <a href="#719353" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]T0">asInstanceOf</span><a href="../symtab/Symbols.scala.html#29494" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">[</a><a href="../symtab/Symbols.scala.html#26128" title="Mixin.this.global.TermSymbol">TermSymbol</a>] setAlias <a href="#719323" title="Mixin.this.global.Symbol">member</a>;
                }
          }
        }
      }

      /** Mix in members of trait mixinClass into class clazz. Also,
       *  for each lazy field in mixinClass, add a link from its mixed in member to it's 
       *  initializer method inside the implclass.
       */
      <span class="keyword">def</span> <a title="(mixinClass: Mixin.this.global.Symbol)Unit" id="719273">mixinTraitMembers</a>(<a title="Mixin.this.global.Symbol" id="719404">mixinClass</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) {
        // For all members of a trait's interface do:
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="719423">member</a> &lt;- <a href="#719404" title="Mixin.this.global.Symbol">mixinClass</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (Mixin.this.global.Symbol) =&gt; Any)Unit">toList</a>) {
          <span title="Any" class="keyword">if</span> (<a href="#579632" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a>(<a href="#719423" title="Mixin.this.global.Symbol">member</a>)) {
            <span title="Any" class="keyword">if</span> (<a href="#579633" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#719423" title="Mixin.this.global.Symbol">member</a>, <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)) {
              <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a title="(x: Any)Unit" id="8057">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;!!! is overridden val: &quot;</span>+<a href="#719423" title="Mixin.this.global.Symbol">member</a>)
            } <span class="keyword">else</span> {
              // mixin field accessors
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719436">member1</a> = <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(
                <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>,
                <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27029" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>)
                  <a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)Mixin.this.global.Symbol">setPos</a> <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>
                  resetFlag (<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>))
              <span title="Unit" class="keyword">if</span> (<a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
                <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="719477">init</a> = <a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#719404" title="Mixin.this.global.Symbol">mixinClass</a>).<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30211" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a>(<a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>)
                <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#719477" title="(x$1: AnyRef)Boolean">init</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Could not find initializer for &quot;</span> + <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>)
                <a href="#579637" title="(key: Mixin.this.global.Symbol,value: Mixin.this.global.Symbol)Unit" id="44386">initializer</a>(<a href="#719436" title="Mixin.this.global.Symbol">member1</a>) = <a href="#719477" title="Mixin.this.global.Symbol">init</a>
              }
              <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26906" title="=&gt; Boolean">isSetter</a>)
                <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> {
                  <span title="Unit" class="keyword">case</span> MethodType(<span title="object Nil">Nil</span>, ConstantType(_)) =&gt;
                    // member is a constant; only getter is needed
                    ;
                  <span title="Unit" class="keyword">case</span> MethodType(<span title="object Nil">Nil</span>, TypeRef(_, <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>, _)) =&gt;
                    // member is a value of type unit. No field needed
                    ;
                  <span title="Mixin.this.global.Symbol" class="keyword">case</span> _ =&gt;
                    // otherwise mixin a field as well
                    <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>,
                              <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26863" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">(</a><a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29664" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterToLocal</a>(<a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>))
                              <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a> (LOCAL <span title="(x$1: Long)Long">|</span> PRIVATE | <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26995" title="(mask: Long)Long">getFlag</a>(MUTABLE <span title="Long(2147487744L)">|</span> LAZY))
                              <a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setFlag</a> (<span title="Long" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(4194304L)">STABLE</span>)) <span title="Long(4096L)">MUTABLE</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span>)
                              <a href="../symtab/Symbols.scala.html#26855" title="(annots: List[Mixin.this.global.AnnotationInfoBase])Mixin.this.global.TermSymbol">setInfo</a> <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>
                              setAnnotations <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26854" title="=&gt; List[Mixin.this.global.AnnotationInfo]">annotations</a>)
                }
            }
          } <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) { // mixin super accessors
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719615">member1</a> = <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a><a href="#719250" title="Mixin.this.global.Symbol">clazz</a>, <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27029" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>)) setPos <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#719615" title="Mixin.this.global.Symbol">member1</a>.<a href="../symtab/Symbols.scala.html#27043" title="(x$1: AnyRef)Boolean">alias</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#719615" title="Mixin.this.global.Symbol">member1</a>)
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="719616">alias1</a> = <a href="#579631" title="(base: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol,mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol">rebindSuper</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>, <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a>, <a href="#719404" title="Mixin.this.global.Symbol">mixinClass</a>)
            <a href="#719615" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]T0">asInstanceOf</span><a href="../symtab/Symbols.scala.html#29494" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">[</a><a href="../symtab/Symbols.scala.html#26128" title="Mixin.this.global.TermSymbol">TermSymbol</a>] setAlias <a href="#719616" title="Mixin.this.global.Symbol">alias1</a>

          } <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26910" title="(x$1: Boolean)Boolean">isMethod</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">member</a> hasFlag (LIFTED <span title="Long(17246978048L)">|</span> BRIDGE))) {
            // mixin objects: todo what happens with abstract objects?
            <a href="#579634" title="(clazz: Mixin.this.global.Symbol,member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>, <a href="#719423" title="Mixin.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#27029" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>))
              .<a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a>(<a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
              .<a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a>(<span title="(x$1: Long)Long">DEFERRED</span> | <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>)
          }
        }
      }

      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="719725">mc</a> &lt;- <a href="#719250" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27049" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit">mixinClasses</a>)
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">mc</a> hasFlag <a href="../symtab/Flags.scala.html#28739" title="=&gt; Long">lateINTERFACE</a>) {
          // @SEAN: adding trait tracking so we don't have to recompile transitive closures
          <a href="#719251" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45440" title="(elem: Mixin.this.global.Symbol)unit.depends.type" id="39288">depends</a> += <a href="#719725" title="Mixin.this.global.Symbol">mc</a>
          <a href="#579636" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a>(<a href="#719725" title="Mixin.this.global.Symbol">mc</a>)
          <a href="#719273" title="(mixinClass: Mixin.this.global.Symbol)Unit">mixinTraitMembers</a>(<a href="#719725" title="Mixin.this.global.Symbol">mc</a>)
          <a href="#719272" title="(impl: Mixin.this.global.Symbol,iface: Mixin.this.global.Symbol)Unit">mixinImplClassMembers</a>(<a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#719725" title="Mixin.this.global.Symbol">mc</a>), <a href="#719725" title="Mixin.this.global.Symbol">mc</a>)
        }
    }
  }

  /** The info transform for this phase does the following:
   *   - The parents of every class are mapped from implementation class to interface
   *   - Implementation classes become modules that inherit nothing
   *     and that define all.
   *
   *  @param sym ...
   *  @param tp  ...
   *  @return    ...
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol,tp: Mixin.this.global.Type)Mixin.this.global.Type" id="579640">transformInfo</a>(<a title="Mixin.this.global.Symbol" id="719770">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Type" id="719771">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a> = <a href="#719771" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> {
    <span title="Mixin.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[Mixin.this.global.Type]" id="719778">parents</a>, <a title="Mixin.this.global.Scope" id="719779">decls</a>, <a title="Mixin.this.global.Symbol" id="719780">clazz</a>) =&gt;
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Type]" id="719783">parents1</a> = <a href="#719778" title="List[Mixin.this.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Mixin.this.global.Scope" id="719784">decls1</a> = <a href="#719779" title="Mixin.this.global.Scope">decls</a>
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>) {
        <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>) {
          <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)clazz.type">clazz</a> setFlag <a href="../symtab/Flags.scala.html#28741" title="=&gt; Long">lateMODULE</a>
          <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="719795">sourceModule</a> = <a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27138" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">lookup</a>(<a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28201" title="=&gt; Mixin.this.global.Name">toTermName</a>)
          <span title="Any" class="keyword">if</span> (<a href="#719795" title="(x$1: AnyRef)Boolean">sourceModule</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
            <a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">sourceModule</a> setPos <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <a href="#719795" title="Mixin.this.global.Symbol">sourceModule</a>.<a href="../symtab/Symbols.scala.html#26992" title="(fs: Long)Unit">flags</a> = MODULE <span title="Long(288L)">|</span> FINAL
          } <span class="keyword">else</span> {
            <a href="#719795" title="Mixin.this.global.Symbol">sourceModule</a> = <a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26870" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name,clazz: Mixin.this.global.ClassSymbol)Mixin.this.global.TermSymbol">newModule</a>(
              <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28201" title="=&gt; Mixin.this.global.Name">toTermName</a>, <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<span title="[T0]T0">asInstanceOf</span><span title="Mixin.this.global.ClassSymbol">[</span><a href="../symtab/Symbols.scala.html#26132" title="Mixin.this.global.ClassSymbol">ClassSymbol</a>])
            <a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">decls</a> enter <a href="#719795" title="Mixin.this.global.Symbol">sourceModule</a>
          }
          <a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">sourceModule</a> setInfo <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#719780" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27058" title="(x$1: AnyRef)Boolean">sourceModule</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)//debug
          <a href="#719783" title="List[Mixin.this.global.Type]">parents1</a> = List<span title="object Nil">(</span>)
          <a href="#719784" title="Mixin.this.global.Scope">decls1</a> = <a href="../symtab/Scopes.scala.html#26006" title="(decls: List[Mixin.this.global.Symbol])Mixin.this.global.Scope">newScope</a>(<a href="#719779" title="Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)List[Mixin.this.global.Symbol]">toList</a> filter <a href="#579624" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>)
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#719778" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span>) {
          <a href="#719783" title="List[Mixin.this.global.Type]">parents1</a> = <a href="#719778" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Mixin.this.global.Type">head</span> <a href="#719908" title="Mixin.this.global.Type">::</a> <span title="(x: Mixin.this.global.Type)List[Mixin.this.global.Type]">(</span><a href="#719778" title="List[Mixin.this.global.Type]">parents</a>.<span title="(f: (Mixin.this.global.Type) =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List[Mixin.this.global.Type]])List[Mixin.this.global.Type]">tail</span> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List#Coll]">map</span> <a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>)
        }
      }
      //decls1 = atPhase(phase.next)(newScope(decls1.toList))//debug
      <span title="Mixin.this.global.Type" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#719783" title="(x$1: AnyRef)Boolean">parents1</a> eq <a href="#719778" title="List[Mixin.this.global.Type]">parents</a>) &amp;&amp; (<a href="#719784" title="(x$1: AnyRef)Boolean">decls1</a> eq <a href="#719779" title="Mixin.this.global.Scope">decls</a>)) <a href="#719771" title="Mixin.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44259" title="(parents: List[Mixin.this.global.Type],decls: Mixin.this.global.Scope,typeSymbol: Mixin.this.global.Symbol)Mixin.this.global.ClassInfoType">ClassInfoType</a>(<a href="#719783" title="List[Mixin.this.global.Type]">parents1</a>, <a href="#719784" title="Mixin.this.global.Scope">decls1</a>, <a href="#719780" title="Mixin.this.global.Symbol">clazz</a>)

    <span title="Mixin.this.global.Type" class="keyword">case</span> MethodType(<a title="List[Mixin.this.global.Symbol]" id="720041">params</a>, <a title="Mixin.this.global.Type" id="720042">restp</a>) =&gt;
      <a href="#579628" title="(v1: Mixin.this.global.Type)Mixin.this.global.Type">toInterfaceMap</a>(
        <span title="Mixin.this.global.Type" class="keyword">if</span> (<a href="#579624" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>(<a href="#719770" title="Mixin.this.global.Symbol">sym</a>)) {
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720048">ownerParam</a> = <a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26883" title="(argtype: Mixin.this.global.Type)Mixin.this.global.Symbol">newSyntheticValueParam</a>(<a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#719770" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27035" title="=&gt; Mixin.this.global.Type">typeOfThis</a>))
          <a href="../symtab/Types.scala.html#43895" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(<a href="#720048" title="Mixin.this.global.Symbol">ownerParam</a> <a href="#720072" title="Mixin.this.global.Symbol">::</a> <a href="#720041" title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">params</a>, <a href="#720042" title="Mixin.this.global.Type">restp</a>)
        } <span class="keyword">else</span>
          <a href="#719771" title="Mixin.this.global.Type">tp</a>)

    <span title="Mixin.this.global.Type" class="keyword">case</span> _ =&gt;
      <a href="#719771" title="Mixin.this.global.Type">tp</a>
  }

// --------- term transformation -----------------------------------------------

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: Mixin.this.global.CompilationUnit)Mixin.this.global.Transformer" id="579641">newTransformer</a>(<a title="Mixin.this.global.CompilationUnit" id="720084">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26773" title="Mixin.this.global.Transformer">Transformer</a> =
    <span title="Mixin.this.MixinTransformer" class="keyword">new</span> <a href="#579642" title="Mixin.this.MixinTransformer">MixinTransformer</a>(<a href="#720084" title="Mixin.this.global.CompilationUnit">unit</a>)

  <span class="keyword">class</span> <a title="class MixinTransformer extends Mixin.this.global.Transformer with ScalaObject" id="579642">MixinTransformer</a><span title="ScalaObject">(</span><a title="Mixin.this.global.CompilationUnit" id="720109">unit</a> : <a href="../CompilationUnits.scala.html#39196" title="Mixin.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26773" title="Mixin.this.global.Transformer">Transformer</a> {

    /** Within a static implementation method: the parameter referring to the
     *  current object undefined evrywhere else.
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="720091">self</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = _

    /** The rootContext used for typing */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Context" id="720093">rootContext</a> =
      <a href="../Global.scala.html#39123" title="object Mixin.this.global.erasure">erasure</a>.<a href="../typechecker/Contexts.scala.html#39813" title="=&gt; Mixin.this.global.erasure.Context">NoContext</a>.<a href="../typechecker/Contexts.scala.html#48433" title="(tree: Mixin.this.global.erasure.global.Tree,owner: Mixin.this.global.erasure.global.Symbol,scope: Mixin.this.global.erasure.global.Scope)Mixin.this.global.erasure.Context">make</a>(<a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>, <a href="../symtab/Definitions.scala.html#28239" title="=&gt; Mixin.this.global.ModuleClassSymbol">RootClass</a>, <a href="../symtab/Scopes.scala.html#25966" title="=&gt; Mixin.this.global.Scope">newScope</a>)

    /** The typer */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.erasure.Typer" id="720096">localTyper</a>: erasure.<a href="../typechecker/Typers.scala.html#39921" title="Mixin.this.global.erasure.Typer">Typer</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree" id="720098">typedPos</a>(<a title="scala.tools.nsc.util.Position" id="720158">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>)(<a title="Mixin.this.global.Tree" id="720159">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>) = <a href="../typechecker/Typers.scala.html#42640" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">localTyper</a> typed { <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a>(<a href="#720158" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#720159" title="Mixin.this.global.Tree">tree</a>) }

    <span class="keyword">import</span> scala.collection._
    
    /** Map a field symbol to a unique integer denoting its position in the class layout.
     *  For each class, fields defined by the class come after inherited fields. Mixed-in
     *  fields count as fields defined by the class itself.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]" id="720100">fieldOffset</a>: mutable.<a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]" id="24789">Map</a>[Symbol, Int] = <span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">HashMap</span>[Symbol, Int]

    /** The first transform; called in a pre-order traversal at phase mixin
     *  (that is, every node is processed before its children).
     *  What transform does:
     *   - For every non-trait class, add all mixed in members to the class info.
     *   - For every trait, add all late interface members to the class info
     *   - For every static implementation method:
     *       - remove override flag
     *       - create a new method definition that also has a `self' parameter
     *         (which comes first) Iuli: this position is assumed by tail call elimination 
     *         on a different receiver. Storing a new 'this' assumes it is located at
     *         index 0 in the local variable table. See 'STORE_THIS' and GenJVM/GenMSIL.
     *   - Map implementation class types in type-apply's to their interfaces
     *   - Remove all fields in implementation classes
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720102">preTransform</a>(<a title="Mixin.this.global.Tree" id="720187">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720189">sym</a> = <a href="#720187" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>
      <a href="#720187" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.Tree" class="keyword">case</span> Template(<a title="List[Mixin.this.global.Tree]" id="720195">parents</a>, <a title="Mixin.this.global.ValDef" id="720196">self</a>, <a title="List[Mixin.this.global.Tree]" id="720197">body</a>) =&gt;
          <a href="#720096" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#39123" title="object Mixin.this.global.erasure">erasure</a>.<a href="Erasure.scala.html#42464" title="(context: Mixin.this.global.erasure.Context)Mixin.this.global.erasure.Eraser">newTyper</a>(<a href="#720093" title="=&gt; Mixin.this.global.erasure.Context">rootContext</a>.<a href="../typechecker/Contexts.scala.html#48436" title="(tree: Mixin.this.global.erasure.global.Tree,owner: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.Context">make</a>(<a href="#720187" title="Mixin.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>))
          <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="../ast/Trees.scala.html#45467" title="=&gt; (x$1: MixinTransformer.this.type)Mixin.this.global.Symbol" id="784722">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>)//todo: needed?
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) <a href="#579639" title="(clazz: Mixin.this.global.Symbol,unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>,<a href="#720109" title="Mixin.this.global.CompilationUnit">unit</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">currentOwner</a> hasFlag <a href="../symtab/Flags.scala.html#28739" title="=&gt; Long">lateINTERFACE</a>) <a href="#579636" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>)
          <a href="#720187" title="Mixin.this.global.Tree">tree</a>
        <span title="Mixin.this.global.Tree" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="720265">mods</a>, <a title="Mixin.this.global.Name" id="720266">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="720267">tparams</a>, <a href="#720269" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a>(<a title="List[Mixin.this.global.ValDef]" id="720278">vparams</a>), <a title="Mixin.this.global.Tree" id="720280">tpt</a>, <a title="Mixin.this.global.Tree" id="720281">rhs</a>) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a> =&gt;
          <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#579624" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>(<a href="#720189" title="Mixin.this.global.Symbol">sym</a>)) {
            <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)sym.type">sym</a> setFlag <a href="../symtab/Flags.scala.html#28757" title="=&gt; Long">notOVERRIDE</a>
            <a href="#720091" title="(x$1: Mixin.this.global.Symbol)Unit">self</a> = <a href="#720189" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26863" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newValue</a>(<a href="#720189" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29715" title="=&gt; Mixin.this.global.Name">SELF</a>) 
              .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<span title="Long(8192L)">PARAM</span>)
              .<a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27035" title="=&gt; Mixin.this.global.Type">typeOfThis</a>));
            <span class="keyword">val</span> <a title="Mixin.this.global.ValDef" id="720286">selfdef</a> = <a href="../ast/Trees.scala.html#26623" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><a href="../ast/Trees.scala.html#29366" title="(tp: Mixin.this.global.Type)Mixin.this.global.ValDef">(</a><a href="#720091" title="=&gt; Mixin.this.global.Symbol">self</a>) setType <a href="../symtab/Types.scala.html#26224" title="object Mixin.this.global.NoType">NoType</a>
            <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#720187" title="Mixin.this.global.Tree">tree</a>, <a href="#720265" title="Mixin.this.global.Modifiers">mods</a>, <a href="#720266" title="Mixin.this.global.Name">name</a>, <a href="#720267" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span>(<a href="#720286" title="Mixin.this.global.ValDef">selfdef</a> <a href="#720344" title="Mixin.this.global.ValDef">::</a> <a href="#720278" title="(x: Mixin.this.global.ValDef)List[Mixin.this.global.ValDef]">vparams</a>), <a href="#720280" title="Mixin.this.global.Tree">tpt</a>, <a href="#720281" title="Mixin.this.global.Tree">rhs</a>)
          } <span class="keyword">else</span> {
            <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
          }
        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(<a title="Mixin.this.global.TypeApply" id="720359">tapp</a> @ TypeApply(<a title="Mixin.this.global.Tree" id="720362">fn</a>, <a href="#720364" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a title="Mixin.this.global.Tree" id="720373">arg</a>)), <a href="#720378" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>()) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#720373" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>) {
            <span class="keyword">val</span> <a title="Mixin.this.global.Type" id="720390">ifacetpe</a> = <a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#720373" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Mixin.this.global.Type">tpe</a>)
            <a href="#720373" title="Mixin.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29364" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#720390" title="Mixin.this.global.Type">ifacetpe</a>
            <a href="#720359" title="Mixin.this.global.TypeApply">tapp</a>.<a href="../ast/Trees.scala.html#29364" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="../symtab/Types.scala.html#43895" title="(params: List[Mixin.this.global.Symbol],resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#720390" title="Mixin.this.global.Type">ifacetpe</a>)
            <a href="#720187" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29364" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#720390" title="Mixin.this.global.Type">ifacetpe</a>
          }
          <a href="#720187" title="Mixin.this.global.Tree">tree</a>
        <span title="Mixin.this.global.EmptyTree.type" class="keyword">case</span> ValDef(_, _, _, _) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a> =&gt;
          <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#720187" title="Mixin.this.global.Tree">tree</a>
      }
    }
         
    /** Create an identifier which references self parameter.
     *
     *  @param pos ...
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree" id="720103">selfRef</a>(<a title="scala.tools.nsc.util.Position" id="720439">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>) =
      <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42682" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">(</a><a href="#720091" title="=&gt; Mixin.this.global.Symbol">self</a>) setPos <a href="#720439" title="scala.tools.nsc.util.Position">pos</a>

    /** Replace a super reference by this or the self parameter, depending
     *  on whether we are in an implementation class or not.
     *  Leave all other trees unchanged */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720104">transformSuper</a>(<a title="Mixin.this.global.Tree" id="720450">qual</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>) = 
      <span title="Mixin.this.global.Tree" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#720450" title="Mixin.this.global.Tree">qual</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26720" title="Mixin.this.global.Super">Super</a>]) <a href="#720450" title="Mixin.this.global.Tree">qual</a>
      <span class="keyword">else</span> <span title="Mixin.this.global.gen.global.Tree" class="keyword">if</span> (<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>) <a href="#720103" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">selfRef</a>(<a href="#720450" title="Mixin.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
      <span class="keyword">else</span> <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42681" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)

    /** Create a static reference to given symbol &lt;code&gt;sym&lt;/code&gt; of the
     *  form &lt;code&gt;M.sym&lt;/code&gt; where M is the symbol's implementation module.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="720105">staticRef</a>(<a title="Mixin.this.global.Symbol" id="720459">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
      <a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>  //todo: needed?
      <a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a> //todo: needed?
      <span title="Unit" class="keyword">if</span> (<a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27058" title="(x$1: AnyRef)Boolean">sourceModule</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
        <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720459" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="=&gt; List[Mixin.this.global.Symbol]">toList</a>)//debug
      }
      <a href="../ast/TreeDSL.scala.html#42533" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#720459" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27058" title="=&gt; Mixin.this.global.Symbol">sourceModule</a>) <a href="../ast/TreeDSL.scala.html#42545" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.global.Select">DOT</a> <a href="#720459" title="Mixin.this.global.Symbol">sym</a>
    }

    /** Add all new definitions to a non-trait class 
     *  These fall into the following categories:
     *    - for a trait interface: 
     *       - abstract accessors for all fields in the implementation class
     *    - for a non-trait class:
     *       - A field for every in a mixin class 
     *       - Setters and getters for such fields
     *           - getters for mixed in lazy fields are completed 
     *       - module variables and module creators for every module in a mixin class
     *         (except if module is lifted -- in this case the module variable
     *          is local to some function, and the creator method is static.)
     *       - A super accessor for every super accessor in a mixin class
     *       - Forwarders for all methods that are implemented statically
     *  All superaccessors are completed with right-hand sides (@see completeSuperAccessor)
     *  @param clazz  The class to which definitions are added
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="720106">addNewDefs</a>(<a title="Mixin.this.global.Symbol" id="720546">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="720547">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <span title="List[Mixin.this.global.Tree]">List</span>[Tree] = {
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="720549">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="24819">ListBuffer</a>[Tree]

      /** Attribute given tree and anchor at given position */
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720550">attributedDef</a>(<a title="scala.tools.nsc.util.Position" id="720570">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Mixin.this.global.Tree" id="720571">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;add new def to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720546" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#720571" title="Mixin.this.global.Tree">tree</a>)
        <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#720570" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#720571" title="Mixin.this.global.Tree">tree</a>)
      }

      /** The position of given symbol, or, if this is undefined, 
       *  the position of the current class. */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position" id="720551">position</a>(<a title="Mixin.this.global.Symbol" id="720586">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
        <span title="scala.tools.nsc.util.Position" class="keyword">if</span> (<a href="#720586" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="(x$1: AnyRef)Boolean">pos</a> == <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>) <a href="#720546" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span class="keyword">else</span> <a href="#720586" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>

      /** Add tree at given position as new definition */
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit" id="720552">addDef</a>(<a title="scala.tools.nsc.util.Position" id="720594">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="Mixin.this.global.Tree" id="720595">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>) {
        <a href="#720549" title="(x: Mixin.this.global.Tree)newDefs.type" id="61580">newDefs</a> <span title="Unit">+=</span> <a href="#720550" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Mixin.this.global.Tree">attributedDef</a>(<a href="#720594" title="scala.tools.nsc.util.Position">pos</a>, <a href="#720595" title="Mixin.this.global.Tree">tree</a>)
      }

      /** Add new method definition.
       *
       *  @param sym   The method
       *  @param rhs   A function that maps formal parameters to the method's
       *               right-hand side
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit" id="720553">addDefDef</a>(<a title="Mixin.this.global.Symbol" id="720629">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="(List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree" id="720630">rhs</a>: List[Symbol] =&gt; Tree) {
        <a href="#720552" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#720551" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#720629" title="Mixin.this.global.Symbol">sym</a>), <a href="../ast/Trees.scala.html#26632" title="(sym: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#720629" title="Mixin.this.global.Symbol">sym</a>, <a href="#720630" title="(v1: List[Mixin.this.global.Symbol])Mixin.this.global.Tree">rhs</a>(<a href="#720629" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27017" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span>)))
      }

      /** Add `newdefs' to `stats', removing any abstract method definitions
       *  in &lt;code&gt;stats&lt;/code&gt; that are matched by some symbol defined in
       *  &lt;code&gt;newDefs&lt;/code&gt;.
       */
      <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree],newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="720554">add</a>(<a title="List[Mixin.this.global.Tree]" id="720683">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="List[Mixin.this.global.Tree]" id="720684">newDefs</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]) = {
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="720685">newSyms</a> = <a href="#720684" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Tree]])List[Mixin.this.global.Symbol]">newDefs</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List#Coll]">map</span> (<a href="#720695" title="Mixin.this.global.Tree">_</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>)
        <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Boolean" id="720686">isNotDuplicate</a>(<a title="Mixin.this.global.Tree" id="720773">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>) = <a href="#720773" title="Mixin.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> {
          <span title="Boolean" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="720784">sym</a> = <a href="#720773" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>;
            <span title="=&gt; Boolean">!</span>(<a href="#720784" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26953" title="(x$1: Boolean)Boolean">isDeferred</a> &amp;&amp;
              (<a href="#720685" title="(p: (Mixin.this.global.Symbol) =&gt; Boolean)Boolean">newSyms</a> exists (<a title="Mixin.this.global.Symbol" id="720789">nsym</a> =&gt; <a href="#720789" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="#720784" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a> &amp;&amp; (<a href="#720789" title="Mixin.this.global.Symbol">nsym</a>.<a href="../symtab/Types.scala.html#30238" title="(that: Mixin.this.global.Type)Boolean">tpe</a> matches <a href="#720784" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>))))
          <span title="Boolean(true)" class="keyword">case</span> _ =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        }
        <span title="List[Mixin.this.global.Tree]" class="keyword">if</span> (<a href="#720684" title="List[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#720683" title="List[Mixin.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <a href="#720684" title="List[Mixin.this.global.Tree]">newDefs</a> <a href="#720806" title="List[Mixin.this.global.Tree]">:::</a> <a href="#720683" title="List[Mixin.this.global.Tree]">stats</a>.<span title="(p: (Mixin.this.global.Tree) =&gt; Boolean)List[Mixin.this.global.Tree]">filter</span><span title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">(</span><a href="#720686" title="(tree: Mixin.this.global.Tree)Boolean">isNotDuplicate</a>)
      }

      /** If `stat' is a superaccessor, complete it by adding a right-hand side.
       *  Note: superaccessors are always abstract until this point. 
       *   The method to call in a superaccessor is stored in the accessor symbol's alias field.
       *  The rhs is: 
       *    super.A(xs)  where A is the super accessor's alias and xs are its formal parameters.
       *  This rhs is typed and then mixin transformed.
       */
      <span class="keyword">def</span> <a title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720555">completeSuperAccessor</a>(<a title="Mixin.this.global.Tree" id="720821">stat</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>) = <a href="#720821" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="720830">mods</a>, <a title="Mixin.this.global.Name" id="720831">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="720832">tparams</a>, <a href="#720834" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a>(<a title="List[Mixin.this.global.ValDef]" id="720843">vparams</a>), <a title="Mixin.this.global.Tree" id="720845">tpt</a>, <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
        <span class="keyword">if</span> (<a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) =&gt;
          <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="720850">rhs0</a> = (<a href="../ast/Trees.scala.html#26723" title="(sym: Mixin.this.global.Symbol,mix: Mixin.this.global.Name)Mixin.this.global.Tree">Super</a><a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#720546" title="Mixin.this.global.Symbol">clazz</a>, <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29685" title="=&gt; Mixin.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; Mixin.this.global.Name">toTypeName</a>) <a href="../ast/TreeDSL.scala.html#44723" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a>)(<a href="#720843" title="(f: (Mixin.this.global.ValDef) =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,Sequence[Mixin.this.global.Tree],List[Mixin.this.global.ValDef]])Sequence[Mixin.this.global.Tree]">vparams</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List#Coll]">map</span> (<a title="Mixin.this.global.ValDef" id="720916">v</a> =&gt; <a href="../ast/Trees.scala.html#26736" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>(<a href="#720916" title="Mixin.this.global.ValDef">v</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>)): _*)
          <span class="keyword">val</span> <a title="Mixin.this.global.erasure.global.Tree" id="720851">rhs1</a> = <a href="#720096" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42642" title="(tree: Mixin.this.global.erasure.global.Tree,pt: Mixin.this.global.erasure.global.Type)Mixin.this.global.erasure.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Apply)Mixin.this.global.Apply">atPos</a>(<a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#720850" title="Mixin.this.global.Apply">rhs0</a>), <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>)
          <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="720852">rhs2</a> = <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40200" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a>)(<a href="#720108" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#720851" title="Mixin.this.global.erasure.global.Tree">rhs1</a>))
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;complete super acc &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720851" title="Mixin.this.global.erasure.global.Tree">rhs1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> + <a href="#720821" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<a href="../symtab/Flags.scala.html#28739" title="=&gt; Long">lateINTERFACE</a>))//debug
          <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#720821" title="Mixin.this.global.Tree">stat</a>, <a href="#720830" title="Mixin.this.global.Modifiers">mods</a>, <a href="#720831" title="Mixin.this.global.Name">name</a>, <a href="#720832" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span>(<a href="#720843" title="List[Mixin.this.global.ValDef]">vparams</a>), <a href="#720845" title="Mixin.this.global.Tree">tpt</a>, <a href="#720852" title="Mixin.this.global.Tree">rhs2</a>)
        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#720821" title="Mixin.this.global.Tree">stat</a>
      }

      <span class="keyword">import</span> lazyVals._

      /** Return the bitmap field for 'offset', create one if not inheriting it already. */ 
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol" id="720557">bitmapFor</a>(<a title="Mixin.this.global.Symbol" id="721084">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="721085">offset</a>: <span title="Int">Int</span>): <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a> = {
        <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="721086">sym</a> = <a href="#721084" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30217" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29678" title="(n: Int)Mixin.this.global.Name">bitmapName</a>(<a href="#721085" title="(x$1: Int)Int">offset</a> / <a href="../Global.scala.html#579434" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span title="(assertion: Boolean)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#721086" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(8589934592L)">OVERLOADED</span>))
        <span title="Unit" class="keyword">if</span> (<a href="#721086" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>) {
          <a href="#721086" title="Mixin.this.global.Symbol">sym</a> = <a href="#721084" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26864" title="(pos: scala.tools.nsc.util.Position,name: Mixin.this.global.Name)Mixin.this.global.TermSymbol">newVariable</a>(<a href="#721084" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29678" title="(n: Int)Mixin.this.global.Name">bitmapName</a>(<a href="#721085" title="(x$1: Int)Int">offset</a> / <a href="../Global.scala.html#579434" title="=&gt; Int">FLAGS_PER_WORD</a>))
                       .<a href="../symtab/Symbols.scala.html#27005" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Definitions.scala.html#28285" title="=&gt; Mixin.this.global.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>)
                       .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)Mixin.this.global.TermSymbol">setFlag</a>(<span title="Long(1L)">PROTECTED</span>)
          <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40188" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>) {
            <a href="../symtab/Symbols.scala.html#26856" title="(annot: Mixin.this.global.AnnotationInfo)Mixin.this.global.Symbol">sym</a> addAnnotation <a href="../symtab/AnnotationInfos.scala.html#44754" title="(atp: Mixin.this.global.Type,args: List[Mixin.this.global.Tree],assocs: List[(Mixin.this.global.Name, Mixin.this.global.ClassfileAnnotArg)])Mixin.this.global.AnnotationInfo">AnnotationInfo</a>(<a href="../symtab/Definitions.scala.html#28572" title="=&gt; Mixin.this.global.Symbol">VolatileAttr</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>)
          }
          <a href="#721084" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a>(<a href="#721086" title="Mixin.this.global.Symbol">sym</a>)
          <a href="#720552" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#721084" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#42521" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79532" title="(body: Mixin.this.global.Tree)Mixin.this.global.ValDef">(</a><a href="#721086" title="Mixin.this.global.Symbol">sym</a>) === <a href="../ast/TreeDSL.scala.html#42497" title="=&gt; Mixin.this.global.Literal">ZERO</a>)
        }
        <a href="#721086" title="Mixin.this.global.Symbol">sym</a>
      }

      /** Return an (untyped) tree of the form 'Clazz.this.bmp = Clazz.this.bmp | mask'. */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree" id="720558">mkSetFlag</a>(<a title="Mixin.this.global.Symbol" id="721222">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="721223">offset</a>: <span title="Int">Int</span>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721224">bmp</a>   = <a href="#720557" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#721222" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721223" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="721225">mask</a>  = <a href="../ast/TreeDSL.scala.html#49329" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#721223" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#579434" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.CODE.SelectStart" id="721226">x</a>     = <a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#721222" title="Mixin.this.global.Symbol">clazz</a>) DOT <a href="#721224" title="Mixin.this.global.Symbol">bmp</a>
        
        <a href="../ast/TreeDSL.scala.html#45086" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">x</a> === (<a href="../ast/TreeDSL.scala.html#45075" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">x</a> INT_| <a href="#721225" title="Mixin.this.global.Literal">mask</a>)
      }
      
      /** Return an (untyped) tree of the form 'clazz.this.bitmapSym &amp; mask (==|!=) 0', the
       *  precise comparison operator depending on the value of 'equalToZero'.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree" id="720559">mkTest</a>(<a title="Mixin.this.global.Symbol" id="721327">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="721328">mask</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>, <a title="Mixin.this.global.Symbol" id="721329">bitmapSym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="721330">equalToZero</a>: <span title="Boolean">Boolean</span>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Apply" id="721331">lhs</a> = <a href="../ast/TreeDSL.scala.html#45076" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">(</a><a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#721327" title="Mixin.this.global.Symbol">clazz</a>) <a href="../ast/TreeDSL.scala.html#42546" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">DOT</a> <a href="#721329" title="Mixin.this.global.Symbol">bitmapSym</a>) INT_&amp; <a href="#721328" title="Mixin.this.global.Tree">mask</a>
        <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#721330" title="Boolean">equalToZero</a>)  <a href="../ast/TreeDSL.scala.html#45077" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">lhs</a> INT_== <a href="../ast/TreeDSL.scala.html#42497" title="=&gt; Mixin.this.global.Literal">ZERO</a>
        <span class="keyword">else</span>              <a href="../ast/TreeDSL.scala.html#45078" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">lhs</a> INT_!= <a href="../ast/TreeDSL.scala.html#42497" title="=&gt; Mixin.this.global.Literal">ZERO</a>
      }

      /** return a 'lazified' version of rhs. 
       *  @param clazz The class symbol
       *  @param init The tree which initializes the field ( f = &lt;rhs&gt; )
       *  @param fieldSym The symbol of this lazy field
       *  @param offset The offset of this field in the flags bitmap
       *
       *  The result will be a tree of the form
       *  {
       *    if ((bitmap$n &amp; MASK) == 0) {
       *       synhronized(this) {
       *         if ((bitmap$n &amp; MASK) == 0) {
       *           synhronized(this) {
       *             init // l$ = &lt;rhs&gt;
       *           }
       *           bitmap$n = bimap$n | MASK
       *         }}}
       *    l$
       *  }
       *  where bitmap$n is an int value acting as a bitmap of initialized values. It is
       *  the 'n' is (offset / 32), the MASK is (1 &lt;&lt; (offset % 32)).
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree" id="720560">mkLazyDef</a>(<a title="Mixin.this.global.Symbol" id="721430">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="721431">init</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="Mixin.this.global.Tree" id="721432">retVal</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>, <a title="Int" id="721433">offset</a>: <span title="Int">Int</span>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721434">bitmapSym</a> = <a href="#720557" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#721430" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721433" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="721435">mask</a>      = <a href="../ast/TreeDSL.scala.html#49329" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#721433" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#579434" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Tree" id="721436">cond</a>      = <a href="#720559" title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a>(<a href="#721430" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721435" title="Mixin.this.global.Literal">mask</a>, <a href="#721434" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(true)" class="keyword">true</span>)
        <span class="keyword">def</span> <a title="=&gt; List[Mixin.this.global.Tree]" id="721437">syncBody</a>  = <a href="#721431" title="List[Mixin.this.global.Tree]">init</a> <a href="#721461" title="List[Mixin.this.global.Tree]">:::</a> <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">(</span><a href="#720558" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#721430" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721433" title="Int">offset</a>), <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>)
        
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="721438">result</a>    = 
          <a href="../ast/TreeDSL.scala.html#42524" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#49788" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">(</a><a href="#721436" title="=&gt; Mixin.this.global.Tree">cond</a>) THEN <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42701" title="(monitor: Mixin.this.global.gen.global.Tree,body: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkSynchronized</a>(
            <a href="../ast/TreeGen.scala.html#42681" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">gen</a> mkAttributedThis <a href="#721430" title="Mixin.this.global.Symbol">clazz</a>,
            <a href="../ast/TreeDSL.scala.html#42524" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#49788" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">(</a><a href="#721436" title="=&gt; Mixin.this.global.Tree">cond</a>) THEN <a href="../ast/TreeDSL.scala.html#42526" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#721437" title="=&gt; List[Mixin.this.global.Tree]">syncBody</a>: _*) <a href="../ast/TreeDSL.scala.html#49790" title="=&gt; Mixin.this.global.If">ENDIF</a>
          ) <a href="../ast/TreeDSL.scala.html#49790" title="=&gt; Mixin.this.global.If">ENDIF</a>

        <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#721431" title="List[Mixin.this.global.Tree]">init</a>.<span title="=&gt; Mixin.this.global.Tree">head</span>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42526" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#721438" title="Mixin.this.global.If">result</a>, <a href="#721432" title="Mixin.this.global.Tree">retVal</a>))
      }
      
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree" id="720561">mkCheckedAccessor</a>(<a title="Mixin.this.global.Symbol" id="721511">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="721512">retVal</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>, <a title="Int" id="721513">offset</a>: <span title="Int">Int</span>, <a title="scala.tools.nsc.util.Position" id="721514">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="721515">bitmapSym</a> = <a href="#720557" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Symbol">bitmapFor</a>(<a href="#721511" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721513" title="Int">offset</a>)
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="721516">mask</a>      = <a href="../ast/TreeDSL.scala.html#49329" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#721513" title="(x$1: Int)Int">offset</a> % <a href="../Global.scala.html#579434" title="=&gt; Int">FLAGS_PER_WORD</a>))
        <span class="keyword">val</span> <a title="java.lang.String" id="721517">msg</a>       = <span title="(x$1: Any)java.lang.String" class="string">&quot;Uninitialized field: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#720109" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> + <a href="#721514" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30304" title="=&gt; Int">line</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="721518">result</a>    = 
          <a href="../ast/TreeDSL.scala.html#42524" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> (<a href="#720559" title="(clazz: Mixin.this.global.Symbol,mask: Mixin.this.global.Tree,bitmapSym: Mixin.this.global.Symbol,equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a>(<a href="#721511" title="Mixin.this.global.Symbol">clazz</a>, <a href="#721516" title="Mixin.this.global.Literal">mask</a>, <a href="#721515" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(false)" class="keyword">false</span>)) .
            <a href="../ast/TreeDSL.scala.html#49788" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">THEN</a> (<a href="#721512" title="Mixin.this.global.Tree">retVal</a>) .
            <a href="../ast/TreeDSL.scala.html#49789" title="(elsep: Mixin.this.global.Tree)Mixin.this.global.If">ELSE</a> (<a href="../ast/TreeDSL.scala.html#42518" title="(sym: Mixin.this.global.Symbol,msg: Mixin.this.global.Tree)Mixin.this.global.Throw">THROW</a>(<a href="../symtab/Definitions.scala.html#28305" title="=&gt; Mixin.this.global.Symbol">UninitializedErrorClass</a>, <a href="../ast/TreeDSL.scala.html#49329" title="(x: Any)Mixin.this.global.Literal">LIT</a>(<a href="#721517" title="java.lang.String">msg</a>)))
        
        <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#721514" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42526" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a>(<a href="#721518" title="Mixin.this.global.If">result</a>, <a href="#721512" title="Mixin.this.global.Tree">retVal</a>))
      }
       
      /** Complete lazy field accessors. Applies only to classes, for it's own (non inherited) lazy fields.
       *  If 'checkinit' is enabled, getters that check for the initialized bit are generated, and
       *  the class constructor is changed to set the initialized bits.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="720562">addCheckedGetters</a>(<a title="Mixin.this.global.Symbol" id="721573">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="721574">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <span title="List[Mixin.this.global.Tree]">List</span>[Tree] = {
        <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree])Mixin.this.global.Tree" id="721575">findLazyAssignment</a>(<a title="List[Mixin.this.global.Tree]" id="721577">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree]): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = (
          <span class="keyword">for</span> (<a title="Mixin.this.global.Assign" id="721617">s</a> @ Assign(<a title="Mixin.this.global.Tree" id="721620">lhs</a>, _) &lt;- <a href="#721577" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Assign)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Assign,List[Mixin.this.global.Assign],List[Mixin.this.global.Tree]])List[Mixin.this.global.Assign]">stats</a> ; <span class="keyword">if</span> <a href="#721620" title="Mixin.this.global.Tree">lhs</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(2147483648L)">LAZY</span>) <span class="keyword">yield</span> <a href="#721617" title="Mixin.this.global.Assign">s</a>
        ) <span title="=&gt; Mixin.this.global.Assign">head</span> // if there's no assignment then it's a bug and we crash

        <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="721576">stats1</a> = <span class="keyword">for</span> (<a title="Mixin.this.global.Tree" id="721814">stat</a> &lt;- <a href="#721574" title="(f: (Mixin.this.global.Tree) =&gt; (Mixin.this.global.Tree, Mixin.this.global.Symbol))(implicit bf: scala.collection.generic.BuilderFactory[(Mixin.this.global.Tree, Mixin.this.global.Symbol),List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)],List[Mixin.this.global.Tree]])List[(Mixin.this.global.Tree, Mixin.this.global.Symbol)]">stats</a>; <a title="Mixin.this.global.Symbol" id="721815">sym</a> = <a href="#721814" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>) <span class="keyword">yield</span> <a href="#721814" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="721826">mods</a>, <a title="Mixin.this.global.Name" id="721827">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="721828">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="721829">vp</a>, <a title="Mixin.this.global.Tree" id="721830">tpt</a>, <a title="Mixin.this.global.Tree" id="721831">rhs</a>) 
            <span class="keyword">if</span> <a href="#721815" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(2147483648L)">LAZY</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#721831" title="(x$1: AnyRef)Boolean">rhs</a> != <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#721573" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#720100" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#721815" title="Mixin.this.global.Symbol">sym</a>))
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="721846">rhs1</a> = <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#721815" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) 
                <a href="#720560" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#721573" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#721831" title="Mixin.this.global.Tree">rhs</a>), <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#721815" title="Mixin.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> {
                <span class="keyword">val</span> Block<a href="#36432" title="(List[Mixin.this.global.Tree], Mixin.this.global.Tree)">(</a><a href="#721893" title="List[Mixin.this.global.Tree]" id="36432">stats</a>, <a href="#721893" title="Mixin.this.global.Tree" id="36434">res</a>) = <a href="#721831" title="Mixin.this.global.Tree">rhs</a>
                <a href="#720560" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#721573" title="Mixin.this.global.Symbol">clazz</a>, <a href="#36432" title="List[Mixin.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#26731" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#721573" title="Mixin.this.global.Symbol">clazz</a>), <a href="#36434" title="Mixin.this.global.Tree">res</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>), <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#721815" title="Mixin.this.global.Symbol">sym</a>))
              }
              <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#721814" title="Mixin.this.global.Tree">stat</a>, <a href="#721826" title="Mixin.this.global.Modifiers">mods</a>, <a href="#721827" title="Mixin.this.global.Name">name</a>, <a href="#721828" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#721829" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#721830" title="Mixin.this.global.Tree">tpt</a>, <a href="#721846" title="Mixin.this.global.Tree">rhs1</a>)
              
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="721987">mods</a>, <a title="Mixin.this.global.Name" id="721988">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="721989">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="721990">vp</a>, <a title="Mixin.this.global.Tree" id="721991">tpt</a>, <a title="Mixin.this.global.Tree" id="721992">rhs</a>) 
            <span class="keyword">if</span> <a href="#720563" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span title="(x$1: Boolean)Boolean">(</span><a href="#721815" title="Mixin.this.global.Symbol">sym</a>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#721992" title="(x$1: AnyRef)Boolean">rhs</a> != <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#721573" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#721573" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a> =&gt;
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#720100" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#721815" title="Mixin.this.global.Symbol">sym</a>))

              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="722093">rhs1</a> = (<a href="#720561" title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree">mkCheckedAccessor</a><span title="(v1: Mixin.this.global.Tree)Mixin.this.global.Tree">(</span><a href="#721573" title="Mixin.this.global.Symbol">clazz</a>, <a href="#722104" title="Mixin.this.global.Tree">_</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#721815" title="Mixin.this.global.Symbol">sym</a>), <a href="#721814" title="Mixin.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>))(
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#721815" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a> <span class="keyword">else</span> <a href="#721992" title="Mixin.this.global.Tree">rhs</a>
              )
              <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#721814" title="Mixin.this.global.Tree">stat</a>, <a href="#721987" title="Mixin.this.global.Modifiers">mods</a>, <a href="#721988" title="Mixin.this.global.Name">name</a>, <a href="#721989" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#721990" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#721991" title="Mixin.this.global.Tree">tpt</a>, <a href="#722093" title="Mixin.this.global.Tree">rhs1</a>)
              
          <span title="Mixin.this.global.DefDef" class="keyword">case</span> DefDef(<a title="Mixin.this.global.Modifiers" id="722153">mods</a>, <a title="Mixin.this.global.Name" id="722154">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="722155">tp</a>, <a title="List[List[Mixin.this.global.ValDef]]" id="722156">vp</a>, <a title="Mixin.this.global.Tree" id="722157">tpt</a>, <a title="Mixin.this.global.Tree" id="722158">rhs</a>) <span class="keyword">if</span> <a href="#721815" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a> =&gt;
            <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: Mixin.this.global.Tree,mods: Mixin.this.global.Modifiers,name: Mixin.this.global.Name,tparams: List[Mixin.this.global.TypeDef],vparamss: List[List[Mixin.this.global.ValDef]],tpt: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a>(<a href="#721814" title="Mixin.this.global.Tree">stat</a>, <a href="#722153" title="Mixin.this.global.Modifiers">mods</a>, <a href="#722154" title="Mixin.this.global.Name">name</a>, <a href="#722155" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#722156" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#722157" title="Mixin.this.global.Tree">tpt</a>, <a href="#720564" title="(clazz: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">addInitBits</a>(<a href="#721573" title="Mixin.this.global.Symbol">clazz</a>, <a href="#722158" title="Mixin.this.global.Tree">rhs</a>))

          <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt; <a href="#721814" title="Mixin.this.global.Tree">stat</a>
        }
        <a href="#721576" title="List[Mixin.this.global.Tree]">stats1</a>
      }

      /** Does this field require an intialized bit? */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="720563">needsInitFlag</a>(<a title="Mixin.this.global.Symbol" id="721995">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = {
        <span class="keyword">val</span> <a title="Boolean" id="721996">res</a> = (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37082" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37759" title="(x$1: Boolean)Boolean">value</a> 
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26905" title="=&gt; Boolean">isGetter</a> 
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26913" title="=&gt; Boolean">isInitializedToDefault</a>
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(536870912L)">PARAMACCESSOR</span>)
           <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(137438953472L)">PRESUPER</span>)
           &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26950" title="=&gt; Boolean">isOuterAccessor</a>)
        
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) {
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;needsInitFlag(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27089" title="=&gt; String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> + <a href="#721996" title="Boolean">res</a>)
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\tsym.isGetter: &quot;</span> + <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26905" title="=&gt; Boolean">isGetter</a>) 
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!isInitializedToDefault: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26913" title="=&gt; Boolean">isInitializedToDefault</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2199023255552L)">DEFAULTINIT</span>) <span title="(x$1: Any)java.lang.String">+</span> <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(134217728L)">ACCESSOR</span>) + <a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>)
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!sym.hasFlag(PARAMACCESSOR): &quot;</span> + <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(536870912L)">PARAMACCESSOR</span>))
          //println(&quot;\t!sym.accessed.hasFlag(PRESUPER): &quot; + !sym.accessed.hasFlag(PRESUPER))
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;\t!sym.isOuterAccessor: &quot;</span> + <span title="=&gt; Boolean">!</span><a href="#721995" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26950" title="=&gt; Boolean">isOuterAccessor</a>)
        }
        
        <a href="#721996" title="Boolean">res</a>
      }
      
      /** Adds statements to set the 'init' bit for each field initialized 
       * in the body of a constructor. 
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol,rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720564">addInitBits</a>(<a title="Mixin.this.global.Symbol" id="722168">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="722169">rhs</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
        <a href="#722253" title="Mixin.this.global.Transformer{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26773" title="anonymous class $anon extends Mixin.this.global.Transformer" id="722253">Transformer</a> {
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree],exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]" id="722255">transformStats</a>(<a title="List[Mixin.this.global.Tree]" id="722259">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span>[Tree], <a title="Mixin.this.global.Symbol" id="722260">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = {
            <span class="keyword">val</span> <a title="List[Mixin.this.global.erasure.global.Tree]" id="722267">stats1</a> = <a href="#722259" title="(f: (Mixin.this.global.Tree) =&gt; Traversable[Mixin.this.global.erasure.global.Tree])(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.erasure.global.Tree],List[Mixin.this.global.Tree]])List[Mixin.this.global.erasure.global.Tree]">stats</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.erasure.global.Tree],List#Coll]">flatMap</span> { <a title="Mixin.this.global.Tree" id="722276">stat</a> =&gt; <a href="#722276" title="Mixin.this.global.Tree">stat</a> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">match</span> {
              <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">case</span> Assign(<a title="Mixin.this.global.Select" id="722279">lhs</a> @ Select(This(_), _), <a title="Mixin.this.global.Tree" id="722291">rhs</a>) =&gt;
                <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="722294">sym</a> = <a href="#722168" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30211" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a>(<a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29667" title="(name: Mixin.this.global.Name)Mixin.this.global.Name">getterName</a>(<a href="#722279" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>))
                  .<a href="../symtab/Symbols.scala.html#27027" title="(cond: (Mixin.this.global.Symbol) =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a>(<a href="#722303" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26905" title="=&gt; Boolean">isGetter</a>)
                <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> (<a href="#722291" title="(x$1: AnyRef)Boolean">rhs</a> == <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
                  List<span title="object Nil">(</span>)
                <span class="keyword">else</span> <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> (<a href="#722294" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#720563" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#722294" title="Mixin.this.global.Symbol">sym</a>) &amp;&amp; <a href="#720100" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span>(<a href="#722294" title="Mixin.this.global.Symbol">sym</a>)) { 
                  <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;adding checked getter for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722294" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="../symtab/Flags.scala.html#10413" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../symtab/Flags.scala.html#28814" title="(flags: Long)String">flagsToString</a>(<a href="#722279" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26991" title="=&gt; Long">flags</a>))
                  <span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span>(<a href="#722276" title="Mixin.this.global.Tree">stat</a>, <a href="#720096" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a>(<a href="#720558" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#722168" title="Mixin.this.global.Symbol">clazz</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#722294" title="Mixin.this.global.Symbol">sym</a>))))
                } <span class="keyword">else</span> {
                  <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#722276" title="Mixin.this.global.Tree">stat</a>)
                }
              <span title="List[Nothing]" class="keyword">case</span> Apply(<a title="Mixin.this.global.Select" id="722397">setter</a> @ Select(Ident(<a title="Mixin.this.global.Name" id="722405">self</a>), _), <a href="#722411" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)) <span class="keyword">if</span> <a href="#722397" title="Mixin.this.global.Select">setter</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26906" title="=&gt; Boolean">isSetter</a> =&gt;
                // remove initialization for default values
                List<span title="object Nil">(</span>)
              <span title="List[Mixin.this.global.Tree]" class="keyword">case</span> _ =&gt; <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#722276" title="Mixin.this.global.Tree">stat</a>)
            }
            }
            <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45482" title="(stats: List[Mixin.this.global.Tree],exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]">transformStats</a>(<a href="#722267" title="List[Mixin.this.global.erasure.global.Tree]">stats1</a>, <a href="#722260" title="Mixin.this.global.Symbol">exprOwner</a>)
          }
        }.<a href="../ast/Trees.scala.html#45473" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#722169" title="Mixin.this.global.Tree">rhs</a>)
      }
      
      /** Return the number of bits used by superclass fields.
       *  This number is a conservative approximation of what is actually used:
       *    - fields initialized to the default value don't get a checked initializer
       *      but there is no way to recover this information from types alone.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Int" id="720565">usedBits</a>(<a title="Mixin.this.global.Symbol" id="722527">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>): <span title="Int">Int</span> = {
        <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="722528">isField</a>(<a title="Mixin.this.global.Symbol" id="722531">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = 
          <a href="#722531" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(4L)">PRIVATE</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#722531" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#722531" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>
        
        <span class="keyword">def</span> <a title="(sc: Mixin.this.global.Type,field: Mixin.this.global.Symbol)Boolean" id="722529">needsBitmapField</a>(<a title="Mixin.this.global.Type" id="722538">sc</a>: <a href="../symtab/Types.scala.html#26205" title="Mixin.this.global.Type">Type</a>, <a title="Mixin.this.global.Symbol" id="722539">field</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) =
          <span title="(x$1: Boolean)Boolean">!</span><a href="#722538" title="Mixin.this.global.Type">sc</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
          <a href="#722539" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#722527" title="Mixin.this.global.Symbol">clazz</a> &amp;&amp;
          (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37082" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37759" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#722528" title="(sym: Mixin.this.global.Symbol)Boolean">isField</a>(<a href="#722539" title="Mixin.this.global.Symbol">field</a>) ||
            <a href="#722539" title="Mixin.this.global.Symbol">field</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))
        
        // parents != baseClasses.map(_.tpe): bug #1535
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="722530">fields</a> = <span class="keyword">for</span> {
          <a title="Mixin.this.global.Type" id="722655">sc</a> &lt;- <a href="#722527" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Type,List[Mixin.this.global.Type],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Type]">map</span><span title="(f: (Mixin.this.global.Type) =&gt; Traversable[Mixin.this.global.Symbol])(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Type]])List[Mixin.this.global.Symbol]">(</span><a href="#722569" title="Mixin.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>)
          <a title="Mixin.this.global.Symbol" id="722672">field</a> &lt;- <a href="#722655" title="Mixin.this.global.Type">sc</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27145" title="=&gt; Iterator[Mixin.this.global.Symbol]">iterator</a>.<a title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]" id="32276">toList</a>
          <span class="keyword">if</span> <a href="#722529" title="(sc: Mixin.this.global.Type,field: Mixin.this.global.Symbol)Boolean">needsBitmapField</a>(<a href="#722655" title="Mixin.this.global.Type">sc</a>, <a href="#722672" title="Mixin.this.global.Symbol">field</a>)
        } <span class="keyword">yield</span> <a href="#722672" title="Mixin.this.global.Symbol">field</a>
        
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Found inherited fields in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#722527" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> + <a href="#722530" title="List[Mixin.this.global.Symbol]">fields</a>)
        <a href="#722530" title="List[Mixin.this.global.Symbol]">fields</a>.<a title="=&gt; Int" id="28928">length</a>
      }
      
      
      /** Fill the map from fields to offset numbers.
       *  Instead of field symbols, the map keeps their getter symbols. This makes
       *  code generation easier later.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="720566">buildFieldPositions</a>(<a title="Mixin.this.global.Symbol" id="722837">clazz</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) {
        <span class="keyword">var</span> <a title="Int" id="722838">fields</a> = <a href="#720565" title="(clazz: Mixin.this.global.Symbol)Int">usedBits</a>(<a href="#722837" title="Mixin.this.global.Symbol">clazz</a>)
        <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="722857">f</a> &lt;- <a href="#722837" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27145" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit" id="32143">iterator</a> <span class="keyword">if</span> <a href="#720563" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span title="(x$1: Boolean)Boolean">(</span><a href="#722857" title="Mixin.this.global.Symbol">f</a>) || <a href="#722857" title="Mixin.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<a href="#722857" title="Mixin.this.global.Symbol">f</a>.<a href="../symtab/Symbols.scala.html#27089" title="(x$1: Any)java.lang.String">fullNameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> + <a href="#722838" title="Int">fields</a>)
          <a href="#720100" title="(key: Mixin.this.global.Symbol,value: Int)Unit">fieldOffset</a>(<a href="#722857" title="Mixin.this.global.Symbol">f</a>) = <a href="#722838" title="Int">fields</a>
          <a href="#722838" title="Int" id="2964">fields</a> += <span title="Int(1)" class="int">1</span>
        }
      }
      
      <a href="#720566" title="(clazz: Mixin.this.global.Symbol)Unit">buildFieldPositions</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>)
      // begin addNewDefs
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Tree]" id="720567">stats1</a> = <a href="#720562" title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addCheckedGetters</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>, <a href="#720547" title="List[Mixin.this.global.Tree]">stats</a>)

      // for all symbols `sym' in the class definition, which are mixed in:
      <span class="keyword">for</span> (<a title="Mixin.this.global.Symbol" id="722931">sym</a> &lt;- <a href="#720546" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27144" title="(f: (Mixin.this.global.Symbol) =&gt; Unit)Unit">toList</a>) {
        <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(34359738368L)">MIXEDIN</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">clazz</a> hasFlag <a href="../symtab/Flags.scala.html#28739" title="=&gt; Long">lateINTERFACE</a>) {
            // if current class is a trait interface, add an abstract method for accessor `sym'
            <a href="#720553" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="722937">vparamss</a> =&gt; <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#720546" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) { 
            // if class is not a trait add accessor definitions
            <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(134217728L)">ACCESSOR</span>) &amp;&amp; 
                (<span title="(x$1: Boolean)Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(16L)">DEFERRED</span>) || (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <a href="../symtab/Flags.scala.html#28737" title="=&gt; Long">lateDEFERRED</a>))) { 
              // add accessor definitions
              <a href="#720553" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="722951">vparams</a> =&gt; {
                <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="722952">accessedRef</a> = <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
                  <span title="Mixin.this.global.Literal" class="keyword">case</span> MethodType(<a href="#722956" title="(x: List[Mixin.this.global.Symbol])Some[List[Mixin.this.global.Symbol]]">List</a>(), ConstantType(<a title="Mixin.this.global.Constant" id="722967">c</a>)) =&gt; <a href="../ast/Trees.scala.html#49342" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a>(<a href="#722967" title="Mixin.this.global.Constant">c</a>)
                  <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt; 
                    // if it is a mixed-in lazy value, complete the accessor
                    <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(2147483648L)">LAZY</span>) &amp;&amp; <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26905" title="=&gt; Boolean">isGetter</a>) {
                      <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="723007">rhs1</a> = 
                        <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>)
                          <a href="#720560" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Apply*)List[Mixin.this.global.Apply]">List</span>(<a href="../ast/Trees.scala.html#49125" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#720105" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#579637" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>)), <span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span>(<a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42681" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>)))), <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>))
                        <span class="keyword">else</span> {
                          <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="723094">assign</a> = <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Assign)Mixin.this.global.Assign">atPos</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                            <a href="../ast/Trees.scala.html#73092" title="(lhs: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a>(<a href="../ast/Trees.scala.html#26731" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>), <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; Mixin.this.global.Symbol">accessed</a>) /*gen.mkAttributedRef(sym.accessed)*/ ,
                                <a href="../ast/Trees.scala.html#49125" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#720105" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#579637" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>)), <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42681" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>) <a href="#723197" title="Mixin.this.global.gen.global.Tree">::</a> <span title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">Nil</span>))
                          }
                          <a href="#720560" title="(clazz: Mixin.this.global.Symbol,init: List[Mixin.this.global.Tree],retVal: Mixin.this.global.Tree,offset: Int)Mixin.this.global.Tree">mkLazyDef</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>, <span title="(xs: Mixin.this.global.Assign*)List[Mixin.this.global.Assign]">List</span>(<a href="#723094" title="Mixin.this.global.Assign">assign</a>), <a href="../ast/Trees.scala.html#26731" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>), <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; Mixin.this.global.Symbol">accessed</a>), <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>))
                        }
                      <a href="#723007" title="Mixin.this.global.Tree">rhs1</a>
                    } <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28277" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>) {
                      <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                    } <span class="keyword">else</span> {
                      <a href="../ast/Trees.scala.html#26731" title="(qualifier: Mixin.this.global.Tree,sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26727" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>), <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27040" title="=&gt; Mixin.this.global.Symbol">accessed</a>)
                    }
                }
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26906" title="=&gt; Boolean">isSetter</a>) {
                  <span class="keyword">val</span> <a title="Boolean" id="723353">isOverriddenSetter</a> = 
                    <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29659" title="(name: Mixin.this.global.Name)Boolean">isTraitSetterName</a><span title="(x$1: Boolean)Boolean">(</span><a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>) &amp;&amp; {
                      <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27064" title="=&gt; List[Mixin.this.global.Symbol]">allOverriddenSymbols</a> <span title="Boolean" class="keyword">match</span> {
                        <span title="Boolean" class="keyword">case</span> <a title="Mixin.this.global.Symbol" id="723361">other</a> :: _ =&gt; 
                          <a href="#579633" title="(member: Mixin.this.global.Symbol,bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a>(<a href="#723361" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#723361" title="Mixin.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>), <a href="#720546" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>)
                        <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
                          <span title="Boolean(false)" class="keyword">false</span>
                      }
                    }
                  <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723353" title="Boolean">isOverriddenSetter</a>) <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                  <span class="keyword">else</span> <a href="#722952" title="Mixin.this.global.Tree">accessedRef</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
                    <span title="Mixin.this.global.Tree" class="keyword">case</span> Literal(_) =&gt; <a href="#722952" title="Mixin.this.global.Tree">accessedRef</a>
                    <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
                      <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="723376">init</a> = <a href="../ast/Trees.scala.html#73092" title="(lhs: Mixin.this.global.Tree,rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a>(<a href="#722952" title="Mixin.this.global.Tree">accessedRef</a>, <a href="../ast/Trees.scala.html#26736" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>(<a href="#722951" title="List[Mixin.this.global.Symbol]">vparams</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>)) 
                      <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37082" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">checkInit</a>.<a href="../Settings.scala.html#37759" title="(x$1: Boolean)Boolean">value</a> &amp;&amp; <a href="#720563" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>))) {
                        <a href="../ast/Trees.scala.html#49026" title="(stats: List[Mixin.this.global.Tree],expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a>(<span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span>(<a href="#723376" title="Mixin.this.global.Assign">init</a>, <a href="#720558" title="(clazz: Mixin.this.global.Symbol,offset: Int)Mixin.this.global.Tree">mkSetFlag</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>)))), <a href="../ast/TreeDSL.scala.html#42499" title="=&gt; Mixin.this.global.Literal">UNIT</a>)
                      } <span class="keyword">else</span>
                        <a href="#723376" title="Mixin.this.global.Assign">init</a>
                  }
                } <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>) &amp;&amp; <a href="#720563" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>)) {
                  <a href="#720561" title="(clazz: Mixin.this.global.Symbol,retVal: Mixin.this.global.Tree,offset: Int,pos: scala.tools.nsc.util.Position)Mixin.this.global.Tree">mkCheckedAccessor</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>,  <a href="#722952" title="Mixin.this.global.Tree">accessedRef</a>, <a href="#720100" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>), <a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>)
                } <span class="keyword">else</span>
                  <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42688" title="(tree: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkCheckInit</a>(<a href="#722952" title="Mixin.this.global.Tree">accessedRef</a>)
              })
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26917" title="(x$1: Boolean)Boolean">isModule</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag LIFTED <span title="Long(17246978048L)">|</span> BRIDGE)) {
              // add modules 
              <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.ValDef" id="723508">vdef</a> = <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42695" title="(accessor: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.ValDef">mkModuleVarDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>)
              <a href="#720552" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#720551" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>), <a href="#723508" title="Mixin.this.global.gen.global.ValDef">vdef</a>)
              <a href="#720552" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#720551" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>), <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42696" title="(accessor: Mixin.this.global.gen.global.Symbol,mvar: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.DefDef">mkCachedModuleAccessDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>, <a href="#723508" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</a>))
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) {
              // add fields
              <a href="#720552" title="(pos: scala.tools.nsc.util.Position,tree: Mixin.this.global.Tree)Unit">addDef</a>(<a href="#720551" title="(sym: Mixin.this.global.Symbol)scala.tools.nsc.util.Position">position</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>), <a href="../ast/Trees.scala.html#26623" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>))
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(268435456L)">SUPERACCESSOR</span>) {
              // add superaccessors
              <a href="#720553" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="723553">vparams</a> =&gt; <a href="../ast/Trees.scala.html#26602" title="object Mixin.this.global.EmptyTree">EmptyTree</a>)
            } <span class="keyword">else</span> {
              // add forwarders
              <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27043" title="(x$1: AnyRef)Boolean">alias</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#722931" title="Mixin.this.global.Symbol">sym</a>)
              <a href="#720553" title="(sym: Mixin.this.global.Symbol,rhs: (List[Mixin.this.global.Symbol]) =&gt; Mixin.this.global.Tree)Unit">addDefDef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>, <a title="List[Mixin.this.global.Symbol]" id="723572">vparams</a> =&gt;
                <a href="../ast/Trees.scala.html#49125" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#720105" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#722931" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; Mixin.this.global.Symbol">alias</a>), <a href="../Global.scala.html#39031" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42681" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#720546" title="Mixin.this.global.Symbol">clazz</a>) <a href="#723593" title="Mixin.this.global.gen.global.Tree">::</a> <span title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">(</span><a href="#723572" title="(f: (Mixin.this.global.Symbol) =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List[Mixin.this.global.Symbol]])List[Mixin.this.global.Ident]">vparams</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Ident,List[Mixin.this.global.Ident],List#Coll]">map</span> <a href="../ast/Trees.scala.html#26736" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a>)))
            }
          }
        }
      }
      <a href="#720567" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#720554" title="(stats: List[Mixin.this.global.Tree],newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a>(<a href="#720567" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#720549" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a>.<a title="=&gt; List[Mixin.this.global.Tree]" id="61592">toList</a>)
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#720546" title="Mixin.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26923" title="=&gt; Boolean">isTrait</a>) <a href="#720567" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#720567" title="(f: (Mixin.this.global.Tree) =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.Tree,List[Mixin.this.global.Tree],List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">stats1</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.Tree,List[Mixin.this.global.Tree],List#Coll]">map</span> <a href="#720555" title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree">completeSuperAccessor</a>
      <a href="#720567" title="List[Mixin.this.global.Tree]">stats1</a>
    }

    /** The transform that gets applied to a tree after it has been completely
     *  traversed and possible modified by a preTransform.
     *  This step will
     *    - change every node type that refers to an implementation class to its 
     *      corresponding interface, unless the node's symbol is an implementation class.
     *    - change parents of templates to conform to parents in the symbol info
     *    - add all new definitions to a class or interface
     *    - remove widening casts
     *    - change calls to methods which are defined only in implementation classes
     *      to static calls of methods in implementation modules (@see staticCall)
     *    - change super calls to methods in implementation classes to static calls
     *      (@see staticCall)
     *    - change `this' in implementation modules to references to the self parameter
     *    - refer to fields in some implementation class vie an abstract method in the interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720107">postTransform</a>(<a title="Mixin.this.global.Tree" id="723758">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="723760">sym</a> = <a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>

      // change every node type that refers to an implementation class to its
      // corresponding interface, unless the node's symbol is an implementation class.
      <span title="Unit" class="keyword">if</span> (<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#26961" title="(x$1: Boolean)Boolean">isImplClass</a> &amp;&amp;
          (<span title="(x$1: Boolean)Boolean">(</span><a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> eq <span title="Null(null)" class="keyword">null</span>) || <span title="=&gt; Boolean">!</span><a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>))
        <a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29364" title="(t: Mixin.this.global.Type)Unit">tpe</a> = <a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Mixin.this.global.Type">tpe</a>);

      <a href="#723758" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
        <span title="Mixin.this.global.Template" class="keyword">case</span> Template(<a title="List[Mixin.this.global.Tree]" id="723777">parents</a>, <a title="Mixin.this.global.ValDef" id="723778">self</a>, <a title="List[Mixin.this.global.Tree]" id="723779">body</a>) =&gt;
          // change parents of templates to conform to parents in the symbol info
          <span class="keyword">val</span> <a title="List[Mixin.this.global.TypeTree]" id="723782">parents1</a> = <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="(f: (Mixin.this.global.Type) =&gt; Mixin.this.global.TypeTree)(implicit bf: scala.collection.generic.BuilderFactory[Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree],List[Mixin.this.global.Type]])List[Mixin.this.global.TypeTree]">parents</a> <span title="scala.collection.generic.BuilderFactory[Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree],List#Coll]">map</span> (<a title="Mixin.this.global.Type" id="723792">t</a> =&gt; <a href="../ast/Trees.scala.html#26744" title="(tp: Mixin.this.global.Type)Mixin.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.TypeTree">(</a><a href="#723792" title="Mixin.this.global.Type">t</a>) setPos <a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)

          // add all new definitions to current class or interface
          <span class="keyword">val</span> <a title="List[Mixin.this.global.Tree]" id="723783">body1</a> = <a href="#720106" title="(clazz: Mixin.this.global.Symbol,stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addNewDefs</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#723779" title="List[Mixin.this.global.Tree]">body</a>)

          <a href="../ast/Trees.scala.html#45465" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48550" title="(tree: Mixin.this.global.Tree,parents: List[Mixin.this.global.Tree],self: Mixin.this.global.ValDef,body: List[Mixin.this.global.Tree])Mixin.this.global.Template">Template</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>, <a href="#723782" title="List[Mixin.this.global.TypeTree]">parents1</a>, <a href="#723778" title="Mixin.this.global.ValDef">self</a>, <a href="#723783" title="List[Mixin.this.global.Tree]">body1</a>)

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(TypeApply(<a title="Mixin.this.global.Select" id="723894">sel</a> @ Select(<a title="Mixin.this.global.Tree" id="723899">qual</a>, <a title="Mixin.this.global.Name" id="723900">name</a>), <a href="#723904" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>(<a title="Mixin.this.global.Tree" id="723913">targ</a>)), <a href="#723918" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>())
        <span class="keyword">if</span> (<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28525" title="=&gt; Mixin.this.global.Symbol">Object_asInstanceOf</a> &amp;&amp; (<a href="#723899" title="Mixin.this.global.Tree">qual</a>.<a href="../symtab/Types.scala.html#30235" title="(that: Mixin.this.global.Type)Boolean">tpe</a> &lt;:&lt; <a href="#723913" title="Mixin.this.global.Tree">targ</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Mixin.this.global.Type">tpe</a>)) =&gt;
          // remove widening casts
          <a href="#723899" title="Mixin.this.global.Tree">qual</a>

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Apply(Select(<a title="Mixin.this.global.Tree" id="723948">qual</a>, _), <a title="List[Mixin.this.global.Tree]" id="723951">args</a>) =&gt;
          /** Changes &lt;code&gt;qual.m(args)&lt;/code&gt; where m refers to an implementation
           *  class method to Q.m(S, args) where Q is the implementation module of
           *  &lt;code&gt;m&lt;/code&gt; and S is the self parameter for the call, which
           *  is determined as follows:
           *     - if qual != super, qual itself
           *     - if qual == super, and we are in an implementation class,
           *       the current self parameter.
           *     - if qual == super, and we are not in an implementation class, `this'
           */
          <span class="keyword">def</span> <a title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree" id="723954">staticCall</a>(<a title="Mixin.this.global.Symbol" id="723955">target</a>: <a href="../symtab/Symbols.scala.html#26127" title="Mixin.this.global.Symbol">Symbol</a>) = {
            <span title="Unit" class="keyword">if</span> (<a href="#723955" title="(x$1: AnyRef)Boolean">target</a> == <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)
              <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#723760" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30217" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23143" title="=&gt; scala.tools.nsc.Phase">prev</a>)(<a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>).<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30217" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Mixin.this.global.Name">name</a>).<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>);//debug
            
            <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#49125" title="(fun: Mixin.this.global.Tree,args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a>(<a href="#720105" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a>(<a href="#723955" title="Mixin.this.global.Symbol">target</a>), <a href="#720104" title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree">transformSuper</a>(<a href="#723948" title="Mixin.this.global.Tree">qual</a>) <a href="#724040" title="Mixin.this.global.Tree">::</a> <a href="#723951" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">args</a>))
          }
          <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#579625" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>)) {
            // change calls to methods which are defined only in implementation
            // classes to static calls of methods in implementation modules
            <a href="#723954" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>)
          } <span class="keyword">else</span> <a href="#723948" title="Mixin.this.global.Tree">qual</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> {
            <span title="Mixin.this.global.Tree" class="keyword">case</span> Super(_, <a title="Mixin.this.global.Name" id="724062">mix</a>) =&gt;
              // change super calls to methods in implementation classes to static calls.
              // Transform references super.m(args) as follows:
              //  - if `m' refers to a trait, insert a static call to the correspondign static
              //    implementation
              //  - otherwise return tree unchanged
              <span title="Unit" class="keyword">if</span> (<a href="#724062" title="(x$1: AnyRef)Boolean">mix</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object Mixin.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29685" title="=&gt; Mixin.this.global.Name">EMPTY</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; Mixin.this.global.Name">toTypeName</a> &amp;&amp; <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>)
                <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;illegal super in trait: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#784722" title="=&gt; (x$1: MixinTransformer.this.type)Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#723758" title="Mixin.this.global.Tree">tree</a>);
              <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">owner</a> hasFlag <a href="../symtab/Flags.scala.html#28739" title="=&gt; Long">lateINTERFACE</a>) {
                <span title="Mixin.this.global.Tree" class="keyword">if</span> (<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(134217728L)">ACCESSOR</span>)) {
                  <span title="(assertion: Boolean)Unit">assert</span>(<a href="#723951" title="List[Mixin.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>)
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="724091">sym1</a> = <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27063" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)
                  <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)((<a href="#720104" title="(qual: Mixin.this.global.Tree)Mixin.this.global.Tree">transformSuper</a><a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">(</a><a href="#723948" title="Mixin.this.global.Tree">qual</a>) <a href="../ast/TreeDSL.scala.html#44723" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#724091" title="Mixin.this.global.Symbol">sym1</a>)())
                }
                <span class="keyword">else</span> {
                  <a href="#723954" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a>(<a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23143" title="=&gt; scala.tools.nsc.Phase">prev</a>)(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27063" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a>(<a href="#579630" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>))))
                }
              } <span class="keyword">else</span> {
                <span title="(assertion: Boolean)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a>)
                <a href="#723758" title="Mixin.this.global.Tree">tree</a>
              }
            <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
              <a href="#723758" title="Mixin.this.global.Tree">tree</a>
          }

        <span title="Mixin.this.global.gen.global.Tree" class="keyword">case</span> This(_) <span class="keyword">if</span> <a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26961" title="=&gt; Boolean">isImplClass</a> =&gt;
          // change `this' in implementation modules to references to the self parameter
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="../ast/Trees.scala.html#45467" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; Mixin.this.global.Symbol">enclClass</a>)
          <a href="#720103" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">selfRef</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)

        <span title="Mixin.this.global.Tree" class="keyword">case</span> Select(Super(_, _), <a title="Mixin.this.global.Name" id="724185">name</a>) =&gt;
          <a href="#723758" title="Mixin.this.global.Tree">tree</a>

        <span title="Mixin.this.global.erasure.global.Tree" class="keyword">case</span> Select(<a title="Mixin.this.global.Tree" id="724192">qual</a>, <a title="Mixin.this.global.Name" id="724193">name</a>) <span class="keyword">if</span> <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26961" title="(x$1: Boolean)Boolean">isImplClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#579625" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="=&gt; Boolean">!</span><a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>, <a title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" id="8101" class="string">&quot;no method allowed here: %s%s %s&quot;</a>.<a title="(args: Any*)String" id="30764">format</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>, <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26964" title="=&gt; Boolean">isImplOnly</a>, <a href="../symtab/Flags.scala.html#28814" title="(flags: Long)String">flagsToString</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26991" title="=&gt; Long">flags</a>)))

          // refer to fields in some implementation class via an abstract
          // getter in the interface.
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="724200">iface</a> = <a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>).<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="724201">getter</a> = <a href="#723760" title="Mixin.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27067" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a>(<a href="#724200" title="Mixin.this.global.Symbol">iface</a>)
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#724201" title="(x$1: AnyRef)Boolean">getter</a> != <a href="../symtab/Symbols.scala.html#26134" title="object Mixin.this.global.NoSymbol">NoSymbol</a>)
          <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)((<a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">qual</a> <a href="../ast/TreeDSL.scala.html#44723" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#724201" title="Mixin.this.global.Symbol">getter</a>)())

        <span title="Mixin.this.global.erasure.global.Tree" class="keyword">case</span> Assign(Apply(<a title="Mixin.this.global.Select" id="724289">lhs</a> @ Select(<a title="Mixin.this.global.Tree" id="724294">qual</a>, _), <a href="#724298" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a>()), <a title="Mixin.this.global.Tree" id="724310">rhs</a>) =&gt;
          // assign to fields in some implementation class via an abstract
          // setter in the interface.
          <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="724313">setter</a> = <a href="#724289" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27069" title="(base: Mixin.this.global.Symbol,hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><a href="../symtab/Symbols.scala.html#26848" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">(</a>
            <a href="#579627" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a>(<a href="#724289" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Mixin.this.global.Type">tpe</a>).<a href="../symtab/Types.scala.html#30180" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>, 
            <a href="#579635" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a>(<a href="#724289" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Mixin.this.global.Symbol">symbol</a>)
          ) setPos <a href="#724289" title="Mixin.this.global.Select">lhs</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>
          
          <a href="#720098" title="(pos: scala.tools.nsc.util.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a>(<a href="#723758" title="Mixin.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { (<a href="../ast/TreeDSL.scala.html#45085" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">qual</a> <a href="../ast/TreeDSL.scala.html#44723" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#724313" title="=&gt; Mixin.this.global.Symbol">setter</a>)(<a href="#724310" title="Mixin.this.global.Tree">rhs</a>) }

        <span title="Mixin.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#723758" title="Mixin.this.global.Tree">tree</a>
      }
    }

    /** The main transform method.
     *  This performs pre-order traversal preTransform at mixin phase;
     *  when coming back, it performs a postTransform at phase after.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="720108">transform</a>(<a title="Mixin.this.global.Tree" id="721032">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="Mixin.this.global.Tree">Tree</a> = {
      <span class="keyword">try</span> { //debug
        <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Typer" id="724370">outerTyper</a> = <a href="#720096" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="724371">tree1</a> = <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45473" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a>(<a href="#720102" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">preTransform</a>(<a href="#721032" title="Mixin.this.global.Tree">tree</a>))
        <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="724372">res</a> = <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#720107" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">postTransform</a>(<a href="#724371" title="Mixin.this.global.Tree">tree1</a>))
        // needed when not flattening inner classes. parts after an
        // inner class will otherwise be typechecked with a wrong scope
        <a href="#720096" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="#724370" title="Mixin.this.global.erasure.Typer">outerTyper</a>
        <a href="#724372" title="Mixin.this.global.Tree">res</a>
      } <span class="keyword">catch</span> {
        <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="724393">ex</a>: <a title="Throwable" id="1887">Throwable</a> =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a title="object Console" id="390">Console</a>.<a title="(x: Any)Unit" id="51323">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#721032" title="Mixin.this.global.Tree">tree</a>)
          <span title="Nothing" class="keyword">throw</span> <a href="#724393" title="java.lang.Throwable">ex</a>
      }
    }
  }
}

        </pre>
    </body>
</html>