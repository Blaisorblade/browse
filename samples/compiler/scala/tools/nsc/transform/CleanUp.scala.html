<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/CleanUp.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */
// $Id: CleanUp.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> scala.tools.nsc.util.Position
<span class="keyword">import</span> scala.collection.mutable.{ListBuffer, HashMap}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CleanUp extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.Transform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="14095">CleanUp</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Transform.scala.html#14164" title="scala.tools.nsc.transform.Transform">Transform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#11964" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> CODE._

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="581258">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;cleanup&quot;)" class="string">&quot;cleanup&quot;</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: CleanUp.this.global.CompilationUnit)CleanUp.this.global.Transformer" id="581260">newTransformer</a>(<a title="CleanUp.this.global.CompilationUnit" id="780171">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="CleanUp.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26932" title="CleanUp.this.global.Transformer">Transformer</a> =
    <span title="CleanUp.this.CleanUpTransformer" class="keyword">new</span> <a href="#581261" title="CleanUp.this.CleanUpTransformer">CleanUpTransformer</a>(<a href="#780171" title="CleanUp.this.global.CompilationUnit">unit</a>)

  <span class="keyword">class</span> <a title="class CleanUpTransformer extends CleanUp.this.global.Transformer with ScalaObject" id="581261">CleanUpTransformer</a><span title="ScalaObject">(</span><a title="CleanUp.this.global.CompilationUnit" id="780197">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="CleanUp.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#26932" title="CleanUp.this.global.Transformer">Transformer</a> {
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]" id="780177">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">ListBuffer</span>[Tree]
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]" id="780179">newInits</a> = <span title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">ListBuffer</span>[Tree]
    
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,CleanUp.this.global.Symbol]" id="780181">classConstantMeth</a> = <span title="scala.collection.mutable.HashMap[String,CleanUp.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,CleanUp.this.global.Symbol]">HashMap</span>[String, Symbol]

    // a map from the symbols of the Scala primitive types to the symbols
    // of the modules of the Java box classes
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[CleanUp.this.global.Symbol,CleanUp.this.global.Symbol]" id="780183">javaBoxClassModule</a> = <span title="scala.collection.mutable.HashMap[CleanUp.this.global.Symbol,CleanUp.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[CleanUp.this.global.Symbol,CleanUp.this.global.Symbol]">HashMap</span>[Symbol, Symbol]

    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a>) {
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28479" title="=&gt; CleanUp.this.global.Symbol">BooleanClass</a>) = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Boolean&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28465" title="=&gt; CleanUp.this.global.Symbol">ByteClass</a>)    = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Byte&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28467" title="=&gt; CleanUp.this.global.Symbol">ShortClass</a>)   = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Short&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28471" title="=&gt; CleanUp.this.global.Symbol">IntClass</a>)     = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Integer&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28469" title="=&gt; CleanUp.this.global.Symbol">CharClass</a>)    = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Character&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28473" title="=&gt; CleanUp.this.global.Symbol">LongClass</a>)    = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Long&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28475" title="=&gt; CleanUp.this.global.Symbol">FloatClass</a>)   = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Float&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28477" title="=&gt; CleanUp.this.global.Symbol">DoubleClass</a>)  = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Double&quot;</a>)
      <a href="#780183" title="(key: CleanUp.this.global.Symbol,value: CleanUp.this.global.Symbol)Unit">javaBoxClassModule</a>(<a href="../symtab/Definitions.scala.html#28463" title="=&gt; CleanUp.this.global.Symbol">UnitClass</a>)    = <a href="../symtab/Definitions.scala.html#28760" title="(fullname: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getModule</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;java.lang.Void&quot;</a>)
    }

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="CleanUp.this.global.analyzer.Typer" id="780186">localTyper</a>: analyzer.<a href="../typechecker/Typers.scala.html#40153" title="CleanUp.this.global.analyzer.Typer">Typer</a> = <span title="Null(null)" class="keyword">null</span>
    
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object CleanUpTransformer.this.MethodDispatchType" id="780188">MethodDispatchType</a> <a title="ScalaObject" id="41195" class="keyword">extends</a> scala.<a title="Enumeration" id="995">Enumeration</a> {
      <span class="keyword">val</span> <a title="scala.tools.nsc.transform.CleanUp.CleanUpTransformer.MethodDispatchType.Value" id="780378">NO_CACHE</a>, <a title="scala.tools.nsc.transform.CleanUp.CleanUpTransformer.MethodDispatchType.Value" id="780380">MONO_CACHE</a>, <a title="scala.tools.nsc.transform.CleanUp.CleanUpTransformer.MethodDispatchType.Value" id="780382">POLY_CACHE</a> = <span title="=&gt; scala.tools.nsc.transform.CleanUp.CleanUpTransformer.MethodDispatchType.Value">Value</span>
    }
    <span class="keyword">import</span> MethodDispatchType.{ NO_CACHE, MONO_CACHE, POLY_CACHE }
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()CleanUpTransformer.this.MethodDispatchType.Value" id="780191">dispatchType</a>() = <a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37375" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">refinementMethodDispatch</a>.<a href="../Settings.scala.html#37988" title="=&gt; java.lang.String">value</a> <span title="CleanUpTransformer.this.MethodDispatchType.Value" class="keyword">match</span> {
      <span title="CleanUpTransformer.this.MethodDispatchType.Value" class="keyword">case</span> <span title="java.lang.String(&quot;no-cache&quot;)" class="string">&quot;no-cache&quot;</span>   =&gt; <a href="#780378" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">NO_CACHE</a>
      <span title="CleanUpTransformer.this.MethodDispatchType.Value" class="keyword">case</span> <span title="java.lang.String(&quot;mono-cache&quot;)" class="string">&quot;mono-cache&quot;</span> =&gt; <a href="#780380" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">MONO_CACHE</a>
      <span title="CleanUpTransformer.this.MethodDispatchType.Value" class="keyword">case</span> <span title="java.lang.String(&quot;poly-cache&quot;)" class="string">&quot;poly-cache&quot;</span> =&gt; <a href="#780382" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">POLY_CACHE</a>
    }
      
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree" id="780192">typedWithPos</a>(<a title="scala.tools.nsc.util.Position" id="780409">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>)(<a title="CleanUp.this.global.Tree" id="780410">tree</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>) =
      <a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">localTyper</a> typed { <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">atPos</a>(<a href="#780409" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#780410" title="CleanUp.this.global.Tree">tree</a>) }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sig: String)CleanUp.this.global.Symbol" id="780193">classConstantMethod</a>(<a title="scala.tools.nsc.util.Position" id="780436">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="String" id="780437">sig</a>: <span title="String">String</span>): <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> = 
      <a title="(default: =&gt; CleanUp.this.global.Symbol)CleanUp.this.global.Symbol" id="35236">(</a><a href="#780181" title="(key: String)Option[CleanUp.this.global.Symbol]" id="44613">classConstantMeth</a> get <a href="#780437" title="String">sig</a>) getOrElse {
        <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="780448">forName</a> = <a href="../symtab/Definitions.scala.html#28764" title="(owner: CleanUp.this.global.Symbol,name: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getMember</a>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27213" title="=&gt; CleanUp.this.global.Symbol">linkedModuleOfClass</a>, <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30074" title="=&gt; CleanUp.this.global.Name">forName</a>)
        <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="780449">owner</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; (x$1: CleanUpTransformer.this.type)CleanUp.this.global.Symbol" id="786878">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; CleanUp.this.global.Symbol">enclClass</a>

        <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="780450">cvar</a> = <a href="#780449" title="CleanUp.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27023" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newVariable</a>(<a href="#780436" title="scala.tools.nsc.util.Position">pos</a>, <a href="#780197" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">(</a><a href="#780436" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;class$Cache&quot;)" class="string">&quot;class$Cache&quot;</span>))
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)CleanUp.this.global.TermSymbol">setFlag</a>(PRIVATE | STATIC | MUTABLE <span title="Long(10489860L)">|</span> SYNTHETIC).<a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)
        <a href="#780449" title="CleanUp.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; CleanUp.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">decls</a> enter <a href="#780450" title="CleanUp.this.global.TermSymbol">cvar</a>
        <span class="keyword">val</span> <a title="CleanUp.this.global.analyzer.global.Tree" id="780451">cdef</a> = <a href="#780192" title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedWithPos</a>(<a href="#780436" title="scala.tools.nsc.util.Position">pos</a>) { <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#780450" title="CleanUp.this.global.TermSymbol">cvar</a>) === <a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a> }

        <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="780452">meth</a> = <a href="#780449" title="CleanUp.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newMethod</a>(<a href="#780436" title="scala.tools.nsc.util.Position">pos</a>, <a href="#780197" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">(</a><a href="#780436" title="scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;class$Method&quot;)" class="string">&quot;class$Method&quot;</span>))
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)CleanUp.this.global.TermSymbol">setFlag</a>(PRIVATE | STATIC <span title="Long(10485764L)">|</span> SYNTHETIC).<a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[CleanUp.this.global.Symbol],resultType: CleanUp.this.global.Type)CleanUp.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>))
        <a href="#780449" title="CleanUp.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; CleanUp.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">decls</a> enter <a href="#780452" title="CleanUp.this.global.TermSymbol">meth</a>
        <span class="keyword">val</span> <a title="CleanUp.this.global.analyzer.global.Tree" id="780453">mdef</a> = <a href="#780192" title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedWithPos</a>(<a href="#780436" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/TreeDSL.scala.html#42754" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.DefStart">DEF</a><a href="../ast/TreeDSL.scala.html#570415" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.DefDef">(</a><a href="#780452" title="CleanUp.this.global.TermSymbol">meth</a>) === 
          <a href="../Global.scala.html#39263" title="object CleanUp.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42926" title="(cvar: CleanUp.this.global.gen.global.Symbol,expr: CleanUp.this.global.gen.global.Tree)CleanUp.this.global.gen.global.Tree">mkCached</a>(<a href="#780450" title="CleanUp.this.global.TermSymbol">cvar</a>, <a href="../ast/Trees.scala.html#49378" title="(fun: CleanUp.this.global.Tree,args: List[CleanUp.this.global.Tree])CleanUp.this.global.Apply">Apply</a>(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#780448" title="CleanUp.this.global.Symbol">forName</a>), <span title="(xs: CleanUp.this.global.Literal*)List[CleanUp.this.global.Literal]">List</span>(<a href="../ast/Trees.scala.html#26899" title="(value: Any)CleanUp.this.global.Literal">Literal</a>(<a href="#780437" title="String">sig</a>))))
        )

        <a href="#780177" title="=&gt; scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">newDefs</a>.<span title="(elems: CleanUp.this.global.Tree*)Unit">append</span>(<a href="#780451" title="CleanUp.this.global.analyzer.global.Tree">cdef</a>, <a href="#780453" title="CleanUp.this.global.analyzer.global.Tree">mdef</a>)
        <a href="#780181" title="=&gt; scala.collection.mutable.HashMap[String,CleanUp.this.global.Symbol]">classConstantMeth</a>.<span title="(key: String,value: CleanUp.this.global.Symbol)Unit">update</span>(<a href="#780437" title="String">sig</a>, <a href="#780452" title="CleanUp.this.global.TermSymbol">meth</a>)
        <a href="#780452" title="CleanUp.this.global.TermSymbol">meth</a>
      }
    
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: CleanUp.this.global.CompilationUnit)Unit" id="780194">transformUnit</a>(<a title="CleanUp.this.global.CompilationUnit" id="780736">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="CleanUp.this.global.CompilationUnit">CompilationUnit</a>) =
      <a href="#780736" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45670" title="(x$1: CleanUp.this.global.Tree)Unit">body</a> = <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780736" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; CleanUp.this.global.Tree">body</a>)
        
    /** A value class is defined to be only Java-compatible values: unit is
      * not part of it, as opposed to isValueClass in definitions. scala.Int is
      * a value class, java.lang.Integer is not. */
    <span class="keyword">def</span> <a title="(sym: CleanUp.this.global.Symbol)Boolean" id="780195">isValueClass</a>(<a title="CleanUp.this.global.Symbol" id="780753">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a>) = <a href="../symtab/Definitions.scala.html#28775" title="(key: CleanUp.this.global.Symbol)Boolean">boxedClass</a> contains <a href="#780753" title="CleanUp.this.global.Symbol">sym</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree" id="780196">transform</a>(<a title="CleanUp.this.global.Tree" id="780745">tree</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="#780745" title="CleanUp.this.global.Tree">tree</a> <span title="CleanUp.this.global.Tree" class="keyword">match</span> {
        
      /* Transforms dynamic calls (i.e. calls to methods that are undefined
       * in the erased type space) to -- dynamically -- unsafe calls using
       * reflection. This is used for structural sub-typing of refinement
       * types, but may be used for other dynamic calls in the future.
       * For 'a.f(b)' it will generate something like:
       * 'a.getClass().
       * '  getMethod(&quot;f&quot;, Array(classOf[b.type])).
       * '  invoke(a, Array(b)) 
       * plus all the necessary casting/boxing/etc. machinery required
       * for type-compatibility (see fixResult and fixParams).
       * 
       * USAGE CONTRACT:
       * There are a number of assumptions made on the way a dynamic apply
       * is used. Assumptions relative to type are handled by the erasure
       * phase.
       * - The applied arguments are compatible with AnyRef, which means
       *   that an argument tree typed as AnyVal has already been extended
       *   with the necessary boxing calls. This implies that passed
       *   arguments might not be strictly compatible with the method's
       *   parameter types (a boxed integer while int is expected).
       * - The expected return type is an AnyRef, even when the method's
       *   return type is an AnyVal. This means that the tree containing the
       *   call has already been extended with the necessary unboxing calls
       *   (or is happy with the boxed type).
       * - The type-checker has prevented dynamic applies on methods which
       *   parameter's erased types are not statically known at the call site.
       *   This is necessary to allow dispatching the call to the correct
       *   method (dispatching on paramters is static in Scala). In practice,
       *   this limitation only arises when the called method is defined as a
       *   refinement, where the refinement defines a parameter based on a
       *   type variable. */
      <span title="CleanUp.this.global.Tree" class="keyword">case</span> <a title="CleanUp.this.global.ApplyDynamic" id="780759">ad</a>@ApplyDynamic(<a title="CleanUp.this.global.Tree" id="780762">qual0</a>, <a title="List[CleanUp.this.global.Tree]" id="780763">params</a>) =&gt;
        <span class="keyword">def</span> <a title="(s: String)String" id="780766">mkName</a>(<a title="String" id="780787">s</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) =
          <span title="String" class="keyword">if</span> (<a href="#780787" title="(x$1: AnyRef)Boolean">s</a> == <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <a href="#780197" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../util/FreshNameCreator.scala.html#74286" title="(pos: scala.tools.nsc.util.Position)String">fresh</a> newName <a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>
          <span class="keyword">else</span> <a href="#780197" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780787" title="String">s</a>)
        <span class="keyword">def</span> <a title="(s: String)CleanUp.this.global.Name" id="780767">mkTerm</a>(<a title="String" id="780813">s</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) = <a href="../symtab/Names.scala.html#26207" title="(s: String)CleanUp.this.global.Name">newTermName</a>(<a href="#780766" title="(s: String)String">mkName</a>(<a href="#780813" title="String">s</a>))
        <span class="keyword">val</span> <a title="(CleanUp.this.global.Tree) =&gt; CleanUp.this.global.analyzer.global.Tree" id="780768">typedPos</a> = <a href="#780192" title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedWithPos</a><a href="#780824" title="CleanUp.this.global.Tree">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) _
        
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27115" title="=&gt; Boolean">isPublic</a>)
        <span class="keyword">var</span> <a title="CleanUp.this.global.Tree" id="780769">qual</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="#780762" title="CleanUp.this.global.Tree">qual0</a>
          
        /* ### CREATING THE METHOD CACHE ### */
        
        <span class="keyword">def</span> <a title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol" id="780770">addStaticVariableToClass</a>(<a title="String" id="780833">forName</a>: <span title="String">String</span>, <a title="CleanUp.this.global.Type" id="780834">forType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>, <a title="CleanUp.this.global.Tree" id="780835">forInit</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>): <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> = {
          <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="780836">varSym</a> = <a href="../ast/Trees.scala.html#45703" title="=&gt; CleanUp.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27023" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newVariable</a>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780766" title="(s: String)String">mkName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">(</a><a href="#780833" title="String">forName</a>))
            .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)CleanUp.this.global.TermSymbol">setFlag</a>(PRIVATE | STATIC | MUTABLE <span title="Long(10489860L)">|</span> SYNTHETIC)
            .<a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">setInfo</a>(<a href="#780834" title="CleanUp.this.global.Type">forType</a>)
          <a href="../ast/Trees.scala.html#45703" title="=&gt; CleanUp.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; CleanUp.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">decls</a> enter <a href="#780836" title="CleanUp.this.global.TermSymbol">varSym</a>
          
          <span class="keyword">val</span> <a title="CleanUp.this.global.analyzer.global.Tree" id="780837">varDef</a> = <a href="#780768" title="(v1: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedPos</a>( <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#780836" title="CleanUp.this.global.TermSymbol">varSym</a>) === <a href="#780835" title="CleanUp.this.global.Tree">forInit</a> )
          <a href="#780177" title="(elems: CleanUp.this.global.Tree*)Unit">newDefs</a> append <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780837" title="CleanUp.this.global.analyzer.global.Tree">varDef</a>)
          
          <span class="keyword">val</span> <a title="CleanUp.this.global.analyzer.global.Tree" id="780838">varInit</a> = <a href="#780768" title="(v1: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedPos</a>( <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#780836" title="CleanUp.this.global.TermSymbol">varSym</a>) === <a href="#780835" title="CleanUp.this.global.Tree">forInit</a> )
          <a href="#780179" title="(elems: CleanUp.this.global.Tree*)Unit">newInits</a> append <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780838" title="CleanUp.this.global.analyzer.global.Tree">varInit</a>)
          
          <a href="#780836" title="CleanUp.this.global.TermSymbol">varSym</a>
        }
        
        <span class="keyword">def</span> <a title="(forName: String,forArgsTypes: List[CleanUp.this.global.Type],forResultType: CleanUp.this.global.Type)(forBody: ((CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])) =&gt; CleanUp.this.global.Tree)CleanUp.this.global.Symbol" id="780771">addStaticMethodToClass</a>(<a title="String" id="780958">forName</a>: <span title="String">String</span>, <a title="List[CleanUp.this.global.Type]" id="780959">forArgsTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type], <a title="CleanUp.this.global.Type" id="780960">forResultType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>)
                                  (<a title="((CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])) =&gt; CleanUp.this.global.Tree" id="780961">forBody</a>: Pair[Symbol, List[Symbol]] =&gt; Tree): <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> = {
          <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="780962">methSym</a> = <a href="../ast/Trees.scala.html#45703" title="=&gt; CleanUp.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newMethod</a>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780766" title="(s: String)String">mkName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">(</a><a href="#780958" title="String">forName</a>))
            .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)CleanUp.this.global.TermSymbol">setFlag</a>(STATIC <span title="Long(10485760L)">|</span> SYNTHETIC)
            
          <a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)methSym.type">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[CleanUp.this.global.Symbol],resultType: CleanUp.this.global.Type)CleanUp.this.global.MethodType">MethodType</a>(<a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>.<a href="../symtab/Symbols.scala.html#27041" title="(argtypes: List[CleanUp.this.global.Type])List[CleanUp.this.global.Symbol]">newSyntheticValueParams</a>(<a href="#780959" title="List[CleanUp.this.global.Type]">forArgsTypes</a>), <a href="#780960" title="CleanUp.this.global.Type">forResultType</a>))
          <a href="../ast/Trees.scala.html#45703" title="=&gt; CleanUp.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; CleanUp.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">decls</a> enter <a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>
          
          <span class="keyword">val</span> <a title="CleanUp.this.global.analyzer.global.Tree" id="780963">methDef</a> = <a href="#780768" title="(v1: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedPos</a>( <a href="../ast/Trees.scala.html#26791" title="(sym: CleanUp.this.global.Symbol,rhs: CleanUp.this.global.Tree)CleanUp.this.global.DefDef">DefDef</a>(<a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>, { <a href="#780961" title="(v1: (CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol]))CleanUp.this.global.Tree">forBody</a>(<a title="(x: CleanUp.this.global.TermSymbol,y: List[CleanUp.this.global.Symbol])(CleanUp.this.global.TermSymbol, List[CleanUp.this.global.Symbol])" id="7964">Pair</a>(<a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>, <a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>.<a href="../symtab/Symbols.scala.html#27176" title="(n: Int)List[CleanUp.this.global.Symbol]">paramss</a>(<span title="Int(0)" class="int">0</span>))) }) )
          <a href="#780177" title="(elems: CleanUp.this.global.Tree*)Unit">newDefs</a> append <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780963" title="CleanUp.this.global.analyzer.global.Tree">methDef</a>)
          
          <a href="#780962" title="CleanUp.this.global.TermSymbol">methSym</a>
        }
        
        <span class="keyword">def</span> <a title="(paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Tree" id="780772">fromTypesToClassArrayLiteral</a>(<a title="List[CleanUp.this.global.Type]" id="781113">paramTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type]): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> =
          <a href="../ast/Trees.scala.html#146117" title="(elemtpt: CleanUp.this.global.Tree,elems: List[CleanUp.this.global.Tree])CleanUp.this.global.ArrayValue">ArrayValue</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: CleanUp.this.global.Type)CleanUp.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="#781113" title="(f: (CleanUp.this.global.Type) =&gt; CleanUp.this.global.Literal)(implicit bf: scala.collection.generic.BuilderFactory[CleanUp.this.global.Literal,List[CleanUp.this.global.Tree],List[CleanUp.this.global.Type]])List[CleanUp.this.global.Tree]">paramTypes</a> <span title="scala.collection.generic.BuilderFactory[CleanUp.this.global.Literal,List[CleanUp.this.global.Literal],List#Coll]">map</span> <a href="../ast/TreeDSL.scala.html#42721" title="object CleanUp.this.CODE.LIT">LIT</a>)
        
        <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.TypeRef" id="780773">theTypeClassArray</a> =
          <a href="../symtab/Types.scala.html#43074" title="(pre: CleanUp.this.global.Type,sym: CleanUp.this.global.Symbol,args: List[CleanUp.this.global.Type])CleanUp.this.global.TypeRef">TypeRef</a>(<a href="../symtab/Definitions.scala.html#28579" title="=&gt; CleanUp.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30376" title="=&gt; CleanUp.this.global.Type">prefix</a>, <a href="../symtab/Definitions.scala.html#28579" title="=&gt; CleanUp.this.global.Symbol">ArrayClass</a>, <span title="(xs: CleanUp.this.global.Type*)List[CleanUp.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>))
        
        /* ... */
        <span class="keyword">def</span> <a title="(method: String,paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Symbol" id="780774">reflectiveMethodCache</a>(<a title="String" id="781212">method</a>: <span title="String">String</span>, <a title="List[CleanUp.this.global.Type]" id="781213">paramTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type]): <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> = <a href="#780191" title="()CleanUpTransformer.this.MethodDispatchType.Value">dispatchType</a> <span title="CleanUp.this.global.Symbol" class="keyword">match</span> {
          <span title="CleanUp.this.global.Symbol" class="keyword">case</span> <a href="#780378" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">NO_CACHE</a> =&gt;
              
              /* Implementation of the cache is as follows for method &quot;def xyz(a: A, b: B)&quot;:
                
                var reflParams$Cache: Array[Class[_]] = Array[JClass](classOf[A], classOf[B])
                
                def reflMethod$Method(forReceiver: JClass[_]): JMethod =
                  forReceiver.getMethod(&quot;xyz&quot;, reflParams$Cache)
              
              */

              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781216">reflParamsCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflParams$Cache&quot;)" class="string">&quot;reflParams$Cache&quot;</span>, <a href="#780773" title="=&gt; CleanUp.this.global.TypeRef">theTypeClassArray</a>, <a href="#780772" title="(paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Tree">fromTypesToClassArrayLiteral</a>(<a href="#781213" title="List[CleanUp.this.global.Type]">paramTypes</a>))
              
              <a href="#780771" title="(forName: String,forArgsTypes: List[CleanUp.this.global.Type],forResultType: CleanUp.this.global.Type)(forBody: ((CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])) =&gt; CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticMethodToClass</a>(<span title="java.lang.String(&quot;reflMethod$Method&quot;)" class="string">&quot;reflMethod$Method&quot;</span>, <span title="(xs: CleanUp.this.global.Type*)List[CleanUp.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>) <a href="#781233" title="CleanUp.this.global.Tree">{</a>
                <span title="CleanUp.this.global.Apply" class="keyword">case</span> <a href="#781234" title="(x: (CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol]))Option[(CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])]">Pair</a>(<a title="CleanUp.this.global.Symbol" id="781244">reflMethodSym</a>, <a href="#781246" title="(x: List[CleanUp.this.global.Symbol])Some[List[CleanUp.this.global.Symbol]]">List</a>(<a title="CleanUp.this.global.Symbol" id="781255">forReceiverSym</a>)) =&gt;
                  (<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="#781255" title="CleanUp.this.global.Symbol">forReceiverSym</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="../symtab/Definitions.scala.html#28523" title="=&gt; CleanUp.this.global.Symbol">Class_getMethod</a>)(<a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)CleanUp.this.global.Literal">LIT</a>(<a href="#781212" title="String">method</a>), <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781216" title="CleanUp.this.global.Symbol">reflParamsCacheSym</a>))
              }
              
            <span title="CleanUp.this.global.Symbol" class="keyword">case</span> <a href="#780380" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">MONO_CACHE</a> =&gt;
              
              /* Implementation of the cache is as follows for method &quot;def xyz(a: A, b: B)&quot;:
                
                var reflParams$Cache: Array[Class[_]] = Array[JClass](classOf[A], classOf[B])
              
                var reflMethod$Cache: JMethod = null
                
                var reflClass$Cache: JClass[_] = null
                
                def reflMethod$Method(forReceiver: JClass[_]): JMethod = {
                  if (reflClass$Cache != forReceiver) {
                    reflMethod$Cache = forReceiver.getMethod(&quot;xyz&quot;, reflParams$Cache)
                    reflClass$Cache = forReceiver
                  }
                  reflMethod$Cache
                }
              
              */
              
              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781313">reflParamsCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflParams$Cache&quot;)" class="string">&quot;reflParams$Cache&quot;</span>, <a href="#780773" title="=&gt; CleanUp.this.global.TypeRef">theTypeClassArray</a>, <a href="#780772" title="(paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Tree">fromTypesToClassArrayLiteral</a>(<a href="#781213" title="List[CleanUp.this.global.Type]">paramTypes</a>))
              
              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781314">reflMethodCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflMethod$Cache&quot;)" class="string">&quot;reflMethod$Cache&quot;</span>, <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>, <a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a>)
              
              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781315">reflClassCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflClass$Cache&quot;)" class="string">&quot;reflClass$Cache&quot;</span>, <a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>, <a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a>)
                
              <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Symbol" id="781316">getMethodSym</a> = <a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Types.scala.html#30403" title="(name: CleanUp.this.global.Name)CleanUp.this.global.Symbol">tpe</a> member <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30084" title="=&gt; CleanUp.this.global.Name">getMethod_</a>
              
              <a href="#780771" title="(forName: String,forArgsTypes: List[CleanUp.this.global.Type],forResultType: CleanUp.this.global.Type)(forBody: ((CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])) =&gt; CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticMethodToClass</a>(<span title="java.lang.String(&quot;reflMethod$Method&quot;)" class="string">&quot;reflMethod$Method&quot;</span>, <span title="(xs: CleanUp.this.global.Type*)List[CleanUp.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>) <a href="#781340" title="CleanUp.this.global.Tree">{</a>
                <span title="CleanUp.this.global.Block" class="keyword">case</span> <a href="#781341" title="(x: (CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol]))Option[(CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])]">Pair</a>(<a title="CleanUp.this.global.Symbol" id="781351">reflMethodSym</a>, <a href="#781353" title="(x: List[CleanUp.this.global.Symbol])Some[List[CleanUp.this.global.Symbol]]">List</a>(<a title="CleanUp.this.global.Symbol" id="781362">forReceiverSym</a>)) =&gt;
                  <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
                    <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">(</a><a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45301" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Apply">(</a><a href="#781315" title="CleanUp.this.global.Symbol">reflClassCacheSym</a>) ANY_NE <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781362" title="CleanUp.this.global.Symbol">forReceiverSym</a>)) THEN <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
                      <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#781314" title="CleanUp.this.global.Symbol">reflMethodCacheSym</a>) === ((<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="#781362" title="CleanUp.this.global.Symbol">forReceiverSym</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="#781316" title="=&gt; CleanUp.this.global.Symbol">getMethodSym</a>)(<a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)CleanUp.this.global.Literal">LIT</a>(<a href="#781212" title="String">method</a>), <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781313" title="CleanUp.this.global.Symbol">reflParamsCacheSym</a>))) ,
                      <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#781315" title="CleanUp.this.global.Symbol">reflClassCacheSym</a>) === <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781362" title="CleanUp.this.global.Symbol">forReceiverSym</a>),
                      <a href="../ast/TreeDSL.scala.html#42731" title="=&gt; CleanUp.this.global.Literal">UNIT</a>
                    ) <a href="../ast/TreeDSL.scala.html#50043" title="=&gt; CleanUp.this.global.If">ENDIF</a>,
                    <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781314" title="CleanUp.this.global.Symbol">reflMethodCacheSym</a>)
                  )
              }
              
            <span title="CleanUp.this.global.Symbol" class="keyword">case</span> <a href="#780382" title="=&gt; CleanUpTransformer.this.MethodDispatchType.Value">POLY_CACHE</a> =&gt;
              
              /* Implementation of the cache is as follows for method &quot;def xyz(a: A, b: B)&quot;:
                
                var reflParams$Cache: Array[Class[_]] = Array[JClass](classOf[A], classOf[B])
              
                var reflPoly$Cache: scala.runtime.MethodCache = new EmptyMethodCache()
                
                def reflMethod$Method(forReceiver: JClass[_]): JMethod = {
                  var method: JMethod = reflPoly$Cache.find(forReceiver)
                  if (method != null)
                    return method
                  else {
                    method = forReceiver.getMethod(&quot;xyz&quot;, reflParams$Cache)
                    reflPoly$Cache = reflPoly$Cache.add(forReceiver, method)
                    return method
                  }
                }
              
              */
              
              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781534">reflParamsCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflParams$Cache&quot;)" class="string">&quot;reflParams$Cache&quot;</span>, <a href="#780773" title="=&gt; CleanUp.this.global.TypeRef">theTypeClassArray</a>, <a href="#780772" title="(paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Tree">fromTypesToClassArrayLiteral</a>(<a href="#781213" title="List[CleanUp.this.global.Type]">paramTypes</a>))
              
              <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781535">reflPolyCacheSym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a> =
                <a href="#780770" title="(forName: String,forType: CleanUp.this.global.Type,forInit: CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticVariableToClass</a>(<span title="java.lang.String(&quot;reflPoly$Cache&quot;)" class="string">&quot;reflPoly$Cache&quot;</span>, <a href="../symtab/Definitions.scala.html#28590" title="=&gt; CleanUp.this.global.Symbol">MethodCacheClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>, <a href="../ast/TreeDSL.scala.html#42751" title="(tpe: CleanUp.this.global.Tree,args: CleanUp.this.global.Tree*)CleanUp.this.global.Tree">NEW</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: CleanUp.this.global.Type)CleanUp.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28588" title="=&gt; CleanUp.this.global.Symbol">EmptyMethodCacheClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)))
                
              <a href="#780771" title="(forName: String,forArgsTypes: List[CleanUp.this.global.Type],forResultType: CleanUp.this.global.Type)(forBody: ((CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])) =&gt; CleanUp.this.global.Tree)CleanUp.this.global.Symbol">addStaticMethodToClass</a>(<span title="java.lang.String(&quot;reflMethod$Method&quot;)" class="string">&quot;reflMethod$Method&quot;</span>, <span title="(xs: CleanUp.this.global.Type*)List[CleanUp.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28521" title="=&gt; CleanUp.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)
                <a href="#781576" title="CleanUp.this.global.Tree">{</a> <span title="CleanUp.this.global.Block" class="keyword">case</span> <a href="#781577" title="(x: (CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol]))Option[(CleanUp.this.global.Symbol, List[CleanUp.this.global.Symbol])]">Pair</a>(<a title="CleanUp.this.global.Symbol" id="781587">reflMethodSym</a>, <a href="#781589" title="(x: List[CleanUp.this.global.Symbol])Some[List[CleanUp.this.global.Symbol]]">List</a>(<a title="CleanUp.this.global.Symbol" id="781598">forReceiverSym</a>)) =&gt;
                  <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="781601">methodSym</a> = <a href="#781587" title="CleanUp.this.global.Symbol">reflMethodSym</a>.<a href="../symtab/Symbols.scala.html#27023" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newVariable</a><a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780767" title="(s: String)CleanUp.this.global.Name">mkTerm</a>(<span title="java.lang.String(&quot;method&quot;)" class="string">&quot;method&quot;</span>)) setInfo <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>
                  
                  <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
                    <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>) === ((<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="#781535" title="CleanUp.this.global.Symbol">reflPolyCacheSym</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="../symtab/Definitions.scala.html#28592" title="=&gt; CleanUp.this.global.Symbol">methodCache_find</a>)(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781598" title="CleanUp.this.global.Symbol">forReceiverSym</a>))) ,
                    <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> (<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45306" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Apply">(</a><a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>) OBJ_!= <a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a>) .
                      <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">THEN</a> <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: CleanUp.this.global.Tree)CleanUp.this.global.If">(</a><a href="../ast/Trees.scala.html#129417" title="(expr: CleanUp.this.global.Tree)CleanUp.this.global.Return">Return</a>(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>)))
                    ELSE {
                      <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Apply" id="781722">methodSymRHS</a>  = ((<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="#781598" title="CleanUp.this.global.Symbol">forReceiverSym</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="../symtab/Definitions.scala.html#28523" title="=&gt; CleanUp.this.global.Symbol">Class_getMethod</a>)(<a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)CleanUp.this.global.Literal">LIT</a>(<a href="#781212" title="String">method</a>), <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781534" title="CleanUp.this.global.Symbol">reflParamsCacheSym</a>)))
                      <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Apply" id="781723">cacheRHS</a>      = ((<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="#781535" title="CleanUp.this.global.Symbol">reflPolyCacheSym</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="../symtab/Definitions.scala.html#28593" title="=&gt; CleanUp.this.global.Symbol">methodCache_add</a>)(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781598" title="CleanUp.this.global.Symbol">forReceiverSym</a>), <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>)))
                      <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
                        <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>)        === <a href="#781722" title="=&gt; CleanUp.this.global.Apply">methodSymRHS</a>,
                        <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#781535" title="CleanUp.this.global.Symbol">reflPolyCacheSym</a>) === <a href="#781723" title="=&gt; CleanUp.this.global.Apply">cacheRHS</a>,
                        <a href="../ast/Trees.scala.html#129417" title="(expr: CleanUp.this.global.Tree)CleanUp.this.global.Return">Return</a>(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#781601" title="CleanUp.this.global.TermSymbol">methodSym</a>))
                      )
                    }
                  )
                }
        }
        
        /* ### HANDLING METHODS NORMALLY COMPILED TO OPERATORS ### */
        
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="780775">mayRequirePrimitiveReplacement</a>: <span title="Boolean">Boolean</span> = {
        
          <span class="keyword">def</span> <a title="(sym: CleanUp.this.global.Symbol)Boolean" id="781912">isBoxed</a>(<a title="CleanUp.this.global.Symbol" id="781914">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="CleanUp.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
            (<span title="(x$1: Boolean)Boolean">(</span><a href="../symtab/Symbols.scala.html#27182" title="(that: CleanUp.this.global.Symbol)Boolean">sym</a> isNonBottomSubClass <a href="../symtab/Definitions.scala.html#28735" title="=&gt; CleanUp.this.global.Symbol">BoxedNumberClass</a>) ||
              (<span title="(x$1: Boolean)Boolean">!</span><a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a> &amp;&amp; (<a href="../symtab/Symbols.scala.html#27182" title="(that: CleanUp.this.global.Symbol)Boolean">sym</a> isNonBottomSubClass <a href="../symtab/Definitions.scala.html#28737" title="=&gt; CleanUp.this.global.Symbol">BoxedCharacterClass</a>)))
          
          <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="781913">sym</a> = <a href="#780769" title="CleanUp.this.global.Tree">qual</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>
          <span title="(x$1: Boolean)Boolean">(</span><a href="#781913" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#26638" title="object CleanUp.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28453" title="=&gt; CleanUp.this.global.Symbol">ObjectClass</a>) || <a href="#781912" title="(sym: CleanUp.this.global.Symbol)Boolean">isBoxed</a>(<a href="#781913" title="CleanUp.this.global.Symbol">sym</a>)
          
        }
        
        <span class="keyword">val</span> <a title="CleanUp.this.global.Tree" id="780776">testForNumber</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>     = <a href="../ast/TreeDSL.scala.html#45299" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Tree">(</a><a href="../ast/TreeDSL.scala.html#45324" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.gen.global.Tree">qual</a> <a href="../ast/TreeDSL.scala.html#42770" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: CleanUp.this.global.Tree)CleanUp.this.CODE.TreeMethods">IS_OBJ</a> <a href="../symtab/Definitions.scala.html#28735" title="=&gt; CleanUp.this.global.Symbol">BoxedNumberClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>) OR (<a href="../ast/TreeDSL.scala.html#45324" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.gen.global.Tree">qual</a> IS_OBJ <a href="../symtab/Definitions.scala.html#28737" title="=&gt; CleanUp.this.global.Symbol">BoxedCharacterClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)
        <span class="keyword">val</span> <a title="CleanUp.this.global.Tree" id="780777">testForBoolean</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>    = (<a href="../ast/TreeDSL.scala.html#45324" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.gen.global.Tree">qual</a> IS_OBJ <a href="../symtab/Definitions.scala.html#28739" title="=&gt; CleanUp.this.global.Symbol">BoxedBooleanClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)
        <span class="keyword">val</span> <a title="CleanUp.this.global.Tree" id="780778">testForNumberOrBoolean</a>  = <a href="../ast/TreeDSL.scala.html#45299" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Tree">testForNumber</a> OR <a href="#780777" title="CleanUp.this.global.Tree">testForBoolean</a>
        
        <span class="keyword">val</span> <a title="PartialFunction[CleanUp.this.global.Name,(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)]" id="780779">getPrimitiveReplacementForStructuralCall</a>: <a title="PartialFunction[CleanUp.this.global.Name,(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)]" id="1106">PartialFunction</a>[Name, (Symbol, Tree)] = {
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]" id="782025">testsForNumber</a> = <span title="(elems: (CleanUp.this.global.Name, Nothing)*)scala.collection.immutable.Map[CleanUp.this.global.Name,Nothing]">Map</span><span title="(elems: Traversable[(CleanUp.this.global.Name, java.lang.String)])scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]">(</span>) ++ <span title="(xs: (CleanUp.this.global.Name, java.lang.String)*)List[(CleanUp.this.global.Name, java.lang.String)]">List</span>(
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30220" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">UNARY_+</a> -&gt; <span title="java.lang.String(&quot;positive&quot;)" class="string">&quot;positive&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30222" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">UNARY_-</a> -&gt; <span title="java.lang.String(&quot;negate&quot;)" class="string">&quot;negate&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30218" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">UNARY_~</a> -&gt; <span title="java.lang.String(&quot;complement&quot;)" class="string">&quot;complement&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30184" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">ADD</a>     -&gt; <span title="java.lang.String(&quot;add&quot;)" class="string">&quot;add&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30186" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">SUB</a>     -&gt; <span title="java.lang.String(&quot;subtract&quot;)" class="string">&quot;subtract&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30188" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">MUL</a>     -&gt; <span title="java.lang.String(&quot;multiply&quot;)" class="string">&quot;multiply&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30190" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">DIV</a>     -&gt; <span title="java.lang.String(&quot;divide&quot;)" class="string">&quot;divide&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30192" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">MOD</a>     -&gt; <span title="java.lang.String(&quot;takeModulo&quot;)" class="string">&quot;takeModulo&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30212" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">LSL</a>     -&gt; <span title="java.lang.String(&quot;shiftSignedLeft&quot;)" class="string">&quot;shiftSignedLeft&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30214" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">LSR</a>     -&gt; <span title="java.lang.String(&quot;shiftLogicalRight&quot;)" class="string">&quot;shiftLogicalRight&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30216" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">ASR</a>     -&gt; <span title="java.lang.String(&quot;shiftSignedRight&quot;)" class="string">&quot;shiftSignedRight&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30198" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">LT</a>      -&gt; <span title="java.lang.String(&quot;testLessThan&quot;)" class="string">&quot;testLessThan&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30200" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">LE</a>      -&gt; <span title="java.lang.String(&quot;testLessOrEqualThan&quot;)" class="string">&quot;testLessOrEqualThan&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30204" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">GE</a>      -&gt; <span title="java.lang.String(&quot;testGreaterOrEqualThan&quot;)" class="string">&quot;testGreaterOrEqualThan&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30202" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">GT</a>      -&gt; <span title="java.lang.String(&quot;testGreaterThan&quot;)" class="string">&quot;testGreaterThan&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30234" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toByte</a>  -&gt; <span title="java.lang.String(&quot;toByte&quot;)" class="string">&quot;toByte&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30236" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toShort</a> -&gt; <span title="java.lang.String(&quot;toShort&quot;)" class="string">&quot;toShort&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30238" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toChar</a>  -&gt; <span title="java.lang.String(&quot;toCharacter&quot;)" class="string">&quot;toCharacter&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30240" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toInt</a>   -&gt; <span title="java.lang.String(&quot;toInteger&quot;)" class="string">&quot;toInteger&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30242" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toLong</a>  -&gt; <span title="java.lang.String(&quot;toLong&quot;)" class="string">&quot;toLong&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30244" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toFloat</a> -&gt; <span title="java.lang.String(&quot;toFloat&quot;)" class="string">&quot;toFloat&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30246" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">toDouble</a>-&gt; <span title="java.lang.String(&quot;toDouble&quot;)" class="string">&quot;toDouble&quot;</span>
          )
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]" id="782026">testsForBoolean</a> = <span title="(elems: (CleanUp.this.global.Name, Nothing)*)scala.collection.immutable.Map[CleanUp.this.global.Name,Nothing]">Map</span><span title="(elems: Traversable[(CleanUp.this.global.Name, java.lang.String)])scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]">(</span>) ++ <span title="(xs: (CleanUp.this.global.Name, java.lang.String)*)List[(CleanUp.this.global.Name, java.lang.String)]">List</span>(
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30224" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">UNARY_!</a> -&gt; <span title="java.lang.String(&quot;takeNot&quot;)" class="string">&quot;takeNot&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30182" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">ZOR</a>     -&gt; <span title="java.lang.String(&quot;takeConditionalOr&quot;)" class="string">&quot;takeConditionalOr&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30180" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">ZAND</a>    -&gt; <span title="java.lang.String(&quot;takeConditionalAnd&quot;)" class="string">&quot;takeConditionalAnd&quot;</span>
          )
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]" id="782027">testsForNumberOrBoolean</a> = <span title="(elems: (CleanUp.this.global.Name, Nothing)*)scala.collection.immutable.Map[CleanUp.this.global.Name,Nothing]">Map</span><span title="(elems: Traversable[(CleanUp.this.global.Name, java.lang.String)])scala.collection.immutable.Map[CleanUp.this.global.Name,java.lang.String]">(</span>) ++ <span title="(xs: (CleanUp.this.global.Name, java.lang.String)*)List[(CleanUp.this.global.Name, java.lang.String)]">List</span>(
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30206" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">OR</a>      -&gt; <span title="java.lang.String(&quot;takeOr&quot;)" class="string">&quot;takeOr&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30208" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">XOR</a>     -&gt; <span title="java.lang.String(&quot;takeXor&quot;)" class="string">&quot;takeXor&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30210" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">AND</a>     -&gt; <span title="java.lang.String(&quot;takeAnd&quot;)" class="string">&quot;takeAnd&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30194" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">EQ</a>      -&gt; <span title="java.lang.String(&quot;testEqual&quot;)" class="string">&quot;testEqual&quot;</span>,
            <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30196" title="(y: java.lang.String)(CleanUp.this.global.Name, java.lang.String)">NE</a>      -&gt; <span title="java.lang.String(&quot;testNotEqual&quot;)" class="string">&quot;testNotEqual&quot;</span>
          )
          <span class="keyword">def</span> <a title="(name: String)CleanUp.this.global.Symbol" id="782028">get</a>(<a title="String" id="783070">name</a>: <span title="String">String</span>) = <a href="../symtab/Definitions.scala.html#28764" title="(owner: CleanUp.this.global.Symbol,name: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getMember</a>(<a href="../symtab/Definitions.scala.html#28727" title="=&gt; CleanUp.this.global.Symbol">BoxesRunTimeClass</a>, <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">name</a>)
          
          /** Begin partial function. */
          <a href="#783082" title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">{</a>
            <span title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)" class="keyword">case</span> <a title="CleanUp.this.global.Name" id="783083">x</a> <span class="keyword">if</span> <a href="#782025" title="(key: CleanUp.this.global.Name)Boolean">testsForNumber</a> contains <a href="#783083" title="CleanUp.this.global.Name">x</a>           =&gt; <span title="(_1: CleanUp.this.global.Symbol,_2: CleanUp.this.global.Tree)(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">(</span><a href="#782028" title="(name: String)CleanUp.this.global.Symbol">get</a>(<a href="#782025" title="(key: CleanUp.this.global.Name)java.lang.String">testsForNumber</a>(<a href="#783083" title="CleanUp.this.global.Name">x</a>)), <a href="#780776" title="CleanUp.this.global.Tree">testForNumber</a>)
            <span title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)" class="keyword">case</span> <a title="CleanUp.this.global.Name" id="783111">x</a> <span class="keyword">if</span> <a href="#782026" title="(key: CleanUp.this.global.Name)Boolean">testsForBoolean</a> contains <a href="#783111" title="CleanUp.this.global.Name">x</a>          =&gt; <span title="(_1: CleanUp.this.global.Symbol,_2: CleanUp.this.global.Tree)(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">(</span><a href="#782028" title="(name: String)CleanUp.this.global.Symbol">get</a>(<a href="#782026" title="(key: CleanUp.this.global.Name)java.lang.String">testsForBoolean</a>(<a href="#783111" title="CleanUp.this.global.Name">x</a>)), <a href="#780777" title="CleanUp.this.global.Tree">testForBoolean</a>)
            <span title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)" class="keyword">case</span> <a title="CleanUp.this.global.Name" id="783139">x</a> <span class="keyword">if</span> <a href="#782027" title="(key: CleanUp.this.global.Name)Boolean">testsForNumberOrBoolean</a> contains <a href="#783139" title="CleanUp.this.global.Name">x</a>  =&gt; <span title="(_1: CleanUp.this.global.Symbol,_2: CleanUp.this.global.Tree)(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">(</span><a href="#782028" title="(name: String)CleanUp.this.global.Symbol">get</a>(<a href="#782027" title="(key: CleanUp.this.global.Name)java.lang.String">testsForNumberOrBoolean</a>(<a href="#783139" title="CleanUp.this.global.Name">x</a>)), <a href="#780778" title="CleanUp.this.global.Tree">testForNumberOrBoolean</a>)
          }
        }
        
        <span class="keyword">def</span> <a title="(t: CleanUp.this.global.Tree)CleanUp.this.global.Block" id="780780">boxArray</a>(<a title="CleanUp.this.global.Tree" id="783167">t</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>) = {
          <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="783168">sym</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; CleanUp.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780767" title="(s: String)CleanUp.this.global.Name">mkTerm</a>()) setInfo <a href="../symtab/Definitions.scala.html#28453" title="=&gt; CleanUp.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>            
          <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
            <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#783168" title="CleanUp.this.global.TermSymbol">sym</a>) === <a href="#783167" title="CleanUp.this.global.Tree">t</a>,
            <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">(</a><a href="../ast/TreeDSL.scala.html#45303" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Apply">NULL</a> ANY_== <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#783168" title="CleanUp.this.global.TermSymbol">sym</a>)) <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: CleanUp.this.global.Tree)CleanUp.this.global.If">THEN</a> <a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a> ELSE <a href="../Global.scala.html#39263" title="object CleanUp.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42932" title="(meth: CleanUp.this.global.gen.global.Name,args: List[CleanUp.this.global.gen.global.Tree])CleanUp.this.global.gen.global.Tree">mkRuntimeCall</a>(<a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30028" title="=&gt; CleanUp.this.global.Name">boxArray</a>, <span title="(xs: CleanUp.this.global.gen.global.Tree*)List[CleanUp.this.global.gen.global.Tree]">List</span>(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#783168" title="CleanUp.this.global.TermSymbol">sym</a>)))
          )
        }
        
        /* ### BOXING PARAMS &amp; UNBOXING RESULTS ### */
        
        /* Transforms the result of a reflective call (always an AnyRef) to
         * the actual result value (an AnyRef too). The transformation
         * depends on the method's static return type.
         * - for units (void), the reflective call will return null: a new
         *   boxed unit is generated.
         * - for arrays, the reflective call will return an unboxed array:
         *   the resulting array is boxed.
         * - otherwise, the value is simply casted to the expected type. This
         *   is enough even for value (int et al.) values as the result of
         *   a dynamic call will box them as a side-effect. */
        <span class="keyword">def</span> <a title="(resType: CleanUp.this.global.Type)(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree" id="780781">fixResult</a>(<a title="CleanUp.this.global.Type" id="783249">resType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>)(<a title="CleanUp.this.global.Tree" id="783250">tree</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">localTyper</a> typed {
          <a href="#783249" title="CleanUp.this.global.Type">resType</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a> <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">match</span> {
            <span title="CleanUp.this.global.Block" class="keyword">case</span> <a href="../symtab/Definitions.scala.html#28463" title="=&gt; CleanUp.this.global.Symbol">UnitClass</a>    =&gt; <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(<a href="#783250" title="CleanUp.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="../symtab/Definitions.scala.html#28745" title="=&gt; CleanUp.this.global.Symbol">BoxedUnit_UNIT</a>))
            <span title="CleanUp.this.global.Block" class="keyword">case</span> <a href="../symtab/Definitions.scala.html#28579" title="=&gt; CleanUp.this.global.Symbol">ArrayClass</a>   =&gt; <a href="#780780" title="(t: CleanUp.this.global.Tree)CleanUp.this.global.Block">boxArray</a>(<a href="#783250" title="CleanUp.this.global.Tree">tree</a>)
            <span title="CleanUp.this.global.Tree" class="keyword">case</span> <a href="../symtab/Definitions.scala.html#28453" title="=&gt; CleanUp.this.global.Symbol">ObjectClass</a>  =&gt; <a href="#783250" title="CleanUp.this.global.Tree">tree</a>
            <span title="CleanUp.this.global.Tree" class="keyword">case</span> _            =&gt; <a href="../ast/TreeDSL.scala.html#45322" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.Tree">tree</a> AS_ATTR <a href="#783249" title="CleanUp.this.global.Type">resType</a>
          }
        }
        
        /* Transforms the parameters of a dynamic apply (always AnyRefs) to
         * something compatible with reflective calls. The transformation depends
         * on the method's static parameter types.
         * - for (unboxed) arrays, the (non-null) value is tested for its erased
         *   type. If it is a boxed array, the array is unboxed. If it is an
         *   unboxed array, it is left alone - except that for varargs in structural
         *   types to work properly, if the parameter is an Array and the parameter
         *   type a Seq, it is routed through the boxed logic. */
        <span class="keyword">def</span> <a title="(params: List[CleanUp.this.global.Tree],paramTypes: List[CleanUp.this.global.Type])List[CleanUp.this.global.Tree]" id="780782">fixParams</a>(<a title="List[CleanUp.this.global.Tree]" id="783293">params</a>: <span title="List[CleanUp.this.global.Tree]">List</span>[Tree], <a title="List[CleanUp.this.global.Type]" id="783294">paramTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type]): <span title="List[CleanUp.this.global.Tree]">List</span>[Tree] = {
          <span class="keyword">def</span> <a title="(param: CleanUp.this.global.Tree,paramType: CleanUp.this.global.Type)CleanUp.this.global.Block" id="783295">doUnboxedArray</a>(<a title="CleanUp.this.global.Tree" id="783296">param</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>, <a title="CleanUp.this.global.Type" id="783297">paramType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>) = {
            <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="783298">sym</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; CleanUp.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780767" title="(s: String)CleanUp.this.global.Name">mkTerm</a>()) setInfo <a href="../symtab/Definitions.scala.html#28453" title="=&gt; CleanUp.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>
            <span title="(assertion: Boolean)Unit">assert</span>(<a href="#783297" title="CleanUp.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[CleanUp.this.global.Type]">typeArgs</a>.<span title="(x$1: Int)Boolean">length</span> == <span title="Int(1)" class="int">1</span>)
            <span class="keyword">val</span> <a title="CleanUp.this.global.Type" id="783299">arrayType</a> = <a href="#783297" title="CleanUp.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#30378" title="(n: Int)CleanUp.this.global.Type">typeArgs</a>(<span title="Int(0)" class="int">0</span>).<a href="../symtab/Types.scala.html#30392" title="=&gt; CleanUp.this.global.Type">normalize</a>
            <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="783301">unboxMethod</a> = <a href="../symtab/Definitions.scala.html#28764" title="(owner: CleanUp.this.global.Symbol,name: CleanUp.this.global.Name)CleanUp.this.global.Symbol">getMember</a>(<a href="../symtab/Definitions.scala.html#28729" title="=&gt; CleanUp.this.global.Symbol">BoxedArrayClass</a>, <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30168" title="=&gt; CleanUp.this.global.Name">unbox</a>)
            
            <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
              <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#783298" title="CleanUp.this.global.TermSymbol">sym</a>) === <a href="#783296" title="CleanUp.this.global.Tree">param</a>,
              <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> (<a href="../ast/TreeDSL.scala.html#45303" title="(other: CleanUp.this.global.Tree)CleanUp.this.global.Apply">NULL</a> ANY_== <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#783298" title="CleanUp.this.global.TermSymbol">sym</a>)) .
                <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">THEN</a> (<a href="../ast/TreeDSL.scala.html#42727" title="=&gt; CleanUp.this.global.Literal">NULL</a>) .
              <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: CleanUp.this.global.Tree)CleanUp.this.global.If">ELSE</a> (
                <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> (<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45324" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.gen.global.Tree">(</a><a href="#783298" title="CleanUp.this.global.TermSymbol">sym</a>) IS_OBJ <a href="../symtab/Definitions.scala.html#28729" title="=&gt; CleanUp.this.global.Symbol">BoxedArrayClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>) .
                  <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">THEN</a> <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: CleanUp.this.global.Tree)CleanUp.this.global.If">(</a>(<a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">(</a><a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45322" title="(tpe: CleanUp.this.global.Type)CleanUp.this.global.Tree">(</a><a href="#783298" title="CleanUp.this.global.TermSymbol">sym</a>) <a href="../ast/TreeDSL.scala.html#42770" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: CleanUp.this.global.Tree)CleanUp.this.CODE.TreeMethods">AS_ATTR</a> <a href="../symtab/Definitions.scala.html#28729" title="=&gt; CleanUp.this.global.Symbol">BoxedArrayClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>) <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="#783300" title="=&gt; CleanUp.this.global.Symbol">unboxMethod</a>)(<a href="../ast/TreeDSL.scala.html#49582" title="(x: Any)CleanUp.this.global.Literal">LIT</a>(<a href="#783299" title="CleanUp.this.global.Type">arrayType</a>)))
                ELSE
                  <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#783298" title="CleanUp.this.global.TermSymbol">sym</a>)
              )
            )
          }
          <span class="keyword">for</span> ((<a title="CleanUp.this.global.Tree" id="783612">param</a>, <a title="CleanUp.this.global.Type" id="783613">paramType</a>) &lt;- <a href="#783293" title="(that: Iterable[CleanUp.this.global.Type])(implicit bf: scala.collection.generic.BuilderFactory[(CleanUp.this.global.Tree, CleanUp.this.global.Type),List[(CleanUp.this.global.Tree, CleanUp.this.global.Type)],List[CleanUp.this.global.Tree]])List[(CleanUp.this.global.Tree, CleanUp.this.global.Type)]" id="25607">params</a> <a href="#783588" title="(f: ((CleanUp.this.global.Tree, CleanUp.this.global.Type)) =&gt; CleanUp.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[CleanUp.this.global.analyzer.global.Tree,List[CleanUp.this.global.Tree],List[(CleanUp.this.global.Tree, CleanUp.this.global.Type)]])List[CleanUp.this.global.Tree]">zip</a> <a href="#783294" title="List[CleanUp.this.global.Type]">paramTypes</a>) <span class="keyword">yield</span> <a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">localTyper</a> typed {
            <span title="(_1: CleanUp.this.global.Type,_2: CleanUp.this.global.Symbol)(CleanUp.this.global.Type, CleanUp.this.global.Symbol)">(</span><a href="#783612" title="CleanUp.this.global.Tree">param</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>, <a href="#783613" title="CleanUp.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>) <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">match</span> {
              <span title="CleanUp.this.global.Block" class="keyword">case</span> (_, <a href="../symtab/Definitions.scala.html#28579" title="=&gt; CleanUp.this.global.Symbol">ArrayClass</a>)                        =&gt; <a href="#783295" title="(param: CleanUp.this.global.Tree,paramType: CleanUp.this.global.Type)CleanUp.this.global.Block">doUnboxedArray</a>(<a href="#783612" title="CleanUp.this.global.Tree">param</a>, <a href="#783613" title="CleanUp.this.global.Type">paramType</a>)
              <span title="CleanUp.this.global.Block" class="keyword">case</span> (TypeRef(_, <a href="../symtab/Definitions.scala.html#28579" title="=&gt; CleanUp.this.global.Symbol">ArrayClass</a>, _), <a href="../symtab/Definitions.scala.html#28560" title="=&gt; CleanUp.this.global.Symbol">SeqClass</a>)  =&gt; <a href="#780780" title="(t: CleanUp.this.global.Tree)CleanUp.this.global.Block">boxArray</a>(<a href="#783612" title="CleanUp.this.global.Tree">param</a>)  // ticket #1141
              <span title="CleanUp.this.global.Tree" class="keyword">case</span> _                                      =&gt; <a href="#783612" title="CleanUp.this.global.Tree">param</a>
            }
          }
        }
        
        /* ### CALLING THE APPLY -&gt; one for operators (see above), one for normal methods ### */
        <span class="keyword">def</span> <a title="(paramTypes: List[CleanUp.this.global.Type],resType: CleanUp.this.global.Type)CleanUp.this.global.Tree" id="780783">callAsOperator</a>(<a title="List[CleanUp.this.global.Type]" id="783678">paramTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type], <a title="CleanUp.this.global.Type" id="783679">resType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">localTyper</a> typed {
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Tree" id="783689">default</a> = <a href="#780784" title="(paramTypes: List[CleanUp.this.global.Type],resType: CleanUp.this.global.Type)CleanUp.this.global.Tree">callAsMethod</a>(<a href="#783678" title="List[CleanUp.this.global.Type]">paramTypes</a>, <a href="#783679" title="CleanUp.this.global.Type">resType</a>)
          // This is more indirect than it should be (and I don't think it spots every
          // case either) but it's the most direct way I could see to address ticket #1110
          // given the information available from this vantage.
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="783690">useOperator</a> =
            <span title="(x$1: Boolean)Boolean">(</span><a href="#780779" title="(x: CleanUp.this.global.Name)Boolean" id="25668">getPrimitiveReplacementForStructuralCall</a> isDefinedAt <a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; CleanUp.this.global.Name">name</a>) &amp;&amp;
            (<a title="(p: (CleanUp.this.global.Type) =&gt; Boolean)Boolean" id="29121">(</a><a href="#783679" title="CleanUp.this.global.Type">resType</a> <a href="#783698" title="CleanUp.this.global.Type">::</a> <a href="#783678" title="(x: CleanUp.this.global.Type)List[CleanUp.this.global.Type]">paramTypes</a>) forall (<a title="CleanUp.this.global.Type" id="783711">x</a> =&gt; <a href="#780195" title="(sym: CleanUp.this.global.Symbol)Boolean">isValueClass</a>(<a href="#783711" title="CleanUp.this.global.Type">x</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>)))
          
          <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#783690" title="=&gt; Boolean">useOperator</a>) {
            <span class="keyword">val</span> <a href="#36621" title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">(</a><a href="#783718" title="CleanUp.this.global.Symbol" id="36621">operator</a>, <a href="#783718" title="CleanUp.this.global.Tree" id="36623">test</a>)  = <a href="#780779" title="(v1: CleanUp.this.global.Name)(CleanUp.this.global.Symbol, CleanUp.this.global.Tree)">getPrimitiveReplacementForStructuralCall</a><a title="(CleanUp.this.global.Symbol, CleanUp.this.global.Tree) @unchecked" id="1175">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; CleanUp.this.global.Name">name</a>)
            <span class="keyword">def</span> <a title="=&gt; List[CleanUp.this.global.Tree]" id="783721">args</a>              = <a href="#780769" title="CleanUp.this.global.Tree">qual</a> <a href="#783741" title="CleanUp.this.global.Tree">::</a> <a href="#780782" title="(params: List[CleanUp.this.global.Tree],paramTypes: List[CleanUp.this.global.Type])List[CleanUp.this.global.Tree]">fixParams</a><span title="(x: CleanUp.this.global.Tree)List[CleanUp.this.global.Tree]">(</span><a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>, <a href="#783678" title="List[CleanUp.this.global.Type]">paramTypes</a>)
            
            <a href="../ast/TreeDSL.scala.html#42756" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">IF</a> <a href="../ast/TreeDSL.scala.html#50041" title="(x: CleanUp.this.global.Tree)CleanUp.this.CODE.IfStart">(</a><a href="#36623" title="CleanUp.this.global.Tree">test</a>) <a href="../ast/TreeDSL.scala.html#50042" title="(elsep: CleanUp.this.global.Tree)CleanUp.this.global.If">THEN</a> (<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#45314" title="(params: List[CleanUp.this.global.Tree])CleanUp.this.global.Apply">(</a><a href="#36621" title="CleanUp.this.global.Symbol">operator</a>) APPLY <a href="#783721" title="=&gt; List[CleanUp.this.global.Tree]">args</a>) ELSE <a href="#783689" title="=&gt; CleanUp.this.global.Tree">default</a>
          }
          <span class="keyword">else</span> <a href="#783689" title="=&gt; CleanUp.this.global.Tree">default</a>
        }
        
        <span class="keyword">def</span> <a title="(paramTypes: List[CleanUp.this.global.Type],resType: CleanUp.this.global.Type)CleanUp.this.global.Tree" id="780784">callAsMethod</a>(<a title="List[CleanUp.this.global.Type]" id="783691">paramTypes</a>: <span title="List[CleanUp.this.global.Type]">List</span>[Type], <a title="CleanUp.this.global.Type" id="783692">resType</a>: <a href="../symtab/Types.scala.html#26364" title="CleanUp.this.global.Type">Type</a>): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="#780186" title="=&gt; CleanUp.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">typed</a> {
          // reflective method call machinery
          <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="783807">invokeName</a>  = <a href="../symtab/Definitions.scala.html#28586" title="=&gt; CleanUp.this.global.Symbol">MethodClass</a>.<a href="../symtab/Types.scala.html#30403" title="(name: CleanUp.this.global.Name)CleanUp.this.global.Symbol">tpe</a> member <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30092" title="=&gt; CleanUp.this.global.Name">invoke_</a>    // reflect.Method.invoke(...)
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.gen.global.Tree" id="783808">cache</a>       = <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#780774" title="(method: String,paramTypes: List[CleanUp.this.global.Type])CleanUp.this.global.Symbol">reflectiveMethodCache</a>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; CleanUp.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a>, <a href="#783691" title="List[CleanUp.this.global.Type]">paramTypes</a>)) // cache Symbol
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Apply" id="783809">lookup</a>      = <a href="../ast/Trees.scala.html#49378" title="(fun: CleanUp.this.global.Tree,args: List[CleanUp.this.global.Tree])CleanUp.this.global.Apply">Apply</a>(<a href="#783808" title="=&gt; CleanUp.this.global.gen.global.Tree">cache</a>, <span title="(xs: CleanUp.this.global.Apply*)List[CleanUp.this.global.Apply]">List</span>(<a href="../ast/TreeDSL.scala.html#42770" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: CleanUp.this.global.Tree)CleanUp.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#45326" title="()CleanUp.this.global.Apply">GETCLASS</a>))     // get Method object from cache
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.ArrayValue" id="783810">args</a>        = <a href="../ast/Trees.scala.html#146117" title="(elemtpt: CleanUp.this.global.Tree,elems: List[CleanUp.this.global.Tree])CleanUp.this.global.ArrayValue">ArrayValue</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: CleanUp.this.global.Type)CleanUp.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28453" title="=&gt; CleanUp.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="#780782" title="(params: List[CleanUp.this.global.Tree],paramTypes: List[CleanUp.this.global.Type])List[CleanUp.this.global.Tree]">fixParams</a>(<a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>, <a href="#783691" title="List[CleanUp.this.global.Type]">paramTypes</a>))  // args for invocation
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Apply" id="783811">invocation</a>  = (<a href="../ast/TreeDSL.scala.html#45317" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.SelectStart">lookup</a> <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="#783807" title="CleanUp.this.global.Symbol">invokeName</a>)(<a href="#780769" title="CleanUp.this.global.Tree">qual</a>, <a href="#783810" title="=&gt; CleanUp.this.global.ArrayValue">args</a>)   // .invoke(qual, ...)
          
          // exception catching machinery
          <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="783812">invokeExc</a>   = <a href="../ast/Trees.scala.html#45699" title="=&gt; CleanUp.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780767" title="(s: String)CleanUp.this.global.Name">mkTerm</a>()) setInfo <a href="../symtab/Definitions.scala.html#28495" title="=&gt; CleanUp.this.global.Symbol">InvocationTargetExceptionClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Bind" id="783813">catchVar</a>    = <a href="../ast/Trees.scala.html#26831" title="(sym: CleanUp.this.global.Symbol,body: CleanUp.this.global.Tree)CleanUp.this.global.Bind">Bind</a>(<a href="#783812" title="CleanUp.this.global.TermSymbol">invokeExc</a>, <a href="../ast/Trees.scala.html#50628" title="(expr: CleanUp.this.global.Tree,tpt: CleanUp.this.global.Tree)CleanUp.this.global.Typed">Typed</a>(<a href="../ast/Trees.scala.html#52132" title="(name: CleanUp.this.global.Name)CleanUp.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; CleanUp.this.global.Name">WILDCARD</a>), <a href="../ast/Trees.scala.html#26903" title="(tp: CleanUp.this.global.Type)CleanUp.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28495" title="=&gt; CleanUp.this.global.Symbol">InvocationTargetExceptionClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>)))
          <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Throw" id="783814">catchBody</a>   = <a href="../ast/Trees.scala.html#80688" title="(expr: CleanUp.this.global.Tree)CleanUp.this.global.Throw">Throw</a>(<a href="../ast/Trees.scala.html#49378" title="(fun: CleanUp.this.global.Tree,args: List[CleanUp.this.global.Tree])CleanUp.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: CleanUp.this.global.Tree,name: CleanUp.this.global.Name)CleanUp.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Ident">Ident</a>(<a href="#783812" title="CleanUp.this.global.TermSymbol">invokeExc</a>), <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30080" title="=&gt; CleanUp.this.global.Name">getCause</a>), <span title="object Nil">Nil</span>))

          // try { method.invoke } catch { case e: InvocationTargetExceptionClass =&gt; throw e.getCause() }
          <a href="../ast/TreeDSL.scala.html#42757" title="(tree: CleanUp.this.global.Tree)CleanUp.this.CODE.TryStart">TRY</a> <a href="../ast/TreeDSL.scala.html#570516" title="(xs: CleanUp.this.global.CaseDef*)CleanUp.this.CODE.TryStart">(</a><a href="#783811" title="=&gt; CleanUp.this.global.Apply">invocation</a>) CATCH { <a href="../ast/TreeDSL.scala.html#42746" title="(pat: CleanUp.this.global.Tree)CleanUp.this.CODE.CaseStart">CASE</a> <a href="../ast/TreeDSL.scala.html#544350" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.CaseDef">(</a><a href="#783813" title="=&gt; CleanUp.this.global.Bind">catchVar</a>) ==&gt; <a href="#783814" title="=&gt; CleanUp.this.global.Throw">catchBody</a> } <a href="../ast/TreeDSL.scala.html#570518" title="=&gt; CleanUp.this.global.Try">ENDTRY</a>
        }
        
        <span class="keyword">def</span> <a title="(q: CleanUp.this.global.Tree)CleanUp.this.global.Tree" id="780785">getClass</a>(<a title="CleanUp.this.global.Tree" id="784124">q</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = (<a href="../ast/TreeDSL.scala.html#45316" title="(member: CleanUp.this.global.Name)CleanUp.this.CODE.SelectStart">q</a> <a href="../ast/TreeDSL.scala.html#44955" title="(args: CleanUp.this.global.Tree*)CleanUp.this.global.Apply">DOT</a> <a href="../symtab/StdNames.scala.html#26690" title="object CleanUp.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30082" title="=&gt; CleanUp.this.global.Name">getClass_</a>)()
        
      <span title="CleanUp.this.global.Tree" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37375" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">refinementMethodDispatch</a>.<a href="../Settings.scala.html#37988" title="(x$1: AnyRef)Boolean">value</a> == <span title="java.lang.String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span>) {
/*        val guardCallSite: Tree = {
          val cachedClass = addStaticVariableToClass(&quot;cachedClass&quot;, definitions.ClassClass.tpe, EmptyTree)
          val tmpVar = currentOwner.newVariable(ad.pos, unit.fresh.newName(ad.pos, &quot;x&quot;)).setInfo(definitions.AnyRefClass.tpe)
          atPos(ad.pos)(Block(List(
            ValDef(tmpVar, transform(qual))),
            If(Apply(Select(gen.mkAttributedRef(cachedClass), nme.EQ), List(getClass(Ident(tmpVar)))),
               Block(List(Assign(gen.mkAttributedRef(cachedClass), getClass(Ident(tmpVar)))),
                     treeCopy.ApplyDynamic(ad, Ident(tmpVar), transformTrees(params))),
               EmptyTree)))
        }
        //println(guardCallSite)
*/
        <a href="#780186" title="=&gt; CleanUp.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">typed</a>(<a href="../ast/Trees.scala.html#45697" title="=&gt; CleanUp.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48824" title="(tree: CleanUp.this.global.Tree,qual: CleanUp.this.global.Tree,args: List[CleanUp.this.global.Tree])CleanUp.this.global.ApplyDynamic">ApplyDynamic</a>(<a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>, <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780769" title="CleanUp.this.global.Tree">qual</a>), <a href="../ast/Trees.scala.html#45706" title="(trees: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">transformTrees</a>(<a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>)))
      } <span class="keyword">else</span> {
        
        /* ### BODY OF THE TRANSFORMATION -&gt; remember we're in case ad@ApplyDynamic(qual, params) ### */
        
        /* This creates the tree that does the reflective call (see general comment
         * on the apply-dynamic tree for its format). This tree is simply composed
         * of three succesive calls, first to getClass on the callee, then to
         * getMethod on the classs, then to invoke on the method.
         * - getMethod needs an array of classes for choosing one amongst many
         *   overloaded versions of the method. This is provided by paramTypeClasses
         *   and must be done on the static type as Scala's dispatching is static on
         *   the parameters.
         * - invoke needs an array of AnyRefs that are the method's arguments. The
         *   erasure phase guarantees that any parameter passed to a dynamic apply
         *   is compatible (through boxing). Boxed ints et al. is what invoke expects
         *   when the applied method expects ints, hence no change needed there.
         *   On the other hand, arrays must be dealt with as they must be entered
         *   unboxed in the parameter array of invoke. fixParams is responsible for 
         *   that.
         * - in the end, the result of invoke must be fixed, again to deal with arrays.
         *   This is provided by fixResult. fixResult will cast the invocation's result
         *   to the method's return type, which is generally ok, except when this type
         *   is a value type (int et al.) in which case it must cast to the boxed version
         *   because invoke only returns object and erasure made sure the result is
         *   expected to be an AnyRef. */
        <span class="keyword">val</span> <a title="CleanUp.this.global.Tree" id="784187">t</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a> = <a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a> <span title="CleanUp.this.global.Tree" class="keyword">match</span> {
          <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">case</span> MethodType(<a title="List[CleanUp.this.global.Symbol]" id="784190">mparams</a>, <a title="CleanUp.this.global.Type" id="784191">resType</a>) =&gt;
            <span title="(assertion: Boolean)Unit">assert</span>(<a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>.<span title="(x$1: Int)Boolean">length</span> == <a href="#784190" title="List[CleanUp.this.global.Symbol]">mparams</a>.<span title="=&gt; Int">length</span>)
            <a href="#780768" title="(v1: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedPos</a> {
              <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="784206">sym</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; CleanUp.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">(</a><a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780767" title="(s: String)CleanUp.this.global.Name">mkTerm</a>(<span title="java.lang.String(&quot;qual&quot;)" class="string">&quot;qual&quot;</span>)) setInfo <a href="#780762" title="CleanUp.this.global.Tree">qual0</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>
              <a href="#780769" title="CleanUp.this.global.Tree">qual</a> = <a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#784206" title="CleanUp.this.global.TermSymbol">sym</a>)
              
              <span class="keyword">def</span> <a title="=&gt; CleanUp.this.global.Type" id="784207">resTypeForFix</a> = <span title="CleanUp.this.global.Type" class="keyword">if</span> (<a href="#780195" title="(sym: CleanUp.this.global.Symbol)Boolean">isValueClass</a>(<a href="#784191" title="CleanUp.this.global.Type">resType</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>)) <a href="../symtab/Definitions.scala.html#28775" title="(key: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">boxedClass</a>(<a href="#784191" title="CleanUp.this.global.Type">resType</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>).<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#784191" title="CleanUp.this.global.Type">resType</a>
              <span class="keyword">def</span> <a title="=&gt; (List[CleanUp.this.global.Type], CleanUp.this.global.Type) =&gt; CleanUp.this.global.Tree" id="784208">call</a>          = <span title="(List[CleanUp.this.global.Type], CleanUp.this.global.Type) =&gt; CleanUp.this.global.Tree" class="keyword">if</span> (<a href="#780775" title="=&gt; Boolean">mayRequirePrimitiveReplacement</a>) (<a href="#780783" title="(paramTypes: List[CleanUp.this.global.Type],resType: CleanUp.this.global.Type)CleanUp.this.global.Tree">callAsOperator</a> _) <span class="keyword">else</span> (<a href="#780784" title="(paramTypes: List[CleanUp.this.global.Type],resType: CleanUp.this.global.Type)CleanUp.this.global.Tree">callAsMethod</a> _)
              <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(
                <a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#784206" title="CleanUp.this.global.TermSymbol">sym</a>) === <a href="#780762" title="CleanUp.this.global.Tree">qual0</a>,
                <a href="#780781" title="(resType: CleanUp.this.global.Type)(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">fixResult</a>(<a href="#784207" title="=&gt; CleanUp.this.global.Type">resTypeForFix</a>)(<a href="#784208" title="(v1: List[CleanUp.this.global.Type],v2: CleanUp.this.global.Type)CleanUp.this.global.Tree" id="37866">call</a>(<a href="#784190" title="(f: (CleanUp.this.global.Symbol) =&gt; CleanUp.this.global.Type)(implicit bf: scala.collection.generic.BuilderFactory[CleanUp.this.global.Type,List[CleanUp.this.global.Type],List[CleanUp.this.global.Symbol]])List[CleanUp.this.global.Type]">mparams</a> <span title="scala.collection.generic.BuilderFactory[CleanUp.this.global.Type,List[CleanUp.this.global.Type],List#Coll]">map</span> (<a href="#784276" title="CleanUp.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>), <a href="#784191" title="CleanUp.this.global.Type">resType</a>))
              )
            }
        }
        
        /* For testing purposes, the dynamic application's condition
         * can be printed-out in great detail. Remove? */
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) {
          <span class="keyword">def</span> <a title="(xs: Any*)String" id="784311">paramsToString</a>(<a title="Any*" id="784313">xs</a>: <a title="Any*" id="4199">Any</a>*) = <a href="#784313" title="(f: (Any) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,Sequence[java.lang.String],Sequence[Any]])Sequence[java.lang.String]">xs</a> <a title="(sep: String)String" id="4388">map</a> (<a href="#784322" title="Any">_</a>.<a title="()java.lang.String" id="3640">toString</a>) mkString <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
          <span class="keyword">val</span> <a title="String" id="784312">mstr</a> = <a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a> <span title="String" class="keyword">match</span> {
            <span title="String" class="keyword">case</span> MethodType(<a title="List[CleanUp.this.global.Symbol]" id="784362">mparams</a>, <a title="CleanUp.this.global.Type" id="784363">resType</a>) =&gt;
              <span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;&quot;&quot;|  with
                 |  - declared parameter types: '%s'
                 |  - passed argument types:    '%s'
                 |  - result type:              '%s'&quot;&quot;&quot;</span> .
                <a title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" id="30654">stripMargin</a>.<a title="(args: Any*)String" id="30950">format</a>(
                   <a href="#784311" title="(xs: Any*)String">paramsToString</a>(<a href="#784362" title="List[CleanUp.this.global.Symbol]">mparams</a>),
                   <a href="#784311" title="(xs: Any*)String">paramsToString</a>(<a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>),
                   <a href="#784363" title="CleanUp.this.global.Type">resType</a>.<a href="../symtab/Types.scala.html#30453" title="()String">toString</a>
                )
            <span title="java.lang.String(&quot;&quot;)" class="keyword">case</span> _ =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
          }
          <a title="object Console" id="402">Console</a>.<a title="(text: String,args: Any*)Unit" id="51578">printf</a>(<span title="java.lang.String(&quot;Dynamically application '%s.%s(%s)' %s - resulting code: '%s'&quot;)" class="string">&quot;&quot;&quot;Dynamically application '%s.%s(%s)' %s - resulting code: '%s'&quot;&quot;&quot;</span>,
              <span title="(xs: java.lang.Object*)List[java.lang.Object]">List</span><span title="(f: (java.lang.Object) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,Sequence[Any],List[java.lang.Object]])Sequence[Any]">(</span><a href="#780769" title="CleanUp.this.global.Tree">qual</a>, <a href="#780759" title="CleanUp.this.global.ApplyDynamic">ad</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; CleanUp.this.global.Name">name</a>, <a href="#784311" title="(xs: Any*)String">paramsToString</a>(<a href="#780763" title="List[CleanUp.this.global.Tree]">params</a>), <a href="#784312" title="String">mstr</a>, <a href="#784187" title="CleanUp.this.global.Tree">t</a>) <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a href="#784442" title="java.lang.Object">_</a>.<a title="()java.lang.String" id="6597">toString</a>) : _*
          )
        }

        /* We return the dynamic call tree, after making sure no other
         * clean-up transformation are to be applied on it. */
        <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#784187" title="CleanUp.this.global.Tree">t</a>)
        }
        /* ### END OF DYNAMIC APPLY TRANSFORM ### */
      
      /* Some cleanup transformations add members to templates (classes, traits, etc).
       * When inside a template (i.e. the body of one of its members), two maps
       * (newDefs and newInits) are available in the tree transformer. Any mapping from
       * a symbol to a MemberDef (DefDef, ValDef, etc.) that is in newDefs once the
       * transformation of the template is finished will be added as a member to the
       * template. Any mapping from a symbol to a tree that is in newInits, will be added
       * as a statement of the form &quot;symbol = tree&quot; to the beginning of the default
       * constructor. */
      <span title="CleanUp.this.global.Tree" class="keyword">case</span> Template(<a title="List[CleanUp.this.global.Tree]" id="784508">parents</a>, <a title="CleanUp.this.global.ValDef" id="784509">self</a>, <a title="List[CleanUp.this.global.Tree]" id="784510">body</a>) =&gt;
        <a href="#780186" title="(x$1: CleanUp.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#39391" title="object CleanUp.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#42871" title="(tree: CleanUp.this.global.analyzer.global.Tree,owner: CleanUp.this.global.analyzer.global.Symbol)CleanUp.this.global.analyzer.Typer">atOwner</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#45703" title="=&gt; CleanUp.this.global.Symbol">currentClass</a>)
        <span title="CleanUp.this.global.Tree" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a>) {
          <a href="#780181" title="=&gt; scala.collection.mutable.HashMap[String,CleanUp.this.global.Symbol]">classConstantMeth</a>.<a title="()Unit" id="44610">clear</a>
          <a href="#780177" title="=&gt; scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">newDefs</a>.<span title="()Unit">clear</span>
          <a href="#780179" title="=&gt; scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">newInits</a>.<span title="()Unit">clear</span>
          <span class="keyword">var</span> <a title="List[CleanUp.this.global.Tree]" id="784532">newBody</a> =
            <a href="../ast/Trees.scala.html#45706" title="(trees: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">transformTrees</a>(<a href="#784510" title="List[CleanUp.this.global.Tree]">body</a>)
          <span class="keyword">val</span> <a title="CleanUp.this.global.treeInfo.trees.Tree" id="784533">firstConstructor</a> =
            <a href="../ast/Trees.scala.html#26741" title="object CleanUp.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49168" title="(stats: List[CleanUp.this.global.treeInfo.trees.Tree])CleanUp.this.global.treeInfo.trees.Tree">firstConstructor</a>(<a href="#784532" title="List[CleanUp.this.global.Tree]">newBody</a>)
          <a href="#784532" title="List[CleanUp.this.global.Tree]">newBody</a> =
            <a href="../ast/Trees.scala.html#45706" title="(trees: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">transformTrees</a>(<a href="#780177" title="=&gt; scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">newDefs</a>.<span title="=&gt; List[CleanUp.this.global.Tree]">toList</span>) <a href="#784546" title="List[CleanUp.this.global.Tree]">:::</a> <span title="(prefix: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">(</span>
              <span class="keyword">for</span> (<a title="CleanUp.this.global.Tree" id="784558">member</a> &lt;- <a href="#784532" title="(f: (CleanUp.this.global.Tree) =&gt; CleanUp.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[CleanUp.this.global.Tree,List[CleanUp.this.global.Tree],List[CleanUp.this.global.Tree]])List[CleanUp.this.global.Tree]">newBody</a>) <span class="keyword">yield</span> <a href="#784558" title="CleanUp.this.global.Tree">member</a> <span title="CleanUp.this.global.Tree" class="keyword">match</span> {
                <span title="CleanUp.this.global.DefDef" class="keyword">case</span> <a title="CleanUp.this.global.DefDef" id="784559">thePrimaryConstructor</a>@DefDef(<a title="CleanUp.this.global.Modifiers" id="784568">mods</a>, <a title="CleanUp.this.global.Name" id="784569">name</a>, <a title="List[CleanUp.this.global.TypeDef]" id="784570">tparams</a>, <a title="List[List[CleanUp.this.global.ValDef]]" id="784571">vparamss</a>, <a title="CleanUp.this.global.Tree" id="784572">tpt</a>, <a title="CleanUp.this.global.Tree" id="784573">rhs</a>) <span class="keyword">if</span> (<a href="#784559" title="(x$1: AnyRef)Boolean">thePrimaryConstructor</a> == <a href="#784533" title="CleanUp.this.global.treeInfo.trees.Tree">firstConstructor</a>) =&gt;
                  <span class="keyword">val</span> <a title="CleanUp.this.global.Block" id="784582">newRhs</a> = <a href="#784573" title="CleanUp.this.global.Tree">rhs</a> <span title="CleanUp.this.global.Block" class="keyword">match</span> {
                    <span title="CleanUp.this.global.Block" class="keyword">case</span> <a title="CleanUp.this.global.Block" id="784583">theRhs</a>@Block(<a title="List[CleanUp.this.global.Tree]" id="784586">stats</a>, <a title="CleanUp.this.global.Tree" id="784587">expr</a>) =&gt;
                      <a href="../ast/Trees.scala.html#45697" title="=&gt; CleanUp.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48804" title="(tree: CleanUp.this.global.Tree,stats: List[CleanUp.this.global.Tree],expr: CleanUp.this.global.Tree)CleanUp.this.global.Block">Block</a>(<a href="#784583" title="CleanUp.this.global.Block">theRhs</a>, <a href="../ast/Trees.scala.html#45706" title="(trees: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">transformTrees</a>(<a href="#780179" title="=&gt; scala.collection.mutable.ListBuffer[CleanUp.this.global.Tree]">newInits</a>.<span title="=&gt; List[CleanUp.this.global.Tree]">toList</span>) <a href="#784593" title="List[CleanUp.this.global.Tree]">:::</a> <a href="#784586" title="(prefix: List[CleanUp.this.global.Tree])List[CleanUp.this.global.Tree]">stats</a>, <a href="#784587" title="CleanUp.this.global.Tree">expr</a>)
                  }
                  <a href="../ast/Trees.scala.html#45697" title="=&gt; CleanUp.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: CleanUp.this.global.Tree,mods: CleanUp.this.global.Modifiers,name: CleanUp.this.global.Name,tparams: List[CleanUp.this.global.TypeDef],vparamss: List[List[CleanUp.this.global.ValDef]],tpt: CleanUp.this.global.Tree,rhs: CleanUp.this.global.Tree)CleanUp.this.global.DefDef">DefDef</a>(<a href="#784559" title="CleanUp.this.global.DefDef">thePrimaryConstructor</a>, <a href="#784568" title="CleanUp.this.global.Modifiers">mods</a>, <a href="#784569" title="CleanUp.this.global.Name">name</a>, <a href="#784570" title="List[CleanUp.this.global.TypeDef]">tparams</a>, <a href="#784571" title="List[List[CleanUp.this.global.ValDef]]">vparamss</a>, <a href="#784572" title="CleanUp.this.global.Tree">tpt</a>, <a href="#784582" title="CleanUp.this.global.Block">newRhs</a>)
                <span title="CleanUp.this.global.Tree" class="keyword">case</span> <a title="CleanUp.this.global.Tree" id="784615">notThePrimaryConstructor</a> =&gt;
                  <a href="#784615" title="CleanUp.this.global.Tree">notThePrimaryConstructor</a>
              }
            )
            <a href="../ast/Trees.scala.html#45697" title="=&gt; CleanUp.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48803" title="(tree: CleanUp.this.global.Tree,parents: List[CleanUp.this.global.Tree],self: CleanUp.this.global.ValDef,body: List[CleanUp.this.global.Tree])CleanUp.this.global.Template">Template</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>, <a href="#784508" title="List[CleanUp.this.global.Tree]">parents</a>, <a href="#784509" title="CleanUp.this.global.ValDef">self</a>, <a href="#784532" title="List[CleanUp.this.global.Tree]">newBody</a>)
        }
        <span class="keyword">else</span> <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>)

      <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">case</span> Literal(<a title="CleanUp.this.global.Constant" id="784716">c</a>) <span class="keyword">if</span> <span title="(x$1: Boolean)Boolean">(</span><a href="#784716" title="CleanUp.this.global.Constant">c</a>.<a href="../symtab/Constants.scala.html#43041" title="(x$1: Int)Boolean">tag</a> == <span title="Int(12)">ClassTag</span>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a>=&gt;
        <span class="keyword">val</span> <a title="CleanUp.this.global.Type" id="784727">tpe</a> = <a href="#784716" title="CleanUp.this.global.Constant">c</a>.<a href="../symtab/Constants.scala.html#43056" title="=&gt; CleanUp.this.global.Type">typeValue</a>
        <a href="#780192" title="(pos: scala.tools.nsc.util.Position)(tree: CleanUp.this.global.Tree)CleanUp.this.global.analyzer.global.Tree">typedWithPos</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
          <span title="CleanUp.this.global.Tree" class="keyword">if</span> (<a href="#780195" title="(sym: CleanUp.this.global.Symbol)Boolean">isValueClass</a><span title="(x$1: Boolean)Boolean">(</span><a href="#784727" title="CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>) || <a href="#784727" title="CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#26638" title="object CleanUp.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28463" title="=&gt; CleanUp.this.global.Symbol">UnitClass</a>)
            <a href="../ast/Trees.scala.html#50528" title="(qualifier: CleanUp.this.global.Tree,name: CleanUp.this.global.Name)CleanUp.this.global.Select">Select</a>(<a href="../ast/TreeDSL.scala.html#42765" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.gen.global.Tree">REF</a>(<a href="#780183" title="(key: CleanUp.this.global.Symbol)CleanUp.this.global.Symbol">javaBoxClassModule</a>(<a href="#784727" title="CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; CleanUp.this.global.Symbol">typeSymbol</a>)), <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name" class="string">&quot;TYPE&quot;</a>)
          <span class="keyword">else</span> <a href="#780745" title="CleanUp.this.global.Tree">tree</a>
        }

      /* MSIL requires that the stack is empty at the end of a try-block.
       * Hence, we here rewrite all try blocks with a result != {Unit, All} such that they
       * store their result in a local variable. The catch blocks are adjusted as well.
       * The try tree is subsituted by a block whose result expression is read of that variable. */
      <span title="CleanUp.this.global.analyzer.global.Tree" class="keyword">case</span> <a title="CleanUp.this.global.Try" id="784841">theTry</a> @ Try(<a title="CleanUp.this.global.Tree" id="784845">block</a>, <a title="List[CleanUp.this.global.CaseDef]" id="784846">catches</a>, <a title="CleanUp.this.global.Tree" id="784847">finalizer</a>) 
        <span class="keyword">if</span> <a href="#784841" title="CleanUp.this.global.Try">theTry</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#26638" title="object CleanUp.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28463" title="=&gt; CleanUp.this.global.Symbol">UnitClass</a> &amp;&amp; <a href="#784841" title="CleanUp.this.global.Try">theTry</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> != <a href="../symtab/Definitions.scala.html#26638" title="object CleanUp.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28457" title="=&gt; CleanUp.this.global.Symbol">NothingClass</a> =&gt;
        <span class="keyword">val</span> <a title="CleanUp.this.global.Type" id="784866">tpe</a> = <a href="#784841" title="CleanUp.this.global.Try">theTry</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; CleanUp.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30370" title="=&gt; CleanUp.this.global.Type">widen</a>
        <span class="keyword">val</span> <a title="CleanUp.this.global.TermSymbol" id="784867">tempVar</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; CleanUp.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: CleanUp.this.global.Name)CleanUp.this.global.TermSymbol">newValue</a>(<a href="#784841" title="CleanUp.this.global.Try">theTry</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#780197" title="CleanUp.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)CleanUp.this.global.Name">(</a><a href="#784841" title="CleanUp.this.global.Try">theTry</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;exceptionResult&quot;)" class="string">&quot;exceptionResult&quot;</span>))
          .<a href="../symtab/Symbols.scala.html#27164" title="(info: CleanUp.this.global.Type)CleanUp.this.global.TermSymbol">setInfo</a>(<a href="#784866" title="CleanUp.this.global.Type">tpe</a>).<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)CleanUp.this.global.TermSymbol">setFlag</a>(Flags.<span title="Long(4096L)">MUTABLE</span>)
        <span class="keyword">def</span> <a title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Tree" id="784868">assignBlock</a>(<a title="CleanUp.this.global.Tree" id="784907">rhs</a>: <a href="../ast/Trees.scala.html#26752" title="CleanUp.this.global.Tree">Tree</a>) = <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#45318" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Assign">(</a><a href="#784867" title="CleanUp.this.global.TermSymbol">tempVar</a>) === <a href="#780196" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#784907" title="CleanUp.this.global.Tree">rhs</a>)))
        
        <span class="keyword">val</span> <a title="CleanUp.this.global.Tree" id="784869">newBlock</a>    = <a href="#784868" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Tree">assignBlock</a>(<a href="#784845" title="CleanUp.this.global.Tree">block</a>)
        <span class="keyword">val</span> <a title="List[CleanUp.this.global.CaseDef]" id="784870">newCatches</a>  = <span class="keyword">for</span> (CaseDef(<a title="CleanUp.this.global.Tree" id="784987">pattern</a>, <a title="CleanUp.this.global.Tree" id="784988">guard</a>, <a title="CleanUp.this.global.Tree" id="784989">body</a>) &lt;- <a href="#784846" title="(f: (CleanUp.this.global.CaseDef) =&gt; CleanUp.this.global.CaseDef)(implicit bf: scala.collection.generic.BuilderFactory[CleanUp.this.global.CaseDef,List[CleanUp.this.global.CaseDef],List[CleanUp.this.global.CaseDef]])List[CleanUp.this.global.CaseDef]">catches</a>) <span class="keyword">yield</span>
          <a href="../ast/TreeDSL.scala.html#544350" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.CaseDef">(</a><a href="../ast/TreeDSL.scala.html#42746" title="(pat: CleanUp.this.global.Tree)CleanUp.this.CODE.CaseStart">CASE</a><a href="../ast/TreeDSL.scala.html#544349" title="(g: CleanUp.this.global.Tree)CleanUp.this.CODE.CaseStart">(</a><a href="#786882" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree" class="keyword">super</a>.<a title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree" id="786882">transform</a>(<a href="#784987" title="CleanUp.this.global.Tree">pattern</a>)) IF (<a href="#786882" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree" class="keyword">super</a>.transform(<a href="#784988" title="CleanUp.this.global.Tree">guard</a>))) ==&gt; <a href="#784868" title="(rhs: CleanUp.this.global.Tree)CleanUp.this.global.Tree">assignBlock</a>(<a href="#784989" title="CleanUp.this.global.Tree">body</a>)
        <span class="keyword">val</span> <a title="CleanUp.this.global.Try" id="784871">newTry</a>      = <a href="../ast/Trees.scala.html#52006" title="(block: CleanUp.this.global.Tree,catches: List[CleanUp.this.global.CaseDef],finalizer: CleanUp.this.global.Tree)CleanUp.this.global.Try">Try</a>(<a href="#784869" title="CleanUp.this.global.Tree">newBlock</a>, <a href="#784870" title="List[CleanUp.this.global.CaseDef]">newCatches</a>, <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#784847" title="CleanUp.this.global.Tree">finalizer</a>))
                
        <a href="../typechecker/Typers.scala.html#42872" title="(tree: CleanUp.this.global.analyzer.global.Tree)CleanUp.this.global.analyzer.global.Tree">localTyper</a> typed { <a href="../ast/TreeDSL.scala.html#42758" title="(xs: CleanUp.this.global.Tree*)CleanUp.this.global.Block">BLOCK</a>(<a href="../ast/TreeDSL.scala.html#42753" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.CODE.ValStart">VAL</a><a href="../ast/TreeDSL.scala.html#79822" title="(body: CleanUp.this.global.Tree)CleanUp.this.global.ValDef">(</a><a href="#784867" title="CleanUp.this.global.TermSymbol">tempVar</a>) === <a href="../ast/Trees.scala.html#26761" title="object CleanUp.this.global.EmptyTree">EmptyTree</a>, <a href="#784871" title="CleanUp.this.global.Try">newTry</a>, <a href="../ast/Trees.scala.html#26895" title="(sym: CleanUp.this.global.Symbol)CleanUp.this.global.Ident">Ident</a>(<a href="#784867" title="CleanUp.this.global.TermSymbol">tempVar</a>)) }
        
      /* Adds @serializable annotation to anonymous function classes */
      <span title="CleanUp.this.global.Tree" class="keyword">case</span> <a title="CleanUp.this.global.ClassDef" id="785168">cdef</a> @ ClassDef(<a title="CleanUp.this.global.Modifiers" id="785175">mods</a>, <a title="CleanUp.this.global.Name" id="785176">name</a>, <a title="List[CleanUp.this.global.TypeDef]" id="785177">tparams</a>, <a title="CleanUp.this.global.Template" id="785178">impl</a>) =&gt;
        <span title="Any" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37259" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">target</a>.<a href="../Settings.scala.html#37988" title="(x$1: AnyRef)Boolean">value</a> == <span title="java.lang.String(&quot;jvm-1.5&quot;)" class="string">&quot;jvm-1.5&quot;</span>) {
          <span class="keyword">val</span> <a title="CleanUp.this.global.Symbol" id="785190">sym</a> = <a href="#785168" title="CleanUp.this.global.ClassDef">cdef</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; CleanUp.this.global.Symbol">symbol</a>
          // is this an anonymous function class?
          <span title="Any" class="keyword">if</span> (<a href="#785190" title="CleanUp.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27091" title="(x$1: Boolean)Boolean">isAnonymousFunction</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#785190" title="CleanUp.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27016" title="(cls: CleanUp.this.global.Symbol)Boolean">hasAnnotation</a>(<a href="../symtab/Definitions.scala.html#28746" title="=&gt; CleanUp.this.global.Symbol">SerializableAttr</a>))
            <a href="../symtab/Symbols.scala.html#27015" title="(annot: CleanUp.this.global.AnnotationInfo)sym.type">sym</a> addAnnotation <a href="../symtab/AnnotationInfos.scala.html#44986" title="(atp: CleanUp.this.global.Type,args: List[CleanUp.this.global.Tree],assocs: List[(CleanUp.this.global.Name, CleanUp.this.global.ClassfileAnnotArg)])CleanUp.this.global.AnnotationInfo">AnnotationInfo</a>(<a href="../symtab/Definitions.scala.html#28746" title="=&gt; CleanUp.this.global.Symbol">SerializableAttr</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; CleanUp.this.global.Type">tpe</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>)
        }
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>)

      <span title="CleanUp.this.global.Tree" class="keyword">case</span> _ =&gt;
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45705" title="(tree: CleanUp.this.global.Tree)CleanUp.this.global.Tree">transform</a>(<a href="#780745" title="CleanUp.this.global.Tree">tree</a>)
    }
  } // CleanUpTransformer

}

        </pre>
    </body>
</html>