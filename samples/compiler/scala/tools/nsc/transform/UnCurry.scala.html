<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/UnCurry.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */
// $Id: UnCurry.scala 18589 2009-08-27 14:45:35Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.util.Position

/*&lt;export&gt;*/
/** - uncurry all symbol and tree types (@see UnCurryPhase)
 *  - for every curried parameter list:  (ps_1) ... (ps_n) ==&gt; (ps_1, ..., ps_n)
 *  - for every curried application: f(args_1)...(args_n) ==&gt; f(args_1, ..., args_n)
 *  - for every type application: f[Ts] ==&gt; f[Ts]() unless followed by parameters
 *  - for every use of a parameterless function: f ==&gt; f()  and  q.f ==&gt; q.f()
 *  - for every def-parameter:  x: =&gt; T ==&gt; x: () =&gt; T
 *  - for every use of a def-parameter: x ==&gt; x.apply()
 *  - for every argument to a def parameter `x: =&gt; T': 
 *      if argument is not a reference to a def parameter:
 *        convert argument `e' to (expansion of) `() =&gt; e'
 *  - for every repeated parameter `x: T*' --&gt; x: Seq[T].
 *  - for every argument list that corresponds to a repeated parameter
 *       (a_1, ..., a_n) =&gt; (Seq(a_1, ..., a_n))
 *  - for every argument list that is an escaped sequence
 *       (a_1:_*) =&gt; (a_1)g
 *  - convert implicit method types to method types
 *  - convert non-trivial catches in try statements to matches
 *  - convert non-local returns to throws with enclosing try statements.
 */
/*&lt;/export&gt;*/
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class UnCurry extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="14395">UnCurry</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#14026" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#14383" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> {
  <span class="keyword">import</span> global._                  // the global environment
  <span class="keyword">import</span> definitions._             // standard classes and methods

  <span class="keyword">val</span> <a title="String" id="142835">phaseName</a>: <a title="String" id="1626">String</a> = <span title="java.lang.String(&quot;uncurry&quot;)" class="string">&quot;uncurry&quot;</span>

  <span class="keyword">def</span> <a title="(unit: UnCurry.this.global.CompilationUnit)UnCurry.this.global.Transformer" id="142837">newTransformer</a>(<a title="UnCurry.this.global.CompilationUnit" id="143092">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26932" title="UnCurry.this.global.Transformer">Transformer</a> = <span title="UnCurry.this.UnCurryTransformer" class="keyword">new</span> <a href="#142848" title="UnCurry.this.UnCurryTransformer">UnCurryTransformer</a>(<a href="#143092" title="UnCurry.this.global.CompilationUnit">unit</a>)
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="142838">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

// ------ Type transformation --------------------------------------------------------

//@MAT: uncurry and uncurryType fully expand type aliases in their input and output
// note: don't normalize higher-kined types -- @M TODO: maybe split those uses of normalize? 
// OTOH, should be a problem as calls to normalize only occur on types with kind * in principle (in well-typed programs)
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142839">expandAlias</a>(<a title="UnCurry.this.global.Type" id="142864">tp</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = <span title="UnCurry.this.global.Type" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#142864" title="UnCurry.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30360" title="=&gt; Boolean">isHigherKinded</a>) <a href="#142864" title="UnCurry.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30392" title="=&gt; UnCurry.this.global.Type">normalize</a> <span class="keyword">else</span> <a href="#142864" title="UnCurry.this.global.Type">tp</a>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="UnCurry.this.global.TypeMap" id="142840">uncurry</a>: <a href="../symtab/Types.scala.html#26479" title="UnCurry.this.global.TypeMap">TypeMap</a> = <a href="#143135" title="UnCurry.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26479" title="anonymous class $anon extends UnCurry.this.global.TypeMap" id="143135">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type" id="143137">apply</a>(<a title="UnCurry.this.global.Type" id="143141">tp0</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="143143">tp</a> = <a href="#142839" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="#143141" title="UnCurry.this.global.Type">tp0</a>)
      <a href="#143143" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
        <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143148">params</a>, MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143151">params1</a>, <a title="UnCurry.this.global.Type" id="143152">restpe</a>)) =&gt;
          <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#143148" title="List[UnCurry.this.global.Symbol]">params</a> <a href="#143176" title="List[UnCurry.this.global.Symbol]">:::</a> <a href="#143151" title="(prefix: List[UnCurry.this.global.Symbol])List[UnCurry.this.global.Symbol]">params1</a>, <a href="#143152" title="UnCurry.this.global.Type">restpe</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143190">formals</a>, ExistentialType(<a title="List[UnCurry.this.global.Symbol]" id="143193">tparams</a>, <a title="UnCurry.this.global.MethodType" id="143194">restpe</a> @ MethodType(_, _))) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;unexpected curried method types with intervening exitential&quot;)" class="string">&quot;unexpected curried method types with intervening exitential&quot;</span>) 
          <a href="#143141" title="UnCurry.this.global.Type">tp0</a>
        <span title="UnCurry.this.global.Type" class="keyword">case</span> <a title="UnCurry.this.global.ImplicitMethodType" id="143214">mt</a>: <a href="../symtab/Types.scala.html#26419" title="UnCurry.this.global.ImplicitMethodType">ImplicitMethodType</a> =&gt;
          <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#143214" title="UnCurry.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#44130" title="=&gt; List[UnCurry.this.global.Symbol]">params</a>, <a href="#143214" title="UnCurry.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#44132" title="=&gt; UnCurry.this.global.Type">resultType</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(<a href="#143247" title="(x: List[UnCurry.this.global.Symbol])Some[List[UnCurry.this.global.Symbol]]">List</a>(), <a title="UnCurry.this.global.Type" id="143257">restpe</a>) =&gt;
          <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#143257" title="UnCurry.this.global.Type">restpe</a>))
        <span title="UnCurry.this.global.PolyType" class="keyword">case</span> PolyType(<a title="List[UnCurry.this.global.Symbol]" id="143294">tparams</a>, <a title="UnCurry.this.global.Type" id="143295">restpe</a>) =&gt;
          <a href="../symtab/Types.scala.html#44057" title="(typeParams: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.PolyType">PolyType</a>(<a href="#143294" title="List[UnCurry.this.global.Symbol]">tparams</a>, <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#143295" title="UnCurry.this.global.Type">restpe</a>)))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="143353">pre</a>, <a title="UnCurry.this.global.Symbol" id="143354">sym</a>, <a href="#143356" title="(x: List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]">List</a>(<a title="UnCurry.this.global.Type" id="143365">arg</a>)) <span class="keyword">if</span> (<a href="#143354" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28548" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a>) =&gt;
          <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Definitions.scala.html#28659" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#143365" title="UnCurry.this.global.Type">arg</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="143394">pre</a>, <a title="UnCurry.this.global.Symbol" id="143395">sym</a>, <a title="List[UnCurry.this.global.Type]" id="143396">args</a>) <span class="keyword">if</span> (<a href="#143395" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
          <a href="#143137" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#26461" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28560" title="=&gt; UnCurry.this.global.Symbol">SeqClass</a>.<a href="../symtab/Symbols.scala.html#27172" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <a href="#143396" title="List[UnCurry.this.global.Type]">args</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
          <a href="#142839" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="../symtab/Types.scala.html#42954" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">mapOver</a>(<a href="#143143" title="UnCurry.this.global.Type">tp</a>))
      }
    }
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="UnCurry.this.global.TypeMap" id="142842">uncurryType</a> = <a href="#142855" title="UnCurry.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26479" title="anonymous class $anon extends UnCurry.this.global.TypeMap" id="142855">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142857">apply</a>(<a title="UnCurry.this.global.Type" id="142861">tp0</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="142863">tp</a> = <a href="#142839" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="#142861" title="UnCurry.this.global.Type">tp0</a>)
      <a href="#142863" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
        <span title="UnCurry.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[UnCurry.this.global.Type]" id="142871">parents</a>, <a title="UnCurry.this.global.Scope" id="142872">decls</a>, <a title="UnCurry.this.global.Symbol" id="142873">clazz</a>) =&gt;
          <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="142876">parents1</a> = <a href="#142871" title="(f: (UnCurry.this.global.Type) =&gt; UnCurry.this.global.Type)List[UnCurry.this.global.Type]" id="24429">parents</a> mapConserve (<a href="#142840" title="=&gt; UnCurry.this.global.TypeMap">uncurry</a>)
          <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#142876" title="(x$1: AnyRef)Boolean">parents1</a> eq <a href="#142871" title="List[UnCurry.this.global.Type]">parents</a>) <a href="#142863" title="UnCurry.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44491" title="(parents: List[UnCurry.this.global.Type],decls: UnCurry.this.global.Scope,typeSymbol: UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType">ClassInfoType</a>(<a href="#142876" title="List[UnCurry.this.global.Type]">parents1</a>, <a href="#142872" title="UnCurry.this.global.Scope">decls</a>, <a href="#142873" title="UnCurry.this.global.Symbol">clazz</a>) // @MAT normalize in decls??
        <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(_, _) =&gt;
          <a href="../symtab/Types.scala.html#42954" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">mapOver</a>(<a href="#142863" title="UnCurry.this.global.Type">tp</a>)
        <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
          <a href="#142863" title="UnCurry.this.global.Type">tp</a>
      }
    }
  }

  /** Convert repeated parameters to arrays if they occur as part of a Java method 
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142844">repeatedToArray</a>(<a title="UnCurry.this.global.Type" id="143440">tp</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = <a href="#143440" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
    <span title="UnCurry.this.global.MethodType" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143444">params</a>, <a title="UnCurry.this.global.Type" id="143445">rtpe</a>) 
    <span class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#143444" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#143444" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
      <span class="keyword">val</span> <a title="List[UnCurry.this.global.Symbol]" id="143457">arrayParam</a> = <a href="#143444" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27041" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(
        <a href="../symtab/Types.scala.html#26461" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28579" title="=&gt; UnCurry.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#27172" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="#143444" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">head</span>))))
      <a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#143444" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; List[UnCurry.this.global.Symbol]">init</span> <a href="#143502" title="List[UnCurry.this.global.Symbol]">:::</a> <a href="#143457" title="(prefix: List[UnCurry.this.global.Symbol])List[UnCurry.this.global.Symbol]">arrayParam</a>, <a href="#143445" title="UnCurry.this.global.Type">rtpe</a>)
    <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(<a title="List[UnCurry.this.global.Symbol]" id="143514">tparams</a>, <a title="UnCurry.this.global.Type" id="143515">rtpe</a>) =&gt;
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="143518">rtpe1</a> = <a href="#142844" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">repeatedToArray</a>(<a href="#143515" title="UnCurry.this.global.Type">rtpe</a>)
      <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#143518" title="(x$1: AnyRef)Boolean">rtpe1</a> eq <a href="#143515" title="UnCurry.this.global.Type">rtpe</a>) <a href="#143440" title="UnCurry.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44057" title="(typeParams: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.PolyType">PolyType</a>(<a href="#143514" title="List[UnCurry.this.global.Symbol]">tparams</a>, <a href="#143518" title="UnCurry.this.global.Type">rtpe1</a>)
    <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
      <a href="#143440" title="UnCurry.this.global.Type">tp</a>
  }
  
  /** - return symbol's transformed type, 
   *  - if symbol is a def parameter with transformed type T, return () =&gt; T
   *
   * @MAT: starting with this phase, the info of every symbol will be normalized
   */
  <span class="keyword">def</span> <a title="(sym: UnCurry.this.global.Symbol,tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142845">transformInfo</a>(<a title="UnCurry.this.global.Symbol" id="143543">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>, <a title="UnCurry.this.global.Type" id="143544">tp</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = 
    <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#143543" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27055" title="=&gt; Boolean">isType</a>) <a href="#142842" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryType</a>(<a href="#143544" title="UnCurry.this.global.Type">tp</a>) 
    <span class="keyword">else</span> <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#143543" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="(x$1: Boolean)Boolean">isMethod</a> &amp;&amp; <a href="#143543" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(1048576L)">JAVA</span>)) <a href="#142840" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#142844" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">repeatedToArray</a>(<a href="#143544" title="UnCurry.this.global.Type">tp</a>))
    <span class="keyword">else</span> <a href="#142840" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#143544" title="UnCurry.this.global.Type">tp</a>)

  /** Traverse tree omitting local method definitions.
   *  If a `return' is encountered, set `returnFound' to true.
   *  Used for MSIL only.
   */
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object UnCurry.this.lookForReturns" id="142846">lookForReturns</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/Trees.scala.html#26933" title="UnCurry.this.global.Traverser">Traverser</a> {
    <span class="keyword">var</span> <a title="Boolean" id="143565">returnFound</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Unit" id="143567">traverse</a>(<a title="UnCurry.this.global.Tree" id="143573">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <a title="Unit" id="1971">Unit</a> =  <a href="#143573" title="UnCurry.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Return(_) =&gt; <a href="#143565" title="(x$1: Boolean)Unit">returnFound</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt; ;
      <span title="Unit" class="keyword">case</span> _ =&gt; <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#143573" title="UnCurry.this.global.Tree">tree</a>)
    }
    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="143568">found</a>(<a title="UnCurry.this.global.Tree" id="143595">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = {
      <a href="#143565" title="(x$1: Boolean)Unit">returnFound</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#143567" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#143595" title="UnCurry.this.global.Tree">tree</a>)
      <a href="#143565" title="=&gt; Boolean">returnFound</a>
    }
  }

  <span class="keyword">class</span> <a title="class UnCurryTransformer extends UnCurry.this.TypingTransformer with ScalaObject" id="142848">UnCurryTransformer</a><span title="ScalaObject">(</span><a title="UnCurry.this.global.CompilationUnit" id="143126">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#79597" title="UnCurry.this.TypingTransformer">TypingTransformer</a>(<a href="#143126" title="UnCurry.this.global.CompilationUnit">unit</a>) {

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="143099">needTryLift</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="143102">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="143105">inConstructorFlag</a> = <span title="Long(0L)" class="long">0L</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" id="143107">byNameArgs</a> = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">HashSet</span>[Tree]
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" id="143109">noApply</a> = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">HashSet</span>[Tree]

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: UnCurry.this.global.CompilationUnit)Unit" id="143111">transformUnit</a>(<a title="UnCurry.this.global.CompilationUnit" id="143617">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>) {
      <a href="#142850" title="=&gt; scala.collection.mutable.Set[UnCurry.this.global.Symbol]">freeMutableVars</a>.<a title="()Unit" id="39701">clear</a>
      <a href="../ast/Trees.scala.html#71113" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">freeLocalsTraverser</a>(<a href="#143617" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; UnCurry.this.global.Tree">body</a>)
      <a href="#143617" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45670" title="(x$1: UnCurry.this.global.Tree)Unit">body</a> = <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143617" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; UnCurry.this.global.Tree">body</a>)
    }
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="143112">transform</a>(<a title="UnCurry.this.global.Tree" id="143634">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = <span class="keyword">try</span> { //debug
      <a href="#143125" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">postTransform</a>(<a href="#143124" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mainTransform</a>(<a href="#143634" title="UnCurry.this.global.Tree">tree</a>))
    } <span class="keyword">catch</span> {
      <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="143653">ex</a>: <a title="Throwable" id="1908">Throwable</a> =&gt;
        <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#143634" title="UnCurry.this.global.Tree">tree</a>)
        <span title="Nothing" class="keyword">throw</span> <a href="#143653" title="java.lang.Throwable">ex</a>
    }

    /* Is tree a reference `x' to a call by name parameter that neeeds to be converted to 
     * x.apply()? Note that this is not the case if `x' is used as an argument to another
     * call by name parameter.
     */
    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="143113">isByNameRef</a>(<a title="UnCurry.this.global.Tree" id="143660">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> =
      <a href="#143660" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29558" title="(x$1: Boolean)Boolean">isTerm</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#143660" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29556" title="=&gt; Boolean">hasSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
      <a href="#143660" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28548" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a> &amp;&amp; 
      <span title="=&gt; Boolean">!</span><a href="#143107" title="=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">byNameArgs</a>.<span title="(elem: UnCurry.this.global.Tree)Boolean">contains</span>(<a href="#143660" title="UnCurry.this.global.Tree">tree</a>)

    /** Uncurry a type of a tree node.
     *  This function is sensitive to whether or not we are in a pattern -- when in a pattern
     *  additional parameter sections of a case class are skipped.
     */
    <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="143114">uncurryTreeType</a>(<a title="UnCurry.this.global.Type" id="143680">tp</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a> = <a href="#143680" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
      <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143684">formals</a>, MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143687">formals1</a>, <a title="UnCurry.this.global.Type" id="143688">restpe</a>)) <span class="keyword">if</span> (<a href="#143102" title="=&gt; Boolean">inPattern</a>) =&gt;
        <a href="#143114" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryTreeType</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#143684" title="List[UnCurry.this.global.Symbol]">formals</a>, <a href="#143688" title="UnCurry.this.global.Type">restpe</a>))
      <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="#142840" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#143680" title="UnCurry.this.global.Type">tp</a>)
    }

// ------- Handling non-local returns -------------------------------------------------

    /** The type of a non-local return expression with given argument type */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type" id="143115">nonLocalReturnExceptionType</a>(<a title="UnCurry.this.global.Type" id="143718">argtype</a>: <a href="../symtab/Types.scala.html#26364" title="UnCurry.this.global.Type">Type</a>) =
      <a href="../symtab/Types.scala.html#26461" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28487" title="=&gt; UnCurry.this.global.Symbol">NonLocalReturnExceptionClass</a>.<a href="../symtab/Symbols.scala.html#27172" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="#143718" title="UnCurry.this.global.Type">argtype</a>))

    /** A hashmap from method symbols to non-local return keys */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" id="143116">nonLocalReturnKeys</a> = <span title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" id="25113">HashMap</a>[Symbol, Symbol]

    /** Return non-local return key for given method */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(meth: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol" id="143118">nonLocalReturnKey</a>(<a title="UnCurry.this.global.Symbol" id="143739">meth</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>) = <a href="#143116" title="=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]">nonLocalReturnKeys</a>.<span title="(key: UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]">get</span>(<a href="#143739" title="UnCurry.this.global.Symbol">meth</a>) <span title="UnCurry.this.global.Symbol" class="keyword">match</span> {
      <span title="UnCurry.this.global.Symbol" class="keyword">case</span> Some(<a title="UnCurry.this.global.Symbol" id="143748">k</a>) =&gt; <a href="#143748" title="UnCurry.this.global.Symbol">k</a>
      <span title="UnCurry.this.global.TermSymbol" class="keyword">case</span> <span title="object None">None</span> =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="143751">k</a> = <a href="#143739" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newValue</a>(<a href="#143739" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#143126" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">(</a><a href="#143739" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;nonLocalReturnKey&quot;)" class="string">&quot;nonLocalReturnKey&quot;</span>))
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>).<a href="../symtab/Symbols.scala.html#27164" title="(info: UnCurry.this.global.Type)UnCurry.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Definitions.scala.html#28453" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>)
        <a href="#143116" title="(key: UnCurry.this.global.Symbol,value: UnCurry.this.global.Symbol)Unit" id="44618">nonLocalReturnKeys</a>(<a href="#143739" title="UnCurry.this.global.Symbol">meth</a>) = <a href="#143751" title="UnCurry.this.global.TermSymbol">k</a>
        <a href="#143751" title="UnCurry.this.global.TermSymbol">k</a>
    }

    /** Generate a non-local return throw with given return expression from given method.
     *  I.e. for the method's non-local return key, generate:
     *
     *    throw new NonLocalReturnException(key, expr)
     *  todo: maybe clone a pre-existing exception instead?
     *  (but what to do about excaptions that miss their targets?)
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(expr: UnCurry.this.global.Tree,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree" id="143119">nonLocalReturnThrow</a>(<a title="UnCurry.this.global.Tree" id="143795">expr</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>, <a title="UnCurry.this.global.Symbol" id="143796">meth</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>) =
      <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
        <a href="../ast/Trees.scala.html#80688" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(
          <a href="../ast/Trees.scala.html#26865" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(
            <a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#143115" title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type">nonLocalReturnExceptionType</a>(<a href="#143795" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>)),
            <span title="(xs: List[UnCurry.this.global.Tree]*)List[List[UnCurry.this.global.Tree]]">List</span>(<span title="(xs: UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]">List</span>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143118" title="(meth: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">nonLocalReturnKey</a>(<a href="#143796" title="UnCurry.this.global.Symbol">meth</a>)), <a href="#143795" title="UnCurry.this.global.Tree">expr</a>))))
      }

    /** Transform (body, key) to:
     *
     *  {
     *    val key = new Object()
     *    try { 
     *      body 
     *    } catch {
     *      case ex: NonLocalReturnException[_] =&gt; 
     *        if (ex.key().eq(key)) ex.value()
     *        else throw ex
     *    }
     *  }
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: UnCurry.this.global.Tree,key: UnCurry.this.global.Symbol,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree" id="143120">nonLocalReturnTry</a>(<a title="UnCurry.this.global.Tree" id="143884">body</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>, <a title="UnCurry.this.global.Symbol" id="143885">key</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>, <a title="UnCurry.this.global.Symbol" id="143886">meth</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>) = {
      <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
        <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="143898">extpe</a> = <a href="#143115" title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type">nonLocalReturnExceptionType</a>(<a href="#143886" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30382" title="=&gt; UnCurry.this.global.Type">finalResultType</a>)
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="143899">ex</a> = <a href="#143886" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27164" title="(info: UnCurry.this.global.Type)UnCurry.this.global.TermSymbol">(</a><a href="#143884" title="UnCurry.this.global.Tree">body</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30060" title="=&gt; UnCurry.this.global.Name">ex</a>) setInfo <a href="#143898" title="UnCurry.this.global.Type">extpe</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Bind" id="143900">pat</a> = <a href="../ast/Trees.scala.html#26831" title="(sym: UnCurry.this.global.Symbol,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="#143899" title="UnCurry.this.global.TermSymbol">ex</a>, 
                       <a href="../ast/Trees.scala.html#50628" title="(expr: UnCurry.this.global.Tree,tpt: UnCurry.this.global.Tree)UnCurry.this.global.Typed">Typed</a>(<a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), 
                             <a href="../ast/Trees.scala.html#71585" title="(tpt: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.AppliedTypeTree">AppliedTypeTree</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Definitions.scala.html#28487" title="=&gt; UnCurry.this.global.Symbol">NonLocalReturnExceptionClass</a>),
                                             <span title="(xs: UnCurry.this.global.Bind*)List[UnCurry.this.global.Bind]">List</span>(<a href="../ast/Trees.scala.html#143928" title="(name: UnCurry.this.global.Name,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; UnCurry.this.global.Name">toTypeName</a>,
                                                       <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>)))))
        <span class="keyword">val</span> <a title="UnCurry.this.global.If" id="143901">rhs</a> =
          <a href="../ast/Trees.scala.html#50119" title="(cond: UnCurry.this.global.Tree,thenp: UnCurry.this.global.Tree,elsep: UnCurry.this.global.Tree)UnCurry.this.global.If">If</a>(
            <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#26890" title="(qualifier: UnCurry.this.global.Tree,sym: UnCurry.this.global.Symbol)UnCurry.this.global.Select">Select</a>(
                <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143899" title="UnCurry.this.global.TermSymbol">ex</a>), <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name" class="string">&quot;key&quot;</a>), List<span title="object Nil">(</span>)),
                <a href="../symtab/Definitions.scala.html#28693" title="=&gt; UnCurry.this.global.Symbol">Object_eq</a>),
              <span title="(xs: UnCurry.this.global.Ident*)List[UnCurry.this.global.Ident]">List</span>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143885" title="UnCurry.this.global.Symbol">key</a>))),
            <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#50970" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.TypeApply">TypeApply</a>(
                <a href="../ast/Trees.scala.html#26890" title="(qualifier: UnCurry.this.global.Tree,sym: UnCurry.this.global.Symbol)UnCurry.this.global.Select">Select</a>(
                  <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143899" title="UnCurry.this.global.TermSymbol">ex</a>), <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name" class="string">&quot;value&quot;</a>), List<span title="object Nil">(</span>)),
                  <a href="../symtab/Definitions.scala.html#28690" title="=&gt; UnCurry.this.global.Symbol">Any_asInstanceOf</a>),
                <span title="(xs: UnCurry.this.global.TypeTree*)List[UnCurry.this.global.TypeTree]">List</span>(<a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#143886" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30382" title="=&gt; UnCurry.this.global.Type">finalResultType</a>))),
              List<span title="object Nil">(</span>)),
            <a href="../ast/Trees.scala.html#80688" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143899" title="UnCurry.this.global.TermSymbol">ex</a>)))
        <span class="keyword">val</span> <a title="UnCurry.this.global.ValDef" id="143902">keyDef</a> = <a href="../ast/Trees.scala.html#26781" title="(sym: UnCurry.this.global.Symbol,rhs: UnCurry.this.global.Tree)UnCurry.this.global.ValDef">ValDef</a>(<a href="#143885" title="UnCurry.this.global.Symbol">key</a>, <a href="../ast/Trees.scala.html#26865" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28453" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))))
        <span class="keyword">val</span> <a title="UnCurry.this.global.Try" id="143903">tryCatch</a> = <a href="../ast/Trees.scala.html#52006" title="(block: UnCurry.this.global.Tree,catches: List[UnCurry.this.global.CaseDef],finalizer: UnCurry.this.global.Tree)UnCurry.this.global.Try">Try</a>(<a href="#143884" title="UnCurry.this.global.Tree">body</a>, <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span>(<a href="../ast/Trees.scala.html#51711" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#143900" title="UnCurry.this.global.Bind">pat</a>, <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="#143901" title="UnCurry.this.global.If">rhs</a>)), <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>)
        <a href="../ast/Trees.scala.html#49279" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<span title="(xs: UnCurry.this.global.ValDef*)List[UnCurry.this.global.ValDef]">List</span>(<a href="#143902" title="UnCurry.this.global.ValDef">keyDef</a>), <a href="#143903" title="UnCurry.this.global.Try">tryCatch</a>)
      }
    }

// ------ Transforming anonymous functions and by-name-arguments ----------------

    /** Undo eta expansion for parameterless and nullary methods */
    <span class="keyword">def</span> <a title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree" id="143121">deEta</a>(<a title="UnCurry.this.global.Function" id="144735">fun</a>: <a href="../ast/Trees.scala.html#26838" title="UnCurry.this.global.Function">Function</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = <a href="#144735" title="UnCurry.this.global.Function">fun</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
      <span title="UnCurry.this.global.Tree" class="keyword">case</span> Function(<a href="#144740" title="(x: List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]">List</a>(), Apply(<a title="UnCurry.this.global.Tree" id="144752">expr</a>, <a href="#144754" title="(x: List[UnCurry.this.global.Tree])Some[List[UnCurry.this.global.Tree]]">List</a>())) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#26741" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49161" title="(tree: UnCurry.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a>(<a href="#144752" title="UnCurry.this.global.Tree">expr</a>) =&gt; 
        <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#144752" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29556" title="(x$1: Boolean)Boolean">hasSymbol</a> &amp;&amp; <a href="#144752" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))
          <a href="#144735" title="UnCurry.this.global.Function">fun</a>
        <span class="keyword">else</span>
          <a href="#144752" title="UnCurry.this.global.Tree">expr</a>
      <span title="UnCurry.this.global.Tree" class="keyword">case</span> Function(<a href="#144778" title="(x: List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]">List</a>(), <a title="UnCurry.this.global.Tree" id="144788">expr</a>) <span class="keyword">if</span> <a href="#143113" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#144788" title="UnCurry.this.global.Tree">expr</a>) =&gt; 
        <a href="#143109" title="(elem: UnCurry.this.global.Tree)UnCurryTransformer.this.noApply.type" id="39520">noApply</a> += <a href="#144788" title="UnCurry.this.global.Tree">expr</a> 
        <a href="#144788" title="UnCurry.this.global.Tree">expr</a>
      <span title="UnCurry.this.global.Function" class="keyword">case</span> _ =&gt; 
        <a href="#144735" title="UnCurry.this.global.Function">fun</a>
    }
        

    /*  Transform a function node (x_1,...,x_n) =&gt; body of type FunctionN[T_1, .., T_N, R] to
     *
     *    class $anon() extends Object() with FunctionN[T_1, .., T_N, R] with ScalaObject {
     *      def apply(x_1: T_1, ..., x_N: T_n): R = body
     *    }
     *    new $anon()
     *
     *  transform a function node (x =&gt; body) of type PartialFunction[T, R] where
     *    body = x match { case P_i if G_i =&gt; E_i }_i=1..n
     *  to:
     *
     *    class $anon() extends Object() with PartialFunction[T, R] with ScalaObject {
     *      def apply(x: T): R = (x: @unchecked) match {
     *        { case P_i if G_i =&gt; E_i }_i=1..n
     *      def isDefinedAt(x: T): boolean = (x: @unchecked) match {
     *        case P_1 if G_1 =&gt; true
     *        ...
     *        case P_n if G_n =&gt; true
     *        case _ =&gt; false
     *      }
     *    }
     *    new $anon()
     *  
     *  However, if one of the patterns P_i if G_i is a default pattern, generate instead
     *
     *      def isDefinedAt(x: T): boolean = true
     */
    <span class="keyword">def</span> <a title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree" id="143122">transformFunction</a>(<a title="UnCurry.this.global.Function" id="144824">fun</a>: <a href="../ast/Trees.scala.html#26838" title="UnCurry.this.global.Function">Function</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="144826">fun1</a> = <a href="#143121" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">deEta</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>)
      <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#144826" title="(x$1: AnyRef)Boolean">fun1</a> ne <a href="#144824" title="UnCurry.this.global.Function">fun</a>) <a href="#144826" title="UnCurry.this.global.Tree">fun1</a>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="UnCurry.this.global.ClassSymbol" id="144831">anonClass</a> = <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27047" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.ClassSymbol">newAnonymousFunctionClass</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) 
          .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)UnCurry.this.global.ClassSymbol">setFlag</a>(FINAL <a title="(x$1: Long)Long" id="3023">|</a> SYNTHETIC | <a href="#143105" title="=&gt; Long">inConstructorFlag</a>)
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="144832">formals</a> = <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; List[UnCurry.this.global.Type]">init</span>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="144833">restpe</a> = <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">last</span>
        <a href="../symtab/Symbols.scala.html#98274" title="(tp: UnCurry.this.global.Type)anonClass.type">anonClass</a> setInfo <a href="../symtab/Types.scala.html#44491" title="(parents: List[UnCurry.this.global.Type],decls: UnCurry.this.global.Scope,typeSymbol: UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType">ClassInfoType</a>(
          <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28453" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="../symtab/Definitions.scala.html#28515" title="=&gt; UnCurry.this.global.Symbol">ScalaObjectClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>), <a href="../symtab/Scopes.scala.html#26125" title="=&gt; UnCurry.this.global.Scope">newScope</a>, <a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>);
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="144834">applyMethod</a> = <a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; UnCurry.this.global.Name">apply</a>).<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(32L)">FINAL</span>)
        <a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: UnCurry.this.global.Type)applyMethod.type">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>.<a href="../symtab/Symbols.scala.html#27041" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<a href="#144832" title="List[UnCurry.this.global.Type]">formals</a>), <a href="#144833" title="UnCurry.this.global.Type">restpe</a>))
        <a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; UnCurry.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">decls</a> enter <a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>;
        <span class="keyword">for</span> (<a title="UnCurry.this.global.ValDef" id="144992">vparam</a> &lt;- <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95788" title="(f: (UnCurry.this.global.ValDef) =&gt; Unit)Unit" id="29118">vparams</a>) <a href="#144992" title="UnCurry.this.global.ValDef">vparam</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27143" title="(owner: UnCurry.this.global.Symbol)Unit">owner</a> = <a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>;
        <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26939" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; UnCurry.this.global.Symbol">symbol</a>, <a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>).<a href="../ast/Trees.scala.html#129391" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95790" title="=&gt; UnCurry.this.global.Tree">body</a>);
        <span class="keyword">def</span> <a title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef" id="144835">applyMethodDef</a>(<a title="UnCurry.this.global.Tree" id="145009">body</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = 
          <a href="../ast/Trees.scala.html#52430" title="(mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="../ast/Trees.scala.html#26749" title="(flags: Long)UnCurry.this.global.Modifiers">Modifiers</a>(<span title="Long(32L)">FINAL</span>), <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; UnCurry.this.global.Name">apply</a>, List<span title="object Nil">(</span>), <span title="(xs: List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]">List</span>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95788" title="=&gt; List[UnCurry.this.global.ValDef]">vparams</a>), <a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144833" title="UnCurry.this.global.Type">restpe</a>), <a href="#145009" title="UnCurry.this.global.Tree">body</a>)
            .<a href="../ast/Trees.scala.html#29555" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.DefDef">setSymbol</a>(<a href="#144834" title="UnCurry.this.global.TermSymbol">applyMethod</a>)
/*
        def toStringMethodDefs = fun match {
          case etaExpansion(_, fn, _) if (fn.hasSymbol) =&gt; 
            List(
              DefDef(Modifiers(FINAL | OVERRIDE), nme.toString_, List(), List(List()), TypeTree(StringClass.tpe), 
                     Literal(fn.symbol.name)))
          case _ =&gt;
            List()
        }
*/
        <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="144836">mkUnchecked</a>(<a title="UnCurry.this.global.Tree" id="145144">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = <a href="#145144" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
          <span title="UnCurry.this.global.Match" class="keyword">case</span> Match(<a title="UnCurry.this.global.Tree" id="145147">selector</a>, <a title="List[UnCurry.this.global.CaseDef]" id="145148">cases</a>) =&gt;
            <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Match)UnCurry.this.global.Match">atPos</a>(<a href="#145144" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
              <a href="../ast/Trees.scala.html#51883" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(
                <a href="../ast/Trees.scala.html#145178" title="(annot: UnCurry.this.global.Tree,arg: UnCurry.this.global.Tree)UnCurry.this.global.Annotated">Annotated</a>(<a href="../ast/Trees.scala.html#26865" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28507" title="=&gt; UnCurry.this.global.Symbol">UncheckedClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))), <a href="#145147" title="UnCurry.this.global.Tree">selector</a>),
                <a href="#145148" title="List[UnCurry.this.global.CaseDef]">cases</a>)
            }
          <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt;
            <a href="#145144" title="UnCurry.this.global.Tree">tree</a>
        }
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.DefDef]" id="144837">members</a> = {
          <span title="List[UnCurry.this.global.DefDef]" class="keyword">if</span> (<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28517" title="=&gt; UnCurry.this.global.Symbol">PartialFunctionClass</a>) {
            <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="145279">isDefinedAtMethod</a> = <a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30096" title="=&gt; UnCurry.this.global.Name">isDefinedAt</a>).<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(32L)">FINAL</span>)
            <a href="#145279" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: UnCurry.this.global.Type)isDefinedAtMethod.type">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#145279" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#27041" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<a href="#144832" title="List[UnCurry.this.global.Type]">formals</a>),
                                                 <a href="../symtab/Definitions.scala.html#28479" title="=&gt; UnCurry.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>))
            <a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; UnCurry.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">decls</a> enter <a href="#145279" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>
            <span class="keyword">def</span> <a title="(idparam: UnCurry.this.global.Symbol)UnCurry.this.global.TermTree" id="145280">idbody</a>(<a title="UnCurry.this.global.Symbol" id="145331">idparam</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a>) = <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95790" title="=&gt; UnCurry.this.global.Tree">body</a> <span title="UnCurry.this.global.TermTree" class="keyword">match</span> {
              <span title="UnCurry.this.global.TermTree" class="keyword">case</span> Match(_, <a title="List[UnCurry.this.global.CaseDef]" id="145334">cases</a>) =&gt;
                <span class="keyword">val</span> <a title="UnCurry.this.global.TreeSymSubstituter" id="145337">substParam</a> = <span title="UnCurry.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26938" title="UnCurry.this.global.TreeSymSubstituter">TreeSymSubstituter</a>(<span title="(xs: UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]">List</span>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95788" title="=&gt; List[UnCurry.this.global.ValDef]">vparams</a>.<span title="=&gt; UnCurry.this.global.ValDef">head</span>.<a href="../ast/Trees.scala.html#48738" title="=&gt; UnCurry.this.global.Symbol">symbol</a>), <span title="(xs: UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]">List</span>(<a href="#145331" title="UnCurry.this.global.Symbol">idparam</a>));
                <span class="keyword">def</span> <a title="(cdef: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef" id="145338">transformCase</a>(<a title="UnCurry.this.global.CaseDef" id="145376">cdef</a>: <a href="../ast/Trees.scala.html#26815" title="UnCurry.this.global.CaseDef">CaseDef</a>): <a href="../ast/Trees.scala.html#26815" title="UnCurry.this.global.CaseDef">CaseDef</a> =
                  <a href="../ast/Trees.scala.html#145347" title="(tree: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">substParam</a>(
                    <a href="../ast/Trees.scala.html#26951" title="(x: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">resetAttrs</a>(
                      <a href="../ast/Trees.scala.html#51711" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#145376" title="UnCurry.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#51685" title="=&gt; UnCurry.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29573" title="=&gt; cdef.pat.type">duplicate</a>, <a href="#145376" title="UnCurry.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#51687" title="=&gt; UnCurry.this.global.Tree">guard</a>.<a href="../ast/Trees.scala.html#29573" title="=&gt; cdef.guard.type">duplicate</a>, <a href="../ast/Trees.scala.html#26899" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(true)" class="keyword">true</span>))))
                <span title="UnCurry.this.global.TermTree" class="keyword">if</span> (<a href="#145334" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean">cases</a> exists <a href="../ast/Trees.scala.html#26741" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49182" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isDefaultCase</a>) <a href="../ast/Trees.scala.html#26899" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(true)" class="keyword">true</span>)
                <span class="keyword">else</span> 
                  <a href="../ast/Trees.scala.html#51883" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(
                    <a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#145331" title="UnCurry.this.global.Symbol">idparam</a>),
                    (<a href="#145334" title="(f: (UnCurry.this.global.CaseDef) =&gt; UnCurry.this.global.CaseDef)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.CaseDef,List[UnCurry.this.global.CaseDef],List[UnCurry.this.global.CaseDef]])List[UnCurry.this.global.CaseDef]">cases</a> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.CaseDef,List[UnCurry.this.global.CaseDef],List#Coll]">map</span> <a href="#145338" title="(cdef: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">transformCase</a>) <a href="#145586" title="List[UnCurry.this.global.CaseDef]">:::</a> 
                      <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span><span title="(prefix: List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]">(</span><a href="../ast/Trees.scala.html#51711" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#26899" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(false)" class="keyword">false</span>))))
            }
            <span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="#144835" title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">applyMethodDef</a>(<a href="#144836" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mkUnchecked</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95790" title="=&gt; UnCurry.this.global.Tree">body</a>)),
                 <a href="../ast/Trees.scala.html#26791" title="(sym: UnCurry.this.global.Symbol,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#145279" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>, <a href="#144836" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mkUnchecked</a>(<a href="#145280" title="(idparam: UnCurry.this.global.Symbol)UnCurry.this.global.TermTree">idbody</a>(<a href="#145279" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#27176" title="=&gt; List[List[UnCurry.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[UnCurry.this.global.Symbol]">head</span>.<span title="=&gt; UnCurry.this.global.Symbol">head</span>))))
          } <span class="keyword">else</span> {
            <span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="#144835" title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">applyMethodDef</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95790" title="=&gt; UnCurry.this.global.Tree">body</a>))
          } 
        } /* ::: toStringMethodDefs */
        <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
          <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Block)UnCurry.this.global.Block">atPos</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49279" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(
              <span title="(xs: UnCurry.this.global.ClassDef*)List[UnCurry.this.global.ClassDef]">List</span>(<a href="../ast/Trees.scala.html#26772" title="(sym: UnCurry.this.global.Symbol,constrMods: UnCurry.this.global.Modifiers,vparamss: List[List[UnCurry.this.global.ValDef]],argss: List[List[UnCurry.this.global.Tree]],body: List[UnCurry.this.global.Tree],superPos: scala.tools.nsc.util.Position)UnCurry.this.global.ClassDef">ClassDef</a>(<a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>, <a href="../ast/Trees.scala.html#26750" title="=&gt; UnCurry.this.global.Modifiers">NoMods</a>, <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <a href="#144837" title="List[UnCurry.this.global.DefDef]">members</a>, <a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)),
              <a href="../ast/Trees.scala.html#50628" title="(expr: UnCurry.this.global.Tree,tpt: UnCurry.this.global.Tree)UnCurry.this.global.Typed">Typed</a>(
                <a href="../ast/Trees.scala.html#26865" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144831" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#98272" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))),
                <a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144824" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>)))
            
          }
        }
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]" id="143123">transformArgs</a>(<a title="scala.tools.nsc.util.Position" id="146060">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="List[UnCurry.this.global.Tree]" id="146061">args</a>: <span title="List[UnCurry.this.global.Tree]">List</span>[Tree], <a title="List[UnCurry.this.global.Type]" id="146062">formals</a>: <span title="List[UnCurry.this.global.Type]">List</span>[Type], <a title="Boolean" id="146063">isJava</a>: <span title="Boolean">Boolean</span>) = {
      <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span>) {
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>); List<span title="object Nil">(</span>)
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146079">args1</a> =
          <a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; UnCurry.this.global.Type">last</span> <span title="List[UnCurry.this.global.Tree]" class="keyword">match</span> {
            <span title="List[UnCurry.this.global.Tree]" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="146083">pre</a>, <a title="UnCurry.this.global.Symbol" id="146084">sym</a>, <a href="#146086" title="(x: List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]">List</a>(<a title="UnCurry.this.global.Type" id="146095">elempt</a>)) <span class="keyword">if</span> (<a href="#146084" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28546" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
              <span class="keyword">def</span> <a title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue" id="146105">mkArrayValue</a>(<a title="List[UnCurry.this.global.Tree]" id="146107">ts</a>: <span title="List[UnCurry.this.global.Tree]">List</span>[Tree]) =
                <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.ArrayValue)UnCurry.this.global.ArrayValue">atPos</a>(<a href="#146060" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#146117" title="(elemtpt: UnCurry.this.global.Tree,elems: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">ArrayValue</a><a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.ArrayValue">(</a><a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#146095" title="UnCurry.this.global.Type">elempt</a>), <a href="#146107" title="List[UnCurry.this.global.Tree]">ts</a>) setType <a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; UnCurry.this.global.Type">last</span>);
              
              // when calling into java varargs, make sure it's an array - see bug #1360
              <span class="keyword">def</span> <a title="(arg: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="146106">forceToArray</a>(<a title="UnCurry.this.global.Tree" id="146167">arg</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = {
                <span class="keyword">val</span> Typed<a href="#146173" title="UnCurry.this.global.Tree" id="146168">(</a><a title="UnCurry.this.global.Tree" id="146173">tree</a>, _) = <a href="#146167" title="UnCurry.this.global.Tree">arg</a>
                <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#146063" title="Boolean">isJava</a> || <a href="#146168" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28579" title="=&gt; UnCurry.this.global.Symbol">ArrayClass</a>) <a href="#146168" title="UnCurry.this.global.Tree">tree</a>
                <span class="keyword">else</span> {
                  <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="146185">traversableTpe</a> = <a href="#146168" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: UnCurry.this.global.Symbol)UnCurry.this.global.Type">baseType</a>(<a href="../symtab/Definitions.scala.html#28554" title="=&gt; UnCurry.this.global.Symbol">TraversableClass</a>)
                  <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="146186">toArray</a> = <a href="#146168" title="UnCurry.this.global.Tree">tree</a>.<a href="../symtab/Types.scala.html#30403" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Symbol">tpe</a> member <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30148" title="=&gt; UnCurry.this.global.Name">toArray</a>
                  <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#146185" title="(x$1: AnyRef)Boolean">traversableTpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26383" title="object UnCurry.this.global.NoType">NoType</a> &amp;&amp; <a href="#146186" title="(x$1: AnyRef)Boolean">toArray</a> != <a href="../symtab/Symbols.scala.html#26293" title="object UnCurry.this.global.NoSymbol">NoSymbol</a>) {
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.analyzer.global.Tree]" id="146223">arguments</a> = 
                      <span title="List[UnCurry.this.global.analyzer.global.Tree]" class="keyword">if</span> (<a href="#146186" title="UnCurry.this.global.Symbol">toArray</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[UnCurry.this.global.Type]">paramTypes</a>.<span title="=&gt; Boolean">isEmpty</span>) List<span title="object Nil">(</span>) // !!! old style toArray
                      <span class="keyword">else</span> <span title="(xs: UnCurry.this.global.analyzer.global.Tree*)List[UnCurry.this.global.analyzer.global.Tree]">List</span>(<a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42889" title="(pos: scala.tools.nsc.util.Position,tp: UnCurry.this.global.analyzer.global.Type,full: Boolean)UnCurry.this.global.analyzer.global.Tree">getManifestTree</a>(<a href="#146168" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#146168" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30378" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">head</span>, <span title="Boolean(false)" class="keyword">false</span>)) // new style, with manifest
                    <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
                      <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
                        <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#146060" title="scala.tools.nsc.util.Position">pos</a>) {
                          <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../Global.scala.html#39263" title="object UnCurry.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42915" title="(qual: UnCurry.this.global.gen.global.Tree,sym: UnCurry.this.global.gen.global.Symbol)UnCurry.this.global.gen.global.Tree">mkAttributedSelect</a>(<a href="#146168" title="UnCurry.this.global.Tree">tree</a>, <a href="#146186" title="UnCurry.this.global.Symbol">toArray</a>), <a href="#146223" title="List[UnCurry.this.global.analyzer.global.Tree]">arguments</a>)
                        }
                      }
                    }
                  } <span class="keyword">else</span> <a href="#146168" title="UnCurry.this.global.Tree">tree</a>
                }
              }
              <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>)
                <span title="(xs: UnCurry.this.global.ArrayValue*)List[UnCurry.this.global.ArrayValue]">List</span>(<a href="#146105" title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">mkArrayValue</a>(<a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>))
              <span class="keyword">else</span> {
                <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146322">suffix</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = 
                  <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="../ast/TreeInfo.scala.html#49181" title="(tree: UnCurry.this.global.treeInfo.trees.Tree)Boolean">treeInfo</a> isWildcardStarArg <a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">last</span>) <a href="#146106" title="(arg: UnCurry.this.global.Tree)UnCurry.this.global.Tree">forceToArray</a>(<a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">last</span>)
                  <span class="keyword">else</span> <a href="#146105" title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">mkArrayValue</a>(<a href="#146061" title="(n: Int)List[UnCurry.this.global.Tree]">args</a> drop (<a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>))
                
                <a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>.<span title="(n: Int)List[UnCurry.this.global.Tree]">take</span>(<a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>) <a href="#146352" title="List[UnCurry.this.global.Tree]">:::</a> <span title="(xs: UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]">List</span><span title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">(</span><a href="#146322" title="UnCurry.this.global.Tree">suffix</a>)
              }
            <span title="List[UnCurry.this.global.Tree]" class="keyword">case</span> _ =&gt; <a href="#146061" title="List[UnCurry.this.global.Tree]">args</a>
          }
        <span title="object List">List</span>.<a title="(xs: List[UnCurry.this.global.Type],ys: List[UnCurry.this.global.Tree])(f: (UnCurry.this.global.Type, UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]" id="24534">map2</a>(<a href="#146062" title="List[UnCurry.this.global.Type]">formals</a>, <a href="#146079" title="List[UnCurry.this.global.Tree]">args1</a>) { (<a title="UnCurry.this.global.Type" id="146403">formal</a>, <a title="UnCurry.this.global.Tree" id="146404">arg</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#146403" title="UnCurry.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> != <a href="../symtab/Definitions.scala.html#28548" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a>) {
            <a href="#146404" title="UnCurry.this.global.Tree">arg</a>
          } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143113" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#146404" title="UnCurry.this.global.Tree">arg</a>)) {
            <a href="#143107" title="=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">byNameArgs</a>.<a title="(elem: UnCurry.this.global.Tree)Boolean" id="39795">addEntry</a>(<a href="#146404" title="UnCurry.this.global.Tree">arg</a>)
            <a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)arg.type">arg</a> setType <a href="../symtab/Definitions.scala.html#28659" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#146404" title="UnCurry.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>)
          } <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="UnCurry.this.global.Function" id="146433">fun</a> = <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a>(
              <a href="../ast/Trees.scala.html#95785" title="(vparams: List[UnCurry.this.global.ValDef],body: UnCurry.this.global.Tree)UnCurry.this.global.Function">Function</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.Function">(</a>List<span title="object Nil">(</span>), <a href="#146404" title="UnCurry.this.global.Tree">arg</a>) setPos <a href="#146404" title="UnCurry.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a title="[T0]T0" id="3644">asInstanceOf</a><span title="UnCurry.this.global.Function">[</span><a href="../ast/Trees.scala.html#26838" title="UnCurry.this.global.Function">Function</a>];
            <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26939" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol" id="785740">currentOwner</a>, <a href="#146433" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48738" title="=&gt; UnCurry.this.global.Symbol">symbol</a>).<a href="../ast/Trees.scala.html#129391" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#146404" title="UnCurry.this.global.Tree">arg</a>);
            <a href="#143122" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">transformFunction</a>(<a href="#146433" title="UnCurry.this.global.Function">fun</a>)
          }
        }
      }
    }

// ------ The tree transformers --------------------------------------------------------

    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="143124">mainTransform</a>(<a title="UnCurry.this.global.Tree" id="143647">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = <a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Tree">{</a>

      <span class="keyword">def</span> <a title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="146494">withNeedLift</a>(<a title="Boolean" id="146498">needLift</a>: <span title="Boolean">Boolean</span>)(<a title="=&gt; UnCurry.this.global.Tree" id="146499">f</a>: =&gt; Tree): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Boolean" id="146500">savedNeedTryLift</a> = <a href="#143099" title="=&gt; Boolean">needTryLift</a>
        <a href="#143099" title="(x$1: Boolean)Unit">needTryLift</a> = <a href="#146498" title="Boolean">needLift</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146501">t</a> = <a href="#146499" title="=&gt; UnCurry.this.global.Tree">f</a>
        <a href="#143099" title="(x$1: Boolean)Unit">needTryLift</a> = <a href="#146500" title="Boolean">savedNeedTryLift</a>
        <a href="#146501" title="UnCurry.this.global.Tree">t</a>
      }

      /** A try or synchronized needs to be lifted anyway for MSIL if it contains
       *  return statements. These are disallowed in the CLR. By lifting
       *  such returns will be converted to throws.
       */
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="146495">shouldBeLiftedAnyway</a>(<a title="UnCurry.this.global.Tree" id="146506">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = <span title="(x$1: Boolean)Boolean" class="keyword">false</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> // buggy, see #1981
        <a href="../Global.scala.html#39416" title="=&gt; Boolean">forMSIL</a> &amp;&amp; <a href="#142846" title="object UnCurry.this.lookForReturns">lookForReturns</a>.<a href="#143568" title="(tree: UnCurry.this.global.Tree)Boolean">found</a>(<a href="#146506" title="UnCurry.this.global.Tree">tree</a>)

      /** Transform tree `t' to { def f = t; f } where `f' is a fresh name
       */
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree" id="146496">liftTree</a>(<a title="UnCurry.this.global.Tree" id="146513">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;lifting tree at: &quot;</span> + (<a href="#146513" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>))
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="146514">sym</a> = <a href="../ast/Trees.scala.html#45699" title="=&gt; UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27026" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#146513" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#143126" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">(</a><a href="#146513" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;liftedTree&quot;)" class="string">&quot;liftedTree&quot;</span>))
        <a href="#146514" title="UnCurry.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: UnCurry.this.global.Type)sym.type">setInfo</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#146513" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>))
        <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26939" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; UnCurry.this.global.Symbol">currentOwner</a>, <a href="#146514" title="UnCurry.this.global.TermSymbol">sym</a>).<a href="../ast/Trees.scala.html#129391" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#146513" title="UnCurry.this.global.Tree">tree</a>)
        <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
          <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Block)UnCurry.this.global.Block">atPos</a>(<a href="#146513" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49279" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="../ast/Trees.scala.html#26789" title="(sym: UnCurry.this.global.Symbol,vparamss: List[List[UnCurry.this.global.ValDef]],rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#146514" title="UnCurry.this.global.TermSymbol">sym</a>, <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <a href="#146513" title="UnCurry.this.global.Tree">tree</a>)),
                  <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#26895" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#146514" title="UnCurry.this.global.TermSymbol">sym</a>), <span title="object Nil">Nil</span>))
          }
        }
      }
    
      <span class="keyword">def</span> <a title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="146497">withInConstructorFlag</a>(<a title="Long" id="146742">inConstructorFlag</a>: <a title="Long" id="2205">Long</a>)(<a title="=&gt; UnCurry.this.global.Tree" id="146743">f</a>: =&gt; Tree): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Long" id="146744">savedInConstructorFlag</a> = <a href="#142848" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#143105" title="=&gt; Long">inConstructorFlag</a>
        <a href="#142848" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#143105" title="(x$1: Long)Unit">inConstructorFlag</a> = <a href="#146742" title="Long">inConstructorFlag</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146745">t</a> = <a href="#146743" title="=&gt; UnCurry.this.global.Tree">f</a>
        <a href="#142848" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#143105" title="(x$1: Long)Unit">inConstructorFlag</a> = <a href="#146744" title="Long">savedInConstructorFlag</a>
        <a href="#146745" title="UnCurry.this.global.Tree">t</a>
      }

      <a href="#143647" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> DefDef(<a title="UnCurry.this.global.Modifiers" id="146758">mods</a>, <a title="UnCurry.this.global.Name" id="146759">name</a>, <a title="List[UnCurry.this.global.TypeDef]" id="146760">tparams</a>, <a title="List[List[UnCurry.this.global.ValDef]]" id="146761">vparamss</a>, <a title="UnCurry.this.global.Tree" id="146762">tpt</a>, <a title="UnCurry.this.global.Tree" id="146763">rhs</a>) =&gt;
          <a href="#146494" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(false)" class="keyword">false</span>) {
            <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27073" title="=&gt; Boolean">isClassConstructor</a>) {
              <a href="TypingTransformers.scala.html#99236" title="(owner: UnCurry.this.global.Symbol)(trans: =&gt; UnCurry.this.global.DefDef)UnCurry.this.global.DefDef">atOwner</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>) {
                <span class="keyword">val</span> <a title="UnCurry.this.global.Block" id="146790">rhs1</a> = (<a href="#146763" title="UnCurry.this.global.Tree">rhs</a>: @<a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree @unchecked">unchecked</a>) <span title="UnCurry.this.global.Block" class="keyword">match</span> {
                  <span title="UnCurry.this.global.Block" class="keyword">case</span> Block(<a title="List[UnCurry.this.global.Tree]" id="146795">stats</a>, <a title="UnCurry.this.global.Tree" id="146796">expr</a>) =&gt;
                    <span class="keyword">def</span> <a title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="146799">transformInConstructor</a>(<a title="UnCurry.this.global.Tree" id="146804">stat</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = 
                      <a href="#146497" title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withInConstructorFlag</a>(<span title="Long(131072L)">INCONSTRUCTOR</span>) { <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146804" title="UnCurry.this.global.Tree">stat</a>) }
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146800">presupers</a> = <a href="../ast/Trees.scala.html#26741" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49169" title="(stats: List[UnCurry.this.global.treeInfo.trees.Tree])List[UnCurry.this.global.treeInfo.trees.ValDef]">preSuperFields</a><span title="(f: (UnCurry.this.global.treeInfo.trees.ValDef) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.treeInfo.trees.ValDef]])List[UnCurry.this.global.Tree]">(</span><a href="#146795" title="List[UnCurry.this.global.Tree]">stats</a>) <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#146799" title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transformInConstructor</a>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146801">rest</a> = <a href="#146795" title="(n: Int)List[UnCurry.this.global.Tree]">stats</a> drop <a href="#146800" title="List[UnCurry.this.global.Tree]">presupers</a>.<span title="=&gt; Int">length</span>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146802">supercalls</a> = <a href="#146801" title="(n: Int)List[UnCurry.this.global.Tree]">rest</a> <span title="(f: (UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Tree]])List[UnCurry.this.global.Tree]">take</span> <span title="Int(1)" class="int">1</span> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#146799" title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transformInConstructor</a>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146803">others</a> = <a href="#146801" title="(n: Int)List[UnCurry.this.global.Tree]">rest</a> <span title="(f: (UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Tree]])List[UnCurry.this.global.Tree]">drop</span> <span title="Int(1)" class="int">1</span> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>
                    <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48804" title="(tree: UnCurry.this.global.Tree,stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<a href="#146763" title="UnCurry.this.global.Tree">rhs</a>, <a href="#146800" title="List[UnCurry.this.global.Tree]">presupers</a> <a href="#147110" title="List[UnCurry.this.global.Tree]">:::</a> <a href="#146802" title="List[UnCurry.this.global.Tree]">supercalls</a> <a href="#147111" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">:::</a> <a href="#146803" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">others</a>, <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146796" title="UnCurry.this.global.Tree">expr</a>))
                }
                <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: UnCurry.this.global.Tree,mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(
                  <a href="#143647" title="UnCurry.this.global.Tree">tree</a>, <a href="#146758" title="UnCurry.this.global.Modifiers">mods</a>, <a href="#146759" title="UnCurry.this.global.Name">name</a>, <a href="../ast/Trees.scala.html#45708" title="(trees: List[UnCurry.this.global.TypeDef])List[UnCurry.this.global.TypeDef]">transformTypeDefs</a>(<a href="#146760" title="List[UnCurry.this.global.TypeDef]">tparams</a>),
                  <a href="../ast/Trees.scala.html#45711" title="(treess: List[List[UnCurry.this.global.ValDef]])List[List[UnCurry.this.global.ValDef]]">transformValDefss</a>(<a href="#146761" title="List[List[UnCurry.this.global.ValDef]]">vparamss</a>), <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146762" title="UnCurry.this.global.Tree">tpt</a>), <a href="#146790" title="UnCurry.this.global.Block">rhs1</a>)
              }
            } <span class="keyword">else</span> { 
              <a href="#785744" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.<a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="785744">transform</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>) 
            }
          }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> ValDef(_, _, _, <a title="UnCurry.this.global.Tree" id="147173">rhs</a>) =&gt;
          <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="147176">sym</a> = <a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
          // a local variable that is mutable and free somewhere later should be lifted
          // as lambda lifting (coming later) will wrap 'rhs' in an Ref object.
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#147176" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27070" title="=&gt; Boolean">isSourceMethod</a> || (<a href="#147176" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27062" title="(x$1: Boolean)Boolean">isVariable</a> &amp;&amp; <a href="#142850" title="(elem: UnCurry.this.global.Symbol)Boolean" id="39571">freeMutableVars</a>(<a href="#147176" title="UnCurry.this.global.Symbol">sym</a>)))
            <a href="#146494" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#785744" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>) }
          <span class="keyword">else</span>
            <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#99242" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>)
/*
        case Apply(Select(Block(List(), Function(vparams, body)), nme.apply), args) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce1: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }

        case Apply(Select(Function(vparams, body), nme.apply), args) =&gt;
//        if (List.forall2(vparams, args)((vparam, arg) =&gt; treeInfo.isAffineIn(body) || 
//                                        treeInfo.isPureExpr(arg))) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce2: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }
*/
        <span title="UnCurry.this.global.UnApply" class="keyword">case</span> UnApply(<a title="UnCurry.this.global.Tree" id="147266">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="147267">args</a>) =&gt;
          <a href="#143102" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="147270">fn1</a> = <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#147266" title="UnCurry.this.global.Tree">fn</a>)
          <a href="#143102" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="147271">args1</a> = <a href="../ast/Trees.scala.html#45706" title="(trees: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">transformTrees</a>(
            <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#147266" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30164" title="=&gt; UnCurry.this.global.Name">unapply</a>)
              <a href="#147267" title="List[UnCurry.this.global.Tree]">args</a>
            <span class="keyword">else</span> <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#147266" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30166" title="=&gt; UnCurry.this.global.Name">unapplySeq</a>)
              <a href="#143123" title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]">transformArgs</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#147267" title="List[UnCurry.this.global.Tree]">args</a>, <a href="../Global.scala.html#39334" title="object UnCurry.this.global.analyzer">analyzer</a>.<a href="../typechecker/Unapplies.scala.html#40284" title="(tp1: UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.Type]">unapplyTypeListFromReturnTypeSeq</a>(<a href="#147266" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> { <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>,<span title="java.lang.String(&quot;internal error: UnApply node has wrong symbol&quot;)" class="string">&quot;internal error: UnApply node has wrong symbol&quot;</span>); <span title="Null(null)" class="keyword">null</span> })
          <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48810" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.UnApply">UnApply</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>, <a href="#147270" title="UnCurry.this.global.Tree">fn1</a>, <a href="#147271" title="List[UnCurry.this.global.Tree]">args1</a>)

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Apply(<a title="UnCurry.this.global.Tree" id="147333">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="147334">args</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37279" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">noassertions</a>.<a href="../Settings.scala.html#37988" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              (<a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> ne <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              (<a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30020" title="=&gt; UnCurry.this.global.Name">assert_</a> || <a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30022" title="=&gt; UnCurry.this.global.Name">assume_</a>) &amp;&amp;
              <a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> == <a href="../symtab/Definitions.scala.html#28524" title="=&gt; UnCurry.this.global.Symbol">PredefModule</a>.<a href="../symtab/Symbols.scala.html#27218" title="=&gt; UnCurry.this.global.Symbol">moduleClass</a>) {
            <a href="../ast/Trees.scala.html#26899" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Unit">(</span>)).<a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.Literal">setPos</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Literal">setType</a>(<a href="../symtab/Definitions.scala.html#28463" title="=&gt; UnCurry.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>)
          } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28705" title="=&gt; UnCurry.this.global.Symbol">Object_synchronized</a> &amp;&amp; <a href="#146495" title="(tree: UnCurry.this.global.Tree)Boolean">shouldBeLiftedAnyway</a>(<a href="#147334" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">head</span>)) {
            <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48823" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>, <a href="#147333" title="UnCurry.this.global.Tree">fn</a>, <span title="(xs: UnCurry.this.global.analyzer.global.Tree*)List[UnCurry.this.global.analyzer.global.Tree]">List</span>(<a href="#146496" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree">liftTree</a>(<a href="#147334" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">head</span>))))
          } <span class="keyword">else</span> {
            <a href="#146494" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) {
              <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="147439">formals</a> = <a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30386" title="=&gt; List[UnCurry.this.global.Type]">paramTypes</a>;
              <span class="keyword">val</span> <a title="Boolean" id="147440">isJava</a> = <a href="#147333" title="UnCurry.this.global.Tree">fn</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(1048576L)">JAVA</span> // in case we need a varargs transformation
              <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48823" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>, <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#147333" title="UnCurry.this.global.Tree">fn</a>), <a href="../ast/Trees.scala.html#45706" title="(trees: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">transformTrees</a>(<a href="#143123" title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]">transformArgs</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#147334" title="List[UnCurry.this.global.Tree]">args</a>, <a href="#147439" title="List[UnCurry.this.global.Type]">formals</a>, <a href="#147440" title="Boolean">isJava</a>)))
            }
          }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Assign(Select(_, _), _) =&gt;
          <a href="#146494" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#785744" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>) }
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Assign(<a title="UnCurry.this.global.Tree" id="147481">lhs</a>, _) <span class="keyword">if</span> <a href="#147481" title="UnCurry.this.global.Tree">lhs</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> != <a href="../ast/Trees.scala.html#45702" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a> =&gt;
          <a href="#146494" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#785744" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>) }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Try(<a title="UnCurry.this.global.Tree" id="147509">block</a>, <a title="List[UnCurry.this.global.CaseDef]" id="147510">catches</a>, <a title="UnCurry.this.global.Tree" id="147511">finalizer</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143099" title="(x$1: Boolean)Boolean">needTryLift</a> || <a href="#146495" title="(tree: UnCurry.this.global.Tree)Boolean">shouldBeLiftedAnyway</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>)) <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146496" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree">liftTree</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>))
          <span class="keyword">else</span> <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#99242" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>)

        <span title="UnCurry.this.global.CaseDef" class="keyword">case</span> CaseDef(<a title="UnCurry.this.global.Tree" id="147535">pat</a>, <a title="UnCurry.this.global.Tree" id="147536">guard</a>, <a title="UnCurry.this.global.Tree" id="147537">body</a>) =&gt;
          <a href="#143102" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="147540">pat1</a> = <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#147535" title="UnCurry.this.global.Tree">pat</a>)
          <a href="#143102" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48805" title="(tree: UnCurry.this.global.Tree,pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>, <a href="#147540" title="UnCurry.this.global.Tree">pat1</a>, <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#147536" title="UnCurry.this.global.Tree">guard</a>), <a href="#143112" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#147537" title="UnCurry.this.global.Tree">body</a>))

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> <a title="UnCurry.this.global.Function" id="147563">fun</a> @ Function(_, _) =&gt;
          <a href="#143124" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mainTransform</a>(<a href="#143122" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">transformFunction</a>(<a href="#147563" title="UnCurry.this.global.Function">fun</a>))

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Template(_, _, _) =&gt;
          <a href="#146497" title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withInConstructorFlag</a>(<span title="Long(0L)" class="int">0</span>) { <a href="#785744" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>) }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt; 
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="147589">tree1</a> = <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#99242" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#143113" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#147589" title="UnCurry.this.global.Tree">tree1</a>)) {
            <span class="keyword">val</span> <a title="tree1.type" id="147598">tree2</a> = <a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)tree1.type">tree1</a> setType <a href="../symtab/Definitions.scala.html#28659" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#147589" title="UnCurry.this.global.Tree">tree1</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>)
            <span title="Nothing" class="keyword">return</span> {
              <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143109" title="(elem: UnCurry.this.global.Tree)Boolean">noApply</a> contains <a href="#147598" title="tree1.type">tree2</a>) <a href="#147598" title="tree1.type">tree2</a>
              <span class="keyword">else</span> <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42872" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> { 
                <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#147589" title="UnCurry.this.global.Tree">tree1</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { <a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="#147598" title="tree1.type">tree2</a>, <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30014" title="=&gt; UnCurry.this.global.Name">apply</a>), List<span title="object Nil">(</span>)) }
              }
            } 
          }
          <a href="#147589" title="UnCurry.this.global.Tree">tree1</a>
      }
    } setType <a href="#143114" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryTreeType</a>(<a href="#143647" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>)

    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="143125">postTransform</a>(<a title="UnCurry.this.global.Tree" id="143645">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="147727">applyUnary</a>(<a title="UnCurry.this.global.Tree" id="147728">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a> = 
        <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27069" title="(x$1: Boolean)Boolean">isMethod</a> &amp;&amp; 
            (<span title="(x$1: Boolean)Boolean">!</span><a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26421" title="UnCurry.this.global.PolyType">PolyType</a>] || <a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30387" title="=&gt; List[UnCurry.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>)) {
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26416" title="UnCurry.this.global.MethodType">MethodType</a>]) <a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29550" title="(t: UnCurry.this.global.Type)Unit">tpe</a> = <a href="../symtab/Types.scala.html#44127" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>);
          <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#49378" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a><a href="../ast/Trees.scala.html#29552" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Apply">(</a><a href="#147728" title="UnCurry.this.global.Tree">tree</a>, List<span title="object Nil">(</span>)) setType <a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; UnCurry.this.global.Type">resultType</a>)
        } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29559" title="=&gt; Boolean">isType</a>) {
          <a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree">(</a><a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>) setPos <a href="#147728" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        } <span class="keyword">else</span> {
          <a href="#147728" title="UnCurry.this.global.Tree">tree</a>
        }
      <a href="#143645" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
        <span title="UnCurry.this.global.DefDef" class="keyword">case</span> DefDef(<a title="UnCurry.this.global.Modifiers" id="147833">mods</a>, <a title="UnCurry.this.global.Name" id="147834">name</a>, <a title="List[UnCurry.this.global.TypeDef]" id="147835">tparams</a>, <a title="List[List[UnCurry.this.global.ValDef]]" id="147836">vparamss</a>, <a title="UnCurry.this.global.Tree" id="147837">tpt</a>, <a title="UnCurry.this.global.Tree" id="147838">rhs</a>) =&gt;
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="147841">rhs1</a> = <a href="#143116" title="=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]">nonLocalReturnKeys</a>.<span title="(key: UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]">get</span>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>) <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
            <span title="UnCurry.this.global.Tree" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#147838" title="UnCurry.this.global.Tree">rhs</a>
            <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">case</span> Some(<a title="UnCurry.this.global.Symbol" id="147848">k</a>) =&gt; <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPos</a>(<a href="#147838" title="UnCurry.this.global.Tree">rhs</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#143120" title="(body: UnCurry.this.global.Tree,key: UnCurry.this.global.Symbol,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree">nonLocalReturnTry</a>(<a href="#147838" title="UnCurry.this.global.Tree">rhs</a>, <a href="#147848" title="UnCurry.this.global.Symbol">k</a>, <a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>))
          }
          <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: UnCurry.this.global.Tree,mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>, <a href="#147833" title="UnCurry.this.global.Modifiers">mods</a>, <a href="#147834" title="UnCurry.this.global.Name">name</a>, <a href="#147835" title="List[UnCurry.this.global.TypeDef]">tparams</a>, <span title="(xs: List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]">List</span>(<span title="object List">List</span>.<a title="(xss: List[List[UnCurry.this.global.ValDef]])List[UnCurry.this.global.ValDef]" id="24489">flatten</a>(<a href="#147836" title="List[List[UnCurry.this.global.ValDef]]">vparamss</a>)), <a href="#147837" title="UnCurry.this.global.Tree">tpt</a>, <a href="#147841" title="UnCurry.this.global.Tree">rhs1</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Try(<a title="UnCurry.this.global.Tree" id="147891">body</a>, <a title="List[UnCurry.this.global.CaseDef]" id="147892">catches</a>, <a title="UnCurry.this.global.Tree" id="147893">finalizer</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147892" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean" id="29121">catches</a> forall <a href="../ast/Trees.scala.html#26741" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49183" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isCatchCase</a>) <a href="#143645" title="UnCurry.this.global.Tree">tree</a>
          <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="String" id="147958">exname</a> = <a href="#143126" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;ex$&quot;)" class="string">&quot;ex$&quot;</span>)
            <span class="keyword">val</span> <a title="List[UnCurry.this.global.CaseDef]" id="147959">cases</a> =
              <span title="List[UnCurry.this.global.CaseDef]" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#147892" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean">catches</a> exists <a href="../ast/Trees.scala.html#26741" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#49182" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isDefaultCase</a>) || (<a href="#147892" title="List[UnCurry.this.global.CaseDef]">catches</a>.<span title="=&gt; UnCurry.this.global.CaseDef">last</span> <span title="Boolean" class="keyword">match</span> {  // bq: handle try { } catch { ... case ex:Throwable =&gt; ...}
                    <span title="Boolean(true)" class="keyword">case</span> CaseDef(Typed(Ident(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a title="UnCurry.this.global.Tree" id="147997">tpt</a>), <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, _) <span class="keyword">if</span> (<a href="#147997" title="UnCurry.this.global.Tree">tpt</a>.<a href="../symtab/Types.scala.html#30422" title="(that: UnCurry.this.global.Type)Boolean">tpe</a> =:= <a href="../symtab/Definitions.scala.html#28483" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>) =&gt;
                      <span title="Boolean(true)" class="keyword">true</span>
                    <span title="Boolean(true)" class="keyword">case</span> CaseDef(Bind(_, Typed(Ident(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a title="UnCurry.this.global.Tree" id="148021">tpt</a>)), <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, _) <span class="keyword">if</span> (<a href="#148021" title="UnCurry.this.global.Tree">tpt</a>.<a href="../symtab/Types.scala.html#30422" title="(that: UnCurry.this.global.Type)Boolean">tpe</a> =:= <a href="../symtab/Definitions.scala.html#28483" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>) =&gt;
                      <span title="Boolean(true)" class="keyword">true</span>
                    <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
                      <span title="Boolean(false)" class="keyword">false</span>
                  })) <a href="#147892" title="List[UnCurry.this.global.CaseDef]">catches</a>
              <span class="keyword">else</span> <a href="#147892" title="List[UnCurry.this.global.CaseDef]">catches</a> <a href="#148033" title="List[UnCurry.this.global.CaseDef]">:::</a> <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span><span title="(prefix: List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]">(</span><a href="../ast/Trees.scala.html#51711" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#80688" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(<a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>))));
            <span class="keyword">val</span> <a title="UnCurry.this.global.CaseDef" id="147960">catchall</a> = 
              <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">atPos</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                <a href="../ast/Trees.scala.html#51711" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(
                  <a href="../ast/Trees.scala.html#143928" title="(name: UnCurry.this.global.Name,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>, <a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>)),
                  <a href="../ast/Trees.scala.html#26761" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>,
                  <a href="../ast/Trees.scala.html#51883" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(<a href="../ast/Trees.scala.html#52132" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>), <a href="#147959" title="List[UnCurry.this.global.CaseDef]">cases</a>))
              }
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;rewrote try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#147892" title="List[UnCurry.this.global.CaseDef]">catches</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ==&gt; &quot;)" class="string">&quot; ==&gt; &quot;</span> + <a href="#147960" title="UnCurry.this.global.CaseDef">catchall</a>);
            <span class="keyword">val</span> <a title="List[UnCurry.this.global.analyzer.global.CaseDef]" id="147961">catches1</a> = <a href="TypingTransformers.scala.html#99226" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42850" title="(tree: UnCurry.this.global.analyzer.global.Tree,cases: List[UnCurry.this.global.analyzer.global.CaseDef],pattp0: UnCurry.this.global.analyzer.global.Type,pt: UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.CaseDef]">typedCases</a>(
              <a href="#143645" title="UnCurry.this.global.Tree">tree</a>, <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span>(<a href="#147960" title="UnCurry.this.global.CaseDef">catchall</a>), <a href="../symtab/Definitions.scala.html#28483" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="../symtab/Types.scala.html#26378" title="object UnCurry.this.global.WildcardType">WildcardType</a>);
            <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48818" title="(tree: UnCurry.this.global.Tree,block: UnCurry.this.global.Tree,catches: List[UnCurry.this.global.CaseDef],finalizer: UnCurry.this.global.Tree)UnCurry.this.global.Try">Try</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>, <a href="#147891" title="UnCurry.this.global.Tree">body</a>, <a href="#147961" title="List[UnCurry.this.global.analyzer.global.CaseDef]">catches1</a>, <a href="#147893" title="UnCurry.this.global.Tree">finalizer</a>)
          }
        <span title="UnCurry.this.global.Apply" class="keyword">case</span> Apply(Apply(<a title="UnCurry.this.global.Tree" id="148435">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="148436">args</a>), <a title="List[UnCurry.this.global.Tree]" id="148439">args1</a>) =&gt;
          <a href="../ast/Trees.scala.html#45697" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48823" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>, <a href="#148435" title="UnCurry.this.global.Tree">fn</a>, <a href="#148436" title="List[UnCurry.this.global.Tree]">args</a> <a href="#148445" title="List[UnCurry.this.global.Tree]">:::</a> <a href="#148439" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">args1</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Ident(<a title="UnCurry.this.global.Name" id="148458">name</a>) =&gt;
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#148458" title="(x$1: AnyRef)Boolean">name</a> != <a href="../symtab/StdNames.scala.html#26690" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29877" title="=&gt; UnCurry.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; UnCurry.this.global.Name">toTypeName</a>)
          <a href="#147727" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>);
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Select(<a title="UnCurry.this.global.Tree" id="148477">qual</a>, <a title="UnCurry.this.global.Name" id="148478">name</a>) =&gt;
          <a href="#147727" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> TypeApply(_, _) =&gt;
          <a href="#147727" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>)
        <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">case</span> Return(<a title="UnCurry.this.global.Tree" id="148490">expr</a>) <span class="keyword">if</span> (<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#785740" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27191" title="=&gt; UnCurry.this.global.Symbol">enclMethod</a> || <a href="#785740" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;non local return in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span>+<a href="#785740" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27191" title="=&gt; UnCurry.this.global.Symbol">enclMethod</a>)
          <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPos</a>(<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#143119" title="(expr: UnCurry.this.global.Tree,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree">nonLocalReturnThrow</a>(<a href="#148490" title="UnCurry.this.global.Tree">expr</a>, <a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>))
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> TypeTree() =&gt;
          <a href="#143645" title="UnCurry.this.global.Tree">tree</a>
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt; 
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29559" title="=&gt; Boolean">isType</a>) <a href="../ast/Trees.scala.html#26903" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree">(</a><a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; UnCurry.this.global.Type">tpe</a>) setPos <a href="#143645" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span class="keyword">else</span> <a href="#143645" title="UnCurry.this.global.Tree">tree</a>
      }
    }
  }
  
  <span class="keyword">import</span> collection.mutable
  /** Set of mutable local variables that are free in some inner method. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[UnCurry.this.global.Symbol]" id="142850">freeMutableVars</a>: mutable.<a title="scala.collection.mutable.Set[UnCurry.this.global.Symbol]" id="25170">Set</a>[Symbol] = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]">HashSet</span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends UnCurry.this.global.Traverser" id="142852">freeLocalsTraverser</a> = <a href="#142996" title="UnCurry.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26933" title="anonymous class $anon extends UnCurry.this.global.Traverser" id="142996">Traverser</a> {
    <span class="keyword">var</span> <a title="UnCurry.this.global.Symbol" id="142999">currentMethod</a>: <a href="../symtab/Symbols.scala.html#26286" title="UnCurry.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#26293" title="object UnCurry.this.global.NoSymbol">NoSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Unit" id="143001">traverse</a>(<a title="UnCurry.this.global.Tree" id="143006">tree</a>: <a href="../ast/Trees.scala.html#26752" title="UnCurry.this.global.Tree">Tree</a>) = <a href="#143006" title="UnCurry.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="143020">lastMethod</a> = <a href="#142999" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a>
        <a href="#142999" title="(x$1: UnCurry.this.global.Symbol)Unit">currentMethod</a> = <a href="#143006" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#143006" title="UnCurry.this.global.Tree">tree</a>)
        <a href="#142999" title="(x$1: UnCurry.this.global.Symbol)Unit">currentMethod</a> = <a href="#143020" title="UnCurry.this.global.Symbol">lastMethod</a>
      <span title="Unit" class="keyword">case</span> Ident(_) =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="143033">sym</a> = <a href="#143006" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#143033" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27062" title="(x$1: Boolean)Boolean">isVariable</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#143033" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a> &amp;&amp; <a href="#143033" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#142999" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a>)
          <a href="#142850" title="(elem: UnCurry.this.global.Symbol)UnCurry.this.freeMutableVars.type" id="39695">freeMutableVars</a> <span title="Unit">+=</span> <a href="#143033" title="UnCurry.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">case</span> _ =&gt;
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#143006" title="UnCurry.this.global.Tree">tree</a>)
    }
  }
}

        </pre>
    </body>
</html>