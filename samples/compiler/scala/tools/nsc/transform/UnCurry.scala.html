<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/UnCurry.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */
// $Id: UnCurry.scala 18589 2009-08-27 14:45:35Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.util.Position

/*&lt;export&gt;*/
/** - uncurry all symbol and tree types (@see UnCurryPhase)
 *  - for every curried parameter list:  (ps_1) ... (ps_n) ==&gt; (ps_1, ..., ps_n)
 *  - for every curried application: f(args_1)...(args_n) ==&gt; f(args_1, ..., args_n)
 *  - for every type application: f[Ts] ==&gt; f[Ts]() unless followed by parameters
 *  - for every use of a parameterless function: f ==&gt; f()  and  q.f ==&gt; q.f()
 *  - for every def-parameter:  x: =&gt; T ==&gt; x: () =&gt; T
 *  - for every use of a def-parameter: x ==&gt; x.apply()
 *  - for every argument to a def parameter `x: =&gt; T': 
 *      if argument is not a reference to a def parameter:
 *        convert argument `e' to (expansion of) `() =&gt; e'
 *  - for every repeated parameter `x: T*' --&gt; x: Seq[T].
 *  - for every argument list that corresponds to a repeated parameter
 *       (a_1, ..., a_n) =&gt; (Seq(a_1, ..., a_n))
 *  - for every argument list that is an escaped sequence
 *       (a_1:_*) =&gt; (a_1)g
 *  - convert implicit method types to method types
 *  - convert non-trivial catches in try statements to matches
 *  - convert non-local returns to throws with enclosing try statements.
 */
/*&lt;/export&gt;*/
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class UnCurry extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject" id="14320">UnCurry</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#13951" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#14308" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> {
  <span class="keyword">import</span> global._                  // the global environment
  <span class="keyword">import</span> definitions._             // standard classes and methods

  <span class="keyword">val</span> <a title="String" id="142240">phaseName</a>: <a title="String" id="1605">String</a> = <span title="java.lang.String(&quot;uncurry&quot;)" class="string">&quot;uncurry&quot;</span>

  <span class="keyword">def</span> <a title="(unit: UnCurry.this.global.CompilationUnit)UnCurry.this.global.Transformer" id="142242">newTransformer</a>(<a title="UnCurry.this.global.CompilationUnit" id="142497">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26773" title="UnCurry.this.global.Transformer">Transformer</a> = <span title="UnCurry.this.UnCurryTransformer" class="keyword">new</span> <a href="#142253" title="UnCurry.this.UnCurryTransformer">UnCurryTransformer</a>(<a href="#142497" title="UnCurry.this.global.CompilationUnit">unit</a>)
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="142243">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

// ------ Type transformation --------------------------------------------------------

//@MAT: uncurry and uncurryType fully expand type aliases in their input and output
// note: don't normalize higher-kined types -- @M TODO: maybe split those uses of normalize? 
// OTOH, should be a problem as calls to normalize only occur on types with kind * in principle (in well-typed programs)
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142244">expandAlias</a>(<a title="UnCurry.this.global.Type" id="142269">tp</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = <span title="UnCurry.this.global.Type" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#142269" title="UnCurry.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30174" title="=&gt; Boolean">isHigherKinded</a>) <a href="#142269" title="UnCurry.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30206" title="=&gt; UnCurry.this.global.Type">normalize</a> <span class="keyword">else</span> <a href="#142269" title="UnCurry.this.global.Type">tp</a>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="UnCurry.this.global.TypeMap" id="142245">uncurry</a>: <a href="../symtab/Types.scala.html#26320" title="UnCurry.this.global.TypeMap">TypeMap</a> = <a href="#142540" title="UnCurry.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26320" title="anonymous class $anon extends UnCurry.this.global.TypeMap" id="142540">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142542">apply</a>(<a title="UnCurry.this.global.Type" id="142546">tp0</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="142548">tp</a> = <a href="#142244" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="#142546" title="UnCurry.this.global.Type">tp0</a>)
      <a href="#142548" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
        <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="142553">params</a>, MethodType(<a title="List[UnCurry.this.global.Symbol]" id="142556">params1</a>, <a title="UnCurry.this.global.Type" id="142557">restpe</a>)) =&gt;
          <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#142553" title="List[UnCurry.this.global.Symbol]">params</a> <a href="#142581" title="List[UnCurry.this.global.Symbol]">:::</a> <a href="#142556" title="(prefix: List[UnCurry.this.global.Symbol])List[UnCurry.this.global.Symbol]">params1</a>, <a href="#142557" title="UnCurry.this.global.Type">restpe</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="142595">formals</a>, ExistentialType(<a title="List[UnCurry.this.global.Symbol]" id="142598">tparams</a>, <a title="UnCurry.this.global.MethodType" id="142599">restpe</a> @ MethodType(_, _))) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;unexpected curried method types with intervening exitential&quot;)" class="string">&quot;unexpected curried method types with intervening exitential&quot;</span>) 
          <a href="#142546" title="UnCurry.this.global.Type">tp0</a>
        <span title="UnCurry.this.global.Type" class="keyword">case</span> <a title="UnCurry.this.global.ImplicitMethodType" id="142619">mt</a>: <a href="../symtab/Types.scala.html#26260" title="UnCurry.this.global.ImplicitMethodType">ImplicitMethodType</a> =&gt;
          <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#142619" title="UnCurry.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#43898" title="=&gt; List[UnCurry.this.global.Symbol]">params</a>, <a href="#142619" title="UnCurry.this.global.ImplicitMethodType">mt</a>.<a href="../symtab/Types.scala.html#43900" title="=&gt; UnCurry.this.global.Type">resultType</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(<a href="#142652" title="(x: List[UnCurry.this.global.Symbol])Some[List[UnCurry.this.global.Symbol]]">List</a>(), <a title="UnCurry.this.global.Type" id="142662">restpe</a>) =&gt;
          <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#142662" title="UnCurry.this.global.Type">restpe</a>))
        <span title="UnCurry.this.global.PolyType" class="keyword">case</span> PolyType(<a title="List[UnCurry.this.global.Symbol]" id="142699">tparams</a>, <a title="UnCurry.this.global.Type" id="142700">restpe</a>) =&gt;
          <a href="../symtab/Types.scala.html#43825" title="(typeParams: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.PolyType">PolyType</a>(<a href="#142699" title="List[UnCurry.this.global.Symbol]">tparams</a>, <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#142700" title="UnCurry.this.global.Type">restpe</a>)))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="142758">pre</a>, <a title="UnCurry.this.global.Symbol" id="142759">sym</a>, <a href="#142761" title="(x: List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]">List</a>(<a title="UnCurry.this.global.Type" id="142770">arg</a>)) <span class="keyword">if</span> (<a href="#142759" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28362" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a>) =&gt;
          <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Definitions.scala.html#28473" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#142770" title="UnCurry.this.global.Type">arg</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="142799">pre</a>, <a title="UnCurry.this.global.Symbol" id="142800">sym</a>, <a title="List[UnCurry.this.global.Type]" id="142801">args</a>) <span class="keyword">if</span> (<a href="#142800" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
          <a href="#142542" title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type">apply</a>(<a href="../symtab/Types.scala.html#26302" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28374" title="=&gt; UnCurry.this.global.Symbol">SeqClass</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <a href="#142801" title="List[UnCurry.this.global.Type]">args</a>))
        <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
          <a href="#142244" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="../symtab/Types.scala.html#42722" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">mapOver</a>(<a href="#142548" title="UnCurry.this.global.Type">tp</a>))
      }
    }
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="UnCurry.this.global.TypeMap" id="142247">uncurryType</a> = <a href="#142260" title="UnCurry.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26320" title="anonymous class $anon extends UnCurry.this.global.TypeMap" id="142260">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp0: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142262">apply</a>(<a title="UnCurry.this.global.Type" id="142266">tp0</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="142268">tp</a> = <a href="#142244" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">expandAlias</a>(<a href="#142266" title="UnCurry.this.global.Type">tp0</a>)
      <a href="#142268" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
        <span title="UnCurry.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[UnCurry.this.global.Type]" id="142276">parents</a>, <a title="UnCurry.this.global.Scope" id="142277">decls</a>, <a title="UnCurry.this.global.Symbol" id="142278">clazz</a>) =&gt;
          <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="142281">parents1</a> = <a href="#142276" title="(f: (UnCurry.this.global.Type) =&gt; UnCurry.this.global.Type)List[UnCurry.this.global.Type]" id="24270">parents</a> mapConserve (<a href="#142245" title="=&gt; UnCurry.this.global.TypeMap">uncurry</a>)
          <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#142281" title="(x$1: AnyRef)Boolean">parents1</a> eq <a href="#142276" title="List[UnCurry.this.global.Type]">parents</a>) <a href="#142268" title="UnCurry.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44259" title="(parents: List[UnCurry.this.global.Type],decls: UnCurry.this.global.Scope,typeSymbol: UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType">ClassInfoType</a>(<a href="#142281" title="List[UnCurry.this.global.Type]">parents1</a>, <a href="#142277" title="UnCurry.this.global.Scope">decls</a>, <a href="#142278" title="UnCurry.this.global.Symbol">clazz</a>) // @MAT normalize in decls??
        <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(_, _) =&gt;
          <a href="../symtab/Types.scala.html#42722" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">mapOver</a>(<a href="#142268" title="UnCurry.this.global.Type">tp</a>)
        <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
          <a href="#142268" title="UnCurry.this.global.Type">tp</a>
      }
    }
  }

  /** Convert repeated parameters to arrays if they occur as part of a Java method 
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142249">repeatedToArray</a>(<a title="UnCurry.this.global.Type" id="142845">tp</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = <a href="#142845" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
    <span title="UnCurry.this.global.MethodType" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="142849">params</a>, <a title="UnCurry.this.global.Type" id="142850">rtpe</a>) 
    <span class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#142849" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#142849" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
      <span class="keyword">val</span> <a title="List[UnCurry.this.global.Symbol]" id="142862">arrayParam</a> = <a href="#142849" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26882" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(
        <a href="../symtab/Types.scala.html#26302" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28393" title="=&gt; UnCurry.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="#142849" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; UnCurry.this.global.Symbol">last</span>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">head</span>))))
      <a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#142849" title="List[UnCurry.this.global.Symbol]">params</a>.<span title="=&gt; List[UnCurry.this.global.Symbol]">init</span> <a href="#142907" title="List[UnCurry.this.global.Symbol]">:::</a> <a href="#142862" title="(prefix: List[UnCurry.this.global.Symbol])List[UnCurry.this.global.Symbol]">arrayParam</a>, <a href="#142850" title="UnCurry.this.global.Type">rtpe</a>)
    <span title="UnCurry.this.global.Type" class="keyword">case</span> PolyType(<a title="List[UnCurry.this.global.Symbol]" id="142919">tparams</a>, <a title="UnCurry.this.global.Type" id="142920">rtpe</a>) =&gt;
      <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="142923">rtpe1</a> = <a href="#142249" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">repeatedToArray</a>(<a href="#142920" title="UnCurry.this.global.Type">rtpe</a>)
      <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#142923" title="(x$1: AnyRef)Boolean">rtpe1</a> eq <a href="#142920" title="UnCurry.this.global.Type">rtpe</a>) <a href="#142845" title="UnCurry.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../symtab/Types.scala.html#43825" title="(typeParams: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.PolyType">PolyType</a>(<a href="#142919" title="List[UnCurry.this.global.Symbol]">tparams</a>, <a href="#142923" title="UnCurry.this.global.Type">rtpe1</a>)
    <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
      <a href="#142845" title="UnCurry.this.global.Type">tp</a>
  }
  
  /** - return symbol's transformed type, 
   *  - if symbol is a def parameter with transformed type T, return () =&gt; T
   *
   * @MAT: starting with this phase, the info of every symbol will be normalized
   */
  <span class="keyword">def</span> <a title="(sym: UnCurry.this.global.Symbol,tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142250">transformInfo</a>(<a title="UnCurry.this.global.Symbol" id="142948">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>, <a title="UnCurry.this.global.Type" id="142949">tp</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = 
    <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#142948" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26896" title="=&gt; Boolean">isType</a>) <a href="#142247" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryType</a>(<a href="#142949" title="UnCurry.this.global.Type">tp</a>) 
    <span class="keyword">else</span> <span title="UnCurry.this.global.Type" class="keyword">if</span> (<a href="#142948" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="(x$1: Boolean)Boolean">isMethod</a> &amp;&amp; <a href="#142948" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(1048576L)">JAVA</span>)) <a href="#142245" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#142249" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">repeatedToArray</a>(<a href="#142949" title="UnCurry.this.global.Type">tp</a>))
    <span class="keyword">else</span> <a href="#142245" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#142949" title="UnCurry.this.global.Type">tp</a>)

  /** Traverse tree omitting local method definitions.
   *  If a `return' is encountered, set `returnFound' to true.
   *  Used for MSIL only.
   */
  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object UnCurry.this.lookForReturns" id="142251">lookForReturns</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/Trees.scala.html#26774" title="UnCurry.this.global.Traverser">Traverser</a> {
    <span class="keyword">var</span> <a title="Boolean" id="142970">returnFound</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Unit" id="142972">traverse</a>(<a title="UnCurry.this.global.Tree" id="142978">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <a title="Unit" id="1950">Unit</a> =  <a href="#142978" title="UnCurry.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> Return(_) =&gt; <a href="#142970" title="(x$1: Boolean)Unit">returnFound</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt; ;
      <span title="Unit" class="keyword">case</span> _ =&gt; <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#142978" title="UnCurry.this.global.Tree">tree</a>)
    }
    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="142973">found</a>(<a title="UnCurry.this.global.Tree" id="143000">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = {
      <a href="#142970" title="(x$1: Boolean)Unit">returnFound</a> = <span title="Boolean(false)" class="keyword">false</span>
      <a href="#142972" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#143000" title="UnCurry.this.global.Tree">tree</a>)
      <a href="#142970" title="=&gt; Boolean">returnFound</a>
    }
  }

  <span class="keyword">class</span> <a title="class UnCurryTransformer extends UnCurry.this.TypingTransformer with ScalaObject" id="142253">UnCurryTransformer</a><span title="ScalaObject">(</span><a title="UnCurry.this.global.CompilationUnit" id="142531">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#79307" title="UnCurry.this.TypingTransformer">TypingTransformer</a>(<a href="#142531" title="UnCurry.this.global.CompilationUnit">unit</a>) {

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="142504">needTryLift</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="142507">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="142510">inConstructorFlag</a> = <span title="Long(0L)" class="long">0L</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" id="142512">byNameArgs</a> = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">HashSet</span>[Tree]
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" id="142514">noApply</a> = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">HashSet</span>[Tree]

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: UnCurry.this.global.CompilationUnit)Unit" id="142516">transformUnit</a>(<a title="UnCurry.this.global.CompilationUnit" id="143022">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="UnCurry.this.global.CompilationUnit">CompilationUnit</a>) {
      <a href="#142255" title="=&gt; scala.collection.mutable.Set[UnCurry.this.global.Symbol]">freeMutableVars</a>.<a title="()Unit" id="39469">clear</a>
      <a href="../ast/Trees.scala.html#70829" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">freeLocalsTraverser</a>(<a href="#143022" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; UnCurry.this.global.Tree">body</a>)
      <a href="#143022" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45438" title="(x$1: UnCurry.this.global.Tree)Unit">body</a> = <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143022" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; UnCurry.this.global.Tree">body</a>)
    }
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="142517">transform</a>(<a title="UnCurry.this.global.Tree" id="143039">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = <span class="keyword">try</span> { //debug
      <a href="#142530" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">postTransform</a>(<a href="#142529" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mainTransform</a>(<a href="#143039" title="UnCurry.this.global.Tree">tree</a>))
    } <span class="keyword">catch</span> {
      <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="143058">ex</a>: <a title="Throwable" id="1887">Throwable</a> =&gt;
        <a title="object Console" id="390">Console</a>.<a title="(x: Any)Unit" id="51323">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#143039" title="UnCurry.this.global.Tree">tree</a>)
        <span title="Nothing" class="keyword">throw</span> <a href="#143058" title="java.lang.Throwable">ex</a>
    }

    /* Is tree a reference `x' to a call by name parameter that neeeds to be converted to 
     * x.apply()? Note that this is not the case if `x' is used as an argument to another
     * call by name parameter.
     */
    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="142518">isByNameRef</a>(<a title="UnCurry.this.global.Tree" id="143065">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <span title="Boolean">Boolean</span> =
      <a href="#143065" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29372" title="(x$1: Boolean)Boolean">isTerm</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#143065" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29370" title="=&gt; Boolean">hasSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
      <a href="#143065" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28362" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a> &amp;&amp; 
      <span title="=&gt; Boolean">!</span><a href="#142512" title="=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">byNameArgs</a>.<span title="(elem: UnCurry.this.global.Tree)Boolean">contains</span>(<a href="#143065" title="UnCurry.this.global.Tree">tree</a>)

    /** Uncurry a type of a tree node.
     *  This function is sensitive to whether or not we are in a pattern -- when in a pattern
     *  additional parameter sections of a case class are skipped.
     */
    <span class="keyword">def</span> <a title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142519">uncurryTreeType</a>(<a title="UnCurry.this.global.Type" id="143085">tp</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a> = <a href="#143085" title="UnCurry.this.global.Type">tp</a> <span title="UnCurry.this.global.Type" class="keyword">match</span> {
      <span title="UnCurry.this.global.Type" class="keyword">case</span> MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143089">formals</a>, MethodType(<a title="List[UnCurry.this.global.Symbol]" id="143092">formals1</a>, <a title="UnCurry.this.global.Type" id="143093">restpe</a>)) <span class="keyword">if</span> (<a href="#142507" title="=&gt; Boolean">inPattern</a>) =&gt;
        <a href="#142519" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryTreeType</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#143089" title="List[UnCurry.this.global.Symbol]">formals</a>, <a href="#143093" title="UnCurry.this.global.Type">restpe</a>))
      <span title="UnCurry.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="#142245" title="(v1: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurry</a>(<a href="#143085" title="UnCurry.this.global.Type">tp</a>)
    }

// ------- Handling non-local returns -------------------------------------------------

    /** The type of a non-local return expression with given argument type */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type" id="142520">nonLocalReturnExceptionType</a>(<a title="UnCurry.this.global.Type" id="143123">argtype</a>: <a href="../symtab/Types.scala.html#26205" title="UnCurry.this.global.Type">Type</a>) =
      <a href="../symtab/Types.scala.html#26302" title="(tycon: UnCurry.this.global.Type,args: List[UnCurry.this.global.Type])UnCurry.this.global.Type">appliedType</a>(<a href="../symtab/Definitions.scala.html#28301" title="=&gt; UnCurry.this.global.Symbol">NonLocalReturnExceptionClass</a>.<a href="../symtab/Symbols.scala.html#27013" title="=&gt; UnCurry.this.global.Type">typeConstructor</a>, <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="#143123" title="UnCurry.this.global.Type">argtype</a>))

    /** A hashmap from method symbols to non-local return keys */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" id="142521">nonLocalReturnKeys</a> = <span title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]" id="24954">HashMap</a>[Symbol, Symbol]

    /** Return non-local return key for given method */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(meth: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol" id="142523">nonLocalReturnKey</a>(<a title="UnCurry.this.global.Symbol" id="143144">meth</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>) = <a href="#142521" title="=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]">nonLocalReturnKeys</a>.<span title="(key: UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]">get</span>(<a href="#143144" title="UnCurry.this.global.Symbol">meth</a>) <span title="UnCurry.this.global.Symbol" class="keyword">match</span> {
      <span title="UnCurry.this.global.Symbol" class="keyword">case</span> Some(<a title="UnCurry.this.global.Symbol" id="143153">k</a>) =&gt; <a href="#143153" title="UnCurry.this.global.Symbol">k</a>
      <span title="UnCurry.this.global.TermSymbol" class="keyword">case</span> <span title="object None">None</span> =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="143156">k</a> = <a href="#143144" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#26863" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newValue</a>(<a href="#143144" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#142531" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45434" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#73998" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">(</a><a href="#143144" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;nonLocalReturnKey&quot;)" class="string">&quot;nonLocalReturnKey&quot;</span>))
          .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>).<a href="../symtab/Symbols.scala.html#27005" title="(info: UnCurry.this.global.Type)UnCurry.this.global.TermSymbol">setInfo</a>(<a href="../symtab/Definitions.scala.html#28267" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>)
        <a href="#142521" title="(key: UnCurry.this.global.Symbol,value: UnCurry.this.global.Symbol)Unit" id="44386">nonLocalReturnKeys</a>(<a href="#143144" title="UnCurry.this.global.Symbol">meth</a>) = <a href="#143156" title="UnCurry.this.global.TermSymbol">k</a>
        <a href="#143156" title="UnCurry.this.global.TermSymbol">k</a>
    }

    /** Generate a non-local return throw with given return expression from given method.
     *  I.e. for the method's non-local return key, generate:
     *
     *    throw new NonLocalReturnException(key, expr)
     *  todo: maybe clone a pre-existing exception instead?
     *  (but what to do about excaptions that miss their targets?)
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(expr: UnCurry.this.global.Tree,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree" id="142524">nonLocalReturnThrow</a>(<a title="UnCurry.this.global.Tree" id="143200">expr</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>, <a title="UnCurry.this.global.Symbol" id="143201">meth</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>) =
      <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
        <a href="../ast/Trees.scala.html#80398" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(
          <a href="../ast/Trees.scala.html#26706" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(
            <a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#142520" title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type">nonLocalReturnExceptionType</a>(<a href="#143200" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>)),
            <span title="(xs: List[UnCurry.this.global.Tree]*)List[List[UnCurry.this.global.Tree]]">List</span>(<span title="(xs: UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]">List</span>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#142523" title="(meth: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">nonLocalReturnKey</a>(<a href="#143201" title="UnCurry.this.global.Symbol">meth</a>)), <a href="#143200" title="UnCurry.this.global.Tree">expr</a>))))
      }

    /** Transform (body, key) to:
     *
     *  {
     *    val key = new Object()
     *    try { 
     *      body 
     *    } catch {
     *      case ex: NonLocalReturnException[_] =&gt; 
     *        if (ex.key().eq(key)) ex.value()
     *        else throw ex
     *    }
     *  }
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(body: UnCurry.this.global.Tree,key: UnCurry.this.global.Symbol,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree" id="142525">nonLocalReturnTry</a>(<a title="UnCurry.this.global.Tree" id="143289">body</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>, <a title="UnCurry.this.global.Symbol" id="143290">key</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>, <a title="UnCurry.this.global.Symbol" id="143291">meth</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>) = {
      <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
        <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="143303">extpe</a> = <a href="#142520" title="(argtype: UnCurry.this.global.Type)UnCurry.this.global.Type">nonLocalReturnExceptionType</a>(<a href="#143291" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30196" title="=&gt; UnCurry.this.global.Type">finalResultType</a>)
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="143304">ex</a> = <a href="#143291" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#26863" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newValue</a><a href="../symtab/Symbols.scala.html#27005" title="(info: UnCurry.this.global.Type)UnCurry.this.global.TermSymbol">(</a><a href="#143289" title="UnCurry.this.global.Tree">body</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29874" title="=&gt; UnCurry.this.global.Name">ex</a>) setInfo <a href="#143303" title="UnCurry.this.global.Type">extpe</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Bind" id="143305">pat</a> = <a href="../ast/Trees.scala.html#26672" title="(sym: UnCurry.this.global.Symbol,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="#143304" title="UnCurry.this.global.TermSymbol">ex</a>, 
                       <a href="../ast/Trees.scala.html#50375" title="(expr: UnCurry.this.global.Tree,tpt: UnCurry.this.global.Tree)UnCurry.this.global.Typed">Typed</a>(<a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), 
                             <a href="../ast/Trees.scala.html#71301" title="(tpt: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.AppliedTypeTree">AppliedTypeTree</a>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Definitions.scala.html#28301" title="=&gt; UnCurry.this.global.Symbol">NonLocalReturnExceptionClass</a>),
                                             <span title="(xs: UnCurry.this.global.Bind*)List[UnCurry.this.global.Bind]">List</span>(<a href="../ast/Trees.scala.html#143333" title="(name: UnCurry.this.global.Name,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; UnCurry.this.global.Name">toTypeName</a>,
                                                       <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>)))))
        <span class="keyword">val</span> <a title="UnCurry.this.global.If" id="143306">rhs</a> =
          <a href="../ast/Trees.scala.html#49866" title="(cond: UnCurry.this.global.Tree,thenp: UnCurry.this.global.Tree,elsep: UnCurry.this.global.Tree)UnCurry.this.global.If">If</a>(
            <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#26731" title="(qualifier: UnCurry.this.global.Tree,sym: UnCurry.this.global.Symbol)UnCurry.this.global.Select">Select</a>(
                <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50275" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143304" title="UnCurry.this.global.TermSymbol">ex</a>), <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name" class="string">&quot;key&quot;</a>), List<span title="object Nil">(</span>)),
                <a href="../symtab/Definitions.scala.html#28507" title="=&gt; UnCurry.this.global.Symbol">Object_eq</a>),
              <span title="(xs: UnCurry.this.global.Ident*)List[UnCurry.this.global.Ident]">List</span>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143290" title="UnCurry.this.global.Symbol">key</a>))),
            <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(
              <a href="../ast/Trees.scala.html#50717" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.TypeApply">TypeApply</a>(
                <a href="../ast/Trees.scala.html#26731" title="(qualifier: UnCurry.this.global.Tree,sym: UnCurry.this.global.Symbol)UnCurry.this.global.Select">Select</a>(
                  <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50275" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143304" title="UnCurry.this.global.TermSymbol">ex</a>), <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name" class="string">&quot;value&quot;</a>), List<span title="object Nil">(</span>)),
                  <a href="../symtab/Definitions.scala.html#28504" title="=&gt; UnCurry.this.global.Symbol">Any_asInstanceOf</a>),
                <span title="(xs: UnCurry.this.global.TypeTree*)List[UnCurry.this.global.TypeTree]">List</span>(<a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#143291" title="UnCurry.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30196" title="=&gt; UnCurry.this.global.Type">finalResultType</a>))),
              List<span title="object Nil">(</span>)),
            <a href="../ast/Trees.scala.html#80398" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#143304" title="UnCurry.this.global.TermSymbol">ex</a>)))
        <span class="keyword">val</span> <a title="UnCurry.this.global.ValDef" id="143307">keyDef</a> = <a href="../ast/Trees.scala.html#26622" title="(sym: UnCurry.this.global.Symbol,rhs: UnCurry.this.global.Tree)UnCurry.this.global.ValDef">ValDef</a>(<a href="#143290" title="UnCurry.this.global.Symbol">key</a>, <a href="../ast/Trees.scala.html#26706" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28267" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))))
        <span class="keyword">val</span> <a title="UnCurry.this.global.Try" id="143308">tryCatch</a> = <a href="../ast/Trees.scala.html#51752" title="(block: UnCurry.this.global.Tree,catches: List[UnCurry.this.global.CaseDef],finalizer: UnCurry.this.global.Tree)UnCurry.this.global.Try">Try</a>(<a href="#143289" title="UnCurry.this.global.Tree">body</a>, <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span>(<a href="../ast/Trees.scala.html#51457" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#143305" title="UnCurry.this.global.Bind">pat</a>, <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="#143306" title="UnCurry.this.global.If">rhs</a>)), <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>)
        <a href="../ast/Trees.scala.html#49026" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<span title="(xs: UnCurry.this.global.ValDef*)List[UnCurry.this.global.ValDef]">List</span>(<a href="#143307" title="UnCurry.this.global.ValDef">keyDef</a>), <a href="#143308" title="UnCurry.this.global.Try">tryCatch</a>)
      }
    }

// ------ Transforming anonymous functions and by-name-arguments ----------------

    /** Undo eta expansion for parameterless and nullary methods */
    <span class="keyword">def</span> <a title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree" id="142526">deEta</a>(<a title="UnCurry.this.global.Function" id="144140">fun</a>: <a href="../ast/Trees.scala.html#26679" title="UnCurry.this.global.Function">Function</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = <a href="#144140" title="UnCurry.this.global.Function">fun</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
      <span title="UnCurry.this.global.Tree" class="keyword">case</span> Function(<a href="#144145" title="(x: List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]">List</a>(), Apply(<a title="UnCurry.this.global.Tree" id="144157">expr</a>, <a href="#144159" title="(x: List[UnCurry.this.global.Tree])Some[List[UnCurry.this.global.Tree]]">List</a>())) <span class="keyword">if</span> <a href="../ast/Trees.scala.html#26582" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#48908" title="(tree: UnCurry.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a>(<a href="#144157" title="UnCurry.this.global.Tree">expr</a>) =&gt; 
        <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#144157" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29370" title="(x$1: Boolean)Boolean">hasSymbol</a> &amp;&amp; <a href="#144157" title="UnCurry.this.global.Tree">expr</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>))
          <a href="#144140" title="UnCurry.this.global.Function">fun</a>
        <span class="keyword">else</span>
          <a href="#144157" title="UnCurry.this.global.Tree">expr</a>
      <span title="UnCurry.this.global.Tree" class="keyword">case</span> Function(<a href="#144183" title="(x: List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]">List</a>(), <a title="UnCurry.this.global.Tree" id="144193">expr</a>) <span class="keyword">if</span> <a href="#142518" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#144193" title="UnCurry.this.global.Tree">expr</a>) =&gt; 
        <a href="#142514" title="(elem: UnCurry.this.global.Tree)UnCurryTransformer.this.noApply.type" id="39288">noApply</a> += <a href="#144193" title="UnCurry.this.global.Tree">expr</a> 
        <a href="#144193" title="UnCurry.this.global.Tree">expr</a>
      <span title="UnCurry.this.global.Function" class="keyword">case</span> _ =&gt; 
        <a href="#144140" title="UnCurry.this.global.Function">fun</a>
    }
        

    /*  Transform a function node (x_1,...,x_n) =&gt; body of type FunctionN[T_1, .., T_N, R] to
     *
     *    class $anon() extends Object() with FunctionN[T_1, .., T_N, R] with ScalaObject {
     *      def apply(x_1: T_1, ..., x_N: T_n): R = body
     *    }
     *    new $anon()
     *
     *  transform a function node (x =&gt; body) of type PartialFunction[T, R] where
     *    body = x match { case P_i if G_i =&gt; E_i }_i=1..n
     *  to:
     *
     *    class $anon() extends Object() with PartialFunction[T, R] with ScalaObject {
     *      def apply(x: T): R = (x: @unchecked) match {
     *        { case P_i if G_i =&gt; E_i }_i=1..n
     *      def isDefinedAt(x: T): boolean = (x: @unchecked) match {
     *        case P_1 if G_1 =&gt; true
     *        ...
     *        case P_n if G_n =&gt; true
     *        case _ =&gt; false
     *      }
     *    }
     *    new $anon()
     *  
     *  However, if one of the patterns P_i if G_i is a default pattern, generate instead
     *
     *      def isDefinedAt(x: T): boolean = true
     */
    <span class="keyword">def</span> <a title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree" id="142527">transformFunction</a>(<a title="UnCurry.this.global.Function" id="144229">fun</a>: <a href="../ast/Trees.scala.html#26679" title="UnCurry.this.global.Function">Function</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="144231">fun1</a> = <a href="#142526" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">deEta</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>)
      <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#144231" title="(x$1: AnyRef)Boolean">fun1</a> ne <a href="#144229" title="UnCurry.this.global.Function">fun</a>) <a href="#144231" title="UnCurry.this.global.Tree">fun1</a>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="UnCurry.this.global.ClassSymbol" id="144236">anonClass</a> = <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26888" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.ClassSymbol">newAnonymousFunctionClass</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) 
          .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)UnCurry.this.global.ClassSymbol">setFlag</a>(FINAL <a title="(x$1: Long)Long" id="3002">|</a> SYNTHETIC | <a href="#142510" title="=&gt; Long">inConstructorFlag</a>)
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="144237">formals</a> = <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; List[UnCurry.this.global.Type]">init</span>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="144238">restpe</a> = <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">last</span>
        <a href="../symtab/Symbols.scala.html#97896" title="(tp: UnCurry.this.global.Type)anonClass.type">anonClass</a> setInfo <a href="../symtab/Types.scala.html#44259" title="(parents: List[UnCurry.this.global.Type],decls: UnCurry.this.global.Scope,typeSymbol: UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType">ClassInfoType</a>(
          <span title="(xs: UnCurry.this.global.Type*)List[UnCurry.this.global.Type]">List</span>(<a href="../symtab/Definitions.scala.html#28267" title="=&gt; UnCurry.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="../symtab/Definitions.scala.html#28329" title="=&gt; UnCurry.this.global.Symbol">ScalaObjectClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>), <a href="../symtab/Scopes.scala.html#25966" title="=&gt; UnCurry.this.global.Scope">newScope</a>, <a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>);
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="144239">applyMethod</a> = <a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; UnCurry.this.global.Name">apply</a>).<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(32L)">FINAL</span>)
        <a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: UnCurry.this.global.Type)applyMethod.type">setInfo</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>.<a href="../symtab/Symbols.scala.html#26882" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<a href="#144237" title="List[UnCurry.this.global.Type]">formals</a>), <a href="#144238" title="UnCurry.this.global.Type">restpe</a>))
        <a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; UnCurry.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">decls</a> enter <a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>;
        <span class="keyword">for</span> (<a title="UnCurry.this.global.ValDef" id="144397">vparam</a> &lt;- <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95413" title="(f: (UnCurry.this.global.ValDef) =&gt; Unit)Unit" id="28932">vparams</a>) <a href="#144397" title="UnCurry.this.global.ValDef">vparam</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26984" title="(owner: UnCurry.this.global.Symbol)Unit">owner</a> = <a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>;
        <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26780" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; UnCurry.this.global.Symbol">symbol</a>, <a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>).<a href="../ast/Trees.scala.html#128844" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95415" title="=&gt; UnCurry.this.global.Tree">body</a>);
        <span class="keyword">def</span> <a title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef" id="144240">applyMethodDef</a>(<a title="UnCurry.this.global.Tree" id="144414">body</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = 
          <a href="../ast/Trees.scala.html#52176" title="(mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="../ast/Trees.scala.html#26590" title="(flags: Long)UnCurry.this.global.Modifiers">Modifiers</a>(<span title="Long(32L)">FINAL</span>), <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; UnCurry.this.global.Name">apply</a>, List<span title="object Nil">(</span>), <span title="(xs: List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]">List</span>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95413" title="=&gt; List[UnCurry.this.global.ValDef]">vparams</a>), <a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144238" title="UnCurry.this.global.Type">restpe</a>), <a href="#144414" title="UnCurry.this.global.Tree">body</a>)
            .<a href="../ast/Trees.scala.html#29369" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.DefDef">setSymbol</a>(<a href="#144239" title="UnCurry.this.global.TermSymbol">applyMethod</a>)
/*
        def toStringMethodDefs = fun match {
          case etaExpansion(_, fn, _) if (fn.hasSymbol) =&gt; 
            List(
              DefDef(Modifiers(FINAL | OVERRIDE), nme.toString_, List(), List(List()), TypeTree(StringClass.tpe), 
                     Literal(fn.symbol.name)))
          case _ =&gt;
            List()
        }
*/
        <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="144241">mkUnchecked</a>(<a title="UnCurry.this.global.Tree" id="144549">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = <a href="#144549" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
          <span title="UnCurry.this.global.Match" class="keyword">case</span> Match(<a title="UnCurry.this.global.Tree" id="144552">selector</a>, <a title="List[UnCurry.this.global.CaseDef]" id="144553">cases</a>) =&gt;
            <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Match)UnCurry.this.global.Match">atPos</a>(<a href="#144549" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
              <a href="../ast/Trees.scala.html#51629" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(
                <a href="../ast/Trees.scala.html#144583" title="(annot: UnCurry.this.global.Tree,arg: UnCurry.this.global.Tree)UnCurry.this.global.Annotated">Annotated</a>(<a href="../ast/Trees.scala.html#26706" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="../symtab/Definitions.scala.html#28321" title="=&gt; UnCurry.this.global.Symbol">UncheckedClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))), <a href="#144552" title="UnCurry.this.global.Tree">selector</a>),
                <a href="#144553" title="List[UnCurry.this.global.CaseDef]">cases</a>)
            }
          <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt;
            <a href="#144549" title="UnCurry.this.global.Tree">tree</a>
        }
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.DefDef]" id="144242">members</a> = {
          <span title="List[UnCurry.this.global.DefDef]" class="keyword">if</span> (<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28331" title="=&gt; UnCurry.this.global.Symbol">PartialFunctionClass</a>) {
            <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="144684">isDefinedAtMethod</a> = <a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29910" title="=&gt; UnCurry.this.global.Name">isDefinedAt</a>).<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)UnCurry.this.global.TermSymbol">setFlag</a>(<span title="Long(32L)">FINAL</span>)
            <a href="#144684" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: UnCurry.this.global.Type)isDefinedAtMethod.type">setInfo</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(<a href="#144684" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#26882" title="(argtypes: List[UnCurry.this.global.Type])List[UnCurry.this.global.Symbol]">newSyntheticValueParams</a>(<a href="#144237" title="List[UnCurry.this.global.Type]">formals</a>),
                                                 <a href="../symtab/Definitions.scala.html#28293" title="=&gt; UnCurry.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>))
            <a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; UnCurry.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Symbol">decls</a> enter <a href="#144684" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>
            <span class="keyword">def</span> <a title="(idparam: UnCurry.this.global.Symbol)UnCurry.this.global.TermTree" id="144685">idbody</a>(<a title="UnCurry.this.global.Symbol" id="144736">idparam</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a>) = <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95415" title="=&gt; UnCurry.this.global.Tree">body</a> <span title="UnCurry.this.global.TermTree" class="keyword">match</span> {
              <span title="UnCurry.this.global.TermTree" class="keyword">case</span> Match(_, <a title="List[UnCurry.this.global.CaseDef]" id="144739">cases</a>) =&gt;
                <span class="keyword">val</span> <a title="UnCurry.this.global.TreeSymSubstituter" id="144742">substParam</a> = <span title="UnCurry.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#26779" title="UnCurry.this.global.TreeSymSubstituter">TreeSymSubstituter</a>(<span title="(xs: UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]">List</span>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95413" title="=&gt; List[UnCurry.this.global.ValDef]">vparams</a>.<span title="=&gt; UnCurry.this.global.ValDef">head</span>.<a href="../ast/Trees.scala.html#48485" title="=&gt; UnCurry.this.global.Symbol">symbol</a>), <span title="(xs: UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]">List</span>(<a href="#144736" title="UnCurry.this.global.Symbol">idparam</a>));
                <span class="keyword">def</span> <a title="(cdef: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef" id="144743">transformCase</a>(<a title="UnCurry.this.global.CaseDef" id="144781">cdef</a>: <a href="../ast/Trees.scala.html#26656" title="UnCurry.this.global.CaseDef">CaseDef</a>): <a href="../ast/Trees.scala.html#26656" title="UnCurry.this.global.CaseDef">CaseDef</a> =
                  <a href="../ast/Trees.scala.html#144752" title="(tree: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">substParam</a>(
                    <a href="../ast/Trees.scala.html#26792" title="(x: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">resetAttrs</a>(
                      <a href="../ast/Trees.scala.html#51457" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#144781" title="UnCurry.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#51431" title="=&gt; UnCurry.this.global.Tree">pat</a>.<a href="../ast/Trees.scala.html#29387" title="=&gt; cdef.pat.type">duplicate</a>, <a href="#144781" title="UnCurry.this.global.CaseDef">cdef</a>.<a href="../ast/Trees.scala.html#51433" title="=&gt; UnCurry.this.global.Tree">guard</a>.<a href="../ast/Trees.scala.html#29387" title="=&gt; cdef.guard.type">duplicate</a>, <a href="../ast/Trees.scala.html#26740" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(true)" class="keyword">true</span>))))
                <span title="UnCurry.this.global.TermTree" class="keyword">if</span> (<a href="#144739" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean">cases</a> exists <a href="../ast/Trees.scala.html#26582" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#48929" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isDefaultCase</a>) <a href="../ast/Trees.scala.html#26740" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(true)" class="keyword">true</span>)
                <span class="keyword">else</span> 
                  <a href="../ast/Trees.scala.html#51629" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(
                    <a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#144736" title="UnCurry.this.global.Symbol">idparam</a>),
                    (<a href="#144739" title="(f: (UnCurry.this.global.CaseDef) =&gt; UnCurry.this.global.CaseDef)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.CaseDef,List[UnCurry.this.global.CaseDef],List[UnCurry.this.global.CaseDef]])List[UnCurry.this.global.CaseDef]">cases</a> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.CaseDef,List[UnCurry.this.global.CaseDef],List#Coll]">map</span> <a href="#144743" title="(cdef: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">transformCase</a>) <a href="#144991" title="List[UnCurry.this.global.CaseDef]">:::</a> 
                      <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span><span title="(prefix: List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]">(</span><a href="../ast/Trees.scala.html#51457" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#26740" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Boolean(false)" class="keyword">false</span>))))
            }
            <span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="#144240" title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">applyMethodDef</a>(<a href="#144241" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mkUnchecked</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95415" title="=&gt; UnCurry.this.global.Tree">body</a>)),
                 <a href="../ast/Trees.scala.html#26632" title="(sym: UnCurry.this.global.Symbol,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#144684" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>, <a href="#144241" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mkUnchecked</a>(<a href="#144685" title="(idparam: UnCurry.this.global.Symbol)UnCurry.this.global.TermTree">idbody</a>(<a href="#144684" title="UnCurry.this.global.TermSymbol">isDefinedAtMethod</a>.<a href="../symtab/Symbols.scala.html#27017" title="=&gt; List[List[UnCurry.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[UnCurry.this.global.Symbol]">head</span>.<span title="=&gt; UnCurry.this.global.Symbol">head</span>))))
          } <span class="keyword">else</span> {
            <span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="#144240" title="(body: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">applyMethodDef</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#95415" title="=&gt; UnCurry.this.global.Tree">body</a>))
          } 
        } /* ::: toStringMethodDefs */
        <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
          <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Block)UnCurry.this.global.Block">atPos</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49026" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(
              <span title="(xs: UnCurry.this.global.ClassDef*)List[UnCurry.this.global.ClassDef]">List</span>(<a href="../ast/Trees.scala.html#26613" title="(sym: UnCurry.this.global.Symbol,constrMods: UnCurry.this.global.Modifiers,vparamss: List[List[UnCurry.this.global.ValDef]],argss: List[List[UnCurry.this.global.Tree]],body: List[UnCurry.this.global.Tree],superPos: scala.tools.nsc.util.Position)UnCurry.this.global.ClassDef">ClassDef</a>(<a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>, <a href="../ast/Trees.scala.html#26591" title="=&gt; UnCurry.this.global.Modifiers">NoMods</a>, <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <a href="#144242" title="List[UnCurry.this.global.DefDef]">members</a>, <a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)),
              <a href="../ast/Trees.scala.html#50375" title="(expr: UnCurry.this.global.Tree,tpt: UnCurry.this.global.Tree)UnCurry.this.global.Typed">Typed</a>(
                <a href="../ast/Trees.scala.html#26706" title="(tpt: UnCurry.this.global.Tree,argss: List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree">New</a>(<a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144236" title="UnCurry.this.global.ClassSymbol">anonClass</a>.<a href="../symtab/Symbols.scala.html#97894" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>))),
                <a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#144229" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>)))
            
          }
        }
      }
    }

    <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]" id="142528">transformArgs</a>(<a title="scala.tools.nsc.util.Position" id="145462">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="List[UnCurry.this.global.Tree]" id="145463">args</a>: <span title="List[UnCurry.this.global.Tree]">List</span>[Tree], <a title="List[UnCurry.this.global.Type]" id="145464">formals</a>: <span title="List[UnCurry.this.global.Type]">List</span>[Type], <a title="Boolean" id="145465">isJava</a>: <span title="Boolean">Boolean</span>) = {
      <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span>) {
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>); List<span title="object Nil">(</span>)
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="145481">args1</a> =
          <a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; UnCurry.this.global.Type">last</span> <span title="List[UnCurry.this.global.Tree]" class="keyword">match</span> {
            <span title="List[UnCurry.this.global.Tree]" class="keyword">case</span> TypeRef(<a title="UnCurry.this.global.Type" id="145485">pre</a>, <a title="UnCurry.this.global.Symbol" id="145486">sym</a>, <a href="#145488" title="(x: List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]">List</a>(<a title="UnCurry.this.global.Type" id="145497">elempt</a>)) <span class="keyword">if</span> (<a href="#145486" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Definitions.scala.html#28360" title="=&gt; UnCurry.this.global.Symbol">RepeatedParamClass</a>) =&gt;
              <span class="keyword">def</span> <a title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue" id="145507">mkArrayValue</a>(<a title="List[UnCurry.this.global.Tree]" id="145509">ts</a>: <span title="List[UnCurry.this.global.Tree]">List</span>[Tree]) =
                <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.ArrayValue)UnCurry.this.global.ArrayValue">atPos</a>(<a href="#145462" title="scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#145519" title="(elemtpt: UnCurry.this.global.Tree,elems: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">ArrayValue</a><a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.ArrayValue">(</a><a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a>(<a href="#145497" title="UnCurry.this.global.Type">elempt</a>), <a href="#145509" title="List[UnCurry.this.global.Tree]">ts</a>) setType <a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>.<span title="=&gt; UnCurry.this.global.Type">last</span>);
              
              // when calling into java varargs, make sure it's an array - see bug #1360
              <span class="keyword">def</span> <a title="(arg: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="145508">forceToArray</a>(<a title="UnCurry.this.global.Tree" id="145569">arg</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = {
                <span class="keyword">val</span> Typed<a href="#145575" title="UnCurry.this.global.Tree" id="145570">(</a><a title="UnCurry.this.global.Tree" id="145575">tree</a>, _) = <a href="#145569" title="UnCurry.this.global.Tree">arg</a>
                <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#145465" title="Boolean">isJava</a> || <a href="#145570" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> == <a href="../symtab/Definitions.scala.html#28393" title="=&gt; UnCurry.this.global.Symbol">ArrayClass</a>) <a href="#145570" title="UnCurry.this.global.Tree">tree</a>
                <span class="keyword">else</span> {
                  <span class="keyword">val</span> <a title="UnCurry.this.global.Type" id="145587">traversableTpe</a> = <a href="#145570" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: UnCurry.this.global.Symbol)UnCurry.this.global.Type">baseType</a>(<a href="../symtab/Definitions.scala.html#28368" title="=&gt; UnCurry.this.global.Symbol">TraversableClass</a>)
                  <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="145588">toArray</a> = <a href="#145570" title="UnCurry.this.global.Tree">tree</a>.<a href="../symtab/Types.scala.html#30217" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Symbol">tpe</a> member <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29962" title="=&gt; UnCurry.this.global.Name">toArray</a>
                  <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">if</span> (<a href="#145587" title="(x$1: AnyRef)Boolean">traversableTpe</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Types.scala.html#26224" title="object UnCurry.this.global.NoType">NoType</a> &amp;&amp; <a href="#145588" title="(x$1: AnyRef)Boolean">toArray</a> != <a href="../symtab/Symbols.scala.html#26134" title="object UnCurry.this.global.NoSymbol">NoSymbol</a>) {
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.analyzer.global.Tree]" id="145625">arguments</a> = 
                      <span title="List[UnCurry.this.global.analyzer.global.Tree]" class="keyword">if</span> (<a href="#145588" title="UnCurry.this.global.Symbol">toArray</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[UnCurry.this.global.Type]">paramTypes</a>.<span title="=&gt; Boolean">isEmpty</span>) List<span title="object Nil">(</span>) // !!! old style toArray
                      <span class="keyword">else</span> <span title="(xs: UnCurry.this.global.analyzer.global.Tree*)List[UnCurry.this.global.analyzer.global.Tree]">List</span>(<a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42657" title="(pos: scala.tools.nsc.util.Position,tp: UnCurry.this.global.analyzer.global.Type,full: Boolean)UnCurry.this.global.analyzer.global.Tree">getManifestTree</a>(<a href="#145570" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#145570" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30192" title="=&gt; List[UnCurry.this.global.Type]">typeArgs</a>.<span title="=&gt; UnCurry.this.global.Type">head</span>, <span title="Boolean(false)" class="keyword">false</span>)) // new style, with manifest
                    <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
                      <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
                        <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#145462" title="scala.tools.nsc.util.Position">pos</a>) {
                          <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../Global.scala.html#39031" title="object UnCurry.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42683" title="(qual: UnCurry.this.global.gen.global.Tree,sym: UnCurry.this.global.gen.global.Symbol)UnCurry.this.global.gen.global.Tree">mkAttributedSelect</a>(<a href="#145570" title="UnCurry.this.global.Tree">tree</a>, <a href="#145588" title="UnCurry.this.global.Symbol">toArray</a>), <a href="#145625" title="List[UnCurry.this.global.analyzer.global.Tree]">arguments</a>)
                        }
                      }
                    }
                  } <span class="keyword">else</span> <a href="#145570" title="UnCurry.this.global.Tree">tree</a>
                }
              }
              <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>)
                <span title="(xs: UnCurry.this.global.ArrayValue*)List[UnCurry.this.global.ArrayValue]">List</span>(<a href="#145507" title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">mkArrayValue</a>(<a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>))
              <span class="keyword">else</span> {
                <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="145724">suffix</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = 
                  <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="../ast/TreeInfo.scala.html#48928" title="(tree: UnCurry.this.global.treeInfo.trees.Tree)Boolean">treeInfo</a> isWildcardStarArg <a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">last</span>) <a href="#145508" title="(arg: UnCurry.this.global.Tree)UnCurry.this.global.Tree">forceToArray</a>(<a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">last</span>)
                  <span class="keyword">else</span> <a href="#145507" title="(ts: List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue">mkArrayValue</a>(<a href="#145463" title="(n: Int)List[UnCurry.this.global.Tree]">args</a> drop (<a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>))
                
                <a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>.<span title="(n: Int)List[UnCurry.this.global.Tree]">take</span>(<a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span>) <a href="#145754" title="List[UnCurry.this.global.Tree]">:::</a> <span title="(xs: UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]">List</span><span title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">(</span><a href="#145724" title="UnCurry.this.global.Tree">suffix</a>)
              }
            <span title="List[UnCurry.this.global.Tree]" class="keyword">case</span> _ =&gt; <a href="#145463" title="List[UnCurry.this.global.Tree]">args</a>
          }
        <span title="object List">List</span>.<a title="(xs: List[UnCurry.this.global.Type],ys: List[UnCurry.this.global.Tree])(f: (UnCurry.this.global.Type, UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]" id="24375">map2</a>(<a href="#145464" title="List[UnCurry.this.global.Type]">formals</a>, <a href="#145481" title="List[UnCurry.this.global.Tree]">args1</a>) { (<a title="UnCurry.this.global.Type" id="145805">formal</a>, <a title="UnCurry.this.global.Tree" id="145806">arg</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#145805" title="UnCurry.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> != <a href="../symtab/Definitions.scala.html#28362" title="=&gt; UnCurry.this.global.Symbol">ByNameParamClass</a>) {
            <a href="#145806" title="UnCurry.this.global.Tree">arg</a>
          } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#142518" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#145806" title="UnCurry.this.global.Tree">arg</a>)) {
            <a href="#142512" title="=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]">byNameArgs</a>.<a title="(elem: UnCurry.this.global.Tree)Boolean" id="39563">addEntry</a>(<a href="#145806" title="UnCurry.this.global.Tree">arg</a>)
            <a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)arg.type">arg</a> setType <a href="../symtab/Definitions.scala.html#28473" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#145806" title="UnCurry.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>)
          } <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="UnCurry.this.global.Function" id="145835">fun</a> = <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a>(
              <a href="../ast/Trees.scala.html#95410" title="(vparams: List[UnCurry.this.global.ValDef],body: UnCurry.this.global.Tree)UnCurry.this.global.Function">Function</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.Function">(</a>List<span title="object Nil">(</span>), <a href="#145806" title="UnCurry.this.global.Tree">arg</a>) setPos <a href="#145806" title="UnCurry.this.global.Tree">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a title="[T0]T0" id="3623">asInstanceOf</a><span title="UnCurry.this.global.Function">[</span><a href="../ast/Trees.scala.html#26679" title="UnCurry.this.global.Function">Function</a>];
            <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26780" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol" id="783782">currentOwner</a>, <a href="#145835" title="UnCurry.this.global.Function">fun</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; UnCurry.this.global.Symbol">symbol</a>).<a href="../ast/Trees.scala.html#128844" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#145806" title="UnCurry.this.global.Tree">arg</a>);
            <a href="#142527" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">transformFunction</a>(<a href="#145835" title="UnCurry.this.global.Function">fun</a>)
          }
        }
      }
    }

// ------ The tree transformers --------------------------------------------------------

    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="142529">mainTransform</a>(<a title="UnCurry.this.global.Tree" id="143052">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = <a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Tree">{</a>

      <span class="keyword">def</span> <a title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="145896">withNeedLift</a>(<a title="Boolean" id="145900">needLift</a>: <span title="Boolean">Boolean</span>)(<a title="=&gt; UnCurry.this.global.Tree" id="145901">f</a>: =&gt; Tree): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Boolean" id="145902">savedNeedTryLift</a> = <a href="#142504" title="=&gt; Boolean">needTryLift</a>
        <a href="#142504" title="(x$1: Boolean)Unit">needTryLift</a> = <a href="#145900" title="Boolean">needLift</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="145903">t</a> = <a href="#145901" title="=&gt; UnCurry.this.global.Tree">f</a>
        <a href="#142504" title="(x$1: Boolean)Unit">needTryLift</a> = <a href="#145902" title="Boolean">savedNeedTryLift</a>
        <a href="#145903" title="UnCurry.this.global.Tree">t</a>
      }

      /** A try or synchronized needs to be lifted anyway for MSIL if it contains
       *  return statements. These are disallowed in the CLR. By lifting
       *  such returns will be converted to throws.
       */
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Boolean" id="145897">shouldBeLiftedAnyway</a>(<a title="UnCurry.this.global.Tree" id="145908">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = <span title="(x$1: Boolean)Boolean" class="keyword">false</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> // buggy, see #1981
        <a href="../Global.scala.html#39184" title="=&gt; Boolean">forMSIL</a> &amp;&amp; <a href="#142251" title="object UnCurry.this.lookForReturns">lookForReturns</a>.<a href="#142973" title="(tree: UnCurry.this.global.Tree)Boolean">found</a>(<a href="#145908" title="UnCurry.this.global.Tree">tree</a>)

      /** Transform tree `t' to { def f = t; f } where `f' is a fresh name
       */
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree" id="145898">liftTree</a>(<a title="UnCurry.this.global.Tree" id="145915">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;lifting tree at: &quot;</span> + (<a href="#145915" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>))
        <span class="keyword">val</span> <a title="UnCurry.this.global.TermSymbol" id="145916">sym</a> = <a href="../ast/Trees.scala.html#45467" title="=&gt; UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26867" title="(pos: scala.tools.nsc.util.Position,name: UnCurry.this.global.Name)UnCurry.this.global.TermSymbol">newMethod</a>(<a href="#145915" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#142531" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45434" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#73998" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a><a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">(</a><a href="#145915" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;liftedTree&quot;)" class="string">&quot;liftedTree&quot;</span>))
        <a href="#145916" title="UnCurry.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: UnCurry.this.global.Type)sym.type">setInfo</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#145915" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>))
        <span title="UnCurry.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#26780" title="UnCurry.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; UnCurry.this.global.Symbol">currentOwner</a>, <a href="#145916" title="UnCurry.this.global.TermSymbol">sym</a>).<a href="../ast/Trees.scala.html#128844" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#145915" title="UnCurry.this.global.Tree">tree</a>)
        <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> {
          <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Block)UnCurry.this.global.Block">atPos</a>(<a href="#145915" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
            <a href="../ast/Trees.scala.html#49026" title="(stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<span title="(xs: UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]">List</span>(<a href="../ast/Trees.scala.html#26630" title="(sym: UnCurry.this.global.Symbol,vparamss: List[List[UnCurry.this.global.ValDef]],rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#145916" title="UnCurry.this.global.TermSymbol">sym</a>, <span title="(xs: List[Nothing]*)List[List[Nothing]]">List</span>(List<span title="object Nil">(</span>)), <a href="#145915" title="UnCurry.this.global.Tree">tree</a>)),
                  <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#26736" title="(sym: UnCurry.this.global.Symbol)UnCurry.this.global.Ident">Ident</a>(<a href="#145916" title="UnCurry.this.global.TermSymbol">sym</a>), <span title="object Nil">Nil</span>))
          }
        }
      }
    
      <span class="keyword">def</span> <a title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="145899">withInConstructorFlag</a>(<a title="Long" id="146144">inConstructorFlag</a>: <a title="Long" id="2184">Long</a>)(<a title="=&gt; UnCurry.this.global.Tree" id="146145">f</a>: =&gt; Tree): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = {
        <span class="keyword">val</span> <a title="Long" id="146146">savedInConstructorFlag</a> = <a href="#142253" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#142510" title="=&gt; Long">inConstructorFlag</a>
        <a href="#142253" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#142510" title="(x$1: Long)Unit">inConstructorFlag</a> = <a href="#146144" title="Long">inConstructorFlag</a>
        <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146147">t</a> = <a href="#146145" title="=&gt; UnCurry.this.global.Tree">f</a>
        <a href="#142253" title="UnCurryTransformer.this.type" class="keyword">this</a>.<a href="#142510" title="(x$1: Long)Unit">inConstructorFlag</a> = <a href="#146146" title="Long">savedInConstructorFlag</a>
        <a href="#146147" title="UnCurry.this.global.Tree">t</a>
      }

      <a href="#143052" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> DefDef(<a title="UnCurry.this.global.Modifiers" id="146160">mods</a>, <a title="UnCurry.this.global.Name" id="146161">name</a>, <a title="List[UnCurry.this.global.TypeDef]" id="146162">tparams</a>, <a title="List[List[UnCurry.this.global.ValDef]]" id="146163">vparamss</a>, <a title="UnCurry.this.global.Tree" id="146164">tpt</a>, <a title="UnCurry.this.global.Tree" id="146165">rhs</a>) =&gt;
          <a href="#145896" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(false)" class="keyword">false</span>) {
            <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26914" title="=&gt; Boolean">isClassConstructor</a>) {
              <a href="TypingTransformers.scala.html#98852" title="(owner: UnCurry.this.global.Symbol)(trans: =&gt; UnCurry.this.global.DefDef)UnCurry.this.global.DefDef">atOwner</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>) {
                <span class="keyword">val</span> <a title="UnCurry.this.global.Block" id="146192">rhs1</a> = (<a href="#146165" title="UnCurry.this.global.Tree">rhs</a>: @<a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree @unchecked">unchecked</a>) <span title="UnCurry.this.global.Block" class="keyword">match</span> {
                  <span title="UnCurry.this.global.Block" class="keyword">case</span> Block(<a title="List[UnCurry.this.global.Tree]" id="146197">stats</a>, <a title="UnCurry.this.global.Tree" id="146198">expr</a>) =&gt;
                    <span class="keyword">def</span> <a title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="146201">transformInConstructor</a>(<a title="UnCurry.this.global.Tree" id="146206">stat</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = 
                      <a href="#145899" title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withInConstructorFlag</a>(<span title="Long(131072L)">INCONSTRUCTOR</span>) { <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146206" title="UnCurry.this.global.Tree">stat</a>) }
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146202">presupers</a> = <a href="../ast/Trees.scala.html#26582" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#48916" title="(stats: List[UnCurry.this.global.treeInfo.trees.Tree])List[UnCurry.this.global.treeInfo.trees.ValDef]">preSuperFields</a><span title="(f: (UnCurry.this.global.treeInfo.trees.ValDef) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.treeInfo.trees.ValDef]])List[UnCurry.this.global.Tree]">(</span><a href="#146197" title="List[UnCurry.this.global.Tree]">stats</a>) <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#146201" title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transformInConstructor</a>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146203">rest</a> = <a href="#146197" title="(n: Int)List[UnCurry.this.global.Tree]">stats</a> drop <a href="#146202" title="List[UnCurry.this.global.Tree]">presupers</a>.<span title="=&gt; Int">length</span>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146204">supercalls</a> = <a href="#146203" title="(n: Int)List[UnCurry.this.global.Tree]">rest</a> <span title="(f: (UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Tree]])List[UnCurry.this.global.Tree]">take</span> <span title="Int(1)" class="int">1</span> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#146201" title="(stat: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transformInConstructor</a>
                    <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146205">others</a> = <a href="#146203" title="(n: Int)List[UnCurry.this.global.Tree]">rest</a> <span title="(f: (UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Tree]])List[UnCurry.this.global.Tree]">drop</span> <span title="Int(1)" class="int">1</span> <span title="scala.collection.generic.BuilderFactory[UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],List#Coll]">map</span> <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>
                    <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48551" title="(tree: UnCurry.this.global.Tree,stats: List[UnCurry.this.global.Tree],expr: UnCurry.this.global.Tree)UnCurry.this.global.Block">Block</a>(<a href="#146165" title="UnCurry.this.global.Tree">rhs</a>, <a href="#146202" title="List[UnCurry.this.global.Tree]">presupers</a> <a href="#146503" title="List[UnCurry.this.global.Tree]">:::</a> <a href="#146204" title="List[UnCurry.this.global.Tree]">supercalls</a> <a href="#146504" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">:::</a> <a href="#146205" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">others</a>, <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146198" title="UnCurry.this.global.Tree">expr</a>))
                }
                <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: UnCurry.this.global.Tree,mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(
                  <a href="#143052" title="UnCurry.this.global.Tree">tree</a>, <a href="#146160" title="UnCurry.this.global.Modifiers">mods</a>, <a href="#146161" title="UnCurry.this.global.Name">name</a>, <a href="../ast/Trees.scala.html#45476" title="(trees: List[UnCurry.this.global.TypeDef])List[UnCurry.this.global.TypeDef]">transformTypeDefs</a>(<a href="#146162" title="List[UnCurry.this.global.TypeDef]">tparams</a>),
                  <a href="../ast/Trees.scala.html#45479" title="(treess: List[List[UnCurry.this.global.ValDef]])List[List[UnCurry.this.global.ValDef]]">transformValDefss</a>(<a href="#146163" title="List[List[UnCurry.this.global.ValDef]]">vparamss</a>), <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146164" title="UnCurry.this.global.Tree">tpt</a>), <a href="#146192" title="UnCurry.this.global.Block">rhs1</a>)
              }
            } <span class="keyword">else</span> { 
              <a href="#783786" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.<a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="783786">transform</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>) 
            }
          }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> ValDef(_, _, _, <a title="UnCurry.this.global.Tree" id="146566">rhs</a>) =&gt;
          <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="146569">sym</a> = <a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
          // a local variable that is mutable and free somewhere later should be lifted
          // as lambda lifting (coming later) will wrap 'rhs' in an Ref object.
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#146569" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26911" title="=&gt; Boolean">isSourceMethod</a> || (<a href="#146569" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26903" title="(x$1: Boolean)Boolean">isVariable</a> &amp;&amp; <a href="#142255" title="(elem: UnCurry.this.global.Symbol)Boolean" id="39339">freeMutableVars</a>(<a href="#146569" title="UnCurry.this.global.Symbol">sym</a>)))
            <a href="#145896" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#783786" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>) }
          <span class="keyword">else</span>
            <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#98858" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>)
/*
        case Apply(Select(Block(List(), Function(vparams, body)), nme.apply), args) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce1: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }

        case Apply(Select(Function(vparams, body), nme.apply), args) =&gt;
//        if (List.forall2(vparams, args)((vparam, arg) =&gt; treeInfo.isAffineIn(body) || 
//                                        treeInfo.isPureExpr(arg))) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce2: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }
*/
        <span title="UnCurry.this.global.UnApply" class="keyword">case</span> UnApply(<a title="UnCurry.this.global.Tree" id="146659">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="146660">args</a>) =&gt;
          <a href="#142507" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146663">fn1</a> = <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146659" title="UnCurry.this.global.Tree">fn</a>)
          <a href="#142507" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="List[UnCurry.this.global.Tree]" id="146664">args1</a> = <a href="../ast/Trees.scala.html#45474" title="(trees: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">transformTrees</a>(
            <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#146659" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29978" title="=&gt; UnCurry.this.global.Name">unapply</a>)
              <a href="#146660" title="List[UnCurry.this.global.Tree]">args</a>
            <span class="keyword">else</span> <span title="List[UnCurry.this.global.Tree]" class="keyword">if</span> (<a href="#146659" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29980" title="=&gt; UnCurry.this.global.Name">unapplySeq</a>)
              <a href="#142528" title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]">transformArgs</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#146660" title="List[UnCurry.this.global.Tree]">args</a>, <a href="../Global.scala.html#39102" title="object UnCurry.this.global.analyzer">analyzer</a>.<a href="../typechecker/Unapplies.scala.html#40052" title="(tp1: UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.Type]">unapplyTypeListFromReturnTypeSeq</a>(<a href="#146659" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>), <span title="Boolean(false)" class="keyword">false</span>)
            <span class="keyword">else</span> { <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<span title="Boolean(false)" class="keyword">false</span>,<span title="java.lang.String(&quot;internal error: UnApply node has wrong symbol&quot;)" class="string">&quot;internal error: UnApply node has wrong symbol&quot;</span>); <span title="Null(null)" class="keyword">null</span> })
          <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48557" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.UnApply">UnApply</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>, <a href="#146663" title="UnCurry.this.global.Tree">fn1</a>, <a href="#146664" title="List[UnCurry.this.global.Tree]">args1</a>)

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Apply(<a title="UnCurry.this.global.Tree" id="146726">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="146727">args</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37084" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">noassertions</a>.<a href="../Settings.scala.html#37759" title="(x$1: Boolean)Boolean">value</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              (<a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> ne <span title="Null(null)" class="keyword">null</span>) <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
              (<a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29834" title="=&gt; UnCurry.this.global.Name">assert_</a> || <a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29836" title="=&gt; UnCurry.this.global.Name">assume_</a>) &amp;&amp;
              <a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> == <a href="../symtab/Definitions.scala.html#28338" title="=&gt; UnCurry.this.global.Symbol">PredefModule</a>.<a href="../symtab/Symbols.scala.html#27059" title="=&gt; UnCurry.this.global.Symbol">moduleClass</a>) {
            <a href="../ast/Trees.scala.html#26740" title="(value: Any)UnCurry.this.global.Literal">Literal</a>(<span title="Unit">(</span>)).<a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.Literal">setPos</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Literal">setType</a>(<a href="../symtab/Definitions.scala.html#28277" title="=&gt; UnCurry.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>)
          } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Definitions.scala.html#28519" title="=&gt; UnCurry.this.global.Symbol">Object_synchronized</a> &amp;&amp; <a href="#145897" title="(tree: UnCurry.this.global.Tree)Boolean">shouldBeLiftedAnyway</a>(<a href="#146727" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">head</span>)) {
            <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48570" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>, <a href="#146726" title="UnCurry.this.global.Tree">fn</a>, <span title="(xs: UnCurry.this.global.analyzer.global.Tree*)List[UnCurry.this.global.analyzer.global.Tree]">List</span>(<a href="#145898" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree">liftTree</a>(<a href="#146727" title="List[UnCurry.this.global.Tree]">args</a>.<span title="=&gt; UnCurry.this.global.Tree">head</span>))))
          } <span class="keyword">else</span> {
            <a href="#145896" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) {
              <span class="keyword">val</span> <a title="List[UnCurry.this.global.Type]" id="146832">formals</a> = <a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30200" title="=&gt; List[UnCurry.this.global.Type]">paramTypes</a>;
              <span class="keyword">val</span> <a title="Boolean" id="146833">isJava</a> = <a href="#146726" title="UnCurry.this.global.Tree">fn</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">symbol</a> hasFlag <span title="Long(1048576L)">JAVA</span> // in case we need a varargs transformation
              <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48570" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>, <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146726" title="UnCurry.this.global.Tree">fn</a>), <a href="../ast/Trees.scala.html#45474" title="(trees: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">transformTrees</a>(<a href="#142528" title="(pos: scala.tools.nsc.util.Position,args: List[UnCurry.this.global.Tree],formals: List[UnCurry.this.global.Type],isJava: Boolean)List[UnCurry.this.global.Tree]">transformArgs</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#146727" title="List[UnCurry.this.global.Tree]">args</a>, <a href="#146832" title="List[UnCurry.this.global.Type]">formals</a>, <a href="#146833" title="Boolean">isJava</a>)))
            }
          }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Assign(Select(_, _), _) =&gt;
          <a href="#145896" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#783786" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>) }
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Assign(<a title="UnCurry.this.global.Tree" id="146874">lhs</a>, _) <span class="keyword">if</span> <a href="#146874" title="UnCurry.this.global.Tree">lhs</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> != <a href="../ast/Trees.scala.html#45470" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a> =&gt;
          <a href="#145896" title="(needLift: Boolean)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withNeedLift</a>(<span title="Boolean(true)" class="keyword">true</span>) { <a href="#783786" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>) }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Try(<a title="UnCurry.this.global.Tree" id="146902">block</a>, <a title="List[UnCurry.this.global.CaseDef]" id="146903">catches</a>, <a title="UnCurry.this.global.Tree" id="146904">finalizer</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#142504" title="(x$1: Boolean)Boolean">needTryLift</a> || <a href="#145897" title="(tree: UnCurry.this.global.Tree)Boolean">shouldBeLiftedAnyway</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>)) <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#145898" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree">liftTree</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>))
          <span class="keyword">else</span> <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#98858" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>)

        <span title="UnCurry.this.global.CaseDef" class="keyword">case</span> CaseDef(<a title="UnCurry.this.global.Tree" id="146928">pat</a>, <a title="UnCurry.this.global.Tree" id="146929">guard</a>, <a title="UnCurry.this.global.Tree" id="146930">body</a>) =&gt;
          <a href="#142507" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146933">pat1</a> = <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146928" title="UnCurry.this.global.Tree">pat</a>)
          <a href="#142507" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
          <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48552" title="(tree: UnCurry.this.global.Tree,pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>, <a href="#146933" title="UnCurry.this.global.Tree">pat1</a>, <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146929" title="UnCurry.this.global.Tree">guard</a>), <a href="#142517" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#146930" title="UnCurry.this.global.Tree">body</a>))

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> <a title="UnCurry.this.global.Function" id="146956">fun</a> @ Function(_, _) =&gt;
          <a href="#142529" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">mainTransform</a>(<a href="#142527" title="(fun: UnCurry.this.global.Function)UnCurry.this.global.Tree">transformFunction</a>(<a href="#146956" title="UnCurry.this.global.Function">fun</a>))

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Template(_, _, _) =&gt;
          <a href="#145899" title="(inConstructorFlag: Long)(f: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">withInConstructorFlag</a>(<span title="Long(0L)" class="int">0</span>) { <a href="#783786" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" class="keyword">super</a>.transform(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>) }

        <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt; 
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="146982">tree1</a> = <span class="keyword">super</span>.<a href="TypingTransformers.scala.html#98858" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">transform</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>)
          <span title="Unit" class="keyword">if</span> (<a href="#142518" title="(tree: UnCurry.this.global.Tree)Boolean">isByNameRef</a>(<a href="#146982" title="UnCurry.this.global.Tree">tree1</a>)) {
            <span class="keyword">val</span> <a title="tree1.type" id="146991">tree2</a> = <a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)tree1.type">tree1</a> setType <a href="../symtab/Definitions.scala.html#28473" title="(formals: List[UnCurry.this.global.Type],restpe: UnCurry.this.global.Type)UnCurry.this.global.Type">functionType</a>(List<span title="object Nil">(</span>), <a href="#146982" title="UnCurry.this.global.Tree">tree1</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>)
            <span title="Nothing" class="keyword">return</span> {
              <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#142514" title="(elem: UnCurry.this.global.Tree)Boolean">noApply</a> contains <a href="#146991" title="tree1.type">tree2</a>) <a href="#146991" title="tree1.type">tree2</a>
              <span class="keyword">else</span> <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42640" title="(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">typed</a> { 
                <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#146982" title="UnCurry.this.global.Tree">tree1</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) { <a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50275" title="(qualifier: UnCurry.this.global.Tree,name: UnCurry.this.global.Name)UnCurry.this.global.Select">Select</a>(<a href="#146991" title="tree1.type">tree2</a>, <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29828" title="=&gt; UnCurry.this.global.Name">apply</a>), List<span title="object Nil">(</span>)) }
              }
            } 
          }
          <a href="#146982" title="UnCurry.this.global.Tree">tree1</a>
      }
    } setType <a href="#142519" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Type">uncurryTreeType</a>(<a href="#143052" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>)

    <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="142530">postTransform</a>(<a title="UnCurry.this.global.Tree" id="143050">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
      <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree" id="147120">applyUnary</a>(<a title="UnCurry.this.global.Tree" id="147121">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a> = 
        <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26910" title="(x$1: Boolean)Boolean">isMethod</a> &amp;&amp; 
            (<span title="(x$1: Boolean)Boolean">!</span><a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26262" title="UnCurry.this.global.PolyType">PolyType</a>] || <a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30201" title="=&gt; List[UnCurry.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span>)) {
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../symtab/Types.scala.html#26257" title="UnCurry.this.global.MethodType">MethodType</a>]) <a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29364" title="(t: UnCurry.this.global.Type)Unit">tpe</a> = <a href="../symtab/Types.scala.html#43895" title="(params: List[UnCurry.this.global.Symbol],resultType: UnCurry.this.global.Type)UnCurry.this.global.MethodType">MethodType</a>(List<span title="object Nil">(</span>), <a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>);
          <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.Apply)UnCurry.this.global.Apply">atPos</a>(<a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="../ast/Trees.scala.html#49125" title="(fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a><a href="../ast/Trees.scala.html#29366" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.Apply">(</a><a href="#147121" title="UnCurry.this.global.Tree">tree</a>, List<span title="object Nil">(</span>)) setType <a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; UnCurry.this.global.Type">resultType</a>)
        } <span class="keyword">else</span> <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29373" title="=&gt; Boolean">isType</a>) {
          <a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree">(</a><a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>) setPos <a href="#147121" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        } <span class="keyword">else</span> {
          <a href="#147121" title="UnCurry.this.global.Tree">tree</a>
        }
      <a href="#143050" title="UnCurry.this.global.Tree">tree</a> <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
        <span title="UnCurry.this.global.DefDef" class="keyword">case</span> DefDef(<a title="UnCurry.this.global.Modifiers" id="147226">mods</a>, <a title="UnCurry.this.global.Name" id="147227">name</a>, <a title="List[UnCurry.this.global.TypeDef]" id="147228">tparams</a>, <a title="List[List[UnCurry.this.global.ValDef]]" id="147229">vparamss</a>, <a title="UnCurry.this.global.Tree" id="147230">tpt</a>, <a title="UnCurry.this.global.Tree" id="147231">rhs</a>) =&gt;
          <span class="keyword">val</span> <a title="UnCurry.this.global.Tree" id="147234">rhs1</a> = <a href="#142521" title="=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]">nonLocalReturnKeys</a>.<span title="(key: UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]">get</span>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>) <span title="UnCurry.this.global.Tree" class="keyword">match</span> {
            <span title="UnCurry.this.global.Tree" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#147231" title="UnCurry.this.global.Tree">rhs</a>
            <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">case</span> Some(<a title="UnCurry.this.global.Symbol" id="147241">k</a>) =&gt; <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPos</a>(<a href="#147231" title="UnCurry.this.global.Tree">rhs</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#142525" title="(body: UnCurry.this.global.Tree,key: UnCurry.this.global.Symbol,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree">nonLocalReturnTry</a>(<a href="#147231" title="UnCurry.this.global.Tree">rhs</a>, <a href="#147241" title="UnCurry.this.global.Symbol">k</a>, <a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>))
          }
          <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: UnCurry.this.global.Tree,mods: UnCurry.this.global.Modifiers,name: UnCurry.this.global.Name,tparams: List[UnCurry.this.global.TypeDef],vparamss: List[List[UnCurry.this.global.ValDef]],tpt: UnCurry.this.global.Tree,rhs: UnCurry.this.global.Tree)UnCurry.this.global.DefDef">DefDef</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>, <a href="#147226" title="UnCurry.this.global.Modifiers">mods</a>, <a href="#147227" title="UnCurry.this.global.Name">name</a>, <a href="#147228" title="List[UnCurry.this.global.TypeDef]">tparams</a>, <span title="(xs: List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]">List</span>(<span title="object List">List</span>.<a title="(xss: List[List[UnCurry.this.global.ValDef]])List[UnCurry.this.global.ValDef]" id="24330">flatten</a>(<a href="#147229" title="List[List[UnCurry.this.global.ValDef]]">vparamss</a>)), <a href="#147230" title="UnCurry.this.global.Tree">tpt</a>, <a href="#147234" title="UnCurry.this.global.Tree">rhs1</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Try(<a title="UnCurry.this.global.Tree" id="147284">body</a>, <a title="List[UnCurry.this.global.CaseDef]" id="147285">catches</a>, <a title="UnCurry.this.global.Tree" id="147286">finalizer</a>) =&gt;
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#147285" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean" id="28935">catches</a> forall <a href="../ast/Trees.scala.html#26582" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#48930" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isCatchCase</a>) <a href="#143050" title="UnCurry.this.global.Tree">tree</a>
          <span class="keyword">else</span> {
            <span class="keyword">val</span> <a title="String" id="147351">exname</a> = <a href="#142531" title="UnCurry.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45434" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#73998" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <span title="java.lang.String(&quot;ex$&quot;)" class="string">&quot;ex$&quot;</span>)
            <span class="keyword">val</span> <a title="List[UnCurry.this.global.CaseDef]" id="147352">cases</a> =
              <span title="List[UnCurry.this.global.CaseDef]" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#147285" title="(p: (UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean">catches</a> exists <a href="../ast/Trees.scala.html#26582" title="object UnCurry.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#48929" title="(cdef: UnCurry.this.global.treeInfo.trees.CaseDef)Boolean">isDefaultCase</a>) || (<a href="#147285" title="List[UnCurry.this.global.CaseDef]">catches</a>.<span title="=&gt; UnCurry.this.global.CaseDef">last</span> <span title="Boolean" class="keyword">match</span> {  // bq: handle try { } catch { ... case ex:Throwable =&gt; ...}
                    <span title="Boolean(true)" class="keyword">case</span> CaseDef(Typed(Ident(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a title="UnCurry.this.global.Tree" id="147390">tpt</a>), <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, _) <span class="keyword">if</span> (<a href="#147390" title="UnCurry.this.global.Tree">tpt</a>.<a href="../symtab/Types.scala.html#30236" title="(that: UnCurry.this.global.Type)Boolean">tpe</a> =:= <a href="../symtab/Definitions.scala.html#28297" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>) =&gt;
                      <span title="Boolean(true)" class="keyword">true</span>
                    <span title="Boolean(true)" class="keyword">case</span> CaseDef(Bind(_, Typed(Ident(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a title="UnCurry.this.global.Tree" id="147414">tpt</a>)), <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, _) <span class="keyword">if</span> (<a href="#147414" title="UnCurry.this.global.Tree">tpt</a>.<a href="../symtab/Types.scala.html#30236" title="(that: UnCurry.this.global.Type)Boolean">tpe</a> =:= <a href="../symtab/Definitions.scala.html#28297" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>) =&gt;
                      <span title="Boolean(true)" class="keyword">true</span>
                    <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
                      <span title="Boolean(false)" class="keyword">false</span>
                  })) <a href="#147285" title="List[UnCurry.this.global.CaseDef]">catches</a>
              <span class="keyword">else</span> <a href="#147285" title="List[UnCurry.this.global.CaseDef]">catches</a> <a href="#147426" title="List[UnCurry.this.global.CaseDef]">:::</a> <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span><span title="(prefix: List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]">(</span><a href="../ast/Trees.scala.html#51457" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(<a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>), <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>, <a href="../ast/Trees.scala.html#80398" title="(expr: UnCurry.this.global.Tree)UnCurry.this.global.Throw">Throw</a>(<a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>))));
            <span class="keyword">val</span> <a title="UnCurry.this.global.CaseDef" id="147353">catchall</a> = 
              <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef">atPos</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                <a href="../ast/Trees.scala.html#51457" title="(pat: UnCurry.this.global.Tree,guard: UnCurry.this.global.Tree,body: UnCurry.this.global.Tree)UnCurry.this.global.CaseDef">CaseDef</a>(
                  <a href="../ast/Trees.scala.html#143333" title="(name: UnCurry.this.global.Name,body: UnCurry.this.global.Tree)UnCurry.this.global.Bind">Bind</a>(<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>, <a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; UnCurry.this.global.Name">WILDCARD</a>)),
                  <a href="../ast/Trees.scala.html#26602" title="object UnCurry.this.global.EmptyTree">EmptyTree</a>,
                  <a href="../ast/Trees.scala.html#51629" title="(selector: UnCurry.this.global.Tree,cases: List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match">Match</a>(<a href="../ast/Trees.scala.html#51878" title="(name: UnCurry.this.global.Name)UnCurry.this.global.Ident">Ident</a>(<a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)UnCurry.this.global.Name">exname</a>), <a href="#147352" title="List[UnCurry.this.global.CaseDef]">cases</a>))
              }
            <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;rewrote try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#147285" title="List[UnCurry.this.global.CaseDef]">catches</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; ==&gt; &quot;)" class="string">&quot; ==&gt; &quot;</span> + <a href="#147353" title="UnCurry.this.global.CaseDef">catchall</a>);
            <span class="keyword">val</span> <a title="List[UnCurry.this.global.analyzer.global.CaseDef]" id="147354">catches1</a> = <a href="TypingTransformers.scala.html#98842" title="=&gt; UnCurry.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#42618" title="(tree: UnCurry.this.global.analyzer.global.Tree,cases: List[UnCurry.this.global.analyzer.global.CaseDef],pattp0: UnCurry.this.global.analyzer.global.Type,pt: UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.CaseDef]">typedCases</a>(
              <a href="#143050" title="UnCurry.this.global.Tree">tree</a>, <span title="(xs: UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]">List</span>(<a href="#147353" title="UnCurry.this.global.CaseDef">catchall</a>), <a href="../symtab/Definitions.scala.html#28297" title="=&gt; UnCurry.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; UnCurry.this.global.Type">tpe</a>, <a href="../symtab/Types.scala.html#26219" title="object UnCurry.this.global.WildcardType">WildcardType</a>);
            <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48565" title="(tree: UnCurry.this.global.Tree,block: UnCurry.this.global.Tree,catches: List[UnCurry.this.global.CaseDef],finalizer: UnCurry.this.global.Tree)UnCurry.this.global.Try">Try</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>, <a href="#147284" title="UnCurry.this.global.Tree">body</a>, <a href="#147354" title="List[UnCurry.this.global.analyzer.global.CaseDef]">catches1</a>, <a href="#147286" title="UnCurry.this.global.Tree">finalizer</a>)
          }
        <span title="UnCurry.this.global.Apply" class="keyword">case</span> Apply(Apply(<a title="UnCurry.this.global.Tree" id="147828">fn</a>, <a title="List[UnCurry.this.global.Tree]" id="147829">args</a>), <a title="List[UnCurry.this.global.Tree]" id="147832">args1</a>) =&gt;
          <a href="../ast/Trees.scala.html#45465" title="=&gt; UnCurry.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48570" title="(tree: UnCurry.this.global.Tree,fun: UnCurry.this.global.Tree,args: List[UnCurry.this.global.Tree])UnCurry.this.global.Apply">Apply</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>, <a href="#147828" title="UnCurry.this.global.Tree">fn</a>, <a href="#147829" title="List[UnCurry.this.global.Tree]">args</a> <a href="#147838" title="List[UnCurry.this.global.Tree]">:::</a> <a href="#147832" title="(prefix: List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]">args1</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Ident(<a title="UnCurry.this.global.Name" id="147851">name</a>) =&gt;
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#147851" title="(x$1: AnyRef)Boolean">name</a> != <a href="../symtab/StdNames.scala.html#26531" title="object UnCurry.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29691" title="=&gt; UnCurry.this.global.Name">WILDCARD_STAR</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; UnCurry.this.global.Name">toTypeName</a>)
          <a href="#147120" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>);
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> Select(<a title="UnCurry.this.global.Tree" id="147870">qual</a>, <a title="UnCurry.this.global.Name" id="147871">name</a>) =&gt;
          <a href="#147120" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>)
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> TypeApply(_, _) =&gt;
          <a href="#147120" title="(tree: UnCurry.this.global.Tree)UnCurry.this.global.Tree">applyUnary</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>)
        <span title="UnCurry.this.global.analyzer.global.Tree" class="keyword">case</span> Return(<a title="UnCurry.this.global.Tree" id="147883">expr</a>) <span class="keyword">if</span> (<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#783782" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27032" title="=&gt; UnCurry.this.global.Symbol">enclMethod</a> || <a href="#783782" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(2147483648L)">LAZY</span>)) =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;non local return in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span>+<a href="#783782" title="=&gt; (x$1: UnCurryTransformer.this.type)UnCurry.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27032" title="=&gt; UnCurry.this.global.Symbol">enclMethod</a>)
          <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree">atPos</a>(<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#142524" title="(expr: UnCurry.this.global.Tree,meth: UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree">nonLocalReturnThrow</a>(<a href="#147883" title="UnCurry.this.global.Tree">expr</a>, <a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>))
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> TypeTree() =&gt;
          <a href="#143050" title="UnCurry.this.global.Tree">tree</a>
        <span title="UnCurry.this.global.Tree" class="keyword">case</span> _ =&gt; 
          <span title="UnCurry.this.global.Tree" class="keyword">if</span> (<a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29373" title="=&gt; Boolean">isType</a>) <a href="../ast/Trees.scala.html#26744" title="(tp: UnCurry.this.global.Type)UnCurry.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree">(</a><a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; UnCurry.this.global.Type">tpe</a>) setPos <a href="#143050" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span class="keyword">else</span> <a href="#143050" title="UnCurry.this.global.Tree">tree</a>
      }
    }
  }
  
  <span class="keyword">import</span> collection.mutable
  /** Set of mutable local variables that are free in some inner method. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[UnCurry.this.global.Symbol]" id="142255">freeMutableVars</a>: mutable.<a title="scala.collection.mutable.Set[UnCurry.this.global.Symbol]" id="25011">Set</a>[Symbol] = <span title="scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]">HashSet</span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="&lt;refinement&gt; extends UnCurry.this.global.Traverser" id="142257">freeLocalsTraverser</a> = <a href="#142401" title="UnCurry.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26774" title="anonymous class $anon extends UnCurry.this.global.Traverser" id="142401">Traverser</a> {
    <span class="keyword">var</span> <a title="UnCurry.this.global.Symbol" id="142404">currentMethod</a>: <a href="../symtab/Symbols.scala.html#26127" title="UnCurry.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#26134" title="object UnCurry.this.global.NoSymbol">NoSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: UnCurry.this.global.Tree)Unit" id="142406">traverse</a>(<a title="UnCurry.this.global.Tree" id="142411">tree</a>: <a href="../ast/Trees.scala.html#26593" title="UnCurry.this.global.Tree">Tree</a>) = <a href="#142411" title="UnCurry.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="142425">lastMethod</a> = <a href="#142404" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a>
        <a href="#142404" title="(x$1: UnCurry.this.global.Symbol)Unit">currentMethod</a> = <a href="#142411" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#142411" title="UnCurry.this.global.Tree">tree</a>)
        <a href="#142404" title="(x$1: UnCurry.this.global.Symbol)Unit">currentMethod</a> = <a href="#142425" title="UnCurry.this.global.Symbol">lastMethod</a>
      <span title="Unit" class="keyword">case</span> Ident(_) =&gt;
        <span class="keyword">val</span> <a title="UnCurry.this.global.Symbol" id="142438">sym</a> = <a href="#142411" title="UnCurry.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; UnCurry.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> (<a href="#142438" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26903" title="(x$1: Boolean)Boolean">isVariable</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#142438" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; UnCurry.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a> &amp;&amp; <a href="#142438" title="UnCurry.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean">owner</a> != <a href="#142404" title="=&gt; UnCurry.this.global.Symbol">currentMethod</a>)
          <a href="#142255" title="(elem: UnCurry.this.global.Symbol)UnCurry.this.freeMutableVars.type" id="39463">freeMutableVars</a> <span title="Unit">+=</span> <a href="#142438" title="UnCurry.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">case</span> _ =&gt;
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: UnCurry.this.global.Tree)Unit">traverse</a>(<a href="#142411" title="UnCurry.this.global.Tree">tree</a>)
    }
  }
}

        </pre>
    </body>
</html>