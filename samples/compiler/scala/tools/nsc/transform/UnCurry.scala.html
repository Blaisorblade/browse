<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/UnCurry.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */</span>
<span class="comment">// $Id: UnCurry.scala 17415 2009-03-31 13:38:18Z imaier $</span>

<span class="keyword">package</span> scala.tools.nsc.transform

<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.util.Position

<span class="comment">/*&lt;export&gt;*/</span>
<span class="comment">/** - uncurry all symbol and tree types (@see UnCurryPhase)
 *  - for every curried parameter list:  (ps_1) ... (ps_n) ==&gt; (ps_1, ..., ps_n)
 *  - for every curried application: f(args_1)...(args_n) ==&gt; f(args_1, ..., args_n)
 *  - for every type application: f[Ts] ==&gt; f[Ts]() unless followed by parameters
 *  - for every use of a parameterless function: f ==&gt; f()  and  q.f ==&gt; q.f()
 *  - for every def-parameter:  x: =&gt; T ==&gt; x: () =&gt; T
 *  - for every use of a def-parameter: x ==&gt; x.apply()
 *  - for every argument to a def parameter `x: =&gt; T': 
 *      if argument is not a reference to a def parameter:
 *        convert argument `e' to (expansion of) `() =&gt; e'
 *  - for every repeated parameter `x: T*' --&gt; x: Seq[T].
 *  - for every argument list that corresponds to a repeated parameter
 *       (a_1, ..., a_n) =&gt; (Seq(a_1, ..., a_n))
 *  - for every argument list that is an escaped sequence
 *       (a_1:_*) =&gt; (a_1)g
 *  - convert implicit method types to method types
 *  - convert non-trivial catches in try statements to matches
 *  - convert non-local returns to throws with enclosing try statements.
 */</span>
<span class="comment">/*&lt;/export&gt;*/</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class UnCurry extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers with ScalaObject</span><a id="13474">UnCurry</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.transform.InfoTransform</span><a href="InfoTransform.scala.html#12961">InfoTransform</a></span> <span class="keyword">with</span> <span class="typed"><span class="type">scala.tools.nsc.transform.TypingTransformers</span><a href="TypingTransformers.scala.html#13471">TypingTransformers</a></span> {
  <span class="keyword">import</span> global._                  <span class="comment">// the global environment</span>
  <span class="keyword">import</span> definitions._             <span class="comment">// standard classes and methods</span>
  <span class="keyword">import</span> posAssigner.atPos         <span class="comment">// for filling in tree positions </span>

  <span class="keyword">val</span> <span class="typed"><span class="type">String</span><span id="82620"><a id="82619">phaseName</a></span></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;uncurry&quot;)</span><span class="string">&quot;uncurry&quot;</span></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.CompilationUnit)UnCurry.this.global.Transformer</span><a id="82621">newTransformer</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a id="129061">unit</a></span>: <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Transformer</span><a href="../ast/Trees.scala.html#22548">Transformer</a></span> = <span class="typed"><span class="type">UnCurry.this.UnCurryTransformer</span><span class="keyword">new</span></span> <span class="typed"><span class="type">UnCurry.this.UnCurryTransformer</span><a href="#82632">UnCurryTransformer</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129061">unit</a></span>)
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="82622">changesBaseClasses</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

<span class="comment">// ------ Type transformation --------------------------------------------------------</span>

<span class="comment">//@MAT: uncurry and uncurryType fully expand type aliases in their input and output</span>
<span class="comment">// note: don't normalize higher-kined types -- @M TODO: maybe split those uses of normalize? </span>
<span class="comment">// OTOH, should be a problem as calls to normalize only occur on types with kind * in principle (in well-typed programs)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="82623">expandAlias</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129008">tp</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129008">tp</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Types.scala.html#25644">isHigherKinded</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129008">tp</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#25674">normalize</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129008">tp</a></span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TypeMap</span><span id="82625"><a id="82624">uncurry</a></span></span>: <span class="typed"><span class="type">UnCurry.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span> = <span class="typed"><span class="type">template $anon extends UnCurry.this.global.TypeMap</span><a id="129096" class="keyword">new</a></span> <span class="typed"><span class="type">UnCurry.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span> {
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="129098">apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129100">tp0</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129101">tp</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82623">expandAlias</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129100">tp0</a></span>)
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129101">tp</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129102">formals</a></span>, <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129103">formals1</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129104">restpe</a></span>)) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129102">formals</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type])List[UnCurry.this.global.Type]</span><a href="#129105" id="21339">:::</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129103">formals1</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129104">restpe</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129108">formals</a></span>, <a id="1">ExistentialType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Symbol]</span><a id="129109">tparams</a></span>, <span class="typed"><span class="type">UnCurry.this.global.MethodType</span><a id="129110">restpe</a></span> @ <a id="1">MethodType</a>(_, _))) =&gt;
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;unexpected curried method types with intervening exitential&quot;)</span><span class="string">&quot;unexpected curried method types with intervening exitential&quot;</span></span>) 
          <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129100">tp0</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">UnCurry.this.global.ImplicitMethodType</span><a id="129119">mt</a></span>: <span class="typed"><span class="type">UnCurry.this.global.ImplicitMethodType</span><a href="../symtab/Types.scala.html#21999">ImplicitMethodType</a></span> =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.ImplicitMethodType</span><a href="#129119">mt</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a href="../symtab/Types.scala.html#27708">paramTypes</a></span>, <span class="typed"><span class="type">UnCurry.this.global.ImplicitMethodType</span><a href="#129119">mt</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#27710">resultType</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">(List[UnCurry.this.global.Symbol])Some[List[UnCurry.this.global.Symbol]]</span><span id="21410"><a href="#129121" id="527">List</a></span></span>(), <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129124">restpe</a></span>) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129124">restpe</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.PolyType</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Symbol]</span><a id="129126">tparams</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129127">restpe</a></span>) =&gt;
          <span class="typed"><span class="type">(List[UnCurry.this.global.Symbol],UnCurry.this.global.Type)UnCurry.this.global.PolyType</span><a href="../symtab/Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Symbol]</span><a href="#129126">tparams</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129127">restpe</a></span>)))
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129129">pre</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129130">sym</a></span>, <span class="typed"><span class="type">(List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]</span><span id="21410"><a href="#129131" id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129134">arg</a></span>)) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129130">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25949">ByNameParamClass</a></span>) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="../symtab/Definitions.scala.html#26000">functionType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129134">arg</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129137">pre</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129138">sym</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129139">args</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129138">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25946">RepeatedParamClass</a></span>) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129098">apply</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type,UnCurry.this.global.Symbol,List[UnCurry.this.global.Type])UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#22032">rawTypeRef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129137">pre</a></span>, <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25888">SeqClass</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129139">args</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82623">expandAlias</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#27743">mapOver</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129101">tp</a></span>))
      }
    }
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TypeMap</span><span id="82627"><a id="82626">uncurryType</a></span></span> = <span class="typed"><span class="type">template $anon extends UnCurry.this.global.TypeMap</span><a id="129002" class="keyword">new</a></span> <span class="typed"><span class="type">UnCurry.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span> {
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="129004">apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129006">tp0</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129007">tp</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82623">expandAlias</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129006">tp0</a></span>)
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129007">tp</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129009">parents</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Scope</span><a id="129010">decls</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129011">clazz</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129012">parents1</a></span> = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[UnCurry.this.global.Type])((UnCurry.this.global.Type) =&gt; UnCurry.this.global.Type)List[UnCurry.this.global.Type]</span><a id="21447">mapConserve</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129009">parents</a></span>)(<span class="typed"><span class="type">=&gt; UnCurry.this.global.TypeMap</span><a href="#82624">uncurry</a></span>)
          <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129012">parents1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129009">parents</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129007">tp</a></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Scope,UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType</span><a href="../symtab/Types.scala.html#43446">ClassInfoType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129012">parents1</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Scope</span><a href="#129010">decls</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129011">clazz</a></span>) <span class="comment">// @MAT normalize in decls??</span>
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(_, _) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#27743">mapOver</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129007">tp</a></span>)
        <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129007">tp</a></span>
      }
    }
  }

  <span class="comment">/** Convert repeated parameters to arrays if they occur as part of a Java method 
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="82628">repeatedToArray</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129157">tp</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129157">tp</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">UnCurry.this.global.MethodType</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129158">formals</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129159">rtpe</a></span>) 
    <span class="keyword">if</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129158">formals</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129158">formals</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21350">last</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25946">RepeatedParamClass</a></span>) =&gt;
      <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129158">formals</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a id="21349">init</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type])List[UnCurry.this.global.Type]</span><a href="#129162" id="21339">:::</a></span> 
                 <span class="typed"><span class="type">(UnCurry.this.global.Type*)List[UnCurry.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type,List[UnCurry.this.global.Type])UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#22037">appliedType</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25901">ArrayClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25239">typeConstructor</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Type*)List[UnCurry.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129158">formals</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21350">last</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a href="../symtab/Types.scala.html#25662">typeArgs</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21332">head</a></span>))),
                 <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129159">rtpe</a></span>)
    <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Symbol]</span><a id="129167">tparams</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129168">rtpe</a></span>) =&gt;
      <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129169">rtpe1</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82628">repeatedToArray</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129168">rtpe</a></span>)
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129169">rtpe1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129168">rtpe</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129157">tp</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(List[UnCurry.this.global.Symbol],UnCurry.this.global.Type)UnCurry.this.global.PolyType</span><a href="../symtab/Types.scala.html#43484">PolyType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Symbol]</span><a href="#129167">tparams</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129169">rtpe1</a></span>)
    <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129157">tp</a></span>
  }
  
  <span class="comment">/** - return symbol's transformed type, 
   *  - if symbol is a def parameter with transformed type T, return () =&gt; T
   *
   * @MAT: starting with this phase, the info of every symbol will be normalized
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol,UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="82629">transformInfo</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129170">sym</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129171">tp</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = 
    <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129170">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25128">isType</a></span>) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82626" id="21757">uncurryType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129171">tp</a></span>) 
    <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129170">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129170">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(1048576L)</span><span >JAVA</span></span>)) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82624" id="21757">uncurry</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82628">repeatedToArray</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129171">tp</a></span>))
    <span class="keyword">else</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82624" id="21757">uncurry</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129171">tp</a></span>)

  <span class="comment">/** Traverse tree omitting local method definitions.
   *  If a `return' is encountered, set `returnFound' to true.
   *  Used for MSIL only.
   */</span>
  <span class="keyword">private</span> <span class="keyword">object</span> <span class="typed"><span class="type">object UnCurry.this.lookForReturns</span><a id="82630">lookForReturns</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">UnCurry.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="129175"><span id="129173"><span id="129174"><a id="129179">returnFound</a></span></span></span></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a id="129176">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129180">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> =  <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129180">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Return</a>(_) =&gt; <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129174">returnFound</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt; ;
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129180">tree</a></span>)
    }
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="129177">found</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129183">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = {
      <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129174">returnFound</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      <span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="#129176">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129183">tree</a></span>)
      <span class="typed"><span class="type">=&gt; Boolean</span><a href="#129173">returnFound</a></span>
    }
  }

  <span class="keyword">class</span> <span class="typed"><span class="type">class UnCurryTransformer extends UnCurry.this.TypingTransformer with ScalaObject</span><a id="82632">UnCurryTransformer</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><span id="129063"><a id="129093">unit</a></span></span>: <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">UnCurry.this.TypingTransformer</span><a href="TypingTransformers.scala.html#29603">TypingTransformer</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129093">unit</a></span>) {

    <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="129067"><span id="129065"><span id="129066"><a id="129187">needTryLift</a></span></span></span></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="129070"><span id="129068"><span id="129069"><a id="129188">inPattern</a></span></span></span></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Long</span><span id="129073"><span id="129071"><span id="129072"><a id="129189">inConstructorFlag</a></span></span></span></span> = <span class="typed"><span class="type">Long(0L)</span><span class="long">0L</span></span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><span id="129075"><a id="129074">byNameArgs</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a id="19895">HashSet</a></span>[Tree]
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><span id="129077"><a id="129076">noApply</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a id="19895">HashSet</a></span>[Tree]

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.CompilationUnit)Unit</span><a id="129078">transformUnit</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a id="129190">unit</a></span>: <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) {
      <span class="typed"><span class="type">=&gt; scala.collection.mutable.Set[UnCurry.this.global.Symbol]</span><a href="#82634">freeMutableVars</a></span>.<span class="typed"><span class="type">()Unit</span><a id="25531">clear</a></span>
      <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#28563">freeLocalsTraverser</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129190">unit</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)
      <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129190">unit</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../CompilationUnits.scala.html#24134">body</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129190">unit</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)
    }
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129193">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="keyword">try</span> { <span class="comment">//debug</span>
      <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129092">postTransform</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129091">mainTransform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129193">tree</a></span>))
    } <span class="keyword">catch</span> {
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a id="129196">ex</a></span>: <span class="typed"><span class="type">Throwable</span><a id="2143">Throwable</a></span> =&gt;
        <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;exception when traversing &quot;)</span><span class="string">&quot;exception when traversing &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129193">tree</a></span>)
        <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a href="#129196">ex</a></span>
    }

    <span class="comment">/* Is tree a reference `x' to a call by name parameter that neeeds to be converted to 
     * x.apply()? Note that this is not the case if `x' is used as an argument to another
     * call by name parameter.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="129080">isByNameRef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129198">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129198">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25363">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129198">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25361">hasSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129198">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25949">ByNameParamClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
      <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a href="#129074">byNameArgs</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="25498">contains</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129198">tree</a></span>)

    <span class="comment">/** Uncurry a type of a tree node.
     *  This function is sensitive to whether or not we are in a pattern -- when in a pattern
     *  additional parameter sections of a case class are skipped.
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="129081">uncurryTreeType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129201">tp</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129201">tp</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129202">formals</a></span>, <a id="1">MethodType</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129203">formals1</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129204">restpe</a></span>)) <span class="keyword">if</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#129068">inPattern</a></span>) =&gt;
        <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129081">uncurryTreeType</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129202">formals</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129204">restpe</a></span>))
      <span class="typed"><span class="type">UnCurry.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#82624" id="21757">uncurry</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129201">tp</a></span>)
    }

<span class="comment">// ------- Handling non-local returns -------------------------------------------------</span>

    <span class="comment">/** The type of a non-local return expression with given argument type */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a id="129082">nonLocalReturnExceptionType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129205">argtype</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>) =
      <span class="typed"><span class="type">(UnCurry.this.global.Type,List[UnCurry.this.global.Type])UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#22037">appliedType</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25808">NonLocalReturnExceptionClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25239">typeConstructor</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Type*)List[UnCurry.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129205">argtype</a></span>))

    <span class="comment">/** A hashmap from method symbols to non-local return keys */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><span id="129084"><a id="129083">nonLocalReturnKeys</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><a id="20081">HashMap</a></span>[Symbol, Symbol]

    <span class="comment">/** Return non-local return key for given method */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Symbol</span><a id="129085">nonLocalReturnKey</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129208">meth</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><a href="#129083">nonLocalReturnKeys</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129208">meth</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129210">k</a></span>) =&gt; <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129210">k</a></span>
      <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a id="129211">k</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129208">meth</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,UnCurry.this.global.Name)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25098">newValue</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129208">meth</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129063">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102">newName</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129208">meth</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;nonLocalReturnKey&quot;)</span><span class="string">&quot;nonLocalReturnKey&quot;</span></span>))
          .<span class="typed"><span class="type">(Long)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long(2097152L)</span><span >SYNTHETIC</span></span>).<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><a href="#129083">nonLocalReturnKeys</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129208">meth</a></span>) = <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129211">k</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129211">k</a></span>
    }

    <span class="comment">/** Generate a non-local return throw with given return expression from given method.
     *  I.e. for the method's non-local return key, generate:
     *
     *    throw new NonLocalReturnException(key, expr)
     *  todo: maybe clone a pre-existing exception instead?
     *  (but what to do about excaptions that miss their targets?)
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree</span><a id="129086">nonLocalReturnThrow</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129227">expr</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129228">meth</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
      <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> {
        <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Throw</span><a href="../ast/Trees.scala.html#42736">Throw</a></span>(
          <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22484">New</a></span>(
            <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129082">nonLocalReturnExceptionType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129227">expr</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)),
            <span class="typed"><span class="type">(List[UnCurry.this.global.Tree]*)List[List[UnCurry.this.global.Tree]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Symbol</span><a href="#129085">nonLocalReturnKey</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129228">meth</a></span>)), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129227">expr</a></span>))))
      }

    <span class="comment">/** Transform (body, key) to:
     *
     *  {
     *    val key = new Object()
     *    try { 
     *      body 
     *    } catch {
     *      case ex: NonLocalReturnException[_] =&gt; 
     *        if (ex.key().eq(key)) ex.value()
     *        else throw ex
     *    }
     *  }
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol,UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree</span><a id="129087">nonLocalReturnTry</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129240">body</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129241">key</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129242">meth</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = {
      <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129245">extpe</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129082">nonLocalReturnExceptionType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129242">meth</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#25666">finalResultType</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a id="129246">ex</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129242">meth</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,UnCurry.this.global.Name)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25098">newValue</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129240">body</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30818">ex</a></span>) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129245">extpe</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Bind</span><a id="129247">pat</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Symbol,UnCurry.this.global.Tree)UnCurry.this.global.Bind</span><a href="../ast/Trees.scala.html#22453">Bind</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129246">ex</a></span>, 
                       <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.Typed</span><a href="../ast/Trees.scala.html#30379">Typed</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>), 
                             <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.AppliedTypeTree</span><a href="../ast/Trees.scala.html#48359">AppliedTypeTree</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25808">NonLocalReturnExceptionClass</a></span>),
                                             <span class="typed"><span class="type">(UnCurry.this.global.Bind*)List[UnCurry.this.global.Bind]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name,UnCurry.this.global.Tree)UnCurry.this.global.Bind</span><a href="../ast/Trees.scala.html#30368">Bind</a></span>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span>,
                                                       <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)))))
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.If</span><a id="129248">rhs</a></span> =
          <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.If</span><a href="../ast/Trees.scala.html#42677">If</a></span>(
            <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(
              <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol)UnCurry.this.global.Select</span><a href="../ast/Trees.scala.html#22509">Select</a></span>(
                <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Name)UnCurry.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129246">ex</a></span>), <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102" class="string">&quot;key&quot;</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()),
                <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26033">Object_eq</a></span>),
              <span class="typed"><span class="type">(UnCurry.this.global.Ident*)List[UnCurry.this.global.Ident]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129241">key</a></span>))),
            <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(
              <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.TypeApply</span><a href="../ast/Trees.scala.html#31344">TypeApply</a></span>(
                <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol)UnCurry.this.global.Select</span><a href="../ast/Trees.scala.html#22509">Select</a></span>(
                  <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Name)UnCurry.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129246">ex</a></span>), <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102" class="string">&quot;value&quot;</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()),
                  <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26024">Any_asInstanceOf</a></span>),
                <span class="typed"><span class="type">(UnCurry.this.global.TypeTree*)List[UnCurry.this.global.TypeTree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129242">meth</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#25666">finalResultType</a></span>))),
              <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()),
            <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Throw</span><a href="../ast/Trees.scala.html#42736">Throw</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129246">ex</a></span>)))
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.ValDef</span><a id="129249">keyDef</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Symbol,UnCurry.this.global.Tree)UnCurry.this.global.ValDef</span><a href="../ast/Trees.scala.html#22401">ValDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129241">key</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22484">New</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>())))
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Try</span><a id="129250">tryCatch</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.CaseDef],UnCurry.this.global.Tree)UnCurry.this.global.Try</span><a href="../ast/Trees.scala.html#42744">Try</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129240">body</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Bind</span><a href="#129247">pat</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.If</span><a href="#129248">rhs</a></span>)), <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)
        <span class="typed"><span class="type">(List[UnCurry.this.global.Tree],UnCurry.this.global.Tree)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.ValDef*)List[UnCurry.this.global.ValDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.ValDef</span><a href="#129249">keyDef</a></span>), <span class="typed"><span class="type">UnCurry.this.global.Try</span><a href="#129250">tryCatch</a></span>)
      }
    }

<span class="comment">// ------ Transforming anonymous functions and by-name-arguments ----------------</span>

    <span class="comment">/** Undo eta expansion for parameterless and nullary methods */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Function)UnCurry.this.global.Tree</span><a id="129088">deEta</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a id="129293">fun</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="../ast/Trees.scala.html#22460">Function</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129293">fun</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Function</a>(<span class="typed"><span class="type">(List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]</span><span id="21410"><a href="#129294" id="527">List</a></span></span>(), <a id="1">Apply</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129297">expr</a></span>, <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])Some[List[UnCurry.this.global.Tree]]</span><span id="21410"><a href="#129298" id="527">List</a></span></span>())) <span class="keyword">if</span> <span class="typed"><span class="type">object UnCurry.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.treeInfo.trees.Tree)Boolean</span><a href="../ast/TreeInfo.scala.html#42439">isPureExpr</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129297">expr</a></span>) =&gt; 
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129297">expr</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25361">hasSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129297">expr</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>))
          <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129293">fun</a></span>
        <span class="keyword">else</span>
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129297">expr</a></span>
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Function</a>(<span class="typed"><span class="type">(List[UnCurry.this.global.ValDef])Some[List[UnCurry.this.global.ValDef]]</span><span id="21410"><a href="#129301" id="527">List</a></span></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129304">expr</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129080">isByNameRef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129304">expr</a></span>) =&gt; 
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a href="#129076">noApply</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a id="25499">+=</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129304">expr</a></span> 
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129304">expr</a></span>
      <span class="typed"><span class="type">UnCurry.this.global.Function</span><span class="keyword">case</span></span> _ =&gt; 
        <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129293">fun</a></span>
    }
        

    <span class="comment">/*  Transform a function node (x_1,...,x_n) =&gt; body of type FunctionN[T_1, .., T_N, R] to
     *
     *    class $anon() extends Object() with FunctionN[T_1, .., T_N, R] with ScalaObject {
     *      def apply(x_1: T_1, ..., x_N: T_n): R = body
     *    }
     *    new $anon()
     *
     *  transform a function node (x =&gt; body) of type PartialFunction[T, R] where
     *    body = x match { case P_i if G_i =&gt; E_i }_i=1..n
     *  to:
     *
     *    class $anon() extends Object() with PartialFunction[T, R] with ScalaObject {
     *      def apply(x: T): R = (x: @unchecked) match {
     *        { case P_i if G_i =&gt; E_i }_i=1..n
     *      def isDefinedAt(x: T): boolean = (x: @unchecked) match {
     *        case P_1 if G_1 =&gt; true
     *        ...
     *        case P_n if G_n =&gt; true
     *        case _ =&gt; false
     *      }
     *    }
     *    new $anon()
     *  
     *  However, if one of the patterns P_i if G_i is a default pattern, generate instead
     *
     *      def isDefinedAt(x: T): boolean = true
     */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Function)UnCurry.this.global.Tree</span><a id="129089">transformFunction</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a id="129306">fun</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="../ast/Trees.scala.html#22460">Function</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129307">fun1</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Function)UnCurry.this.global.Tree</span><a href="#129088">deEta</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>)
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129307">fun1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129307">fun1</a></span>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a id="129308">anonClass</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position)UnCurry.this.global.ClassSymbol</span><a href="../symtab/Symbols.scala.html#25120">newAnonymousFunctionClass</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) 
          .<span class="typed"><span class="type">(Long)UnCurry.this.global.ClassSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(FINAL <span class="typed"><span class="type">Int(2097184)</span><span >|</span></span> SYNTHETIC <span class="typed"><span class="type">(Long)Long</span><a id="3166">|</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="#129071">inConstructorFlag</a></span>)
        <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129309">formals</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a href="../symtab/Types.scala.html#25662">typeArgs</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a id="21349">init</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129310">restpe</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a href="../symtab/Types.scala.html#25662">typeArgs</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21350">last</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)anonClass.type</span><a href="../symtab/Symbols.scala.html#34732">setInfo</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Scope,UnCurry.this.global.Symbol)UnCurry.this.global.ClassInfoType</span><a href="../symtab/Types.scala.html#43446">ClassInfoType</a></span>(
          <span class="typed"><span class="type">(UnCurry.this.global.Type*)List[UnCurry.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>, <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25855">ScalaObjectClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">=&gt; UnCurry.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22207">newScope</a></span>, <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>);
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a id="129311">applyMethod</a></span> = <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,UnCurry.this.global.Name)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30762">apply</a></span>)
          .<span class="typed"><span class="type">(Long)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>).<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129309">formals</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129310">restpe</a></span>));
        <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129311">applyMethod</a></span>;
        <span class="keyword">for</span> (<span class="typed"><span class="type">((UnCurry.this.global.ValDef) =&gt; Unit)Unit</span><span id="21366"><a id="129328">vparam</a></span></span> &lt;- <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.ValDef]</span><a href="../ast/Trees.scala.html#27353">vparams</a></span>) <span class="typed"><span class="type">UnCurry.this.global.ValDef</span><a href="#129328">vparam</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Symbol)Unit</span><a href="../symtab/Symbols.scala.html#25212">owner</a></span> = <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129311">applyMethod</a></span>;
        <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><span class="keyword">new</span></span> <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>, <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129311">applyMethod</a></span>).<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#43564">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#27355">body</a></span>);
        <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a id="129312">applyMethodDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129330">body</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = 
          <span class="typed"><span class="type">(UnCurry.this.global.Modifiers,UnCurry.this.global.Name,List[UnCurry.this.global.TypeDef],List[List[UnCurry.this.global.ValDef]],UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#43231">DefDef</a></span>(<span class="typed"><span class="type">(Long)UnCurry.this.global.Modifiers</span><a href="../ast/Trees.scala.html#22368">Modifiers</a></span>(<span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>), <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30762">apply</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">(List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.ValDef]</span><a href="../ast/Trees.scala.html#27353">vparams</a></span>), <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129310">restpe</a></span>), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129330">body</a></span>)
            .<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#25360">setSymbol</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129311">applyMethod</a></span>)
<span class="comment">/*
        def toStringMethodDefs = fun match {
          case etaExpansion(_, fn, _) if (fn.hasSymbol) =&gt; 
            List(
              DefDef(Modifiers(FINAL | OVERRIDE), nme.toString_, List(), List(List()), TypeTree(StringClass.tpe), 
                     Literal(fn.symbol.name)))
          case _ =&gt;
            List()
        }
*/</span>
        <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129313">mkUnchecked</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129338">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129338">tree</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">UnCurry.this.global.Match</span><span class="keyword">case</span></span> <a id="1">Match</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129339">selector</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a id="129340">cases</a></span>) =&gt;
            <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.Match)UnCurry.this.global.Match</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129338">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
              <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match</span><a href="../ast/Trees.scala.html#42765">Match</a></span>(
                <span class="typed"><span class="type">(UnCurry.this.global.Annotation,UnCurry.this.global.Tree)UnCurry.this.global.Annotated</span><a href="../ast/Trees.scala.html#51240">Annotated</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Annotation</span><a href="../ast/Trees.scala.html#50954">Annotation</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22484">New</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25952">UncheckedClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>), <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>())), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129339">selector</a></span>),
                <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129340">cases</a></span>)
            }
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt;
            <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129338">tree</a></span>
        }
        <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.DefDef]</span><a id="129314">members</a></span> = {
          <span class="typed"><span class="type">List[UnCurry.this.global.DefDef]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25880">PartialFunctionClass</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a id="129354">isDefinedAtMethod</a></span> = <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,UnCurry.this.global.Name)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30864">isDefinedAt</a></span>)
              .<span class="typed"><span class="type">(Long)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long(32L)</span><span >FINAL</span></span>).<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129309">formals</a></span>, <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25824">BooleanClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>))
            <span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129354">isDefinedAtMethod</a></span>
            <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.TermTree with Product</span><a id="129355">idbody</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129362">idparam</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#27355">body</a></span> <span class="typed"><span class="type">&lt;refinement&gt; extends UnCurry.this.global.TermTree with Product</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">&lt;refinement&gt; extends UnCurry.this.global.TermTree with Product</span><span class="keyword">case</span></span> <a id="1">Match</a>(_, <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a id="129363">cases</a></span>) =&gt;
                <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TreeSymSubstituter</span><a id="129364">substParam</a></span> = <span class="typed"><span class="type">UnCurry.this.global.TreeSymSubstituter</span><span class="keyword">new</span></span> <span class="typed"><span class="type">UnCurry.this.global.TreeSymSubstituter</span><a href="../ast/Trees.scala.html#22554">TreeSymSubstituter</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.ValDef]</span><a href="../ast/Trees.scala.html#27353">vparams</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.ValDef</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>), <span class="typed"><span class="type">(UnCurry.this.global.Symbol*)List[UnCurry.this.global.Symbol]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129362">idparam</a></span>));
                <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef</span><a id="129365">transformCase</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a id="129369">cdef</a></span>: <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#22437">CaseDef</a></span>): <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#22437">CaseDef</a></span> =
                  <span class="typed"><span class="type">(UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#51693">substParam</a></span>(
                    <span class="typed"><span class="type">(UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#22564">resetAttrs</a></span>(
                      <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="#129369">cdef</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#28122">pat</a></span>.<span class="typed"><span class="type">=&gt; cdef.pat.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="#129369">cdef</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#28124">guard</a></span>.<span class="typed"><span class="type">=&gt; cdef.guard.type</span><a href="../ast/Trees.scala.html#25377">duplicate</a></span>, <span class="typed"><span class="type">(Any)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>))))
                <span class="typed"><span class="type">&lt;refinement&gt; extends UnCurry.this.global.TermTree with Product</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129363">cases</a></span> <span class="typed"><span class="type">((UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> <span class="typed"><span class="type">object UnCurry.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.treeInfo.trees.CaseDef)Boolean</span><a href="../ast/TreeInfo.scala.html#42459">isDefaultCase</a></span>) <span class="typed"><span class="type">(Any)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
                <span class="keyword">else</span> 
                  <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match</span><a href="../ast/Trees.scala.html#42765">Match</a></span>(
                    <span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129362">idparam</a></span>),
                    (<span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129363">cases</a></span> <span class="typed"><span class="type">((UnCurry.this.global.CaseDef) =&gt; UnCurry.this.global.CaseDef)List[UnCurry.this.global.CaseDef]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef</span><a href="#129365">transformCase</a></span>) <span class="typed"><span class="type">(List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]</span><a href="#129398" id="21339">:::</a></span> 
                      <span class="typed"><span class="type">(UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>), <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">(Any)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>))))
            }
            <span class="typed"><span class="type">(UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="#129312">applyMethodDef</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129313">mkUnchecked</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#27355">body</a></span>)),
                 <span class="typed"><span class="type">(UnCurry.this.global.Symbol,(List[List[UnCurry.this.global.Symbol]]) =&gt; UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#22411">DefDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129354">isDefinedAtMethod</a></span>, <span class="typed"><span class="type">List[List[UnCurry.this.global.Symbol]]</span><a id="129423">vparamss</a></span> =&gt; <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129313">mkUnchecked</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.TermTree with Product</span><a href="#129355">idbody</a></span>(<span class="typed"><span class="type">List[List[UnCurry.this.global.Symbol]]</span><a href="#129423">vparamss</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Symbol]</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a id="21332">head</a></span>))))
          } <span class="keyword">else</span> {
            <span class="typed"><span class="type">(UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="#129312">applyMethodDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#27355">body</a></span>))
          } 
        } <span class="comment">/* ::: toStringMethodDefs */</span>
        <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> {
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.Block)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
            <span class="typed"><span class="type">(List[UnCurry.this.global.Tree],UnCurry.this.global.Tree)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(
              <span class="typed"><span class="type">(UnCurry.this.global.ClassDef*)List[UnCurry.this.global.ClassDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol,UnCurry.this.global.Modifiers,List[List[UnCurry.this.global.ValDef]],List[List[UnCurry.this.global.Tree]],List[UnCurry.this.global.Tree])UnCurry.this.global.ClassDef</span><a href="../ast/Trees.scala.html#22392">ClassDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>, <span class="typed"><span class="type">=&gt; UnCurry.this.global.Modifiers</span><a href="../ast/Trees.scala.html#22369">NoMods</a></span>, <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()), <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()), <span class="typed"><span class="type">List[UnCurry.this.global.DefDef]</span><a href="#129314">members</a></span>)),
              <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.Typed</span><a href="../ast/Trees.scala.html#30379">Typed</a></span>(
                <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[List[UnCurry.this.global.Tree]])UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22484">New</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.ClassSymbol</span><a href="#129308">anonClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#34730">tpe</a></span>), <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>())),
                <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129306">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)))
            
          }
        }
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Type])List[UnCurry.this.global.Tree]</span><a id="129090">transformArgs</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="129443">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129444">args</a></span>: <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129445">formals</a></span>: <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="526">List</a></span>[Type]) = {
      <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) {
        <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>); <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129449">args1</a></span> =
          <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21350">last</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129450">pre</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129451">sym</a></span>, <span class="typed"><span class="type">(List[UnCurry.this.global.Type])Some[List[UnCurry.this.global.Type]]</span><span id="21410"><a href="#129452" id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129455">elempt</a></span>)) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129451">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25946">RepeatedParamClass</a></span>) =&gt;
              <span class="keyword">def</span> <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue</span><a id="129457">mkArrayValue</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129458">ts</a></span>: <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="526">List</a></span>[Tree]) =
                <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.ArrayValue)UnCurry.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#129443">pos</a></span>)(<span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#31374">ArrayValue</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129455">elempt</a></span>), <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129458">ts</a></span>) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.ArrayValue</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a id="21350">last</a></span>);

              <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)
                <span class="typed"><span class="type">(UnCurry.this.global.ArrayValue*)List[UnCurry.this.global.ArrayValue]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue</span><a href="#129457">mkArrayValue</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>))
              <span class="keyword">else</span> {
                <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129465">suffix</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a id="21350">last</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Typed</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129466">arg</a></span>, <a id="1">Ident</a>(<span class="typed"><span class="type">UnCurry.this.global.Name</span><a id="129468">name</a></span>)) <span class="keyword">if</span> <span class="typed"><span class="type">UnCurry.this.global.Name</span><a href="#129468">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30597">WILDCARD_STAR</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span> =&gt;
                    <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129466">arg</a></span> <span class="comment">/*setType seqType(arg.tpe)*/</span>
                  <span class="typed"><span class="type">UnCurry.this.global.ArrayValue</span><span class="keyword">case</span></span> _ =&gt; 
                    <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])UnCurry.this.global.ArrayValue</span><a href="#129457">mkArrayValue</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>.<span class="typed"><span class="type">(Int)List[UnCurry.this.global.Tree]</span><a id="21353">drop</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>))
                }
                <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>.<span class="typed"><span class="type">(Int)List[UnCurry.this.global.Tree]</span><a id="21351">take</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="#129484" id="21339">:::</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree*)List[UnCurry.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129465">suffix</a></span>)
              }
            <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129444">args</a></span>
          }
        <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[UnCurry.this.global.Type],List[UnCurry.this.global.Tree])((UnCurry.this.global.Type, UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]</span><a id="21449">map2</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129445">formals</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129449">args1</a></span>) { (<span class="typed"><span class="type">UnCurry.this.global.Type</span><a id="129506">formal</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129507">arg</a></span>) =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Type</span><a href="#129506">formal</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25949">ByNameParamClass</a></span>) {
            <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>
          } <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129080">isByNameRef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>)) {
            <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a href="#129074">byNameArgs</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="25572">addEntry</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>)
            <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)arg.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="../symtab/Definitions.scala.html#26000">functionType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
          } <span class="keyword">else</span> {
            <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Function</span><a id="129511">fun</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span>(
              <span class="typed"><span class="type">(List[UnCurry.this.global.ValDef],UnCurry.this.global.Tree)UnCurry.this.global.Function</span><a href="../ast/Trees.scala.html#51065">Function</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)UnCurry.this.global.Function</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>).<span class="typed"><span class="type">UnCurry.this.global.Function</span><a id="3503">asInstanceOf</a></span>[<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="../ast/Trees.scala.html#22460">Function</a></span>];
            <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><span class="keyword">new</span></span> <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">=&gt; (UnCurryTransformer.this.type)UnCurry.this.global.Symbol</span><span id="171284"><a href="../ast/Trees.scala.html#43090" id="171285">currentOwner</a></span></span>, <span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129511">fun</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>).<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#43564">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129507">arg</a></span>);
            <span class="typed"><span class="type">(UnCurry.this.global.Function)UnCurry.this.global.Tree</span><a href="#129089">transformFunction</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129511">fun</a></span>)
          }
        }
      }
    }

<span class="comment">// ------ The tree transformers --------------------------------------------------------</span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129091">mainTransform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129195">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {

      <span class="keyword">def</span> <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean</span><a id="129521">needLift</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span>)(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a id="129522">f</a></span>: =&gt; Tree): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="129523">savedNeedTryLift</a></span> = <span class="typed"><span class="type">=&gt; Boolean</span><a href="#129065">needTryLift</a></span>
        <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129066">needTryLift</a></span> = <span class="typed"><span class="type">Boolean</span><a href="#129521">needLift</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129524">t</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="#129522">f</a></span>
        <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129066">needTryLift</a></span> = <span class="typed"><span class="type">Boolean</span><a href="#129523">savedNeedTryLift</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129524">t</a></span>
      }

      <span class="comment">/** A try or synchronized needs to be lifted anyway for MSIL if it contains
       *  return statements. These are disallowed in the CLR. By lifting
       *  such returns will be converted to throws.
       */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="129518">shouldBeLiftedAnyway</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129525">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) =
        <span class="typed"><span class="type">=&gt; Boolean</span><a href="../Global.scala.html#21320">forMSIL</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">object UnCurry.this.lookForReturns</span><a href="#82630">lookForReturns</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129177">found</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129525">tree</a></span>)

      <span class="comment">/** Transform tree `t' to { def f = t; f } where `f' is a fresh name
       */</span>
      <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a id="129519">liftTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129526">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;lifting tree at: &quot;)</span><span class="string">&quot;lifting tree at: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>))
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a id="129527">sym</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,UnCurry.this.global.Name)UnCurry.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129063">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102">newName</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;liftedTree&quot;)</span><span class="string">&quot;liftedTree&quot;</span></span>))
        <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129527">sym</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Type)sym.type</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><span class="keyword">new</span></span> <span class="typed"><span class="type">UnCurry.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>, <span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129527">sym</a></span>).<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#43564">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>)
        <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> {
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.Block)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
            <span class="typed"><span class="type">(List[UnCurry.this.global.Tree],UnCurry.this.global.Tree)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.DefDef*)List[UnCurry.this.global.DefDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol,List[List[UnCurry.this.global.ValDef]],UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#22409">DefDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129527">sym</a></span>, <span class="typed"><span class="type">(List[Nothing]*)List[List[Nothing]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129526">tree</a></span>)),
                  <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Symbol)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#22514">Ident</a></span>(<span class="typed"><span class="type">UnCurry.this.global.TermSymbol</span><a href="#129527">sym</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>))
          }
        }
      }
    
      <span class="keyword">def</span> <span class="typed"><span class="type">(Long)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129520">withInConstructorFlag</a></span>(<span class="typed"><span class="type">Long</span><a id="129552">inConstructorFlag</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span>)(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a id="129553">f</a></span>: =&gt; Tree): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
        <span class="keyword">val</span> <span class="typed"><span class="type">Long</span><a id="129554">savedInConstructorFlag</a></span> = <span class="typed"><span class="type">UnCurryTransformer.this.type</span><a href="#82632" class="keyword">this</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="#129071">inConstructorFlag</a></span>
        <span class="typed"><span class="type">UnCurryTransformer.this.type</span><a href="#82632" class="keyword">this</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a href="#129072">inConstructorFlag</a></span> = <span class="typed"><span class="type">Long</span><a href="#129552">inConstructorFlag</a></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129555">t</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a href="#129553">f</a></span>
        <span class="typed"><span class="type">UnCurryTransformer.this.type</span><a href="#82632" class="keyword">this</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a href="#129072">inConstructorFlag</a></span> = <span class="typed"><span class="type">Long</span><a href="#129554">savedInConstructorFlag</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129555">t</a></span>
      }

      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">UnCurry.this.global.Modifiers</span><a id="129557">mods</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Name</span><a id="129558">name</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.TypeDef]</span><a id="129559">tparams</a></span>, <span class="typed"><span class="type">List[List[UnCurry.this.global.ValDef]]</span><a id="129560">vparamss</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129561">tpt</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129562">rhs</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>) {
            <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25146">isClassConstructor</a></span>) {
              <span class="typed"><span class="type">(UnCurry.this.global.Symbol)(=&gt; UnCurry.this.global.DefDef)UnCurry.this.global.DefDef</span><a href="TypingTransformers.scala.html#47813">atOwner</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) {
                <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Block</span><a id="129567">rhs1</a></span> = (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129562">rhs</a></span>: @<span class="typed"><span class="type">UnCurry.this.global.Tree @unchecked</span><a href="../ast/Trees.scala.html#22371">unchecked</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Block</span><span class="keyword">match</span></span> {
                  <span class="typed"><span class="type">UnCurry.this.global.Block</span><span class="keyword">case</span></span> <a id="1">Block</a>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129568">stats</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129569">expr</a></span>) =&gt;
                    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129570">transformInConstructor</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129575">stat</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = 
                      <span class="typed"><span class="type">(Long)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129520">withInConstructorFlag</a></span>(<span class="typed"><span class="type">Long(131072L)</span><span >INCONSTRUCTOR</span></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129575">stat</a></span>) }
                    <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129571">presupers</a></span> = <span class="typed"><span class="type">object UnCurry.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(List[UnCurry.this.global.treeInfo.trees.Tree])List[UnCurry.this.global.treeInfo.trees.ValDef]</span><a href="../ast/TreeInfo.scala.html#42447">preSuperFields</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129568">stats</a></span>) <span class="typed"><span class="type">((UnCurry.this.global.treeInfo.trees.ValDef) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129570">transformInConstructor</a></span>
                    <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129572">rest</a></span> = <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129568">stats</a></span> <span class="typed"><span class="type">(Int)List[UnCurry.this.global.Tree]</span><a id="21353">drop</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129571">presupers</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span>
                    <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129573">supercalls</a></span> = <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129572">rest</a></span> <span class="typed"><span class="type">(Int)List[UnCurry.this.global.Tree]</span><a id="21351">take</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">((UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129570">transformInConstructor</a></span>
                    <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129574">others</a></span> = <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129572">rest</a></span> <span class="typed"><span class="type">(Int)List[UnCurry.this.global.Tree]</span><a id="21353">drop</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">((UnCurry.this.global.Tree) =&gt; UnCurry.this.global.Tree)List[UnCurry.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>
                    <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree],UnCurry.this.global.Tree)UnCurry.this.global.Block</span><a href="../ast/Trees.scala.html#43167">Block</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129562">rhs</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129571">presupers</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="#129588" id="21339">:::</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129573">supercalls</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="#129589" id="21339">:::</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129574">others</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129569">expr</a></span>))
                }
                <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Modifiers,UnCurry.this.global.Name,List[UnCurry.this.global.TypeDef],List[List[UnCurry.this.global.ValDef]],UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(
                  <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Modifiers</span><a href="#129557">mods</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Name</span><a href="#129558">name</a></span>, <span class="typed"><span class="type">(List[UnCurry.this.global.TypeDef])List[UnCurry.this.global.TypeDef]</span><a href="../ast/Trees.scala.html#43099">transformTypeDefs</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.TypeDef]</span><a href="#129559">tparams</a></span>),
                  <span class="typed"><span class="type">(List[List[UnCurry.this.global.ValDef]])List[List[UnCurry.this.global.ValDef]]</span><a href="../ast/Trees.scala.html#43102">transformValDefss</a></span>(<span class="typed"><span class="type">List[List[UnCurry.this.global.ValDef]]</span><a href="#129560">vparamss</a></span>), <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129561">tpt</a></span>), <span class="typed"><span class="type">UnCurry.this.global.Block</span><a href="#129567">rhs1</a></span>)
              }
            } <span class="keyword">else</span> { 
              <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#171286" class="keyword">super</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><span id="171286"><a id="171287">transform</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>) 
            }
          }

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(_, _, _, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129596">rhs</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129597">sym</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
          <span class="comment">// a local variable that is mutable and free somewhere later should be lifted</span>
          <span class="comment">// as lambda lifting (coming later) will wrap 'rhs' in an Ref object.</span>
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129597">sym</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25143">isSourceMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129597">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25135">isVariable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)Boolean</span><a href="#82634" id="25543">freeMutableVars</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129597">sym</a></span>)))
            <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#171286" class="keyword">super</a></span>.transform(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>) }
          <span class="keyword">else</span>
            <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="TypingTransformers.scala.html#47819">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>)
<span class="comment">/*
        case Apply(Select(Block(List(), Function(vparams, body)), nme.apply), args) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce1: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }

        case Apply(Select(Function(vparams, body), nme.apply), args) =&gt;
//        if (List.forall2(vparams, args)((vparam, arg) =&gt; treeInfo.isAffineIn(body) || 
//                                        treeInfo.isPureExpr(arg))) =&gt;
          // perform beta-reduction; this helps keep view applications small
          println(&quot;beta-reduce2: &quot;+tree)
          withNeedLift(true) {
            mainTransform(new TreeSubstituter(vparams map (_.symbol), args).transform(body))
          }
*/</span>
        <span class="typed"><span class="type">UnCurry.this.global.UnApply</span><span class="keyword">case</span></span> <a id="1">UnApply</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129603">fn</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129604">args</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129069">inPattern</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129605">fn1</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129603">fn</a></span>)
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129069">inPattern</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129606">args1</a></span> = <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="../ast/Trees.scala.html#43097">transformTrees</a></span>(
            <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129603">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30950">unapply</a></span>)
              <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129604">args</a></span>
            <span class="keyword">else</span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129603">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30952">unapplySeq</a></span>)
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Type])List[UnCurry.this.global.Tree]</span><a href="#129090">transformArgs</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129604">args</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.analyzer</span><a href="../Global.scala.html#21239">analyzer</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.Type]</span><a href="../typechecker/Unapplies.scala.html#28541">unapplyTypeListFromReturnTypeSeq</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129603">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>))
            <span class="keyword">else</span> { <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>,<span class="typed"><span class="type">java.lang.String(&quot;internal error: UnApply node has wrong symbol&quot;)</span><span class="string">&quot;internal error: UnApply node has wrong symbol&quot;</span></span>); <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> })
          <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.UnApply</span><a href="../ast/Trees.scala.html#43173">UnApply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129605">fn1</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129606">args1</a></span>)

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129618">fn</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129619">args</a></span>) =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30000">noassertions</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
              (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5795">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
              (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30770">assert_</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30772">assume_</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span>
              <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25925">PredefModule</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25283">moduleClass</a></span>) {
            <span class="typed"><span class="type">(Any)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Unit</span><span >(</span></span>)).<span class="typed"><span class="type">(scala.tools.nsc.util.Position)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#25356">setPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>).<span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Literal</span><a href="../ast/Trees.scala.html#25357">setType</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
          } <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26045">Object_synchronized</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129518">shouldBeLiftedAnyway</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129619">args</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a id="21332">head</a></span>)) {
            <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#43185">Apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree*)List[UnCurry.this.global.analyzer.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="#129519">liftTree</a></span>(<span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129619">args</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Tree</span><a id="21332">head</a></span>))))
          } <span class="keyword">else</span> {
            <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a id="129638">formals</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span>;
              <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#43185">Apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129618">fn</a></span>), <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="../ast/Trees.scala.html#43097">transformTrees</a></span>(<span class="typed"><span class="type">(scala.tools.nsc.util.Position,List[UnCurry.this.global.Tree],List[UnCurry.this.global.Type])List[UnCurry.this.global.Tree]</span><a href="#129090">transformArgs</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129619">args</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Type]</span><a href="#129638">formals</a></span>)))
            }
          }

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Assign</a>(<a id="1">Select</a>(_, _), _) =&gt;
          <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#171286" class="keyword">super</a></span>.transform(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>) }
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Assign</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129641">lhs</a></span>, _) <span class="keyword">if</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129641">lhs</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#43093">currentMethod</a></span> =&gt;
          <span class="typed"><span class="type">(Boolean)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129517">withNeedLift</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#171286" class="keyword">super</a></span>.transform(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>) }

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Try</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129645">block</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a id="129646">catches</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129647">finalizer</a></span>) =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#129065">needTryLift</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129518">shouldBeLiftedAnyway</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>)) <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="#129519">liftTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>))
          <span class="keyword">else</span> <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="TypingTransformers.scala.html#47819">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>)

        <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><span class="keyword">case</span></span> <a id="1">CaseDef</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129650">pat</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129651">guard</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129652">body</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129069">inPattern</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129653">pat1</a></span> = <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129650">pat</a></span>)
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#129069">inPattern</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
          <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#43168">CaseDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129653">pat1</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129651">guard</a></span>), <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129079">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129652">body</a></span>))

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">UnCurry.this.global.Function</span><a id="129654">fun</a></span> @ <a id="1">Function</a>(_, _) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129091">mainTransform</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Function)UnCurry.this.global.Tree</span><a href="#129089">transformFunction</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Function</span><a href="#129654">fun</a></span>))

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Template</a>(_, _, _) =&gt;
          <span class="typed"><span class="type">(Long)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129520">withInConstructorFlag</a></span>(<span class="typed"><span class="type">Long(0L)</span><span class="int">0</span></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#171286" class="keyword">super</a></span>.transform(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>) }

        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt; 
          <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129657">tree1</a></span> = <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="TypingTransformers.scala.html#47819">transform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>)
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a href="#129080">isByNameRef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129657">tree1</a></span>)) {
            <span class="keyword">val</span> <span class="typed"><span class="type">tree1.type</span><a id="129659">tree2</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129657">tree1</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)tree1.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="../symtab/Definitions.scala.html#26000">functionType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129657">tree1</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)
            <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> {
              <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[UnCurry.this.global.Tree]</span><a href="#129076">noApply</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Boolean</span><a id="25498">contains</a></span> <span class="typed"><span class="type">tree1.type</span><a href="#129659">tree2</a></span>) <span class="typed"><span class="type">tree1.type</span><a href="#129659">tree2</a></span>
              <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> { 
                <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.Apply)UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129657">tree1</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) { <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Name)UnCurry.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">tree1.type</span><a href="#129659">tree2</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30762">apply</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()) }
              }
            } 
          }
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129657">tree1</a></span>
      }
    } <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Type</span><a href="#129081">uncurryTreeType</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129195">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>)

    <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129092">postTransform</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129194">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a id="129669">applyUnary</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129670">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = 
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
            (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3501">isInstanceOf</a></span>[<span class="typed"><span class="type">UnCurry.this.global.PolyType</span><a href="../symtab/Types.scala.html#22001">PolyType</a></span>] <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; List[UnCurry.this.global.Symbol]</span><a href="../symtab/Types.scala.html#25669">typeParams</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>)) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3501">isInstanceOf</a></span>[<span class="typed"><span class="type">UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#21996">MethodType</a></span>]) <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Type)Unit</span><a href="../ast/Trees.scala.html#25355">tpe</a></span> = <span class="typed"><span class="type">(List[UnCurry.this.global.Type],UnCurry.this.global.Type)UnCurry.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>);
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.Apply)UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(<span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>, <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Types.scala.html#25663">resultType</a></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25364">isType</a></span>) {
          <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>
        } <span class="keyword">else</span> {
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129670">tree</a></span>
        }
      <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">UnCurry.this.global.DefDef</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">UnCurry.this.global.Modifiers</span><a id="129683">mods</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Name</span><a id="129684">name</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.TypeDef]</span><a id="129685">tparams</a></span>, <span class="typed"><span class="type">List[List[UnCurry.this.global.ValDef]]</span><a id="129686">vparamss</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129687">tpt</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129688">rhs</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129689">rhs1</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[UnCurry.this.global.Symbol,UnCurry.this.global.Symbol]</span><a href="#129083">nonLocalReturnKeys</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Symbol)Option[UnCurry.this.global.Symbol]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">match</span></span> {
            <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129688">rhs</a></span>
            <span class="typed"><span class="type">UnCurry.this.global.analyzer.global.Tree</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129690">k</a></span>) =&gt; <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129688">rhs</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol,UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree</span><a href="#129087">nonLocalReturnTry</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129688">rhs</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129690">k</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>))
          }
          <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Modifiers,UnCurry.this.global.Name,List[UnCurry.this.global.TypeDef],List[List[UnCurry.this.global.ValDef]],UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Modifiers</span><a href="#129683">mods</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Name</span><a href="#129684">name</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.TypeDef]</span><a href="#129685">tparams</a></span>, <span class="typed"><span class="type">(List[UnCurry.this.global.ValDef]*)List[List[UnCurry.this.global.ValDef]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[List[UnCurry.this.global.ValDef]])List[UnCurry.this.global.ValDef]</span><a id="21419">flatten</a></span>(<span class="typed"><span class="type">List[List[UnCurry.this.global.ValDef]]</span><a href="#129686">vparamss</a></span>)), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129687">tpt</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129689">rhs1</a></span>)
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Try</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129695">body</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a id="129696">catches</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129697">finalizer</a></span>) =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span> <span class="typed"><span class="type">((UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean</span><a id="21372">forall</a></span> <span class="typed"><span class="type">object UnCurry.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.treeInfo.trees.CaseDef)Boolean</span><a href="../ast/TreeInfo.scala.html#42460">isCatchCase</a></span>) <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>
          <span class="keyword">else</span> {
            <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="129710">exname</a></span> = <span class="typed"><span class="type">UnCurry.this.global.CompilationUnit</span><a href="#129063">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)String</span><a href="../util/FreshNameCreator.scala.html#48784">newName</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;ex$&quot;)</span><span class="string">&quot;ex$&quot;</span></span>)
            <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a id="129711">cases</a></span> =
              <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span> <span class="typed"><span class="type">((UnCurry.this.global.CaseDef) =&gt; Boolean)Boolean</span><a id="21373">exists</a></span> <span class="typed"><span class="type">object UnCurry.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.treeInfo.trees.CaseDef)Boolean</span><a href="../ast/TreeInfo.scala.html#42459">isDefaultCase</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.CaseDef</span><a id="21350">last</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {  <span class="comment">// bq: handle try { } catch { ... case ex:Throwable =&gt; ...}</span>
                    <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">CaseDef</a>(<a id="1">Typed</a>(<a id="1">Ident</a>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129729">tpt</a></span>), <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, _) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129729">tpt</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25804">ThrowableClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>) =&gt;
                      <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
                    <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">case</span></span> <a id="1">CaseDef</a>(<a id="1">Bind</a>(_, <a id="1">Typed</a>(<a id="1">Ident</a>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>), <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129733">tpt</a></span>)), <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, _) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129733">tpt</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Type)Boolean</span><a href="../symtab/Types.scala.html#25702">=:=</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25804">ThrowableClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>) =&gt;
                      <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
                    <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt;
                      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
                  })) <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span>
              <span class="keyword">else</span> <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.CaseDef])List[UnCurry.this.global.CaseDef]</span><a href="#129734" id="21339">:::</a></span> <span class="typed"><span class="type">(UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>), <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Throw</span><a href="../ast/Trees.scala.html#42736">Throw</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102">exname</a></span>))));
            <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a id="129712">catchall</a></span> = 
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.CaseDef)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
                <span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,UnCurry.this.global.Tree)UnCurry.this.global.CaseDef</span><a href="../ast/Trees.scala.html#42713">CaseDef</a></span>(
                  <span class="typed"><span class="type">(UnCurry.this.global.Name,UnCurry.this.global.Tree)UnCurry.this.global.Bind</span><a href="../ast/Trees.scala.html#30368">Bind</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102">exname</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>)),
                  <span class="typed"><span class="type">object UnCurry.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>,
                  <span class="typed"><span class="type">(UnCurry.this.global.Tree,List[UnCurry.this.global.CaseDef])UnCurry.this.global.Match</span><a href="../ast/Trees.scala.html#42765">Match</a></span>(<span class="typed"><span class="type">(UnCurry.this.global.Name)UnCurry.this.global.Ident</span><a href="../ast/Trees.scala.html#30408">Ident</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#21102">exname</a></span>), <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129711">cases</a></span>))
              }
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;rewrote try: &quot;)</span><span class="string">&quot;rewrote try: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.CaseDef]</span><a href="#129696">catches</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; ==&gt; &quot;)</span><span class="string">&quot; ==&gt; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="#129712">catchall</a></span>);
            <span class="keyword">val</span> <span class="typed"><span class="type">List[UnCurry.this.global.analyzer.global.CaseDef]</span><a id="129713">catches1</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.analyzer.Typer</span><a href="TypingTransformers.scala.html#47804">localTyper</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.analyzer.global.Tree,List[UnCurry.this.global.analyzer.global.CaseDef],UnCurry.this.global.analyzer.global.Type,UnCurry.this.global.analyzer.global.Type)List[UnCurry.this.global.analyzer.global.CaseDef]</span><a href="../typechecker/Typers.scala.html#31807">typedCases</a></span>(
              <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>, <span class="typed"><span class="type">(UnCurry.this.global.CaseDef*)List[UnCurry.this.global.CaseDef]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.CaseDef</span><a href="#129712">catchall</a></span>), <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25804">ThrowableClass</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>, <span class="typed"><span class="type">object UnCurry.this.global.WildcardType</span><a href="../symtab/Types.scala.html#21958">WildcardType</a></span>);
            <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,List[UnCurry.this.global.CaseDef],UnCurry.this.global.Tree)UnCurry.this.global.Try</span><a href="../ast/Trees.scala.html#43180">Try</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129695">body</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.analyzer.global.CaseDef]</span><a href="#129713">catches1</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129697">finalizer</a></span>)
          }
        <span class="typed"><span class="type">UnCurry.this.global.Apply</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<a id="1">Apply</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129754">fn</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129755">args</a></span>), <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a id="129756">args1</a></span>) =&gt;
          <span class="typed"><span class="type">=&gt; UnCurry.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Tree,List[UnCurry.this.global.Tree])UnCurry.this.global.Apply</span><a href="../ast/Trees.scala.html#43185">Apply</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129754">fn</a></span>, <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129755">args</a></span> <span class="typed"><span class="type">(List[UnCurry.this.global.Tree])List[UnCurry.this.global.Tree]</span><a href="#129757" id="21339">:::</a></span> <span class="typed"><span class="type">List[UnCurry.this.global.Tree]</span><a href="#129756">args1</a></span>)
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">UnCurry.this.global.Name</span><a id="129761">name</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">UnCurry.this.global.Name</span><a href="#129761">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object UnCurry.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/StdNames.scala.html#30597">WILDCARD_STAR</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span>)
          <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129669">applyUnary</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>);
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Select</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129765">qual</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Name</span><a id="129766">name</a></span>) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129669">applyUnary</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>)
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">TypeApply</a>(_, _) =&gt;
          <span class="typed"><span class="type">(UnCurry.this.global.Tree)UnCurry.this.global.Tree</span><a href="#129669">applyUnary</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>)
        <span class="typed"><span class="type">UnCurry.this.global.analyzer.global.Tree</span><span class="keyword">case</span></span> <a id="1">Return</a>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129767">expr</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; (UnCurryTransformer.this.type)UnCurry.this.global.Symbol</span><a href="#171284">currentOwner</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25258">enclMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; (UnCurryTransformer.this.type)UnCurry.this.global.Symbol</span><a href="#171284">currentOwner</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(2147483648L)</span><span >LAZY</span></span>)) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;non local return in &quot;)</span><span class="string">&quot;non local return in &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">java.lang.String(&quot; from &quot;)</span><span class="string">&quot; from &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span><span class="typed"><span class="type">=&gt; (UnCurryTransformer.this.type)UnCurry.this.global.Symbol</span><a href="#171284">currentOwner</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25258">enclMethod</a></span>)
          <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(UnCurry.this.global.analyzer.global.Tree)UnCurry.this.global.analyzer.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(<span class="typed"><span class="type">(UnCurry.this.global.Tree,UnCurry.this.global.Symbol)UnCurry.this.global.analyzer.global.Tree</span><a href="#129086">nonLocalReturnThrow</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129767">expr</a></span>, <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>))
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">TypeTree</a>() =&gt;
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>
        <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt; 
          <span class="typed"><span class="type">UnCurry.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25364">isType</a></span>) <span class="typed"><span class="type">(UnCurry.this.global.Type)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)UnCurry.this.global.TypeTree</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129194">tree</a></span>
      }
    }
  }
  
  <span class="keyword">import</span> collection.mutable
  <span class="comment">/** Set of mutable local variables that are free in some inner method. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Set[UnCurry.this.global.Symbol]</span><span id="82635"><a id="82634">freeMutableVars</a></span></span>: mutable.<span class="typed"><span class="type">scala.collection.mutable.Set[UnCurry.this.global.Symbol]</span><a id="20147">Set</a></span>[Symbol] = <span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]</span><span class="keyword">new</span></span> mutable.<span class="typed"><span class="type">scala.collection.mutable.HashSet[UnCurry.this.global.Symbol]</span><a id="19895">HashSet</a></span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends UnCurry.this.global.Traverser</span><span id="82637"><a id="82636">freeLocalsTraverser</a></span></span> = <span class="typed"><span class="type">template $anon extends UnCurry.this.global.Traverser</span><a id="129036" class="keyword">new</a></span> <span class="typed"><span class="type">UnCurry.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><span id="129040"><span id="129038"><span id="129039"><a id="129043">currentMethod</a></span></span></span></span>: <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">object UnCurry.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a id="129041">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a id="129044">tree</a></span>: <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129044">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129046">lastMethod</a></span> = <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="#129038">currentMethod</a></span>
        <span class="typed"><span class="type">(UnCurry.this.global.Symbol)Unit</span><a href="#129039">currentMethod</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129044">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
        <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129044">tree</a></span>)
        <span class="typed"><span class="type">(UnCurry.this.global.Symbol)Unit</span><a href="#129039">currentMethod</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129046">lastMethod</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Ident</a>(_) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a id="129048">sym</a></span> = <span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129044">tree</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129048">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25135">isVariable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129048">sym</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129048">sym</a></span>.<span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; UnCurry.this.global.Symbol</span><a href="#129038">currentMethod</a></span>)
          <span class="typed"><span class="type">=&gt; scala.collection.mutable.Set[UnCurry.this.global.Symbol]</span><a href="#82634">freeMutableVars</a></span> <span class="typed"><span class="type">(UnCurry.this.global.Symbol)Unit</span><a id="25511">+=</a></span> <span class="typed"><span class="type">UnCurry.this.global.Symbol</span><a href="#129048">sym</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        <span class="keyword">super</span>.<span class="typed"><span class="type">(UnCurry.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">UnCurry.this.global.Tree</span><a href="#129044">tree</a></span>)
    }
  }
}

        </pre>
    </body>
</html>