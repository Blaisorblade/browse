<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/OverridingPairs.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */
// $Id: OverridingPairs.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> collection.mutable.HashMap
<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> util.HashSet

/** A class that yields a kind of iterator (`Cursor`),
 *  which yields all pairs of overriding/overridden symbols
 *  that are visible in some baseclass, unless there's a parent class
 *  that aleady contains the same pairs.
 *  @author Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OverridingPairs extends java.lang.Object with ScalaObject" id="13567">OverridingPairs</a> <span title="ScalaObject">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="54383">global</a>: <a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** The cursor class
   *  @param base   the base class that contains the overriding pairs
   */
  <span class="keyword">class</span> <a title="class Cursor extends java.lang.Object with ScalaObject" id="54385">Cursor</a><span title="ScalaObject">(</span><a title="OverridingPairs.this.global.Symbol" id="54432">base</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>) {

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="OverridingPairs.this.global.Type" id="54394">self</a> = <a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; OverridingPairs.this.global.Type">thisType</a>

    /** Symbols to exclude: Here these are constructors, private locals,
     *  and bridges. But it may be refined in subclasses.
     * 
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: OverridingPairs.this.global.Symbol)Boolean" id="54396">exclude</a>(<a title="OverridingPairs.this.global.Symbol" id="54437">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = 
      <a href="#54437" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27075" title="(x$1: Boolean)Boolean">isConstructor</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#54437" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27116" title="=&gt; Boolean">isPrivateLocal</a> || <a href="#54437" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(67108864L)">BRIDGE</span>)

    /** The parents of base (may also be refined).
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[OverridingPairs.this.global.Type]" id="54397">parents</a>: <span title="List[OverridingPairs.this.global.Type]">List</span>[Type] = <a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30375" title="=&gt; List[OverridingPairs.this.global.Type]">parents</a>

    /** Does `sym1` match `sym2` so that it qualifies as overiding.
     *  Types always match. Term symbols match if their membertypes
     *  relative to &lt;base&gt;.this do
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean" id="54398">matches</a>(<a title="OverridingPairs.this.global.Symbol" id="54461">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>, <a title="OverridingPairs.this.global.Symbol" id="54462">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      <a href="#54461" title="OverridingPairs.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27055" title="(x$1: Boolean)Boolean">isType</a> || (<a href="#54394" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">memberType</a><a href="../symtab/Types.scala.html#30424" title="(that: OverridingPairs.this.global.Type)Boolean">(</a><a href="#54461" title="OverridingPairs.this.global.Symbol">sym1</a>) matches <a href="#54394" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30409" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">memberType</a>(<a href="#54462" title="OverridingPairs.this.global.Symbol">sym2</a>))

    /** An implementation of BitSets as arrays (maybe consider collection.BitSet
     *  for that?) The main purpose of this is to implement
     *  intersectionContainsElement efficiently.
     */
    <span class="keyword">private</span> <span class="keyword">type</span> <a title="Array[Int]" id="54399">BitSet</a> = <span title="Array[Int]">Array</span>[Int]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(size: Int)Cursor.this.BitSet" id="54400">newBitSet</a>(<a title="Int" id="113432">size</a>: <span title="Int">Int</span>): <span title="Cursor.this.BitSet">BitSet</span> = <span title="Array[Int]" class="keyword">new</span> <span title="Array[Int]">Array</span>(<span title="(x$1: Int)Int">(</span><a href="#113432" title="(x$1: Int)Int">size</a> + <span title="Int(31)" class="int">31</span>) &gt;&gt; <span title="Int(5)" class="int">5</span>)

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bs: Cursor.this.BitSet,n: Int)Unit" id="54401">include</a>(<a title="Cursor.this.BitSet" id="113451">bs</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Int" id="113452">n</a>: <span title="Int">Int</span>) {
      <span class="keyword">val</span> <a title="Int" id="113454">nshifted</a> = <a href="#113452" title="(x$1: Int)Int">n</a> &gt;&gt; <span title="Int(5)" class="int">5</span>
      <span class="keyword">val</span> <a title="Int" id="113455">nmask</a> = <span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#113452" title="(x$1: Int)Int">n</a> &amp; <span title="Int(31)" class="int">31</span>)
      <a href="#113451" title="(i: Int,x: Int)Unit">bs</a>(<a href="#113454" title="Int">nshifted</a>) = <a href="#113451" title="(i: Int)Int">bs</a><span title="(x$1: Int)Int">(</span><a href="#113454" title="Int">nshifted</a>) | <a href="#113455" title="Int">nmask</a>
    }

    /** Implements `bs1 * bs2 * {0..n} != 0.
     *  Used in hasCommonParentAsSubclass */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bs1: Cursor.this.BitSet,bs2: Cursor.this.BitSet,n: Int)Boolean" id="54402">intersectionContainsElementLeq</a>(<a title="Cursor.this.BitSet" id="113508">bs1</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Cursor.this.BitSet" id="113509">bs2</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Int" id="113510">n</a>: <span title="Int">Int</span>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Int" id="113512">nshifted</a> = <a href="#113510" title="(x$1: Int)Int">n</a> &gt;&gt; <span title="Int(5)" class="int">5</span>
      <span class="keyword">val</span> <a title="Int" id="113513">nmask</a> = <span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#113510" title="(x$1: Int)Int">n</a> &amp; <span title="Int(31)" class="int">31</span>)
      <span class="keyword">var</span> <a title="Int" id="113514">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> (<a href="#113514" title="(x$1: Int)Boolean" id="2977">i</a> &lt; <a href="#113512" title="Int">nshifted</a>) <a href="#113515" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#113508" title="(i: Int)Int">bs1</a><span title="(x$1: Int)Int">(</span><a href="#113514" title="Int">i</a>) &amp; <a href="#113509" title="(i: Int)Int">bs2</a>(<a href="#113514" title="Int">i</a>)) != <span title="Int(0)" class="int">0</span>) <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
        <a href="#113514" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
      <span title="(x$1: Int)Boolean">(</span><a href="#113508" title="(i: Int)Int">bs1</a><span title="(x$1: Int)Int">(</span><a href="#113512" title="Int">nshifted</a>) <span title="(x$1: Int)Int">&amp;</span> <a href="#113509" title="(i: Int)Int">bs2</a>(<a href="#113512" title="Int">nshifted</a>) &amp; (<a href="#113513" title="(x$1: Int)Int">nmask</a> | <a href="#113513" title="(x$1: Int)Int" id="2987">nmask</a> - <span title="Int(1)" class="int">1</span>)) != <span title="Int(0)" class="int">0</span>
    }

    /** The symbols that can take part in an overriding pair */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="OverridingPairs.this.global.Scope" id="54403">decls</a> = <a href="../symtab/Scopes.scala.html#26125" title="=&gt; OverridingPairs.this.global.Scope">newScope</a>

    // fill `decls` with overriding shadowing overridden */
    { <span class="keyword">def</span> <a title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit" id="113656">fillDecls</a>(<a title="List[OverridingPairs.this.global.Symbol]" id="113657">bcs</a>: <span title="List[OverridingPairs.this.global.Symbol]">List</span>[Symbol], <a title="Int" id="113658">deferredflag</a>: <span title="Int">Int</span>) {
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#113657" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; Boolean" id="25593">isEmpty</a>) {
          <a href="#113656" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#113657" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; List[OverridingPairs.this.global.Symbol]" id="25477">tail</a>, <a href="#113658" title="Int">deferredflag</a>)
          <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="113659">e</a> = <a href="#113657" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; OverridingPairs.this.global.Symbol" id="25602">head</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30396" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27264" title="=&gt; OverridingPairs.this.global.ScopeEntry">elems</a>;
          <span title="Unit" class="keyword">while</span> (<a href="#113659" title="(x$1: AnyRef)Boolean">e</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#113662" title="()Unit">{</a>
            <span title="Any" class="keyword">if</span> (<a href="#113659" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27154" title="(mask: Long)Long">getFlag</a><a title="(x$1: Int)Boolean" id="3181">(</a><span title="Long(16L)">DEFERRED</span>) <span title="(x$1: Boolean)Boolean">==</span> <a href="#113658" title="Int">deferredflag</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#54396" title="(sym: OverridingPairs.this.global.Symbol)Boolean">exclude</a>(<a href="#113659" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>))
              <a href="../symtab/Scopes.scala.html#27290" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Symbol">decls</a> enter <a href="#113659" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>;
            <a href="#113659" title="OverridingPairs.this.global.ScopeEntry">e</a> = <a href="#113659" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26974" title="=&gt; OverridingPairs.this.global.ScopeEntry">next</a>
          }
        }
      }
      // first, deferred (this wil need to change if we change lookup rules!
      <a href="#113656" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>, <span title="Int(16)">DEFERRED</span>)
      // then, concrete.
      <a href="#113656" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>, <span title="Int(0)" class="int">0</span>)
    }

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="54405">size</a> = <a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>.<a title="=&gt; Int" id="29114">length</a>

    /** A map from baseclasses of &lt;base&gt; to ints, with smaller ints meansing lower in
     *  lineraizatuon order.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" id="54407">index</a> = <span title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" id="25113">HashMap</a>[Symbol, Int]

    { <span class="keyword">var</span> <a title="Int" id="113703">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Symbol" id="113721">bc</a> &lt;- <a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30428" title="(f: (OverridingPairs.this.global.Symbol) =&gt; Unit)Unit">baseClasses</a>) {
        <a href="#54407" title="(key: OverridingPairs.this.global.Symbol,value: Int)Unit" id="44618">index</a>(<a href="#113721" title="OverridingPairs.this.global.Symbol">bc</a>) = <a href="#113703" title="Int">i</a>
        <a href="#113703" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
    }

    /** A mapping from all base class indices to a bitset
     *  which indicates whether parents are subclasses.
     *
     *   i \in subParents(j)   iff
     *   exists p \in parents, b \in baseClasses:
     *     i = index(p)
     *     j = index(b)
     *     p isSubClass b
     *     p.baseType(b) == self.baseType(b)
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[Cursor.this.BitSet]" id="54409">subParents</a> = <span title="Array[Cursor.this.BitSet]" class="keyword">new</span> <span title="Array[Cursor.this.BitSet]">Array</span>[BitSet](<a href="#54405" title="=&gt; Int">size</a>)

    { <span class="keyword">for</span> (<a title="Int" id="113788">i</a> &lt;- <a title="object List" id="7415">List</a>.<a title="(start: Int,end: Int)List[Int]" id="24643">range</a><span title="(f: (Int) =&gt; Unit)Unit">(</span><span title="Int(0)" class="int">0</span>, <a href="#54405" title="=&gt; Int">size</a>))
        <a href="#54409" title="(i: Int,x: Cursor.this.BitSet)Unit">subParents</a>(<a href="#113788" title="Int">i</a>) = <span title="Array[Int]" class="keyword">new</span> <a href="#54399" title="Array[Int]">BitSet</a>(<a href="#54405" title="=&gt; Int">size</a>);
      <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Type" id="113825">p</a> &lt;- <a href="#54397" title="(f: (OverridingPairs.this.global.Type) =&gt; Unit)Unit">parents</a>) {
        <span class="keyword">val</span> <a title="Int" id="113826">pIndex</a> = <a href="#54407" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113825" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; OverridingPairs.this.global.Symbol">typeSymbol</a>)
        <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Symbol" id="113858">bc</a> &lt;- <a href="#113825" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30428" title="(f: (OverridingPairs.this.global.Symbol) =&gt; Unit)Unit">baseClasses</a>) 
          <span title="Unit" class="keyword">if</span> (<a href="#113825" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a><a href="../symtab/Types.scala.html#30422" title="(that: OverridingPairs.this.global.Type)Boolean">(</a><a href="#113858" title="OverridingPairs.this.global.Symbol">bc</a>) =:= <a href="#54394" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113858" title="OverridingPairs.this.global.Symbol">bc</a>))
            <a href="#54401" title="(bs: Cursor.this.BitSet,n: Int)Unit">include</a>(<a href="#54409" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#54407" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113858" title="OverridingPairs.this.global.Symbol">bc</a>)), <a href="#113826" title="Int">pIndex</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SKIPPING &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#113825" title="OverridingPairs.this.global.Type">p</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#113825" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113858" title="OverridingPairs.this.global.Symbol">bc</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#54394" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30406" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113858" title="OverridingPairs.this.global.Symbol">bc</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span>+<a href="#54432" title="OverridingPairs.this.global.Symbol">base</a>)
      }
    }

    /** Do `sym1` and `sym2` have a common subclass in `parents`?
     *  In that case we do not follow their overriding pairs
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean" id="54411">hasCommonParentAsSubclass</a>(<a title="OverridingPairs.this.global.Symbol" id="113923">sym1</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>, <a title="OverridingPairs.this.global.Symbol" id="113924">sym2</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="Int" id="113927">index1</a> = <a href="#54407" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113923" title="OverridingPairs.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>)
      <span class="keyword">val</span> <a title="Int" id="113928">index2</a> = <a href="#54407" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113924" title="OverridingPairs.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>)
      <a href="#54402" title="(bs1: Cursor.this.BitSet,bs2: Cursor.this.BitSet,n: Int)Boolean">intersectionContainsElementLeq</a>(<a href="#54409" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#113927" title="Int">index1</a>), <a href="#54409" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#113928" title="Int">index2</a>), <a href="#113927" title="(that: Int)Int" id="708">index1</a> min <a href="#113928" title="Int">index2</a>)
    }

    /** The scope entries that have already been visited as overridden
     *  (maybe excluded because of hasCommonParentAsSubclass).
     *  These will not appear as overriding
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]" id="54412">visited</a> = <span title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]" class="keyword">new</span> <a href="../util/HashSet.scala.html#14599" title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]">HashSet</a>[ScopeEntry](<span title="Int(256)" class="int">256</span>)

    /** The current entry candidate for overriding
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="54415">curEntry</a> = <a href="#54403" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27264" title="=&gt; OverridingPairs.this.global.ScopeEntry">elems</a>

    /** The current entry candidate for overridden */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="54418">nextEntry</a> = <a href="#54415" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>

    /** The current candidate symbol for overridding */
    <span class="keyword">var</span> <a title="OverridingPairs.this.global.Symbol" id="54421">overriding</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a> = _

    /** If not null: The symbol overridden by overridding */
    <span class="keyword">var</span> <a title="OverridingPairs.this.global.Symbol" id="54424">overridden</a>: <a href="../symtab/Symbols.scala.html#26286" title="OverridingPairs.this.global.Symbol">Symbol</a> = _

    //@M: note that next is called once during object initialisation
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="54426">hasNext</a>: <span title="Boolean">Boolean</span> = <a href="#54415" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="54427">next</a> {
      <span title="Unit" class="keyword">if</span> (<a href="#54415" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <a href="#54421" title="(x$1: OverridingPairs.this.global.Symbol)Unit">overriding</a> = <a href="#54415" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>
        <span title="Unit" class="keyword">if</span> (<a href="#54418" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
          <a href="#114002" title="Unit" class="keyword">do</a> { 
            <a href="#114003" title="Unit" class="keyword">do</a> {
              <a href="#54418" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">nextEntry</a> = <a href="#54403" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27302" title="(entry: OverridingPairs.this.global.ScopeEntry)OverridingPairs.this.global.ScopeEntry">lookupNextEntry</a>(<a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>);
            } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54418" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp;
                     (<span title="(x$1: Boolean)Boolean">(</span><a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(4L)">PRIVATE</span>) <span title="(x$1: Boolean)Boolean">||</span>
                      (<a href="#54421" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#27142" title="(x$1: AnyRef)Boolean" id="3647">owner</a> == <a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">||</span>
                      (<span title="=&gt; Boolean">!</span><a href="#54398" title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean">matches</a>(<a href="#54421" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>, <a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>)) ||
                      (<a href="#54396" title="(sym: OverridingPairs.this.global.Symbol)Boolean">exclude</a>(<a href="#54421" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>))))
            <span title="Unit" class="keyword">if</span> (<a href="#54418" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="../util/HashSet.scala.html#113392" title="(x: OverridingPairs.this.global.ScopeEntry)Unit">visited</a> addEntry <a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>
            // skip nextEntry if a class in `parents` is a subclass of the owners of both
            // overriding and nextEntry.sym
          } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54418" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#54411" title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean">hasCommonParentAsSubclass</a>(<a href="#54421" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>, <a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>)))
          <span title="Unit" class="keyword">if</span> (<a href="#54418" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
            <a href="#54424" title="(x$1: OverridingPairs.this.global.Symbol)Unit">overridden</a> = <a href="#54418" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26966" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>;
            //Console.println(&quot;yield: &quot; + overriding + overriding.locationString + &quot; / &quot; + overridden + overridden.locationString);//DEBUG
          } <span class="keyword">else</span> {
            <a href="#114058" title="Unit" class="keyword">do</a> {
              <a href="#54415" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">curEntry</a> = <a href="#54415" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>.<a href="../symtab/Scopes.scala.html#26974" title="=&gt; OverridingPairs.this.global.ScopeEntry">next</a>
            } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54415" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="../util/Set.scala.html#113374" title="(x: OverridingPairs.this.global.ScopeEntry)Boolean">visited</a> contains <a href="#54415" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>));
            <a href="#54418" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">nextEntry</a> = <a href="#54415" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>
            <a href="#54427" title="=&gt; Unit">next</a>
          }
        }
      }
    }

    <a href="#54427" title="=&gt; Unit">next</a>
  }
}

        </pre>
    </body>
</html>