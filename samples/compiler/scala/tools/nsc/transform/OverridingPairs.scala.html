<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/OverridingPairs.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */
// $Id: OverridingPairs.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> collection.mutable.HashMap
<span class="keyword">import</span> symtab.Flags._
<span class="keyword">import</span> util.HashSet

/** A class that yields a kind of iterator (`Cursor`),
 *  which yields all pairs of overriding/overridden symbols
 *  that are visible in some baseclass, unless there's a parent class
 *  that aleady contains the same pairs.
 *  @author Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OverridingPairs extends java.lang.Object with ScalaObject" id="13492">OverridingPairs</a> <span title="ScalaObject">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="54126">global</a>: <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> global._

  /** The cursor class
   *  @param base   the base class that contains the overriding pairs
   */
  <span class="keyword">class</span> <a title="class Cursor extends java.lang.Object with ScalaObject" id="54128">Cursor</a><span title="ScalaObject">(</span><a title="OverridingPairs.this.global.Symbol" id="54175">base</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>) {

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="OverridingPairs.this.global.Type" id="54137">self</a> = <a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; OverridingPairs.this.global.Type">thisType</a>

    /** Symbols to exclude: Here these are constructors, private locals,
     *  and bridges. But it may be refined in subclasses.
     * 
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: OverridingPairs.this.global.Symbol)Boolean" id="54139">exclude</a>(<a title="OverridingPairs.this.global.Symbol" id="54180">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = 
      <a href="#54180" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26916" title="(x$1: Boolean)Boolean">isConstructor</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#54180" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26957" title="=&gt; Boolean">isPrivateLocal</a> || <a href="#54180" title="OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(67108864L)">BRIDGE</span>)

    /** The parents of base (may also be refined).
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[OverridingPairs.this.global.Type]" id="54140">parents</a>: <span title="List[OverridingPairs.this.global.Type]">List</span>[Type] = <a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30189" title="=&gt; List[OverridingPairs.this.global.Type]">parents</a>

    /** Does `sym1` match `sym2` so that it qualifies as overiding.
     *  Types always match. Term symbols match if their membertypes
     *  relative to &lt;base&gt;.this do
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean" id="54141">matches</a>(<a title="OverridingPairs.this.global.Symbol" id="54204">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>, <a title="OverridingPairs.this.global.Symbol" id="54205">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> =
      <a href="#54204" title="OverridingPairs.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26896" title="(x$1: Boolean)Boolean">isType</a> || (<a href="#54137" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">memberType</a><a href="../symtab/Types.scala.html#30238" title="(that: OverridingPairs.this.global.Type)Boolean">(</a><a href="#54204" title="OverridingPairs.this.global.Symbol">sym1</a>) matches <a href="#54137" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30223" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">memberType</a>(<a href="#54205" title="OverridingPairs.this.global.Symbol">sym2</a>))

    /** An implementation of BitSets as arrays (maybe consider collection.BitSet
     *  for that?) The main purpose of this is to implement
     *  intersectionContainsElement efficiently.
     */
    <span class="keyword">private</span> <span class="keyword">type</span> <a title="Array[Int]" id="54142">BitSet</a> = <span title="Array[Int]">Array</span>[Int]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(size: Int)Cursor.this.BitSet" id="54143">newBitSet</a>(<a title="Int" id="112958">size</a>: <span title="Int">Int</span>): <span title="Cursor.this.BitSet">BitSet</span> = <span title="Array[Int]" class="keyword">new</span> <span title="Array[Int]">Array</span>(<span title="(x$1: Int)Int">(</span><a href="#112958" title="(x$1: Int)Int">size</a> + <span title="Int(31)" class="int">31</span>) &gt;&gt; <span title="Int(5)" class="int">5</span>)

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bs: Cursor.this.BitSet,n: Int)Unit" id="54144">include</a>(<a title="Cursor.this.BitSet" id="112977">bs</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Int" id="112978">n</a>: <span title="Int">Int</span>) {
      <span class="keyword">val</span> <a title="Int" id="112980">nshifted</a> = <a href="#112978" title="(x$1: Int)Int">n</a> &gt;&gt; <span title="Int(5)" class="int">5</span>
      <span class="keyword">val</span> <a title="Int" id="112981">nmask</a> = <span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#112978" title="(x$1: Int)Int">n</a> &amp; <span title="Int(31)" class="int">31</span>)
      <a href="#112977" title="(i: Int,x: Int)Unit">bs</a>(<a href="#112980" title="Int">nshifted</a>) = <a href="#112977" title="(i: Int)Int">bs</a><span title="(x$1: Int)Int">(</span><a href="#112980" title="Int">nshifted</a>) | <a href="#112981" title="Int">nmask</a>
    }

    /** Implements `bs1 * bs2 * {0..n} != 0.
     *  Used in hasCommonParentAsSubclass */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bs1: Cursor.this.BitSet,bs2: Cursor.this.BitSet,n: Int)Boolean" id="54145">intersectionContainsElementLeq</a>(<a title="Cursor.this.BitSet" id="113034">bs1</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Cursor.this.BitSet" id="113035">bs2</a>: <span title="Cursor.this.BitSet">BitSet</span>, <a title="Int" id="113036">n</a>: <span title="Int">Int</span>): <span title="Boolean">Boolean</span> = {
      <span class="keyword">val</span> <a title="Int" id="113038">nshifted</a> = <a href="#113036" title="(x$1: Int)Int">n</a> &gt;&gt; <span title="Int(5)" class="int">5</span>
      <span class="keyword">val</span> <a title="Int" id="113039">nmask</a> = <span title="(x$1: Int)Int" class="int">1</span> &lt;&lt; (<a href="#113036" title="(x$1: Int)Int">n</a> &amp; <span title="Int(31)" class="int">31</span>)
      <span class="keyword">var</span> <a title="Int" id="113040">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> (<a href="#113040" title="(x$1: Int)Boolean" id="2956">i</a> &lt; <a href="#113038" title="Int">nshifted</a>) <a href="#113041" title="()Unit">{</a>
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Int)Boolean">(</span><a href="#113034" title="(i: Int)Int">bs1</a><span title="(x$1: Int)Int">(</span><a href="#113040" title="Int">i</a>) &amp; <a href="#113035" title="(i: Int)Int">bs2</a>(<a href="#113040" title="Int">i</a>)) != <span title="Int(0)" class="int">0</span>) <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
        <a href="#113040" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
      <span title="(x$1: Int)Boolean">(</span><a href="#113034" title="(i: Int)Int">bs1</a><span title="(x$1: Int)Int">(</span><a href="#113038" title="Int">nshifted</a>) <span title="(x$1: Int)Int">&amp;</span> <a href="#113035" title="(i: Int)Int">bs2</a>(<a href="#113038" title="Int">nshifted</a>) &amp; (<a href="#113039" title="(x$1: Int)Int">nmask</a> | <a href="#113039" title="(x$1: Int)Int" id="2966">nmask</a> - <span title="Int(1)" class="int">1</span>)) != <span title="Int(0)" class="int">0</span>
    }

    /** The symbols that can take part in an overriding pair */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="OverridingPairs.this.global.Scope" id="54146">decls</a> = <a href="../symtab/Scopes.scala.html#25966" title="=&gt; OverridingPairs.this.global.Scope">newScope</a>

    // fill `decls` with overriding shadowing overridden */
    { <span class="keyword">def</span> <a title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit" id="113182">fillDecls</a>(<a title="List[OverridingPairs.this.global.Symbol]" id="113183">bcs</a>: <span title="List[OverridingPairs.this.global.Symbol]">List</span>[Symbol], <a title="Int" id="113184">deferredflag</a>: <span title="Int">Int</span>) {
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#113183" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; Boolean" id="25434">isEmpty</a>) {
          <a href="#113182" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#113183" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; List[OverridingPairs.this.global.Symbol]" id="25318">tail</a>, <a href="#113184" title="Int">deferredflag</a>)
          <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="113185">e</a> = <a href="#113183" title="List[OverridingPairs.this.global.Symbol]">bcs</a>.<a title="=&gt; OverridingPairs.this.global.Symbol" id="25443">head</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30210" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27105" title="=&gt; OverridingPairs.this.global.ScopeEntry">elems</a>;
          <span title="Unit" class="keyword">while</span> (<a href="#113185" title="(x$1: AnyRef)Boolean">e</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#113188" title="()Unit">{</a>
            <span title="Any" class="keyword">if</span> (<a href="#113185" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26995" title="(mask: Long)Long">getFlag</a><a title="(x$1: Int)Boolean" id="3160">(</a><span title="Long(16L)">DEFERRED</span>) <span title="(x$1: Boolean)Boolean">==</span> <a href="#113184" title="Int">deferredflag</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#54139" title="(sym: OverridingPairs.this.global.Symbol)Boolean">exclude</a>(<a href="#113185" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>))
              <a href="../symtab/Scopes.scala.html#27131" title="(sym: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Symbol">decls</a> enter <a href="#113185" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>;
            <a href="#113185" title="OverridingPairs.this.global.ScopeEntry">e</a> = <a href="#113185" title="OverridingPairs.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#26815" title="=&gt; OverridingPairs.this.global.ScopeEntry">next</a>
          }
        }
      }
      // first, deferred (this wil need to change if we change lookup rules!
      <a href="#113182" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>, <span title="Int(16)">DEFERRED</span>)
      // then, concrete.
      <a href="#113182" title="(bcs: List[OverridingPairs.this.global.Symbol],deferredflag: Int)Unit">fillDecls</a>(<a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>, <span title="Int(0)" class="int">0</span>)
    }

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="54148">size</a> = <a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="=&gt; List[OverridingPairs.this.global.Symbol]">baseClasses</a>.<a title="=&gt; Int" id="28928">length</a>

    /** A map from baseclasses of &lt;base&gt; to ints, with smaller ints meansing lower in
     *  lineraizatuon order.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" id="54150">index</a> = <span title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[OverridingPairs.this.global.Symbol,Int]" id="24954">HashMap</a>[Symbol, Int]

    { <span class="keyword">var</span> <a title="Int" id="113229">i</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Symbol" id="113247">bc</a> &lt;- <a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; OverridingPairs.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30242" title="(f: (OverridingPairs.this.global.Symbol) =&gt; Unit)Unit">baseClasses</a>) {
        <a href="#54150" title="(key: OverridingPairs.this.global.Symbol,value: Int)Unit" id="44386">index</a>(<a href="#113247" title="OverridingPairs.this.global.Symbol">bc</a>) = <a href="#113229" title="Int">i</a>
        <a href="#113229" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
      }
    }

    /** A mapping from all base class indices to a bitset
     *  which indicates whether parents are subclasses.
     *
     *   i \in subParents(j)   iff
     *   exists p \in parents, b \in baseClasses:
     *     i = index(p)
     *     j = index(b)
     *     p isSubClass b
     *     p.baseType(b) == self.baseType(b)
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[Cursor.this.BitSet]" id="54152">subParents</a> = <span title="Array[Cursor.this.BitSet]" class="keyword">new</span> <span title="Array[Cursor.this.BitSet]">Array</span>[BitSet](<a href="#54148" title="=&gt; Int">size</a>)

    { <span class="keyword">for</span> (<a title="Int" id="113314">i</a> &lt;- <a title="object List" id="7346">List</a>.<a title="(start: Int,end: Int)List[Int]" id="24484">range</a><span title="(f: (Int) =&gt; Unit)Unit">(</span><span title="Int(0)" class="int">0</span>, <a href="#54148" title="=&gt; Int">size</a>))
        <a href="#54152" title="(i: Int,x: Cursor.this.BitSet)Unit">subParents</a>(<a href="#113314" title="Int">i</a>) = <span title="Array[Int]" class="keyword">new</span> <a href="#54142" title="Array[Int]">BitSet</a>(<a href="#54148" title="=&gt; Int">size</a>);
      <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Type" id="113351">p</a> &lt;- <a href="#54140" title="(f: (OverridingPairs.this.global.Type) =&gt; Unit)Unit">parents</a>) {
        <span class="keyword">val</span> <a title="Int" id="113352">pIndex</a> = <a href="#54150" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113351" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; OverridingPairs.this.global.Symbol">typeSymbol</a>)
        <span class="keyword">for</span> (<a title="OverridingPairs.this.global.Symbol" id="113384">bc</a> &lt;- <a href="#113351" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30242" title="(f: (OverridingPairs.this.global.Symbol) =&gt; Unit)Unit">baseClasses</a>) 
          <span title="Unit" class="keyword">if</span> (<a href="#113351" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a><a href="../symtab/Types.scala.html#30236" title="(that: OverridingPairs.this.global.Type)Boolean">(</a><a href="#113384" title="OverridingPairs.this.global.Symbol">bc</a>) =:= <a href="#54137" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113384" title="OverridingPairs.this.global.Symbol">bc</a>))
            <a href="#54144" title="(bs: Cursor.this.BitSet,n: Int)Unit">include</a>(<a href="#54152" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#54150" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113384" title="OverridingPairs.this.global.Symbol">bc</a>)), <a href="#113352" title="Int">pIndex</a>)
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SKIPPING &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#113351" title="OverridingPairs.this.global.Type">p</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#113351" title="OverridingPairs.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113384" title="OverridingPairs.this.global.Symbol">bc</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#54137" title="=&gt; OverridingPairs.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#30220" title="(clazz: OverridingPairs.this.global.Symbol)OverridingPairs.this.global.Type">baseType</a>(<a href="#113384" title="OverridingPairs.this.global.Symbol">bc</a>)<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span>+<a href="#54175" title="OverridingPairs.this.global.Symbol">base</a>)
      }
    }

    /** Do `sym1` and `sym2` have a common subclass in `parents`?
     *  In that case we do not follow their overriding pairs
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean" id="54154">hasCommonParentAsSubclass</a>(<a title="OverridingPairs.this.global.Symbol" id="113449">sym1</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>, <a title="OverridingPairs.this.global.Symbol" id="113450">sym2</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="Int" id="113453">index1</a> = <a href="#54150" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113449" title="OverridingPairs.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>)
      <span class="keyword">val</span> <a title="Int" id="113454">index2</a> = <a href="#54150" title="(key: OverridingPairs.this.global.Symbol)Int">index</a>(<a href="#113450" title="OverridingPairs.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>)
      <a href="#54145" title="(bs1: Cursor.this.BitSet,bs2: Cursor.this.BitSet,n: Int)Boolean">intersectionContainsElementLeq</a>(<a href="#54152" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#113453" title="Int">index1</a>), <a href="#54152" title="(i: Int)Cursor.this.BitSet">subParents</a>(<a href="#113454" title="Int">index2</a>), <a href="#113453" title="(that: Int)Int" id="693">index1</a> min <a href="#113454" title="Int">index2</a>)
    }

    /** The scope entries that have already been visited as overridden
     *  (maybe excluded because of hasCommonParentAsSubclass).
     *  These will not appear as overriding
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]" id="54155">visited</a> = <span title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]" class="keyword">new</span> <a href="../util/HashSet.scala.html#14524" title="scala.tools.nsc.util.HashSet[OverridingPairs.this.global.ScopeEntry]">HashSet</a>[ScopeEntry](<span title="Int(256)" class="int">256</span>)

    /** The current entry candidate for overriding
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="54158">curEntry</a> = <a href="#54146" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27105" title="=&gt; OverridingPairs.this.global.ScopeEntry">elems</a>

    /** The current entry candidate for overridden */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="OverridingPairs.this.global.ScopeEntry" id="54161">nextEntry</a> = <a href="#54158" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>

    /** The current candidate symbol for overridding */
    <span class="keyword">var</span> <a title="OverridingPairs.this.global.Symbol" id="54164">overriding</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a> = _

    /** If not null: The symbol overridden by overridding */
    <span class="keyword">var</span> <a title="OverridingPairs.this.global.Symbol" id="54167">overridden</a>: <a href="../symtab/Symbols.scala.html#26127" title="OverridingPairs.this.global.Symbol">Symbol</a> = _

    //@M: note that next is called once during object initialisation
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="54169">hasNext</a>: <span title="Boolean">Boolean</span> = <a href="#54158" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="54170">next</a> {
      <span title="Unit" class="keyword">if</span> (<a href="#54158" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <a href="#54164" title="(x$1: OverridingPairs.this.global.Symbol)Unit">overriding</a> = <a href="#54158" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>
        <span title="Unit" class="keyword">if</span> (<a href="#54161" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
          <a href="#113528" title="Unit" class="keyword">do</a> { 
            <a href="#113529" title="Unit" class="keyword">do</a> {
              <a href="#54161" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">nextEntry</a> = <a href="#54146" title="=&gt; OverridingPairs.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#27143" title="(entry: OverridingPairs.this.global.ScopeEntry)OverridingPairs.this.global.ScopeEntry">lookupNextEntry</a>(<a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>);
            } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54161" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp;
                     (<span title="(x$1: Boolean)Boolean">(</span><a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(4L)">PRIVATE</span>) <span title="(x$1: Boolean)Boolean">||</span>
                      (<a href="#54164" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#26983" title="(x$1: AnyRef)Boolean" id="3626">owner</a> == <a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; OverridingPairs.this.global.Symbol">owner</a>) <span title="(x$1: Boolean)Boolean">||</span>
                      (<span title="=&gt; Boolean">!</span><a href="#54141" title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean">matches</a>(<a href="#54164" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>, <a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>)) ||
                      (<a href="#54139" title="(sym: OverridingPairs.this.global.Symbol)Boolean">exclude</a>(<a href="#54164" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>))))
            <span title="Unit" class="keyword">if</span> (<a href="#54161" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="../util/HashSet.scala.html#112918" title="(x: OverridingPairs.this.global.ScopeEntry)Unit">visited</a> addEntry <a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>
            // skip nextEntry if a class in `parents` is a subclass of the owners of both
            // overriding and nextEntry.sym
          } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54161" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="#54154" title="(sym1: OverridingPairs.this.global.Symbol,sym2: OverridingPairs.this.global.Symbol)Boolean">hasCommonParentAsSubclass</a>(<a href="#54164" title="=&gt; OverridingPairs.this.global.Symbol">overriding</a>, <a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>)))
          <span title="Unit" class="keyword">if</span> (<a href="#54161" title="(x$1: AnyRef)Boolean">nextEntry</a> ne <span title="Null(null)" class="keyword">null</span>) {
            <a href="#54167" title="(x$1: OverridingPairs.this.global.Symbol)Unit">overridden</a> = <a href="#54161" title="=&gt; OverridingPairs.this.global.ScopeEntry">nextEntry</a>.<a href="../symtab/Scopes.scala.html#26807" title="=&gt; OverridingPairs.this.global.Symbol">sym</a>;
            //Console.println(&quot;yield: &quot; + overriding + overriding.locationString + &quot; / &quot; + overridden + overridden.locationString);//DEBUG
          } <span class="keyword">else</span> {
            <a href="#113584" title="Unit" class="keyword">do</a> {
              <a href="#54158" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">curEntry</a> = <a href="#54158" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>.<a href="../symtab/Scopes.scala.html#26815" title="=&gt; OverridingPairs.this.global.ScopeEntry">next</a>
            } <span class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#54158" title="(x$1: AnyRef)Boolean">curEntry</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; (<a href="../util/Set.scala.html#112900" title="(x: OverridingPairs.this.global.ScopeEntry)Boolean">visited</a> contains <a href="#54158" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>));
            <a href="#54161" title="(x$1: OverridingPairs.this.global.ScopeEntry)Unit">nextEntry</a> = <a href="#54158" title="=&gt; OverridingPairs.this.global.ScopeEntry">curEntry</a>
            <a href="#54170" title="=&gt; Unit">next</a>
          }
        }
      }
    }

    <a href="#54170" title="=&gt; Unit">next</a>
  }
}

        </pre>
    </body>
</html>