<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/AddInterfaces.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author Martin Odersky
 */</span>
<span class="comment">// $Id: AddInterfaces.scala 17188 2009-02-24 11:54:40Z michelou $</span>

<span class="keyword">package</span> scala.tools.nsc.transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> collection.mutable.{HashMap, ListBuffer}

<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class AddInterfaces extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject</span><a id="13150">AddInterfaces</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.transform.InfoTransform</span><a href="InfoTransform.scala.html#12961">InfoTransform</a></span> {
  <span class="keyword">import</span> global._                  <span class="comment">// the global environment</span>
  <span class="keyword">import</span> definitions._             <span class="comment">// standard classes and methods</span>
  <span class="keyword">import</span> posAssigner.atPos         <span class="comment">// for filling in tree positions </span>

  <span class="comment">/** &lt;p&gt;
   *    The phase sets &lt;code&gt;lateINTERFACE&lt;/code&gt; for non-interface traits
   *    that now become interfaces.
   *  &lt;/p&gt;
   *  &lt;p&gt;
   *    It sets &lt;code&gt;lateDEFERRED&lt;/code&gt; for formerly concrete methods in
   *    such traits.
   *  &lt;/p&gt;
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Long</span><a id="43059">phaseNewFlags</a></span>: <span class="typed"><span class="type">Long</span><a id="2399">Long</a></span> = <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20560">lateDEFERRED</a></span> <span class="typed"><span class="type">(Long)Long</span><a id="3275">|</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20562">lateINTERFACE</a></span>

  <span class="comment">/** Type reference after erasure; to be defined in subclass
   *  &lt;code&gt;Erasure&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type</span><a id="43060">erasedTypeRef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43343">sym</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>

  <span class="comment">/** Erasure type-map; to be defined in subclass
   *  &lt;code&gt;Erasure&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.TypeMap</span><a id="43061">erasure</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span>

  <span class="comment">/** A lazily constructed map that associates every non-interface trait with
   *  its implementation class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><span id="43063"><a id="43062">implClassMap</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a id="20081">HashMap</a></span>[Symbol, Symbol]

  <span class="comment">/** A lazily constructed map that associates every concrete method in a non-interface
   *  trait that's currently compiled with its corresponding method in the trait's
   *  implementation class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><span id="43065"><a id="43064">implMethodMap</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a id="20081">HashMap</a></span>[Symbol, Symbol]

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.Phase)AddInterfaces.this.StdPhase</span><a id="43066">newPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="43345">prev</a></span>: scala.tools.nsc.<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="../Phase.scala.html#6873">Phase</a></span>): <span class="typed"><span class="type">AddInterfaces.this.StdPhase</span><a href="../SubComponent.scala.html#29468">StdPhase</a></span> = {
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43062">implClassMap</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24168">clear</a></span>
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43064">implMethodMap</a></span>.<span class="typed"><span class="type">()Unit</span><a id="24168">clear</a></span>
    <span class="keyword">super</span>.<span class="typed"><span class="type">(scala.tools.nsc.Phase)AddInterfaces.this.StdPhase</span><a href="InfoTransform.scala.html#29476">newPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#43345">prev</a></span>)
  }

  <span class="comment">/** Is given trait member symbol a member of the trait's interface 
   *  after this transform is performed? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a id="43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43349">sym</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
    <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25128">isType</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span>
    { <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>; <span class="comment">// to set lateMETHOD flag if necessary</span>
      <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25144">isLabel</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> (PRIVATE <span class="typed"><span class="type">Long(67108868L)</span><span >|</span></span> BRIDGE)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
      <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25148">isConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43349">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25192">isImplOnly</a></span>
    }
  }

  <span class="comment">/** Does symbol need an implementation method? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a id="43068">needsImplMethod</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43355">sym</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> =
    <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43355">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43355">sym</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> 
    (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43355">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> (DEFERRED <span class="typed"><span class="type">Long(268435472L)</span><span >|</span></span> SUPERACCESSOR)) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43355">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20560">lateDEFERRED</a></span>))

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a id="43069">implClassPhase</a></span> = <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Global.scala.html#36566">erasurePhase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>

  <span class="comment">/** Return the implementation class of a trait; create a new one of one does not yet exist */</span>  
  <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a id="43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43152">iface</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43062">implClassMap</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Option[AddInterfaces.this.global.Symbol]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43360">c</a></span>) =&gt; <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43360">c</a></span>
    <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
      <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="#43069">implClassPhase</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a id="43364">implName</a></span> = <span class="typed"><span class="type">object AddInterfaces.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Name)AddInterfaces.this.global.Name</span><a href="../symtab/StdNames.scala.html#30573">implClassName</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)
        <span class="keyword">var</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43365">impl</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol</span><a href="../symtab/Types.scala.html#25678">decl</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a href="#43364">implName</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">object AddInterfaces.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>
        <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object AddInterfaces.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) {
          <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25256">cloneSymbolImpl</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)
          <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Name)Unit</span><a href="../symtab/Symbols.scala.html#25216">name</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a href="#43364">implName</a></span>
          <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>)
            <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> 
        }
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="../Global.scala.html#36586">compiles</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>)) <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,scala.tools.nsc.io.AbstractFile]</span><a href="../Global.scala.html#36582">symSource</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span>) = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../symtab/Symbols.scala.html#25301">sourceFile</a></span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25088">setPos</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span>.<span class="typed"><span class="type">(Long)Unit</span><a href="../symtab/Symbols.scala.html#25219">flags</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Symbols.scala.html#25218">flags</a></span> <span class="typed"><span class="type">(Long)Long</span><a id="3276">&amp;</a></span> <span class="typed"><span class="type">=&gt; Long</span><a id="3207">~</a></span>(<span class="typed"><span class="type">Int(128)</span><span >INTERFACE</span></span> <span class="typed"><span class="type">(Long)Long</span><a id="3166">|</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20562">lateINTERFACE</a></span>) <span class="typed"><span class="type">(Long)Long</span><a id="3275">|</a></span> <span class="typed"><span class="type">Long(137438953472L)</span><span >IMPLCLASS</span></span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">AddInterfaces.this.LazyImplClassType</span><span class="keyword">new</span></span> <span class="typed"><span class="type">AddInterfaces.this.LazyImplClassType</span><a href="#43071">LazyImplClassType</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>)
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43062">implClassMap</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>) = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;generating impl class &quot;)</span><span class="string">&quot;generating impl class &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; in &quot;)</span><span class="string">&quot; in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43152">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)<span class="comment">//debug</span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43365">impl</a></span>
      }
  }

  <span class="comment">/** &lt;p&gt;
   *    A lazy type to set the info of an implementation class 
   *    The parents of an implementation class for trait &lt;code&gt;iface&lt;/code&gt; are:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;superclass: &lt;code&gt;Object&lt;/code&gt;&lt;/li&gt;
   *    &lt;li&gt;
   *      mixin classes: mixin classes of &lt;code&gt;iface&lt;/code&gt; where every
   *      non-interface trait is mapped to its implementation class, followed
   *      by &lt;code&gt;iface&lt;/code&gt; itself.
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   *  &lt;p&gt;
   *    The declarations of a mixin class are:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;
   *      for every interface member of &lt;code&gt;iface&lt;/code&gt; its implemention
   *      method, if one is needed.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      every former member of &lt;code&gt;iface&lt;/code&gt; that is implementation only
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   */</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <span class="typed"><span class="type">class LazyImplClassType extends AddInterfaces.this.global.LazyType with ScalaObject</span><a id="43071">LazyImplClassType</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span id="43391"><a id="43396">iface</a></span></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">AddInterfaces.this.global.LazyType</span><a href="../symtab/Types.scala.html#22019">LazyType</a></span> {

    <span class="comment">/** Compute the decls of implementation class &lt;code&gt;implClass&lt;/code&gt;, 
     *  given the decls &lt;code&gt;ifaceDecls&lt;/code&gt; of its interface.
     *
     *  @param implClass  ...
     *  @param ifaceDecls ...
     *  @return           ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope</span><a id="43393">implDecls</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43401">implClass</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a id="43402">ifaceDecls</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22253">Scope</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22253">Scope</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a id="43403">decls</a></span> = <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Scope</span><a href="../symtab/Scopes.scala.html#22207">newScope</a></span>
      <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> ((<span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43402">ifaceDecls</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34624">lookup</a></span> <span class="typed"><span class="type">object AddInterfaces.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Name</span><a href="../symtab/StdNames.scala.html#30641">MIXIN_CONSTRUCTOR</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object AddInterfaces.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>)
        <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43403">decls</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43401">implClass</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,AddInterfaces.this.global.Name)AddInterfaces.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25102">newMethod</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43401">implClass</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">object AddInterfaces.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Name</span><a href="../symtab/StdNames.scala.html#30641">MIXIN_CONSTRUCTOR</a></span>) 
                     <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25821">UnitClass</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>))
      <span class="keyword">for</span> (<span class="typed"><span class="type">((AddInterfaces.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="43429">sym</a></span></span> &lt;- <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43402">ifaceDecls</a></span>.<span class="typed"><span class="type">=&gt; Iterator[AddInterfaces.this.global.Symbol]</span><a href="../symtab/Scopes.scala.html#34630">elements</a></span>) {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>)) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43068">needsImplMethod</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>)) {
            <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43430">impl</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25255">cloneSymbol</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43401">implClass</a></span>).<span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>).<span class="typed"><span class="type">(Long)AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span>(<span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20560">lateDEFERRED</a></span>)
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="../Global.scala.html#36586">compiles</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43401">implClass</a></span>)) <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43064">implMethodMap</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>) = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43430">impl</a></span>
            <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43403">decls</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43430">impl</a></span>
            <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20560">lateDEFERRED</a></span>
          }
        } <span class="keyword">else</span> {
          <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a href="../symtab/Symbols.scala.html#25212">owner</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43401">implClass</a></span> 
          <span class="comment">// note: OK to destructively modify the owner here, </span>
          <span class="comment">// because symbol will not be accessible from outside the sourcefile.</span>
          <span class="comment">// mixin constructors are corrected separately; see TermSymbol.owner</span>
          <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43403">decls</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43429">sym</a></span>
        }
      }
      <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43403">decls</a></span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a id="43394">complete</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43442">sym</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a id="43443">implType</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43444">tp</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43444">tp</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">AddInterfaces.this.global.ClassInfoType</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a id="43457">parents</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a id="43458">decls</a></span>, _) =&gt;
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="#43069">implClassPhase</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43442">sym</a></span>)
          <span class="typed"><span class="type">(List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Scope,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType</span><a href="../symtab/Types.scala.html#43446">ClassInfoType</a></span>(
            <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25778">ObjectClass</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]</span><a href="#43471" id="21335">::</a></span> (<span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43457">parents</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Type]</span><a id="21334">tail</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Type) =&gt; AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a href="#43072">mixinToImplClass</a></span>) <span class="typed"><span class="type">(List[AddInterfaces.this.global.Type])List[AddInterfaces.this.global.Type]</span><a href="#43472" id="21339">:::</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type*)List[AddInterfaces.this.global.Type]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43391">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>),
            <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope</span><a href="#43393">implDecls</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43442">sym</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43458">decls</a></span>),
            <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43442">sym</a></span>)
        <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">case</span></span> <a id="1">PolyType</a>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Symbol]</span><a id="43521">tparams</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43522">restpe</a></span>) =&gt;
          <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a href="#43443">implType</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43522">restpe</a></span>)
      }
      <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43442">sym</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Type)sym.type</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a href="#43443">implType</a></span>(<span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Run</span><a href="../Global.scala.html#21305">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Global.scala.html#36566">erasurePhase</a></span>)(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43391">iface</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>)))
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a id="43395">load</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43524">clazz</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) { <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a href="#43394">complete</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43524">clazz</a></span>) }
  }

  <span class="comment">/** If type &lt;code&gt;tp&lt;/code&gt; refers to a non-interface trait, return a
   *  reference to its implementation class. Otherwise return &lt;code&gt;tp&lt;/code&gt;
   *  itself.
   *
   *  @param tp ...
   *  @return   ...
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a id="43072">mixinToImplClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43475">tp</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = 
    <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a href="#43061" id="21757">erasure</a></span>(
      <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43475">tp</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">match</span></span> { <span class="comment">//@MATN: no normalize needed (comes after erasure)</span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43525">pre</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43526">sym</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a id="43527">args</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43526">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25191">needsImplClass</a></span>) =&gt;
          <span class="typed"><span class="type">(AddInterfaces.this.global.Type,AddInterfaces.this.global.Symbol,List[AddInterfaces.this.global.Type])AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#22031">typeRef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43525">pre</a></span>, <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43526">sym</a></span>), <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43527">args</a></span>)
        <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43475">tp</a></span>
      })

  <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.Type</span><a id="43073">transformMixinInfo</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43528">tp</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43528">tp</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">AddInterfaces.this.global.ClassInfoType</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a id="43529">parents</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a id="43530">decls</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43531">clazz</a></span>) =&gt;
      <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25191">needsImplClass</a></span>) {
        <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span> <span class="typed"><span class="type">(Long)clazz.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> <span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20562">lateINTERFACE</a></span>
        <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span>) <span class="comment">// generate an impl class</span>
      }
      <span class="keyword">val</span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a id="43532">parents1</a></span> =
        <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43529">parents</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>()
        <span class="keyword">else</span> {
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43529">parents</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a id="21332">head</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span>)
          <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25155">isTrait</a></span>) <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type</span><a href="#43060">erasedTypeRef</a></span>(<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25778">ObjectClass</a></span>) <span class="typed"><span class="type">(AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]</span><a href="#43551" id="21335">::</a></span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43529">parents</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Type]</span><a id="21334">tail</a></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43529">parents</a></span>
        }
      <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a id="43533">decls1</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43530">decls</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Symbol) =&gt; Boolean)AddInterfaces.this.global.Scope</span><a href="../symtab/Scopes.scala.html#34631">filter</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43556">sym</a></span> =&gt;
        <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>) <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43556">sym</a></span>)
        <span class="keyword">else</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43556">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25128">isType</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43556">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>))

      <span class="comment">//if (!clazz.isPackageClass) System.out.println(&quot;Decls of &quot;+clazz+&quot; after explicitOuter = &quot; + decls1);//DEBUG</span>
      <span class="comment">//if ((parents1 eq parents) &amp;&amp; (decls1 eq decls)) tp</span>
      <span class="comment">//else </span>
      <span class="typed"><span class="type">(List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Scope,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType</span><a href="../symtab/Types.scala.html#43446">ClassInfoType</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Type]</span><a href="#43532">parents1</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Scope</span><a href="#43533">decls1</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43531">clazz</a></span>)
    <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
      <span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43528">tp</a></span>
  }

<span class="comment">// Tree transformation --------------------------------------------------------------</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <span class="typed"><span class="type">class ChangeOwnerAndReturnTraverser extends AddInterfaces.this.global.ChangeOwnerTraverser with ScalaObject</span><a id="43074">ChangeOwnerAndReturnTraverser</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span id="43567"><a id="43574">oldowner</a></span></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><span id="43568"><a id="43575">newowner</a></span></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>)
          <span class="keyword">extends</span> <span class="typed"><span class="type">AddInterfaces.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43574">oldowner</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43575">newowner</a></span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)Unit</span><a id="43570">traverse</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43578">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
      <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43578">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Return</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43579">expr</a></span>) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43578">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#43559">oldowner</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43578">tree</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a href="../ast/Trees.scala.html#25359">symbol</a></span> = <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#43561">newowner</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
      }
      <span class="keyword">super</span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#43564">traverse</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43578">tree</a></span>)
    }
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a id="43075">ifaceMemberDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43586">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =
    <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43586">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25362">isDef</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43586">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)) <span class="typed"><span class="type">object AddInterfaces.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43068">needsImplMethod</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43586">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)) <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,(List[List[AddInterfaces.this.global.Symbol]]) =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef</span><a href="../ast/Trees.scala.html#22411">DefDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43586">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>, <span class="typed"><span class="type">List[List[AddInterfaces.this.global.Symbol]]</span><a id="43597">vparamss</a></span> =&gt; <span class="typed"><span class="type">object AddInterfaces.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43586">tree</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a id="43076">ifaceTemplate</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a id="43205">templ</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#22430">Template</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#22430">Template</a></span> =
    <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.LazyTreeCopier</span><a href="../ast/Trees.scala.html#22362">copy</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ValDef,List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#43612">Template</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43205">templ</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43205">templ</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#26971">parents</a></span>, <span class="typed"><span class="type">object AddInterfaces.this.global.emptyValDef</span><a href="../ast/Trees.scala.html#22403">emptyValDef</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43205">templ</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#26975">body</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Tree) =&gt; AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a href="#43075">ifaceMemberDef</a></span>)

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a id="43077">implMethodDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43664">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43665">ifaceMethod</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]</span><a href="#43064">implMethodMap</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Option[AddInterfaces.this.global.Symbol]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43665">ifaceMethod</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43666">implMethod</a></span>) =&gt;
        <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43664">tree</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Unit</span><a href="../ast/Trees.scala.html#25359">symbol</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43666">implMethod</a></span>
        <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#28563" class="keyword">new</a></span> <span class="typed"><span class="type">AddInterfaces.this.ChangeOwnerAndReturnTraverser</span><a href="#43074">ChangeOwnerAndReturnTraverser</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43665">ifaceMethod</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43666">implMethod</a></span>)(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43664">tree</a></span>)
      <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
        <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.Error</span><a id="27228" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Error</span><span id="5975"><a id="821">Error</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;implMethod missing for &quot;)</span><span class="string">&quot;implMethod missing for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43665">ifaceMethod</a></span>)
    }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a id="43078">implMemberDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43672">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =
    <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../ast/Trees.scala.html#25362">isDef</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43067">isInterfaceMember</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)) <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)Boolean</span><a href="#43068">needsImplMethod</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)) <span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a href="#43077">implMethodDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43672">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">object AddInterfaces.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>

  <span class="comment">/** Add mixin constructor definition 
   *    def $init$(): Unit = ()
   *  to `stats' unless there is already one.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a id="43079">addMixinConstructorDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43673">clazz</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43674">stats</a></span>: <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree]): <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree] = 
    <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">object AddInterfaces.this.global.treeInfo</span><a href="../ast/Trees.scala.html#22360">treeInfo</a></span>.<span class="typed"><span class="type">(List[AddInterfaces.this.global.treeInfo.trees.Tree])AddInterfaces.this.global.treeInfo.trees.Tree</span><a href="../ast/TreeInfo.scala.html#42446">firstConstructor</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43674">stats</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object AddInterfaces.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>) <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43674">stats</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,(List[List[AddInterfaces.this.global.Symbol]]) =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef</span><a href="../ast/Trees.scala.html#22411">DefDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43673">clazz</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25259">primaryConstructor</a></span>, <span class="typed"><span class="type">List[List[AddInterfaces.this.global.Symbol]]</span><a id="43681">vparamss</a></span> =&gt; <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(<span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>(), <span class="typed"><span class="type">(Any)AddInterfaces.this.global.Literal</span><a href="../ast/Trees.scala.html#22518">Literal</a></span>(<span class="typed"><span class="type">Unit</span><span >(</span></span>)))) <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]</span><a href="#43678" id="21335">::</a></span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43674">stats</a></span>
    
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a id="43080">implTemplate</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43693">clazz</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a id="43694">templ</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#22430">Template</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#22430">Template</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a id="43699">templ1</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
      <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ValDef,List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#43281">Template</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#26971">parents</a></span>, <span class="typed"><span class="type">object AddInterfaces.this.global.emptyValDef</span><a href="../ast/Trees.scala.html#22403">emptyValDef</a></span>, 
               <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a href="#43079">addMixinConstructorDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43693">clazz</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#26975">body</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Tree) =&gt; AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a href="#43078">implMemberDef</a></span>))
        .<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#25360">setSymbol</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43693">clazz</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position)AddInterfaces.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25101">newLocalDummy</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>))
    }
    <span class="typed"><span class="type">(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#28563" class="keyword">new</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43693">clazz</a></span>)(
      <span class="typed"><span class="type">(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#28563" class="keyword">new</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.ChangeOwnerTraverser</span><a href="../ast/Trees.scala.html#22555">ChangeOwnerTraverser</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43694">templ</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43699">templ1</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span>)(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43699">templ1</a></span>))
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a id="43081">implClassDefs</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43119">trees</a></span>: <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree]): <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[AddInterfaces.this.global.Tree]</span><a id="43722">buf</a></span> = <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[AddInterfaces.this.global.Tree]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[AddInterfaces.this.global.Tree]</span><a id="19925">ListBuffer</a></span>[Tree]
    <span class="keyword">for</span> (<span class="typed"><span class="type">((AddInterfaces.this.global.Tree) =&gt; Unit)Unit</span><span id="21366"><a id="43724">tree</a></span></span> &lt;- <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43119">trees</a></span>)
      <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43724">tree</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a id="43726">impl</a></span>) =&gt;
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43724">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25191">needsImplClass</a></span>)
            <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[AddInterfaces.this.global.Tree]</span><a href="#43722">buf</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)Unit</span><a id="33306">+=</a></span> {
              <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43727">clazz</a></span> = <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43724">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>).<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25237">initialize</a></span>
              <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef</span><a href="../ast/Trees.scala.html#22391">ClassDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43727">clazz</a></span>, <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="#43080">implTemplate</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43727">clazz</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43726">impl</a></span>))
            }
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
      }
    <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[AddInterfaces.this.global.Tree]</span><a href="#43722">buf</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Tree]</span><a id="33309">toList</a></span>
  }

  <span class="comment">/** Add calls to supermixin constructors
   *  &lt;blockquote&gt;&lt;pre&gt;super[mix].$init$()&lt;/pre&gt;&lt;/blockquote&gt;
   *  to &lt;code&gt;tree&lt;/code&gt;. &lt;code&gt;tree&lt;/code&gt; which is assumed to be the body
   *  of a constructor of class &lt;code&gt;clazz&lt;/code&gt;.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a id="43082">addMixinConstructorCalls</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43271">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43272">clazz</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
    <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a id="43735">mixinConstructorCall</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43737">impl</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(AddInterfaces.this.global.Apply)AddInterfaces.this.global.Apply</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43271">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
      <span class="typed"><span class="type">(AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Select</span><a href="../ast/Trees.scala.html#22509">Select</a></span>(<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22505">This</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43272">clazz</a></span>), <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43737">impl</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25259">primaryConstructor</a></span>), <span class="typed"><span class="type">object Nil</span><a id="335">List</a></span>())
    }
    <span class="keyword">val</span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43736">mixinConstructorCalls</a></span>: <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
      <span class="keyword">for</span> (<span class="typed"><span class="type">((AddInterfaces.this.global.Symbol) =&gt; AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]</span><span id="21362"><span id="21367"><span id="43749"><a id="43754">mc</a></span></span></span></span> &lt;- <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43272">clazz</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25273">mixinClasses</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Symbol]</span><a id="21385">reverse</a></span>
           <span class="keyword">if</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43749">mc</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">=&gt; Long</span><a href="../symtab/Flags.scala.html#20562">lateINTERFACE</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43749">mc</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25855">ScalaObjectClass</a></span>)
      <span class="keyword">yield</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a href="#43735">mixinConstructorCall</a></span>(<span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43754">mc</a></span>))
    }
    (<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43271">tree</a></span>: @<span class="typed"><span class="type">AddInterfaces.this.global.Tree @unchecked</span><a href="../ast/Trees.scala.html#22371">unchecked</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">AddInterfaces.this.global.Block</span><span class="keyword">case</span></span> <a id="1">Block</a>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43755">stats</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43756">expr</a></span>) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree], AddInterfaces.this.global.Tree, List[AddInterfaces.this.global.Tree])</span><span id="23590"><a href="#43763" id="449">(</a></span></span><span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><span id="43763"><span id="43758"><a href="#43757" id="23578">presuper</a></span></span></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span id="43764"><span id="43759"><a href="#43757" id="23580">supercall</a></span></span></span> <a id="1">::</a> <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><span id="43765"><span id="43760"><a href="#43757" id="23582">rest</a></span></span></span>) = <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43755">stats</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Tree) =&gt; Boolean)(List[AddInterfaces.this.global.Tree], List[AddInterfaces.this.global.Tree])</span><a id="21359">span</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43762">_</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span>(<span class="typed"><span class="type">Long(137438953472L)</span><span >PRESUPER</span></span>))
        <span class="comment">//assert(supercall.symbol.isClassConstructor, supercall)</span>
        <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.LazyTreeCopier</span><a href="../ast/Trees.scala.html#22362">copy</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block</span><a href="../ast/Trees.scala.html#43613">Block</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43271">tree</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43758">presuper</a></span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a href="#43781" id="21339">:::</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43759">supercall</a></span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]</span><a href="#43782" id="21335">::</a></span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43736">mixinConstructorCalls</a></span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a href="#43783" id="21339">:::</a></span> <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43760">rest</a></span>), <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43756">expr</a></span>)
    }
  }

  <span class="keyword">protected</span> <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Transformer</span><span id="43084"><a id="43083">mixinTransformer</a></span></span> = <span class="typed"><span class="type">template $anon extends AddInterfaces.this.global.Transformer</span><a id="43086" class="keyword">new</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Transformer</span><a href="../ast/Trees.scala.html#22548">Transformer</a></span> {
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]</span><a id="43111">transformStats</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43114">stats</a></span>: <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43115">exprOwner</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="526">List</a></span>[Tree] =
      (<span class="keyword">super</span>.<span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#43105">transformStats</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43114">stats</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43115">exprOwner</a></span>) <span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a href="#43116" id="21339">:::</a></span>
       <span class="keyword">super</span>.<span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]</span><a href="../ast/Trees.scala.html#43105">transformStats</a></span>(<span class="typed"><span class="type">(List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]</span><a href="#43081">implClassDefs</a></span>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43114">stats</a></span>), <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43115">exprOwner</a></span>))
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a id="43112">transform</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43122">tree</a></span>: <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43123">sym</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43124">tree1</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">AddInterfaces.this.global.ClassDef</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Modifiers</span><a id="43147">mods</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a id="43148">name</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeDef]</span><a id="43149">tparams</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a id="43150">impl</a></span>) <span class="keyword">if</span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25191">needsImplClass</a></span>) =&gt;
          <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>).<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25237">initialize</a></span> <span class="comment">// to force lateDEFERRED flags</span>
          <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Modifiers,AddInterfaces.this.global.Name,List[AddInterfaces.this.global.TypeDef],AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef</span><a href="../ast/Trees.scala.html#43156">ClassDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Modifiers</span><a href="#43147">mods</a></span> <span class="typed"><span class="type">(Long)AddInterfaces.this.global.Modifiers</span><a href="../ast/Trees.scala.html#42020">|</a></span> <span class="typed"><span class="type">Long(128L)</span><span >INTERFACE</span></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a href="#43148">name</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeDef]</span><a href="#43149">tparams</a></span>, <span class="typed"><span class="type">(AddInterfaces.this.global.Template)AddInterfaces.this.global.Template</span><a href="#43076">ifaceTemplate</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Template</span><a href="#43150">impl</a></span>))
        <span class="typed"><span class="type">AddInterfaces.this.global.DefDef</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">AddInterfaces.this.global.Modifiers</span><a id="43248">mods</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a id="43249">name</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeDef]</span><a id="43250">tparams</a></span>, <span class="typed"><span class="type">List[List[AddInterfaces.this.global.ValDef]]</span><a id="43251">vparamss</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43252">tpt</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a id="43253">rhs</a></span>) 
        <span class="keyword">if</span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25146">isClassConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25187">isPrimaryConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#25901">ArrayClass</a></span>) =&gt;
          <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Modifiers,AddInterfaces.this.global.Name,List[AddInterfaces.this.global.TypeDef],List[List[AddInterfaces.this.global.ValDef]],AddInterfaces.this.global.Tree,AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Modifiers</span><a href="#43248">mods</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Name</span><a href="#43249">name</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeDef]</span><a href="#43250">tparams</a></span>, <span class="typed"><span class="type">List[List[AddInterfaces.this.global.ValDef]]</span><a href="#43251">vparamss</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43252">tpt</a></span>, 
                      <span class="typed"><span class="type">(AddInterfaces.this.global.Tree,AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a href="#43082">addMixinConstructorCalls</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43253">rhs</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)) <span class="comment">// (3)</span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Template</span><span class="keyword">case</span></span> <a id="1">Template</a>(<span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43292">parents</a></span>, <span class="typed"><span class="type">AddInterfaces.this.global.ValDef</span><a id="43293">self</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a id="43294">body</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeTree]</span><a id="43295">parents1</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[AddInterfaces.this.global.Type]</span><a href="../symtab/Types.scala.html#25659">parents</a></span> <span class="typed"><span class="type">((AddInterfaces.this.global.Type) =&gt; AddInterfaces.this.global.TypeTree)List[AddInterfaces.this.global.TypeTree]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a id="43299">t</a></span> =&gt; <span class="typed"><span class="type">(AddInterfaces.this.global.Type)AddInterfaces.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Type</span><a href="#43299">t</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)AddInterfaces.this.global.TypeTree</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)
          <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ValDef,List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template</span><a href="../ast/Trees.scala.html#43166">Template</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.TypeTree]</span><a href="#43295">parents1</a></span>, <span class="typed"><span class="type">object AddInterfaces.this.global.emptyValDef</span><a href="../ast/Trees.scala.html#22403">emptyValDef</a></span>, <span class="typed"><span class="type">List[AddInterfaces.this.global.Tree]</span><a href="#43294">body</a></span>)
        <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">This</a>(_) =&gt;
          <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25191">needsImplClass</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43318">impl</a></span> = <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol</span><a href="#43070">implClass</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span>)
            <span class="keyword">var</span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a id="43319">owner</a></span> = <span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>
            <span class="typed"><span class="type">Unit</span><a href="#43320" class="keyword">while</a></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43319">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43123">sym</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43319">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43318">impl</a></span>) <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43319">owner</a></span> = <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43319">owner</a></span>.<span class="typed"><span class="type">=&gt; AddInterfaces.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>;
            <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43319">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43318">impl</a></span>) <span class="typed"><span class="type">(AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#22505">This</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Symbol</span><a href="#43318">impl</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>
            <span class="keyword">else</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>
          } <span class="keyword">else</span> <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>
<span class="comment">/* !!!
        case Super(qual, mix) =&gt;
          val mix1 = mix
            if (mix == nme.EMPTY.toTypeName) mix
            else {
              val ps = atPhase(currentRun.erasurePhase) {
                sym.info.parents dropWhile (p =&gt; p.symbol.name != mix)
              }
              assert(!ps.isEmpty, tree);
              if (ps.head.symbol.needsImplClass) implClass(ps.head.symbol).name 
              else mix
            }
          if (sym.needsImplClass) Super(implClass(sym), mix1) setPos tree.pos
          else copy.Super(tree, qual, mix1)
*/</span>
        <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43122">tree</a></span>
      }
      <span class="keyword">super</span>.<span class="typed"><span class="type">(AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree</span><a href="../ast/Trees.scala.html#43096">transform</a></span>(<span class="typed"><span class="type">AddInterfaces.this.global.Tree</span><a href="#43124">tree1</a></span>)
    }
  }
}
<span class="comment">/*
    val ensureNoEscapes = new TypeTraverser {
      def ensureNoEscape(sym: Symbol) {
        if (sym.hasFlag(PRIVATE)) {
          var o = currentOwner;
          while (o != NoSymbol &amp;&amp; o != sym.owner &amp;&amp; !o.isLocal &amp;&amp; !o.hasFlag(PRIVATE))
          o = o.owner
          if (o == sym.owner) sym.makeNotPrivate(base);
        }
      }
      def traverse(t: Type): TypeTraverser = {
        t match {
          case TypeRef(qual, sym, args) =&gt;
            ensureNoEscape(sym)
            mapOver(t)
          case ClassInfoType(parents, decls, clazz) =&gt;
            parents foreach { p =&gt; traverse; () }
            traverse(t.typeOfThis)
          case _ =&gt; 
            mapOver(t)
        }
        this
      }
    }

*/</span>

        </pre>
    </body>
</html>