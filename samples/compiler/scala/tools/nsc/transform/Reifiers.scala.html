<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/Reifiers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform
<span class="keyword">import</span> scala.tools.nsc.symtab.SymbolTable
<span class="keyword">import</span> scala.reflect
<span class="keyword">import</span> collection.mutable.HashMap

/** Functions to reify (and un-reify) symbols, types, and trees.
 *  These can be used with only a symbol table; they do not
 *  need a full compiler.
 *
 *  @author Gilles Dubochet, Lex Spoon
 */
<span class="keyword">trait</span> <a title="trait Reifiers extends java.lang.Object with ScalaObject" id="13285">Reifiers</a> <span title="ScalaObject">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.symtab.SymbolTable" id="322044">symbols</a>: <a href="../symtab/SymbolTable.scala.html#10328" title="scala.tools.nsc.symtab.SymbolTable">SymbolTable</a>
  <span class="keyword">import</span> symbols._

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String,sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="322046">mkGlobalSymbol</a>(<a title="String" id="322063">fullname</a>: <span title="String">String</span>, <a title="Reifiers.this.symbols.Symbol" id="322064">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Reifiers.this.symbols.Symbol">Symbol</a>): reflect.<span title="scala.reflect.Symbol">Symbol</span> =
    <span title="scala.reflect.Symbol" class="keyword">if</span> (<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) reflect.<a title="(fullname: String)scala.reflect.Class" id="27162">Class</a>(<a href="#322063" title="String">fullname</a>)
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> (<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26896" title="=&gt; Boolean">isType</a>) reflect.<a title="(fullname: String,tpe: scala.reflect.Type)scala.reflect.TypeField" id="27267">TypeField</a>(<a href="#322063" title="String">fullname</a>, <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Reifiers.this.symbols.Type">info</a>))
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> (<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) reflect.<a title="(fullname: String,tpe: scala.reflect.Type)scala.reflect.Method" id="27594">Method</a>(<a href="#322063" title="String">fullname</a>, <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Reifiers.this.symbols.Type">info</a>))
    <span class="keyword">else</span> reflect.<a title="(fullname: String,tpe: scala.reflect.Type)scala.reflect.Field" id="27345">Field</a>(<a href="#322063" title="String">fullname</a>, <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322064" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Reifiers.this.symbols.Type">info</a>));

  <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="322047">reify</a>(<a title="Reifiers.this.symbols.Symbol" id="322162">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Reifiers.this.symbols.Symbol">Symbol</a>): reflect.<span title="scala.reflect.Symbol">Symbol</span> = {
    <span title="scala.reflect.Symbol" class="keyword">if</span> (<a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26939" title="(x$1: Boolean)Boolean">isRoot</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26940" title="=&gt; Boolean">isRootPackage</a> <span title="(x$1: Boolean)Boolean">||</span> <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26942" title="=&gt; Boolean">isEmptyPackageClass</a> || <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26941" title="=&gt; Boolean">isEmptyPackage</a>)
      reflect.<span title="object scala.reflect.RootSymbol">RootSymbol</span>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> (<a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Reifiers.this.symbols.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a>) 
      reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>
    <span class="keyword">else</span> <a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Reifiers.this.symbols.Symbol">owner</a>) <span title="scala.reflect.Symbol" class="keyword">match</span> {
      <span title="reflect.NoSymbol.type" class="keyword">case</span> reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span> =&gt; 
        reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>;
      <span title="scala.reflect.Symbol" class="keyword">case</span> reflect.<span title="object scala.reflect.RootSymbol">RootSymbol</span> =&gt;
        <a href="#322046" title="(fullname: String,sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">mkGlobalSymbol</a>(<a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>(), <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>)
      <span title="scala.reflect.Symbol" class="keyword">case</span> reflect.Class(<a title="String" id="322346">ownername</a>) =&gt;
        <a href="#322046" title="(fullname: String,sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">mkGlobalSymbol</a>(<a href="#322346" title="(x$1: Any)java.lang.String">ownername</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> + <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Reifiers.this.symbols.Name">name</a>, <a href="#322162" title="Reifiers.this.symbols.Symbol">sym</a>)
      <span title="reflect.NoSymbol.type" class="keyword">case</span> _ =&gt;
        reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>
    }
  }

  <span class="keyword">var</span> <a title="Boolean" id="322049">_log_reify_type_</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type" id="322051">reify</a>(<a title="Reifiers.this.symbols.Type" id="322160">tp</a>: <a href="../symtab/Types.scala.html#26205" title="Reifiers.this.symbols.Type">Type</a>): reflect.<span title="scala.reflect.Type">Type</span> = <a href="#322160" title="Reifiers.this.symbols.Type">tp</a> <span title="scala.reflect.Type" class="keyword">match</span> {
    <span title="reflect.NoType.type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26217" title="object Reifiers.this.symbols.ErrorType">ErrorType</a> =&gt;
      reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="reflect.NoType.type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26219" title="object Reifiers.this.symbols.WildcardType">WildcardType</a> =&gt;
      <span title="Unit" class="keyword">if</span> (<a href="#322049" title="=&gt; Boolean">_log_reify_type_</a>) <span title="(x: Any)Unit">println</span>(<span title="java.lang.String(&quot;cannot handle WildcardType&quot;)" class="string">&quot;cannot handle WildcardType&quot;</span>)
    reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="reflect.NoType.type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a> =&gt;
      reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="reflect.NoType.type" class="keyword">case</span> <a href="../symtab/Types.scala.html#26226" title="object Reifiers.this.symbols.NoPrefix">NoPrefix</a> =&gt;
      reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="scala.reflect.ThisType" class="keyword">case</span> ThisType(<a title="Reifiers.this.symbols.Symbol" id="322369">sym</a>) =&gt;
      <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="322372">rsym</a> = <a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#322369" title="Reifiers.this.symbols.Symbol">sym</a>)
      reflect.<a title="(clazz: scala.reflect.Symbol)scala.reflect.ThisType" id="27381">ThisType</a>(<a href="#322372" title="scala.reflect.Symbol">rsym</a>)
    <span title="scala.reflect.SingleType" class="keyword">case</span> SingleType(<a title="Reifiers.this.symbols.Type" id="322410">pre</a>, <a title="Reifiers.this.symbols.Symbol" id="322411">sym</a>) =&gt;
      reflect.<a title="(pre: scala.reflect.Type,sym: scala.reflect.Symbol)scala.reflect.SingleType" id="27525">SingleType</a>(<a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322410" title="Reifiers.this.symbols.Type">pre</a>), <a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#322411" title="Reifiers.this.symbols.Symbol">sym</a>))
    <span title="scala.reflect.Type" class="keyword">case</span> ConstantType(<a title="Reifiers.this.symbols.Constant" id="322479">value</a>) =&gt;
      <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322479" title="Reifiers.this.symbols.Constant">value</a>.<a href="../symtab/Constants.scala.html#42811" title="=&gt; Reifiers.this.symbols.Type">tpe</a>)
    <span title="scala.reflect.Type" class="keyword">case</span> TypeRef(<a title="Reifiers.this.symbols.Type" id="322498">pre</a>, <a title="Reifiers.this.symbols.Symbol" id="322499">sym</a>, <a title="List[Reifiers.this.symbols.Type]" id="322500">args</a>) =&gt;
      <span class="keyword">val</span> <a title="scala.reflect.Type" id="322503">rpre</a> = <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322498" title="Reifiers.this.symbols.Type">pre</a>)
      <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="322504">rsym</a> = <a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#322499" title="Reifiers.this.symbols.Symbol">sym</a>)
      <span class="keyword">val</span> <a title="List[scala.reflect.Type]" id="322505">rargs</a> = <a href="#322500" title="(f: (Reifiers.this.symbols.Type) =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Type,List[scala.reflect.Type],List[Reifiers.this.symbols.Type]])List[scala.reflect.Type]">args</a> <span title="scala.collection.generic.BuilderFactory[scala.reflect.Type,List[scala.reflect.Type],List#Coll]">map</span> <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>
      <span class="keyword">val</span> <a title="scala.reflect.PrefixedType" id="322506">beforeArgs</a> = reflect.<a title="(pre: scala.reflect.Type,sym: scala.reflect.Symbol)scala.reflect.PrefixedType" id="27384">PrefixedType</a>(<a href="#322503" title="scala.reflect.Type">rpre</a>, <a href="#322504" title="scala.reflect.Symbol">rsym</a>)
      <span title="scala.reflect.Type" class="keyword">if</span> (<a href="#322505" title="List[scala.reflect.Type]">rargs</a>.<span title="=&gt; Boolean">isEmpty</span>)
	<a href="#322506" title="scala.reflect.PrefixedType">beforeArgs</a>
      <span class="keyword">else</span> <span title="scala.reflect.Type" class="keyword">if</span> (<a href="#322503" title="(x$1: AnyRef)Boolean">rpre</a> <span title="(x$1: Boolean)Boolean">==</span> reflect.<span title="object scala.reflect.NoType">NoType</span> || <a href="#322504" title="(x$1: AnyRef)Boolean">rsym</a> == reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>)
	<a href="#322506" title="scala.reflect.PrefixedType">beforeArgs</a>
      <span class="keyword">else</span>
	reflect.<a title="(tpe: scala.reflect.Type,args: List[scala.reflect.Type])scala.reflect.AppliedType" id="27609">AppliedType</a>(<a href="#322506" title="scala.reflect.PrefixedType">beforeArgs</a>, <a href="#322505" title="List[scala.reflect.Type]">rargs</a>)
    <span title="scala.reflect.TypeBounds" class="keyword">case</span> TypeBounds(<a title="Reifiers.this.symbols.Type" id="322708">lo</a>, <a title="Reifiers.this.symbols.Type" id="322709">hi</a>) =&gt;
      reflect.<a title="(lo: scala.reflect.Type,hi: scala.reflect.Type)scala.reflect.TypeBounds" id="27606">TypeBounds</a>(<a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322708" title="Reifiers.this.symbols.Type">lo</a>), <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322709" title="Reifiers.this.symbols.Type">hi</a>))
    <span title="reflect.NoType.type" class="keyword">case</span> RefinedType(<a title="List[Reifiers.this.symbols.Type]" id="322778">parents</a>, <a title="Reifiers.this.symbols.Scope" id="322779">defs</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (<a href="#322049" title="=&gt; Boolean">_log_reify_type_</a>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot handle RefinedType &quot;</span>+<a href="#322160" title="Reifiers.this.symbols.Type">tp</a>); reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="reflect.NoType.type" class="keyword">case</span> ClassInfoType(<a title="List[Reifiers.this.symbols.Type]" id="322791">parents</a>, <a title="Reifiers.this.symbols.Scope" id="322792">defs</a>, <a title="Reifiers.this.symbols.Symbol" id="322793">clazz</a>) =&gt;
      <span title="Unit" class="keyword">if</span> (<a href="#322049" title="=&gt; Boolean">_log_reify_type_</a>) <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot handle ClassInfoType &quot;</span>+<a href="#322160" title="Reifiers.this.symbols.Type">tp</a>); reflect.<span title="object scala.reflect.NoType">NoType</span>
    <span title="scala.reflect.MethodType" class="keyword">case</span> MethodType(<a title="List[Reifiers.this.symbols.Symbol]" id="322804">params</a>, <a title="Reifiers.this.symbols.Type" id="322805">result</a>) =&gt;
      reflect.<a title="(formals: List[scala.reflect.Symbol],restpe: scala.reflect.Type)scala.reflect.MethodType" id="27375">MethodType</a>(<a href="#322804" title="List[Reifiers.this.symbols.Symbol]">params</a>.<span title="(f: (Reifiers.this.symbols.Symbol) =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List[Reifiers.this.symbols.Symbol]])List[scala.reflect.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List#Coll]">(</span><a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>), <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322805" title="Reifiers.this.symbols.Type">result</a>))
    <span title="scala.reflect.PolyType" class="keyword">case</span> PolyType(<a title="List[Reifiers.this.symbols.Symbol]" id="322903">tparams</a>, <a title="Reifiers.this.symbols.Type" id="322904">result</a>) =&gt;
      <span class="keyword">val</span> <a title="List[(scala.reflect.Type, scala.reflect.Type)]" id="322907">boundss</a> =
	<span class="keyword">for</span> {
	  <a title="Reifiers.this.symbols.Symbol" id="323044">param</a> &lt;- <a href="#322903" title="(f: (Reifiers.this.symbols.Symbol) =&gt; (Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds))(implicit bf: scala.collection.generic.BuilderFactory[(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds),List[(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds)],List[Reifiers.this.symbols.Symbol]])List[(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds)]">tparams</a>
	  TypeBounds<a title="(Reifiers.this.symbols.TypeBounds, Reifiers.this.symbols.Type, Reifiers.this.symbols.Type)" id="32686">(</a><a href="#322917" title="Reifiers.this.symbols.Type" id="323047">lo</a>,<a href="#322917" title="Reifiers.this.symbols.Type" id="323048">hi</a>) = <a href="#323044" title="Reifiers.this.symbols.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; Reifiers.this.symbols.Type">info</a>.<a href="../symtab/Types.scala.html#30188" title="=&gt; Reifiers.this.symbols.TypeBounds">bounds</a>
	} <span class="keyword">yield</span> <span title="(_1: scala.reflect.Type,_2: scala.reflect.Type)(scala.reflect.Type, scala.reflect.Type)">(</span><a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#323047" title="Reifiers.this.symbols.Type">lo</a>), <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#323048" title="Reifiers.this.symbols.Type">hi</a>))
	  
      reflect.<a title="(typeParams: List[scala.reflect.Symbol],typeBounds: List[(scala.reflect.Type, scala.reflect.Type)],resultType: scala.reflect.Type)scala.reflect.PolyType" id="27513">PolyType</a>(
	<a href="#322903" title="List[Reifiers.this.symbols.Symbol]">tparams</a>.<span title="(f: (Reifiers.this.symbols.Symbol) =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List[Reifiers.this.symbols.Symbol]])List[scala.reflect.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List#Coll]">(</span><a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>),
	<a href="#322907" title="List[(scala.reflect.Type, scala.reflect.Type)]">boundss</a>,
	<a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#322904" title="Reifiers.this.symbols.Type">result</a>))
      //todo: treat ExistentialType
    <span title="scala.reflect.Type" class="keyword">case</span> AnnotatedType(<a title="List[Reifiers.this.symbols.AnnotationInfo]" id="323249">annots</a>, <a title="Reifiers.this.symbols.Type" id="323250">tp</a>, _) =&gt;
      <a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#323250" title="Reifiers.this.symbols.Type">tp</a>)
    <span title="reflect.NoType.type" class="keyword">case</span> _ =&gt;
      <span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;could not reify: &quot;</span> + <a href="#322160" title="Reifiers.this.symbols.Type">tp</a>)
      reflect.<span title="object scala.reflect.NoType">NoType</span>
  }


  /** This is woefully incomplete.  It is barely enough
   *  to process the types of Constant's .
   */
  <span class="keyword">def</span> <a title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type" id="322052">unreify</a>(<a title="scala.reflect.Type" id="323272">tpe</a>: reflect.<span title="scala.reflect.Type">Type</span>): <a href="../symtab/Types.scala.html#26205" title="Reifiers.this.symbols.Type">Type</a> =
    <a href="#323272" title="scala.reflect.Type">tpe</a> <span title="Reifiers.this.symbols.Type" class="keyword">match</span> {
      <span title="Reifiers.this.symbols.NoPrefix.type" class="keyword">case</span> reflect.<a title="object scala.reflect.NoPrefix" id="27207">NoPrefix</a> =&gt; <a href="../symtab/Types.scala.html#26226" title="object Reifiers.this.symbols.NoPrefix">NoPrefix</a>
      <span title="Reifiers.this.symbols.NoType.type" class="keyword">case</span> reflect.<span title="object scala.reflect.NoType">NoType</span> =&gt; <a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span title="Reifiers.this.symbols.NoType.type" class="keyword">case</span> reflect.NamedType(<a title="String" id="323305">fullname</a>) =&gt;
	//NamedType(fullname)
	<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;NamedType: &quot;</span> + <a href="#323305" title="String">fullname</a>)
	<a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Array&quot;)" class="string">&quot;scala.Array&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28393" title="=&gt; Reifiers.this.symbols.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;java.lang.String&quot;)" class="string">&quot;java.lang.String&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28333" title="=&gt; Reifiers.this.symbols.Symbol">StringClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Unit&quot;)" class="string">&quot;scala.Unit&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28277" title="=&gt; Reifiers.this.symbols.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Boolean&quot;)" class="string">&quot;scala.Boolean&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28293" title="=&gt; Reifiers.this.symbols.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Byte&quot;)" class="string">&quot;scala.Byte&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28279" title="=&gt; Reifiers.this.symbols.Symbol">ByteClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Short&quot;)" class="string">&quot;scala.Short&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28281" title="=&gt; Reifiers.this.symbols.Symbol">ShortClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Int&quot;)" class="string">&quot;scala.Int&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28285" title="=&gt; Reifiers.this.symbols.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Long&quot;)" class="string">&quot;scala.Long&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28287" title="=&gt; Reifiers.this.symbols.Symbol">LongClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Float&quot;)" class="string">&quot;scala.Float&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28289" title="=&gt; Reifiers.this.symbols.Symbol">FloatClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.PrefixedType(_, reflect.Class(<span title="java.lang.String(&quot;scala.Double&quot;)" class="string">&quot;scala.Double&quot;</span>)) =&gt;
        <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28291" title="=&gt; Reifiers.this.symbols.Symbol">DoubleClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span title="Reifiers.this.symbols.NoType.type" class="keyword">case</span> reflect.PrefixedType(<a title="scala.reflect.Type" id="323354">pre</a>, <a title="scala.reflect.Symbol" id="323355">sym</a>) =&gt; 
	<a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span title="Reifiers.this.symbols.SingleType" class="keyword">case</span> reflect.SingleType(<a title="scala.reflect.Type" id="323358">pre</a>, <a title="scala.reflect.Symbol" id="323359">sym</a>) =&gt; 
	<a href="../symtab/Types.scala.html#52915" title="(pre: Reifiers.this.symbols.Type,sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.SingleType">SingleType</a>(<a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323358" title="scala.reflect.Type">pre</a>), <a href="#322053" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a>(<a href="#323359" title="scala.reflect.Symbol">sym</a>))
      <span title="Reifiers.this.symbols.ThisType" class="keyword">case</span> reflect.ThisType(<a title="scala.reflect.Symbol" id="323407">clazz</a>) =&gt; 
	<a href="../symtab/Types.scala.html#52964" title="(sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.ThisType">ThisType</a>(<a href="#322053" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a>(<a href="#323407" title="scala.reflect.Symbol">clazz</a>))
      <span title="Reifiers.this.symbols.Type" class="keyword">case</span> reflect.AppliedType(<a title="scala.reflect.Type" id="323430">tpe</a>, <a title="List[scala.reflect.Type]" id="323431">args</a>) =&gt; 
	<span class="keyword">val</span> <a title="Reifiers.this.symbols.Type" id="323434">untpe</a> = <a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323430" title="scala.reflect.Type">tpe</a>)
	<span title="Reifiers.this.symbols.Type" class="keyword">if</span> (<a href="#323434" title="(x$1: AnyRef)Boolean">untpe</a> == <a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>)
	  <a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>
	<span class="keyword">else</span>
	  <a href="../symtab/Types.scala.html#26302" title="(tycon: Reifiers.this.symbols.Type,args: List[Reifiers.this.symbols.Type])Reifiers.this.symbols.Type">appliedType</a>(<a href="#323434" title="Reifiers.this.symbols.Type">untpe</a>, <a href="#323431" title="List[scala.reflect.Type]">args</a>.<span title="(f: (scala.reflect.Type) =&gt; Reifiers.this.symbols.Type)(implicit bf: scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type],List[scala.reflect.Type]])List[Reifiers.this.symbols.Type]">map</span><span title="scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type],List#Coll]">(</span><a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>))
      <span title="Reifiers.this.symbols.TypeBounds" class="keyword">case</span> reflect.TypeBounds(<a title="scala.reflect.Type" id="323494">lo</a>, <a title="scala.reflect.Type" id="323495">hi</a>) =&gt; 
	<a href="../symtab/Types.scala.html#148735" title="(lo: Reifiers.this.symbols.Type,hi: Reifiers.this.symbols.Type)Reifiers.this.symbols.TypeBounds">TypeBounds</a>(<a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323494" title="scala.reflect.Type">lo</a>), <a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323495" title="scala.reflect.Type">hi</a>))
      <span title="Reifiers.this.symbols.MethodType" class="keyword">case</span> reflect.MethodType(<a title="List[scala.reflect.Symbol]" id="323536">params</a>, <a title="scala.reflect.Type" id="323537">restpe</a>) =&gt;
	<a href="../symtab/Types.scala.html#43895" title="(params: List[Reifiers.this.symbols.Symbol],resultType: Reifiers.this.symbols.Type)Reifiers.this.symbols.MethodType">MethodType</a>(<a href="#323536" title="List[scala.reflect.Symbol]">params</a>.<span title="(f: (scala.reflect.Symbol) =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol],List[scala.reflect.Symbol]])List[Reifiers.this.symbols.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol],List#Coll]">(</span><a href="#322053" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a>), <a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323537" title="scala.reflect.Type">restpe</a>))
      <span title="Reifiers.this.symbols.PolyType" class="keyword">case</span> reflect.PolyType(<a title="List[scala.reflect.Symbol]" id="323611">typeParams</a>, <a title="List[(scala.reflect.Type, scala.reflect.Type)]" id="323612">typeBounds</a>, <a title="scala.reflect.Type" id="323613">resultType</a>) =&gt;
	<a href="../symtab/Types.scala.html#43825" title="(typeParams: List[Reifiers.this.symbols.Symbol],resultType: Reifiers.this.symbols.Type)Reifiers.this.symbols.PolyType">PolyType</a>(<a href="#323611" title="List[scala.reflect.Symbol]">typeParams</a>.<span title="(f: (scala.reflect.Symbol) =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol],List[scala.reflect.Symbol]])List[Reifiers.this.symbols.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol],List#Coll]">(</span><a href="#322053" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a>), <a href="#322052" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a>(<a href="#323613" title="scala.reflect.Type">resultType</a>))
      //todo: treat ExistentialType
      <span title="Reifiers.this.symbols.NoType.type" class="keyword">case</span> _ =&gt; <a href="../symtab/Types.scala.html#26224" title="object Reifiers.this.symbols.NoType">NoType</a>
    }


  /** This is woefully incomplete.  It is barely enough
   *  to process the types of Constant's .
   */
  <span class="keyword">def</span> <a title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol" id="322053">unreify</a>(<a title="scala.reflect.Symbol" id="323388">symbol</a>: reflect.<span title="scala.reflect.Symbol">Symbol</span>): <a href="../symtab/Symbols.scala.html#26127" title="Reifiers.this.symbols.Symbol">Symbol</a> =
    <a href="#323388" title="scala.reflect.Symbol">symbol</a> <span title="Reifiers.this.symbols.Symbol" class="keyword">match</span> {
      <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> reflect.Class(<a title="String" id="323673">fullname</a>) =&gt; 
	<a href="#323673" title="String">fullname</a> <span title="Reifiers.this.symbols.Symbol" class="keyword">match</span> {
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Unit&quot;)" class="string">&quot;scala.Unit&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28277" title="=&gt; Reifiers.this.symbols.Symbol">UnitClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Boolean&quot;)" class="string">&quot;scala.Boolean&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28293" title="=&gt; Reifiers.this.symbols.Symbol">BooleanClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Byte&quot;)" class="string">&quot;scala.Byte&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28279" title="=&gt; Reifiers.this.symbols.Symbol">ByteClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Short&quot;)" class="string">&quot;scala.Short&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28281" title="=&gt; Reifiers.this.symbols.Symbol">ShortClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Int&quot;)" class="string">&quot;scala.Int&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28285" title="=&gt; Reifiers.this.symbols.Symbol">IntClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Long&quot;)" class="string">&quot;scala.Long&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28287" title="=&gt; Reifiers.this.symbols.Symbol">LongClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Float&quot;)" class="string">&quot;scala.Float&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28289" title="=&gt; Reifiers.this.symbols.Symbol">FloatClass</a>
	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Double&quot;)" class="string">&quot;scala.Double&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28291" title="=&gt; Reifiers.this.symbols.Symbol">DoubleClass</a>

	  <span title="Reifiers.this.symbols.Symbol" class="keyword">case</span> <span title="java.lang.String(&quot;scala.Array&quot;)" class="string">&quot;scala.Array&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#26479" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#28393" title="=&gt; Reifiers.this.symbols.Symbol">ArrayClass</a>

	  <span title="Reifiers.this.symbols.NoSymbol.type" class="keyword">case</span> _ =&gt; <a href="../symtab/Symbols.scala.html#26134" title="object Reifiers.this.symbols.NoSymbol">NoSymbol</a>

	}

      <span title="Reifiers.this.symbols.NoSymbol.type" class="keyword">case</span> _ =&gt; <a href="../symtab/Symbols.scala.html#26134" title="object Reifiers.this.symbols.NoSymbol">NoSymbol</a>
    }

  case <span class="keyword">class</span> <a title="class FreeValue extends scala.reflect.Tree with ScalaObject with Product" id="323705">FreeValue</a><span title="ScalaObject">(</span><a title="Reifiers.this.symbols.Tree" id="323906">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Reifiers.this.symbols.Tree">Tree</a>) <span class="keyword">extends</span> reflect.<span title="scala.reflect.Tree">Tree</span>

  <span class="keyword">class</span> <a title="class ReifyEnvironment extends scala.collection.mutable.HashMap[Reifiers.this.symbols.Symbol,scala.reflect.Symbol] with ScalaObject" id="322057">ReifyEnvironment</a> <span title="ScalaObject" class="keyword">extends</span> <span title="scala.collection.mutable.HashMap[Reifiers.this.symbols.Symbol,scala.reflect.Symbol]">HashMap</span>[Symbol, reflect.Symbol] {
    <span class="keyword">var</span> <a title="scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]" id="323744">targets</a> = <span title="scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">HashMap</span>[String, Option[reflect.LabelSymbol]]()
    <span class="keyword">def</span> <a title="(name: String,target: scala.reflect.LabelSymbol)Unit" id="323746">addTarget</a>(<a title="String" id="323782">name</a>: <span title="String">String</span>, <a title="scala.reflect.LabelSymbol" id="323783">target</a>: reflect.<span title="scala.reflect.LabelSymbol">LabelSymbol</span>): <a title="Unit" id="1950">Unit</a> =
      <a href="#323744" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<span title="(key: String,value: Option[scala.reflect.LabelSymbol])Unit">update</span>(<a href="#323782" title="String">name</a>, <a title="(x: scala.reflect.LabelSymbol)Some[scala.reflect.LabelSymbol]" id="258">Some</a>(<a href="#323783" title="scala.reflect.LabelSymbol">target</a>))
    <span class="keyword">def</span> <a title="(name: String)Option[scala.reflect.LabelSymbol]" id="323747">getTarget</a>(<a title="String" id="323799">name</a>: <span title="String">String</span>): <a title="Option[scala.reflect.LabelSymbol]" id="782">Option</a>[reflect.LabelSymbol] =
      <a href="#323744" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<span title="(key: String)Option[Option[scala.reflect.LabelSymbol]]">get</span>(<a href="#323799" title="String">name</a>) <span title="Option[scala.reflect.LabelSymbol]" class="keyword">match</span> {
        <span title="None.type" class="keyword">case</span> <span title="object None">None</span> =&gt;
          <a href="#323744" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<span title="(key: String,value: Option[scala.reflect.LabelSymbol])Unit">update</span>(<a href="#323799" title="String">name</a>, <span title="object None">None</span>)
          <span title="object None">None</span>
        //case Some(None) =&gt; None //bq:redundant
        <span title="Option[scala.reflect.LabelSymbol]" class="keyword">case</span> Some(<a title="Option[scala.reflect.LabelSymbol]" id="323817">tgt</a>) =&gt; <a href="#323817" title="Option[scala.reflect.LabelSymbol]">tgt</a>
      }
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="323748">hasAllTargets</a>: <a title="Boolean" id="1951">Boolean</a> =
      <a href="#323744" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<a title="=&gt; Iterator[(String, Option[scala.reflect.LabelSymbol])]" id="44395">iterator</a>.<a title="(f: ((String, Option[scala.reflect.LabelSymbol])) =&gt; Option[scala.reflect.LabelSymbol])Iterator[Option[scala.reflect.LabelSymbol]]" id="32130">map</a>(<a href="#323827" title="(String, Option[scala.reflect.LabelSymbol])">_</a>.<a title="=&gt; Option[scala.reflect.LabelSymbol]" id="36434">_2</a>).<a title="(p: (Option[scala.reflect.LabelSymbol]) =&gt; Boolean)Boolean" id="32176">forall</a> <a href="#323833" title="Boolean">{</a>
        <span title="Boolean(true)" class="keyword">case</span> Some(_) =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span title="Boolean(false)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      }
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol,rsym: scala.reflect.Symbol)Unit" id="323749">update</a>(<a title="Reifiers.this.symbols.Symbol" id="323839">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Reifiers.this.symbols.Symbol">Symbol</a>, <a title="scala.reflect.Symbol" id="323840">rsym</a>: reflect.<span title="scala.reflect.Symbol">Symbol</span>) =
      <span class="keyword">super</span>.<span title="(key: Reifiers.this.symbols.Symbol,value: scala.reflect.Symbol)Unit">update</span>(<a href="#323839" title="Reifiers.this.symbols.Symbol">sym</a>,<a href="#323840" title="scala.reflect.Symbol">rsym</a>)
  }

  
  <span class="keyword">class</span> <a title="class Reifier extends java.lang.Object with ScalaObject" id="322058">Reifier</a><span title="ScalaObject">(</span><a title="Reifiers.this.ReifyEnvironment" id="323877">env</a>: <a href="#322057" title="Reifiers.this.ReifyEnvironment">ReifyEnvironment</a>, <a title="scala.reflect.Symbol" id="323878">currentOwner</a>: reflect.<span title="scala.reflect.Symbol">Symbol</span>)
  {
    <span class="keyword">def</span> <a title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree" id="323871">reify</a>(<a title="Reifiers.this.symbols.Tree" id="323881">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Reifiers.this.symbols.Tree">Tree</a>): reflect.<span title="scala.reflect.Tree">Tree</span> = <a href="#323881" title="Reifiers.this.symbols.Tree">tree</a> <span title="scala.reflect.Tree" class="keyword">match</span> {
      <span title="scala.reflect.Tree" class="keyword">case</span> Ident(_) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="323888">rsym</a> = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>);
        //Console.println(&quot;LiftCode: seen ident&quot;)
        <span title="scala.reflect.Tree" class="keyword">if</span> (<a href="#323888" title="(x$1: AnyRef)Boolean">rsym</a> == reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>) {
          //Console.println(&quot;  free = &quot;+tree)
          <a href="#323705" title="(tree: Reifiers.this.symbols.Tree)Reifiers.this.FreeValue">FreeValue</a>(<a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>)
        } <span class="keyword">else</span> {
          //Console.println(&quot;  rsym = &quot;+rsym)
          reflect.<span title="(sym: scala.reflect.Symbol)scala.reflect.Ident">Ident</span>(<a href="#323888" title="scala.reflect.Symbol">rsym</a>)
        }
      <span title="scala.reflect.Tree" class="keyword">case</span> Select(<a title="Reifiers.this.symbols.Tree" id="323947">qual</a>, _) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="323950">rsym</a> = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>);
        <span title="scala.reflect.Tree" class="keyword">if</span> (<a href="#323950" title="(x$1: AnyRef)Boolean">rsym</a> == reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>) <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#51369" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#26459" title="Reifiers.this.symbols.TypeError">TypeError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot reify symbol: &quot;</span> + <a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>)
        <span class="keyword">else</span> reflect.<a title="(qual: scala.reflect.Tree,sym: scala.reflect.Symbol)scala.reflect.Select" id="27327">Select</a>(<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#323947" title="Reifiers.this.symbols.Tree">qual</a>), <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>))

      <span title="scala.reflect.Literal" class="keyword">case</span> _ : <a href="../ast/Trees.scala.html#26769" title="Reifiers.this.symbols.StubTree">StubTree</a> =&gt; reflect.<span title="(value: Any)scala.reflect.Literal">Literal</span>(<span title="Int(0)" class="int">0</span>)

      <span title="scala.reflect.Literal" class="keyword">case</span> Literal(<a title="Reifiers.this.symbols.Constant" id="324065">constant</a>) =&gt;
        reflect.<span title="(value: Any)scala.reflect.Literal">Literal</span>(<a href="#324065" title="Reifiers.this.symbols.Constant">constant</a>.<a href="../symtab/Constants.scala.html#42806" title="=&gt; Any">value</a>)

      <span title="scala.reflect.Tree" class="keyword">case</span> Apply(<a title="Reifiers.this.symbols.Tree" id="324076">name</a>, <a title="List[Reifiers.this.symbols.Tree]" id="324077">args</a>) <span class="keyword">if</span> <a href="#324076" title="Reifiers.this.symbols.Tree">name</a>.<a href="../ast/Trees.scala.html#29381" title="()String">toString</a>().<a title="(x$1: java.lang.String)Boolean" id="6973">startsWith</a>(<span title="java.lang.String(&quot;label$&quot;)" class="string">&quot;label$&quot;</span>) =&gt;
        <a href="#323877" title="Reifiers.this.ReifyEnvironment">env</a>.<a href="#323747" title="(name: String)Option[scala.reflect.LabelSymbol]">getTarget</a>(<a href="#324076" title="Reifiers.this.symbols.Tree">name</a>.<a href="../ast/Trees.scala.html#29381" title="()String">toString</a>()) <span title="scala.reflect.Tree" class="keyword">match</span> {
          <span title="Nothing" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#51369" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#26459" title="Reifiers.this.symbols.TypeError">TypeError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot reify tree (no forward jumps allowed): &quot;</span> + <a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>)
          <span title="scala.reflect.Goto" class="keyword">case</span> Some(<a title="scala.reflect.LabelSymbol" id="324097">label</a>) =&gt; reflect.<a title="(target: scala.reflect.LabelSymbol)scala.reflect.Goto" id="27432">Goto</a>(<a href="#324097" title="scala.reflect.LabelSymbol">label</a>)
        }

      <span title="scala.reflect.Apply" class="keyword">case</span> Apply(<a title="Reifiers.this.symbols.Tree" id="324130">fun</a>, <a title="List[Reifiers.this.symbols.Tree]" id="324131">args</a>) =&gt;
        reflect.<a title="(fun: scala.reflect.Tree,args: List[scala.reflect.Tree])scala.reflect.Apply" id="27435">Apply</a>(<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324130" title="Reifiers.this.symbols.Tree">fun</a>), <a href="#324131" title="(f: (Reifiers.this.symbols.Tree) =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List[Reifiers.this.symbols.Tree]])List[scala.reflect.Tree]">args</a> <span title="scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List#Coll]">map</span> <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>)

      <span title="scala.reflect.TypeApply" class="keyword">case</span> TypeApply(<a title="Reifiers.this.symbols.Tree" id="324229">fun</a>, <a title="List[Reifiers.this.symbols.Tree]" id="324230">args</a>) =&gt;
        reflect.<a title="(fun: scala.reflect.Tree,args: List[scala.reflect.Type])scala.reflect.TypeApply" id="27195">TypeApply</a>(<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324229" title="Reifiers.this.symbols.Tree">fun</a>), <a href="#324230" title="(f: (Reifiers.this.symbols.Tree) =&gt; Reifiers.this.symbols.Type)(implicit bf: scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type],List[Reifiers.this.symbols.Tree]])List[Reifiers.this.symbols.Type]">args</a> <span title="(f: (Reifiers.this.symbols.Type) =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Type,List[scala.reflect.Type],List[Reifiers.this.symbols.Type]])List[scala.reflect.Type]">map</span> (<a href="#324290" title="Reifiers.this.symbols.Tree">_</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Reifiers.this.symbols.Type">tpe</a>) <span title="scala.collection.generic.BuilderFactory[scala.reflect.Type,List[scala.reflect.Type],List#Coll]">map</span> <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>)

      <span title="scala.reflect.Function" class="keyword">case</span> Function(<a title="List[Reifiers.this.symbols.ValDef]" id="324414">vparams</a>, <a title="Reifiers.this.symbols.Tree" id="324415">body</a>) =&gt;
        <span class="keyword">var</span> <a title="Reifiers.this.ReifyEnvironment" id="324418">env1</a> = <a href="#323877" title="Reifiers.this.ReifyEnvironment">env</a>
        <span class="keyword">for</span> (<a title="Reifiers.this.symbols.ValDef" id="324435">vparam</a> &lt;- <a href="#324414" title="(f: (Reifiers.this.symbols.ValDef) =&gt; Unit)Unit" id="28932">vparams</a>) {
          <span class="keyword">val</span> <a title="scala.reflect.LocalValue" id="324436">local</a> = reflect.<span title="(owner: scala.reflect.Symbol,name: String,tpe: scala.reflect.Type)scala.reflect.LocalValue">LocalValue</span>(
            <a href="#323878" title="scala.reflect.Symbol">currentOwner</a>, <a href="#324435" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>(), <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#324435" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; Reifiers.this.symbols.Type">tpe</a>));
          <a href="#324418" title="Reifiers.this.ReifyEnvironment">env1</a>.<a href="#323749" title="(sym: Reifiers.this.symbols.Symbol,rsym: scala.reflect.Symbol)Unit">update</a>(<a href="#324435" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>, <a href="#324436" title="scala.reflect.LocalValue">local</a>);
        }
        reflect.<a title="(params: List[scala.reflect.Symbol],body: scala.reflect.Tree)scala.reflect.Function" id="27558">Function</a>(<a href="#324414" title="(f: (Reifiers.this.symbols.ValDef) =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol],List[Reifiers.this.symbols.ValDef]])List[Reifiers.this.symbols.Symbol]">vparams</a> <span title="(f: (Reifiers.this.symbols.Symbol) =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List[Reifiers.this.symbols.Symbol]])List[scala.reflect.Symbol]">map</span> (<a href="#324556" title="Reifiers.this.symbols.ValDef">_</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>) <span title="scala.collection.generic.BuilderFactory[scala.reflect.Symbol,List[scala.reflect.Symbol],List#Coll]">map</span> <a href="#324418" title="Reifiers.this.ReifyEnvironment">env1</a>, 
                         <span title="Reifiers.this.Reifier" class="keyword">new</span> <a href="#322058" title="Reifiers.this.Reifier">Reifier</a>(<a href="#324418" title="Reifiers.this.ReifyEnvironment">env1</a>, <a href="#323878" title="scala.reflect.Symbol">currentOwner</a>).<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324415" title="Reifiers.this.symbols.Tree">body</a>))
      <span title="scala.reflect.Tree" class="keyword">case</span> <a title="Reifiers.this.symbols.This" id="324673">tree</a>@This(_) <span class="keyword">if</span> <a href="#324673" title="Reifiers.this.symbols.This">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a> =&gt;
        // there is no reflect node for a module's this, so
        // represent it as a selection of the module
	<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(
	  <a href="../ast/Trees.scala.html#50275" title="(qualifier: Reifiers.this.symbols.Tree,name: Reifiers.this.symbols.Name)Reifiers.this.symbols.Select">Select</a>(<a href="../ast/Trees.scala.html#26727" title="(sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.Tree">This</a>(<a href="#324673" title="Reifiers.this.symbols.This">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; Reifiers.this.symbols.Symbol">owner</a>), <a href="#324673" title="Reifiers.this.symbols.This">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; Reifiers.this.symbols.Name">name</a>))
      <span title="scala.reflect.This" class="keyword">case</span> This(_) =&gt; 
        reflect.<a title="(sym: scala.reflect.Symbol)scala.reflect.This" id="27516">This</a>(<a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>))
      <span title="scala.reflect.Block" class="keyword">case</span> Block(<a title="List[Reifiers.this.symbols.Tree]" id="324798">stats</a>, <a title="Reifiers.this.symbols.Tree" id="324799">expr</a>) =&gt; 
        reflect.<a title="(stats: List[scala.reflect.Tree],expr: scala.reflect.Tree)scala.reflect.Block" id="27579">Block</a>(<a href="#324798" title="List[Reifiers.this.symbols.Tree]">stats</a>.<span title="(f: (Reifiers.this.symbols.Tree) =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List[Reifiers.this.symbols.Tree]])List[scala.reflect.Tree]">map</span><span title="scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List#Coll]">(</span><a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>), <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324799" title="Reifiers.this.symbols.Tree">expr</a>))
      <span title="scala.reflect.New" class="keyword">case</span> New(<a title="Reifiers.this.symbols.Tree" id="324884">clazz</a>) <span class="keyword">if</span> (<a href="#324884" title="Reifiers.this.symbols.Tree">clazz</a>.<a href="../ast/Trees.scala.html#29373" title="=&gt; Boolean">isType</a>) =&gt;
	<span class="keyword">val</span> <a title="scala.reflect.Symbol" id="324887">reifiedSymbol</a> = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#324884" title="Reifiers.this.symbols.Tree">clazz</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>)
	reflect.<span title="(sym: scala.reflect.Tree)scala.reflect.New">New</span>(reflect.<span title="(sym: scala.reflect.Symbol)scala.reflect.Ident">Ident</span>(<a href="#324887" title="scala.reflect.Symbol">reifiedSymbol</a>))
      <span title="scala.reflect.New" class="keyword">case</span> New(<a title="Reifiers.this.symbols.Tree" id="324932">clazz</a>) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="324935">reifiedClass</a> = <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324932" title="Reifiers.this.symbols.Tree">clazz</a>)
        reflect.<span title="(sym: scala.reflect.Tree)scala.reflect.New">New</span>(<a href="#324935" title="scala.reflect.Tree">reifiedClass</a>)
      <span title="scala.reflect.Tree" class="keyword">case</span> Typed(<a title="Reifiers.this.symbols.Tree" id="324951">t</a>, _) =&gt;
        <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324951" title="Reifiers.this.symbols.Tree">t</a>)
      <span title="scala.reflect.If" class="keyword">case</span> If(<a title="Reifiers.this.symbols.Tree" id="324970">cond</a>, <a title="Reifiers.this.symbols.Tree" id="324971">thenp</a>, <a title="Reifiers.this.symbols.Tree" id="324972">elsep</a>) =&gt;
        reflect.<a title="(condition: scala.reflect.Tree,trueCase: scala.reflect.Tree,falseCase: scala.reflect.Tree)scala.reflect.If" id="27417">If</a>(<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324970" title="Reifiers.this.symbols.Tree">cond</a>), <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324971" title="Reifiers.this.symbols.Tree">thenp</a>), <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#324972" title="Reifiers.this.symbols.Tree">elsep</a>))
      <span title="scala.reflect.Assign" class="keyword">case</span> Assign(<a title="Reifiers.this.symbols.Tree" id="325064">lhs</a>, <a title="Reifiers.this.symbols.Tree" id="325065">rhs</a>) =&gt;
        reflect.<a title="(destination: scala.reflect.Tree,source: scala.reflect.Tree)scala.reflect.Assign" id="27387">Assign</a>(<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325064" title="Reifiers.this.symbols.Tree">lhs</a>), <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325065" title="Reifiers.this.symbols.Tree">rhs</a>))

      <span title="scala.reflect.Target" class="keyword">case</span> LabelDef(<a title="Reifiers.this.symbols.Name" id="325137">name</a>, <a title="object Nil" id="7634">Nil</a>, <a title="Reifiers.this.symbols.Tree" id="325138">body</a>) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.LabelSymbol" id="325141">sym</a> = <span title="scala.reflect.LabelSymbol" class="keyword">new</span> reflect.<span title="scala.reflect.LabelSymbol">LabelSymbol</span>(<a href="#325137" title="Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>())
        <a href="#323877" title="Reifiers.this.ReifyEnvironment">env</a>.<a href="#323746" title="(name: String,target: scala.reflect.LabelSymbol)Unit">addTarget</a>(<a href="#325137" title="Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>(), <a href="#325141" title="scala.reflect.LabelSymbol">sym</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Target" id="325142">res</a> = reflect.<a title="(sym: scala.reflect.LabelSymbol,body: scala.reflect.Tree)scala.reflect.Target" id="27561">Target</a>(<a href="#325141" title="scala.reflect.LabelSymbol">sym</a>, <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325138" title="Reifiers.this.symbols.Tree">body</a>))
        <a href="#325142" title="scala.reflect.Target">res</a>

      <span title="scala.reflect.ValDef" class="keyword">case</span> <a title="Reifiers.this.symbols.ValDef" id="325202">vd</a> @ ValDef(<a title="Reifiers.this.symbols.Modifiers" id="325209">mods</a>, <a title="Reifiers.this.symbols.Name" id="325210">name</a>, <a title="Reifiers.this.symbols.Tree" id="325211">tpt</a>, <a title="Reifiers.this.symbols.Tree" id="325212">rhs</a>) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="325215">rtpe</a> = <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#325202" title="Reifiers.this.symbols.ValDef">vd</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Reifiers.this.symbols.Type">tpe</a>) // will return null, currently?!
        <span class="keyword">val</span> <a title="scala.reflect.LocalValue" id="325216">sym</a>  = reflect.<span title="(owner: scala.reflect.Symbol,name: String,tpe: scala.reflect.Type)scala.reflect.LocalValue">LocalValue</span>(<a href="#323878" title="scala.reflect.Symbol">currentOwner</a>, <a href="#325210" title="Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>(), <a href="#325215" title="scala.reflect.Type">rtpe</a>)
        <a href="#323749" title="(sym: Reifiers.this.symbols.Symbol,rsym: scala.reflect.Symbol)Unit">env</a>(<a href="#325202" title="Reifiers.this.symbols.ValDef">vd</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>) = <a href="#325216" title="scala.reflect.LocalValue">sym</a> // bq: despite Scala's scoping rules, this should work because references to vd.symbol were type checked.
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="325217">rhs_</a> = <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325212" title="Reifiers.this.symbols.Tree">rhs</a>)
        reflect.<a title="(sym: scala.reflect.Symbol,rhs: scala.reflect.Tree)scala.reflect.ValDef" id="27165">ValDef</a>(<a href="#325216" title="scala.reflect.LocalValue">sym</a>, <a href="#325217" title="scala.reflect.Tree">rhs_</a>)

      <span title="scala.reflect.ClassDef" class="keyword">case</span> <a title="Reifiers.this.symbols.ClassDef" id="325292">cd</a> @ ClassDef(<a title="Reifiers.this.symbols.Modifiers" id="325299">mods</a>, <a title="Reifiers.this.symbols.Name" id="325300">name</a>, <a title="List[Reifiers.this.symbols.TypeDef]" id="325301">tparams</a>, <a title="Reifiers.this.symbols.Template" id="325302">impl</a>) =&gt; 
        <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#325301" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span>) 
          <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#51369" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#26459" title="Reifiers.this.symbols.TypeError">TypeError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot handle polymorphic ClassDef (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#325300" title="Reifiers.this.symbols.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> + <a href="#325301" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="325305">rsym</a> = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#325292" title="Reifiers.this.symbols.ClassDef">cd</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="325306">rimp</a> = <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325302" title="Reifiers.this.symbols.Template">impl</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="325307">rtpe</a> = <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#325302" title="Reifiers.this.symbols.Template">impl</a>.<a href="../ast/Trees.scala.html#52058" title="=&gt; Reifiers.this.symbols.ValDef">self</a>.<a href="../ast/Trees.scala.html#53526" title="=&gt; Reifiers.this.symbols.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Reifiers.this.symbols.Type">tpe</a>) //todo: update
        reflect.<a title="(sym: scala.reflect.Symbol,tpe: scala.reflect.Type,impl: scala.reflect.Template)scala.reflect.ClassDef" id="27243">ClassDef</a>(<a href="#325305" title="scala.reflect.Symbol">rsym</a>, <a href="#325307" title="scala.reflect.Type">rtpe</a>, <a href="#325306" title="scala.reflect.Tree">rimp</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.reflect.Template">[</span>reflect.<a title="scala.reflect.Template" id="27410">Template</a>])

      <span title="scala.reflect.Template" class="keyword">case</span> <a title="Reifiers.this.symbols.Template" id="325415">tmpl</a> @ Template(<a title="List[Reifiers.this.symbols.Tree]" id="325421">parents</a>, <a title="Reifiers.this.symbols.ValDef" id="325422">self</a>, <a title="List[Reifiers.this.symbols.Tree]" id="325423">body</a>) =&gt;
        <span class="keyword">val</span> <a title="List[scala.reflect.Type]" id="325426">rparents</a> = <span class="keyword">for</span> (<a title="Reifiers.this.symbols.Tree" id="325435">p</a> &lt;- <a href="#325421" title="(f: (Reifiers.this.symbols.Tree) =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Type,List[scala.reflect.Type],List[Reifiers.this.symbols.Tree]])List[scala.reflect.Type]">parents</a>) <span class="keyword">yield</span> { <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#325435" title="Reifiers.this.symbols.Tree">p</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Reifiers.this.symbols.Type">tpe</a>) }
        //todo: add self to reified templates
        reflect.<a title="(parents: List[scala.reflect.Type],body: List[scala.reflect.Tree])scala.reflect.Template" id="27411">Template</a>(<a href="#325426" title="List[scala.reflect.Type]">rparents</a>, <a href="#325423" title="List[Reifiers.this.symbols.Tree]">body</a>.<span title="(f: (Reifiers.this.symbols.Tree) =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List[Reifiers.this.symbols.Tree]])List[scala.reflect.Tree]">map</span><span title="scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List#Coll]">(</span><a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>))

      <span title="scala.reflect.DefDef" class="keyword">case</span> <a title="Reifiers.this.symbols.DefDef" id="325558">dd</a> @ DefDef(<a title="Reifiers.this.symbols.Modifiers" id="325567">mods</a>, <a title="Reifiers.this.symbols.Name" id="325568">name</a>, <a title="List[Reifiers.this.symbols.TypeDef]" id="325569">tparams</a>, <a title="List[List[Reifiers.this.symbols.ValDef]]" id="325570">vparamss</a>, <a title="Reifiers.this.symbols.Tree" id="325571">tpt</a>, <a title="Reifiers.this.symbols.Tree" id="325572">rhs</a>) =&gt;
        <span title="Unit" class="keyword">if</span>(<span title="=&gt; Boolean">!</span><a href="#325569" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span>) 
          <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#51369" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#26459" title="Reifiers.this.symbols.TypeError">TypeError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot handle polymorphic DefDef (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#325568" title="Reifiers.this.symbols.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> + <a href="#325569" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="325575">rsym</a>   = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#325558" title="Reifiers.this.symbols.DefDef">dd</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>)
        <span class="keyword">val</span> <a title="List[List[scala.reflect.Tree]]" id="325576">rparss</a> = <a href="#325570" title="(f: (List[Reifiers.this.symbols.ValDef]) =&gt; List[scala.reflect.Tree])(implicit bf: scala.collection.generic.BuilderFactory[List[scala.reflect.Tree],List[List[scala.reflect.Tree]],List[List[Reifiers.this.symbols.ValDef]]])List[List[scala.reflect.Tree]]">vparamss</a> <span title="scala.collection.generic.BuilderFactory[List[scala.reflect.Tree],List[List[scala.reflect.Tree]],List#Coll]">map</span> { <a title="List[Reifiers.this.symbols.ValDef]" id="325604">x</a> =&gt; <a href="#325604" title="(f: (Reifiers.this.symbols.ValDef) =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List[Reifiers.this.symbols.ValDef]])List[scala.reflect.Tree]">x</a> <span title="scala.collection.generic.BuilderFactory[scala.reflect.Tree,List[scala.reflect.Tree],List#Coll]">map</span> (<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>) }
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="325577">rret</a>   = <a href="#323873" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#325571" title="Reifiers.this.symbols.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Reifiers.this.symbols.Type">tpe</a>)
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="325578">rrhs</a>   = <a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#325572" title="Reifiers.this.symbols.Tree">rhs</a>)
        reflect.<a title="(sym: scala.reflect.Symbol,vparamss: List[List[scala.reflect.Tree]],ret: scala.reflect.Type,rhs: scala.reflect.Tree)scala.reflect.DefDef" id="27636">DefDef</a>(<a href="#325575" title="scala.reflect.Symbol">rsym</a>, <a href="#325576" title="List[List[scala.reflect.Tree]]">rparss</a>, <a href="#325577" title="scala.reflect.Type">rret</a>, <a href="#325578" title="scala.reflect.Tree">rrhs</a>)

      <span title="scala.reflect.Super" class="keyword">case</span> <a title="Reifiers.this.symbols.Super" id="325861">sp</a> @ Super(<a title="Reifiers.this.symbols.Name" id="325866">qual</a>: <a href="../symtab/Names.scala.html#26055" title="Reifiers.this.symbols.Name">Name</a>, <a title="Reifiers.this.symbols.Name" id="325867">mix</a>: <a href="../symtab/Names.scala.html#26055" title="Reifiers.this.symbols.Name">Name</a>) =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="325870">rsym</a> = <a href="#323872" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#325861" title="Reifiers.this.symbols.Super">sp</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>)
        reflect.<a title="(psym: scala.reflect.Symbol)scala.reflect.Super" id="27486">Super</a>(<a href="#325870" title="scala.reflect.Symbol">rsym</a>)

      <span title="Nothing" class="keyword">case</span> _ =&gt;
        <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#51369" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#26459" title="Reifiers.this.symbols.TypeError">TypeError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;cannot reify tree (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>.<a title="()java.lang.Class[_]" id="3628">getClass</a>()<span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> + <a href="#323881" title="Reifiers.this.symbols.Tree">tree</a>)
    }

    <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="323872">reify</a>(<a title="Reifiers.this.symbols.Symbol" id="323894">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="Reifiers.this.symbols.Symbol">Symbol</a>): reflect.<span title="scala.reflect.Symbol">Symbol</span> =
      <a href="#323877" title="Reifiers.this.ReifyEnvironment">env</a>.<span title="(key: Reifiers.this.symbols.Symbol)Option[scala.reflect.Symbol]">get</span>(<a href="#323894" title="Reifiers.this.symbols.Symbol">sym</a>) <span title="scala.reflect.Symbol" class="keyword">match</span> {
	<span title="scala.reflect.Symbol" class="keyword">case</span> Some(<a title="scala.reflect.Symbol" id="325925">rsym</a>) =&gt; 
	  <a href="#325925" title="scala.reflect.Symbol">rsym</a>
	<span title="scala.reflect.Symbol" class="keyword">case</span> <span title="object None">None</span> =&gt;
	  <a href="#13285" title="Reifiers.this.type">Reifiers</a>.<span class="keyword">this</span>.<a href="#322047" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a>(<a href="#323894" title="Reifiers.this.symbols.Symbol">sym</a>)
      }

    <span class="keyword">def</span> <a title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type" id="323873">reify</a>(<a title="Reifiers.this.symbols.Type" id="323892">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="Reifiers.this.symbols.Type">Type</a>): reflect.<span title="scala.reflect.Type">Type</span> =
      <a href="#13285" title="Reifiers.this.type">Reifiers</a>.<span class="keyword">this</span>.<a href="#322051" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>(<a href="#323892" title="Reifiers.this.symbols.Type">tpe</a>)
  }

  <span class="keyword">def</span> <a title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree" id="322059">reify</a>(<a title="Reifiers.this.symbols.Tree" id="322149">tree</a>: <a href="../ast/Trees.scala.html#26593" title="Reifiers.this.symbols.Tree">Tree</a>): reflect.<span title="scala.reflect.Tree">Tree</span> =
    <span title="Reifiers.this.Reifier" class="keyword">new</span> <a href="#322058" title="Reifiers.this.Reifier">Reifier</a>(<span title="Reifiers.this.ReifyEnvironment" class="keyword">new</span> <a href="#322057" title="Reifiers.this.ReifyEnvironment">ReifyEnvironment</a>(), reflect.<span title="object scala.reflect.NoSymbol">NoSymbol</span>).<a href="#323871" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a>(<a href="#322149" title="Reifiers.this.symbols.Tree">tree</a>)
}

        </pre>
    </body>
</html>