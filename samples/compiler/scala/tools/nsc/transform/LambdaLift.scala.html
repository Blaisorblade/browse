<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */
// $Id: LambdaLift.scala 18547 2009-08-22 19:52:46Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> util.TreeSet
<span class="keyword">import</span> scala.collection.mutable.{HashMap, ListBuffer}
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="13726">LambdaLift</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#13951" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator}

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="336302">phaseName</a>: <a title="String" id="1605">String</a> = <span title="java.lang.String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeMap" id="336304">lifted</a> = <a href="#336312" title="LambdaLift.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26320" title="anonymous class $anon extends LambdaLift.this.global.TypeMap" id="336312">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="336314">apply</a>(<a title="LambdaLift.this.global.Type" id="336318">tp</a>: <a href="../symtab/Types.scala.html#26205" title="LambdaLift.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="LambdaLift.this.global.Type">Type</a> = <a href="#336318" title="LambdaLift.this.global.Type">tp</a> <span title="LambdaLift.this.global.Type" class="keyword">match</span> {
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> TypeRef(<a title="LambdaLift.this.global.Type" id="336323">pre</a>, <a title="LambdaLift.this.global.Symbol" id="336324">sym</a>, <a title="List[LambdaLift.this.global.Type]" id="336325">args</a>) =&gt;
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="#336323" title="(x$1: AnyRef)Boolean">pre</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26226" title="object LambdaLift.this.global.NoPrefix">NoPrefix</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#336324" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#336324" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26935" title="=&gt; Boolean">isPackageClass</a>) {
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#336325" title="List[LambdaLift.this.global.Type]">args</a>.<span title="=&gt; Boolean">isEmpty</span>);
          <a href="../symtab/Types.scala.html#26295" title="(pre: LambdaLift.this.global.Type,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Type])LambdaLift.this.global.Type">typeRef</a>(<a href="#336314" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">apply</a>(<a href="#336324" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; LambdaLift.this.global.Type">thisType</a>), <a href="#336324" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#336325" title="List[LambdaLift.this.global.Type]">args</a>)
        } <span class="keyword">else</span> <a href="../symtab/Types.scala.html#42722" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a>(<a href="#336318" title="LambdaLift.this.global.Type">tp</a>)
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[LambdaLift.this.global.Type]" id="336419">parents</a>, <a title="LambdaLift.this.global.Scope" id="336420">decls</a>, <a title="LambdaLift.this.global.Symbol" id="336421">clazz</a>) =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Type]" id="336424">parents1</a> = <a href="#336419" title="(f: (LambdaLift.this.global.Type) =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]" id="24270">parents</a> mapConserve (<a href="#336312" title="LambdaLift.this.global.TypeMap{ ... }" class="keyword">this</a>)
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="#336424" title="(x$1: AnyRef)Boolean" id="6542">parents1</a> eq <a href="#336419" title="List[LambdaLift.this.global.Type]">parents</a>) <a href="#336318" title="LambdaLift.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44259" title="(parents: List[LambdaLift.this.global.Type],decls: LambdaLift.this.global.Scope,typeSymbol: LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType">ClassInfoType</a>(<a href="#336424" title="List[LambdaLift.this.global.Type]">parents1</a>, <a href="#336420" title="LambdaLift.this.global.Scope">decls</a>, <a href="#336421" title="LambdaLift.this.global.Symbol">clazz</a>)
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#42722" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a>(<a href="#336318" title="LambdaLift.this.global.Type">tp</a>)
    }
  }

  <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="336306">transformInfo</a>(<a title="LambdaLift.this.global.Symbol" id="336501">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Type" id="336502">tp</a>: <a href="../symtab/Types.scala.html#26205" title="LambdaLift.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26205" title="LambdaLift.this.global.Type">Type</a> = <a href="#336304" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="#336502" title="LambdaLift.this.global.Type">tp</a>)

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer" id="336307">newTransformer</a>(<a title="LambdaLift.this.global.CompilationUnit" id="336509">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26773" title="LambdaLift.this.global.Transformer">Transformer</a> =
    <span title="LambdaLift.this.LambdaLifter" class="keyword">new</span> <a href="#336308" title="LambdaLift.this.LambdaLifter">LambdaLifter</a>(<a href="#336509" title="LambdaLift.this.global.CompilationUnit">unit</a>)

  <span class="keyword">class</span> <a title="class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer with ScalaObject" id="336308">LambdaLifter</a><span title="ScalaObject">(</span><a title="LambdaLift.this.global.CompilationUnit" id="336579">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../Global.scala.html#39119" title="object LambdaLift.this.global.explicitOuter">explicitOuter</a>.<a href="ExplicitOuter.scala.html#79196" title="LambdaLift.this.global.explicitOuter.OuterPathTransformer">OuterPathTransformer</a>(<a href="#336579" title="LambdaLift.this.global.CompilationUnit">unit</a>) {

    /** A map storing free variables of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="336545">free</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet]

    /** A map storing the free variable proxies of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" id="336547">proxies</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">HashMap</span>[Symbol, List[Symbol]]

    /** A hashtable storing calls between functions */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="336549">called</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet]

    /** The set of symbols that need to be renamed. */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="336551">renamable</a> = <a href="#336559" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>

    /** A flag to indicate whether new free variables have been found */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="336554">changedFreeVars</a>: <span title="Boolean">Boolean</span> = _

    /** Buffers for lifted out classes and methods */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]" id="336556">liftedDefs</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">HashMap</span>[Symbol, ListBuffer[Tree]]

    <span class="keyword">private</span> <span class="keyword">type</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="336558">SymSet</a> = <a href="../util/TreeSet.scala.html#14653" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a>[Symbol]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="336559">newSymSet</a> = <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">new</span> <a href="../util/TreeSet.scala.html#14653" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a>[Symbol]((<a title="LambdaLift.this.global.Symbol" id="336607">x</a>, <a title="LambdaLift.this.global.Symbol" id="336608">y</a>) =&gt; <a href="#336607" title="LambdaLift.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27021" title="(that: LambdaLift.this.global.Symbol)Boolean">isLess</a>(<a href="#336608" title="LambdaLift.this.global.Symbol">y</a>))

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet" id="336560">symSet</a>(<a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="336698">f</a>: <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet], <a title="LambdaLift.this.global.Symbol" id="336699">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../util/TreeSet.scala.html#14653" title="LambdaLifter.this.SymSet">SymSet</a> = <a href="#336698" title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">f</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</span>(<a href="#336699" title="LambdaLift.this.global.Symbol">sym</a>) <span title="LambdaLifter.this.SymSet" class="keyword">match</span> {
      <span title="LambdaLifter.this.SymSet" class="keyword">case</span> Some(<a title="LambdaLifter.this.SymSet" id="336804">ss</a>) =&gt; <a href="#336804" title="LambdaLifter.this.SymSet">ss</a>
      <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="336807">ss</a> = <a href="#336559" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>; <a href="#336698" title="(key: LambdaLift.this.global.Symbol,value: LambdaLifter.this.SymSet)Unit">f</a>(<a href="#336699" title="LambdaLift.this.global.Symbol">sym</a>) = <a href="#336807" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">ss</a>; <a href="#336807" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">ss</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="336561">outer</a>(<a title="LambdaLift.this.global.Symbol" id="336816">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a> =
      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#336816" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a>) <a href="#336816" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#336816" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>;

    /** The method or class which logically encloses the current symbol.
     *  If the symbol is defined in the initialization part of a template
     *  this is the template's primary constructor, otherwise it is
     *  the physically enclosing method or class.
     *
     *  Example 1:
     *
     *  def f() { val x = { def g() = ...; g() } }
     *
     *  In this case the owner chain of `g' is `x', followed by `f' and 
     *  enclMethOrClass(`g') == `f'.
     *
     *  Example 2:
     *
     *  class C {
     *    def &lt;init&gt; = { ... }
     *    val x = { def g() = ...; g() } }
     *  }
     *
     *  In this case the owner chain of `g' is `x', followed by `C' but 
     *  enclMethOrClass(`g') is the primary constructor symbol `&lt;init&gt;'
     *  (or, for traits: `$init') of `C'.
     *
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="336562">enclMethOrClass</a>(<a title="LambdaLift.this.global.Symbol" id="336738">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a> = {
      <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="336818">localToConstr</a>(<a title="LambdaLift.this.global.Symbol" id="336821">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) =
        <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#336821" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26909" title="=&gt; Boolean">isLocalDummy</a>) <a href="#336821" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27033" title="=&gt; LambdaLift.this.global.Symbol">primaryConstructor</a> <span class="keyword">else</span> <a href="#336821" title="LambdaLift.this.global.Symbol">sym</a>;
      <span class="keyword">var</span> <a title="LambdaLift.this.global.Symbol" id="336819">encl</a> = <a href="#336818" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">localToConstr</a>(<a href="#336738" title="LambdaLift.this.global.Symbol">sym</a>)
      <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#336819" title="LambdaLift.this.global.Symbol">encl</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#336819" title="LambdaLift.this.global.Symbol">encl</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>)
        <a href="#336819" title="LambdaLift.this.global.Symbol">encl</a> = <a href="#336818" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">localToConstr</a>(<a href="#336561" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#336819" title="LambdaLift.this.global.Symbol">encl</a>))
      <a href="#336819" title="LambdaLift.this.global.Symbol">encl</a>
    }

    /** Mark symbol `sym' as being free in `owner', unless `sym'
     *  is defined in `owner' or there is a class between `owner's owner
     *  and the owner of `sym'.
     *  Return `true' if there is no class between `owner' and 
     *  the owner of sym.
     *  pre: sym.isLocal, (owner.isMethod || owner.isClass)
     *
     *  The idea of `markFree' is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x' is free in the primary constructor of class `C'.
     *  but it is not free in `D', because after lambda lift the code would be transformed 
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean" id="336563">markFree</a>(<a title="LambdaLift.this.global.Symbol" id="336744">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="336745">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;mark &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; free in &quot;)" class="string">&quot; free in &quot;</span> + <a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>)
      <span title="Boolean" class="keyword">if</span> (<a href="#336745" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>)) <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26935" title="(x$1: Boolean)Boolean" id="2210">isPackageClass</a> || <span title="=&gt; Boolean">!</span><a href="#336563" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#336561" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>)))) <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="LambdaLifter.this.SymSet" id="336862">ss</a> = <a href="#336560" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a>(<a href="#336545" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>, <a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>)
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../util/Set.scala.html#112900" title="(x: LambdaLift.this.global.Symbol)Boolean">ss</a> contains <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>)) {
          <a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">ss</a> addEntry <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Any)Any">atPhase</a>(<a href="../Global.scala.html#39176" title="=&gt; LambdaLift.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40190" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>) {
            // The param symbol in the MethodType should not be renamed, only the symbol in scope. This way,
            // parameter names for named arguments are not changed. Example: without cloning the MethodType,
            //     def closure(x: Int) = { () =&gt; x }
            // would have the signatrue
            //     closure: (x$1: Int)() =&gt; Int
            <span title="Any" class="keyword">if</span> (<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(8192L)">PARAM</span>) &amp;&amp; <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30198" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">paramss</a>.<a title="(p: (List[LambdaLift.this.global.Symbol]) =&gt; Boolean)Boolean" id="28937">exists</a>(<a href="#336891" title="List[LambdaLift.this.global.Symbol]">_</a>.<a title="(elem: Any)Boolean" id="25609">contains</a>(<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>)))
              <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27005" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">setInfo</a>(<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30244" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Type">cloneInfo</a>(<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>))
          }
          <a href="#336554" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is free in &quot;)" class="string">&quot; is free in &quot;</span> + <a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>);
          <span title="Any" class="keyword">if</span> (<a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26903" title="(x$1: Boolean)Boolean">isVariable</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(65536L)">CAPTURED</span>)) {
            <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)sym.type">sym</a> setFlag <span title="Long(65536L)">CAPTURED</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="336932">symClass</a> = <a href="#336744" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>;
            <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
              <a href="../symtab/Symbols.scala.html#27006" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">sym</a> updateInfo (
                <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28606" title="(sym: LambdaLift.this.global.Symbol)Boolean">isValueClass</a>(<a href="#336932" title="LambdaLift.this.global.Symbol">symClass</a>)) <a href="../symtab/Definitions.scala.html#28599" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">refClass</a>(<a href="#336932" title="LambdaLift.this.global.Symbol">symClass</a>).<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28539" title="=&gt; LambdaLift.this.global.Symbol">ObjectRefClass</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>)
            }
          }
        }
        <span title="=&gt; Boolean">!</span><a href="#336745" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit" id="336564">markCalled</a>(<a title="LambdaLift.this.global.Symbol" id="336749">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="336750">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;mark &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#336749" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#336749" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; called by &quot;)" class="string">&quot; called by &quot;</span> + <a href="#336750" title="LambdaLift.this.global.Symbol">owner</a>);
      <a href="#336560" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">(</a><a href="#336549" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#336750" title="LambdaLift.this.global.Symbol">owner</a>) addEntry <a href="#336749" title="LambdaLift.this.global.Symbol">sym</a>
    }
/*
      if (owner == enclMethOrClass(sym.owner)) true
      else if (owner.isPackageClass || !markCalled(sym, enclMethOrClass(outer(owner)))) false
      else {
        val ss = symSet(called, owner);
        if (!(ss contains sym)) {
          ss addEntry sym;
          if (settings.debug.value) log(&quot;&quot; + sym + &quot; is called by &quot; + owner);
        }
        !owner.isClass
      }
    }
*/
    <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]" id="336565">freeVars</a>(<a title="LambdaLift.this.global.Symbol" id="337008">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a title="Iterator[LambdaLift.this.global.Symbol]" id="4276">Iterator</a>[Symbol] = <a href="#336545" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</span>(<a href="#337008" title="LambdaLift.this.global.Symbol">sym</a>) <span title="Iterator[LambdaLift.this.global.Symbol]" class="keyword">match</span> {
      <span title="Iterator[LambdaLift.this.global.Symbol]" class="keyword">case</span> Some(<a title="LambdaLifter.this.SymSet" id="337016">ss</a>) =&gt; <a href="#337016" title="LambdaLifter.this.SymSet">ss</a>.<a href="../util/TreeSet.scala.html#336593" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>
      <span title="&lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a title="=&gt; collection.Iterator.type" id="366">Iterator</a>.<a title="=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]" id="32117">empty</a>
    }

    /** The traverse function */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.Traverser" id="336566">freeVarTraverser</a> = <a href="#336617" title="LambdaLift.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26774" title="anonymous class $anon extends LambdaLift.this.global.Traverser" id="336617">Traverser</a> {
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)Unit" id="336619">traverse</a>(<a title="LambdaLift.this.global.Tree" id="336623">tree</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>) {
       <span class="keyword">try</span> { //debug
        <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="336625">sym</a> = <a href="#336623" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>;
        <a href="#336623" title="LambdaLift.this.global.Tree">tree</a> <span title="Any" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) =&gt;
            <a href="#336556" title="(key: LambdaLift.this.global.Symbol,value: scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree])Unit">liftedDefs</a>(<a href="#336623" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>) = <span title="scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" id="24819">ListBuffer</a>
            <span title="Unit" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) <a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>
          <span title="Any" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
            <span title="Any" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) {
              <a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>
              <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)sym.type">sym</a> setFlag (PRIVATE | LOCAL <span title="Long(524324L)">|</span> FINAL)
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26959" title="=&gt; Boolean">isPrimaryConstructor</a>) {
              <a href="#336560" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><a href="../util/TreeSet.scala.html#336592" title="(x: LambdaLift.this.global.Symbol)Unit">(</a><a href="#336549" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>) addEntry <a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
            }
          <span title="AnyVal" class="keyword">case</span> Ident(<a title="LambdaLift.this.global.Name" id="336718">name</a>) =&gt;
            <span title="AnyVal" class="keyword">if</span> (<a href="#336625" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26134" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a>) {
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#336718" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26531" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29689" title="=&gt; LambdaLift.this.global.Name">WILDCARD</a>)
            } <span class="keyword">else</span> <span title="AnyVal" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="336737">owner</a> = <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#70822" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>)
              <span title="AnyVal with NotNull" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) <a href="#336563" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#336737" title="LambdaLift.this.global.Symbol">owner</a>)
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) <a href="#336564" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit">markCalled</a>(<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#336737" title="LambdaLift.this.global.Symbol">owner</a>)
                //symSet(called, owner) addEntry sym
            }
          <span title="Unit" class="keyword">case</span> Select(_, _) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26916" title="(x$1: Boolean)Boolean">isConstructor</a> &amp;&amp; <a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="336768">owner</a> = <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#70822" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>);
              <a href="#336564" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit">markCalled</a>(<a href="#336625" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#336768" title="LambdaLift.this.global.Symbol">owner</a>) //symSet(called, owner) addEntry sym
            }
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#70825" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a>(<a href="#336623" title="LambdaLift.this.global.Tree">tree</a>)
       } <span class="keyword">catch</span> {//debug
         <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="336776">ex</a>: <a title="Throwable" id="1887">Throwable</a> =&gt;
           <a title="object Console" id="390">Console</a>.<a title="(x: Any)Unit" id="51323">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#336623" title="LambdaLift.this.global.Tree">tree</a>)
           <span title="Nothing" class="keyword">throw</span> <a href="#336776" title="java.lang.Throwable">ex</a>
       }
      }
    }

    /** Compute free variables map `fvs'.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="336568">computeFreeVars</a> {
      <a href="#336566" title="=&gt; LambdaLift.this.global.Traverser">freeVarTraverser</a>.<a href="../ast/Trees.scala.html#70825" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a>(<a href="#336579" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; LambdaLift.this.global.Tree">body</a>)

      <a href="#337084" title="Unit" class="keyword">do</a> {
        <a href="#336554" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="337094">caller</a> &lt;- <a href="#336549" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">keysIterator</span>;
             <a title="LambdaLift.this.global.Symbol" id="337114">callee</a> &lt;- <a href="#336549" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">called</a>(<a href="#337094" title="LambdaLift.this.global.Symbol">caller</a>).<a href="../util/TreeSet.scala.html#336593" title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">iterator</a>;
             <a title="LambdaLift.this.global.Symbol" id="337121">fv</a> &lt;- <a href="#336565" title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]">freeVars</a><span title="(f: (LambdaLift.this.global.Symbol) =&gt; Boolean)Unit">(</span><a href="#337114" title="LambdaLift.this.global.Symbol">callee</a>))
          <a href="#336563" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#337121" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#337094" title="LambdaLift.this.global.Symbol">caller</a>)
      } <span class="keyword">while</span> (<a href="#336554" title="=&gt; Boolean">changedFreeVars</a>);

      <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="337139">sym</a> &lt;- <a href="#336551" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a>.<a href="../util/TreeSet.scala.html#336593" title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">iterator</a>) {
        <span class="keyword">val</span> <a title="java.lang.String" id="337140">base</a> =
          <span title="java.lang.String" class="keyword">if</span> (<a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26932" title="(x$1: Boolean)Boolean">isAnonymousFunction</a> &amp;&amp; <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>)
            <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>() + <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
          <span class="keyword">else</span> <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
        <span class="keyword">val</span> <a title="String" id="337141">fresh</a> = <a href="#336579" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45434" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#73998" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#337140" title="java.lang.String">base</a>)
        <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26989" title="(name: LambdaLift.this.global.Name)Unit">name</a> = <span title="LambdaLift.this.global.Name" class="keyword">if</span> (<a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28200" title="=&gt; Boolean">isTypeName</a>) <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)LambdaLift.this.global.Name">fresh</a>.<a href="../symtab/Names.scala.html#28202" title="=&gt; LambdaLift.this.global.Name">toTypeName</a> <span class="keyword">else</span> <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)LambdaLift.this.global.Name">fresh</a>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;renamed: &quot;</span> + <a href="#337139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>)
      }

      <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>) {
        <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="337217">owner</a> &lt;- <a href="#336545" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">keysIterator</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337217" title="LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) = &quot;)" class="string">&quot;) = &quot;</span> + <a href="#336545" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">free</a>(<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>).<a href="../util/TreeSet.scala.html#336593" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>.<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>);
          <a href="#336547" title="(key: LambdaLift.this.global.Symbol,value: List[LambdaLift.this.global.Symbol])Unit">proxies</a>(<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>) =
            <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="337274">fv</a> &lt;- <a href="#336545" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">free</a>(<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>).<a href="../util/TreeSet.scala.html#336593" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.TermSymbol)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.TermSymbol,List[LambdaLift.this.global.Symbol],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">toList</span>) <span class="keyword">yield</span> {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.TermSymbol" id="337275">proxy</a> = <a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26863" title="(pos: scala.tools.nsc.util.Position,name: LambdaLift.this.global.Name)LambdaLift.this.global.TermSymbol">newValue</a>(<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#337274" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>)
                .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a>(<span title="Long" class="keyword">if</span> (<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) PARAMACCESSOR | PRIVATE <span title="Long(537395204L)">|</span> LOCAL <span class="keyword">else</span> <span title="Long(8192L)">PARAM</span>)
                .<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>)
                .<a href="../symtab/Symbols.scala.html#27005" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.TermSymbol">setInfo</a>(<a href="#337274" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>);
              <span title="Any" class="keyword">if</span> (<a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) <a href="#337217" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27131" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">decls</a> enter <a href="#337275" title="LambdaLift.this.global.TermSymbol">proxy</a>;
              <a href="#337275" title="LambdaLift.this.global.TermSymbol">proxy</a>
            }
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="336569">proxy</a>(<a title="LambdaLift.this.global.Symbol" id="337371">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">def</span> <a title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="337374">searchIn</a>(<a title="LambdaLift.this.global.Symbol" id="337375">owner</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
          <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;searching for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) in &quot;)" class="string">&quot;) in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337375" title="LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#337375" title="LambdaLift.this.global.Symbol">owner</a>));//debug
        <a href="#336547" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</span>(<a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#337375" title="LambdaLift.this.global.Symbol">owner</a>)) <span title="LambdaLift.this.global.Symbol" class="keyword">match</span> {
          <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> Some(<a title="List[LambdaLift.this.global.Symbol]" id="337404">ps</a>) =&gt; 
            <a href="#337404" title="(p: (LambdaLift.this.global.Symbol) =&gt; Boolean)List[LambdaLift.this.global.Symbol]" id="25253">ps</a> filter (<a title="LambdaLift.this.global.Symbol" id="337409">p</a> =&gt; <a href="#337409" title="LambdaLift.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#26988" title="(x$1: AnyRef)Boolean">name</a> == <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; LambdaLift.this.global.Name">name</a>) <span title="LambdaLift.this.global.Symbol" class="keyword">match</span> {
              <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <a href="#337420" title="(x: List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]">List</a>(<a title="LambdaLift.this.global.Symbol" id="337429">p</a>) =&gt; <a href="#337429" title="LambdaLift.this.global.Symbol">p</a>
              <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <a href="#337432" title="(x: List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]">List</a>() =&gt; <a href="#337374" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="#336561" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#337375" title="LambdaLift.this.global.Symbol">owner</a>))
            }
          <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#337374" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="#336561" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#337375" title="LambdaLift.this.global.Symbol">owner</a>))
        }
      }
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;proxy &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#45467" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#26985" title="=&gt; List[LambdaLift.this.global.explicitOuter.global.Symbol]">ownerChain</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>));//debug
      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) == <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>)) <a href="#337371" title="LambdaLift.this.global.Symbol">sym</a>
      <span class="keyword">else</span> <a href="#337374" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select" id="336570">memberRef</a>(<a title="LambdaLift.this.global.Symbol" id="337483">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337486">clazz</a> = <a href="#337483" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      //Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)
      <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="337487">qual</a> = <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#337486" title="(x$1: AnyRef)Boolean">clazz</a> == <a href="../ast/Trees.scala.html#45471" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>) <a href="../Global.scala.html#39031" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42681" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#337486" title="LambdaLift.this.global.Symbol">clazz</a>)
                 <span class="keyword">else</span> {
                   <a href="../symtab/Symbols.scala.html#26994" title="(mask: Long)sym.type">sym</a> resetFlag(LOCAL <span title="Long(524292L)">|</span> PRIVATE)
                   <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#337486" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#26968" title="=&gt; Boolean">isStaticOwner</a>) <a href="../Global.scala.html#39031" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42673" title="(tpe: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#337486" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27037" title="=&gt; LambdaLift.this.global.Type">thisType</a>)
                   <span class="keyword">else</span> <a href="ExplicitOuter.scala.html#336540" title="(base: LambdaLift.this.global.explicitOuter.global.Tree,from: LambdaLift.this.global.explicitOuter.global.Symbol,to: LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree">outerPath</a>(<a href="ExplicitOuter.scala.html#336538" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">outerValue</a>, <a href="../ast/Trees.scala.html#45471" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27042" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">outerClass</a>, <a href="#337486" title="LambdaLift.this.global.Symbol">clazz</a>)
                 }
      <a href="../ast/Trees.scala.html#26731" title="(qualifier: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">Select</a><a href="../ast/Trees.scala.html#29366" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Select">(</a><a href="#337487" title="LambdaLift.this.global.gen.global.Tree">qual</a>, <a href="#337483" title="LambdaLift.this.global.Symbol">sym</a>) setType <a href="#337483" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="336571">proxyRef</a>(<a title="LambdaLift.this.global.Symbol" id="337577">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337580">psym</a> = <a href="#336569" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">proxy</a>(<a href="#337577" title="LambdaLift.this.global.Symbol">sym</a>)
      <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#337580" title="LambdaLift.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) <a href="../Global.scala.html#39031" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42682" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedIdent</a>(<a href="#337580" title="LambdaLift.this.global.Symbol">psym</a>) <span class="keyword">else</span> <a href="#336570" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a>(<a href="#337580" title="LambdaLift.this.global.Symbol">psym</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]" id="336572">addFreeArgs</a>(<a title="scala.tools.nsc.util.Position" id="337589">pos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="LambdaLift.this.global.Symbol" id="337590">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="List[LambdaLift.this.global.Tree]" id="337591">args</a>: <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree]) = {
      <span class="keyword">def</span> <a title="(fv: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="337594">freeArg</a>(<a title="LambdaLift.this.global.Symbol" id="337596">fv</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>) = <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a>(<a href="#337589" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#336571" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a>(<a href="#337596" title="LambdaLift.this.global.Symbol">fv</a>))
      <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="337595">fvs</a> = <a href="#336565" title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]">freeVars</a>(<a href="#337590" title="LambdaLift.this.global.Symbol">sym</a>).<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>
      <span title="List[LambdaLift.this.global.Tree]" class="keyword">if</span> (<a href="#337595" title="List[LambdaLift.this.global.Symbol]">fvs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#337591" title="List[LambdaLift.this.global.Tree]">args</a> <span class="keyword">else</span> <a href="#337591" title="List[LambdaLift.this.global.Tree]">args</a> <a href="#337613" title="List[LambdaLift.this.global.Tree]">:::</a> <span title="(prefix: List[LambdaLift.this.global.gen.global.Tree])List[LambdaLift.this.global.gen.global.Tree]">(</span><a href="#337595" title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.gen.global.Tree]">fvs</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree],List#Coll]">map</span> <a href="#337594" title="(fv: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">freeArg</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="336573">addFreeParams</a>(<a title="LambdaLift.this.global.Tree" id="337709">tree</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>, <a title="LambdaLift.this.global.Symbol" id="337710">sym</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#336547" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</span>(<a href="#337710" title="LambdaLift.this.global.Symbol">sym</a>) <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
      <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Some(<a title="List[LambdaLift.this.global.Symbol]" id="337718">ps</a>) =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.ValDef]" id="337721">freeParams</a> = <a href="#337718" title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.ValDef)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.ValDef]">ps</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef],List#Coll]">map</span> (<a title="LambdaLift.this.global.Symbol" id="337730">p</a> =&gt; <a href="../ast/Trees.scala.html#26623" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef">ValDef</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.ValDef">(</a><a href="#337730" title="LambdaLift.this.global.Symbol">p</a>) <a href="../ast/Trees.scala.html#29366" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.ValDef">setPos</a> <a href="#337709" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a> setType <a href="../symtab/Types.scala.html#26224" title="object LambdaLift.this.global.NoType">NoType</a>);
        <a href="#337709" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
          <span title="LambdaLift.this.global.explicitOuter.global.DefDef" class="keyword">case</span> DefDef(<a title="LambdaLift.this.global.Modifiers" id="337851">mods</a>, <a title="LambdaLift.this.global.Name" id="337852">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="337853">tparams</a>, <a href="#337855" title="(x: List[List[LambdaLift.this.global.ValDef]])Some[List[List[LambdaLift.this.global.ValDef]]]">List</a>(<a title="List[LambdaLift.this.global.ValDef]" id="337864">vparams</a>), <a title="LambdaLift.this.global.Tree" id="337866">tpt</a>, <a title="LambdaLift.this.global.Tree" id="337867">rhs</a>) =&gt;
            <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="337870">addParams</a> = <a href="../symtab/Symbols.scala.html#26136" title="(syms: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">cloneSymbols</a>(<a href="#337718" title="List[LambdaLift.this.global.Symbol]">ps</a>).<span title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol],List#Coll]">(</span><a href="#337887" title="LambdaLift.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)x$3.type">setFlag</a>(<span title="Long(8192L)">PARAM</span>))            
            <a href="#337710" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a>(
              <a href="#336304" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="../symtab/Types.scala.html#43895" title="(params: List[LambdaLift.this.global.Symbol],resultType: LambdaLift.this.global.Type)LambdaLift.this.global.MethodType">MethodType</a>(<a href="#337710" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30199" title="=&gt; List[LambdaLift.this.global.Symbol]">params</a> <a href="#337990" title="List[LambdaLift.this.global.Symbol]">:::</a> <a href="#337870" title="(prefix: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">addParams</a>, <a href="#337710" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30193" title="=&gt; LambdaLift.this.global.Type">resultType</a>)))
            <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a>(<a href="#337709" title="LambdaLift.this.global.Tree">tree</a>, <a href="#337851" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#337852" title="LambdaLift.this.global.Name">name</a>, <a href="#337853" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <span title="(xs: List[LambdaLift.this.global.ValDef]*)List[List[LambdaLift.this.global.ValDef]]">List</span>(<a href="#337864" title="List[LambdaLift.this.global.ValDef]">vparams</a> <a href="#338020" title="List[LambdaLift.this.global.ValDef]">:::</a> <a href="#337721" title="(prefix: List[LambdaLift.this.global.ValDef])List[LambdaLift.this.global.ValDef]">freeParams</a>), <a href="#337866" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#337867" title="LambdaLift.this.global.Tree">rhs</a>)
          <span title="LambdaLift.this.global.explicitOuter.global.ClassDef" class="keyword">case</span> ClassDef(<a title="LambdaLift.this.global.Modifiers" id="338039">mods</a>, <a title="LambdaLift.this.global.Name" id="338040">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="338041">tparams</a>, <a title="LambdaLift.this.global.Template" id="338042">impl</a> @ Template(<a title="List[LambdaLift.this.global.Tree]" id="338048">parents</a>, <a title="LambdaLift.this.global.ValDef" id="338049">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="338050">body</a>)) =&gt;
            <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48541" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a>(<a href="#337709" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338039" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#338040" title="LambdaLift.this.global.Name">name</a>, <a href="#338041" title="List[LambdaLift.this.global.TypeDef]">tparams</a>,
                              <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48550" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,parents: List[LambdaLift.this.global.explicitOuter.global.Tree],self: LambdaLift.this.global.explicitOuter.global.ValDef,body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a>(<a href="#338042" title="LambdaLift.this.global.Template">impl</a>, <a href="#338048" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#338049" title="LambdaLift.this.global.ValDef">self</a>, <a href="#338050" title="List[LambdaLift.this.global.Tree]">body</a> <a href="#338064" title="List[LambdaLift.this.global.Tree]">:::</a> <a href="#337721" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">freeParams</a>))
        }
      <span title="LambdaLift.this.global.Tree" class="keyword">case</span> <span title="object None">None</span> =&gt;
        <a href="#337709" title="LambdaLift.this.global.Tree">tree</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="336574">liftDef</a>(<a title="LambdaLift.this.global.Tree" id="338076">tree</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="338078">sym</a> = <a href="#338076" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26984" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27031" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span title="Unit" class="keyword">if</span> (<a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>) <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26984" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27057" title="=&gt; LambdaLift.this.global.Symbol">toInterface</a>
      <span title="Any" class="keyword">if</span> (<a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) <a href="../symtab/Symbols.scala.html#26993" title="(mask: Long)sym.type">sym</a> setFlag <span title="Long(17179869184L)">LIFTED</span>
      <a href="#336556" title="(key: LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]">liftedDefs</a><a title="(x: LambdaLift.this.global.Tree)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" id="61580">(</a><a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) += <a href="#338076" title="LambdaLift.this.global.Tree">tree</a>
      <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27004" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27132" title="(sym: LambdaLift.this.global.Symbol)Unit">decls</a> enterUnique <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39018" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37759" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39068" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;lifted: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a> + <a href="#338078" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27092" title="=&gt; String">locationString</a>)
      <a href="../ast/Trees.scala.html#26602" title="object LambdaLift.this.global.EmptyTree">EmptyTree</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="336575">postTransform</a>(<a title="LambdaLift.this.global.Tree" id="338164">tree</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="338166">sym</a> = <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#338164" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> ClassDef(_, _, _, _) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="338175">tree1</a> = <a href="#336573" title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>)
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) <a href="#336574" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a>(<a href="#338175" title="LambdaLift.this.global.Tree">tree1</a>) <span class="keyword">else</span> <a href="#338175" title="LambdaLift.this.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="338190">tree1</a> = <a href="#336573" title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>)
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="=&gt; Boolean">isLocal</a>) <a href="#336574" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a>(<a href="#338190" title="LambdaLift.this.global.Tree">tree1</a>) <span class="keyword">else</span> <a href="#338190" title="LambdaLift.this.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> ValDef(<a title="LambdaLift.this.global.Modifiers" id="338201">mods</a>, <a title="LambdaLift.this.global.Name" id="338202">name</a>, <a title="LambdaLift.this.global.Tree" id="338203">tpt</a>, <a title="LambdaLift.this.global.Tree" id="338204">rhs</a>) =&gt;
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26904" title="=&gt; Boolean">isCapturedVariable</a>) {
            <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeTree" id="338214">tpt1</a> = <a href="../ast/Trees.scala.html#26744" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.TypeTree">(</a><a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>) setPos <a href="#338203" title="LambdaLift.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="338215">rhs1</a> =
              <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">atPos</a>(<a href="#338204" title="LambdaLift.this.global.Tree">rhs</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                <a href="../typechecker/Typers.scala.html#42640" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> {
                  <a href="../ast/Trees.scala.html#49125" title="(fun: LambdaLift.this.global.Tree,args: List[LambdaLift.this.global.Tree])LambdaLift.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50275" title="(qualifier: LambdaLift.this.global.Tree,name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#50316" title="(tpt: LambdaLift.this.global.Tree)LambdaLift.this.global.New">New</a>(<a href="../ast/Trees.scala.html#26744" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a>(<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>)), <a href="../symtab/StdNames.scala.html#26531" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29719" title="=&gt; LambdaLift.this.global.Name">CONSTRUCTOR</a>), <span title="(xs: LambdaLift.this.global.Tree*)List[LambdaLift.this.global.Tree]">List</span>(<a href="#338204" title="LambdaLift.this.global.Tree">rhs</a>))
                }
              }
            <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48544" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef">ValDef</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338201" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#338202" title="LambdaLift.this.global.Name">name</a>, <a href="#338214" title="LambdaLift.this.global.TypeTree">tpt1</a>, <a href="#338215" title="LambdaLift.this.global.analyzer.global.Tree">rhs1</a>)
          } <span class="keyword">else</span> <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>
        <span title="LambdaLift.this.global.Block" class="keyword">case</span> Return(Block(<a title="List[LambdaLift.this.global.Tree]" id="338354">stats</a>, <a title="LambdaLift.this.global.Tree" id="338355">value</a>)) =&gt;
          <a href="../ast/Trees.scala.html#49026" title="(stats: List[LambdaLift.this.global.Tree],expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Block">Block</a><a href="../ast/Trees.scala.html#29366" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Block">(</a><a href="#338354" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48564" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return">Return</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338355" title="LambdaLift.this.global.Tree">value</a>)) <a href="../ast/Trees.scala.html#29365" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.Block">setType</a> <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; LambdaLift.this.global.Type">tpe</a> setPos <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Return(<a title="LambdaLift.this.global.Tree" id="338394">expr</a>) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#338166" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../ast/Trees.scala.html#45470" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentMethod</a>, <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>)
          <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>
        <span title="LambdaLift.this.global.explicitOuter.global.Apply" class="keyword">case</span> Apply(<a title="LambdaLift.this.global.Tree" id="338413">fn</a>, <a title="List[LambdaLift.this.global.Tree]" id="338414">args</a>) =&gt;
          <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48570" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,fun: LambdaLift.this.global.explicitOuter.global.Tree,args: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply">Apply</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338413" title="LambdaLift.this.global.Tree">fn</a>, <a href="#336572" title="(pos: scala.tools.nsc.util.Position,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">addFreeArgs</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#338414" title="List[LambdaLift.this.global.Tree]">args</a>))
        <span title="LambdaLift.this.global.explicitOuter.global.Assign" class="keyword">case</span> Assign(Apply(TypeApply(<a title="LambdaLift.this.global.Select" id="338430">sel</a> @ Select(<a title="LambdaLift.this.global.Tree" id="338435">qual</a>, _), _), <a href="#338441" title="(x: List[LambdaLift.this.global.Tree])Some[List[LambdaLift.this.global.Tree]]">List</a>()), <a title="LambdaLift.this.global.Tree" id="338453">rhs</a>) =&gt;
          // eliminate casts introduced by selecting a captured variable field
          // on the lhs of an assignment.
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#338430" title="LambdaLift.this.global.Select">sel</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="../symtab/Definitions.scala.html#28525" title="=&gt; LambdaLift.this.global.Symbol">Object_asInstanceOf</a>)
          <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48560" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,lhs: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign">Assign</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338435" title="LambdaLift.this.global.Tree">qual</a>, <a href="#338453" title="LambdaLift.this.global.Tree">rhs</a>)
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Ident(<a title="LambdaLift.this.global.Name" id="338475">name</a>) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="338478">tree1</a> =
            <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338166" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#26134" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26895" title="=&gt; Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26912" title="=&gt; Boolean">isLabel</a>)
              <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>) 
                <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.Select)LambdaLift.this.global.Select">atPos</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#336570" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a>(<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26971" title="(x$1: Boolean)Boolean">isLocal</a> &amp;&amp; <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26983" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) != <a href="#336562" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#45467" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>))
                <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#336571" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a>(<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>
            <span class="keyword">else</span> <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>;
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26904" title="=&gt; Boolean">isCapturedVariable</a>)
            <a href="../ast/Trees.scala.html#26784" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a>(<a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Type" id="338538">tp</a> = <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="338539">elemTree</a> = <a href="../typechecker/Typers.scala.html#42640" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#50275" title="(qualifier: LambdaLift.this.global.Tree,name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#29366" title="(tp: LambdaLift.this.global.gen.global.Type)tree1.type">tree1</a> setType <a href="#338166" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="../symtab/StdNames.scala.html#26531" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29862" title="=&gt; LambdaLift.this.global.Name">elem</a>) }
              <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#338539" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; LambdaLift.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="(x$1: AnyRef)Boolean">typeSymbol</a> != <a href="#338538" title="LambdaLift.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>) <a href="../Global.scala.html#39031" title="object LambdaLift.this.global.gen">gen</a>.<a href="../Global.scala.html#43528" title="(tree: LambdaLift.this.global.Tree,pt: LambdaLift.this.global.Type)LambdaLift.this.global.Tree">mkAttributedCast</a>(<a href="#338539" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>, <a href="#338538" title="LambdaLift.this.global.Type">tp</a>) <span class="keyword">else</span> <a href="#338539" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>
            }
          <span class="keyword">else</span> <a href="#338478" title="LambdaLift.this.global.gen.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#338164" title="LambdaLift.this.global.Tree">tree</a>
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="336576">transform</a>(<a title="LambdaLift.this.global.Tree" id="338617">tree</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a> =
      <a href="#336575" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">postTransform</a>(<span class="keyword">super</span>.<a href="ExplicitOuter.scala.html#336541" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">transform</a><a href="../ast/Trees.scala.html#29366" title="(tp: LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree">(</a><a href="#338617" title="LambdaLift.this.global.Tree">tree</a>) setType <a href="#336304" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="#338617" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; LambdaLift.this.global.Type">tpe</a>))

    /** Transform statements and add lifted definitions to them. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[LambdaLift.this.global.Tree],exprOwner: LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]" id="336577">transformStats</a>(<a title="List[LambdaLift.this.global.Tree]" id="338647">stats</a>: <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree], <a title="LambdaLift.this.global.Symbol" id="338648">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26127" title="LambdaLift.this.global.Symbol">Symbol</a>): <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree] = {
      <span class="keyword">def</span> <a title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="338652">addLifted</a>(<a title="LambdaLift.this.global.Tree" id="338653">stat</a>: <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26593" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#338653" title="LambdaLift.this.global.Tree">stat</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
        <span title="LambdaLift.this.global.explicitOuter.global.ClassDef" class="keyword">case</span> ClassDef(<a title="LambdaLift.this.global.Modifiers" id="338660">mods</a>, <a title="LambdaLift.this.global.Name" id="338661">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="338662">tparams</a>, <a title="LambdaLift.this.global.Template" id="338663">impl</a> @ Template(<a title="List[LambdaLift.this.global.Tree]" id="338669">parents</a>, <a title="LambdaLift.this.global.ValDef" id="338670">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="338671">body</a>)) =&gt;
          <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Tree]" id="338676">lifted</a> = <a href="#336556" title="(key: LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]">liftedDefs</a>(<a href="#338653" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>).<a title="(f: (LambdaLift.this.global.Tree) =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]" id="61592">toList</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List#Coll]">map</span> <a href="#338652" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
          <span class="keyword">val</span> <a title="LambdaLift.this.global.explicitOuter.global.ClassDef" id="338677">result</a> = <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48541" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a>(
            <a href="#338653" title="LambdaLift.this.global.Tree">stat</a>, <a href="#338660" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#338661" title="LambdaLift.this.global.Name">name</a>, <a href="#338662" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48550" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,parents: List[LambdaLift.this.global.explicitOuter.global.Tree],self: LambdaLift.this.global.explicitOuter.global.ValDef,body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a>(<a href="#338663" title="LambdaLift.this.global.Template">impl</a>, <a href="#338669" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#338670" title="LambdaLift.this.global.ValDef">self</a>, <a href="#338671" title="List[LambdaLift.this.global.Tree]">body</a> <a href="#338790" title="List[LambdaLift.this.global.Tree]">:::</a> <a href="#338676" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">lifted</a>))
          <a href="#336556" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.liftedDefs.type" id="44393">liftedDefs</a> -= <a href="#338653" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
          <a href="#338677" title="LambdaLift.this.global.explicitOuter.global.ClassDef">result</a>
        <span title="LambdaLift.this.global.explicitOuter.global.DefDef" class="keyword">case</span> DefDef(<a title="LambdaLift.this.global.Modifiers" id="338835">mods</a>, <a title="LambdaLift.this.global.Name" id="338836">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="338837">tp</a>, <a title="List[List[LambdaLift.this.global.ValDef]]" id="338838">vp</a>, <a title="LambdaLift.this.global.Tree" id="338839">tpt</a>, Block(<a title="object Nil" id="7634">Nil</a>, <a title="LambdaLift.this.global.Tree" id="338842">expr</a>))
        <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#338653" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26916" title="=&gt; Boolean">isConstructor</a> =&gt;
          <a href="../ast/Trees.scala.html#45465" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48545" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a>(<a href="#338653" title="LambdaLift.this.global.Tree">stat</a>, <a href="#338835" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#338836" title="LambdaLift.this.global.Name">name</a>, <a href="#338837" title="List[LambdaLift.this.global.TypeDef]">tp</a>, <a href="#338838" title="List[List[LambdaLift.this.global.ValDef]]">vp</a>, <a href="#338839" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#338842" title="LambdaLift.this.global.Tree">expr</a>)
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#338653" title="LambdaLift.this.global.Tree">stat</a>
      }
      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45482" title="(stats: List[LambdaLift.this.global.explicitOuter.global.Tree],exprOwner: LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]">transformStats</a><span title="(f: (LambdaLift.this.global.explicitOuter.global.Tree) =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List[LambdaLift.this.global.explicitOuter.global.Tree]])List[LambdaLift.this.global.Tree]">(</span><a href="#338647" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="#338648" title="LambdaLift.this.global.Symbol">exprOwner</a>) <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List#Coll]">map</span> <a href="#338652" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)Unit" id="336578">transformUnit</a>(<a title="LambdaLift.this.global.CompilationUnit" id="338896">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>) {
      <a href="#336568" title="=&gt; Unit">computeFreeVars</a>
      <a href="../symtab/SymbolTable.scala.html#26097" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26088" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23158" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#784161" title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit" class="keyword">super</a>.<a title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit" id="784161">transformUnit</a>(<a href="#338896" title="LambdaLift.this.global.CompilationUnit">unit</a>))
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#336556" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a title="(x$1: Int)Boolean" id="44379">size</a> == <span title="Int(0)" class="int">0</span>, <a href="#336556" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">liftedDefs</a>.<span title="=&gt; Iterator[LambdaLift.this.global.Symbol]">keysIterator</span>.<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>)
    }
  } // class LambdaLifter

}

        </pre>
    </body>
</html>