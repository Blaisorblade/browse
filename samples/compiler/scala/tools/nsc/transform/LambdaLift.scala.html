<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */</span>
<span class="comment">// $Id: LambdaLift.scala 17188 2009-02-24 11:54:40Z michelou $</span>

<span class="keyword">package</span> scala.tools.nsc.transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> util.TreeSet
<span class="keyword">import</span> scala.collection.mutable.{HashMap, ListBuffer}
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}

<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject</span><a id="13576">LambdaLift</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.transform.InfoTransform</span><a href="InfoTransform.scala.html#12961">InfoTransform</a></span> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator}
  <span class="keyword">import</span> posAssigner.atPos

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <span class="typed"><span class="type">String</span><span id="82778"><a id="82777">phaseName</a></span></span>: <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;lambdalift&quot;)</span><span class="string">&quot;lambdalift&quot;</span></span>

  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.TypeMap</span><span id="82780"><a id="82779">lifted</a></span></span> = <span class="typed"><span class="type">template $anon extends LambdaLift.this.global.TypeMap</span><a id="150479" class="keyword">new</a></span> <span class="typed"><span class="type">LambdaLift.this.global.TypeMap</span><a href="../symtab/Types.scala.html#22053">TypeMap</a></span> {
    <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a id="150481">apply</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a id="150483">tp</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150483">tp</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">case</span></span> <a id="1">TypeRef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a id="150484">pre</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150485">sym</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a id="150486">args</a></span>) =&gt;
        <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150484">pre</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object LambdaLift.this.global.NoPrefix</span><a href="../symtab/Types.scala.html#21965">NoPrefix</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150485">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150485">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25167">isPackageClass</a></span>) {
          <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150486">args</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>);
          <span class="typed"><span class="type">(LambdaLift.this.global.Type,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Type])LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#22031">typeRef</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="#150481">apply</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150485">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25257">enclClass</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>), <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150485">sym</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150486">args</a></span>)
        } <span class="keyword">else</span> <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#27743">mapOver</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150483">tp</a></span>)
      <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">case</span></span> <a id="1">ClassInfoType</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a id="150507">parents</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Scope</span><a id="150508">decls</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150509">clazz</a></span>) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a id="150510">parents1</a></span> = <span class="typed"><span class="type">object List</span><a id="527">List</a></span>.<span class="typed"><span class="type">(List[LambdaLift.this.global.Type])((LambdaLift.this.global.Type) =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]</span><a id="21447">mapConserve</a></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150507">parents</a></span>)(<span class="typed"><span class="type">LambdaLift.this.global.TypeMap{ ... }</span><a href="#150479" class="keyword">this</a></span>)
        <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150510">parents1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5794">eq</a></span> <span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150507">parents</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150483">tp</a></span>
        <span class="keyword">else</span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Type],LambdaLift.this.global.Scope,LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType</span><a href="../symtab/Types.scala.html#43446">ClassInfoType</a></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Type]</span><a href="#150510">parents1</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Scope</span><a href="#150508">decls</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150509">clazz</a></span>)
      <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#27743">mapOver</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150483">tp</a></span>)
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a id="82781">transformInfo</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150533">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a id="150534">tp</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#21944">Type</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="#82779" id="21757">lifted</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150534">tp</a></span>)

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer</span><a id="82782">newTransformer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a id="150535">unit</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Transformer</span><a href="../ast/Trees.scala.html#22548">Transformer</a></span> =
    <span class="typed"><span class="type">LambdaLift.this.LambdaLifter</span><span class="keyword">new</span></span> <span class="typed"><span class="type">LambdaLift.this.LambdaLifter</span><a href="#82783">LambdaLifter</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="#150535">unit</a></span>)

  <span class="keyword">class</span> <span class="typed"><span class="type">class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer with ScalaObject</span><a id="82783">LambdaLifter</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><span id="150537"><a id="150573">unit</a></span></span>: <span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">object LambdaLift.this.global.explicitOuter</span><a href="../Global.scala.html#21253">explicitOuter</a></span>.<span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.OuterPathTransformer</span><a href="ExplicitOuter.scala.html#29493">OuterPathTransformer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="#150573">unit</a></span>) {

    <span class="comment">/** A map storing free variables of functions and classes */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><span id="150540"><a id="150539">free</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a id="20081">HashMap</a></span>[Symbol, SymSet]

    <span class="comment">/** A map storing the free variable proxies of functions and classes */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><span id="150542"><a id="150541">proxies</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><a id="20081">HashMap</a></span>[Symbol, List[Symbol]]

    <span class="comment">/** A hashtable storing calls between functions */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><span id="150544"><a id="150543">called</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a id="20081">HashMap</a></span>[Symbol, SymSet]

    <span class="comment">/** The set of symbols that need to be renamed. */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><span id="150546"><a id="150545">renamable</a></span></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150553">newSymSet</a></span>

    <span class="comment">/** A flag to indicate whether new free variables have been found */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="150549"><span id="150547"><span id="150548"><a id="150581">changedFreeVars</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = _

    <span class="comment">/** Buffers for lifted out classes and methods */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><span id="150551"><a id="150550">liftedDefs</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><a id="20081">HashMap</a></span>[Symbol, ListBuffer[Tree]]

    <span class="keyword">private</span> <span class="keyword">type</span> <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a id="150552">SymSet</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#8429">TreeSet</a></span>[Symbol]

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a id="150553">newSymSet</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#8429">TreeSet</a></span>[Symbol]((<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150579">x</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150580">y</a></span>) =&gt; <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150579">x</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Boolean</span><a href="../symtab/Symbols.scala.html#25247">isLess</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150580">y</a></span>))

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a id="150554">symSet</a></span>(<span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a id="150593">f</a></span>: <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a id="20081">HashMap</a></span>[Symbol, SymSet], <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150594">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a href="../util/TreeSet.scala.html#8429">SymSet</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150593">f</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150594">sym</a></span>) <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a id="150628">ss</a></span>) =&gt; <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a href="#150628">ss</a></span>
      <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a id="150629">ss</a></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150553">newSymSet</a></span>; <span class="typed"><span class="type">scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150593">f</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150594">sym</a></span>) = <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150629">ss</a></span>; <span class="typed"><span class="type">scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150629">ss</a></span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a id="150555">outer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150630">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> =
      <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150630">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25148">isConstructor</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150630">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150630">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>;

    <span class="comment">/** The method or class which logically encloses the current symbol.
     *  If the symbol is defined in the initialization part of a template
     *  this is the template's primary constructor, otherwise it is
     *  the physically enclosing method or class.
     *
     *  Example 1:
     *
     *  def f() { val x = { def g() = ...; g() } }
     *
     *  In this case the owner chain of `g' is `x', followed by `f' and 
     *  enclMethOrClass(`g') == `f'.
     *
     *  Example 2:
     *
     *  class C {
     *    def &lt;init&gt; = { ... }
     *    val x = { def g() = ...; g() } }
     *  }
     *
     *  In this case the owner chain of `g' is `x', followed by `C' but 
     *  enclMethOrClass(`g') is the primary constructor symbol `&lt;init&gt;'
     *  (or, for traits: `$init') of `C'.
     *
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a id="150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150608">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a id="150631">localToConstr</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150634">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) =
        <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150634">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25141">isLocalDummy</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150634">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25259">primaryConstructor</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150634">sym</a></span>;
      <span class="keyword">var</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150632">encl</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150631">localToConstr</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150608">sym</a></span>)
      <span class="typed"><span class="type">Unit</span><a href="#150633" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150632">encl</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150632">encl</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) {
        <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150632">encl</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150631">localToConstr</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150555">outer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150632">encl</a></span>));
      } 
      <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150632">encl</a></span>
    }

    <span class="comment">/** Mark symbol `sym' as being free in `owner', unless `sym'
     *  is defined in `owner' or there is a class between `owner's owner
     *  and the owner of `sym'.
     *  Return `true' if there is no class between `owner' and 
     *  the owner of sym.
     *  pre: sym.isLocal, (owner.isMethod || owner.isClass)
     *
     *  The idea of `markFree' is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x' is free in the primary constructor of class `C'.
     *  but it is not free in `D', because after lambda lift the code would be transformed 
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Boolean</span><a id="150557">markFree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150609">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150610">owner</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;mark &quot;)</span><span class="string">&quot;mark &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; of &quot;)</span><span class="string">&quot; of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; free in &quot;)</span><span class="string">&quot; free in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>)
      <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>)) <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25167">isPackageClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Boolean</span><a href="#150557">markFree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>, <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150555">outer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>)))) <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a id="150638">ss</a></span> = <span class="typed"><span class="type">(scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150554">symSet</a></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150539">free</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>)
        <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a href="#150638">ss</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Boolean</span><a href="../util/Set.scala.html#32120">contains</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>)) {
          <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a href="#150638">ss</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>
          <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150545">renamable</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>
          <span class="typed"><span class="type">(Boolean)Unit</span><a href="#150548">changedFreeVars</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; is free in &quot;)</span><span class="string">&quot; is free in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>);
          <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25135">isVariable</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a href="../symtab/Symbols.scala.html#25223">hasFlag</a></span> <span class="typed"><span class="type">Long(65536L)</span><span >CAPTURED</span></span>)) {
            <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> <span class="typed"><span class="type">Long(65536L)</span><span >CAPTURED</span></span>
            <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150641">symClass</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>;
            <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>) {
              <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150609">sym</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25233">updateInfo</a></span> (
                <span class="typed"><span class="type">LambdaLift.this.global.Type</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Boolean</span><a href="../symtab/Definitions.scala.html#26138">isValueClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150641">symClass</a></span>)) <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26132" id="24239">refClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150641">symClass</a></span>).<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26093">ObjectRefClass</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)
            }
          }
        }
        <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150610">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Unit</span><a id="150558">markCalled</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150611">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150612">owner</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;mark &quot;)</span><span class="string">&quot;mark &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150611">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; of &quot;)</span><span class="string">&quot; of &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150611">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; called by &quot;)</span><span class="string">&quot; called by &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150612">owner</a></span>);
      <span class="typed"><span class="type">(scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150554">symSet</a></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150543">called</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150612">owner</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150611">sym</a></span>
    }
<span class="comment">/*
      if (owner == enclMethOrClass(sym.owner)) true
      else if (owner.isPackageClass || !markCalled(sym, enclMethOrClass(outer(owner)))) false
      else {
        val ss = symSet(called, owner);
        if (!(ss contains sym)) {
          ss addEntry sym;
          if (settings.debug.value) log(&quot;&quot; + sym + &quot; is called by &quot; + owner);
        }
        !owner.isClass
      }
    }
*/</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]</span><a id="150559">freeVars</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150655">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">Iterator[LambdaLift.this.global.Symbol]</span><a id="1339">Iterator</a></span>[Symbol] = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150539">free</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150655">sym</a></span>) <span class="typed"><span class="type">Iterator[LambdaLift.this.global.Symbol]</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Iterator[LambdaLift.this.global.Symbol]</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a id="150656">ss</a></span>) =&gt; <span class="typed"><span class="type">LambdaLifter.this.SymSet</span><a href="#150656">ss</a></span>.<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#32131">elements</a></span>
      <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="typed"><span class="type">object Iterator</span><a id="1340">Iterator</a></span>.<span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]</span><a id="32160">empty</a></span>
    }

    <span class="comment">/** The traverse function */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Traverser</span><span id="150561"><a id="150560">freeVarTraverser</a></span></span> = <span class="typed"><span class="type">template $anon extends LambdaLift.this.global.Traverser</span><a id="150582" class="keyword">new</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Traverser</span><a href="../ast/Trees.scala.html#22549">Traverser</a></span> {
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)Unit</span><a id="150584">traverse</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150586">tree</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>) {
       <span class="keyword">try</span> { <span class="comment">//debug</span>
        <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150587">sym</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150586">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>;
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150586">tree</a></span> <span class="typed"><span class="type">Any</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, _) =&gt;
            <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><a href="#150550">liftedDefs</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150586">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>) = <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]</span><a id="19925">ListBuffer</a></span>
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150545">renamable</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>
          <span class="typed"><span class="type">Any</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt;
            <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) {
              <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150545">renamable</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>
              <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> (PRIVATE | LOCAL <span class="typed"><span class="type">Long(524324L)</span><span >|</span></span> FINAL)
            } <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25187">isPrimaryConstructor</a></span>) {
              <span class="typed"><span class="type">(scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150554">symSet</a></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150543">called</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../util/TreeSet.scala.html#32130">addEntry</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>
            }
          <span class="typed"><span class="type">AnyVal</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150603">name</a></span>) =&gt;
            <span class="typed"><span class="type">AnyVal</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object LambdaLift.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span>) {
              <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150603">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">object LambdaLift.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/StdNames.scala.html#30595">WILDCARD</a></span>)
            } <span class="keyword">else</span> <span class="typed"><span class="type">AnyVal</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150607">owner</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>)
              <span class="typed"><span class="type">AnyVal with NotNull</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Boolean</span><a href="#150557">markFree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150607">owner</a></span>)
              <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Unit</span><a href="#150558">markCalled</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150607">owner</a></span>)
                <span class="comment">//symSet(called, owner) addEntry sym</span>
            }
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Select</a>(_, _) =&gt;
            <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25148">isConstructor</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150620">owner</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#28556">currentOwner</a></span>);
              <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Unit</span><a href="#150558">markCalled</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150587">sym</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150620">owner</a></span>) <span class="comment">//symSet(called, owner) addEntry sym</span>
            }
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        }
        <span class="keyword">super</span>.<span class="typed"><span class="type">(LambdaLift.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150586">tree</a></span>)
       } <span class="keyword">catch</span> {<span class="comment">//debug</span>
         <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a id="150621">ex</a></span>: <span class="typed"><span class="type">Throwable</span><a id="2143">Throwable</a></span> =&gt;
           <span class="typed"><span class="type">object Console</span><a id="440">Console</a></span>.<span class="typed"><span class="type">(Any)Unit</span><a id="27062">println</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;exception when traversing &quot;)</span><span class="string">&quot;exception when traversing &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150586">tree</a></span>)
           <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">java.lang.Throwable</span><a href="#150621">ex</a></span>
       }
      }
    }

    <span class="comment">/** Compute free variables map `fvs'.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="150562">computeFreeVars</a></span> {
      <span class="typed"><span class="type">=&gt; LambdaLift.this.global.Traverser</span><a href="#150560">freeVarTraverser</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Tree)Unit</span><a href="../ast/Trees.scala.html#28559">traverse</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="#150537">unit</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Tree</span><a href="../CompilationUnits.scala.html#24133">body</a></span>)

      <span class="typed"><span class="type">Unit</span><a href="#150658" class="keyword">do</a></span> {
        <span class="typed"><span class="type">(Boolean)Unit</span><a href="#150548">changedFreeVars</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
        <span class="keyword">for</span> (<span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="150660">caller</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150543">called</a></span>.<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a id="24242">keys</a></span>;
             <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="150666">callee</a></span></span> &lt;- <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150543" id="24239">called</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150660">caller</a></span>).<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#32131">elements</a></span>;
             <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="150668">fv</a></span></span> &lt;- <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]</span><a href="#150559">freeVars</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150666">callee</a></span>))
          <span class="typed"><span class="type">(LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol)Boolean</span><a href="#150557">markFree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150668">fv</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150660">caller</a></span>)
      } <span class="keyword">while</span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#150547">changedFreeVars</a></span>);

      <span class="keyword">for</span> (<span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="150670">sym</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]</span><a href="#150545">renamable</a></span>.<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#32131">elements</a></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="150671">base</a></span> =
          <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25164">isAnonymousFunction</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span>)
            <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Names.scala.html#23898">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Names.scala.html#23898">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>
          <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">()String</span><a href="../symtab/Names.scala.html#23898">toString</a></span>() <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span>
        <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="150672">fresh</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="#150537">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.FreshNameCreator</span><a href="../CompilationUnits.scala.html#24130">fresh</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)String</span><a href="../util/FreshNameCreator.scala.html#48784">newName</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">java.lang.String</span><a href="#150671">base</a></span>)
        <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Name)Unit</span><a href="../symtab/Symbols.scala.html#25216">name</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Name</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Names.scala.html#23893">isTypeName</a></span>) <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)LambdaLift.this.global.Name</span><a href="../symtab/Names.scala.html#21102">fresh</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Names.scala.html#23895">toTypeName</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">implicit scala.tools.nsc.symtab.Names.view : (String)LambdaLift.this.global.Name</span><a href="../symtab/Names.scala.html#21102">fresh</a></span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;renamed: &quot;)</span><span class="string">&quot;renamed: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150670">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)
      }

      <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Unit)Unit</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>) {
        <span class="keyword">for</span> (<span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Unit)Unit</span><span id="32202"><a id="150697">owner</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]</span><a href="#150539">free</a></span>.<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a id="24242">keys</a></span>) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
            <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;free(&quot;)</span><span class="string">&quot;free(&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;) = &quot;)</span><span class="string">&quot;) = &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150539" id="24239">free</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>).<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#32131">elements</a></span>.<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Symbol]</span><a id="32235">toList</a></span>);
          <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><a href="#150541">proxies</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>) =
            <span class="keyword">for</span> (<span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.TermSymbol)List[LambdaLift.this.global.TermSymbol]</span><span id="21362"><a id="150711">fv</a></span></span> &lt;- <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet</span><a href="#150539" id="24239">free</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>).<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a href="../util/TreeSet.scala.html#32131">elements</a></span>.<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Symbol]</span><a id="32235">toList</a></span>) <span class="keyword">yield</span> {
              <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.TermSymbol</span><a id="150712">proxy</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position,LambdaLift.this.global.Name)LambdaLift.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25098">newValue</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../symtab/Symbols.scala.html#25087">pos</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150711">fv</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>)
                .<span class="typed"><span class="type">(Long)LambdaLift.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) PARAMACCESSOR | PRIVATE <span class="typed"><span class="type">Long(537395204L)</span><span >|</span></span> LOCAL <span class="keyword">else</span> <span class="typed"><span class="type">Long(8192L)</span><span >PARAM</span></span>)
                .<span class="typed"><span class="type">(Long)LambdaLift.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span>(<span class="typed"><span class="type">Long(2097152L)</span><span >SYNTHETIC</span></span>)
                .<span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.TermSymbol</span><a href="../symtab/Symbols.scala.html#25232">setInfo</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150711">fv</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>);
              <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150697">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="../symtab/Scopes.scala.html#34617">enter</a></span> <span class="typed"><span class="type">LambdaLift.this.global.TermSymbol</span><a href="#150712">proxy</a></span>;
              <span class="typed"><span class="type">LambdaLift.this.global.TermSymbol</span><a href="#150712">proxy</a></span>
            }
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a id="150563">proxy</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150728">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a id="150730">searchIn</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150731">owner</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span> = {
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
          <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;searching for &quot;)</span><span class="string">&quot;searching for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;(&quot;)</span><span class="string">&quot;(&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;) in &quot;)</span><span class="string">&quot;) in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150731">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
              <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150731">owner</a></span>));<span class="comment">//debug</span>
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><a href="#150541">proxies</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150731">owner</a></span>)) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a id="150734">ps</a></span>) =&gt; 
            <span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a href="#150734">ps</a></span> <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; Boolean)List[LambdaLift.this.global.Symbol]</span><a id="21367">filter</a></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150736">p</a></span> =&gt; <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150736">p</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/Symbols.scala.html#25215">name</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">match</span></span> {
              <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]</span><span id="21410"><a href="#150739" id="527">List</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150742">p</a></span>) =&gt; <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150742">p</a></span>
              <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]</span><span id="21410"><a href="#150743" id="527">List</a></span></span>() =&gt; <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150730">searchIn</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150555">outer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150731">owner</a></span>))
            }
          <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt; <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150730">searchIn</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150555">outer</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150731">owner</a></span>))
        }
      }
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>)
        <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;proxy &quot;)</span><span class="string">&quot;proxy &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; in &quot;)</span><span class="string">&quot; in &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; from &quot;)</span><span class="string">&quot; from &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>.<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.explicitOuter.global.Symbol]</span><a href="../symtab/Symbols.scala.html#25213">ownerChain</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span>
            <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>));<span class="comment">//debug</span>
      <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>)) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150728">sym</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150730">searchIn</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Select</span><a id="150564">memberRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150750">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150752">clazz</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150750">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25257">enclClass</a></span>
      <span class="comment">//Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)</span>
      <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><a id="150753">qual</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150752">clazz</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43094">currentClass</a></span>) <span class="typed"><span class="type">object LambdaLift.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27609">mkAttributedThis</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150752">clazz</a></span>)
                 <span class="keyword">else</span> {
                   <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150750">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25221">resetFlag</a></span>(LOCAL <span class="typed"><span class="type">Long(524292L)</span><span >|</span></span> PRIVATE)
                   <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150752">clazz</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25196">isStaticOwner</a></span>) <span class="typed"><span class="type">object LambdaLift.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27601">mkAttributedQualifier</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150752">clazz</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25263">thisType</a></span>)
                   <span class="keyword">else</span> <span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Symbol,LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree</span><a href="ExplicitOuter.scala.html#52079">outerPath</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Tree</span><a href="ExplicitOuter.scala.html#52077">outerValue</a></span>, <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43094">currentClass</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../symtab/Symbols.scala.html#25268">outerClass</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150752">clazz</a></span>)
                 }
      <span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Symbol)LambdaLift.this.global.Select</span><a href="../ast/Trees.scala.html#22509">Select</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><a href="#150753">qual</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150750">sym</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Select</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150750">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a id="150565">proxyRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150762">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150764">psym</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150563">proxy</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150762">sym</a></span>)
      <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150764">psym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) <span class="typed"><span class="type">object LambdaLift.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a href="../ast/TreeGen.scala.html#27610">mkAttributedIdent</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150764">psym</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Select</span><a href="#150564">memberRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150764">psym</a></span>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]</span><a id="150566">addFreeArgs</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="150766">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="../util/Position.scala.html#8480">Position</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150767">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150768">args</a></span>: <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="526">List</a></span>[Tree]) = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a id="150770">freeArg</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150772">fv</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>) = <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#150766">pos</a></span>)(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a href="#150565">proxyRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150772">fv</a></span>))
      <span class="keyword">val</span> <span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a id="150771">fvs</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]</span><a href="#150559">freeVars</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150767">sym</a></span>).<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Symbol]</span><a id="32235">toList</a></span>
      <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a href="#150771">fvs</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="21645">isEmpty</a></span>) <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150768">args</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150768">args</a></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.gen.global.Tree])List[LambdaLift.this.global.gen.global.Tree]</span><a href="#150775" id="21339">:::</a></span> (<span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a href="#150771">fvs</a></span> <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.gen.global.Tree)List[LambdaLift.this.global.gen.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a href="#150770">freeArg</a></span>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree</span><a id="150567">addFreeParams</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150781">tree</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150782">sym</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]</span><a href="#150541">proxies</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]</span><a id="24295">get</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150782">sym</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a id="150783">ps</a></span>) =&gt;
        <span class="keyword">val</span> <span class="typed"><span class="type">List[LambdaLift.this.global.ValDef]</span><a id="150784">freeParams</a></span> = <span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a href="#150783">ps</a></span> <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.ValDef)List[LambdaLift.this.global.ValDef]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150787">p</a></span> =&gt; <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef</span><a href="../ast/Trees.scala.html#22402">ValDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150787">p</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)LambdaLift.this.global.ValDef</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150781">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.ValDef</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">object LambdaLift.this.global.NoType</span><a href="../symtab/Types.scala.html#21963">NoType</a></span>);
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150781">tree</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.DefDef</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a id="150794">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150795">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a id="150796">tparams</a></span>, <span class="typed"><span class="type">(List[List[LambdaLift.this.global.ValDef]])Some[List[List[LambdaLift.this.global.ValDef]]]</span><span id="21410"><a href="#150797" id="527">List</a></span></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.ValDef]</span><a id="150800">vparams</a></span>), <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150801">tpt</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150802">rhs</a></span>) =&gt;
            <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150782">sym</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25233">updateInfo</a></span>(
              <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="#82779" id="21757">lifted</a></span>(<span class="typed"><span class="type">(List[LambdaLift.this.global.Type],LambdaLift.this.global.Type)LambdaLift.this.global.MethodType</span><a href="../symtab/Types.scala.html#31175">MethodType</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150782">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Type]</span><a href="../symtab/Types.scala.html#25668">paramTypes</a></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Type])List[LambdaLift.this.global.Type]</span><a href="#150803" id="21339">:::</a></span> (<span class="typed"><span class="type">List[LambdaLift.this.global.Symbol]</span><a href="#150783">ps</a></span> <span class="typed"><span class="type">((LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]</span><a id="21362">map</a></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150806">_</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)), <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150782">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Types.scala.html#25663">resultType</a></span>)));
            <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Modifiers,LambdaLift.this.global.explicitOuter.global.Name,List[LambdaLift.this.global.explicitOuter.global.TypeDef],List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150781">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a href="#150794">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150795">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a href="#150796">tparams</a></span>, <span class="typed"><span class="type">(List[LambdaLift.this.global.ValDef]*)List[List[LambdaLift.this.global.ValDef]]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.ValDef]</span><a href="#150800">vparams</a></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.ValDef])List[LambdaLift.this.global.ValDef]</span><a href="#150811" id="21339">:::</a></span> <span class="typed"><span class="type">List[LambdaLift.this.global.ValDef]</span><a href="#150784">freeParams</a></span>), <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150801">tpt</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150802">rhs</a></span>)
          <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.ClassDef</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a id="150815">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150816">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a id="150817">tparams</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Template</span><a id="150818">impl</a></span> @ <a id="1">Template</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150820">parents</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.ValDef</span><a id="150821">self</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150822">body</a></span>)) =&gt;
            <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Modifiers,LambdaLift.this.global.explicitOuter.global.Name,List[LambdaLift.this.global.explicitOuter.global.TypeDef],LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef</span><a href="../ast/Trees.scala.html#43156">ClassDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150781">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a href="#150815">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150816">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a href="#150817">tparams</a></span>,
                          <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.explicitOuter.global.ValDef,List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template</span><a href="../ast/Trees.scala.html#43166">Template</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Template</span><a href="#150818">impl</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150820">parents</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.ValDef</span><a href="#150821">self</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150822">body</a></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]</span><a href="#150823" id="21339">:::</a></span> <span class="typed"><span class="type">List[LambdaLift.this.global.ValDef]</span><a href="#150784">freeParams</a></span>))
        }
      <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="536">None</a></span> =&gt;
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150781">tree</a></span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a id="150568">liftDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150826">tree</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150827">sym</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150826">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
      <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../symtab/Symbols.scala.html#25212">owner</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25257">enclClass</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25129">isClass</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../symtab/Symbols.scala.html#25212">owner</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25281">toInterface</a></span>
      <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span>) <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span> <span class="typed"><span class="type">(Long)sym.type</span><a href="../symtab/Symbols.scala.html#25220">setFlag</a></span> <span class="typed"><span class="type">Long(17179869184L)</span><span >LIFTED</span></span>
      <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]</span><a href="#150550" id="24239">liftedDefs</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Tree)Unit</span><a id="33306">+=</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150826">tree</a></span>
      <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25231">info</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Scope</span><a href="../symtab/Types.scala.html#25677">decls</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a href="../symtab/Scopes.scala.html#34618">enterUnique</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">(AnyRef)Unit</span><a href="../Global.scala.html#21205">log</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;lifted: &quot;)</span><span class="string">&quot;lifted: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150827">sym</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../symtab/Symbols.scala.html#25316">locationString</a></span>)
      <span class="typed"><span class="type">object LambdaLift.this.global.EmptyTree</span><a href="../ast/Trees.scala.html#22380">EmptyTree</a></span>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a id="150569">postTransform</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150840">tree</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150841">sym</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
      <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(_, _, _, _) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150843">tree1</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree</span><a href="#150567">addFreeParams</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>)
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="#150568">liftDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150843">tree1</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150843">tree1</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(_, _, _, _, _, _) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150845">tree1</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree</span><a href="#150567">addFreeParams</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>)
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="#150568">liftDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150845">tree1</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150845">tree1</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">ValDef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a id="150847">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150848">name</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150849">tpt</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150850">rhs</a></span>) =&gt;
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25136">isCapturedVariable</a></span>) {
            <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.TypeTree</span><a id="150851">tpt1</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>) <span class="typed"><span class="type">(scala.tools.nsc.util.Position)LambdaLift.this.global.TypeTree</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150849">tpt</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>
            <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a id="150852">rhs1</a></span> =
              <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150850">rhs</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
                <span class="typed"><span class="type">(LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> {
                  <span class="typed"><span class="type">(LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree])LambdaLift.this.global.Apply</span><a href="../ast/Trees.scala.html#31199">Apply</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Name)LambdaLift.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.New</span><a href="../ast/Trees.scala.html#48499">New</a></span>(<span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree</span><a href="../ast/Trees.scala.html#22522">TypeTree</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>)), <span class="typed"><span class="type">object LambdaLift.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/StdNames.scala.html#30639">CONSTRUCTOR</a></span>), <span class="typed"><span class="type">(LambdaLift.this.global.Tree*)List[LambdaLift.this.global.Tree]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150850">rhs</a></span>))
                }
              }
            <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Modifiers,LambdaLift.this.global.explicitOuter.global.Name,LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef</span><a href="../ast/Trees.scala.html#43159">ValDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a href="#150847">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150848">name</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.TypeTree</span><a href="#150851">tpt1</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a href="#150852">rhs1</a></span>)
          } <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.Block</span><span class="keyword">case</span></span> <a id="1">Return</a>(<a id="1">Block</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150863">stats</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150864">value</a></span>)) =&gt;
          <span class="typed"><span class="type">(List[LambdaLift.this.global.Tree],LambdaLift.this.global.Tree)LambdaLift.this.global.Block</span><a href="../ast/Trees.scala.html#42662">Block</a></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150863">stats</a></span>, <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return</span><a href="../ast/Trees.scala.html#43179">Return</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150864">value</a></span>)) <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Block</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position)LambdaLift.this.global.Block</span><a href="../ast/Trees.scala.html#25356">setPos</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Return</a>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150869">expr</a></span>) =&gt;
          <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43093">currentMethod</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>)
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.Apply</span><span class="keyword">case</span></span> <a id="1">Apply</a>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150878">fn</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150879">args</a></span>) =&gt;
          <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree,List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply</span><a href="../ast/Trees.scala.html#43185">Apply</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150878">fn</a></span>, <span class="typed"><span class="type">(scala.tools.nsc.util.Position,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]</span><a href="#150566">addFreeArgs</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150879">args</a></span>))
        <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.Assign</span><span class="keyword">case</span></span> <a id="1">Assign</a>(<a id="1">Apply</a>(<a id="1">TypeApply</a>(<span class="typed"><span class="type">LambdaLift.this.global.Select</span><a id="150880">sel</a></span> @ <a id="1">Select</a>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150882">qual</a></span>, _), _), <span class="typed"><span class="type">(List[LambdaLift.this.global.Tree])Some[List[LambdaLift.this.global.Tree]]</span><span id="21410"><a href="#150883" id="527">List</a></span></span>()), <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150886">rhs</a></span>) =&gt;
          <span class="comment">// eliminate casts introduced by selecting a captured variable field</span>
          <span class="comment">// on the lhs of an assignment.</span>
          <span class="typed"><span class="type">(Boolean)Unit</span><span id="6003"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.Select</span><a href="#150880">sel</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#26908">symbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Definitions.scala.html#26051">Object_asInstanceOf</a></span>)
          <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign</span><a href="../ast/Trees.scala.html#43176">Assign</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150882">qual</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150886">rhs</a></span>)
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> <a id="1">Ident</a>(<span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150891">name</a></span>) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><a id="150892">tree1</a></span> =
            <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">object LambdaLift.this.global.NoSymbol</span><a href="../symtab/Symbols.scala.html#21873">NoSymbol</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25127">isTerm</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25144">isLabel</a></span>)
              <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25142">isMethod</a></span>) 
                <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(LambdaLift.this.global.Select)LambdaLift.this.global.Select</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Select</span><a href="#150564">memberRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>))
              <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25199">isLocal</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#25211">owner</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol</span><a href="#150556">enclMethOrClass</a></span>(<span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.Symbol</span><a href="../ast/Trees.scala.html#43090">currentOwner</a></span>))
                <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>)(<span class="typed"><span class="type">(LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree</span><a href="#150565">proxyRef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>))
              <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>
            <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>;
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25136">isCapturedVariable</a></span>)
            <span class="typed"><span class="type">(scala.tools.nsc.util.Position)(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#28572">atPos</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.Position</span><a href="../ast/Trees.scala.html#25352">pos</a></span>) {
              <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a id="150902">tp</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>
              <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a id="150903">elemTree</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree</span><a href="../typechecker/Typers.scala.html#31830">typed</a></span> { <span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Name)LambdaLift.this.global.Select</span><a href="../ast/Trees.scala.html#31358">Select</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><a href="#150892">tree1</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.gen.global.Type)tree1.type</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150841">sym</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../symtab/Symbols.scala.html#25230">tpe</a></span>, <span class="typed"><span class="type">object LambdaLift.this.global.nme</span><a href="../symtab/StdNames.scala.html#22317">nme</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Name</span><a href="../symtab/StdNames.scala.html#30804">elem</a></span>) }
              <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a href="#150903">elemTree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.analyzer.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.analyzer.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150902">tp</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../symtab/Types.scala.html#25650">typeSymbol</a></span>) <span class="typed"><span class="type">object LambdaLift.this.global.gen</span><a href="../Global.scala.html#21170">gen</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.Tree,LambdaLift.this.global.Type)LambdaLift.this.global.Tree</span><a href="../Global.scala.html#31126">mkAttributedCast</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a href="#150903">elemTree</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Type</span><a href="#150902">tp</a></span>) <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.analyzer.global.Tree</span><a href="#150903">elemTree</a></span>
            }
          <span class="keyword">else</span> <span class="typed"><span class="type">LambdaLift.this.global.gen.global.Tree</span><a href="#150892">tree1</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150840">tree</a></span>
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a id="150570">transform</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150910">tree</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> =
      <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="#150569">postTransform</a></span>(<span class="keyword">super</span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree</span><a href="ExplicitOuter.scala.html#52080">transform</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150910">tree</a></span>) <span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree</span><a href="../ast/Trees.scala.html#25357">setType</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Type)LambdaLift.this.global.Type</span><a href="#82779" id="21757">lifted</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150910">tree</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Type</span><a href="../ast/Trees.scala.html#25354">tpe</a></span>))

    <span class="comment">/** Transform statements and add lifted definitions to them. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Tree],LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]</span><a id="150571">transformStats</a></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150914">stats</a></span>: <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="526">List</a></span>[Tree], <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a id="150915">exprOwner</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="../symtab/Symbols.scala.html#21866">Symbol</a></span>): <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="526">List</a></span>[Tree] = {
      <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a id="150916">addLifted</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150917">stat</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span>): <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="../ast/Trees.scala.html#22371">Tree</a></span> = <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.ClassDef</span><span class="keyword">case</span></span> <a id="1">ClassDef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a id="150919">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150920">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a id="150921">tparams</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Template</span><a id="150922">impl</a></span> @ <a id="1">Template</a>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150924">parents</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.ValDef</span><a id="150925">self</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150926">body</a></span>)) =&gt;
          <span class="keyword">val</span> <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a id="150927">lifted</a></span> = <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]</span><a href="#150550" id="24239">liftedDefs</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>).<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Tree]</span><a id="33309">toList</a></span> <span class="typed"><span class="type">((LambdaLift.this.global.Tree) =&gt; LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="#150916">addLifted</a></span>
          <span class="keyword">val</span> <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.ClassDef</span><a id="150928">result</a></span> = <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Modifiers,LambdaLift.this.global.explicitOuter.global.Name,List[LambdaLift.this.global.explicitOuter.global.TypeDef],LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef</span><a href="../ast/Trees.scala.html#43156">ClassDef</a></span>(
            <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a href="#150919">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150920">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a href="#150921">tparams</a></span>, <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.explicitOuter.global.ValDef,List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template</span><a href="../ast/Trees.scala.html#43166">Template</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Template</span><a href="#150922">impl</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150924">parents</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.ValDef</span><a href="#150925">self</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150926">body</a></span> <span class="typed"><span class="type">(List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]</span><a href="#150937" id="21339">:::</a></span> <span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150927">lifted</a></span>))
          <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><a href="#150550">liftedDefs</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Symbol)Unit</span><a id="24167">-=</a></span> <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>
          <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.ClassDef</span><a href="#150928">result</a></span>
        <span class="typed"><span class="type">LambdaLift.this.global.explicitOuter.global.DefDef</span><span class="keyword">case</span></span> <a id="1">DefDef</a>(<span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a id="150942">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a id="150943">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a id="150944">tp</a></span>, <span class="typed"><span class="type">List[List[LambdaLift.this.global.ValDef]]</span><a id="150945">vp</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150946">tpt</a></span>, <a id="1">Block</a>(<span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a id="150947">expr</a></span>))
        <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>.<span class="typed"><span class="type">=&gt; LambdaLift.this.global.Symbol</span><a href="../ast/Trees.scala.html#25358">symbol</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../symtab/Symbols.scala.html#25148">isConstructor</a></span> =&gt;
          <span class="typed"><span class="type">=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier</span><a href="../ast/Trees.scala.html#43088">copy</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Modifiers,LambdaLift.this.global.explicitOuter.global.Name,List[LambdaLift.this.global.explicitOuter.global.TypeDef],List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],LambdaLift.this.global.explicitOuter.global.Tree,LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef</span><a href="../ast/Trees.scala.html#43160">DefDef</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Modifiers</span><a href="#150942">mods</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Name</span><a href="#150943">name</a></span>, <span class="typed"><span class="type">List[LambdaLift.this.global.TypeDef]</span><a href="#150944">tp</a></span>, <span class="typed"><span class="type">List[List[LambdaLift.this.global.ValDef]]</span><a href="#150945">vp</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150946">tpt</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150947">expr</a></span>)
        <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><span class="keyword">case</span></span> _ =&gt;
          <span class="typed"><span class="type">LambdaLift.this.global.Tree</span><a href="#150917">stat</a></span>
      }
      <span class="keyword">super</span>.<span class="typed"><span class="type">(List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]</span><a href="../ast/Trees.scala.html#43105">transformStats</a></span>(<span class="typed"><span class="type">List[LambdaLift.this.global.Tree]</span><a href="#150914">stats</a></span>, <span class="typed"><span class="type">LambdaLift.this.global.Symbol</span><a href="#150915">exprOwner</a></span>) <span class="typed"><span class="type">((LambdaLift.this.global.explicitOuter.global.Tree) =&gt; LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]</span><a id="21362">map</a></span> <span class="typed"><span class="type">(LambdaLift.this.global.Tree)LambdaLift.this.global.Tree</span><a href="#150916">addLifted</a></span>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LambdaLift.this.global.CompilationUnit)Unit</span><a id="150572">transformUnit</a></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a id="150953">unit</a></span>: <span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) {
      <span class="typed"><span class="type">=&gt; Unit</span><a href="#150562">computeFreeVars</a></span>
      <span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Unit)Unit</span><a href="../symtab/SymbolTable.scala.html#21147">atPhase</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../symtab/SymbolTable.scala.html#21138">phase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a href="../Phase.scala.html#27787">next</a></span>)(<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit</span><a href="#171601" class="keyword">super</a></span>.<span class="typed"><span class="type">(LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit</span><span id="171601"><a id="171602">transformUnit</a></span></span>(<span class="typed"><span class="type">LambdaLift.this.global.CompilationUnit</span><a href="#150953">unit</a></span>))
      <span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="6004"><a id="821">assert</a></span></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><a href="#150550">liftedDefs</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="24276">size</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]</span><a href="#150550">liftedDefs</a></span>.<span class="typed"><span class="type">=&gt; Iterator[LambdaLift.this.global.Symbol]</span><a id="24242">keys</a></span>.<span class="typed"><span class="type">=&gt; List[LambdaLift.this.global.Symbol]</span><a id="32235">toList</a></span>)
    }
  } <span class="comment">// class LambdaLifter</span>

}

        </pre>
    </body>
</html>