<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author
 */
// $Id: LambdaLift.scala 18547 2009-08-22 19:52:46Z extempore $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> Flags._
<span class="keyword">import</span> util.TreeSet
<span class="keyword">import</span> scala.collection.mutable.{HashMap, ListBuffer}
<span class="keyword">import</span> scala.tools.nsc.util.{Position, NoPosition}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="13801">LambdaLift</a> <span title="ScalaObject" class="keyword">extends</span> <a href="InfoTransform.scala.html#14026" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> {
  <span class="keyword">import</span> global._
  <span class="keyword">import</span> definitions._
  <span class="keyword">import</span> typer.{typed, typedOperator}

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="337286">phaseName</a>: <a title="String" id="1626">String</a> = <span title="java.lang.String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeMap" id="337288">lifted</a> = <a href="#337296" title="LambdaLift.this.global.TypeMap{ ... }" class="keyword">new</a> <a href="../symtab/Types.scala.html#26479" title="anonymous class $anon extends LambdaLift.this.global.TypeMap" id="337296">TypeMap</a> {
    <span class="keyword">def</span> <a title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="337298">apply</a>(<a title="LambdaLift.this.global.Type" id="337302">tp</a>: <a href="../symtab/Types.scala.html#26364" title="LambdaLift.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="LambdaLift.this.global.Type">Type</a> = <a href="#337302" title="LambdaLift.this.global.Type">tp</a> <span title="LambdaLift.this.global.Type" class="keyword">match</span> {
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> TypeRef(<a title="LambdaLift.this.global.Type" id="337307">pre</a>, <a title="LambdaLift.this.global.Symbol" id="337308">sym</a>, <a title="List[LambdaLift.this.global.Type]" id="337309">args</a>) =&gt;
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="#337307" title="(x$1: AnyRef)Boolean">pre</a> <span title="(x$1: Boolean)Boolean">==</span> <a href="../symtab/Types.scala.html#26385" title="object LambdaLift.this.global.NoPrefix">NoPrefix</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#337308" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#337308" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27094" title="=&gt; Boolean">isPackageClass</a>) {
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#337309" title="List[LambdaLift.this.global.Type]">args</a>.<span title="=&gt; Boolean">isEmpty</span>);
          <a href="../symtab/Types.scala.html#26454" title="(pre: LambdaLift.this.global.Type,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Type])LambdaLift.this.global.Type">typeRef</a>(<a href="#337298" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">apply</a>(<a href="#337308" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; LambdaLift.this.global.Type">thisType</a>), <a href="#337308" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#337309" title="List[LambdaLift.this.global.Type]">args</a>)
        } <span class="keyword">else</span> <a href="../symtab/Types.scala.html#42954" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a>(<a href="#337302" title="LambdaLift.this.global.Type">tp</a>)
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> ClassInfoType(<a title="List[LambdaLift.this.global.Type]" id="337403">parents</a>, <a title="LambdaLift.this.global.Scope" id="337404">decls</a>, <a title="LambdaLift.this.global.Symbol" id="337405">clazz</a>) =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Type]" id="337408">parents1</a> = <a href="#337403" title="(f: (LambdaLift.this.global.Type) =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]" id="24429">parents</a> mapConserve (<a href="#337296" title="LambdaLift.this.global.TypeMap{ ... }" class="keyword">this</a>)
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="#337408" title="(x$1: AnyRef)Boolean" id="6611">parents1</a> eq <a href="#337403" title="List[LambdaLift.this.global.Type]">parents</a>) <a href="#337302" title="LambdaLift.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#44491" title="(parents: List[LambdaLift.this.global.Type],decls: LambdaLift.this.global.Scope,typeSymbol: LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType">ClassInfoType</a>(<a href="#337408" title="List[LambdaLift.this.global.Type]">parents1</a>, <a href="#337404" title="LambdaLift.this.global.Scope">decls</a>, <a href="#337405" title="LambdaLift.this.global.Symbol">clazz</a>)
      <span title="LambdaLift.this.global.Type" class="keyword">case</span> _ =&gt;
        <a href="../symtab/Types.scala.html#42954" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a>(<a href="#337302" title="LambdaLift.this.global.Type">tp</a>)
    }
  }

  <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="337290">transformInfo</a>(<a title="LambdaLift.this.global.Symbol" id="337485">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Type" id="337486">tp</a>: <a href="../symtab/Types.scala.html#26364" title="LambdaLift.this.global.Type">Type</a>): <a href="../symtab/Types.scala.html#26364" title="LambdaLift.this.global.Type">Type</a> = <a href="#337288" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="#337486" title="LambdaLift.this.global.Type">tp</a>)

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer" id="337291">newTransformer</a>(<a title="LambdaLift.this.global.CompilationUnit" id="337493">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>): <a href="../ast/Trees.scala.html#26932" title="LambdaLift.this.global.Transformer">Transformer</a> =
    <span title="LambdaLift.this.LambdaLifter" class="keyword">new</span> <a href="#337292" title="LambdaLift.this.LambdaLifter">LambdaLifter</a>(<a href="#337493" title="LambdaLift.this.global.CompilationUnit">unit</a>)

  <span class="keyword">class</span> <a title="class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer with ScalaObject" id="337292">LambdaLifter</a><span title="ScalaObject">(</span><a title="LambdaLift.this.global.CompilationUnit" id="337563">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>) <span class="keyword">extends</span> <a href="../Global.scala.html#39351" title="object LambdaLift.this.global.explicitOuter">explicitOuter</a>.<a href="ExplicitOuter.scala.html#79486" title="LambdaLift.this.global.explicitOuter.OuterPathTransformer">OuterPathTransformer</a>(<a href="#337563" title="LambdaLift.this.global.CompilationUnit">unit</a>) {

    /** A map storing free variables of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="337529">free</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet]

    /** A map storing the free variable proxies of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" id="337531">proxies</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">HashMap</span>[Symbol, List[Symbol]]

    /** A hashtable storing calls between functions */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="337533">called</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet]

    /** The set of symbols that need to be renamed. */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="337535">renamable</a> = <a href="#337543" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>

    /** A flag to indicate whether new free variables have been found */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="337538">changedFreeVars</a>: <span title="Boolean">Boolean</span> = _

    /** Buffers for lifted out classes and methods */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]" id="337540">liftedDefs</a> = <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">HashMap</span>[Symbol, ListBuffer[Tree]]

    <span class="keyword">private</span> <span class="keyword">type</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="337542">SymSet</a> = <a href="../util/TreeSet.scala.html#14728" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a>[Symbol]

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="337543">newSymSet</a> = <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">new</span> <a href="../util/TreeSet.scala.html#14728" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a>[Symbol]((<a title="LambdaLift.this.global.Symbol" id="337591">x</a>, <a title="LambdaLift.this.global.Symbol" id="337592">y</a>) =&gt; <a href="#337591" title="LambdaLift.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#27180" title="(that: LambdaLift.this.global.Symbol)Boolean">isLess</a>(<a href="#337592" title="LambdaLift.this.global.Symbol">y</a>))

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet" id="337544">symSet</a>(<a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="337682">f</a>: <span title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">HashMap</span>[Symbol, SymSet], <a title="LambdaLift.this.global.Symbol" id="337683">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../util/TreeSet.scala.html#14728" title="LambdaLifter.this.SymSet">SymSet</a> = <a href="#337682" title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">f</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</span>(<a href="#337683" title="LambdaLift.this.global.Symbol">sym</a>) <span title="LambdaLifter.this.SymSet" class="keyword">match</span> {
      <span title="LambdaLifter.this.SymSet" class="keyword">case</span> Some(<a title="LambdaLifter.this.SymSet" id="337788">ss</a>) =&gt; <a href="#337788" title="LambdaLifter.this.SymSet">ss</a>
      <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">case</span> <span title="object None">None</span> =&gt; <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="337791">ss</a> = <a href="#337543" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>; <a href="#337682" title="(key: LambdaLift.this.global.Symbol,value: LambdaLifter.this.SymSet)Unit">f</a>(<a href="#337683" title="LambdaLift.this.global.Symbol">sym</a>) = <a href="#337791" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">ss</a>; <a href="#337791" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">ss</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="337545">outer</a>(<a title="LambdaLift.this.global.Symbol" id="337800">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a> =
      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#337800" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a>) <a href="#337800" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#337800" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>;

    /** The method or class which logically encloses the current symbol.
     *  If the symbol is defined in the initialization part of a template
     *  this is the template's primary constructor, otherwise it is
     *  the physically enclosing method or class.
     *
     *  Example 1:
     *
     *  def f() { val x = { def g() = ...; g() } }
     *
     *  In this case the owner chain of `g' is `x', followed by `f' and 
     *  enclMethOrClass(`g') == `f'.
     *
     *  Example 2:
     *
     *  class C {
     *    def &lt;init&gt; = { ... }
     *    val x = { def g() = ...; g() } }
     *  }
     *
     *  In this case the owner chain of `g' is `x', followed by `C' but 
     *  enclMethOrClass(`g') is the primary constructor symbol `&lt;init&gt;'
     *  (or, for traits: `$init') of `C'.
     *
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="337546">enclMethOrClass</a>(<a title="LambdaLift.this.global.Symbol" id="337722">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a> = {
      <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="337802">localToConstr</a>(<a title="LambdaLift.this.global.Symbol" id="337805">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) =
        <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#337805" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27068" title="=&gt; Boolean">isLocalDummy</a>) <a href="#337805" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27192" title="=&gt; LambdaLift.this.global.Symbol">primaryConstructor</a> <span class="keyword">else</span> <a href="#337805" title="LambdaLift.this.global.Symbol">sym</a>;
      <span class="keyword">var</span> <a title="LambdaLift.this.global.Symbol" id="337803">encl</a> = <a href="#337802" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">localToConstr</a>(<a href="#337722" title="LambdaLift.this.global.Symbol">sym</a>)
      <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#337803" title="LambdaLift.this.global.Symbol">encl</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#337803" title="LambdaLift.this.global.Symbol">encl</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>)
        <a href="#337803" title="LambdaLift.this.global.Symbol">encl</a> = <a href="#337802" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">localToConstr</a>(<a href="#337545" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#337803" title="LambdaLift.this.global.Symbol">encl</a>))
      <a href="#337803" title="LambdaLift.this.global.Symbol">encl</a>
    }

    /** Mark symbol `sym' as being free in `owner', unless `sym'
     *  is defined in `owner' or there is a class between `owner's owner
     *  and the owner of `sym'.
     *  Return `true' if there is no class between `owner' and 
     *  the owner of sym.
     *  pre: sym.isLocal, (owner.isMethod || owner.isClass)
     *
     *  The idea of `markFree' is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x' is free in the primary constructor of class `C'.
     *  but it is not free in `D', because after lambda lift the code would be transformed 
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean" id="337547">markFree</a>(<a title="LambdaLift.this.global.Symbol" id="337728">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="337729">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <span title="Boolean">Boolean</span> = {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;mark &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; free in &quot;)" class="string">&quot; free in &quot;</span> + <a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>)
      <span title="Boolean" class="keyword">if</span> (<a href="#337729" title="(x$1: AnyRef)Boolean">owner</a> == <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>)) <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> (<a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27094" title="(x$1: Boolean)Boolean" id="2231">isPackageClass</a> || <span title="=&gt; Boolean">!</span><a href="#337547" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#337545" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>)))) <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="LambdaLifter.this.SymSet" id="337846">ss</a> = <a href="#337544" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a>(<a href="#337529" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>, <a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>)
        <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="../util/Set.scala.html#113374" title="(x: LambdaLift.this.global.Symbol)Boolean">ss</a> contains <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>)) {
          <a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">ss</a> addEntry <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>
          <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Any)Any">atPhase</a>(<a href="../Global.scala.html#39408" title="=&gt; LambdaLift.this.global.Run">currentRun</a>.<a href="../Global.scala.html#40422" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>) {
            // The param symbol in the MethodType should not be renamed, only the symbol in scope. This way,
            // parameter names for named arguments are not changed. Example: without cloning the MethodType,
            //     def closure(x: Int) = { () =&gt; x }
            // would have the signatrue
            //     closure: (x$1: Int)() =&gt; Int
            <span title="Any" class="keyword">if</span> (<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">hasFlag</a><span title="(x$1: Boolean)Boolean">(</span><span title="Long(8192L)">PARAM</span>) &amp;&amp; <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30384" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">paramss</a>.<a title="(p: (List[LambdaLift.this.global.Symbol]) =&gt; Boolean)Boolean" id="29123">exists</a>(<a href="#337875" title="List[LambdaLift.this.global.Symbol]">_</a>.<a title="(elem: Any)Boolean" id="25768">contains</a>(<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>)))
              <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27164" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">setInfo</a>(<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30430" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Type">cloneInfo</a>(<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>))
          }
          <a href="#337538" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is free in &quot;)" class="string">&quot; is free in &quot;</span> + <a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>);
          <span title="Any" class="keyword">if</span> (<a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27062" title="(x$1: Boolean)Boolean">isVariable</a> &amp;&amp; <span title="=&gt; Boolean">!</span>(<a href="../symtab/Symbols.scala.html#27155" title="(mask: Long)Boolean">sym</a> hasFlag <span title="Long(65536L)">CAPTURED</span>)) {
            <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)sym.type">sym</a> setFlag <span title="Long(65536L)">CAPTURED</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337916">symClass</a> = <a href="#337728" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>;
            <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
              <a href="../symtab/Symbols.scala.html#27165" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">sym</a> updateInfo (
                <span title="LambdaLift.this.global.Type" class="keyword">if</span> (<a href="../symtab/Definitions.scala.html#28792" title="(sym: LambdaLift.this.global.Symbol)Boolean">isValueClass</a>(<a href="#337916" title="LambdaLift.this.global.Symbol">symClass</a>)) <a href="../symtab/Definitions.scala.html#28785" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">refClass</a>(<a href="#337916" title="LambdaLift.this.global.Symbol">symClass</a>).<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#28725" title="=&gt; LambdaLift.this.global.Symbol">ObjectRefClass</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>)
            }
          }
        }
        <span title="=&gt; Boolean">!</span><a href="#337729" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit" id="337548">markCalled</a>(<a title="LambdaLift.this.global.Symbol" id="337733">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="337734">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) {
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;mark &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337733" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#337733" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; called by &quot;)" class="string">&quot; called by &quot;</span> + <a href="#337734" title="LambdaLift.this.global.Symbol">owner</a>);
      <a href="#337544" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">(</a><a href="#337533" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#337734" title="LambdaLift.this.global.Symbol">owner</a>) addEntry <a href="#337733" title="LambdaLift.this.global.Symbol">sym</a>
    }
/*
      if (owner == enclMethOrClass(sym.owner)) true
      else if (owner.isPackageClass || !markCalled(sym, enclMethOrClass(outer(owner)))) false
      else {
        val ss = symSet(called, owner);
        if (!(ss contains sym)) {
          ss addEntry sym;
          if (settings.debug.value) log(&quot;&quot; + sym + &quot; is called by &quot; + owner);
        }
        !owner.isClass
      }
    }
*/
    <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]" id="337549">freeVars</a>(<a title="LambdaLift.this.global.Symbol" id="337992">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a title="Iterator[LambdaLift.this.global.Symbol]" id="4309">Iterator</a>[Symbol] = <a href="#337529" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</span>(<a href="#337992" title="LambdaLift.this.global.Symbol">sym</a>) <span title="Iterator[LambdaLift.this.global.Symbol]" class="keyword">match</span> {
      <span title="Iterator[LambdaLift.this.global.Symbol]" class="keyword">case</span> Some(<a title="LambdaLifter.this.SymSet" id="338000">ss</a>) =&gt; <a href="#338000" title="LambdaLifter.this.SymSet">ss</a>.<a href="../util/TreeSet.scala.html#337577" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>
      <span title="&lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]" class="keyword">case</span> <span title="object None">None</span> =&gt; <a title="=&gt; collection.Iterator.type" id="375">Iterator</a>.<a title="=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[Nothing]" id="32303">empty</a>
    }

    /** The traverse function */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.Traverser" id="337550">freeVarTraverser</a> = <a href="#337601" title="LambdaLift.this.global.Traverser{ ... }" class="keyword">new</a> <a href="../ast/Trees.scala.html#26933" title="anonymous class $anon extends LambdaLift.this.global.Traverser" id="337601">Traverser</a> {
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)Unit" id="337603">traverse</a>(<a title="LambdaLift.this.global.Tree" id="337607">tree</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>) {
       <span class="keyword">try</span> { //debug
        <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337609">sym</a> = <a href="#337607" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>;
        <a href="#337607" title="LambdaLift.this.global.Tree">tree</a> <span title="Any" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> ClassDef(_, _, _, _) =&gt;
            <a href="#337540" title="(key: LambdaLift.this.global.Symbol,value: scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree])Unit">liftedDefs</a>(<a href="#337607" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>) = <span title="scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" id="24978">ListBuffer</a>
            <span title="Unit" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) <a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>
          <span title="Any" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
            <span title="Any" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) {
              <a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">renamable</a> addEntry <a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>
              <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)sym.type">sym</a> setFlag (PRIVATE | LOCAL <span title="Long(524324L)">|</span> FINAL)
            } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27118" title="=&gt; Boolean">isPrimaryConstructor</a>) {
              <a href="#337544" title="(f: scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet],sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><a href="../util/TreeSet.scala.html#337576" title="(x: LambdaLift.this.global.Symbol)Unit">(</a><a href="#337533" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>) addEntry <a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
            }
          <span title="AnyVal" class="keyword">case</span> Ident(<a title="LambdaLift.this.global.Name" id="337702">name</a>) =&gt;
            <span title="AnyVal" class="keyword">if</span> (<a href="#337609" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../symtab/Symbols.scala.html#26293" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a>) {
              <span title="(assertion: Boolean)Unit">assert</span>(<a href="#337702" title="(x$1: AnyRef)Boolean">name</a> == <a href="../symtab/StdNames.scala.html#26690" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29875" title="=&gt; LambdaLift.this.global.Name">WILDCARD</a>)
            } <span class="keyword">else</span> <span title="AnyVal" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337721">owner</a> = <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#71106" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>)
              <span title="AnyVal with NotNull" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="(x$1: Boolean)Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) <a href="#337547" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#337721" title="LambdaLift.this.global.Symbol">owner</a>)
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) <a href="#337548" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit">markCalled</a>(<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#337721" title="LambdaLift.this.global.Symbol">owner</a>)
                //symSet(called, owner) addEntry sym
            }
          <span title="Unit" class="keyword">case</span> Select(_, _) =&gt;
            <span title="Unit" class="keyword">if</span> (<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27075" title="(x$1: Boolean)Boolean">isConstructor</a> &amp;&amp; <a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="337752">owner</a> = <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#71106" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>);
              <a href="#337548" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Unit">markCalled</a>(<a href="#337609" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#337752" title="LambdaLift.this.global.Symbol">owner</a>) //symSet(called, owner) addEntry sym
            }
          <span title="Unit" class="keyword">case</span> _ =&gt;
        }
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#71109" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a>(<a href="#337607" title="LambdaLift.this.global.Tree">tree</a>)
       } <span class="keyword">catch</span> {//debug
         <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="337760">ex</a>: <a title="Throwable" id="1908">Throwable</a> =&gt;
           <a title="object Console" id="402">Console</a>.<a title="(x: Any)Unit" id="51576">println</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;exception when traversing &quot;</span> + <a href="#337607" title="LambdaLift.this.global.Tree">tree</a>)
           <span title="Nothing" class="keyword">throw</span> <a href="#337760" title="java.lang.Throwable">ex</a>
       }
      }
    }

    /** Compute free variables map `fvs'.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="337552">computeFreeVars</a> {
      <a href="#337550" title="=&gt; LambdaLift.this.global.Traverser">freeVarTraverser</a>.<a href="../ast/Trees.scala.html#71109" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a>(<a href="#337563" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; LambdaLift.this.global.Tree">body</a>)

      <a href="#338068" title="Unit" class="keyword">do</a> {
        <a href="#337538" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="338078">caller</a> &lt;- <a href="#337533" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">keysIterator</span>;
             <a title="LambdaLift.this.global.Symbol" id="338098">callee</a> &lt;- <a href="#337533" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">called</a>(<a href="#338078" title="LambdaLift.this.global.Symbol">caller</a>).<a href="../util/TreeSet.scala.html#337577" title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">iterator</a>;
             <a title="LambdaLift.this.global.Symbol" id="338105">fv</a> &lt;- <a href="#337549" title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]">freeVars</a><span title="(f: (LambdaLift.this.global.Symbol) =&gt; Boolean)Unit">(</span><a href="#338098" title="LambdaLift.this.global.Symbol">callee</a>))
          <a href="#337547" title="(sym: LambdaLift.this.global.Symbol,owner: LambdaLift.this.global.Symbol)Boolean">markFree</a>(<a href="#338105" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#338078" title="LambdaLift.this.global.Symbol">caller</a>)
      } <span class="keyword">while</span> (<a href="#337538" title="=&gt; Boolean">changedFreeVars</a>);

      <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="338123">sym</a> &lt;- <a href="#337535" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a>.<a href="../util/TreeSet.scala.html#337577" title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">iterator</a>) {
        <span class="keyword">val</span> <a title="java.lang.String" id="338124">base</a> =
          <span title="java.lang.String" class="keyword">if</span> (<a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27091" title="(x$1: Boolean)Boolean">isAnonymousFunction</a> &amp;&amp; <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>)
            <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a>() + <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
          <span class="keyword">else</span> <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28391" title="()String">toString</a><span title="(x$1: Any)java.lang.String">(</span>) + <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
        <span class="keyword">val</span> <a title="String" id="338125">fresh</a> = <a href="#337563" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45666" title="=&gt; scala.tools.nsc.util.FreshNameCreator">fresh</a>.<a href="../util/FreshNameCreator.scala.html#74285" title="(pos: scala.tools.nsc.util.Position,prefix: String)String">newName</a>(<a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#338124" title="java.lang.String">base</a>)
        <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27148" title="(name: LambdaLift.this.global.Name)Unit">name</a> = <span title="LambdaLift.this.global.Name" class="keyword">if</span> (<a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#28386" title="=&gt; Boolean">isTypeName</a>) <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)LambdaLift.this.global.Name">fresh</a>.<a href="../symtab/Names.scala.html#28388" title="=&gt; LambdaLift.this.global.Name">toTypeName</a> <span class="keyword">else</span> <a href="../symtab/Names.scala.html#26213" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)LambdaLift.this.global.Name">fresh</a>
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;renamed: &quot;</span> + <a href="#338123" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>)
      }

      <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>) {
        <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="338201">owner</a> &lt;- <a href="#337529" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; Unit)Unit">keysIterator</span>) {
          <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
            <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;free(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338201" title="LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) = &quot;)" class="string">&quot;) = &quot;</span> + <a href="#337529" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">free</a>(<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>).<a href="../util/TreeSet.scala.html#337577" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>.<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>);
          <a href="#337531" title="(key: LambdaLift.this.global.Symbol,value: List[LambdaLift.this.global.Symbol])Unit">proxies</a>(<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>) =
            <span class="keyword">for</span> (<a title="LambdaLift.this.global.Symbol" id="338258">fv</a> &lt;- <a href="#337529" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">free</a>(<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>).<a href="../util/TreeSet.scala.html#337577" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a>.<span title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.TermSymbol)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.TermSymbol,List[LambdaLift.this.global.Symbol],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">toList</span>) <span class="keyword">yield</span> {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.TermSymbol" id="338259">proxy</a> = <a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27022" title="(pos: scala.tools.nsc.util.Position,name: LambdaLift.this.global.Name)LambdaLift.this.global.TermSymbol">newValue</a>(<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27006" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#338258" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>)
                .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a>(<span title="Long" class="keyword">if</span> (<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) PARAMACCESSOR | PRIVATE <span title="Long(537395204L)">|</span> LOCAL <span class="keyword">else</span> <span title="Long(8192L)">PARAM</span>)
                .<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)LambdaLift.this.global.TermSymbol">setFlag</a>(<span title="Long(2097152L)">SYNTHETIC</span>)
                .<a href="../symtab/Symbols.scala.html#27164" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.TermSymbol">setInfo</a>(<a href="#338258" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>);
              <span title="Any" class="keyword">if</span> (<a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) <a href="#338201" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27290" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">decls</a> enter <a href="#338259" title="LambdaLift.this.global.TermSymbol">proxy</a>;
              <a href="#338259" title="LambdaLift.this.global.TermSymbol">proxy</a>
            }
        }
      }
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="337553">proxy</a>(<a title="LambdaLift.this.global.Symbol" id="338355">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">def</span> <a title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="338358">searchIn</a>(<a title="LambdaLift.this.global.Symbol" id="338359">owner</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a> = {
        <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
          <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;searching for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) in &quot;)" class="string">&quot;) in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338359" title="LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#338359" title="LambdaLift.this.global.Symbol">owner</a>));//debug
        <a href="#337531" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</span>(<a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#338359" title="LambdaLift.this.global.Symbol">owner</a>)) <span title="LambdaLift.this.global.Symbol" class="keyword">match</span> {
          <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> Some(<a title="List[LambdaLift.this.global.Symbol]" id="338388">ps</a>) =&gt; 
            <a href="#338388" title="(p: (LambdaLift.this.global.Symbol) =&gt; Boolean)List[LambdaLift.this.global.Symbol]" id="25412">ps</a> filter (<a title="LambdaLift.this.global.Symbol" id="338393">p</a> =&gt; <a href="#338393" title="LambdaLift.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#27147" title="(x$1: AnyRef)Boolean">name</a> == <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27147" title="=&gt; LambdaLift.this.global.Name">name</a>) <span title="LambdaLift.this.global.Symbol" class="keyword">match</span> {
              <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <a href="#338404" title="(x: List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]">List</a>(<a title="LambdaLift.this.global.Symbol" id="338413">p</a>) =&gt; <a href="#338413" title="LambdaLift.this.global.Symbol">p</a>
              <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <a href="#338416" title="(x: List[LambdaLift.this.global.Symbol])Some[List[LambdaLift.this.global.Symbol]]">List</a>() =&gt; <a href="#338358" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="#337545" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#338359" title="LambdaLift.this.global.Symbol">owner</a>))
            }
          <span title="LambdaLift.this.global.Symbol" class="keyword">case</span> <span title="object None">None</span> =&gt; <a href="#338358" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="#337545" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">outer</a>(<a href="#338359" title="LambdaLift.this.global.Symbol">owner</a>))
        }
      }
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>)
        <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;proxy &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../ast/Trees.scala.html#45699" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#27144" title="=&gt; List[LambdaLift.this.global.explicitOuter.global.Symbol]">ownerChain</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>));//debug
      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> (<a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) == <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>)) <a href="#338355" title="LambdaLift.this.global.Symbol">sym</a>
      <span class="keyword">else</span> <a href="#338358" title="(owner: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select" id="337554">memberRef</a>(<a title="LambdaLift.this.global.Symbol" id="338467">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="338470">clazz</a> = <a href="#338467" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      //Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)
      <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="338471">qual</a> = <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338470" title="(x$1: AnyRef)Boolean">clazz</a> == <a href="../ast/Trees.scala.html#45703" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>) <a href="../Global.scala.html#39263" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42913" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedThis</a>(<a href="#338470" title="LambdaLift.this.global.Symbol">clazz</a>)
                 <span class="keyword">else</span> {
                   <a href="../symtab/Symbols.scala.html#27153" title="(mask: Long)sym.type">sym</a> resetFlag(LOCAL <span title="Long(524292L)">|</span> PRIVATE)
                   <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338470" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27127" title="=&gt; Boolean">isStaticOwner</a>) <a href="../Global.scala.html#39263" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42905" title="(tpe: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkAttributedQualifier</a>(<a href="#338470" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#27196" title="=&gt; LambdaLift.this.global.Type">thisType</a>)
                   <span class="keyword">else</span> <a href="ExplicitOuter.scala.html#337524" title="(base: LambdaLift.this.global.explicitOuter.global.Tree,from: LambdaLift.this.global.explicitOuter.global.Symbol,to: LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree">outerPath</a>(<a href="ExplicitOuter.scala.html#337522" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">outerValue</a>, <a href="../ast/Trees.scala.html#45703" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#27201" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">outerClass</a>, <a href="#338470" title="LambdaLift.this.global.Symbol">clazz</a>)
                 }
      <a href="../ast/Trees.scala.html#26890" title="(qualifier: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">Select</a><a href="../ast/Trees.scala.html#29552" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Select">(</a><a href="#338471" title="LambdaLift.this.global.gen.global.Tree">qual</a>, <a href="#338467" title="LambdaLift.this.global.Symbol">sym</a>) setType <a href="#338467" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="337555">proxyRef</a>(<a title="LambdaLift.this.global.Symbol" id="338561">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="338564">psym</a> = <a href="#337553" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">proxy</a>(<a href="#338561" title="LambdaLift.this.global.Symbol">sym</a>)
      <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#338564" title="LambdaLift.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) <a href="../Global.scala.html#39263" title="object LambdaLift.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#42914" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedIdent</a>(<a href="#338564" title="LambdaLift.this.global.Symbol">psym</a>) <span class="keyword">else</span> <a href="#337554" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a>(<a href="#338564" title="LambdaLift.this.global.Symbol">psym</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]" id="337556">addFreeArgs</a>(<a title="scala.tools.nsc.util.Position" id="338573">pos</a>: <a href="../util/Position.scala.html#14785" title="scala.tools.nsc.util.Position">Position</a>, <a title="LambdaLift.this.global.Symbol" id="338574">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="List[LambdaLift.this.global.Tree]" id="338575">args</a>: <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree]) = {
      <span class="keyword">def</span> <a title="(fv: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="338578">freeArg</a>(<a title="LambdaLift.this.global.Symbol" id="338580">fv</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>) = <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a>(<a href="#338573" title="scala.tools.nsc.util.Position">pos</a>)(<a href="#337555" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a>(<a href="#338580" title="LambdaLift.this.global.Symbol">fv</a>))
      <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="338579">fvs</a> = <a href="#337549" title="(sym: LambdaLift.this.global.Symbol)Iterator[LambdaLift.this.global.Symbol]">freeVars</a>(<a href="#338574" title="LambdaLift.this.global.Symbol">sym</a>).<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>
      <span title="List[LambdaLift.this.global.Tree]" class="keyword">if</span> (<a href="#338579" title="List[LambdaLift.this.global.Symbol]">fvs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#338575" title="List[LambdaLift.this.global.Tree]">args</a> <span class="keyword">else</span> <a href="#338575" title="List[LambdaLift.this.global.Tree]">args</a> <a href="#338597" title="List[LambdaLift.this.global.Tree]">:::</a> <span title="(prefix: List[LambdaLift.this.global.gen.global.Tree])List[LambdaLift.this.global.gen.global.Tree]">(</span><a href="#338579" title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.gen.global.Tree]">fvs</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree],List#Coll]">map</span> <a href="#338578" title="(fv: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">freeArg</a>)
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="337557">addFreeParams</a>(<a title="LambdaLift.this.global.Tree" id="338696">tree</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>, <a title="LambdaLift.this.global.Symbol" id="338697">sym</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#337531" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<span title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</span>(<a href="#338697" title="LambdaLift.this.global.Symbol">sym</a>) <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
      <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Some(<a title="List[LambdaLift.this.global.Symbol]" id="338705">ps</a>) =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.ValDef]" id="338708">freeParams</a> = <a href="#338705" title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.ValDef)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.ValDef]">ps</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef],List#Coll]">map</span> (<a title="LambdaLift.this.global.Symbol" id="338717">p</a> =&gt; <a href="../ast/Trees.scala.html#26782" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef">ValDef</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.ValDef">(</a><a href="#338717" title="LambdaLift.this.global.Symbol">p</a>) <a href="../ast/Trees.scala.html#29552" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.ValDef">setPos</a> <a href="#338696" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a> setType <a href="../symtab/Types.scala.html#26383" title="object LambdaLift.this.global.NoType">NoType</a>);
        <a href="#338696" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
          <span title="LambdaLift.this.global.explicitOuter.global.DefDef" class="keyword">case</span> DefDef(<a title="LambdaLift.this.global.Modifiers" id="338841">mods</a>, <a title="LambdaLift.this.global.Name" id="338842">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="338843">tparams</a>, <a href="#338845" title="(x: List[List[LambdaLift.this.global.ValDef]])Some[List[List[LambdaLift.this.global.ValDef]]]">List</a>(<a title="List[LambdaLift.this.global.ValDef]" id="338854">vparams</a>), <a title="LambdaLift.this.global.Tree" id="338856">tpt</a>, <a title="LambdaLift.this.global.Tree" id="338857">rhs</a>) =&gt;
            <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="338860">addParams</a> = <a href="../symtab/Symbols.scala.html#26295" title="(syms: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">cloneSymbols</a>(<a href="#338705" title="List[LambdaLift.this.global.Symbol]">ps</a>).<span title="(f: (LambdaLift.this.global.Symbol) =&gt; LambdaLift.this.global.Symbol)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol],List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">map</span><span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol],List#Coll]">(</span><a href="#338877" title="LambdaLift.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)x$3.type">setFlag</a>(<span title="Long(8192L)">PARAM</span>))            
            <a href="#338697" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27165" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a>(
              <a href="#337288" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="../symtab/Types.scala.html#44127" title="(params: List[LambdaLift.this.global.Symbol],resultType: LambdaLift.this.global.Type)LambdaLift.this.global.MethodType">MethodType</a>(<a href="#338697" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30385" title="=&gt; List[LambdaLift.this.global.Symbol]">params</a> <a href="#338983" title="List[LambdaLift.this.global.Symbol]">:::</a> <a href="#338860" title="(prefix: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">addParams</a>, <a href="#338697" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#30379" title="=&gt; LambdaLift.this.global.Type">resultType</a>)))
            <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a>(<a href="#338696" title="LambdaLift.this.global.Tree">tree</a>, <a href="#338841" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#338842" title="LambdaLift.this.global.Name">name</a>, <a href="#338843" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <span title="(xs: List[LambdaLift.this.global.ValDef]*)List[List[LambdaLift.this.global.ValDef]]">List</span>(<a href="#338854" title="List[LambdaLift.this.global.ValDef]">vparams</a> <a href="#339013" title="List[LambdaLift.this.global.ValDef]">:::</a> <a href="#338708" title="(prefix: List[LambdaLift.this.global.ValDef])List[LambdaLift.this.global.ValDef]">freeParams</a>), <a href="#338856" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#338857" title="LambdaLift.this.global.Tree">rhs</a>)
          <span title="LambdaLift.this.global.explicitOuter.global.ClassDef" class="keyword">case</span> ClassDef(<a title="LambdaLift.this.global.Modifiers" id="339032">mods</a>, <a title="LambdaLift.this.global.Name" id="339033">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="339034">tparams</a>, <a title="LambdaLift.this.global.Template" id="339035">impl</a> @ Template(<a title="List[LambdaLift.this.global.Tree]" id="339041">parents</a>, <a title="LambdaLift.this.global.ValDef" id="339042">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="339043">body</a>)) =&gt;
            <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48794" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a>(<a href="#338696" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339032" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#339033" title="LambdaLift.this.global.Name">name</a>, <a href="#339034" title="List[LambdaLift.this.global.TypeDef]">tparams</a>,
                              <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48803" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,parents: List[LambdaLift.this.global.explicitOuter.global.Tree],self: LambdaLift.this.global.explicitOuter.global.ValDef,body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a>(<a href="#339035" title="LambdaLift.this.global.Template">impl</a>, <a href="#339041" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#339042" title="LambdaLift.this.global.ValDef">self</a>, <a href="#339043" title="List[LambdaLift.this.global.Tree]">body</a> <a href="#339057" title="List[LambdaLift.this.global.Tree]">:::</a> <a href="#338708" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">freeParams</a>))
        }
      <span title="LambdaLift.this.global.Tree" class="keyword">case</span> <span title="object None">None</span> =&gt;
        <a href="#338696" title="LambdaLift.this.global.Tree">tree</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="337558">liftDef</a>(<a title="LambdaLift.this.global.Tree" id="339069">tree</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="339071">sym</a> = <a href="#339069" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27143" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27190" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span title="Unit" class="keyword">if</span> (<a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27056" title="=&gt; Boolean">isClass</a>) <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27143" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27216" title="=&gt; LambdaLift.this.global.Symbol">toInterface</a>
      <span title="Any" class="keyword">if</span> (<a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) <a href="../symtab/Symbols.scala.html#27152" title="(mask: Long)sym.type">sym</a> setFlag <span title="Long(17179869184L)">LIFTED</span>
      <a href="#337540" title="(key: LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]">liftedDefs</a><a title="(x: LambdaLift.this.global.Tree)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]" id="61852">(</a><a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) += <a href="#339069" title="LambdaLift.this.global.Tree">tree</a>
      <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#27163" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../symtab/Scopes.scala.html#27291" title="(sym: LambdaLift.this.global.Symbol)Unit">decls</a> enterUnique <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">if</span> (<a href="../Global.scala.html#39250" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../Settings.scala.html#37345" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../Settings.scala.html#37988" title="=&gt; Boolean">value</a>) <a href="../Global.scala.html#39300" title="(msg: AnyRef)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;lifted: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a> + <a href="#339071" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27251" title="=&gt; String">locationString</a>)
      <a href="../ast/Trees.scala.html#26761" title="object LambdaLift.this.global.EmptyTree">EmptyTree</a>
    }

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="337559">postTransform</a>(<a title="LambdaLift.this.global.Tree" id="339157">tree</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a> = {
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="339159">sym</a> = <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#339157" title="LambdaLift.this.global.Tree">tree</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> ClassDef(_, _, _, _) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="339168">tree1</a> = <a href="#337557" title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>)
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) <a href="#337558" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a>(<a href="#339168" title="LambdaLift.this.global.Tree">tree1</a>) <span class="keyword">else</span> <a href="#339168" title="LambdaLift.this.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> DefDef(_, _, _, _, _, _) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="339183">tree1</a> = <a href="#337557" title="(tree: LambdaLift.this.global.Tree,sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>)
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="=&gt; Boolean">isLocal</a>) <a href="#337558" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a>(<a href="#339183" title="LambdaLift.this.global.Tree">tree1</a>) <span class="keyword">else</span> <a href="#339183" title="LambdaLift.this.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> ValDef(<a title="LambdaLift.this.global.Modifiers" id="339194">mods</a>, <a title="LambdaLift.this.global.Name" id="339195">name</a>, <a title="LambdaLift.this.global.Tree" id="339196">tpt</a>, <a title="LambdaLift.this.global.Tree" id="339197">rhs</a>) =&gt;
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27063" title="=&gt; Boolean">isCapturedVariable</a>) {
            <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeTree" id="339207">tpt1</a> = <a href="../ast/Trees.scala.html#26903" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.TypeTree">(</a><a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>) setPos <a href="#339196" title="LambdaLift.this.global.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="339208">rhs1</a> =
              <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">atPos</a>(<a href="#339197" title="LambdaLift.this.global.Tree">rhs</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
                <a href="../typechecker/Typers.scala.html#42872" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> {
                  <a href="../ast/Trees.scala.html#49378" title="(fun: LambdaLift.this.global.Tree,args: List[LambdaLift.this.global.Tree])LambdaLift.this.global.Apply">Apply</a>(<a href="../ast/Trees.scala.html#50528" title="(qualifier: LambdaLift.this.global.Tree,name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#50569" title="(tpt: LambdaLift.this.global.Tree)LambdaLift.this.global.New">New</a>(<a href="../ast/Trees.scala.html#26903" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a>(<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>)), <a href="../symtab/StdNames.scala.html#26690" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#29905" title="=&gt; LambdaLift.this.global.Name">CONSTRUCTOR</a>), <span title="(xs: LambdaLift.this.global.Tree*)List[LambdaLift.this.global.Tree]">List</span>(<a href="#339197" title="LambdaLift.this.global.Tree">rhs</a>))
                }
              }
            <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48797" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef">ValDef</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339194" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#339195" title="LambdaLift.this.global.Name">name</a>, <a href="#339207" title="LambdaLift.this.global.TypeTree">tpt1</a>, <a href="#339208" title="LambdaLift.this.global.analyzer.global.Tree">rhs1</a>)
          } <span class="keyword">else</span> <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>
        <span title="LambdaLift.this.global.Block" class="keyword">case</span> Return(Block(<a title="List[LambdaLift.this.global.Tree]" id="339347">stats</a>, <a title="LambdaLift.this.global.Tree" id="339348">value</a>)) =&gt;
          <a href="../ast/Trees.scala.html#49279" title="(stats: List[LambdaLift.this.global.Tree],expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Block">Block</a><a href="../ast/Trees.scala.html#29552" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Block">(</a><a href="#339347" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48817" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return">Return</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339348" title="LambdaLift.this.global.Tree">value</a>)) <a href="../ast/Trees.scala.html#29551" title="(pos: scala.tools.nsc.util.Position)LambdaLift.this.global.Block">setType</a> <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; LambdaLift.this.global.Type">tpe</a> setPos <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Return(<a title="LambdaLift.this.global.Tree" id="339387">expr</a>) =&gt;
          <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#339159" title="(x$1: AnyRef)Boolean">sym</a> == <a href="../ast/Trees.scala.html#45702" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentMethod</a>, <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>)
          <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>
        <span title="LambdaLift.this.global.explicitOuter.global.Apply" class="keyword">case</span> Apply(<a title="LambdaLift.this.global.Tree" id="339406">fn</a>, <a title="List[LambdaLift.this.global.Tree]" id="339407">args</a>) =&gt;
          <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48823" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,fun: LambdaLift.this.global.explicitOuter.global.Tree,args: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply">Apply</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339406" title="LambdaLift.this.global.Tree">fn</a>, <a href="#337556" title="(pos: scala.tools.nsc.util.Position,sym: LambdaLift.this.global.Symbol,args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">addFreeArgs</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>, <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#339407" title="List[LambdaLift.this.global.Tree]">args</a>))
        <span title="LambdaLift.this.global.explicitOuter.global.Assign" class="keyword">case</span> Assign(Apply(TypeApply(<a title="LambdaLift.this.global.Select" id="339423">sel</a> @ Select(<a title="LambdaLift.this.global.Tree" id="339428">qual</a>, _), _), <a href="#339434" title="(x: List[LambdaLift.this.global.Tree])Some[List[LambdaLift.this.global.Tree]]">List</a>()), <a title="LambdaLift.this.global.Tree" id="339446">rhs</a>) =&gt;
          // eliminate casts introduced by selecting a captured variable field
          // on the lhs of an assignment.
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#339423" title="LambdaLift.this.global.Select">sel</a>.<a href="../ast/Trees.scala.html#48738" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="../symtab/Definitions.scala.html#28711" title="=&gt; LambdaLift.this.global.Symbol">Object_asInstanceOf</a>)
          <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48813" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,lhs: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign">Assign</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>, <a href="#339428" title="LambdaLift.this.global.Tree">qual</a>, <a href="#339446" title="LambdaLift.this.global.Tree">rhs</a>)
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> Ident(<a title="LambdaLift.this.global.Name" id="339468">name</a>) =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="339471">tree1</a> =
            <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#339159" title="(x$1: AnyRef)Boolean">sym</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#26293" title="object LambdaLift.this.global.NoSymbol">NoSymbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27054" title="=&gt; Boolean">isTerm</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27071" title="=&gt; Boolean">isLabel</a>)
              <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27069" title="=&gt; Boolean">isMethod</a>) 
                <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.Select)LambdaLift.this.global.Select">atPos</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#337554" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a>(<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27130" title="(x$1: Boolean)Boolean">isLocal</a> &amp;&amp; <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a><span title="(x$1: AnyRef)Boolean">(</span><a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27142" title="=&gt; LambdaLift.this.global.Symbol">owner</a>) != <a href="#337546" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">enclMethOrClass</a>(<a href="../ast/Trees.scala.html#45699" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>))
                <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>)(<a href="#337555" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a>(<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>))
              <span class="keyword">else</span> <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>
            <span class="keyword">else</span> <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>;
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27063" title="=&gt; Boolean">isCapturedVariable</a>)
            <a href="../ast/Trees.scala.html#26943" title="(pos: scala.tools.nsc.util.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a>(<a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29547" title="=&gt; scala.tools.nsc.util.Position">pos</a>) {
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Type" id="339531">tp</a> = <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="339532">elemTree</a> = <a href="../typechecker/Typers.scala.html#42872" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> { <a href="../ast/Trees.scala.html#50528" title="(qualifier: LambdaLift.this.global.Tree,name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a>(<a href="../ast/Trees.scala.html#29552" title="(tp: LambdaLift.this.global.gen.global.Type)tree1.type">tree1</a> setType <a href="#339159" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#27162" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="../symtab/StdNames.scala.html#26690" title="object LambdaLift.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#30048" title="=&gt; LambdaLift.this.global.Name">elem</a>) }
              <span title="LambdaLift.this.global.Tree" class="keyword">if</span> (<a href="#339532" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; LambdaLift.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#30366" title="(x$1: AnyRef)Boolean">typeSymbol</a> != <a href="#339531" title="LambdaLift.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#30366" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>) <a href="../Global.scala.html#39263" title="object LambdaLift.this.global.gen">gen</a>.<a href="../Global.scala.html#43760" title="(tree: LambdaLift.this.global.Tree,pt: LambdaLift.this.global.Type)LambdaLift.this.global.Tree">mkAttributedCast</a>(<a href="#339532" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>, <a href="#339531" title="LambdaLift.this.global.Type">tp</a>) <span class="keyword">else</span> <a href="#339532" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>
            }
          <span class="keyword">else</span> <a href="#339471" title="LambdaLift.this.global.gen.global.Tree">tree1</a>
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#339157" title="LambdaLift.this.global.Tree">tree</a>
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="337560">transform</a>(<a title="LambdaLift.this.global.Tree" id="339610">tree</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a> =
      <a href="#337559" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">postTransform</a>(<span class="keyword">super</span>.<a href="ExplicitOuter.scala.html#337525" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">transform</a><a href="../ast/Trees.scala.html#29552" title="(tp: LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree">(</a><a href="#339610" title="LambdaLift.this.global.Tree">tree</a>) setType <a href="#337288" title="(v1: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a>(<a href="#339610" title="LambdaLift.this.global.Tree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; LambdaLift.this.global.Type">tpe</a>))

    /** Transform statements and add lifted definitions to them. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[LambdaLift.this.global.Tree],exprOwner: LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]" id="337561">transformStats</a>(<a title="List[LambdaLift.this.global.Tree]" id="339640">stats</a>: <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree], <a title="LambdaLift.this.global.Symbol" id="339641">exprOwner</a>: <a href="../symtab/Symbols.scala.html#26286" title="LambdaLift.this.global.Symbol">Symbol</a>): <span title="List[LambdaLift.this.global.Tree]">List</span>[Tree] = {
      <span class="keyword">def</span> <a title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="339645">addLifted</a>(<a title="LambdaLift.this.global.Tree" id="339646">stat</a>: <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a>): <a href="../ast/Trees.scala.html#26752" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#339646" title="LambdaLift.this.global.Tree">stat</a> <span title="LambdaLift.this.global.Tree" class="keyword">match</span> {
        <span title="LambdaLift.this.global.explicitOuter.global.ClassDef" class="keyword">case</span> ClassDef(<a title="LambdaLift.this.global.Modifiers" id="339653">mods</a>, <a title="LambdaLift.this.global.Name" id="339654">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="339655">tparams</a>, <a title="LambdaLift.this.global.Template" id="339656">impl</a> @ Template(<a title="List[LambdaLift.this.global.Tree]" id="339662">parents</a>, <a title="LambdaLift.this.global.ValDef" id="339663">self</a>, <a title="List[LambdaLift.this.global.Tree]" id="339664">body</a>)) =&gt;
          <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Tree]" id="339669">lifted</a> = <a href="#337540" title="(key: LambdaLift.this.global.Symbol)scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]">liftedDefs</a>(<a href="#339646" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>).<a title="(f: (LambdaLift.this.global.Tree) =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]" id="61864">toList</a> <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List#Coll]">map</span> <a href="#339645" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
          <span class="keyword">val</span> <a title="LambdaLift.this.global.explicitOuter.global.ClassDef" id="339670">result</a> = <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48794" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],impl: LambdaLift.this.global.explicitOuter.global.Template)LambdaLift.this.global.explicitOuter.global.ClassDef">ClassDef</a>(
            <a href="#339646" title="LambdaLift.this.global.Tree">stat</a>, <a href="#339653" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#339654" title="LambdaLift.this.global.Name">name</a>, <a href="#339655" title="List[LambdaLift.this.global.TypeDef]">tparams</a>, <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48803" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,parents: List[LambdaLift.this.global.explicitOuter.global.Tree],self: LambdaLift.this.global.explicitOuter.global.ValDef,body: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Template">Template</a>(<a href="#339656" title="LambdaLift.this.global.Template">impl</a>, <a href="#339662" title="List[LambdaLift.this.global.Tree]">parents</a>, <a href="#339663" title="LambdaLift.this.global.ValDef">self</a>, <a href="#339664" title="List[LambdaLift.this.global.Tree]">body</a> <a href="#339786" title="List[LambdaLift.this.global.Tree]">:::</a> <a href="#339669" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">lifted</a>))
          <a href="#337540" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.liftedDefs.type" id="44625">liftedDefs</a> -= <a href="#339646" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
          <a href="#339670" title="LambdaLift.this.global.explicitOuter.global.ClassDef">result</a>
        <span title="LambdaLift.this.global.explicitOuter.global.DefDef" class="keyword">case</span> DefDef(<a title="LambdaLift.this.global.Modifiers" id="339831">mods</a>, <a title="LambdaLift.this.global.Name" id="339832">name</a>, <a title="List[LambdaLift.this.global.TypeDef]" id="339833">tp</a>, <a title="List[List[LambdaLift.this.global.ValDef]]" id="339834">vp</a>, <a title="LambdaLift.this.global.Tree" id="339835">tpt</a>, Block(<a title="object Nil" id="7700">Nil</a>, <a title="LambdaLift.this.global.Tree" id="339838">expr</a>))
        <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#339646" title="LambdaLift.this.global.Tree">stat</a>.<a href="../ast/Trees.scala.html#29553" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27075" title="=&gt; Boolean">isConstructor</a> =&gt;
          <a href="../ast/Trees.scala.html#45697" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#48798" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree,mods: LambdaLift.this.global.explicitOuter.global.Modifiers,name: LambdaLift.this.global.explicitOuter.global.Name,tparams: List[LambdaLift.this.global.explicitOuter.global.TypeDef],vparamss: List[List[LambdaLift.this.global.explicitOuter.global.ValDef]],tpt: LambdaLift.this.global.explicitOuter.global.Tree,rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.DefDef">DefDef</a>(<a href="#339646" title="LambdaLift.this.global.Tree">stat</a>, <a href="#339831" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#339832" title="LambdaLift.this.global.Name">name</a>, <a href="#339833" title="List[LambdaLift.this.global.TypeDef]">tp</a>, <a href="#339834" title="List[List[LambdaLift.this.global.ValDef]]">vp</a>, <a href="#339835" title="LambdaLift.this.global.Tree">tpt</a>, <a href="#339838" title="LambdaLift.this.global.Tree">expr</a>)
        <span title="LambdaLift.this.global.Tree" class="keyword">case</span> _ =&gt;
          <a href="#339646" title="LambdaLift.this.global.Tree">stat</a>
      }
      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#45714" title="(stats: List[LambdaLift.this.global.explicitOuter.global.Tree],exprOwner: LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]">transformStats</a><span title="(f: (LambdaLift.this.global.explicitOuter.global.Tree) =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List[LambdaLift.this.global.explicitOuter.global.Tree]])List[LambdaLift.this.global.Tree]">(</span><a href="#339640" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="#339641" title="LambdaLift.this.global.Symbol">exprOwner</a>) <span title="scala.collection.generic.BuilderFactory[LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree],List#Coll]">map</span> <a href="#339645" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)Unit" id="337562">transformUnit</a>(<a title="LambdaLift.this.global.CompilationUnit" id="339892">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a>) {
      <a href="#337552" title="=&gt; Unit">computeFreeVars</a>
      <a href="../symtab/SymbolTable.scala.html#26256" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a>(<a href="../symtab/SymbolTable.scala.html#26247" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#23302" title="=&gt; scala.tools.nsc.Phase">next</a>)(<a href="#786119" title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit" class="keyword">super</a>.<a title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit" id="786119">transformUnit</a>(<a href="#339892" title="LambdaLift.this.global.CompilationUnit">unit</a>))
      <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span>(<a href="#337540" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a title="(x$1: Int)Boolean" id="44611">size</a> == <span title="Int(0)" class="int">0</span>, <a href="#337540" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,scala.collection.mutable.ListBuffer[LambdaLift.this.global.Tree]]">liftedDefs</a>.<span title="=&gt; Iterator[LambdaLift.this.global.Symbol]">keysIterator</span>.<span title="=&gt; List[LambdaLift.this.global.Symbol]">toList</span>)
    }
  } // class LambdaLifter

}

        </pre>
    </body>
</html>