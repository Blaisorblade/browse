<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/dependencies/Files.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="keyword">package</span> scala.tools.nsc.dependencies; 

<span class="keyword">import</span> java.io.{File =&gt; JFile, _}

<span class="keyword">import</span> scala.collection.mutable._;

<span class="keyword">trait</span> <span class="typed"><span class="type">trait Files extends java.lang.Object with ScalaObject</span><a id="18717">Files</a></span>{

  <span class="keyword">implicit</span> <span class="keyword">def</span> <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)Files.this.File</span><a id="83392">toFile</a></span>(<span class="typed"><span class="type">String</span><a id="86762">name</a></span> : <span class="typed"><span class="type">String</span><a id="1861">String</a></span>) : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393">toFile</a></span>(<span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3669">JFile</a></span>(<span class="typed"><span class="type">String</span><a href="#86762">name</a></span>));
  <span class="keyword">implicit</span> <span class="keyword">def</span> <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a id="83393">toFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="86764">jf</a></span> : <span class="typed"><span class="type">java.io.File</span><a id="3669">JFile</a></span>) : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = <span class="typed"><span class="type">Files.this.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#86764">jf</a></span>);

  <span class="keyword">class</span> <span class="typed"><span class="type">class FileDependencies extends java.lang.Object with ScalaObject</span><a id="83394">FileDependencies</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">String</span><span id="86662"><span id="86661"><a id="86678">classpath</a></span></span></span> : <span class="typed"><span class="type">String</span><a id="1861">String</a></span>){
    <span class="keyword">class</span> <span class="typed"><span class="type">class Tracker extends scala.collection.mutable.OpenHashMap[Files.this.File,scala.collection.mutable.Set[Files.this.File]] with ScalaObject</span><a id="86664">Tracker</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Files.this.File,scala.collection.mutable.Set[Files.this.File]]</span><span id="20015"><a id="86701">OpenHashMap</a></span></span>[File, Set[File]]{
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)scala.collection.mutable.Set[Files.this.File]</span><a id="86754">default</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124068">key</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = {
        <span class="typed"><span class="type">Tracker.this.type</span><a href="#86664" class="keyword">this</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124068">key</a></span>) = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="19895">HashSet</a></span>[File];
        <span class="typed"><span class="type">(Files.this.File)scala.collection.mutable.Set[Files.this.File]</span><a href="#86664" id="24239" class="keyword">this</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124068">key</a></span>);
      }
    }

    <span class="keyword">val</span> <span class="typed"><span class="type">FileDependencies.this.Tracker</span><span id="86666"><a id="86665">dependencies</a></span></span> = <span class="typed"><span class="type">FileDependencies.this.Tracker</span><span class="keyword">new</span></span> <span class="typed"><span class="type">FileDependencies.this.Tracker</span><a href="#86664">Tracker</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">FileDependencies.this.Tracker</span><span id="86668"><a id="86667">targets</a></span></span> =  <span class="typed"><span class="type">FileDependencies.this.Tracker</span><span class="keyword">new</span></span> <span class="typed"><span class="type">FileDependencies.this.Tracker</span><a href="#86664">Tracker</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86669">isEmpty</a></span> = <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="24238">isEmpty</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86667">targets</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="24238">isEmpty</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File,Files.this.File)Unit</span><a id="86670">emits</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="86778">source</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>, <span class="typed"><span class="type">Files.this.File</span><a id="86779">result</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">(Files.this.File)scala.collection.mutable.Set[Files.this.File]</span><a href="#86667" id="24239">targets</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#86778">source</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86617">absolute</a></span>) <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="25511">+=</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#86779">result</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86617">absolute</a></span>;
    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File,Files.this.File)Unit</span><a id="86671">depends</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="86692">from</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>, <span class="typed"><span class="type">Files.this.File</span><a id="86693">on</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">(Files.this.File)scala.collection.mutable.Set[Files.this.File]</span><a href="#86665" id="24239">dependencies</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#86692">from</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86617">absolute</a></span>) <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="25511">+=</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#86693">on</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86617">absolute</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="86672">reset</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124077">file</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span> <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="86736">-=</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#124077">file</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="86673">cleanEmpty</a></span>() = {
      <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span>.<span class="typed"><span class="type">(((Files.this.File, scala.collection.mutable.Set[Files.this.File])) =&gt; Unit)Unit</span><a id="86744">foreach</a></span>(<span class="typed"><span class="type">Unit</span><a href="#124082">{</a></span><span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">Files.this.File</span><a id="124083">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a id="124084">value</a></span>) =&gt; <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124084">value</a></span>.<span class="typed"><span class="type">((Files.this.File) =&gt; Boolean)Unit</span><a id="25530">retain</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124086">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86625">exists</a></span>)})        
      <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span>.<span class="typed"><span class="type">((Files.this.File, scala.collection.mutable.Set[Files.this.File]) =&gt; Boolean)Unit</span><a id="86747">retain</a></span>((<span class="typed"><span class="type">Files.this.File</span><a id="124088">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a id="124089">value</a></span>) =&gt; <span class="typed"><span class="type">Files.this.File</span><a href="#124088">key</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86625">exists</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124089">value</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Boolean</span><a id="86674">containsFile</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124090">f</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86667">targets</a></span>.<span class="typed"><span class="type">(Files.this.File)Boolean</span><a id="24240">contains</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124090">f</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86617">absolute</a></span>)        

    <span class="keyword">def</span> <span class="typed"><span class="type">(Int)(scala.collection.mutable.HashSet[Files.this.File], scala.collection.mutable.HashSet[Files.this.File])</span><a id="86675">invalidatedFiles</a></span>(<span class="typed"><span class="type">Int</span><a id="124092">maxDepth</a></span> : <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) = {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="124094">direct</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="19895">HashSet</a></span>[File];

      <span class="keyword">for</span> (<span class="typed"><span class="type">(((Files.this.File, scala.collection.mutable.Set[Files.this.File])) =&gt; Unit)Unit</span><span id="21792"><a href="#124101" id="21786">(</a></span></span><span class="typed"><span class="type">Files.this.File</span><span id="124102"><a id="124106">file</a></span></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><span id="124103"><a id="124107">products</a></span></span>) &lt;- <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86667">targets</a></span>) {
        <span class="comment">// This looks a bit odd. It may seem like one should invalidate a file</span>
        <span class="comment">// if *any* of its dependencies are older than it. The forall is there</span>
        <span class="comment">// to deal with the fact that a) Some results might have been orphaned</span>
        <span class="comment">// and b) Some files might not need changing. </span>
        <span class="typed"><span class="type">(Files.this.File,Boolean)Unit</span><span id="25510"><a href="#124094" id="25543">direct</a></span></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124106">file</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||=</a></span> <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124107">products</a></span>.<span class="typed"><span class="type">((Files.this.File) =&gt; Boolean)Boolean</span><a id="21793">forall</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124116">d</a></span> =&gt; <span class="typed"><span class="type">Files.this.File</span><a href="#124116">d</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="#86621">lastModified</a></span> <span class="typed"><span class="type">(Long)Boolean</span><a id="3266">&lt;</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#124106">file</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a href="#86621">lastModified</a></span>)
      }

    
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="124095">seen</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="19895">HashSet</a></span>[File];            
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="124096">indirect</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="19895">HashSet</a></span>[File];
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="124097">newInvalidations</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a id="19895">HashSet</a></span>[File];

      <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Boolean</span><a id="124098">invalid</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124120">file</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">(Files.this.File)Boolean</span><a href="#124096" id="25543">indirect</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124120">file</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">(Files.this.File)Boolean</span><a href="#124094" id="25543">direct</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124120">file</a></span>);

      <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Unit</span><a id="124099">go</a></span>(<span class="typed"><span class="type">Int</span><a id="124127">i</a></span> : <span class="typed"><span class="type">Int</span><a id="2394">Int</a></span>) : <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Int</span><a href="#124127">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3145">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>){
        <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124097">newInvalidations</a></span>.<span class="typed"><span class="type">()Unit</span><a id="25501">clear</a></span>;
        <span class="keyword">for</span>(<span class="typed"><span class="type">(((Files.this.File, scala.collection.mutable.Set[Files.this.File])) =&gt; Unit)Unit</span><span id="21792"><a href="#124130" id="21786">(</a></span></span><span class="typed"><span class="type">Files.this.File</span><span id="124131"><span id="124135"><a id="124139">target</a></span></span></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><span id="124132"><span id="124136"><a id="124140">depends</a></span></span></span>) &lt;- <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span>;
            <span class="keyword">if</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">(Files.this.File)Boolean</span><a href="#124098">invalid</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124135">target</a></span>);
            <span class="typed"><span class="type">((Files.this.File) =&gt; Unit)Unit</span><span id="21792"><a id="124142">d</a></span></span> &lt;- <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124140">depends</a></span>){
          <span class="typed"><span class="type">(Files.this.File,Boolean)Unit</span><span id="25510"><a href="#124097" id="25543">newInvalidations</a></span></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124139">target</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||=</a></span> <span class="typed"><span class="type">(Files.this.File)Boolean</span><a href="#124098">invalid</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124142">d</a></span>)
        }
        <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124096">indirect</a></span> <span class="typed"><span class="type">(Iterable[Files.this.File])Unit</span><a id="25513">++=</a></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124097">newInvalidations</a></span>;
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124097">newInvalidations</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="25544">isEmpty</a></span>) <span class="typed"><span class="type">(Int)Unit</span><a href="#124099">go</a></span>(<span class="typed"><span class="type">Int</span><a href="#124127">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3148">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>);
        <span class="keyword">else</span> <span class="typed"><span class="type">Unit</span><span >(</span></span>)
      }        

      <span class="typed"><span class="type">(Int)Unit</span><a href="#124099">go</a></span>(<span class="typed"><span class="type">Int</span><a href="#124092">maxDepth</a></span>)

      <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124096">indirect</a></span> <span class="typed"><span class="type">(Iterable[Files.this.File])Unit</span><a id="25522">--=</a></span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124094">direct</a></span>

      <span class="keyword">for</span> (<span class="typed"><span class="type">(((Files.this.File, scala.collection.mutable.Set[Files.this.File])) =&gt; Unit)Unit</span><span id="21792"><a href="#124167" id="21786">(</a></span></span><span class="typed"><span class="type">Files.this.File</span><span id="124168"><span id="124172"><a id="124176">source</a></span></span></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><span id="124169"><span id="124173"><a id="124177">targets</a></span></span></span>) &lt;- <span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86667">targets</a></span>; <span class="keyword">if</span> (<span class="typed"><span class="type">(Files.this.File)Boolean</span><a href="#124098">invalid</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124172">source</a></span>))){
        <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124177">targets</a></span>.<span class="typed"><span class="type">((Files.this.File) =&gt; Unit)Unit</span><a id="21792">foreach</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124179">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86630">rm</a></span>);
        <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124177">targets</a></span> <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="25520">-=</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#124176">source</a></span>;
      }

      <span class="typed"><span class="type">(scala.collection.mutable.HashSet[Files.this.File],scala.collection.mutable.HashSet[Files.this.File])(scala.collection.mutable.HashSet[Files.this.File], scala.collection.mutable.HashSet[Files.this.File])</span><span id="23625"><a id="1379">(</a></span></span><span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124094">direct</a></span>, <span class="typed"><span class="type">scala.collection.mutable.HashSet[Files.this.File]</span><a href="#124096">indirect</a></span>);
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Unit</span><a id="86676">writeTo</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="86800">file</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) : <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = <span class="typed"><span class="type">Files.this.File</span><a href="#86800">file</a></span>.<span class="typed"><span class="type">((java.io.OutputStream) =&gt; Unit)Unit</span><a href="#86633">writeTo</a></span>(<span class="typed"><span class="type">java.io.OutputStream</span><a id="124187">out</a></span> =&gt; <span class="typed"><span class="type">(java.io.PrintStream)Unit</span><a href="#86677">writeTo</a></span>(<span class="typed"><span class="type">java.io.PrintStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.PrintStream</span><a id="3852">PrintStream</a></span>(<span class="typed"><span class="type">java.io.OutputStream</span><a href="#124187">out</a></span>)));
    <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.PrintStream)Unit</span><a id="86677">writeTo</a></span>(<span class="typed"><span class="type">java.io.PrintStream</span><a id="86799">print</a></span> : <span class="typed"><span class="type">java.io.PrintStream</span><a id="3852">PrintStream</a></span>) : <span class="typed"><span class="type">Unit</span><a id="2169">Unit</a></span> = {
      <span class="typed"><span class="type">()Unit</span><a href="#86673">cleanEmpty</a></span>();
      <span class="keyword">def</span> <span class="typed"><span class="type">(FileDependencies.this.Tracker)Unit</span><a id="124191">emit</a></span>(<span class="typed"><span class="type">FileDependencies.this.Tracker</span><a id="124192">tracker</a></span> : <span class="typed"><span class="type">FileDependencies.this.Tracker</span><a href="#86664">Tracker</a></span>){
        <span class="keyword">for</span> (<span class="typed"><span class="type">(((Files.this.File, scala.collection.mutable.Set[Files.this.File])) =&gt; Unit)Unit</span><span id="21792"><a href="#124194" id="21786">(</a></span></span><span class="typed"><span class="type">Files.this.File</span><span id="124195"><a id="124199">f</a></span></span>, <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><span id="124196"><a id="124200">ds</a></span></span>) &lt;- <span class="typed"><span class="type">FileDependencies.this.Tracker</span><a href="#124192">tracker</a></span>;
              <span class="typed"><span class="type">((Files.this.File) =&gt; Unit)Unit</span><span id="21792"><a id="124202">d</a></span></span> &lt;- <span class="typed"><span class="type">scala.collection.mutable.Set[Files.this.File]</span><a href="#124200">ds</a></span>){
          <span class="typed"><span class="type">java.io.PrintStream</span><a href="#86799">print</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="27111">println</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6142"><a href="#124199" id="821">f</a></span></span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="23659">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; -&gt; &quot;)</span><span class="string">&quot; -&gt; &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">Files.this.File</span><a href="#124202">d</a></span>);
        }
      }

      <span class="typed"><span class="type">java.io.PrintStream</span><a href="#86799">print</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="27111">println</a></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#86661">classpath</a></span>);
      <span class="typed"><span class="type">java.io.PrintStream</span><a href="#86799">print</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="27111">println</a></span>(<span class="typed"><span class="type">object Files.this.FileDependencies</span><a href="#83395">FileDependencies</a></span>.<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#86644">Separator</a></span>)
      <span class="typed"><span class="type">(FileDependencies.this.Tracker)Unit</span><a href="#124191">emit</a></span>(<span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86665">dependencies</a></span>);
      <span class="typed"><span class="type">java.io.PrintStream</span><a href="#86799">print</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="27111">println</a></span>(<span class="typed"><span class="type">object Files.this.FileDependencies</span><a href="#83395">FileDependencies</a></span>.<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#86644">Separator</a></span>)
      <span class="typed"><span class="type">(FileDependencies.this.Tracker)Unit</span><a href="#124191">emit</a></span>(<span class="typed"><span class="type">=&gt; FileDependencies.this.Tracker</span><a href="#86667">targets</a></span>);

    }
  }

  <span class="keyword">object</span> <span class="typed"><span class="type">object Files.this.FileDependencies</span><a id="83395">FileDependencies</a></span>{
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="86645"><a id="86644">Separator</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;-------&quot;)</span><span class="string">&quot;-------&quot;</span></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Files.this.FileDependencies</span><a id="86646">readFrom</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="86647">file</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) = <span class="typed"><span class="type">Files.this.File</span><a href="#86647">file</a></span>.<span class="typed"><span class="type">((java.io.InputStream) =&gt; Files.this.FileDependencies)Files.this.FileDependencies</span><a href="#86636">readFrom</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="86652">in</a></span> =&gt; {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.BufferedReader</span><a id="86653">reader</a></span> = <span class="typed"><span class="type">(java.io.Reader)java.io.BufferedReader</span><a id="46775" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.BufferedReader</span><a id="3549">BufferedReader</a></span>(<span class="typed"><span class="type">java.io.InputStreamReader</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.InputStreamReader</span><a id="3741">InputStreamReader</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#86652">in</a></span>));
      <span class="keyword">val</span> <span class="typed"><span class="type">Files.this.FileDependencies</span><a id="86654">it</a></span> = <span class="typed"><span class="type">Files.this.FileDependencies</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Files.this.FileDependencies</span><a href="#83394">FileDependencies</a></span>(<span class="typed"><span class="type">java.io.BufferedReader</span><a href="#86653">reader</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="46779">readLine</a></span>);
      <span class="typed"><span class="type">java.io.BufferedReader</span><a href="#86653">reader</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="46779">readLine</a></span>;
      <span class="keyword">var</span> <span class="typed"><span class="type">String</span><a id="86655">line</a></span> : <span class="typed"><span class="type">String</span><a id="1861">String</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>;
      <span class="typed"><span class="type">Unit</span><a href="#86656" class="keyword">while</a></span> ({<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> = <span class="typed"><span class="type">java.io.BufferedReader</span><a href="#86653">reader</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="46779">readLine</a></span>; (<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#86644">Separator</a></span>)}){
        <span class="typed"><span class="type">String</span><a href="#86655">line</a></span>.<span class="typed"><span class="type">(java.lang.String)Array[java.lang.String]</span><a id="5865">split</a></span>(<span class="typed"><span class="type">java.lang.String(&quot; -&gt; &quot;)</span><span class="string">&quot; -&gt; &quot;</span></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(Array[java.lang.String])Option[Seq[java.lang.String]]</span><span id="21563"><a href="#86687" id="1073">Array</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a id="86690">from</a></span>, <span class="typed"><span class="type">java.lang.String</span><a id="86691">on</a></span>) =&gt; <span class="typed"><span class="type">Files.this.FileDependencies</span><a href="#86654">it</a></span>.<span class="typed"><span class="type">(Files.this.File,Files.this.File)Unit</span><a href="#86671">depends</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)Files.this.File</span><a href="#83392">from</a></span>, <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)Files.this.File</span><a href="#83392">on</a></span>);
          <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Array[java.lang.String]</span><a id="86766">x</a></span> =&gt; <span class="typed"><span class="type">(String)Nothing</span><span id="6000"><a id="821">error</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Parse error: Unrecognised string &quot;)</span><span class="string">&quot;Parse error: Unrecognised string &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#86655">line</a></span>);
        };
      }

      <span class="typed"><span class="type">Unit</span><a href="#86657" class="keyword">while</a></span> ({<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> = <span class="typed"><span class="type">java.io.BufferedReader</span><a href="#86653">reader</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="46779">readLine</a></span>; (<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> (<span class="typed"><span class="type">String</span><a href="#86655">line</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#86644">Separator</a></span>)}){
        <span class="typed"><span class="type">String</span><a href="#86655">line</a></span>.<span class="typed"><span class="type">(java.lang.String)Array[java.lang.String]</span><a id="5865">split</a></span>(<span class="typed"><span class="type">java.lang.String(&quot; -&gt; &quot;)</span><span class="string">&quot; -&gt; &quot;</span></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">(Array[java.lang.String])Option[Seq[java.lang.String]]</span><span id="21563"><a href="#86773" id="1073">Array</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a id="86776">source</a></span>, <span class="typed"><span class="type">java.lang.String</span><a id="86777">target</a></span>) =&gt; <span class="typed"><span class="type">Files.this.FileDependencies</span><a href="#86654">it</a></span>.<span class="typed"><span class="type">(Files.this.File,Files.this.File)Unit</span><a href="#86670">emits</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)Files.this.File</span><a href="#83392">source</a></span>, <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)Files.this.File</span><a href="#83392">target</a></span>);
          <span class="typed"><span class="type">Nothing</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Array[java.lang.String]</span><a id="86787">x</a></span> =&gt; <span class="typed"><span class="type">(String)Nothing</span><span id="6000"><a id="821">error</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Parse error: Unrecognised string &quot;)</span><span class="string">&quot;Parse error: Unrecognised string &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> <span class="typed"><span class="type">String</span><a href="#86655">line</a></span>);
        };
      }

      <span class="typed"><span class="type">Files.this.FileDependencies</span><a href="#86654">it</a></span>;
    })
  }


  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="83397">currentDirectory</a></span> = <span class="typed"><span class="type">Files.this.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>(<span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3669">JFile</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;.&quot;)</span><span class="string">&quot;.&quot;</span></span>))

  <span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class File extends java.lang.Object with ScalaObject with Product</span><span id="2751"><span id="124330"><span id="124338"><span id="29737"><span id="124336"><span id="124329"><span id="3500"><span id="29815"><span id="124326"><span id="2750"><span id="29856"><span id="124328"><span id="308"><span id="124337"><span id="3501"><span id="124333"><span id="124324"><span id="124325"><span id="124335"><span id="5794"><span id="83399"><span id="3509"><a id="83398">File</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> <span class="keyword">private</span>[Files](<span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><span id="86615"><span id="86614"><span id="124058"><a id="124341">underlying</a></span></span></span></span> : <span class="typed"><span class="type">java.io.File</span><a id="3669">JFile</a></span>){    
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">java.lang.NullPointerException</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.lang.NullPointerException</span><span id="5977"><a id="821">NullPointerException</a></span></span>();

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="86617">absolute</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393" id="40690">getAbsoluteFile</a></span>;
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="86618">canonical</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393" id="40692">getCanonicalFile</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="86619">assertDirectory</a></span> = 
      <span class="typed"><span class="type">Files.this.File</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86625">exists</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2751">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#86626">isDirectory</a></span>) <span class="typed"><span class="type">(String)Nothing</span><span id="6000"><a id="821">error</a></span></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6142"><a href="#83398" id="821" class="keyword">this</a></span></span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="23659">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; is not a directory&quot;)</span><span class="string">&quot; is not a directory&quot;</span></span>) 
      <span class="keyword">else</span> <span class="typed"><span class="type">Files.this.File</span><a href="#83398" class="keyword">this</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="86620">assertExists</a></span> = 
      <span class="typed"><span class="type">Files.this.File</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#86625">exists</a></span>) <span class="typed"><span class="type">(String)Nothing</span><span id="6000"><a id="821">error</a></span></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6142"><a href="#83398" id="821" class="keyword">this</a></span></span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="23659">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; does not exist&quot;)</span><span class="string">&quot; does not exist&quot;</span></span>)
      <span class="keyword">else</span> <span class="typed"><span class="type">Files.this.File</span><a href="#83398" class="keyword">this</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Long</span><a id="86621">lastModified</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Long</span><a id="40701">lastModified</a></span>

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterable[Files.this.File]</span><a id="86622">list</a></span> : <span class="typed"><span class="type">Iterable[Files.this.File]</span><a id="403">Iterable</a></span>[File] =       
      <span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86620">assertExists</a></span>.<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86619">assertDirectory</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Array[java.io.File]</span><a id="40708">listFiles</a></span>.<span class="typed"><span class="type">=&gt; Array.Projection[java.io.File]</span><a id="21475">projection</a></span>.<span class="typed"><span class="type">((java.io.File) =&gt; Files.this.File)RandomAccessSeq.Projection[Files.this.File]</span><a id="21579">map</a></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393">toFile</a></span>) 
      
    <span class="keyword">def</span> <span class="typed"><span class="type">(Files.this.File)Files.this.File</span><a id="86623">/</a></span> (<span class="typed"><span class="type">Files.this.File</span><a id="124252">file</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span>) : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = 
      <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393" id="40681" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.File</span><a id="3669">JFile</a></span>(<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86619">assertDirectory</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a href="#86624">toString</a></span>,
                <span class="typed"><span class="type">Files.this.File</span><a href="#124252">file</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a href="#86624">toString</a></span>)

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()java.lang.String</span><a id="86624">toString</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="124272">it</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="40687">getPath</a></span>;
      <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.String</span><a href="#124272">it</a></span>.<span class="typed"><span class="type">()Int</span><a id="5821">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;.&quot;)</span><span class="string">&quot;.&quot;</span></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String</span><a href="#124272">it</a></span>
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86625">exists</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="40697">exists</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86626">isDirectory</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="40698">isDirectory</a></span>;

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Files.this.File</span><a id="86627">parent</a></span> : <span class="typed"><span class="type">Files.this.File</span><a href="#83398">File</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><a id="124277">x</a></span> = <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()java.io.File</span><a id="40686">getParentFile</a></span>;
      <span class="typed"><span class="type">Files.this.File</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.io.File</span><a href="#124277">x</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#83397">currentDirectory</a></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)Files.this.File</span><a href="#83393">x</a></span>
    } 

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86628">create</a></span> : <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86627">parent</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86629">mkdir</a></span>; <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="40703">createNewFile</a></span> } 
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86629">mkdir</a></span> : <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = 
      <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86625">exists</a></span>) { <span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86619">assertDirectory</a></span>; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span> }
      <span class="keyword">else</span> {<span class="typed"><span class="type">=&gt; Files.this.File</span><a href="#86627">parent</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86629">mkdir</a></span>; <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="40711">mkdir</a></span>; }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="86630">rm</a></span> : <span class="typed"><span class="type">Boolean</span><a id="2170">Boolean</a></span> = {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86626">isDirectory</a></span>) <span class="typed"><span class="type">=&gt; Iterable[Files.this.File]</span><a href="#86622">list</a></span>.<span class="typed"><span class="type">((Files.this.File) =&gt; Unit)Unit</span><a id="21792">foreach</a></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124283">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86630">rm</a></span>);
      <span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="40704">delete</a></span>;
    }    

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterable[Files.this.File]</span><a id="86631">descendants</a></span> : <span class="typed"><span class="type">Iterable[Files.this.File]</span><a id="403">Iterable</a></span>[File] = 
      <span class="typed"><span class="type">=&gt; Iterable[Files.this.File]</span><a href="#86622">list</a></span>.<span class="typed"><span class="type">((Files.this.File) =&gt; Iterable[Files.this.File])Iterable[Files.this.File]</span><a id="21784">flatMap</a></span>(<span class="typed"><span class="type">Files.this.File</span><a id="124287">x</a></span> =&gt; <span class="typed"><span class="type">Iterable[Files.this.File]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Files.this.File</span><a href="#124287">x</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#86626">isDirectory</a></span>) <span class="typed"><span class="type">Files.this.File</span><a href="#124287">x</a></span>.<span class="typed"><span class="type">=&gt; Iterable[Files.this.File]</span><a href="#86631">descendants</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(Files.this.File*)List[Files.this.File]</span><span id="21328"><a id="527">List</a></span></span>(<span class="typed"><span class="type">Files.this.File</span><a href="#124287">x</a></span>))

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a id="86632">extension</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="124291">name</a></span> = <span class="typed"><span class="type">()java.lang.String</span><a href="#86624">toString</a></span>;
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="124292">i</a></span> = <span class="typed"><span class="type">java.lang.String</span><a href="#124291">name</a></span>.<span class="typed"><span class="type">(Int)Int</span><a id="5846">lastIndexOf</a></span>(<span class="typed"><span class="type">Int(46)</span><span class="char">'.'</span></span>);
      <span class="typed"><span class="type">java.lang.String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#124292">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">==</a></span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String</span><a href="#124291">name</a></span>.<span class="typed"><span class="type">(Int)java.lang.String</span><a id="5854">substring</a></span>(<span class="typed"><span class="type">Int</span><a href="#124292">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">[T]((java.io.OutputStream) =&gt; T)T</span><a id="86633">writeTo</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="86635">T</a></span>](<span class="typed"><span class="type">(java.io.OutputStream) =&gt; T</span><a id="124184">f</a></span> : OutputStream =&gt; T) : <span class="typed"><span class="type">T</span><a href="#86635">T</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.FileOutputStream</span><a id="124319">out</a></span> = <span class="typed"><span class="type">(java.io.File)java.io.FileOutputStream</span><a id="48703" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileOutputStream</span><a id="3798">FileOutputStream</a></span>(<span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>);
      <span class="keyword">try</span> {
        <span class="typed"><span class="type">(java.io.OutputStream)T</span><a href="#124184" id="21757">f</a></span>(<span class="typed"><span class="type">java.io.FileOutputStream</span><a href="#124319">out</a></span>); 
      } <span class="keyword">finally</span> {
        <span class="typed"><span class="type">java.io.FileOutputStream</span><a href="#124319">out</a></span>.<span class="typed"><span class="type">()Unit</span><a id="48709">close</a></span>;
      }
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">[T]((java.io.InputStream) =&gt; T)T</span><a id="86636">readFrom</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="86638">T</a></span>](<span class="typed"><span class="type">(java.io.InputStream) =&gt; T</span><a id="86649">f</a></span> : InputStream =&gt; T) : <span class="typed"><span class="type">T</span><a href="#86638">T</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.FileInputStream</span><a id="124322">in</a></span> = <span class="typed"><span class="type">(java.io.File)java.io.FileInputStream</span><a id="48679" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileInputStream</span><a id="3810">FileInputStream</a></span>(<span class="typed"><span class="type">=&gt; java.io.File</span><a href="#86614">underlying</a></span>);
      <span class="keyword">try</span>{
        <span class="typed"><span class="type">(java.io.InputStream)T</span><a href="#86649" id="21757">f</a></span>(<span class="typed"><span class="type">java.io.FileInputStream</span><a href="#124322">in</a></span>);
      } <span class="keyword">finally</span> {
        <span class="typed"><span class="type">java.io.FileInputStream</span><a href="#124322">in</a></span>.<span class="typed"><span class="type">()Unit</span><a id="48686">close</a></span>;
      }
    }
  }  

}

<span class="keyword">object</span> <span class="typed"><span class="type">object scala.tools.nsc.dependencies.Files</span><a id="18718">Files</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.dependencies.Files</span><a href="#18717">Files</a></span>;

        </pre>
    </body>
</html>