<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/dependencies/DependencyAnalysis.scala</title>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="keyword">package</span> scala.tools.nsc.dependencies;
<span class="keyword">import</span> util.SourceFile;

<span class="keyword">trait</span> <span class="typed"><span class="type">trait DependencyAnalysis extends scala.tools.nsc.SubComponent with scala.tools.nsc.dependencies.Files with ScalaObject</span><a id="18666">DependencyAnalysis</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.SubComponent</span><a href="../SubComponent.scala.html#6300">SubComponent</a></span> <span class="keyword">with</span> <span class="typed"><span class="type">scala.tools.nsc.dependencies.Files</span><a href="Files.scala.html#18717">Files</a></span>{
  <span class="keyword">import</span> global._

  <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="83354"><a id="83353">phaseName</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;dependencyAnalysis&quot;)</span><span class="string">&quot;dependencyAnalysis&quot;</span></span>;

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="83355">off</a></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../Settings.scala.html#29970">make</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3509">==</a></span> <span class="typed"><span class="type">java.lang.String(&quot;all&quot;)</span><span class="string">&quot;all&quot;</span></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.Phase)DependencyAnalysis.this.AnalysisPhase</span><a id="83356">newPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="133239">prev</a></span> : <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="../Phase.scala.html#6873">Phase</a></span>) = <span class="typed"><span class="type">DependencyAnalysis.this.AnalysisPhase</span><span class="keyword">new</span></span> <span class="typed"><span class="type">DependencyAnalysis.this.AnalysisPhase</span><a href="#83368">AnalysisPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#133239">prev</a></span>) 

  <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="83358">maxDepth</a></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting</span><a href="../Settings.scala.html#29970">make</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.ChoiceSetting#T</span><a href="../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">Int</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">Int(0)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;changed&quot;)</span><span class="string">&quot;changed&quot;</span></span> =&gt; <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> 
    <span class="typed"><span class="type">Int(2147483647)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;transitive&quot;)</span><span class="string">&quot;transitive&quot;</span></span> =&gt; Int.<span class="typed"><span class="type">Int(2147483647)</span><span >MaxValue</span></span>
    <span class="typed"><span class="type">Int(1)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;immediate&quot;)</span><span class="string">&quot;immediate&quot;</span></span> =&gt; <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> 
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(Any)DependencyAnalysis.this.File</span><a id="83359">nameToFile</a></span>(<span class="typed"><span class="type">Any</span><a id="133248">name</a></span> : <span class="typed"><span class="type">Any</span><a id="51">Any</a></span>) = 
    <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting</span><a href="../Settings.scala.html#29954">outdir</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)DependencyAnalysis.this.File</span><a href="Files.scala.html#83392">value</a></span> <span class="typed"><span class="type">(DependencyAnalysis.this.File)DependencyAnalysis.this.File</span><a href="Files.scala.html#86623">/</a></span> (<span class="typed"><span class="type">Any</span><a href="#133248">name</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="3500">toString</a></span>.<span class="typed"><span class="type">(java.lang.CharSequence,java.lang.CharSequence)java.lang.String</span><a id="5863">replace</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;.&quot;)</span><span class="string">&quot;.&quot;</span></span>, java.io.<span class="typed"><span class="type">object java.io.File</span><a id="3670">File</a></span>.<span class="typed"><span class="type">java.lang.String</span><a id="40675">separator</a></span>) <span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)DependencyAnalysis.this.File</span><a href="Files.scala.html#83392" id="5802">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;.class&quot;)</span><span class="string">&quot;.class&quot;</span></span>)

  <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">Option[DependencyAnalysis.this.File]</span><a id="83361">dependenciesFile</a></span> : <span class="typed"><span class="type">Option[DependencyAnalysis.this.File]</span><a id="934">Option</a></span>[File] = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting</span><a href="../Settings.scala.html#29956">dependenciesFile</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a href="../Settings.scala.html#30301">value</a></span> <span class="typed"><span class="type">Option[DependencyAnalysis.this.File]</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">java.lang.String(&quot;none&quot;)</span><span class="string">&quot;none&quot;</span></span> =&gt; <span class="typed"><span class="type">object None</span><a id="536">None</a></span> 
    <span class="typed"><span class="type">Some[DependencyAnalysis.this.File]</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.tools.nsc.Settings.StringSetting#T</span><a id="133266">x</a></span> =&gt; <span class="typed"><span class="type">(DependencyAnalysis.this.File)Some[DependencyAnalysis.this.File]</span><span id="29737"><a id="308">Some</a></span></span>(<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)DependencyAnalysis.this.File</span><a href="Files.scala.html#83392">toFile</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Settings.StringSetting#T</span><a href="#133266">x</a></span>))
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a id="83362">classpath</a></span> = <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting</span><a href="../Settings.scala.html#29952">classpath</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a id="83363">newDeps</a></span> = <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><span class="keyword">new</span></span> <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><a href="Files.scala.html#83394">FileDependencies</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a href="#83362">classpath</a></span>);

  <span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><a id="83365">dependencies</a></span> = 
    <span class="typed"><span class="type">=&gt; Option[DependencyAnalysis.this.File]</span><a href="#83360">dependenciesFile</a></span> <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a id="86639">f</a></span>) <span class="keyword">if</span> <span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#86639">f</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="Files.scala.html#86625">exists</a></span> =&gt; {
        <span class="keyword">val</span> <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><a id="86642">fd</a></span> = <span class="typed"><span class="type">object DependencyAnalysis.this.FileDependencies</span><a href="Files.scala.html#83395">FileDependencies</a></span>.<span class="typed"><span class="type">(DependencyAnalysis.this.File)DependencyAnalysis.this.FileDependencies</span><a href="Files.scala.html#86646">readFrom</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#86639">f</a></span>);
        <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><a href="#86642">fd</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="Files.scala.html#86661">classpath</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a href="#83362">classpath</a></span>) {
          <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>){
            <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Classpath has changed. Nuking dependencies&quot;)</span><span class="string">&quot;Classpath has changed. Nuking dependencies&quot;</span></span>);
          }
          <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83363">newDeps</a></span>
        }
        <span class="keyword">else</span> <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><a href="#86642">fd</a></span>
      }
      <span class="typed"><span class="type">DependencyAnalysis.this.FileDependencies</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83363">newDeps</a></span>;
    }

  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="83366">writeToFile</a></span>() = <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; Boolean</span><a href="#83355">off</a></span>){
    <span class="typed"><span class="type">=&gt; Option[DependencyAnalysis.this.File]</span><a href="#83360">dependenciesFile</a></span>.<span class="typed"><span class="type">((DependencyAnalysis.this.File) =&gt; Unit)Unit</span><a id="25418">foreach</a></span>(<span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">(DependencyAnalysis.this.File)Unit</span><a href="Files.scala.html#86676">writeTo</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#86612">_</a></span>));
  } 

  <span class="keyword">def</span> <span class="typed"><span class="type">(List[scala.tools.nsc.util.SourceFile])List[scala.tools.nsc.util.SourceFile]</span><a id="83367">filter</a></span>(<span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a id="83934">files</a></span> : <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a id="526">List</a></span>[SourceFile]) : <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a id="526">List</a></span>[SourceFile] = 
    <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a href="#83355">off</a></span>) <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#83934">files</a></span>
    <span class="keyword">else</span> <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="Files.scala.html#86669">isEmpty</a></span>){
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>){
        <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;No known dependencies. Compiling everything&quot;)</span><span class="string">&quot;No known dependencies. Compiling everything&quot;</span></span>);
      }
      <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#83934">files</a></span>
    }
    <span class="keyword">else</span> {
      <span class="keyword">val</span> <span class="typed"><span class="type">(scala.collection.mutable.HashSet[DependencyAnalysis.this.File], scala.collection.mutable.HashSet[DependencyAnalysis.this.File])</span><span id="23625"><a href="#133276" id="1379">(</a></span></span><span class="typed"><span class="type">scala.collection.mutable.HashSet[DependencyAnalysis.this.File]</span><span id="133276"><span id="133273"><a href="#133272" id="23614">direct</a></span></span></span>, <span class="typed"><span class="type">scala.collection.mutable.HashSet[DependencyAnalysis.this.File]</span><span id="133277"><span id="133274"><a href="#133272" id="23616">indirect</a></span></span></span>) = <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">(Int)(scala.collection.mutable.HashSet[DependencyAnalysis.this.File], scala.collection.mutable.HashSet[DependencyAnalysis.this.File])</span><a href="Files.scala.html#86675">invalidatedFiles</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#83357">maxDepth</a></span>);  
      <span class="keyword">val</span> <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a id="133275">filtered</a></span> = <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#83934">files</a></span>.<span class="typed"><span class="type">((scala.tools.nsc.util.SourceFile) =&gt; Boolean)List[scala.tools.nsc.util.SourceFile]</span><a id="21367">filter</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.SourceFile</span><a id="133281">x</a></span> =&gt; {
        <span class="keyword">val</span> <span class="typed"><span class="type">DependencyAnalysis.this.File</span><a id="133282">f</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.SourceFile</span><a href="#133281">x</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (String)DependencyAnalysis.this.File</span><a href="Files.scala.html#83392">path</a></span>.<span class="typed"><span class="type">=&gt; DependencyAnalysis.this.File</span><a href="Files.scala.html#86617">absolute</a></span>;
        <span class="typed"><span class="type">(DependencyAnalysis.this.File)Boolean</span><a href="#133273" id="25543">direct</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#133282">f</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">(DependencyAnalysis.this.File)Boolean</span><a href="#133274" id="25543">indirect</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#133282">f</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2750">||</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2747">!</a></span><span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">(DependencyAnalysis.this.File)Boolean</span><a href="Files.scala.html#86674">containsFile</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#133282">f</a></span>);
      })
      <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#133275">filtered</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object Nil</span><a id="335">Nil</a></span> =&gt; <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;No changes to recompile&quot;)</span><span class="string">&quot;No changes to recompile&quot;</span></span>);
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a id="133300">x</a></span> =&gt; <span class="typed"><span class="type">(Any)Unit</span><span id="6112"><a id="821">println</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Recompiling &quot;)</span><span class="string">&quot;Recompiling &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5802">+</a></span> (
          <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a href="../Global.scala.html#21157">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting</span><a href="../Settings.scala.html#30066">debug</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.BooleanSetting#T</span><a href="../Settings.scala.html#30301">value</a></span>) <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#133300">x</a></span>.<span class="typed"><span class="type">(String)String</span><a id="21819">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>)
          <span class="keyword">else</span> <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#133300">x</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="21345">length</a></span> <span class="typed"><span class="type">(java.lang.String)java.lang.String</span><a id="3089">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; files&quot;)</span><span class="string">&quot; files&quot;</span></span>)
        )
      }
      <span class="typed"><span class="type">List[scala.tools.nsc.util.SourceFile]</span><a href="#133275">filtered</a></span>
    }

  <span class="keyword">class</span> <span class="typed"><span class="type">class AnalysisPhase extends DependencyAnalysis.this.StdPhase with ScalaObject</span><a id="83368">AnalysisPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><span id="133242"><a id="133245">prev</a></span></span> : <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="../Phase.scala.html#6873">Phase</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">DependencyAnalysis.this.StdPhase</span><a href="../SubComponent.scala.html#29468">StdPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#133245">prev</a></span>){
    <span class="keyword">def</span> <span class="typed"><span class="type">(DependencyAnalysis.this.global.CompilationUnit)Unit</span><a id="133244">apply</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a id="133308">unit</a></span> : global.<span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a href="../CompilationUnits.scala.html#22571">CompilationUnit</a></span>) { 
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><a id="133309">f</a></span> = <span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a href="#133308">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a href="../CompilationUnits.scala.html#24127">source</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../util/SourceFile.scala.html#22650">file</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="../io/AbstractFile.scala.html#25442">file</a></span>;
      <span class="comment">// When we're passed strings by the interpreter </span>
      <span class="comment">// they  have no source file. We simply ignore this case</span>
      <span class="comment">// as irrelevant to dependency analysis.</span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.io.File</span><a href="#133309">f</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>){
        <span class="keyword">val</span> <span class="typed"><span class="type">DependencyAnalysis.this.File</span><a id="133311">source</a></span> : <span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="Files.scala.html#83398">File</a></span> = <span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a href="#133308">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a href="../CompilationUnits.scala.html#24127">source</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../util/SourceFile.scala.html#22650">file</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)DependencyAnalysis.this.File</span><a href="Files.scala.html#83393">file</a></span>;
        <span class="keyword">for</span> (<span class="typed"><span class="type">((DependencyAnalysis.this.global.icodes.IClass) =&gt; Unit)Unit</span><span id="21792"><a id="133314">d</a></span></span> &lt;- <span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a href="#133308">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[DependencyAnalysis.this.global.icodes.IClass]</span><a href="../CompilationUnits.scala.html#24148">icode</a></span>){
          <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">(DependencyAnalysis.this.File,DependencyAnalysis.this.File)Unit</span><a href="Files.scala.html#86670">emits</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#133311">source</a></span>, <span class="typed"><span class="type">(Any)DependencyAnalysis.this.File</span><a href="#83359">nameToFile</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.global.icodes.IClass</span><a href="#133314">d</a></span>))
        }
       
        <span class="keyword">for</span> (<span class="typed"><span class="type">((DependencyAnalysis.this.global.Symbol) =&gt; Unit)Unit</span><span id="21792"><span id="21786"><span id="133316"><a id="133320">d</a></span></span></span></span> &lt;- <span class="typed"><span class="type">DependencyAnalysis.this.global.CompilationUnit</span><a href="#133308">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[DependencyAnalysis.this.global.Symbol]</span><a href="../CompilationUnits.scala.html#24136">depends</a></span>; <span class="keyword">if</span> (<span class="typed"><span class="type">DependencyAnalysis.this.global.Symbol</span><a href="#133316">d</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../symtab/Symbols.scala.html#25301">sourceFile</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)){
          <span class="typed"><span class="type">=&gt; DependencyAnalysis.this.FileDependencies</span><a href="#83364">dependencies</a></span>.<span class="typed"><span class="type">(DependencyAnalysis.this.File,DependencyAnalysis.this.File)Unit</span><a href="Files.scala.html#86671">depends</a></span>(<span class="typed"><span class="type">DependencyAnalysis.this.File</span><a href="#133311">source</a></span>, <span class="typed"><span class="type">DependencyAnalysis.this.global.Symbol</span><a href="#133320">d</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a href="../symtab/Symbols.scala.html#25301">sourceFile</a></span>.<span class="typed"><span class="type">implicit scala.tools.nsc.dependencies.Files.toFile : (java.io.File)DependencyAnalysis.this.File</span><a href="Files.scala.html#83393">file</a></span>);
        }
      }
    }
  }
}

        </pre>
    </body>
</html>