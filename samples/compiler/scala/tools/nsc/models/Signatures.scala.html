<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/models/Signatures.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Signatures.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> models

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.{Global =&gt; Compiler}
<span class="keyword">import</span> scala.tools.nsc.symtab.{Flags, Names}
<span class="keyword">import</span> scala.tools.nsc.util.{ Position, SourceFile }
<span class="keyword">import</span> scala.util.NameTransformer

/** This class ...
 *
 *  @author  Sean McDirmid
 *  @version 1.0
 */
<span class="keyword">class</span> <a title="class Signatures extends java.lang.Object with ScalaObject" id="22651">Signatures</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="703156">compiler</a>: <a href="../Global.scala.html#8529" title="scala.tools.nsc.Global">Compiler</a>) {
  <span class="keyword">import</span> compiler._

  <span class="keyword">class</span> <a title="class Signature extends java.lang.Object with ScalaObject" id="703148">Signature</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="String" id="703170">name</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="703171">children</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]) {
    <span class="keyword">def</span> <a title="=&gt; String" id="703166">asString</a>: <span title="String">String</span> = <a href="#703170" title="(x$1: Any)java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703150" title="(sigs: List[Signatures.this.Signature])String">asString0</a>(<a href="#703171" title="=&gt; List[Signatures.this.Signature]">children</a>) + <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
  }

  <span class="keyword">def</span> <a title="(sigs: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="703149">sort</a>(<a title="List[Signatures.this.Signature]" id="703186">sigs</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]) =
    <a href="#703186" title="List[Signatures.this.Signature]">sigs</a>.<a title="(lt: (Signatures.this.Signature, Signatures.this.Signature) =&gt; Boolean)List[Signatures.this.Signature]" id="24469">sort</a>((<a title="Signatures.this.Signature" id="703191">l0</a>,<a title="Signatures.this.Signature" id="703192">l1</a>) =&gt; <a href="#703191" title="Signatures.this.Signature">l0</a>.<a href="#703170" title="=&gt; String">name</a>.<a title="(x$1: java.lang.String)Int" id="7024">compareTo</a><a title="(x$1: Int)Boolean" id="2981">(</a><a href="#703192" title="Signatures.this.Signature">l1</a>.<a href="#703170" title="=&gt; String">name</a>) &gt; <span title="Int(0)" class="int">0</span>)

  <span class="keyword">def</span> <a title="(sigs: List[Signatures.this.Signature])String" id="703150">asString0</a>(<a title="List[Signatures.this.Signature]" id="703178">sigs</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]): <span title="String">String</span> = {
    <span class="keyword">var</span> <a title="java.lang.String" id="703204">ret</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">for</span> (<a title="Signatures.this.Signature" id="703224">sig</a> &lt;- <a href="#703149" title="(sigs: List[Signatures.this.Signature])List[Signatures.this.Signature]">sort</a><span title="(f: (Signatures.this.Signature) =&gt; Unit)Unit">(</span><a href="#703178" title="List[Signatures.this.Signature]">sigs</a>)) <a href="#703204" title="java.lang.String">ret</a> = <a href="#703204" title="(x$1: Any)java.lang.String">ret</a> + <a href="#703224" title="Signatures.this.Signature">sig</a>.<a href="#703166" title="=&gt; String">asString</a>
    <a href="#703204" title="java.lang.String">ret</a>
  }

  <span class="keyword">def</span> <a title="(unit: Signatures.this.compiler.CompilationUnit)String" id="703151">signature</a>(<a title="Signatures.this.compiler.CompilationUnit" id="703230">unit</a>: <a href="../CompilationUnits.scala.html#39428" title="Signatures.this.compiler.CompilationUnit">CompilationUnit</a>): <span title="String">String</span> =
    <a href="#703150" title="(sigs: List[Signatures.this.Signature])String">asString0</a>(<a href="#703153" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#703230" title="Signatures.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45669" title="=&gt; Signatures.this.compiler.Tree">body</a>, <span title="object Nil">Nil</span>))

  <span class="keyword">def</span> <a title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]" id="703152">signature</a>(<a title="List[Signatures.this.compiler.Tree]" id="703238">trees</a>: <span title="List[Signatures.this.compiler.Tree]">List</span>[Tree]): <span title="List[Signatures.this.Signature]">List</span>[Signature] = {
    <span class="keyword">var</span> <a title="List[Signatures.this.Signature]" id="703289">ret</a> : <span title="List[Signatures.this.Signature]">List</span>[Signature] = <span title="object Nil">Nil</span>
    <span class="keyword">for</span> (<a title="Signatures.this.compiler.Tree" id="703306">tree</a> &lt;- <a href="#703238" title="(f: (Signatures.this.compiler.Tree) =&gt; Unit)Unit">trees</a>) <a href="#703289" title="List[Signatures.this.Signature]">ret</a> = <a href="#703153" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#703306" title="Signatures.this.compiler.Tree">tree</a>, <a href="#703289" title="List[Signatures.this.Signature]">ret</a>)
    <a href="#703289" title="List[Signatures.this.Signature]">ret</a>
  }

  /**
   *  @param tree0 ...
   *  @param rest  ...
   *  @return      ...
   */
  <span class="keyword">def</span> <a title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="703153">signature</a>(<a title="Signatures.this.compiler.Tree" id="703235">tree0</a>: <a href="../ast/Trees.scala.html#26752" title="Signatures.this.compiler.Tree">Tree</a>, <a title="List[Signatures.this.Signature]" id="703236">rest</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]): <span title="List[Signatures.this.Signature]">List</span>[Signature] = <a href="#703235" title="Signatures.this.compiler.Tree">tree0</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.MemberDef" id="703323">tree</a>: <a href="../ast/Trees.scala.html#26763" title="Signatures.this.compiler.MemberDef">MemberDef</a> =&gt; <span title="List[Signatures.this.Signature]" class="keyword">if</span> (<a title="=&gt; Boolean" id="2226">!</a><a href="#703323" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#52239" title="=&gt; Signatures.this.compiler.Modifiers">mods</a>.<a href="../ast/Trees.scala.html#52286" title="=&gt; Boolean">isPrivate</a>) {
      <span class="keyword">val</span> <a title="java.lang.String" id="703324">name</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703323" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#48742" title="=&gt; Signatures.this.compiler.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span> + 
        (<a href="#703323" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#52302" title="(flag: Long)Signatures.this.compiler.Modifiers">mods</a> &amp;~ Flags.<span title="Long(2097152L)">SYNTHETIC</span>)
      
      <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="703325">children</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature] = <a href="#703323" title="Signatures.this.compiler.MemberDef">tree</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
          <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ImplDef" id="703334">impl</a>: <a href="../ast/Trees.scala.html#26767" title="Signatures.this.compiler.ImplDef">ImplDef</a>
            //if (!impl.name.toString.contains(&quot;$anonfun$&quot;)) =&gt;
            <span class="keyword">if</span> (<a href="#703334" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#48742" title="=&gt; Signatures.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28396" title="(s: String)Int">pos</a><a title="(x$1: Int)Boolean" id="2973">(</a><span title="java.lang.String(&quot;$anonfun$&quot;)" class="string">&quot;$anonfun$&quot;</span>) == <a href="#703324" title="java.lang.String">name</a>.<a title="()Int" id="6984">length</a>) =&gt;
          <span class="keyword">val</span> <a title="Signatures.this.Signature" id="703350">supers</a> = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$supers&quot;)" class="string">&quot;$$supers&quot;</span>, <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703334" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#52243" title="=&gt; Signatures.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52310" title="=&gt; List[Signatures.this.compiler.Tree]">parents</a>))
          <span class="keyword">val</span> <a title="Signatures.this.Signature" id="703351">body</a>   = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$body&quot;)" class="string">&quot;$$body&quot;</span>,   <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703334" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#52243" title="=&gt; Signatures.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52314" title="=&gt; List[Signatures.this.compiler.Tree]">body</a>))
          <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="703352">ret</a> = <a href="#703350" title="Signatures.this.Signature">supers</a> <a href="#703403" title="Signatures.this.Signature">::</a> <a href="#703351" title="Signatures.this.Signature">body</a> <a href="#703404" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">::</a> <span title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">Nil</span>
          <a href="#703334" title="Signatures.this.compiler.ImplDef">impl</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ClassDef" id="703419">cdef</a>: <a href="../ast/Trees.scala.html#26768" title="Signatures.this.compiler.ClassDef">ClassDef</a> =&gt;
              <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$tparams&quot;)" class="string">&quot;$$tparams&quot;</span>, <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703419" title="Signatures.this.compiler.ClassDef">cdef</a>.<a href="../ast/Trees.scala.html#52252" title="=&gt; List[Signatures.this.compiler.TypeDef]">tparams</a>)) <a href="#703420" title="Signatures.this.Signature">::</a> <a href="#703352" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">ret</a>
            <span title="List[Signatures.this.Signature]" class="keyword">case</span>  _ =&gt;
              <a href="#703352" title="List[Signatures.this.Signature]">ret</a>
          }
        <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ValOrDefDef" id="703439">vdef</a>: <a href="../ast/Trees.scala.html#26777" title="Signatures.this.compiler.ValOrDefDef">ValOrDefDef</a> =&gt;
          <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="703440">ret</a> = <a href="#703153" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#703439" title="Signatures.this.compiler.ValOrDefDef">vdef</a>.<a href="../ast/Trees.scala.html#52432" title="=&gt; Signatures.this.compiler.Tree">tpt</a>, <span title="object Nil">Nil</span>)
          <a href="#703439" title="Signatures.this.compiler.ValOrDefDef">vdef</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.DefDef" id="703454">ddef</a> : <a href="../ast/Trees.scala.html#26785" title="Signatures.this.compiler.DefDef">DefDef</a> =&gt;
              <span class="keyword">val</span> <a title="Signatures.this.Signature" id="703455">tparams</a> = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$tparams&quot;)" class="string">&quot;$$tparams&quot;</span>, <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703454" title="Signatures.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52444" title="=&gt; List[Signatures.this.compiler.TypeDef]">tparams</a>))
              <span class="keyword">var</span> <a title="List[Signatures.this.Signature]" id="703456">vparamss</a> : <span title="List[Signatures.this.Signature]">List</span>[Signature] = <span title="object Nil">Nil</span>
              <span class="keyword">for</span> (<a title="List[Signatures.this.compiler.ValDef]" id="703484">list</a> &lt;- <a href="#703454" title="Signatures.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52446" title="(f: (List[Signatures.this.compiler.ValDef]) =&gt; Unit)Unit">vparamss</a>)
                <a href="#703456" title="List[Signatures.this.Signature]">vparamss</a> = <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703484" title="List[Signatures.this.compiler.ValDef]">list</a>) <a href="#703485" title="List[Signatures.this.Signature]">:::</a> <a href="#703456" title="(prefix: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="24420">vparamss</a>
              <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$ret&quot;)" class="string">&quot;$$ret&quot;</span>, <a href="#703440" title="List[Signatures.this.Signature]">ret</a>) <a href="#703503" title="Signatures.this.Signature">::</a> <a href="#703455" title="Signatures.this.Signature">tparams</a> <a href="#703506" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">::</a> <a href="#703456" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">vparamss</a>
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> _ =&gt;
              <a href="#703440" title="List[Signatures.this.Signature]">ret</a>
          }
        <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.PackageDef" id="703521">pdef</a>: <a href="../ast/Trees.scala.html#26764" title="Signatures.this.compiler.PackageDef">PackageDef</a> =&gt; <a href="#703152" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#703521" title="Signatures.this.compiler.PackageDef">pdef</a>.<a href="../ast/Trees.scala.html#79135" title="=&gt; List[Signatures.this.compiler.Tree]">stats</a>)
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> _ =&gt; <span title="object Nil">Nil</span>
      }
      <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<a href="#703324" title="java.lang.String">name</a>, <a href="#703325" title="List[Signatures.this.Signature]">children</a>) <a href="#703531" title="Signatures.this.Signature">::</a> <a href="#703236" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">rest</a>

    } <span class="keyword">else</span> <a href="#703236" title="List[Signatures.this.Signature]">rest</a>
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.TypeTree" id="703541">tree</a>: <a href="../ast/Trees.scala.html#26900" title="Signatures.this.compiler.TypeTree">TypeTree</a> =&gt; <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#703148" title="Signatures.this.Signature">Signature</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> + <a href="#703541" title="Signatures.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29549" title="=&gt; Signatures.this.compiler.Type">tpe</a>, <span title="object Nil">Nil</span>) <a href="#703542" title="Signatures.this.Signature">::</a> <a href="#703236" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">rest</a>
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> _ =&gt; <a href="#703236" title="List[Signatures.this.Signature]">rest</a>
  }
}

        </pre>
    </body>
</html>