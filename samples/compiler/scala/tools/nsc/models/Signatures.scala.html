<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/models/Signatures.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: Signatures.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> models

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.{Global =&gt; Compiler}
<span class="keyword">import</span> scala.tools.nsc.symtab.{Flags, Names}
<span class="keyword">import</span> scala.tools.nsc.util.{ Position, SourceFile }
<span class="keyword">import</span> scala.util.NameTransformer

/** This class ...
 *
 *  @author  Sean McDirmid
 *  @version 1.0
 */
<span class="keyword">class</span> <a title="class Signatures extends java.lang.Object with ScalaObject" id="22508">Signatures</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="701395">compiler</a>: <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Compiler</a>) {
  <span class="keyword">import</span> compiler._

  <span class="keyword">class</span> <a title="class Signature extends java.lang.Object with ScalaObject" id="701387">Signature</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="String" id="701409">name</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="701410">children</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]) {
    <span class="keyword">def</span> <a title="=&gt; String" id="701405">asString</a>: <span title="String">String</span> = <a href="#701409" title="(x$1: Any)java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#701389" title="(sigs: List[Signatures.this.Signature])String">asString0</a>(<a href="#701410" title="=&gt; List[Signatures.this.Signature]">children</a>) + <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
  }

  <span class="keyword">def</span> <a title="(sigs: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="701388">sort</a>(<a title="List[Signatures.this.Signature]" id="701425">sigs</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]) =
    <a href="#701425" title="List[Signatures.this.Signature]">sigs</a>.<a title="(lt: (Signatures.this.Signature, Signatures.this.Signature) =&gt; Boolean)List[Signatures.this.Signature]" id="24310">sort</a>((<a title="Signatures.this.Signature" id="701430">l0</a>,<a title="Signatures.this.Signature" id="701431">l1</a>) =&gt; <a href="#701430" title="Signatures.this.Signature">l0</a>.<a href="#701409" title="=&gt; String">name</a>.<a title="(x$1: java.lang.String)Int" id="6955">compareTo</a><a title="(x$1: Int)Boolean" id="2960">(</a><a href="#701431" title="Signatures.this.Signature">l1</a>.<a href="#701409" title="=&gt; String">name</a>) &gt; <span title="Int(0)" class="int">0</span>)

  <span class="keyword">def</span> <a title="(sigs: List[Signatures.this.Signature])String" id="701389">asString0</a>(<a title="List[Signatures.this.Signature]" id="701417">sigs</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]): <span title="String">String</span> = {
    <span class="keyword">var</span> <a title="java.lang.String" id="701443">ret</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">for</span> (<a title="Signatures.this.Signature" id="701463">sig</a> &lt;- <a href="#701388" title="(sigs: List[Signatures.this.Signature])List[Signatures.this.Signature]">sort</a><span title="(f: (Signatures.this.Signature) =&gt; Unit)Unit">(</span><a href="#701417" title="List[Signatures.this.Signature]">sigs</a>)) <a href="#701443" title="java.lang.String">ret</a> = <a href="#701443" title="(x$1: Any)java.lang.String">ret</a> + <a href="#701463" title="Signatures.this.Signature">sig</a>.<a href="#701405" title="=&gt; String">asString</a>
    <a href="#701443" title="java.lang.String">ret</a>
  }

  <span class="keyword">def</span> <a title="(unit: Signatures.this.compiler.CompilationUnit)String" id="701390">signature</a>(<a title="Signatures.this.compiler.CompilationUnit" id="701469">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="Signatures.this.compiler.CompilationUnit">CompilationUnit</a>): <span title="String">String</span> =
    <a href="#701389" title="(sigs: List[Signatures.this.Signature])String">asString0</a>(<a href="#701392" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#701469" title="Signatures.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; Signatures.this.compiler.Tree">body</a>, <span title="object Nil">Nil</span>))

  <span class="keyword">def</span> <a title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]" id="701391">signature</a>(<a title="List[Signatures.this.compiler.Tree]" id="701477">trees</a>: <span title="List[Signatures.this.compiler.Tree]">List</span>[Tree]): <span title="List[Signatures.this.Signature]">List</span>[Signature] = {
    <span class="keyword">var</span> <a title="List[Signatures.this.Signature]" id="701528">ret</a> : <span title="List[Signatures.this.Signature]">List</span>[Signature] = <span title="object Nil">Nil</span>
    <span class="keyword">for</span> (<a title="Signatures.this.compiler.Tree" id="701545">tree</a> &lt;- <a href="#701477" title="(f: (Signatures.this.compiler.Tree) =&gt; Unit)Unit">trees</a>) <a href="#701528" title="List[Signatures.this.Signature]">ret</a> = <a href="#701392" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#701545" title="Signatures.this.compiler.Tree">tree</a>, <a href="#701528" title="List[Signatures.this.Signature]">ret</a>)
    <a href="#701528" title="List[Signatures.this.Signature]">ret</a>
  }

  /**
   *  @param tree0 ...
   *  @param rest  ...
   *  @return      ...
   */
  <span class="keyword">def</span> <a title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="701392">signature</a>(<a title="Signatures.this.compiler.Tree" id="701474">tree0</a>: <a href="../ast/Trees.scala.html#26593" title="Signatures.this.compiler.Tree">Tree</a>, <a title="List[Signatures.this.Signature]" id="701475">rest</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature]): <span title="List[Signatures.this.Signature]">List</span>[Signature] = <a href="#701474" title="Signatures.this.compiler.Tree">tree0</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.MemberDef" id="701562">tree</a>: <a href="../ast/Trees.scala.html#26604" title="Signatures.this.compiler.MemberDef">MemberDef</a> =&gt; <span title="List[Signatures.this.Signature]" class="keyword">if</span> (<a title="=&gt; Boolean" id="2205">!</a><a href="#701562" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#51985" title="=&gt; Signatures.this.compiler.Modifiers">mods</a>.<a href="../ast/Trees.scala.html#52032" title="=&gt; Boolean">isPrivate</a>) {
      <span class="keyword">val</span> <a title="java.lang.String" id="701563">name</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#701562" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#48489" title="=&gt; Signatures.this.compiler.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;::&quot;)" class="string">&quot;::&quot;</span> + 
        (<a href="#701562" title="Signatures.this.compiler.MemberDef">tree</a>.<a href="../ast/Trees.scala.html#52048" title="(flag: Long)Signatures.this.compiler.Modifiers">mods</a> &amp;~ Flags.<span title="Long(2097152L)">SYNTHETIC</span>)
      
      <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="701564">children</a>: <span title="List[Signatures.this.Signature]">List</span>[Signature] = <a href="#701562" title="Signatures.this.compiler.MemberDef">tree</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
          <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ImplDef" id="701573">impl</a>: <a href="../ast/Trees.scala.html#26608" title="Signatures.this.compiler.ImplDef">ImplDef</a>
            //if (!impl.name.toString.contains(&quot;$anonfun$&quot;)) =&gt;
            <span class="keyword">if</span> (<a href="#701573" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#48489" title="=&gt; Signatures.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28210" title="(s: String)Int">pos</a><a title="(x$1: Int)Boolean" id="2952">(</a><span title="java.lang.String(&quot;$anonfun$&quot;)" class="string">&quot;$anonfun$&quot;</span>) == <a href="#701563" title="java.lang.String">name</a>.<a title="()Int" id="6915">length</a>) =&gt;
          <span class="keyword">val</span> <a title="Signatures.this.Signature" id="701589">supers</a> = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$supers&quot;)" class="string">&quot;$$supers&quot;</span>, <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701573" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#51989" title="=&gt; Signatures.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52056" title="=&gt; List[Signatures.this.compiler.Tree]">parents</a>))
          <span class="keyword">val</span> <a title="Signatures.this.Signature" id="701590">body</a>   = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$body&quot;)" class="string">&quot;$$body&quot;</span>,   <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701573" title="Signatures.this.compiler.ImplDef">impl</a>.<a href="../ast/Trees.scala.html#51989" title="=&gt; Signatures.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52060" title="=&gt; List[Signatures.this.compiler.Tree]">body</a>))
          <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="701591">ret</a> = <a href="#701589" title="Signatures.this.Signature">supers</a> <a href="#701642" title="Signatures.this.Signature">::</a> <a href="#701590" title="Signatures.this.Signature">body</a> <a href="#701643" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">::</a> <span title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">Nil</span>
          <a href="#701573" title="Signatures.this.compiler.ImplDef">impl</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ClassDef" id="701658">cdef</a>: <a href="../ast/Trees.scala.html#26609" title="Signatures.this.compiler.ClassDef">ClassDef</a> =&gt;
              <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$tparams&quot;)" class="string">&quot;$$tparams&quot;</span>, <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701658" title="Signatures.this.compiler.ClassDef">cdef</a>.<a href="../ast/Trees.scala.html#51998" title="=&gt; List[Signatures.this.compiler.TypeDef]">tparams</a>)) <a href="#701659" title="Signatures.this.Signature">::</a> <a href="#701591" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">ret</a>
            <span title="List[Signatures.this.Signature]" class="keyword">case</span>  _ =&gt;
              <a href="#701591" title="List[Signatures.this.Signature]">ret</a>
          }
        <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.ValOrDefDef" id="701678">vdef</a>: <a href="../ast/Trees.scala.html#26618" title="Signatures.this.compiler.ValOrDefDef">ValOrDefDef</a> =&gt;
          <span class="keyword">val</span> <a title="List[Signatures.this.Signature]" id="701679">ret</a> = <a href="#701392" title="(tree0: Signatures.this.compiler.Tree,rest: List[Signatures.this.Signature])List[Signatures.this.Signature]">signature</a>(<a href="#701678" title="Signatures.this.compiler.ValOrDefDef">vdef</a>.<a href="../ast/Trees.scala.html#52178" title="=&gt; Signatures.this.compiler.Tree">tpt</a>, <span title="object Nil">Nil</span>)
          <a href="#701678" title="Signatures.this.compiler.ValOrDefDef">vdef</a> <span title="List[Signatures.this.Signature]" class="keyword">match</span> {
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.DefDef" id="701693">ddef</a> : <a href="../ast/Trees.scala.html#26626" title="Signatures.this.compiler.DefDef">DefDef</a> =&gt;
              <span class="keyword">val</span> <a title="Signatures.this.Signature" id="701694">tparams</a> = <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$tparams&quot;)" class="string">&quot;$$tparams&quot;</span>, <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701693" title="Signatures.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52190" title="=&gt; List[Signatures.this.compiler.TypeDef]">tparams</a>))
              <span class="keyword">var</span> <a title="List[Signatures.this.Signature]" id="701695">vparamss</a> : <span title="List[Signatures.this.Signature]">List</span>[Signature] = <span title="object Nil">Nil</span>
              <span class="keyword">for</span> (<a title="List[Signatures.this.compiler.ValDef]" id="701723">list</a> &lt;- <a href="#701693" title="Signatures.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52192" title="(f: (List[Signatures.this.compiler.ValDef]) =&gt; Unit)Unit">vparamss</a>)
                <a href="#701695" title="List[Signatures.this.Signature]">vparamss</a> = <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701723" title="List[Signatures.this.compiler.ValDef]">list</a>) <a href="#701724" title="List[Signatures.this.Signature]">:::</a> <a href="#701695" title="(prefix: List[Signatures.this.Signature])List[Signatures.this.Signature]" id="24261">vparamss</a>
              <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="java.lang.String(&quot;$$ret&quot;)" class="string">&quot;$$ret&quot;</span>, <a href="#701679" title="List[Signatures.this.Signature]">ret</a>) <a href="#701742" title="Signatures.this.Signature">::</a> <a href="#701694" title="Signatures.this.Signature">tparams</a> <a href="#701745" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">::</a> <a href="#701695" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">vparamss</a>
            <span title="List[Signatures.this.Signature]" class="keyword">case</span> _ =&gt;
              <a href="#701679" title="List[Signatures.this.Signature]">ret</a>
          }
        <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.PackageDef" id="701760">pdef</a>: <a href="../ast/Trees.scala.html#26605" title="Signatures.this.compiler.PackageDef">PackageDef</a> =&gt; <a href="#701391" title="(trees: List[Signatures.this.compiler.Tree])List[Signatures.this.Signature]">signature</a>(<a href="#701760" title="Signatures.this.compiler.PackageDef">pdef</a>.<a href="../ast/Trees.scala.html#78845" title="=&gt; List[Signatures.this.compiler.Tree]">stats</a>)
        <span title="scala.collection.immutable.Nil.type" class="keyword">case</span> _ =&gt; <span title="object Nil">Nil</span>
      }
      <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<a href="#701563" title="java.lang.String">name</a>, <a href="#701564" title="List[Signatures.this.Signature]">children</a>) <a href="#701770" title="Signatures.this.Signature">::</a> <a href="#701475" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">rest</a>

    } <span class="keyword">else</span> <a href="#701475" title="List[Signatures.this.Signature]">rest</a>
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> <a title="Signatures.this.compiler.TypeTree" id="701780">tree</a>: <a href="../ast/Trees.scala.html#26741" title="Signatures.this.compiler.TypeTree">TypeTree</a> =&gt; <span title="Signatures.this.Signature" class="keyword">new</span> <a href="#701387" title="Signatures.this.Signature">Signature</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> + <a href="#701780" title="Signatures.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; Signatures.this.compiler.Type">tpe</a>, <span title="object Nil">Nil</span>) <a href="#701781" title="Signatures.this.Signature">::</a> <a href="#701475" title="(x: Signatures.this.Signature)List[Signatures.this.Signature]">rest</a>
    <span title="List[Signatures.this.Signature]" class="keyword">case</span> _ =&gt; <a href="#701475" title="List[Signatures.this.Signature]">rest</a>
  }
}

        </pre>
    </body>
</html>