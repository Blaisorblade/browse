<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/nsc/models/SemanticTokens.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: SemanticTokens.scala 18406 2009-07-30 07:41:22Z odersky $

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> models

<span class="keyword">import</span> java.lang.Character.isJavaIdentifierPart
<span class="keyword">import</span> java.lang.Thread

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}
<span class="keyword">import</span> scala.tools.nsc.Global
<span class="keyword">import</span> scala.tools.nsc.symtab.{Flags, Names}
<span class="keyword">import</span> scala.tools.nsc.symtab.Flags.DEFERRED
<span class="keyword">import</span> scala.tools.nsc.util.{BatchSourceFile, NoPosition, Position, SourceFile}
<span class="keyword">import</span> scala.util.NameTransformer

<span class="keyword">class</span> <a title="class SemanticTokens extends java.lang.Object with ScalaObject" id="22505">SemanticTokens</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="688621">compiler</a>: <a href="../Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>) {   
  <span class="keyword">import</span> compiler._  
  <span class="keyword">object</span> <a title="object SemanticTokens.this.walker" id="688590">walker</a> <span title="ScalaObject" class="keyword">extends</span> symtab.<a href="../symtab/SymbolWalker.scala.html#10541" title="scala.tools.nsc.symtab.SymbolWalker">SymbolWalker</a> {
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="SemanticTokens.this.compiler.type" id="688626">global</a> : compiler.<span class="keyword">type</span> = <a href="#688621" title="=&gt; scala.tools.nsc.Global">compiler</a>
  }
  
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Kind extends java.lang.Object with ScalaObject" id="688592">Kind</a> <span title="ScalaObject">{</span>}
  <span class="keyword">object</span> <a title="object SemanticTokens.this.OBJECT" id="688593">OBJECT</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.CLASS" id="688595">CLASS</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.TRAIT" id="688597">TRAIT</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.DEF" id="688599">DEF</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.VAL" id="688601">VAL</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.VAR" id="688603">VAR</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.ARG" id="688605">ARG</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>
  <span class="keyword">object</span> <a title="object SemanticTokens.this.TPARAM" id="688607">TPARAM</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688592" title="SemanticTokens.this.Kind">Kind</a>

  <span class="keyword">type</span> <a title="Class[_]" id="688609">AnyClass</a> = <span title="Class[_]">Class</span>[_]

  // static constants here

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Token extends java.lang.Object with ScalaObject" id="688610">Token</a> <span title="ScalaObject">{</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="688670">length</a>: <span title="Int">Int</span>
    <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.HasNext" id="688671">prev</a>: <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a>
    <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.HasPrev" id="688672">next</a>: <a href="#688614" title="SemanticTokens.this.HasPrev">HasPrev</a>
  }

  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int,keywords: List[String])Int" id="688611">eatKeyword</a>(<a title="scala.tools.nsc.util.BatchSourceFile" id="688692">source</a>: <a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>, <a title="Int" id="688693">pos</a>: <span title="Int">Int</span>, <a title="List[String]" id="688694">keywords</a>: <span title="List[String]">List</span>[String]) : <span title="Int">Int</span> = {
    <span title="Int" class="keyword">if</span> (<a href="#688694" title="List[String]">keywords</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <a href="#688693" title="Int">pos</a>
    <span class="keyword">else</span> <span title="Int" class="keyword">if</span> (<a href="#688693" title="(x$1: Int)Boolean">pos</a> == <a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>.<a href="../util/SourceFile.scala.html#121011" title="=&gt; Int">length</a>)
      <span title="Int(-1)">-</span><span class="int">1</span>
    <span class="keyword">else</span> <span title="Int" class="keyword">if</span> (<a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>.<a href="../util/SourceFile.scala.html#68218" title="(offset: Int,text: String)Boolean">beginsWith</a>(<a href="#688693" title="Int">pos</a>, <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
      <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>, <a href="#688693" title="(x$1: Int)Int">pos</a> + <span title="Int(1)" class="int">1</span>)
    <span class="keyword">else</span> <span title="Int" class="keyword">if</span> (<a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>.<a href="../util/SourceFile.scala.html#68218" title="(offset: Int,text: String)Boolean">beginsWith</a>(<a href="#688693" title="Int">pos</a>, <a href="#688694" title="List[String]">keywords</a>.<span title="(x$1: Any)java.lang.String">head</span> + <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
      <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>, <a href="#688693" title="(x$1: Int)Int">pos</a> <span title="(x$1: Int)Int">+</span> <a href="#688694" title="List[String]">keywords</a>.<span title="=&gt; String">head</span>.<span title="()Int">length</span> + <span title="Int(1)" class="int">1</span>)
    <span class="keyword">else</span>
      <a href="#688611" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int,keywords: List[String])Int">eatKeyword</a>(<a href="#688692" title="scala.tools.nsc.util.BatchSourceFile">source</a>, <a href="#688693" title="Int">pos</a>, <a href="#688694" title="List[String]">keywords</a>.<span title="=&gt; List[String]">tail</span>)
  }

  <span class="keyword">def</span> <a title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int" id="688612">eatKeywords</a>(<a title="scala.tools.nsc.util.BatchSourceFile" id="688704">source</a>: <a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>, <a title="Int" id="688705">pos</a>: <span title="Int">Int</span>): <span title="Int">Int</span> = {
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="688774">keywords</a> =
      <span title="java.lang.String(&quot;package&quot;)" class="string">&quot;package&quot;</span> <a href="#688775" title="java.lang.String">::</a> <span title="java.lang.String(&quot;val&quot;)" class="string">&quot;val&quot;</span> <a href="#688776" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;var&quot;)" class="string">&quot;var&quot;</span> <a href="#688777" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;def&quot;)" class="string">&quot;def&quot;</span> <a href="#688778" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;class&quot;)" class="string">&quot;class&quot;</span> <a href="#688779" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;trait&quot;)" class="string">&quot;trait&quot;</span> <a href="#688780" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;override&quot;)" class="string">&quot;override&quot;</span> <a href="#688781" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;case&quot;)" class="string">&quot;case&quot;</span> <a href="#688782" title="(x: java.lang.String)List[java.lang.String]">::</a>
      <span title="java.lang.String(&quot;object&quot;)" class="string">&quot;object&quot;</span> <a href="#688783" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;sealed&quot;)" class="string">&quot;sealed&quot;</span> <a href="#688784" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;private&quot;)" class="string">&quot;private&quot;</span> <a href="#688785" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;protected&quot;)" class="string">&quot;protected&quot;</span> <a href="#688786" title="(x: java.lang.String)List[java.lang.String]">::</a> <span title="(x: java.lang.String)List[java.lang.String]">Nil</span>
    <span title="Int" class="keyword">if</span> (<a href="#688705" title="(x$1: Int)Boolean">pos</a> != <span title="Int(-1)">-</span><span class="int">1</span>) <a href="#688611" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int,keywords: List[String])Int">eatKeyword</a>(<a href="#688704" title="scala.tools.nsc.util.BatchSourceFile">source</a>, <a href="#688705" title="Int">pos</a>, <a href="#688774" title="List[java.lang.String]">keywords</a>)
    <span class="keyword">else</span> <a href="#688705" title="Int">pos</a>
  }

  <span class="keyword">trait</span> <a title="trait HasNext extends SemanticTokens.this.Token with ScalaObject" id="688613">HasNext</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688610" title="SemanticTokens.this.Token">Token</a> {
    <span class="keyword">var</span> <a title="SemanticTokens.this.HasPrev" id="688682">next0</a>: <a href="#688614" title="SemanticTokens.this.HasPrev">HasPrev</a> = _
    <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.HasPrev" id="688684">next</a> = <a href="#688682" title="=&gt; SemanticTokens.this.HasPrev">next0</a>
  }

  <span class="keyword">trait</span> <a title="trait HasPrev extends SemanticTokens.this.Token with ScalaObject" id="688614">HasPrev</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688610" title="SemanticTokens.this.Token">Token</a> {
    <span class="keyword">var</span> <a title="SemanticTokens.this.HasNext" id="688689">prev0</a>: <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a> = _
    <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.HasNext" id="688691">prev</a> = <a href="#688689" title="=&gt; SemanticTokens.this.HasNext">prev0</a>
  }

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Actual extends SemanticTokens.this.Token with SemanticTokens.this.HasNext with SemanticTokens.this.HasPrev with ScalaObject" id="688615">Actual</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a> <span class="keyword">with</span> <a href="#688614" title="SemanticTokens.this.HasPrev">HasPrev</a> {
    <span class="keyword">def</span> <a title="=&gt; (Int, SemanticTokens.this.Actual)" id="688892">convertToGap</a>: <span title="(Int, SemanticTokens.this.Actual)">(</span>Int, Actual) = {
      <span class="keyword">val</span> <a title="Boolean" id="688899">nextGap</a> = <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>]
      <span class="keyword">val</span> <a title="Boolean" id="688900">prevGap</a> = <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>]

      <span title="(Int, SemanticTokens.this.Actual)" class="keyword">if</span> (<a href="#688900" title="Boolean">prevGap</a>) {
        <span class="keyword">val</span> <a title="Int" id="688910">ret</a> = <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<a href="#688670" title="=&gt; Int">length</a>
        <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="688911">gap</a> = <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.Gap">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>]
        <a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> + <a href="#688670" title="=&gt; Int">length</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#688899" title="Boolean">nextGap</a>) {
          <a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> + <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688670" title="=&gt; Int">length</a>)
          <a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688672" title="=&gt; SemanticTokens.this.HasPrev">next</a>
          <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688672" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#688911" title="SemanticTokens.this.Gap">gap</a>
        } <span class="keyword">else</span> {
          <a href="#688911" title="SemanticTokens.this.Gap">gap</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>
          <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#688911" title="SemanticTokens.this.Gap">gap</a>
        }
        <span title="(_1: Int,_2: SemanticTokens.this.Gap)(Int, SemanticTokens.this.Gap)">(</span><a href="#688910" title="Int">ret</a>, <a href="#688911" title="SemanticTokens.this.Gap">gap</a>)
      }
      <span class="keyword">else</span> <span title="(Int, SemanticTokens.this.Actual)" class="keyword">if</span> (<a href="#688899" title="Boolean">nextGap</a>) {
        <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="688984">gap</a> = <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.Gap">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>]
        <a href="#688984" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#688984" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> + <a href="#688670" title="=&gt; Int">length</a>)
        <a href="#688984" title="SemanticTokens.this.Gap">gap</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>
        <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#688984" title="SemanticTokens.this.Gap">gap</a>
        <span title="(_1: Int,_2: SemanticTokens.this.Gap)(Int, SemanticTokens.this.Gap)">(</span><span title="Int(0)" class="int">0</span>, <a href="#688984" title="SemanticTokens.this.Gap">gap</a>)
      }
      <span class="keyword">else</span> {
        <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>
        <a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>
        <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="689021">gap</a> = <a href="#688902" title="(prev1: SemanticTokens.this.HasNext)SemanticTokens.this.Gap" class="keyword">new</a> <a href="#688616" title="SemanticTokens.this.Gap">Gap</a>(<a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>)
        <a href="#689021" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#688670" title="=&gt; Int">length</a>)
        <span title="(_1: Int,_2: SemanticTokens.this.Gap)(Int, SemanticTokens.this.Gap)">(</span><span title="Int(0)" class="int">0</span>, <a href="#689021" title="SemanticTokens.this.Gap">gap</a>)
      }

    }
    <span class="keyword">def</span> <a title="(prev1: SemanticTokens.this.HasNext)Unit" id="688893">insert</a>(<a title="SemanticTokens.this.HasNext" id="689041">prev1</a>: <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a>) {
      <a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#689041" title="SemanticTokens.this.HasNext">prev1</a>.<a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>
      <a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#689041" title="SemanticTokens.this.HasNext">prev1</a>
      <a href="#688689" title="=&gt; SemanticTokens.this.HasNext">prev0</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#688615" title="SemanticTokens.this.Actual" class="keyword">this</a>
      <a href="#688682" title="=&gt; SemanticTokens.this.HasPrev">next0</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#688615" title="SemanticTokens.this.Actual" class="keyword">this</a>
    }

  } // Actual

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class Gap extends SemanticTokens.this.Actual with ScalaObject" id="688616">Gap</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688615" title="SemanticTokens.this.Actual">Actual</a> {
    <span class="keyword">def</span> <a title="(prev1: SemanticTokens.this.HasNext)SemanticTokens.this.Gap" id="688902" class="keyword">this</a>(<a title="SemanticTokens.this.HasNext" id="689028">prev1</a>: <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a>) = <span title="Unit">{</span>
      <a href="#688616" title="Gap.this.type" class="keyword">this</a>()
      <a href="#688893" title="(prev1: SemanticTokens.this.HasNext)Unit">insert</a>(<a href="#689028" title="SemanticTokens.this.HasNext">prev1</a>)
    }
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="688903">toString</a>() = <span title="(x$1: Any)java.lang.String" class="string">&quot;gap-&quot;</span> + <a href="#688907" title="=&gt; Int">length</a>

    <span class="keyword">var</span> <a title="Int" id="688905">length0</a>: <span title="Int">Int</span> = <span title="Int(-1)">-</span><span class="int">1</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="688907">length</a>: <span title="Int">Int</span> = <a href="#688905" title="=&gt; Int">length0</a>
    <span class="keyword">def</span> <a title="(length1: Int)Unit" id="688908">setLength</a>(<a title="Int" id="688912">length1</a>: <span title="Int">Int</span>) = <a href="#688905" title="(x$1: Int)Unit">length0</a> = <a href="#688912" title="Int">length1</a>

    // already gap
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; (Int, SemanticTokens.this.Actual)" id="688909">convertToGap</a>: <span title="(Int, SemanticTokens.this.Actual)">(</span>Int, Actual) = <span title="(_1: Int,_2: SemanticTokens.this.Gap)(Int, SemanticTokens.this.Gap)">(</span><span title="Int(0)" class="int">0</span>, <a href="#688616" title="SemanticTokens.this.Gap" class="keyword">this</a>)
  }

  <span class="keyword">def</span> <a title="(unit: SemanticTokens.this.compiler.CompilationUnit)SemanticTokens.this.Process" id="688617">Process</a>(<a title="SemanticTokens.this.compiler.CompilationUnit" id="689083">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="SemanticTokens.this.compiler.CompilationUnit">CompilationUnit</a>) = <span title="SemanticTokens.this.Process" class="keyword">new</span> <a href="#688618" title="SemanticTokens.this.Process">Process</a>(<a href="#689083" title="SemanticTokens.this.compiler.CompilationUnit">unit</a>)
  <span class="keyword">class</span> <a title="class Process extends java.lang.Object with ScalaObject" id="688618">Process</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="SemanticTokens.this.compiler.CompilationUnit" id="689116">unit</a>: <a href="../CompilationUnits.scala.html#39196" title="SemanticTokens.this.compiler.CompilationUnit">CompilationUnit</a>) {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="689091">doLog</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.SourceFile" id="689093">source</a> = <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>

    <span class="keyword">def</span> <a title="(tree: SemanticTokens.this.compiler.Tree)java.lang.String" id="689094">dbg</a>(<a title="SemanticTokens.this.compiler.Tree" id="689145">tree</a>: <a href="../ast/Trees.scala.html#26593" title="SemanticTokens.this.compiler.Tree">Tree</a>) = {
      <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.Position" id="689148">treePos</a>: <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a> = <span title="scala.tools.nsc.util.Position" class="keyword">if</span> (<a href="#689145" title="(x$1: AnyRef)Boolean">tree</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#689145" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span class="keyword">else</span> <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>;
      (
        <span title="(x$1: Any)java.lang.String" class="string">&quot;TREE=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689145" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span>
          (<span title="Any" class="keyword">if</span> (<a href="#689145" title="(x$1: AnyRef)Boolean">tree</a> ne <span title="Null(null)" class="keyword">null</span>) (<span title="(x$1: Any)java.lang.String" class="string">&quot; CLASS=&quot;</span> + <a href="#689145" title="SemanticTokens.this.compiler.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span>()) <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot; SYM=&quot;)" class="string">&quot; SYM=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689145" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; POS=&quot;)" class="string">&quot; POS=&quot;</span> +
                <a href="#689148" title="=&gt; scala.tools.nsc.util.Position">treePos</a>.<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>
    )}

    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]" id="689095">symbols</a> = <span title="scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]" class="keyword">new</span> <a title="scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]" id="24954">HashMap</a>[Symbol, Info]

    <span class="keyword">class</span> <a title="class Info extends java.lang.Object with ScalaObject" id="689097">Info</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="SemanticTokens.this.compiler.Symbol" id="689199">symbol</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>) {
      <span class="keyword">var</span> <a title="Process.this.Def" id="689175">defined</a> : <a href="#689100" title="Process.this.Def">Def</a> = _
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Process.this.Use]" id="689177">uses</a> = <span title="scala.collection.mutable.HashSet[Process.this.Use]" class="keyword">new</span> <a title="scala.collection.mutable.HashSet[Process.this.Use]" id="24801">HashSet</a>[Use]
      <a href="#689095" title="=&gt; scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]">symbols</a>.<a title="(key: SemanticTokens.this.compiler.Symbol,value: Process.this.Info)Unit" id="44386">update</a>(<a href="#689199" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689097" title="Process.this.Info" class="keyword">this</a>)
    }

    <span class="keyword">def</span> <a title="(symbol: SemanticTokens.this.compiler.Symbol)Process.this.Info" id="689098">info</a>(<a title="SemanticTokens.this.compiler.Symbol" id="689210">symbol</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>): <a href="#689097" title="Process.this.Info">Info</a> =
      <span title="Process.this.Info" class="keyword">if</span> (<a href="#689095" title="=&gt; scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]">symbols</a>.<span title="(key: SemanticTokens.this.compiler.Symbol)Boolean">contains</span>(<a href="#689210" title="SemanticTokens.this.compiler.Symbol">symbol</a>)) <a href="#689095" title="(key: SemanticTokens.this.compiler.Symbol)Process.this.Info">symbols</a>(<a href="#689210" title="SemanticTokens.this.compiler.Symbol">symbol</a>)
      <span class="keyword">else</span> <span title="Process.this.Info" class="keyword">new</span> <a href="#689097" title="Process.this.Info">Info</a>(<a href="#689210" title="SemanticTokens.this.compiler.Symbol">symbol</a>)

    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Semantic extends SemanticTokens.this.Actual with ScalaObject" id="689099">Semantic</a><span title="ScalaObject">(</span><span class="keyword">val</span> <a title="SemanticTokens.this.compiler.Symbol" id="689240">symbol</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>) <span class="keyword">extends</span> <a href="#688615" title="SemanticTokens.this.Actual">Actual</a> {
      <span class="keyword">val</span> <a title="java.lang.String" id="689185">name</a> = <span title="object scala.util.NameTransformer">NameTransformer</span>.<span title="(name0: String)String">decode</span>(<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; SemanticTokens.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>).<span title="()java.lang.String">trim</span>()
      <span title="(assertion: Boolean)Unit">assert</span>(<a href="#689240" title="(x$1: AnyRef)Boolean">symbol</a> != <a href="../symtab/Symbols.scala.html#26134" title="object SemanticTokens.this.compiler.NoSymbol">NoSymbol</a>)
      <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.Process" id="689187">myOuter</a> = <a href="#688618" title="SemanticTokens.this.Process">Process</a>.<span class="keyword">this</span>

      <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.compiler.Type" id="689188">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a> = <a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27003" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>

      <span class="keyword">def</span> <a title="=&gt; Int" id="689189">length</a> = <a href="#689185" title="=&gt; java.lang.String">name</a>.<span title="()Int">length</span>()
      <span class="keyword">def</span> <a title="=&gt; Process.this.Info" id="689190">info</a>: <a href="#689097" title="Process.this.Info">Info</a> = <span title="Process.this.Info" class="keyword">if</span> (<a href="#689095" title="=&gt; scala.collection.mutable.HashMap[SemanticTokens.this.compiler.Symbol,Process.this.Info]">symbols</a>.<span title="(key: SemanticTokens.this.compiler.Symbol)Boolean">contains</span>(<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>)) <a href="#689095" title="(key: SemanticTokens.this.compiler.Symbol)Process.this.Info">symbols</a>(<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>) <span class="keyword">else</span> <span title="Process.this.Info" class="keyword">new</span> <a href="#689097" title="Process.this.Info">Info</a>(<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>)

      <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.Kind" id="689191">kind</a> = {
        <span class="keyword">val</span> <a title="SemanticTokens.this.compiler.Symbol" id="689287">term0</a> = <a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>
        <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26903" title="=&gt; Boolean">isVariable</a>)       <a href="#688603" title="object SemanticTokens.this.VAR">VAR</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26908" title="=&gt; Boolean">isValueParameter</a>) <a href="#688605" title="object SemanticTokens.this.ARG">ARG</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26910" title="=&gt; Boolean">isMethod</a>)         <a href="#688599" title="object SemanticTokens.this.DEF">DEF</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26897" title="=&gt; Boolean">isClass</a>)          <a href="#688595" title="object SemanticTokens.this.CLASS">CLASS</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26917" title="=&gt; Boolean">isModule</a>)         <a href="#688593" title="object SemanticTokens.this.OBJECT">OBJECT</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.Kind with NotNull" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26902" title="=&gt; Boolean">isValue</a>)          <a href="#688601" title="object SemanticTokens.this.VAL">VAL</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.TPARAM.type" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26926" title="=&gt; Boolean">isTypeParameter</a>)  <a href="#688607" title="object SemanticTokens.this.TPARAM">TPARAM</a>
        <span class="keyword">else</span> <span title="SemanticTokens.this.TPARAM.type" class="keyword">if</span> (<a href="#689287" title="SemanticTokens.this.compiler.Symbol">term0</a>.<a href="../symtab/Symbols.scala.html#26896" title="=&gt; Boolean">isType</a>         )  <a href="#688607" title="object SemanticTokens.this.TPARAM">TPARAM</a>
        <span class="keyword">else</span> {
          // Console.err.println(&quot;UNRECOGNIZED SYMBOL: &quot; + term0 + &quot; &quot; + name);
          <span title="Null(null)" class="keyword">null</span>
        }
      }
    }

    <span class="keyword">class</span> <a title="class Def extends Process.this.Semantic with ScalaObject" id="689100">Def</a><span title="ScalaObject">(</span><a title="SemanticTokens.this.compiler.Symbol" id="689300">symbol0</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>) <span class="keyword">extends</span> <a href="#689099" title="Process.this.Semantic">Semantic</a>(<a href="#689300" title="SemanticTokens.this.compiler.Symbol">symbol0</a>) {
      <a href="#689190" title="=&gt; Process.this.Info">info</a>.<a href="#689175" title="(x$1: Process.this.Def)Unit">defined</a> = <a href="#689100" title="Process.this.Def" class="keyword">this</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="689195">toString</a>() = <span title="(x$1: Any)java.lang.String" class="string">&quot;def-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689185" title="=&gt; java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> + <a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<span title="()java.lang.Class[_]">getClass</span>()
    }
    <span class="keyword">class</span> <a title="class Use extends Process.this.Semantic with ScalaObject" id="689101">Use</a><span title="ScalaObject">(</span><a title="SemanticTokens.this.compiler.Symbol" id="689326">symbol0</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>, <a title="SemanticTokens.this.compiler.Type" id="689327">tpe0</a>: <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a>) <span class="keyword">extends</span> <a href="#689099" title="Process.this.Semantic">Semantic</a>(<a href="#689326" title="SemanticTokens.this.compiler.Symbol">symbol0</a>) {
      <a href="#689190" title="=&gt; Process.this.Info">info</a>.<a href="#689177" title="(elem: Process.this.Use)scala.collection.mutable.HashSet[Process.this.Use]" id="39288">uses</a> += <a href="#689101" title="Process.this.Use" class="keyword">this</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; SemanticTokens.this.compiler.Type" id="689321">tpe</a> : <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a> = <span title="SemanticTokens.this.compiler.Type" class="keyword">if</span> (<a href="#689327" title="(x$1: AnyRef)Boolean">tpe0</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#689327" title="SemanticTokens.this.compiler.Type">tpe0</a> <span class="keyword">else</span> <span class="keyword">super</span>.<a href="#689188" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>;
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="689322">toString</a>() = <span title="(x$1: Any)java.lang.String" class="string">&quot;use-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689185" title="=&gt; java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> + <a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<span title="()java.lang.Class[_]">getClass</span>();
    }
    <span class="keyword">val</span> <a title="Process.this.TokenList" id="689102">list</a> = <span title="Process.this.TokenList" class="keyword">new</span> <a href="#689115" title="Process.this.TokenList">TokenList</a>

    //build(unit.body)
    <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Int,SemanticTokens.this.compiler.Symbol]" id="689104">map</a> = <span title="scala.collection.mutable.LinkedHashMap[Int,SemanticTokens.this.compiler.Symbol]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.LinkedHashMap[Int,SemanticTokens.this.compiler.Symbol]" id="25083">LinkedHashMap</a>[Int,Symbol]
    <a href="#689104" title="=&gt; scala.collection.mutable.LinkedHashMap[Int,SemanticTokens.this.compiler.Symbol]">map</a>.<a title="()Unit" id="148242">clear</a> // populate the map.
      <span class="keyword">class</span> <a title="class visitor extends java.lang.Object with SemanticTokens.this.walker.Visitor with ScalaObject" id="689106">visitor</a> <span title="ScalaObject" class="keyword">extends</span> walker.<a href="../symtab/SymbolWalker.scala.html#97393" title="SemanticTokens.this.walker.Visitor">Visitor</a> {
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)Boolean" id="689387">contains</a>(<a title="scala.tools.nsc.util.Position" id="689393">pos</a> : <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>) = <a href="#689104" title="=&gt; scala.collection.mutable.LinkedHashMap[Int,SemanticTokens.this.compiler.Symbol]">map</a>.<span title="(key: Int)Boolean">contains</span>(<a href="#689393" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>)
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position)SemanticTokens.this.compiler.Symbol" id="689388">apply</a>(<a title="scala.tools.nsc.util.Position" id="689399">pos</a> : <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>) = <a href="#689104" title="(key: Int)SemanticTokens.this.compiler.Symbol">map</a>(<a href="#689399" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>)
      <span class="keyword">def</span> <a title="(pos: scala.tools.nsc.util.Position,sym: SemanticTokens.this.compiler.Symbol)Unit" id="689389">update</a>(<a title="scala.tools.nsc.util.Position" id="689428">pos</a> : <a href="../util/Position.scala.html#14710" title="scala.tools.nsc.util.Position">Position</a>, <a title="SemanticTokens.this.compiler.Symbol" id="689429">sym</a> : <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>) : <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<a href="#689428" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30279" title="=&gt; Boolean">isDefined</a>) {
        <span class="keyword">val</span> <a title="Int" id="689433">offset</a> = <a href="#689428" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>
        <a href="#689104" title="(key: Int,value: SemanticTokens.this.compiler.Symbol)Unit" id="44520">map</a>(<a href="#689433" title="Int">offset</a>) = <a href="#689429" title="SemanticTokens.this.compiler.Symbol">sym</a>
        <span class="keyword">val</span> <a title="Boolean" id="689434">isDef</a> = <a href="#689428" title="scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="(x$1: Int)Boolean">point</a> == <a href="#689429" title="SemanticTokens.this.compiler.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>
        <a href="#689102" title="=&gt; Process.this.TokenList">list</a>.<a href="#689131" title="(offset: Int,tok: Process.this.Semantic)Unit">put</a>(<a href="#689433" title="Int">offset</a>, (<span title="Process.this.Semantic" class="keyword">if</span> (<a href="#689434" title="Boolean">isDef</a>) <span title="Process.this.Def" class="keyword">new</span> <a href="#689100" title="Process.this.Def">Def</a>(<a href="#689429" title="SemanticTokens.this.compiler.Symbol">sym</a>) <span class="keyword">else</span> <span title="Process.this.Use" class="keyword">new</span> <a href="#689101" title="Process.this.Use">Use</a>(<a href="#689429" title="SemanticTokens.this.compiler.Symbol">sym</a>, <a href="../symtab/Types.scala.html#26224" title="object SemanticTokens.this.compiler.NoType">NoType</a>)));
      }
    }
    <a href="#688590" title="object SemanticTokens.this.walker">walker</a>.<a href="../symtab/SymbolWalker.scala.html#97395" title="(tree: SemanticTokens.this.walker.global.Tree,visitor: SemanticTokens.this.walker.Visitor)(fid: (scala.tools.nsc.util.Position) =&gt; Option[String])Unit">walk</a>(<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45437" title="=&gt; SemanticTokens.this.compiler.Tree">body</a>, <span title="Process.this.visitor" class="keyword">new</span> <a href="#689106" title="Process.this.visitor">visitor</a>)(<a title="scala.tools.nsc.util.Position" id="689481">offset</a> =&gt; <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68221" title="(pos: scala.tools.nsc.util.Position,compiler: scala.tools.nsc.Global)Option[String]">identifier</a>(<a href="#689481" title="scala.tools.nsc.util.Position">offset</a>, <a href="#688621" title="=&gt; scala.tools.nsc.Global">compiler</a>))


    // ok start building....
    <span class="keyword">def</span> <a title="[T &lt;: SemanticTokens.this.compiler.Tree](trees: List[T])Unit" id="689107">build</a>[<a title="&gt;: Nothing &lt;: SemanticTokens.this.compiler.Tree" id="689109">T</a> &lt;: <a id="1">Tree</a>](<a title="List[T]" id="689486">trees</a>: <span title="List[T]">List</span>[T]) {
      <span class="keyword">for</span> (<a title="T" id="689505">tree</a> &lt;- <a href="#689486" title="(f: (T) =&gt; Unit)Unit">trees</a>) <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689505" title="T">tree</a>)
    }

    <span class="keyword">def</span> <a title="(tree0: SemanticTokens.this.compiler.Tree)Unit" id="689110">build</a>(<a title="SemanticTokens.this.compiler.Tree" id="689509">tree0</a>: <a href="../ast/Trees.scala.html#26593" title="SemanticTokens.this.compiler.Tree">Tree</a>): <span title="Unit">Unit</span> = <span class="keyword">try</span> {
      /* if (tree0.pos != NoPosition) */ <a href="#689509" title="SemanticTokens.this.compiler.Tree">tree0</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.ImplDef" id="689522">tree</a>: <a href="../ast/Trees.scala.html#26608" title="SemanticTokens.this.compiler.ImplDef">ImplDef</a> =&gt;
        <span class="keyword">val</span> <a title="Int" id="689523">pos</a> = <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>], <a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#689523" title="(x$1: Int)Boolean">pos</a> == <span title="Int(-1)">-</span><span class="int">1</span>) <span title="Unit">{</span>

        } <span class="keyword">else</span> <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>], <a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>));
        <a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.ClassDef" id="689547">cdef</a>: <a href="../ast/Trees.scala.html#26609" title="SemanticTokens.this.compiler.ClassDef">ClassDef</a> =&gt; <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.TypeDef])Unit">build</a>(<a href="#689547" title="SemanticTokens.this.compiler.ClassDef">cdef</a>.<a href="../ast/Trees.scala.html#51998" title="=&gt; List[SemanticTokens.this.compiler.TypeDef]">tparams</a>)
          <span title="Unit" class="keyword">case</span> _ =&gt; ;
        }
        <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a>.<a href="../ast/Trees.scala.html#51989" title="=&gt; SemanticTokens.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52056" title="=&gt; List[SemanticTokens.this.compiler.Tree]">parents</a>)
        <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#689522" title="SemanticTokens.this.compiler.ImplDef">tree</a>.<a href="../ast/Trees.scala.html#51989" title="=&gt; SemanticTokens.this.compiler.Template">impl</a>.<a href="../ast/Trees.scala.html#52060" title="=&gt; List[SemanticTokens.this.compiler.Tree]">body</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.ValOrDefDef" id="689590">tree</a>: <a href="../ast/Trees.scala.html#26618" title="SemanticTokens.this.compiler.ValOrDefDef">ValOrDefDef</a> =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(134217728L)">ACCESSOR</span>) || <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(<span title="Long(16L)">DEFERRED</span>)) {
          // MO: I added !tree.symbol.hasFlag(DEFERRED) in a refactoring where
          // getters now can be abstract whereas before they could not.
          // Adding the condition thus keeps the old behavior. 
          // todo: review whether this is correct, or whether abstract getters should be included.
          {
            <span class="keyword">val</span> <a title="Int" id="689597">pos</a> : <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> (<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48489" title="=&gt; SemanticTokens.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>().<a title="(x$1: Any)Boolean" id="6947">equals</a>(<span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>)) <span title="Int(-1)">-</span><span class="int">1</span> <span class="keyword">else</span> 
              <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>], <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>);
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;VALDEF: tree=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; sym=&quot;)" class="string">&quot; sym=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; pos0=&quot;)" class="string">&quot; pos0=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> 
            <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; alias=&quot;)" class="string">&quot; alias=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#27043" title="=&gt; SemanticTokens.this.compiler.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; pos1=&quot;)" class="string">&quot; pos1=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#689597" title="Int">pos</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; pos2=&quot;)" class="string">&quot; pos2=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(2097152L)">SYNTHETIC</span>));

          <span title="Unit" class="keyword">if</span> (<a href="#689597" title="(x$1: Int)Boolean">pos</a> <span title="(x$1: Boolean)Boolean">!=</span> <span title="Int(-1)">-</span><span class="int">1</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#51987" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(2097152L)">SYNTHETIC</span>)) 
            <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689597" title="Int">pos</a>);
              }
                
              <span title="Unit" class="keyword">if</span> (<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="../ast/Trees.scala.html#26626" title="SemanticTokens.this.compiler.DefDef">DefDef</a>]) {
                <span class="keyword">val</span> <a title="SemanticTokens.this.compiler.DefDef" id="689652">ddef</a> = <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.compiler.DefDef">[</span><a href="../ast/Trees.scala.html#26626" title="SemanticTokens.this.compiler.DefDef">DefDef</a>];
                <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.TypeDef])Unit">build</a>(<a href="#689652" title="SemanticTokens.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52190" title="=&gt; List[SemanticTokens.this.compiler.TypeDef]">tparams</a>);
                
                <span class="keyword">for</span> (<a title="List[SemanticTokens.this.compiler.ValDef]" id="689683">l0</a> &lt;- <a href="#689652" title="SemanticTokens.this.compiler.DefDef">ddef</a>.<a href="../ast/Trees.scala.html#52192" title="(f: (List[SemanticTokens.this.compiler.ValDef]) =&gt; Unit)Unit">vparamss</a>; <a title="SemanticTokens.this.compiler.ValDef" id="689700">arg</a> &lt;- <a href="#689683" title="(f: (SemanticTokens.this.compiler.ValDef) =&gt; Unit)Unit">l0</a>) {
                  <span class="keyword">val</span> <a title="Int" id="689701">pos0</a> : <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68218" title="(offset: Int,text: String)Boolean">beginsWith</a>(<a href="#689700" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>, <span title="java.lang.String(&quot;val &quot;)" class="string">&quot;val &quot;</span>)) <a href="#689700" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>; 
                                             <span class="keyword">else</span> <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68220" title="(offset: Int)Int">skipWhitespace</a>(<a href="#689700" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="(x$1: Int)Int">point</a> + (<span title="java.lang.String(&quot;val &quot;)" class="string">&quot;val &quot;</span>).<span title="()Int">length</span>());
                  <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#689700" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689701" title="Int">pos0</a>);
                  <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689700" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#53526" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>);
                }
              }
              <span class="keyword">try</span> {
          //TPT=scala.Iterator[DocGenerator.this.compiler0.CompilationUnit] 260 class scala.tools.nsc.ast.Trees$TypeTree scala.Iterator[DocGenerator.this.compiler0.CompilationUnit] class scala.tools.nsc.symtab.Types$$anon$5
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52178" title="(x$1: AnyRef)Boolean">tpt</a> eq <span title="Null(null)" class="keyword">null</span>) || (<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52178" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29363" title="(x$1: AnyRef)Boolean">tpe</a> eq <span title="Null(null)" class="keyword">null</span>)) <span title="Unit">{</span>
            //Console.err.println(&quot;BAD: &quot; + tree.tpt + &quot; in &quot; + tree); 
          } <span class="keyword">else</span> {
            //Console.err.println(&quot;TPT=&quot; + tree.tpt + &quot; &quot; + tree.tpt.pos + &quot; &quot; + tree.tpt.getClass() + &quot; &quot; + tree.tpt.tpe + &quot; &quot; + tree.tpt.tpe.getClass() + &quot; &quot; + tree.tpt.tpe.getClass().getSuperclass());
                  <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52178" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>);
          }
              } <span class="keyword">catch</span> {
                <span title="Nothing" class="keyword">case</span> <a title="Error" id="689767">e</a>: <span title="Error">Error</span> =&gt;
                  <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;VALDEF: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52178" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52178" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>);
                  <span title="Nothing" class="keyword">throw</span> <a href="#689767" title="Error">e</a>;
              }
        //Console.err.println(&quot;RHS: &quot; + tree.rhs + &quot; &quot; + tree.rhs.getClass() + &quot; &quot; + tree.rhs.getClass().getSuperclass());
              <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689590" title="SemanticTokens.this.compiler.ValOrDefDef">tree</a>.<a href="../ast/Trees.scala.html#52179" title="=&gt; SemanticTokens.this.compiler.Tree">rhs</a>);
            }
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.PackageDef" id="689799">tree</a>: <a href="../ast/Trees.scala.html#26605" title="SemanticTokens.this.compiler.PackageDef">PackageDef</a> =&gt;
        //Console.err.println(&quot;PACKAGE: &quot; + tree.name);
        <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) {
          <span class="keyword">val</span> <a title="Int" id="689800">pos</a> = <a href="#688612" title="(source: scala.tools.nsc.util.BatchSourceFile,pos: Int)Int">eatKeywords</a>(<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>], <a href="#689799" title="SemanticTokens.this.compiler.PackageDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>))
          <span title="Unit" class="keyword">if</span> (<a href="#689800" title="(x$1: Int)Boolean">pos</a> != <span title="Int(-1)">-</span><span class="int">1</span>)
            <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#689799" title="SemanticTokens.this.compiler.PackageDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689800" title="Int">pos</a>)
        }
        <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#689799" title="SemanticTokens.this.compiler.PackageDef">tree</a>.<a href="../ast/Trees.scala.html#78845" title="=&gt; List[SemanticTokens.this.compiler.Tree]">stats</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Function" id="689829">tree</a>: <a href="../ast/Trees.scala.html#26679" title="SemanticTokens.this.compiler.Function">Function</a> =&gt;
        <span class="keyword">for</span> (<a title="SemanticTokens.this.compiler.ValDef" id="689859">arg</a> &lt;- <a href="#689829" title="SemanticTokens.this.compiler.Function">tree</a>.<a href="../ast/Trees.scala.html#95413" title="(f: (SemanticTokens.this.compiler.ValDef) =&gt; Unit)Unit" id="25253">vparams</a> <span class="keyword">if</span> <a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="(x$1: AnyRef)Boolean">pos</a> != <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>) {
          <span class="keyword">val</span> <a title="java.lang.String" id="689860">name</a> = <a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#53524" title="=&gt; SemanticTokens.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>().<span title="()java.lang.String">trim</span>()
          <span class="keyword">val</span> <a title="Int" id="689861">pos</a>: <span title="Int">Int</span> =
            <span title="Int" class="keyword">if</span> (<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68218" title="(offset: Int,text: String)Boolean">beginsWith</a>(<a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <span title="java.lang.String(&quot;val &quot;)" class="string">&quot;val &quot;</span>))
              <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68220" title="(offset: Int)Int">skipWhitespace</a>(<a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a><span title="(x$1: Int)Int">(</span><span title="Int(-1)">-</span><span class="int">1</span>) + (<span title="java.lang.String(&quot;val &quot;)" class="string">&quot;val &quot;</span>).<span title="()Int">length</span>())
            <span class="keyword">else</span> <span title="Int" class="keyword">if</span> (<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>].<a href="../util/SourceFile.scala.html#121002" title="(i: Int)Char">content</a><a title="(x$1: Char)Boolean" id="2716">(</a><a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>) == <span title="Char(':')" class="char">':'</span>) {
              <span class="keyword">var</span> <a title="Int" id="689917">posx</a> : <span title="Int">Int</span> = <a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>
              <span title="Unit" class="keyword">while</span> (<a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>].<a href="../util/SourceFile.scala.html#121002" title="(i: Int)Char">content</a><span title="implicit scala.Predef.charWrapper : (c: Char)scala.runtime.RichChar">(</span><a href="#689917" title="(x$1: Int)Int">posx</a> - <span title="Int(1)" class="int">1</span>).<span title="=&gt; Boolean">isWhitespace</span>) <a href="#689917" title="Int">posx</a> = <a href="#689917" title="(x$1: Int)Int">posx</a> - <span title="Int(1)" class="int">1</span>
              <a href="#689917" title="(x$1: Int)Int">posx</a> - <a href="#689860" title="java.lang.String">name</a>.<span title="()Int">length</span>()
            } <span class="keyword">else</span> <a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>
          <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689861" title="Int">pos</a>)
          <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689859" title="SemanticTokens.this.compiler.ValDef">arg</a>.<a href="../ast/Trees.scala.html#53526" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>)
        }
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#689829" title="SemanticTokens.this.compiler.Function">tree</a>.<a href="../ast/Trees.scala.html#95415" title="=&gt; SemanticTokens.this.compiler.Tree">body</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeTree" id="690027">tree</a> : <a href="../ast/Trees.scala.html#26741" title="SemanticTokens.this.compiler.TypeTree">TypeTree</a> =&gt;
        <span class="keyword">val</span> <a title="SemanticTokens.this.compiler.TypeTree" id="690028">treex</a> = <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>
        <span class="keyword">val</span> <a title="SemanticTokens.this.compiler.Tree" id="690029">tree1</a> = <span title="SemanticTokens.this.compiler.Tree" class="keyword">if</span> (<a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#50463" title="(x$1: AnyRef)Boolean">original</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#50463" title="=&gt; SemanticTokens.this.compiler.Tree">original</a> <span class="keyword">else</span> <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>
        <span class="keyword">def</span> <a title="(clazz: SemanticTokens.this.AnyClass)List[SemanticTokens.this.AnyClass]" id="690030">classes</a>(<a title="SemanticTokens.this.AnyClass" id="690035">clazz</a>: <span title="SemanticTokens.this.AnyClass">AnyClass</span>): <span title="List[SemanticTokens.this.AnyClass]">List</span>[AnyClass] =
          <span title="List[SemanticTokens.this.AnyClass]" class="keyword">if</span> (<a href="#690035" title="(x$1: AnyRef)Boolean">clazz</a> eq <span title="Null(null)" class="keyword">null</span>) <span title="object Nil">Nil</span>
          <span class="keyword">else</span> <a href="#690035" title="SemanticTokens.this.AnyClass">clazz</a> <a href="#690038" title="java.lang.Class[_]">::</a> <a href="#690030" title="(clazz: SemanticTokens.this.AnyClass)List[SemanticTokens.this.AnyClass]">classes</a><span title="(x: SemanticTokens.this.AnyClass)List[SemanticTokens.this.AnyClass]">(</span><a href="#690035" title="SemanticTokens.this.AnyClass">clazz</a>.<a title="(()java.lang.Class[_ &gt;: _$1]) forSome { type _$1; type _$1 }" id="4113">getSuperclass</a>())
        <span title="Unit" class="keyword">if</span> (<a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#50463" title="(x$1: AnyRef)Boolean">original</a> eq <span title="Null(null)" class="keyword">null</span>) {
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;NO_ORIGINAL: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690030" title="(clazz: SemanticTokens.this.AnyClass)List[SemanticTokens.this.AnyClass]">classes</a>(<a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>.<span title="()java.lang.Class[_]">getClass</span>()));
        }
        <span title="Unit" class="keyword">if</span> (<a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="(x$1: AnyRef)Boolean">tpe</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690029" title="SemanticTokens.this.compiler.Tree">tree1</a>, <a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>);
        <span class="keyword">def</span> <a title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit" id="690031">buildT</a>( <a title="SemanticTokens.this.compiler.Tree" id="690083">tree</a> : <a href="../ast/Trees.scala.html#26593" title="SemanticTokens.this.compiler.Tree">Tree</a>, <a title="SemanticTokens.this.compiler.Type" id="690084">tpe</a> : <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a>) : <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="(x$1: AnyRef)Boolean">pos</a> != <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>) <a href="#690084" title="SemanticTokens.this.compiler.Type">tpe</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeRef" id="690094">tpe0</a> : <a href="../symtab/Types.scala.html#26254" title="SemanticTokens.this.compiler.TypeRef">TypeRef</a> =&gt; <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.AppliedTypeTree" id="690095">apt</a> : <a href="../ast/Trees.scala.html#26757" title="SemanticTokens.this.compiler.AppliedTypeTree">AppliedTypeTree</a> =&gt; 
              <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690084" title="SemanticTokens.this.compiler.Type">tpe</a>.<a href="../symtab/Types.scala.html#30180" title="=&gt; SemanticTokens.this.compiler.Symbol">typeSymbol</a>, <a href="#690095" title="SemanticTokens.this.compiler.AppliedTypeTree">apt</a>.<a href="../ast/Trees.scala.html#71304" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>);
          //Console.err.println(&quot;APT: &quot; + treex + &quot; vs. &quot; + treex.original);
          //Console.err.println(&quot;APT: &quot; + treex.pos + &quot; vs. &quot; + treex.original.pos + &quot; &quot; + unit.source.dbg(treex.original.pos));
              //Console.err.println(&quot;APT: &quot; + apt.tpt + &quot; sym0=&quot; + apt.tpt.symbol + &quot; sym1=&quot; + tpe0.sym + &quot; apt.args=&quot; + apt.args + &quot; tpe0.args=&quot; + tpe0.args);
    
              <a href="#690032" title="(trees: List[SemanticTokens.this.compiler.Tree],types: List[SemanticTokens.this.compiler.Type])Unit">buildTs</a> (<a href="#690095" title="SemanticTokens.this.compiler.AppliedTypeTree">apt</a>.<a href="../ast/Trees.scala.html#71306" title="=&gt; List[SemanticTokens.this.compiler.Tree]">args</a>, <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42850" title="=&gt; List[SemanticTokens.this.compiler.Type]">args</a>);
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Ident" id="690111">ident</a> : <a href="../ast/Trees.scala.html#26732" title="SemanticTokens.this.compiler.Ident">Ident</a> =&gt; <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42848" title="=&gt; SemanticTokens.this.compiler.Symbol">sym</a>, <a href="#690111" title="SemanticTokens.this.compiler.Ident">ident</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>);
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Select" id="690116">select</a> : <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a> =&gt;
          <span title="Unit" class="keyword">if</span> (<a href="#690116" title="SemanticTokens.this.compiler.Select">select</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="../symtab/Symbols.scala.html#26134" title="object SemanticTokens.this.compiler.NoSymbol">NoSymbol</a>) 
              <span class="keyword">try</span> {
                // build(select);
            <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42874" title="=&gt; SemanticTokens.this.compiler.Symbol">typeSymbol</a>, <a href="#689114" title="(tree: SemanticTokens.this.compiler.Select)Int">selectPos</a>(<a href="#690116" title="SemanticTokens.this.compiler.Select">select</a>), <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>);
            //Console.err.println(&quot;QUALIFIER: &quot; + select.qualifier + &quot; &quot; + unit.source.dbg(select.qualifier.pos) + &quot; &quot; + tpe0.prefix + &quot; &quot; + tpe0.prefix.getClass() + &quot; &quot; + tpe0.prefix.getClass().getSuperclass() +&quot; &quot; + tpe0.prefix.widen + &quot; &quot; + tpe0.prefix.toLongString);            
                        <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690116" title="SemanticTokens.this.compiler.Select">select</a>.<a href="../ast/Trees.scala.html#50279" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>, <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42882" title="=&gt; SemanticTokens.this.compiler.Type">prefix</a>);
          } <span class="keyword">catch</span> {
                        <span title="Nothing" class="keyword">case</span> <a title="Error" id="690132">e</a> : <span title="Error">Error</span> =&gt; 
                          <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;BUILD_SELECT: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690116" title="SemanticTokens.this.compiler.Select">select</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; @ &quot;)" class="string">&quot; @ &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690116" title="SemanticTokens.this.compiler.Select">select</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
                          <span title="Nothing" class="keyword">throw</span> <a href="#690132" title="Error">e</a>;
              }
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeTree" id="690149">tpt</a> : <a href="../ast/Trees.scala.html#26741" title="SemanticTokens.this.compiler.TypeTree">TypeTree</a> =&gt; 
          <span title="Unit" class="keyword">if</span> (<a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50459" title="(x$1: AnyRef)Boolean">symbol</a> ne <span title="Null(null)" class="keyword">null</span>) {
            <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SYM0 &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50459" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
            <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50459" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>);
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42874" title="(x$1: AnyRef)Boolean">typeSymbol</a> ne <span title="Null(null)" class="keyword">null</span>) {
            //Console.err.println(&quot;TYPE_SYM1 &quot; + tpe0.symbol + &quot; &quot; + unit.source.dbg(tpt.pos));
            <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42874" title="=&gt; SemanticTokens.this.compiler.Symbol">typeSymbol</a>, <a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>);
          } <span class="keyword">else</span> {
            <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPT0: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> (<a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tpt=&quot;)" class="string">&quot; tpt=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690149" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50459" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tpe0=&quot;)" class="string">&quot; tpe0=&quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42874" title="=&gt; SemanticTokens.this.compiler.Symbol">typeSymbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tpe0.args=&quot;)" class="string">&quot; tpe0.args=&quot;</span> + <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42850" title="=&gt; List[SemanticTokens.this.compiler.Type]">args</a>);
          }
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.SelectFromTypeTree" id="690202">sft</a> : <a href="../ast/Trees.scala.html#26751" title="SemanticTokens.this.compiler.SelectFromTypeTree">SelectFromTypeTree</a> =&gt; 
              <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#98635" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>); // XXX: broken
                <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SFTT: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; sym=&quot;)" class="string">&quot; sym=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; name=&quot;)" class="string">&quot; name=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#98637" title="=&gt; SemanticTokens.this.compiler.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; qual=&quot;)" class="string">&quot; qual=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#98635" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; qual.sym=&quot;)" class="string">&quot; qual.sym=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                          <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#98635" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>.<a href="../ast/Trees.scala.html#29367" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> 
                          <span title="java.lang.String(&quot; qual.pos=&quot;)" class="string">&quot; qual.pos=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> (<a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#98635" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; symbol=&quot;)" class="string">&quot; symbol=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690202" title="SemanticTokens.this.compiler.SelectFromTypeTree">sft</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; type=&quot;)" class="string">&quot; type=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> 
                          <span title="java.lang.String(&quot; type.sym=&quot;)" class="string">&quot; type.sym=&quot;</span> + <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a>.<a href="../symtab/Types.scala.html#42874" title="=&gt; SemanticTokens.this.compiler.Symbol">typeSymbol</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt; <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPT2: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; vs. &quot;)" class="string">&quot; vs. &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690094" title="SemanticTokens.this.compiler.TypeRef">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span>() <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
          }
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.MethodType" id="690277">tpe0</a> : <a href="../symtab/Types.scala.html#26257" title="SemanticTokens.this.compiler.MethodType">MethodType</a> =&gt; <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeTree" id="690278">tpt</a>: <a href="../ast/Trees.scala.html#26741" title="SemanticTokens.this.compiler.TypeTree">TypeTree</a> =&gt;
              <span title="Unit" class="keyword">if</span> (<a href="#690278" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50463" title="(x$1: AnyRef)Boolean">original</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690278" title="SemanticTokens.this.compiler.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#50463" title="=&gt; SemanticTokens.this.compiler.Tree">original</a>, <a href="#690084" title="SemanticTokens.this.compiler.Type">tpe</a>);
              <span class="keyword">else</span> {
                        <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPT3: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; vs. &quot;)" class="string">&quot; vs. &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690277" title="SemanticTokens.this.compiler.MethodType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
              }
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Ident" id="690299">ident</a>  : <a href="../ast/Trees.scala.html#26732" title="SemanticTokens.this.compiler.Ident">Ident</a>  =&gt; <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690299" title="SemanticTokens.this.compiler.Ident">ident</a>,  <a href="#690277" title="SemanticTokens.this.compiler.MethodType">tpe0</a>.<a href="../symtab/Types.scala.html#43900" title="=&gt; SemanticTokens.this.compiler.Type">resultType</a>);
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Select" id="690308">select</a> : <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a> =&gt; <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690308" title="SemanticTokens.this.compiler.Select">select</a>, <a href="#690277" title="SemanticTokens.this.compiler.MethodType">tpe0</a>.<a href="../symtab/Types.scala.html#43900" title="=&gt; SemanticTokens.this.compiler.Type">resultType</a>);
            <span title="Unit" class="keyword">case</span> _ =&gt; <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; vs. &quot;)" class="string">&quot; vs. &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690277" title="SemanticTokens.this.compiler.MethodType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span>());
          }
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.RefinedType" id="690336">tpe0</a> : <a href="../symtab/Types.scala.html#26244" title="SemanticTokens.this.compiler.RefinedType">RefinedType</a> =&gt; <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.CompoundTypeTree" id="690337">cpt</a> : <a href="../ast/Trees.scala.html#26754" title="SemanticTokens.this.compiler.CompoundTypeTree">CompoundTypeTree</a> =&gt; 
                  <a href="#690032" title="(trees: List[SemanticTokens.this.compiler.Tree],types: List[SemanticTokens.this.compiler.Type])Unit">buildTs</a>(<a href="#690337" title="SemanticTokens.this.compiler.CompoundTypeTree">cpt</a>.<a href="../ast/Trees.scala.html#98461" title="=&gt; SemanticTokens.this.compiler.Template">templ</a>.<a href="../ast/Trees.scala.html#52056" title="=&gt; List[SemanticTokens.this.compiler.Tree]">parents</a>, <a href="#690336" title="SemanticTokens.this.compiler.RefinedType">tpe0</a>.<a href="../symtab/Types.scala.html#44161" title="=&gt; List[SemanticTokens.this.compiler.Type]">parents</a>);
        
              <span title="Unit" class="keyword">case</span> _ : <a href="../ast/Trees.scala.html#26741" title="SemanticTokens.this.compiler.TypeTree">TypeTree</a> =&gt; 
                // Console.err.println(&quot;UNKNOWN TPE13: &quot; + dbg(tree) + &quot; tpe0=&quot; + tpe0 + &quot; &quot; + tpe0.parents);
              <span title="Unit" class="keyword">case</span> _ =&gt;
                  <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE5: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689094" title="(tree: SemanticTokens.this.compiler.Tree)java.lang.String">dbg</a>(<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tpe0=&quot;)" class="string">&quot; tpe0=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690336" title="SemanticTokens.this.compiler.RefinedType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690336" title="SemanticTokens.this.compiler.RefinedType">tpe0</a>.<a href="../symtab/Types.scala.html#44161" title="=&gt; List[SemanticTokens.this.compiler.Type]">parents</a>);
          }
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.ThisType" id="690358">tpe0</a> : <a href="../symtab/Types.scala.html#26228" title="SemanticTokens.this.compiler.ThisType">ThisType</a> =&gt; <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
            <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.SingletonTypeTree" id="690359">stt</a> : <a href="../ast/Trees.scala.html#26748" title="SemanticTokens.this.compiler.SingletonTypeTree">SingletonTypeTree</a> =&gt; <a href="#690359" title="SemanticTokens.this.compiler.SingletonTypeTree">stt</a>.<a href="../ast/Trees.scala.html#98440" title="=&gt; SemanticTokens.this.compiler.Tree">ref</a> <span title="Unit" class="keyword">match</span> {
                <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.This" id="690360">ths</a> : <a href="../ast/Trees.scala.html#26724" title="SemanticTokens.this.compiler.This">This</a> =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690360" title="SemanticTokens.this.compiler.This">ths</a>);

          <span title="Unit" class="keyword">case</span> _ =&gt; <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE11: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690358" title="SemanticTokens.this.compiler.ThisType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690359" title="SemanticTokens.this.compiler.SingletonTypeTree">stt</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690359" title="SemanticTokens.this.compiler.SingletonTypeTree">stt</a>.<a href="../ast/Trees.scala.html#98440" title="=&gt; SemanticTokens.this.compiler.Tree">ref</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690359" title="SemanticTokens.this.compiler.SingletonTypeTree">stt</a>.<a href="../ast/Trees.scala.html#98440" title="=&gt; SemanticTokens.this.compiler.Tree">ref</a>.<span title="()java.lang.Class[_]">getClass</span>() <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
        }
        <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.This" id="690399">tt</a> : <a href="../ast/Trees.scala.html#26724" title="SemanticTokens.this.compiler.This">This</a> =&gt; 
        <span title="Unit" class="keyword">case</span> _ : <a href="../ast/Trees.scala.html#26732" title="SemanticTokens.this.compiler.Ident">Ident</a> =&gt;
        <span title="Unit" class="keyword">case</span> _ : <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a> =&gt;
        <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeTree" id="690400">tt</a> : <a href="../ast/Trees.scala.html#26741" title="SemanticTokens.this.compiler.TypeTree">TypeTree</a> =&gt; 
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE12: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690358" title="SemanticTokens.this.compiler.ThisType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span>() <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
        <span title="Unit" class="keyword">case</span> _ =&gt; 
          <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE10: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690358" title="SemanticTokens.this.compiler.ThisType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span>() <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
          }
        <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.SingleType" id="690447">tpe0</a> : <a href="../symtab/Types.scala.html#26234" title="SemanticTokens.this.compiler.SingleType">SingleType</a> =&gt; <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Ident" id="690448">ident</a>  : <a href="../ast/Trees.scala.html#26732" title="SemanticTokens.this.compiler.Ident">Ident</a>  =&gt; <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>.<a href="../symtab/Types.scala.html#52920" title="=&gt; SemanticTokens.this.compiler.Symbol">sym</a>, <a href="#690448" title="SemanticTokens.this.compiler.Ident">ident</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>);
          <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Select" id="690453">select</a> : <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a> =&gt;
            <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>.<a href="../symtab/Types.scala.html#52935" title="=&gt; SemanticTokens.this.compiler.Symbol">termSymbol</a>, <a href="#689114" title="(tree: SemanticTokens.this.compiler.Select)Int">selectPos</a>(<a href="#690453" title="SemanticTokens.this.compiler.Select">select</a>), <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>);
            //Console.err.println(&quot;QUALIFIER-0: &quot; + select.qualifier + &quot; &quot; + unit.source.dbg(select.qualifier.pos) + &quot; &quot; + tpe0.prefix + &quot; &quot; + tpe0.prefix.getClass() + &quot; &quot; + tpe0.prefix.getClass().getSuperclass() +&quot; &quot; + tpe0.prefix.widen + &quot; &quot; + tpe0.prefix.toLongString);            
            <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a>(<a href="#690453" title="SemanticTokens.this.compiler.Select">select</a>.<a href="../ast/Trees.scala.html#50279" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>, <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>.<a href="../symtab/Types.scala.html#52936" title="=&gt; SemanticTokens.this.compiler.Type">prefix</a>);

          <span title="Unit" class="keyword">case</span> _ =&gt;
            <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE8: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; TPE=&quot;)" class="string">&quot; TPE=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; PRE=&quot;)" class="string">&quot; PRE=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>.<a href="../symtab/Types.scala.html#52918" title="=&gt; SemanticTokens.this.compiler.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; SYM=&quot;)" class="string">&quot; SYM=&quot;</span> + <a href="#690447" title="SemanticTokens.this.compiler.SingleType">tpe0</a>.<a href="../symtab/Types.scala.html#52920" title="=&gt; SemanticTokens.this.compiler.Symbol">sym</a>);
              
        }
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.ConstantType" id="690484">ctype</a> : <a href="../symtab/Types.scala.html#26251" title="SemanticTokens.this.compiler.ConstantType">ConstantType</a> =&gt;
          <span title="Unit" class="keyword">case</span> <a href="../symtab/Types.scala.html#26217" title="object SemanticTokens.this.compiler.ErrorType">ErrorType</a> =&gt; 
          <span title="Unit" class="keyword">case</span> _ =&gt; {
        <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;UNKNOWN TPE4: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690084" title="SemanticTokens.this.compiler.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690084" title="SemanticTokens.this.compiler.Type">tpe</a>.<span title="()java.lang.Class[_]">getClass</span>() <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690083" title="SemanticTokens.this.compiler.Tree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
          }
        };
    <span class="keyword">def</span> <a title="(trees: List[SemanticTokens.this.compiler.Tree],types: List[SemanticTokens.this.compiler.Type])Unit" id="690032">buildTs</a>(<a title="List[SemanticTokens.this.compiler.Tree]" id="690107">trees</a> : <span title="List[SemanticTokens.this.compiler.Tree]">List</span>[Tree], <a title="List[SemanticTokens.this.compiler.Type]" id="690108">types</a> : <span title="List[SemanticTokens.this.compiler.Type]">List</span>[Type]): <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#690107" title="List[SemanticTokens.this.compiler.Tree]">trees</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#690108" title="List[SemanticTokens.this.compiler.Type]">types</a>.<span title="=&gt; Boolean">isEmpty</span>) {
              <a href="#690031" title="(tree: SemanticTokens.this.compiler.Tree,tpe: SemanticTokens.this.compiler.Type)Unit">buildT</a> (<a href="#690107" title="List[SemanticTokens.this.compiler.Tree]">trees</a>.<span title="=&gt; SemanticTokens.this.compiler.Tree">head</span>, <a href="#690108" title="List[SemanticTokens.this.compiler.Type]">types</a>.<span title="=&gt; SemanticTokens.this.compiler.Type">head</span>);
              <a href="#690032" title="(trees: List[SemanticTokens.this.compiler.Tree],types: List[SemanticTokens.this.compiler.Type])Unit">buildTs</a>(<a href="#690107" title="List[SemanticTokens.this.compiler.Tree]">trees</a>.<span title="=&gt; List[SemanticTokens.this.compiler.Tree]">tail</span>, <a href="#690108" title="List[SemanticTokens.this.compiler.Type]">types</a>.<span title="=&gt; List[SemanticTokens.this.compiler.Type]">tail</span>);
        } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#690107" title="List[SemanticTokens.this.compiler.Tree]">trees</a>.<a title="(x$1: Boolean)Boolean" id="2208">isEmpty</a> != <a href="#690108" title="List[SemanticTokens.this.compiler.Type]">types</a>.<span title="=&gt; Boolean">isEmpty</span>) {
             <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean" class="keyword">false</span> &amp;&amp; <a href="#689091" title="=&gt; Boolean">doLog</a>) {
        <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690028" title="SemanticTokens.this.compiler.TypeTree">treex</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; vs. &quot;)" class="string">&quot; vs. &quot;</span> + <a href="#690028" title="SemanticTokens.this.compiler.TypeTree">treex</a>.<a href="../ast/Trees.scala.html#50463" title="=&gt; SemanticTokens.this.compiler.Tree">original</a>);
        <span title="Unit" class="keyword">if</span> (<a href="#690028" title="SemanticTokens.this.compiler.TypeTree">treex</a>.<a href="../ast/Trees.scala.html#50463" title="(x$1: AnyRef)Boolean">original</a> ne <span title="Null(null)" class="keyword">null</span>)
          <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690028" title="SemanticTokens.this.compiler.TypeTree">treex</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; vs. &quot;)" class="string">&quot; vs. &quot;</span> + <a href="#690028" title="SemanticTokens.this.compiler.TypeTree">treex</a>.<a href="../ast/Trees.scala.html#50463" title="=&gt; SemanticTokens.this.compiler.Tree">original</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>);
               <a href="../Global.scala.html#39076" title="(msg: String,t: Throwable)Unit">logError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Tree vs. Type mismatch: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690107" title="List[SemanticTokens.this.compiler.Tree]">trees</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690108" title="List[SemanticTokens.this.compiler.Type]">types</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690027" title="SemanticTokens.this.compiler.TypeTree">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>, <span title="Null(null)" class="keyword">null</span>);
        <a href="#689091" title="(x$1: Boolean)Unit">doLog</a> = <span title="Boolean(false)" class="keyword">false</span>;
      }
    };
/*
  Martin to Sean: I don't understand why AbsTypeDef is different from AliasTypeDef.
  Why is the order reversed? Why two buildDefs for tree.symbol vs one for AliasTypeDef?
      case tree: AbsTypeDef =&gt;
        //Console.err.println(&quot;ABS: &quot; + tree.symbol + &quot; &quot; + unit.source.dbg(tree.namePos) + &quot; &quot; + tree.pos.dbgString);
        buildDef(tree.symbol, tree.namePos)
        buildDef(tree.symbol, tree.pos.pointOrElse(-1))
        build(tree.tparams); //@M
        build(tree.lo)
        build(tree.hi)
*/
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Bind" id="690559">tree</a>: <a href="../ast/Trees.scala.html#26669" title="SemanticTokens.this.compiler.Bind">Bind</a> =&gt;
        <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#690559" title="SemanticTokens.this.compiler.Bind">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#690559" title="SemanticTokens.this.compiler.Bind">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>))
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690559" title="SemanticTokens.this.compiler.Bind">tree</a>.<a href="../ast/Trees.scala.html#98302" title="=&gt; SemanticTokens.this.compiler.Tree">body</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Ident" id="690575">tree</a>: <a href="../ast/Trees.scala.html#26732" title="SemanticTokens.this.compiler.Ident">Ident</a> =&gt;
        <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690575" title="SemanticTokens.this.compiler.Ident">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#690575" title="SemanticTokens.this.compiler.Ident">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#690575" title="SemanticTokens.this.compiler.Ident">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Select" id="690580">tree</a>: <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a> =&gt;
        <span class="keyword">try</span> {
          <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#50279" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>)
            } <span class="keyword">catch</span> {
              <span title="Nothing" class="keyword">case</span> <a title="Error" id="690592">e</a> : <span title="Error">Error</span> =&gt; <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SELECTQ: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#50279" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + (<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#50279" title="=&gt; SemanticTokens.this.compiler.Tree">qualifier</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>); <span title="Nothing" class="keyword">throw</span> <a href="#690592" title="Error">e</a>;
            }
            <span class="keyword">try</span> {
              <span title="Unit" class="keyword">if</span> (<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30279" title="(x$1: Boolean)Boolean">isDefined</a> &amp;&amp; <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="(x$1: Int)Boolean">point</a> &gt;= <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68209" title="=&gt; Int">length</a>) {
                <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;BAD_SELECT_QUALIFIER &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; @ &quot;)" class="string">&quot; @ &quot;</span> + (<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>).<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>);
          
        } <span class="keyword">else</span> {
          //Console.err.println(&quot;SELECT-0: &quot; + tree.symbol + &quot; &quot; + tree.pos.dbgString + &quot; &quot; + (tree.pos - selectPos(tree)));
                    <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#689114" title="(tree: SemanticTokens.this.compiler.Select)Int">selectPos</a>(<a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>), <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>);
              }
            } <span class="keyword">catch</span> {
              <span title="Nothing" class="keyword">case</span> <a title="Error" id="690633">e</a> : <span title="Error">Error</span> =&gt; <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;SELECTU: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690580" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30308" title="=&gt; java.lang.String">dbgString</a>); <span title="Nothing" class="keyword">throw</span> <a href="#690633" title="Error">e</a>;
            }
    <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeApply" id="690650">tree</a>: <a href="../ast/Trees.scala.html#26711" title="SemanticTokens.this.compiler.TypeApply">TypeApply</a> =&gt;
      //Console.err.println(&quot;TYPE_APPLY: &quot; + tree + &quot; &quot; + tree.pos.dbgString);    
      <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#690650" title="SemanticTokens.this.compiler.TypeApply">tree</a>.<a href="../ast/Trees.scala.html#50722" title="=&gt; List[SemanticTokens.this.compiler.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>) <span title="Unit">{</span>
        //Console.err.println(&quot;ARGS: &quot; + unit.source.dbg(tree.args0.head.pos));    
      }
      <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690650" title="SemanticTokens.this.compiler.TypeApply">tree</a>.<a href="../ast/Trees.scala.html#50720" title="=&gt; SemanticTokens.this.compiler.Tree">fun</a>)
      <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#690650" title="SemanticTokens.this.compiler.TypeApply">tree</a>.<a href="../ast/Trees.scala.html#50722" title="=&gt; List[SemanticTokens.this.compiler.Tree]">args</a>)
    <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Apply" id="690676">tree</a>: <a href="../ast/Trees.scala.html#26714" title="SemanticTokens.this.compiler.Apply">Apply</a> =&gt;

      <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690676" title="SemanticTokens.this.compiler.Apply">tree</a>.<a href="../ast/Trees.scala.html#49131" title="=&gt; SemanticTokens.this.compiler.Tree">fun</a>)
      <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#690676" title="SemanticTokens.this.compiler.Apply">tree</a>.<a href="../ast/Trees.scala.html#49133" title="=&gt; List[SemanticTokens.this.compiler.Tree]">args</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.GenericApply" id="690702">tree</a>: <a href="../ast/Trees.scala.html#26710" title="SemanticTokens.this.compiler.GenericApply">GenericApply</a> =&gt;

        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690702" title="SemanticTokens.this.compiler.GenericApply">tree</a>.<a href="../ast/Trees.scala.html#49127" title="=&gt; SemanticTokens.this.compiler.Tree">fun</a>)
        <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#690702" title="SemanticTokens.this.compiler.GenericApply">tree</a>.<a href="../ast/Trees.scala.html#49128" title="=&gt; List[SemanticTokens.this.compiler.Tree]">args</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Typed" id="690728">tree</a>: <a href="../ast/Trees.scala.html#26707" title="SemanticTokens.this.compiler.Typed">Typed</a> =&gt;
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690728" title="SemanticTokens.this.compiler.Typed">tree</a>.<a href="../ast/Trees.scala.html#50378" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>)
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690728" title="SemanticTokens.this.compiler.Typed">tree</a>.<a href="../ast/Trees.scala.html#50380" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Block" id="690751">tree</a>: <a href="../ast/Trees.scala.html#26653" title="SemanticTokens.this.compiler.Block">Block</a> =&gt;
        <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) {
          <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49029" title="=&gt; List[SemanticTokens.this.compiler.Tree]">stats</a>.<span title="=&gt; Boolean">isEmpty</span>)
            <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;BLOCKS: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49029" title="=&gt; List[SemanticTokens.this.compiler.Tree]">stats</a>.<span title="=&gt; SemanticTokens.this.compiler.Tree">head</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49029" title="=&gt; List[SemanticTokens.this.compiler.Tree]">stats</a>.<span title="=&gt; SemanticTokens.this.compiler.Tree">head</span>.<span title="()java.lang.Class[_]">getClass</span>());
          <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;BLOCKE: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49031" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49031" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>.<span title="()java.lang.Class[_]">getClass</span>())
        }
        <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49029" title="=&gt; List[SemanticTokens.this.compiler.Tree]">stats</a>)
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690751" title="SemanticTokens.this.compiler.Block">tree</a>.<a href="../ast/Trees.scala.html#49031" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.CaseDef" id="690807">tree</a>: <a href="../ast/Trees.scala.html#26656" title="SemanticTokens.this.compiler.CaseDef">CaseDef</a> =&gt;
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690807" title="SemanticTokens.this.compiler.CaseDef">tree</a>.<a href="../ast/Trees.scala.html#51431" title="=&gt; SemanticTokens.this.compiler.Tree">pat</a>)
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690807" title="SemanticTokens.this.compiler.CaseDef">tree</a>.<a href="../ast/Trees.scala.html#51433" title="=&gt; SemanticTokens.this.compiler.Tree">guard</a>)
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690807" title="SemanticTokens.this.compiler.CaseDef">tree</a>.<a href="../ast/Trees.scala.html#51435" title="=&gt; SemanticTokens.this.compiler.Tree">body</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Sequence" id="690841">tree</a> : <a href="../ast/Trees.scala.html#26660" title="SemanticTokens.this.compiler.Sequence">Sequence</a>   =&gt; <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#690841" title="SemanticTokens.this.compiler.Sequence">tree</a>.<a href="../ast/Trees.scala.html#98676" title="=&gt; List[SemanticTokens.this.compiler.Tree]">trees</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Assign" id="690856">tree</a> : <a href="../ast/Trees.scala.html#26682" title="SemanticTokens.this.compiler.Assign">Assign</a>     =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690856" title="SemanticTokens.this.compiler.Assign">tree</a>.<a href="../ast/Trees.scala.html#73095" title="=&gt; SemanticTokens.this.compiler.Tree">lhs</a>); <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690856" title="SemanticTokens.this.compiler.Assign">tree</a>.<a href="../ast/Trees.scala.html#73097" title="=&gt; SemanticTokens.this.compiler.Tree">rhs</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.If" id="690879">tree</a> : <a href="../ast/Trees.scala.html#26688" title="SemanticTokens.this.compiler.If">If</a>         =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690879" title="SemanticTokens.this.compiler.If">tree</a>.<a href="../ast/Trees.scala.html#49870" title="=&gt; SemanticTokens.this.compiler.Tree">cond</a>); <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690879" title="SemanticTokens.this.compiler.If">tree</a>.<a href="../ast/Trees.scala.html#49872" title="=&gt; SemanticTokens.this.compiler.Tree">thenp</a>); <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690879" title="SemanticTokens.this.compiler.If">tree</a>.<a href="../ast/Trees.scala.html#49874" title="=&gt; SemanticTokens.this.compiler.Tree">elsep</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.New" id="690913">tree</a> : <a href="../ast/Trees.scala.html#26703" title="SemanticTokens.this.compiler.New">New</a>        =&gt; 
        //Console.err.println(&quot;NEW: &quot; + tree.tpt + &quot; &quot; + tree.tpt.getClass());
      <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690913" title="SemanticTokens.this.compiler.New">tree</a>.<a href="../ast/Trees.scala.html#50318" title="=&gt; SemanticTokens.this.compiler.Tree">tpt</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Match" id="690925">tree</a> : <a href="../ast/Trees.scala.html#26691" title="SemanticTokens.this.compiler.Match">Match</a>      =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690925" title="SemanticTokens.this.compiler.Match">tree</a>.<a href="../ast/Trees.scala.html#51632" title="=&gt; SemanticTokens.this.compiler.Tree">selector</a>); <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.CaseDef])Unit">build</a>(<a href="#690925" title="SemanticTokens.this.compiler.Match">tree</a>.<a href="../ast/Trees.scala.html#51634" title="=&gt; List[SemanticTokens.this.compiler.CaseDef]">cases</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Return" id="690951">tree</a> : <a href="../ast/Trees.scala.html#26694" title="SemanticTokens.this.compiler.Return">Return</a>     =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690951" title="SemanticTokens.this.compiler.Return">tree</a>.<a href="../ast/Trees.scala.html#98704" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.LabelDef" id="690963">tree</a> : <a href="../ast/Trees.scala.html#26639" title="SemanticTokens.this.compiler.LabelDef">LabelDef</a>   =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690963" title="SemanticTokens.this.compiler.LabelDef">tree</a>.<a href="../ast/Trees.scala.html#48498" title="=&gt; SemanticTokens.this.compiler.Tree">rhs</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Throw" id="690975">tree</a> : <a href="../ast/Trees.scala.html#26700" title="SemanticTokens.this.compiler.Throw">Throw</a>      =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690975" title="SemanticTokens.this.compiler.Throw">tree</a>.<a href="../ast/Trees.scala.html#80400" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Try" id="690987">tree</a> : <a href="../ast/Trees.scala.html#26697" title="SemanticTokens.this.compiler.Try">Try</a>        =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690987" title="SemanticTokens.this.compiler.Try">tree</a>.<a href="../ast/Trees.scala.html#51756" title="=&gt; SemanticTokens.this.compiler.Tree">block</a>); <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.CaseDef])Unit">build</a>(<a href="#690987" title="SemanticTokens.this.compiler.Try">tree</a>.<a href="../ast/Trees.scala.html#51758" title="=&gt; List[SemanticTokens.this.compiler.CaseDef]">catches</a>); <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#690987" title="SemanticTokens.this.compiler.Try">tree</a>.<a href="../ast/Trees.scala.html#51760" title="=&gt; SemanticTokens.this.compiler.Tree">finalizer</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Alternative" id="691024">tree</a> : <a href="../ast/Trees.scala.html#26663" title="SemanticTokens.this.compiler.Alternative">Alternative</a> =&gt; <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.Tree])Unit">build</a>(<a href="#691024" title="SemanticTokens.this.compiler.Alternative">tree</a>.<a href="../ast/Trees.scala.html#98725" title="=&gt; List[SemanticTokens.this.compiler.Tree]">trees</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.This" id="691039">tree</a> : <a href="../ast/Trees.scala.html#26724" title="SemanticTokens.this.compiler.This">This</a>    =&gt; 

        <span title="Unit" class="keyword">if</span> (<a href="#691039" title="SemanticTokens.this.compiler.This">tree</a>.<a href="../ast/Trees.scala.html#48485" title="(x$1: AnyRef)Boolean">symbol</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#689111" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit">buildUse</a>(<a href="#691039" title="SemanticTokens.this.compiler.This">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#691039" title="SemanticTokens.this.compiler.This">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>), <a href="#691039" title="SemanticTokens.this.compiler.This">tree</a>.<a href="../ast/Trees.scala.html#29363" title="=&gt; SemanticTokens.this.compiler.Type">tpe</a>);
        //Thread.dumpStack();
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.TypeDef" id="691046">tree</a> : <a href="../ast/Trees.scala.html#26634" title="SemanticTokens.this.compiler.TypeDef">TypeDef</a> =&gt; 
        //Console.err.println(&quot;ALIAS: &quot; + tree);
        <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#691046" title="SemanticTokens.this.compiler.TypeDef">tree</a>.<a href="../ast/Trees.scala.html#52127" title="=&gt; SemanticTokens.this.compiler.Tree">rhs</a>); <a href="#689107" title="(trees: List[SemanticTokens.this.compiler.TypeDef])Unit">build</a>(<a href="#691046" title="SemanticTokens.this.compiler.TypeDef">tree</a>.<a href="../ast/Trees.scala.html#52125" title="=&gt; List[SemanticTokens.this.compiler.TypeDef]">tparams</a>); <a href="#689112" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit">buildDef</a>(<a href="#691046" title="SemanticTokens.this.compiler.TypeDef">tree</a>.<a href="../ast/Trees.scala.html#48485" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>, <a href="#691046" title="SemanticTokens.this.compiler.TypeDef">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30287" title="(default: Int)Int">pointOrElse</a>(<span title="Int(-1)">-</span><span class="int">1</span>));
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.DocDef" id="691076">tree</a> : <a href="../ast/Trees.scala.html#26646" title="SemanticTokens.this.compiler.DocDef">DocDef</a>     =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#691076" title="SemanticTokens.this.compiler.DocDef">tree</a>.<a href="../ast/Trees.scala.html#98796" title="=&gt; SemanticTokens.this.compiler.Tree">definition</a>);
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Import" id="691088">tree</a>: <a href="../ast/Trees.scala.html#26643" title="SemanticTokens.this.compiler.Import">Import</a> =&gt; <a href="#689110" title="(tree0: SemanticTokens.this.compiler.Tree)Unit">build</a>(<a href="#691088" title="SemanticTokens.this.compiler.Import">tree</a>.<a href="../ast/Trees.scala.html#98810" title="=&gt; SemanticTokens.this.compiler.Tree">expr</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.AppliedTypeTree" id="691100">tree</a>: <a href="../ast/Trees.scala.html#26757" title="SemanticTokens.this.compiler.AppliedTypeTree">AppliedTypeTree</a> =&gt; ;
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Annotated" id="691101">tree</a>: <a href="../ast/Trees.scala.html#26745" title="SemanticTokens.this.compiler.Annotated">Annotated</a> =&gt; ;
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.SingletonTypeTree" id="691102">tree</a>: <a href="../ast/Trees.scala.html#26748" title="SemanticTokens.this.compiler.SingletonTypeTree">SingletonTypeTree</a> =&gt; ;
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Super" id="691103">tree</a>: <a href="../ast/Trees.scala.html#26720" title="SemanticTokens.this.compiler.Super">Super</a>   =&gt; ;
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.compiler.Literal" id="691104">tree</a>: <a href="../ast/Trees.scala.html#26737" title="SemanticTokens.this.compiler.Literal">Literal</a> =&gt; ;
      <span title="Unit" class="keyword">case</span> <a href="../ast/Trees.scala.html#26602" title="object SemanticTokens.this.compiler.EmptyTree">EmptyTree</a> =&gt; ;
      <span title="Unit" class="keyword">case</span> _ =&gt; ;
        <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;BAIL: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> (<a href="#689509" title="SemanticTokens.this.compiler.Tree">tree0</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>) <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689509" title="SemanticTokens.this.compiler.Tree">tree0</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#689509" title="SemanticTokens.this.compiler.Tree">tree0</a>.<span title="()java.lang.Class[_]">getClass</span>());
    }
  } <span class="keyword">catch</span> {
    <span title="Unit" class="keyword">case</span> <a title="java.lang.Throwable" id="691124">t</a>: <a title="Throwable" id="1887">Throwable</a> =&gt;
      <a href="../Global.scala.html#39076" title="(msg: String,t: Throwable)Unit">logError</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Error occured at &quot;</span> + (<a href="#689509" title="SemanticTokens.this.compiler.Tree">tree0</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>), <a href="#691124" title="java.lang.Throwable">t</a>)
  }

  <span class="keyword">def</span> <a title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,tpe: SemanticTokens.this.compiler.Type)Unit" id="689111">buildUse</a>(<a title="SemanticTokens.this.compiler.Symbol" id="690096">term</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>, <a title="Int" id="690097">pos</a>: <span title="Int">Int</span>, <a title="SemanticTokens.this.compiler.Type" id="690098">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a>) = <a href="#689113" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,isDef: Boolean,tpe: SemanticTokens.this.compiler.Type)Unit">buildSym</a>(<a href="#690096" title="SemanticTokens.this.compiler.Symbol">term</a>, <a href="#690097" title="Int">pos</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#690098" title="SemanticTokens.this.compiler.Type">tpe</a>)
  <span class="keyword">def</span> <a title="(term: SemanticTokens.this.compiler.Symbol,pos: Int)Unit" id="689112">buildDef</a>(<a title="SemanticTokens.this.compiler.Symbol" id="689532">term</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>, <a title="Int" id="689533">pos</a>: <span title="Int">Int</span>) = <a href="#689113" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,isDef: Boolean,tpe: SemanticTokens.this.compiler.Type)Unit">buildSym</a>(<a href="#689532" title="SemanticTokens.this.compiler.Symbol">term</a>, <a href="#689533" title="Int">pos</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Null(null)" class="keyword">null</span>)

  <span class="keyword">def</span> <a title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,isDef: Boolean,tpe: SemanticTokens.this.compiler.Type)Unit" id="689113">buildSym</a>(<a title="SemanticTokens.this.compiler.Symbol" id="689536">term</a>: <a href="../symtab/Symbols.scala.html#26127" title="SemanticTokens.this.compiler.Symbol">Symbol</a>, <a title="Int" id="689537">pos</a>: <span title="Int">Int</span>, <a title="Boolean" id="689538">isDef</a>: <a title="Boolean" id="1951">Boolean</a>, <a title="SemanticTokens.this.compiler.Type" id="689539">tpe</a>: <a href="../symtab/Types.scala.html#26205" title="SemanticTokens.this.compiler.Type">Type</a>): <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> (<a href="#689536" title="SemanticTokens.this.compiler.Symbol">term</a>.<a href="../symtab/Symbols.scala.html#26996" title="(mask: Long)Boolean">hasFlag</a>(Flags.<span title="Long(134217728L)">ACCESSOR</span>))
      <a href="#689113" title="(term: SemanticTokens.this.compiler.Symbol,pos: Int,isDef: Boolean,tpe: SemanticTokens.this.compiler.Type)Unit">buildSym</a>(<a href="../Global.scala.html#39102" title="object SemanticTokens.this.compiler.analyzer">analyzer</a>.<a href="../typechecker/Namers.scala.html#39843" title="(member: SemanticTokens.this.compiler.analyzer.global.Symbol)SemanticTokens.this.compiler.analyzer.global.Symbol">underlying</a>(<a href="#689536" title="SemanticTokens.this.compiler.Symbol">term</a>), <a href="#689537" title="Int">pos</a>, <a href="#689538" title="Boolean">isDef</a>, <a href="#689539" title="SemanticTokens.this.compiler.Type">tpe</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#689537" title="(x$1: Int)Boolean">pos</a> == <span title="Int(-1)">-</span><span class="int">1</span>) <span title="Unit">{</span>
      //Console.err.println(&quot;NOPOS: &quot; + term)
      //Thread.dumpStack()
    }
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#689536" title="(x$1: AnyRef)Boolean">term</a> != <a href="../symtab/Symbols.scala.html#26134" title="object SemanticTokens.this.compiler.NoSymbol">NoSymbol</a>) {
      <span class="keyword">val</span> <a title="java.lang.String" id="691148">name</a> = <span title="object scala.util.NameTransformer">NameTransformer</span>.<span title="(name0: String)String">decode</span>(<a href="#689536" title="SemanticTokens.this.compiler.Symbol">term</a>.<a href="../symtab/Symbols.scala.html#26988" title="=&gt; SemanticTokens.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28205" title="()String">toString</a>).<span title="()java.lang.String">trim</span>()
      <span class="keyword">val</span> <a title="Array[Char]" id="691149">buf</a> = <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>].<a href="../util/SourceFile.scala.html#121002" title="=&gt; Array[Char]">content</a>
      <span class="keyword">val</span> <a title="Array[Char]" id="691150">cs</a> = <a href="../symtab/Names.scala.html#26054" title="implicit scala.tools.nsc.symtab.Names.view : (s: String)SemanticTokens.this.compiler.Name">name</a>.<a href="../symtab/Names.scala.html#28204" title="=&gt; Array[Char]">toChars</a>
      <span class="keyword">var</span> <a title="Int" id="691151">idx</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">if</span> (<a href="#691150" title="Array[Char]">cs</a>.<span title="(x$1: Int)Int">length</span> <span title="(x$1: Int)Boolean">+</span> <a href="#689537" title="Int">pos</a> &gt; <a href="#691149" title="Array[Char]">buf</a>.<span title="=&gt; Int">length</span>) <span title="Nothing" class="keyword">return</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">while</span> (<a href="#691151" title="(x$1: Int)Boolean">idx</a> &lt; <a href="#691150" title="Array[Char]">cs</a>.<span title="=&gt; Int">length</span>) {
        <a href="#691184" title="Unit" class="keyword">if</a> (<a href="#691149" title="(i: Int)Char">buf</a><span title="(x$1: Char)Boolean">(</span><a href="#689537" title="(x$1: Int)Int">pos</a> + <a href="#691151" title="Int">idx</a>) != <a href="#691150" title="(i: Int)Char">cs</a>(<a href="#691151" title="Int">idx</a>)) {
          //Console.err.println(&quot;MISMATCH: &quot; + name + &quot;[&quot; + idx + &quot;] &quot; + unit.source.dbg(pos));
          //Thread.dumpStack();
          <span title="Nothing" class="keyword">return</span>;
        }
        <span class="keyword">else</span> <a href="#691151" title="Int">idx</a> = <a href="#691151" title="(x$1: Int)Int">idx</a> + <span title="Int(1)" class="int">1</span>;
      }
      <span title="Unit" class="keyword">if</span> (<a href="#691150" title="Array[Char]">cs</a>.<span title="(x$1: Int)Int">length</span> <span title="(x$1: Int)Int">+</span> <a href="#689537" title="Int">pos</a> <span title="(x$1: Int)Boolean">+</span> <span title="Int(1)" class="int">1</span> &lt; <a href="#691149" title="Array[Char]">buf</a>.<span title="=&gt; Int">length</span>) {
        <span title="Unit" class="keyword">if</span> (<a title="(x$1: Char)Boolean" id="1687">isJavaIdentifierPart</a>(<a href="#691149" title="(i: Int)Char">buf</a>(<a href="#689537" title="(x$1: Int)Int">pos</a> + <a href="#691150" title="Array[Char]">cs</a>.<span title="=&gt; Int">length</span>))) {
          //Console.err.println(&quot;MISMATCH: &quot; + name + &quot;[last] &quot; + unit.source.dbg(pos));
          <span title="Nothing" class="keyword">return</span>;
        }
      }
      <span class="keyword">try</span> {
        <a href="#689102" title="=&gt; Process.this.TokenList">list</a>.<a href="#689131" title="(offset: Int,tok: Process.this.Semantic)Unit">put</a>(<a href="#689537" title="Int">pos</a>, (<span title="Process.this.Semantic" class="keyword">if</span> (<a href="#689538" title="Boolean">isDef</a>) <span title="Process.this.Def" class="keyword">new</span> <a href="#689100" title="Process.this.Def">Def</a>(<a href="#689536" title="SemanticTokens.this.compiler.Symbol">term</a>) <span class="keyword">else</span> <span title="Process.this.Use" class="keyword">new</span> <a href="#689101" title="Process.this.Use">Use</a>(<a href="#689536" title="SemanticTokens.this.compiler.Symbol">term</a>, <a href="#689539" title="SemanticTokens.this.compiler.Type">tpe</a>)));
      } <span class="keyword">catch</span> {
        <span title="Unit" class="keyword">case</span> <a title="Error" id="691339">e</a> : <span title="Error">Error</span> =&gt; <a href="#691339" title="Error">e</a>.<a title="()Unit" id="25932">printStackTrace</a>();
      }
    }

  <span class="keyword">def</span> <a title="(tree: SemanticTokens.this.compiler.Select)Int" id="689114">selectPos</a>(<a title="SemanticTokens.this.compiler.Select" id="690124">tree</a>: <a href="../ast/Trees.scala.html#26728" title="SemanticTokens.this.compiler.Select">Select</a>): <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> (<a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="(x$1: AnyRef)Boolean">pos</a> == <a href="../util/Position.scala.html#14540" title="object scala.tools.nsc.util.NoPosition">NoPosition</a>) <span title="Int(-1)">-</span><span class="int">1</span> <span class="keyword">else</span> {
    <span class="keyword">val</span> <a title="Array[Char]" id="691359">buf</a> = <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<span title="[T0]T0">asInstanceOf</span><span title="scala.tools.nsc.util.BatchSourceFile">[</span><a href="../util/SourceFile.scala.html#14659" title="scala.tools.nsc.util.BatchSourceFile">BatchSourceFile</a>].<a href="../util/SourceFile.scala.html#121002" title="=&gt; Array[Char]">content</a>
    <span title="Unit" class="keyword">if</span> (<a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="(x$1: Int)Boolean">point</a> &gt;= <a href="#691359" title="Array[Char]">buf</a>.<span title="=&gt; Int">length</span>) {
      <span title="Unit" class="keyword">if</span> (<span title="Boolean(false)" class="keyword">false</span>) {
        <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;@&quot;)" class="string">&quot;@&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                           <a href="#689116" title="=&gt; SemanticTokens.this.compiler.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#45431" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#68207" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>.<a href="../io/AbstractFile.scala.html#51383" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#691359" title="Array[Char]">buf</a>.<span title="=&gt; Int">length</span> + <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span>);
        <a title="object java.lang.Thread" id="1828">Thread</a>.<a title="()Unit" id="130582">dumpStack</a>()
        <span title="Nothing" class="keyword">throw</span> <span title="java.lang.Error" class="keyword">new</span> <a title="java.lang.Error" id="7821">Error</a>()
      }
      <span title="Nothing" class="keyword">return</span> <span title="Int(0)" class="int">0</span>
    }

    <span class="keyword">val</span> <a title="Int" id="691360">pos</a> : <span title="Int">Int</span> =
      <span title="Int" class="keyword">if</span> (<a href="#691359" title="(i: Int)Char">buf</a><span title="(x$1: Char)Boolean">(</span><a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>) != <span title="Char('.')" class="char">'.'</span>) <a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="=&gt; Int">point</a>
      <span class="keyword">else</span> {
        <span class="keyword">def</span> <a title="(x: Int)Int" id="691420">f</a>(<a title="Int" id="691421">x</a> : <span title="Int">Int</span>) : <span title="Int">Int</span> = {
          <span title="Int" class="keyword">if</span> (<a href="#691359" title="(i: Int)Char">buf</a><span title="implicit scala.Predef.charWrapper : (c: Char)scala.runtime.RichChar">(</span><a href="#691421" title="Int">x</a>).<span title="=&gt; Boolean">isWhitespace</span>) <a href="#691420" title="(x: Int)Int">f</a>(<a href="#691421" title="(x$1: Int)Int">x</a> + <span title="Int(1)" class="int">1</span>)
          <span class="keyword">else</span> <a href="#691421" title="Int">x</a>
        }
        <a href="#691420" title="(x: Int)Int">f</a>(<a href="#690124" title="SemanticTokens.this.compiler.Select">tree</a>.<a href="../ast/Trees.scala.html#29361" title="=&gt; scala.tools.nsc.util.Position">pos</a>.<a href="../util/Position.scala.html#30286" title="(x$1: Int)Int">point</a> + <span title="Int(1)" class="int">1</span>)
      }
    <a href="#691360" title="Int">pos</a>
  };

  <span class="keyword">class</span> <a title="class TokenList extends java.lang.Object with ScalaObject" id="689115">TokenList</a> <span title="ScalaObject">{</span>
    <span class="keyword">object</span> <a title="object TokenList.this.begin" id="689125">begin</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688613" title="SemanticTokens.this.HasNext">HasNext</a> {
      <span class="keyword">def</span> <a title="=&gt; object TokenList.this.begin" id="691495">prev</a> = <span class="keyword">this</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="691496">length</a> = <span title="Int(0)" class="int">0</span>
    }
    <span class="keyword">object</span> <a title="object TokenList.this.end" id="689127">end</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#688614" title="SemanticTokens.this.HasPrev">HasPrev</a> {
      <span class="keyword">def</span> <a title="=&gt; object TokenList.this.end" id="691507">next</a> = <span class="keyword">this</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="691508">length</a> = <span title="Int(0)" class="int">0</span>
    }
    // initialize
    <a href="#689125" title="object TokenList.this.begin">begin</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#689127" title="object TokenList.this.end">end</a>
    <a href="#689127" title="object TokenList.this.end">end</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#689125" title="object TokenList.this.begin">begin</a>

    <span class="keyword">def</span> <a title="(offset: Int)Process.this.Semantic" id="689129">tokenAt</a>(<a title="Int" id="691522">offset</a>: <span title="Int">Int</span>) = {
      <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691534" title="(soffset: Int)Unit">seek</a>(<a href="#691522" title="Int">offset</a>)
      <span title="Process.this.Semantic" class="keyword">if</span> (<a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#689099" title="Process.this.Semantic">Semantic</a>]) <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]T0">asInstanceOf</span><span title="Process.this.Semantic">[</span><a href="#689099" title="Process.this.Semantic">Semantic</a>]
      <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
    }

    <span class="keyword">def</span> <a title="(offset: Int,tok: SemanticTokens.this.Actual)Unit" id="689130">put</a>(<a title="Int" id="689451">offset</a>: <span title="Int">Int</span>, <a title="SemanticTokens.this.Actual" id="689452">tok</a>: <a href="#688615" title="SemanticTokens.this.Actual">Actual</a>): <span title="Unit">Unit</span> = <a href="#689452" title="SemanticTokens.this.Actual">tok</a> <span title="Unit" class="keyword">match</span> {
      <span title="Unit" class="keyword">case</span> <a title="Process.this.Semantic" id="691540">tok0</a>: <a href="#689099" title="Process.this.Semantic">Semantic</a> =&gt; <a href="#689131" title="(offset: Int,tok: Process.this.Semantic)Unit">put</a>(<a href="#689451" title="Int">offset</a>, <a href="#691540" title="Process.this.Semantic">tok0</a>)
      <span title="Unit" class="keyword">case</span> <a title="SemanticTokens.this.Gap" id="691548">gap</a>: <a href="#688616" title="SemanticTokens.this.Gap">Gap</a>      =&gt;
    }

    <span class="keyword">def</span> <a title="(offset: Int,tok: Process.this.Semantic)Unit" id="689131">put</a>(<a title="Int" id="689448">offset</a>: <span title="Int">Int</span>, <a title="Process.this.Semantic" id="689449">tok</a>: <a href="#689099" title="Process.this.Semantic">Semantic</a>) {
      <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691534" title="(soffset: Int)Unit">seek</a>(<a href="#689448" title="Int">offset</a>);
      <span title="Unit" class="keyword">if</span> (<a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="(x$1: AnyRef)Boolean">token</a> == <a href="#689127" title="object TokenList.this.end">end</a>) {
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#689448" title="(x$1: Int)Boolean">offset</a> &gt;= <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a>);
        <span title="Unit" class="keyword">if</span> (<a href="#689448" title="(x$1: Int)Boolean">offset</a> &gt; <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a>) {
          // add a gap.
          <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="691574">gap</a> = <a href="#688902" title="(prev1: SemanticTokens.this.HasNext)SemanticTokens.this.Gap" class="keyword">new</a> <a href="#688616" title="SemanticTokens.this.Gap">Gap</a>(<a href="#689127" title="object TokenList.this.end">end</a>.<a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>);
          <a href="#691574" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#689448" title="(x$1: Int)Int">offset</a> - <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a>);
          <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Unit">offset</a> = <a href="#689448" title="Int">offset</a>;
        }
        // append.
        <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688893" title="(prev1: SemanticTokens.this.HasNext)Unit">insert</a>(<a href="#689127" title="object TokenList.this.end">end</a>.<a href="#688691" title="=&gt; SemanticTokens.this.HasNext">prev</a>);
        <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Unit">offset</a> = <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Int">offset</a> + <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>]) {
        <span class="keyword">val</span> <a title="Process.this.Semantic" id="691628">sem</a> = <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]T0">asInstanceOf</span><span title="Process.this.Semantic">[</span><a href="#689099" title="Process.this.Semantic">Semantic</a>];
        <span title="Unit" class="keyword">if</span> (<a href="#691628" title="Process.this.Semantic">sem</a>.<a href="#689240" title="(x$1: AnyRef)Boolean">symbol</a> == <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>) <span title="Nothing" class="keyword">return</span>;
        <span title="Unit" class="keyword">if</span> (<a href="#691628" title="Process.this.Semantic">sem</a>.<a href="#689240" title="(x$1: AnyRef)Boolean">symbol</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span>
            <a href="#691628" title="Process.this.Semantic">sem</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<span title="()java.lang.Class[_]">getClass</span><span title="(x$1: AnyRef)Boolean">(</span>) == <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<span title="()java.lang.Class[_]">getClass</span>() &amp;&amp;
            <a href="#691628" title="Process.this.Semantic">sem</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26847" title="(x$1: AnyRef)Boolean">pos</a> == <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689240" title="=&gt; SemanticTokens.this.compiler.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#26847" title="=&gt; scala.tools.nsc.util.Position">pos</a>) <span title="Nothing" class="keyword">return</span>;
      } <span class="keyword">else</span> {
        <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="691665">gap</a> = <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.Gap">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>];
        <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span>(<a href="#689448" title="(x$1: Int)Int">offset</a> <span title="(x$1: Int)Int">-</span> <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a> <span title="(x$1: Int)Boolean">+</span> <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a> &lt;= <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="=&gt; Int">length</a>)) {
          <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;LIST  =&quot;</span> + <a href="#689115" title="Process.this.TokenList" class="keyword">this</a>);
          <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;OFFSET=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689448" title="Int">offset</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689449" title="Process.this.Semantic">tok</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a>);
          <span title="object Console">Console</span>.<span title="=&gt; java.io.PrintStream">err</span>.<span title="(x$1: java.lang.String)Unit">println</span>(<span title="(x$1: Any)java.lang.String" class="string">&quot;       &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="=&gt; Int">length</a>);
          <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688905" title="(x$1: Int)Unit">length0</a> = <a href="#689448" title="(x$1: Int)Int">offset</a> <span title="(x$1: Int)Int">-</span> <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a> + <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a>
          //throw new Error();
        }
        <span title="Unit" class="keyword">if</span> (<a href="#689448" title="(x$1: Int)Boolean">offset</a> == <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a>) {
          // replace or prepend
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688689" title="=&gt; SemanticTokens.this.HasNext">prev0</a>;
          <span title="Unit" class="keyword">if</span> (<a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="(x$1: Int)Boolean">length</a> == <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="=&gt; Int">length</a>) { // replace gap
            <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688682" title="=&gt; SemanticTokens.this.HasPrev">next0</a>;
          } <span class="keyword">else</span> {
            <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> - <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a>);
            <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#691665" title="SemanticTokens.this.Gap">gap</a>;
          }
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688682" title="=&gt; SemanticTokens.this.HasPrev">next0</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#689449" title="Process.this.Semantic">tok</a>;
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688689" title="=&gt; SemanticTokens.this.HasNext">prev0</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#689449" title="Process.this.Semantic">tok</a>;
          <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="(x$1: SemanticTokens.this.Token)Unit">token</a> = <a href="#689449" title="Process.this.Semantic">tok</a>;
        } <span class="keyword">else</span> {
          // append
          <span class="keyword">val</span> <a title="Int" id="691796">diff</a> = <span title="(x$1: Int)Int">(</span><a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Int">offset</a> + <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="=&gt; Int">length</a>) - (<a href="#689448" title="(x$1: Int)Int">offset</a> + <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a>);

          <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> <span title="(x$1: Int)Int">-</span> <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#689189" title="=&gt; Int">length</a> - <a href="#691796" title="Int">diff</a>);
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#691665" title="SemanticTokens.this.Gap">gap</a>;
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#691665" title="SemanticTokens.this.Gap">gap</a>.<a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>;
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688682" title="=&gt; SemanticTokens.this.HasPrev">next0</a>.<a href="#688689" title="(x$1: SemanticTokens.this.HasNext)Unit">prev0</a> = <a href="#689449" title="Process.this.Semantic">tok</a>;
          <a href="#689449" title="Process.this.Semantic">tok</a>.<a href="#688689" title="=&gt; SemanticTokens.this.HasNext">prev0</a>.<a href="#688682" title="(x$1: SemanticTokens.this.HasPrev)Unit">next0</a> = <a href="#689449" title="Process.this.Semantic">tok</a>;
          <span title="Unit" class="keyword">if</span> (<a href="#691796" title="(x$1: Int)Boolean">diff</a> != <span title="Int(0)" class="int">0</span>) {
            <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="691855">gap0</a> = <a href="#688902" title="(prev1: SemanticTokens.this.HasNext)SemanticTokens.this.Gap" class="keyword">new</a> <a href="#688616" title="SemanticTokens.this.Gap">Gap</a>(<a href="#689449" title="Process.this.Semantic">tok</a>);
            <a href="#691855" title="SemanticTokens.this.Gap">gap0</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#691796" title="Int">diff</a>);
          }
        }
      }
    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="689132">toString</a>(): <a title="String" id="1605">String</a> = {
      <span class="keyword">var</span> <a title="SemanticTokens.this.HasPrev" id="691863">node</a> = <a href="#689125" title="object TokenList.this.begin">begin</a>.<a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>
      <span class="keyword">var</span> <a title="java.lang.String" id="691864">str</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span title="Unit" class="keyword">while</span> (<a href="#691863" title="(x$1: AnyRef)Boolean">node</a> != <a href="#689127" title="object TokenList.this.end">end</a>) <a href="#691865" title="()Unit">{</a>
        <a href="#691864" title="java.lang.String">str</a> = <a href="#691864" title="(x$1: Any)java.lang.String">str</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> + <a href="#691863" title="SemanticTokens.this.HasPrev">node</a>
        <a href="#691863" title="SemanticTokens.this.HasPrev">node</a> = <a href="#691863" title="SemanticTokens.this.HasPrev">node</a>.<a href="#688672" title="=&gt; SemanticTokens.this.HasPrev">next</a>
      }
      <a href="#691864" title="java.lang.String">str</a>
    }

    <span class="keyword">object</span> <a title="object TokenList.this.cursor" id="689133">cursor</a> <span title="ScalaObject">{</span>
      <span class="keyword">var</span> <a title="SemanticTokens.this.Token" id="691527">token</a>: <a href="#688610" title="SemanticTokens.this.Token">Token</a> = <a href="#689127" title="object TokenList.this.end">end</a>
      <span class="keyword">var</span> <a title="Int" id="691530">offset</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

      <span class="keyword">def</span> <a title="=&gt; Unit" id="691532">next</a>: <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<a href="#691527" title="(x$1: AnyRef)Boolean">token</a> == <a href="#689127" title="object TokenList.this.end">end</a>) <a href="#689127" title="object TokenList.this.end">end</a> <span class="keyword">else</span> {
        <a href="#691530" title="(x$1: Int)Unit">offset</a> = <a href="#691530" title="(x$1: Int)Int">offset</a> + <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688670" title="=&gt; Int">length</a>
        <a href="#691527" title="(x$1: SemanticTokens.this.Token)Unit">token</a>  = <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688672" title="=&gt; SemanticTokens.this.HasPrev">next</a>
      }
      <span class="keyword">def</span> <a title="=&gt; Unit" id="691533">prev</a>: <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688671" title="(x$1: AnyRef)Boolean">prev</a> == <a href="#689125" title="object TokenList.this.begin">begin</a>) <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a> <span class="keyword">else</span> {
        <a href="#691530" title="(x$1: Int)Unit">offset</a> = <a href="#691530" title="(x$1: Int)Int">offset</a> - <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688671" title="=&gt; SemanticTokens.this.HasNext">prev</a>.<a href="#688670" title="=&gt; Int">length</a>
        <a href="#691527" title="(x$1: SemanticTokens.this.Token)Unit">token</a> = <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688671" title="=&gt; SemanticTokens.this.HasNext">prev</a>
      }
      <span class="keyword">def</span> <a title="(soffset: Int)Unit" id="691534">seek</a>(<a title="Int" id="691536">soffset</a>: <span title="Int">Int</span>): <span title="Unit">Unit</span> = <span title="Unit" class="keyword">if</span> (<a href="#691536" title="(x$1: Int)Boolean">soffset</a> == <span title="Int(0)" class="int">0</span>) {
        <a href="#691527" title="(x$1: SemanticTokens.this.Token)Unit">token</a> = <a href="#689125" title="object TokenList.this.begin">begin</a>.<a href="#688684" title="=&gt; SemanticTokens.this.HasPrev">next</a>
        <a href="#691530" title="(x$1: Int)Unit">offset</a> = <span title="Int(0)" class="int">0</span>
      } <span class="keyword">else</span> {
        <span title="(assertion: Boolean)Unit">assert</span>(<a href="#691536" title="(x$1: Int)Boolean">soffset</a> &gt; <span title="Int(0)" class="int">0</span>)
        <span title="Unit" class="keyword">while</span> (<a href="#691530" title="(x$1: Int)Boolean">offset</a>                &gt;  <a href="#691536" title="Int">soffset</a>) <a href="#691533" title="=&gt; Unit">prev</a>;
        <span title="Unit" class="keyword">while</span> (<a href="#691530" title="(x$1: Int)Int">offset</a> <span title="(x$1: Int)Boolean">+</span> <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688670" title="=&gt; Int">length</a> <span title="(x$1: Boolean)Boolean">&lt;=</span> <a href="#691536" title="Int">soffset</a> &amp;&amp; <a href="#691527" title="(x$1: AnyRef)Boolean">token</a> != <a href="#689127" title="object TokenList.this.end">end</a>) <a href="#691977" title="()Unit">{</a>
          <span class="keyword">val</span> <a title="Int" id="691999">len0</a> = <a href="#691530" title="=&gt; Int">offset</a>;
          <a href="#691532" title="=&gt; Unit">next</a>;
        }
      }
      <span class="keyword">def</span> <a title="=&gt; Unit" id="691535">convertToGap</a> = <span title="Unit" class="keyword">if</span> (<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]Boolean">isInstanceOf</span><span title="Boolean">[</span><a href="#688615" title="SemanticTokens.this.Actual">Actual</a>]) {
        <span class="keyword">val</span> <a title="(Int, SemanticTokens.this.Actual)" id="692005">ret</a> = <a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.Actual">[</span><a href="#688615" title="SemanticTokens.this.Actual">Actual</a>].<a href="#688892" title="=&gt; (Int, SemanticTokens.this.Actual)">convertToGap</a>;
        <a href="#691530" title="(x$1: Int)Unit">offset</a>  = <a href="#691530" title="(x$1: Int)Int">offset</a> - <a href="#692005" title="(Int, SemanticTokens.this.Actual)">ret</a>.<a title="=&gt; Int" id="36432">_1</a>;
        <a href="#691527" title="(x$1: SemanticTokens.this.Token)Unit">token</a>   = <a href="#692005" title="(Int, SemanticTokens.this.Actual)">ret</a>.<a title="=&gt; SemanticTokens.this.Actual" id="36434">_2</a>;
      }
    }

    // add or delete characters
    <span class="keyword">def</span> <a title="(offset: Int,length: Int,to: Int)Unit" id="689135">adjust</a>(<a title="Int" id="692032">offset</a>: <span title="Int">Int</span>, /* where */
               <a title="Int" id="692033">length</a>: <span title="Int">Int</span>, /* how many characters are modified */
               <a title="Int" id="692034">to</a>    : <span title="Int">Int</span>  /* length of new string */) = {
      <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691534" title="(soffset: Int)Unit">seek</a>(<a href="#692032" title="Int">offset</a>)
      <span title="Unit" class="keyword">if</span> (<a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="(x$1: AnyRef)Boolean">token</a> != <a href="#689127" title="object TokenList.this.end">end</a>) {
        <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691535" title="=&gt; Unit">convertToGap</a>
        <span title="Unit" class="keyword">while</span> (<a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Int">offset</a> <span title="(x$1: Int)Boolean">+</span> <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688670" title="=&gt; Int">length</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#692032" title="(x$1: Int)Int">offset</a> + <a href="#692033" title="Int">length</a> &amp;&amp; <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<a href="#688672" title="(x$1: AnyRef)Boolean">next</a> != <a href="#689127" title="object TokenList.this.end">end</a>) <a href="#692046" title="()Unit">{</a>
          <span class="keyword">val</span> <a title="Int" id="692074">save</a> = <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="=&gt; Int">offset</a>
          <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691532" title="=&gt; Unit">next</a>
          <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691535" title="=&gt; Unit">convertToGap</a>
          <span title="(assertion: Boolean)Unit">assert</span>(<a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691530" title="(x$1: Int)Boolean">offset</a> == <a href="#692074" title="Int">save</a>)
        }
         <span title="Unit" class="keyword">if</span> (<a href="#692033" title="(x$1: Int)Boolean">length</a> <span title="(x$1: Boolean)Boolean">!=</span> <a href="#692034" title="Int">to</a> &amp;&amp; <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="(x$1: AnyRef)Boolean">token</a> != <a href="#689127" title="object TokenList.this.end">end</a>) {
           <span class="keyword">val</span> <a title="Int" id="692103">diff</a> = <a href="#692034" title="(x$1: Int)Int">to</a> - <a href="#692033" title="Int">length</a>;
           <span class="keyword">val</span> <a title="SemanticTokens.this.Gap" id="692104">gap</a> = <a href="#689133" title="object TokenList.this.cursor">cursor</a>.<a href="#691527" title="=&gt; SemanticTokens.this.Token">token</a>.<span title="[T0]T0">asInstanceOf</span><span title="SemanticTokens.this.Gap">[</span><a href="#688616" title="SemanticTokens.this.Gap">Gap</a>];
           <a href="#692104" title="SemanticTokens.this.Gap">gap</a>.<a href="#688908" title="(length1: Int)Unit">setLength</a>(<a href="#692104" title="SemanticTokens.this.Gap">gap</a>.<a href="#688907" title="(x$1: Int)Int">length</a> + <a href="#692103" title="Int">diff</a>);
         };
      }
    }

  } // TokenList

  }
}


        </pre>
    </body>
</html>