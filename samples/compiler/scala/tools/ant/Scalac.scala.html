<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/tools/ant/Scalac.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala Ant Tasks                      **
**    / __/ __// _ | / /  / _ |    (c) 2005-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: Scalac.scala 17916 2009-05-30 07:36:31Z rytz $

<span class="keyword">package</span> scala.tools.ant

<span class="keyword">import</span> java.io.{File,PrintWriter,BufferedWriter,FileWriter}

<span class="keyword">import</span> org.apache.tools.ant.{ BuildException, Project, AntClassLoader }
<span class="keyword">import</span> org.apache.tools.ant.taskdefs.{MatchingTask,Java}
<span class="keyword">import</span> org.apache.tools.ant.types.{Path, Reference, FileSet}
<span class="keyword">import</span> org.apache.tools.ant.util.{FileUtils, GlobPatternMapper,
                                  SourceFileScanner}

<span class="keyword">import</span> scala.tools.nsc.{Global, Settings}
<span class="keyword">import</span> scala.tools.nsc.reporters.{Reporter, ConsoleReporter}

/** &lt;p&gt;
 *    An Ant task to compile with the new Scala compiler (NSC).
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This task can take the following parameters as attributes:
 *  &lt;/p&gt;
 *  &lt;ul style=&quot;font-family:Courier;&quot;&gt;
 *    &lt;li&gt;srcdir (mandatory),&lt;/li&gt;
 *    &lt;li&gt;srcref,&lt;/li&gt;
 *    &lt;li&gt;destdir,&lt;/li&gt;
 *    &lt;li&gt;classpath,&lt;/li&gt;
 *    &lt;li&gt;classpathref,&lt;/li&gt;
 *    &lt;li&gt;sourcepath,&lt;/li&gt;
 *    &lt;li&gt;sourcepathref,&lt;/li&gt;
 *    &lt;li&gt;bootclasspath,&lt;/li&gt;
 *    &lt;li&gt;bootclasspathref,&lt;/li&gt;
 *    &lt;li&gt;extdirs,&lt;/li&gt;
 *    &lt;li&gt;extdirsref,&lt;/li&gt;
 *    &lt;li&gt;encoding,&lt;/li&gt;
 *    &lt;li&gt;target,&lt;/li&gt;
 *    &lt;li&gt;force,&lt;/li&gt;
 *    &lt;li&gt;fork,&lt;/li&gt; 
 *    &lt;li&gt;logging,&lt;/li&gt;
 *    &lt;li&gt;logphase,&lt;/li&gt;
 *    &lt;li&gt;debuginfo,&lt;/li&gt;
 *    &lt;li&gt;addparams,&lt;/li&gt;
 *    &lt;li&gt;scalacdebugging,&lt;/li&gt;
 *    &lt;li&gt;deprecation,&lt;/li&gt;
 *    &lt;li&gt;optimise,&lt;/li&gt;
 *    &lt;li&gt;unchecked,&lt;/li&gt;
 *    &lt;li&gt;failonerror,&lt;/li&gt;
 *    &lt;li&gt;scalacdebugging,&lt;/li&gt;
 *    &lt;li&gt;assemname,&lt;/li&gt;
 *    &lt;li&gt;assemrefs.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It also takes the following parameters as nested elements:
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;src (for srcdir),&lt;/li&gt;
 *    &lt;li&gt;classpath,&lt;/li&gt;
 *    &lt;li&gt;sourcepath,&lt;/li&gt;
 *    &lt;li&gt;bootclasspath,&lt;/li&gt;
 *    &lt;li&gt;extdirs.&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * @author Gilles Dubochet, Stephane Micheloud
 */
<span class="keyword">class</span> <a title="class Scalac extends org.apache.tools.ant.taskdefs.MatchingTask with ScalaObject" id="11319">Scalac</a> <span title="ScalaObject" class="keyword">extends</span> <a title="org.apache.tools.ant.taskdefs.MatchingTask" id="33246">MatchingTask</a> {

  /** The unique Ant file utilities instance to use in this task. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="org.apache.tools.ant.util.FileUtils" id="59021">fileUtils</a> = <a title="object org.apache.tools.ant.util.FileUtils" id="34203">FileUtils</a>.<a title="()org.apache.tools.ant.util.FileUtils" id="34825">newFileUtils</a>()

/*============================================================================*\
**                             Ant user-properties                            **
\*============================================================================*/

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class PermissibleValue extends java.lang.Object with ScalaObject" id="59023">PermissibleValue</a> <span title="ScalaObject">{</span>
    <span class="keyword">val</span> <a title="=&gt; List[String]" id="703399">values</a>: <span title="List[String]">List</span>[String]
    <span class="keyword">def</span> <a title="(value: String)Boolean" id="703400">isPermissible</a>(<a title="String" id="703404">value</a>: <span title="String">String</span>): <span title="Boolean">Boolean</span> =
      <span title="(x$1: Boolean)Boolean">(</span><a href="#703404" title="(x$1: AnyRef)Boolean">value</a> == <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) || <a href="#703399" title="=&gt; List[String]">values</a>.<a title="(p: (String) =&gt; Boolean)Boolean" id="28937">exists</a>(<a href="#703416" title="String">_</a>.<a title="(x$1: java.lang.String)Boolean" id="6973">startsWith</a>(<a href="#703404" title="String">value</a>))
  }

  /** Defines valid values for the logging property. */
  <span class="keyword">object</span> <a title="object Scalac.this.LoggingLevel" id="59024">LoggingLevel</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#59023" title="Scalac.this.PermissibleValue">PermissibleValue</a> {
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="703426">values</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;none&quot;)" class="string">&quot;none&quot;</span>, <span title="java.lang.String(&quot;verbose&quot;)" class="string">&quot;verbose&quot;</span>, <span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span>)
  }

  /** Defines valid values for properties that refer to compiler phases. */
  <span class="keyword">object</span> <a title="object Scalac.this.CompilerPhase" id="59026">CompilerPhase</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#59023" title="Scalac.this.PermissibleValue">PermissibleValue</a> {
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="703441">values</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>, <span title="java.lang.String(&quot;typer&quot;)" class="string">&quot;typer&quot;</span>, <span title="java.lang.String(&quot;pickler&quot;)" class="string">&quot;pickler&quot;</span>, <span title="java.lang.String(&quot;uncurry&quot;)" class="string">&quot;uncurry&quot;</span>, <span title="java.lang.String(&quot;tailcalls&quot;)" class="string">&quot;tailcalls&quot;</span>,
                      <span title="java.lang.String(&quot;transmatch&quot;)" class="string">&quot;transmatch&quot;</span>, <span title="java.lang.String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>, <span title="java.lang.String(&quot;erasure&quot;)" class="string">&quot;erasure&quot;</span>, <span title="java.lang.String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>,
                      <span title="java.lang.String(&quot;flatten&quot;)" class="string">&quot;flatten&quot;</span>, <span title="java.lang.String(&quot;constructors&quot;)" class="string">&quot;constructors&quot;</span>, <span title="java.lang.String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>, <span title="java.lang.String(&quot;icode&quot;)" class="string">&quot;icode&quot;</span>, <span title="java.lang.String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>,
                      <span title="java.lang.String(&quot;terminal&quot;)" class="string">&quot;terminal&quot;</span>)
  }

  /** Defines valid values for the &lt;code&gt;target&lt;/code&gt; property. */
  <span class="keyword">object</span> <a title="object Scalac.this.Target" id="59028">Target</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#59023" title="Scalac.this.PermissibleValue">PermissibleValue</a> {
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="703456">values</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;jvm-1.5&quot;)" class="string">&quot;jvm-1.5&quot;</span>, <span title="java.lang.String(&quot;msil&quot;)" class="string">&quot;msil&quot;</span>)
  }

  /** Defines valid values for the &lt;code&gt;deprecation&lt;/code&gt; and
   *  &lt;code&gt;unchecked&lt;/code&gt; properties. */
  <span class="keyword">object</span> <a title="object Scalac.this.Flag" id="59030">Flag</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#59023" title="Scalac.this.PermissibleValue">PermissibleValue</a> {
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="703471">values</a> = <span title="(xs: java.lang.String*)List[java.lang.String]">List</span>(<span title="java.lang.String(&quot;yes&quot;)" class="string">&quot;yes&quot;</span>, <span title="java.lang.String(&quot;no&quot;)" class="string">&quot;no&quot;</span>, <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>, <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>)
    <span class="keyword">def</span> <a title="(flag: String)Option[Boolean]" id="703473">toBoolean</a>(<a title="String" id="703486">flag</a>: <span title="String">String</span>) =
      <span title="Option[Boolean]" class="keyword">if</span> (<a href="#703486" title="(x$1: AnyRef)Boolean">flag</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="java.lang.String(&quot;yes&quot;)" class="string">&quot;yes&quot;</span> || <a href="#703486" title="(x$1: AnyRef)Boolean">flag</a> == <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>) <span title="(x: Boolean)Some[Boolean]">Some</span>(<span title="Boolean(true)" class="keyword">true</span>)
      <span class="keyword">else</span> <span title="Option[Boolean]" class="keyword">if</span> (<a href="#703486" title="(x$1: AnyRef)Boolean">flag</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="java.lang.String(&quot;no&quot;)" class="string">&quot;no&quot;</span> || <a href="#703486" title="(x$1: AnyRef)Boolean">flag</a> == <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>) <span title="(x: Boolean)Some[Boolean]">Some</span>(<span title="Boolean(false)" class="keyword">false</span>)
      <span class="keyword">else</span> <span title="object None">None</span>
  }

  /** The directories that contain source files to compile. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59033">origin</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>
  /** The directory to put the compiled files in. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[java.io.File]" id="59036">destination</a>: <span title="Option[java.io.File]">Option</span>[File] = <span title="object None">None</span>

  /** The class path to use for this compilation. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59039">classpath</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>
  /** The source path to use for this compilation. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59042">sourcepath</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>
  /** The boot class path to use for this compilation. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59045">bootclasspath</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>
  /** The path to use when finding scalac - *only used for forking!*  */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59048">compilerPath</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>
  /** The external extensions path to use for this compilation. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="59051">extdirs</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <span title="object None">None</span>

  /** The character encoding of the files to compile. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59054">encoding</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>

  // the targetted backend
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59057">backend</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>

  /** Whether to force compilation of all files or not. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="59060">force</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  /** Whether to fork the execution of scalac */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="59063">fork</a> : <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  /** If forking, these are the arguments to the JVM */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59066">jvmArgs</a> : <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
  /** How much logging output to print. Either none (default),
    * verbose or debug. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59069">logging</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
  /** Which compilation phases should be logged during compilation. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="List[String]" id="59072">logPhase</a>: <span title="List[String]">List</span>[String] = <span title="object Nil">Nil</span>

  /** Instruct the compiler to generate debugging information */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59075">debugInfo</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
  /** Instruct the compiler to use additional parameters */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="String" id="59078">addParams</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  /** Instruct the compiler to generate deprecation information. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="59081">deprecation</a>: <span title="Option[Boolean]">Option</span>[Boolean] = <span title="object None">None</span>
  /** Instruct the compiler to run optimizations. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="59084">optimise</a>: <span title="Option[Boolean]">Option</span>[Boolean] = <span title="object None">None</span>
  /** Instruct the compiler to generate unchecked information. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="59087">unchecked</a>: <span title="Option[Boolean]">Option</span>[Boolean] = <span title="object None">None</span>
  /** Indicates whether compilation errors will fail the build; defaults to true. */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="59090">failonerror</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span>

  // Name of the output assembly (only relevant with -target:msil)
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59093">assemname</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>
  // List of assemblies referenced by the program (only relevant with -target:msil)
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="59096">assemrefs</a>: <span title="Option[String]">Option</span>[String] = <span title="object None">None</span>

  /** Prints out the files being compiled by the scalac ant task
   *  (not only the number of files). */
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="59099">scalacDebugging</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  
  /** Helpers */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]" id="59101">setOrAppend</a>(<a title="Option[org.apache.tools.ant.types.Path]" id="703550">old</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path], <a title="org.apache.tools.ant.types.Path" id="703551">arg</a>: <span title="org.apache.tools.ant.types.Path">Path</span>): <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path] = <a href="#703550" title="Option[org.apache.tools.ant.types.Path]">old</a> <span title="Option[org.apache.tools.ant.types.Path]" class="keyword">match</span> {
    <span title="Some[org.apache.tools.ant.types.Path]" class="keyword">case</span> Some(<a title="org.apache.tools.ant.types.Path" id="703554">x</a>)  =&gt; <a href="#703554" title="(x$1: org.apache.tools.ant.types.Path)Unit" id="35120">x</a> append <a href="#703551" title="org.apache.tools.ant.types.Path">arg</a> ; <span title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</span>(<a href="#703554" title="org.apache.tools.ant.types.Path">x</a>)
    <span title="Some[org.apache.tools.ant.types.Path]" class="keyword">case</span> <span title="object None">None</span>     =&gt; <span title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</span>(<a href="#703551" title="org.apache.tools.ant.types.Path">arg</a>)
  }
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]" id="59102">pathAsList</a>(<a title="Option[org.apache.tools.ant.types.Path]" id="703569">p</a>: <span title="Option[org.apache.tools.ant.types.Path]">Option</span>[Path], <a title="String" id="703570">name</a>: <span title="String">String</span>): <span title="List[java.io.File]">List</span>[File] = <a href="#703569" title="Option[org.apache.tools.ant.types.Path]">p</a> <span title="List[java.io.File]" class="keyword">match</span> {
    <span title="Nothing" class="keyword">case</span> <span title="object None">None</span>     =&gt; <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Member '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703570" title="String">name</a> + <span title="java.lang.String(&quot;' is empty.&quot;)" class="string">&quot;' is empty.&quot;</span>)
    <span title="List[java.io.File]" class="keyword">case</span> Some(<a title="org.apache.tools.ant.types.Path" id="703579">x</a>)  =&gt; <a href="#703579" title="org.apache.tools.ant.types.Path">x</a>.<span title="()Array[java.lang.String]">list</span>.<span title="(f: (java.lang.String) =&gt; java.io.File)(implicit bf: scala.collection.generic.BuilderFactory[java.io.File,List[java.io.File],List[java.lang.String]])List[java.io.File]">toList</span> <span title="scala.collection.generic.BuilderFactory[java.io.File,List[java.io.File],List#Coll]">map</span> <a href="#59148" title="(name: String)java.io.File">nameToFile</a>
  }
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path" id="59103">createNewPath</a>(<a title="() =&gt; Option[org.apache.tools.ant.types.Path]" id="703620">getter</a>: () =&gt; Option[Path], <a title="(Option[org.apache.tools.ant.types.Path]) =&gt; Unit" id="703621">setter</a>: (Option[Path]) =&gt; Unit) = {
    <span title="Unit" class="keyword">if</span> (<a href="#703620" title="()Option[org.apache.tools.ant.types.Path]">getter</a>().<span title="=&gt; Boolean">isEmpty</span>)
      <a href="#703621" title="(v1: Option[org.apache.tools.ant.types.Path])Unit" id="25529">setter</a>(<span title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</span>(<span title="(x$1: org.apache.tools.ant.Project)org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span>(<a href="#11319" title="()org.apache.tools.ant.Project">getProject</a>())))
 
    <a href="#703620" title="()Option[org.apache.tools.ant.types.Path]">getter</a>().<span title="=&gt; org.apache.tools.ant.types.Path">get</span>.<a title="()org.apache.tools.ant.types.Path" id="35119">createPath</a>()
  }
      
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[Any])java.lang.String" id="59104">plural</a>(<a title="List[Any]" id="703652">xs</a>: <span title="List[Any]">List</span>[Any]) = <span title="java.lang.String" class="keyword">if</span> (<a href="#703652" title="List[Any]">xs</a>.<a title="(x$1: Int)Boolean" id="25548">size</a> &gt; <span title="Int(1)" class="int">1</span>) <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Int)java.lang.String" id="59105">plural</a>(<a title="Int" id="703662">x</a>: <a title="Int" id="2177">Int</a>) = <span title="java.lang.String" class="keyword">if</span> (<a href="#703662" title="(x$1: Int)Boolean">x</a> &gt; <span title="Int(1)" class="int">1</span>) <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

/*============================================================================*\
**                             Properties setters                             **
\*============================================================================*/


  /** Sets the srcdir attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;origin&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59106">setSrcdir</a>(<a title="org.apache.tools.ant.types.Path" id="703672">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span>) {
    <a href="#59033" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">origin</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>, <a href="#703672" title="org.apache.tools.ant.types.Path">input</a>)
  }

  /** Sets the &lt;code&gt;origin&lt;/code&gt; as a nested src Ant parameter.
   *  @return An origin path to be configured. */
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="59107">createSrc</a>(): <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703681">p</a> =&gt; <a href="#59033" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">origin</a> = <a href="#703681" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;origin&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to an origin path. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59108">setSrcref</a>(<a title="org.apache.tools.ant.types.Reference" id="703686">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) =
    <a href="#59107" title="()org.apache.tools.ant.types.Path">createSrc</a>().<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703686" title="org.apache.tools.ant.types.Reference">input</a>)

  /** Sets the &lt;code&gt;destdir&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;destination&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: java.io.File)Unit" id="59109">setDestdir</a>(<a title="java.io.File" id="703694">input</a>: <span title="java.io.File">File</span>) { <a href="#59036" title="(x$1: Option[java.io.File])Unit">destination</a> = <span title="(x: java.io.File)Some[java.io.File]">Some</span>(<a href="#703694" title="java.io.File">input</a>) }

  /** Sets the &lt;code&gt;classpath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;classpath&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59110">setClasspath</a>(<a title="org.apache.tools.ant.types.Path" id="703703">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span>) {
    <a href="#59039" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">classpath</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59039" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>, <a href="#703703" title="org.apache.tools.ant.types.Path">input</a>)
  }
  /** Sets the &lt;code&gt;compilerPath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;compilerPath&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59111">setCompilerPath</a>(<a title="org.apache.tools.ant.types.Path" id="703709">input</a> : <span title="org.apache.tools.ant.types.Path">Path</span>) {
    <a href="#59048" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">compilerPath</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59048" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>, <a href="#703709" title="org.apache.tools.ant.types.Path">input</a>)
  }
  
  <span class="keyword">def</span> <a title="=&gt; org.apache.tools.ant.types.Path" id="59112">createCompilerPath</a>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59048" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703719">p</a> =&gt; <a href="#59048" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">compilerPath</a> = <a href="#703719" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;compilerpathref&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;compilerpathref&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59113">setCompilerPathRef</a>(<a title="org.apache.tools.ant.types.Reference" id="703724">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) {
    <a href="#59112" title="=&gt; org.apache.tools.ant.types.Path">createCompilerPath</a>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703724" title="org.apache.tools.ant.types.Reference">input</a>)
  }

  /** Sets the &lt;code&gt;classpath&lt;/code&gt; as a nested classpath Ant parameter.
   *  @return A class path to be configured. */
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="59114">createClasspath</a>(): <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59039" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703732">p</a> =&gt; <a href="#59039" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">classpath</a> = <a href="#703732" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;classpath&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to a class path. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59115">setClasspathref</a>(<a title="org.apache.tools.ant.types.Reference" id="703737">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) {
    <a href="#59114" title="()org.apache.tools.ant.types.Path">createClasspath</a>().<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703737" title="org.apache.tools.ant.types.Reference">input</a>)
  }

  /** Sets the &lt;code&gt;sourcepath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;sourcepath&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59116">setSourcepath</a>(<a title="org.apache.tools.ant.types.Path" id="703744">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span>) {
    <a href="#59042" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">sourcepath</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59042" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>, <a href="#703744" title="org.apache.tools.ant.types.Path">input</a>)
  }

  /** Sets the &lt;code&gt;sourcepath&lt;/code&gt; as a nested sourcepath Ant parameter.
   *  @return A source path to be configured. */
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="59117">createSourcepath</a>(): <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59042" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703753">p</a> =&gt; <a href="#59042" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">sourcepath</a> = <a href="#703753" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;sourcepath&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to a source path. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59118">setSourcepathref</a>(<a title="org.apache.tools.ant.types.Reference" id="703758">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) {
    <a href="#59117" title="()org.apache.tools.ant.types.Path">createSourcepath</a>().<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703758" title="org.apache.tools.ant.types.Reference">input</a>)
  }

  /** Sets the boot classpath attribute. Used by Ant.
   *
   *  @param input The value of &lt;code&gt;bootclasspath&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59119">setBootclasspath</a>(<a title="org.apache.tools.ant.types.Path" id="703765">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span>) {
    <a href="#59045" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">bootclasspath</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59045" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>, <a href="#703765" title="org.apache.tools.ant.types.Path">input</a>)
  }

  /** Sets the &lt;code&gt;bootclasspath&lt;/code&gt; as a nested sourcepath Ant
   *  parameter.
   *  @return A source path to be configured. */
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="59120">createBootclasspath</a>(): <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59045" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703774">p</a> =&gt; <a href="#59045" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">bootclasspath</a> = <a href="#703774" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;bootclasspath&lt;/code&gt; as an external reference Ant
   *  parameter.
   *  @param input A reference to a source path. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59121">setBootclasspathref</a>(<a title="org.apache.tools.ant.types.Reference" id="703779">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) =
    <a href="#59120" title="()org.apache.tools.ant.types.Path">createBootclasspath</a>().<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703779" title="org.apache.tools.ant.types.Reference">input</a>)

  /** Sets the external extensions path attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;extdirs&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="59122">setExtdirs</a>(<a title="org.apache.tools.ant.types.Path" id="703787">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span>) =
    <a href="#59051" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">extdirs</a> = <a href="#59101" title="(old: Option[org.apache.tools.ant.types.Path],arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a>(<a href="#59051" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>, <a href="#703787" title="org.apache.tools.ant.types.Path">input</a>)

  /** Sets the &lt;code&gt;extdirs&lt;/code&gt; as a nested sourcepath Ant parameter.
   *  @return An extensions path to be configured. */
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="59123">createExtdirs</a>(): <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#59103" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path],setter: (Option[org.apache.tools.ant.types.Path]) =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a>(<a href="#59051" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="703797">p</a> =&gt; <a href="#59051" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">extdirs</a> = <a href="#703797" title="Option[org.apache.tools.ant.types.Path]">p</a>)

  /** Sets the &lt;code&gt;extdirs&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to an extensions path. */
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="59124">setExtdirsref</a>(<a title="org.apache.tools.ant.types.Reference" id="703802">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span>) =
    <a href="#59123" title="()org.apache.tools.ant.types.Path">createExtdirs</a>().<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span>(<a href="#703802" title="org.apache.tools.ant.types.Reference">input</a>)

  /** Sets the &lt;code&gt;encoding&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;encoding&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59125">setEncoding</a>(<a title="String" id="703810">input</a>: <span title="String">String</span>): <span title="Unit">Unit</span> =
    <a href="#59054" title="(x$1: Option[String])Unit">encoding</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#703810" title="String">input</a>)

  /** Sets the &lt;code&gt;target&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;target&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59126">setTarget</a>(<a title="String" id="703819">input</a>: <span title="String">String</span>): <span title="Unit">Unit</span> =
    <span title="Unit" class="keyword">if</span> (<a href="#59028" title="object Scalac.this.Target">Target</a>.<a href="#703400" title="(value: String)Boolean">isPermissible</a>(<a href="#703819" title="String">input</a>)) <a href="#59057" title="(x$1: Option[String])Unit">backend</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#703819" title="String">input</a>)
    <span class="keyword">else</span> <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown target '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703819" title="String">input</a> + <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)

  /** Sets the &lt;code&gt;force&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;force&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="59127">setForce</a>(<a title="Boolean" id="703836">input</a>: <span title="Boolean">Boolean</span>) { <a href="#59060" title="(x$1: Boolean)Unit">force</a> = <a href="#703836" title="Boolean">input</a> }
  
  /** Sets the &lt;code&gt;fork&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;fork&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="59128">setFork</a>(<a title="Boolean" id="703840">input</a> : <span title="Boolean">Boolean</span>) { <a href="#59063" title="(x$1: Boolean)Unit">fork</a> = <a href="#703840" title="Boolean">input</a> }
  /**
   * Sets the &lt;code&gt;jvmargs&lt;/code&gt; attribute.  Used by Ant.
   * @param input The value for &lt;code&gt;jvmargs&lt;/code&gt;
   */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59129">setJvmargs</a>(<a title="String" id="703844">input</a> : <span title="String">String</span>) {
    <a href="#59066" title="(x$1: Option[String])Unit">jvmArgs</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#703844" title="String">input</a>)
  }
  
  /** Sets the logging level attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;logging&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59130">setLogging</a>(<a title="String" id="703853">input</a>: <span title="String">String</span>) {
    <span title="Unit" class="keyword">if</span> (<a href="#59024" title="object Scalac.this.LoggingLevel">LoggingLevel</a>.<a href="#703400" title="(value: String)Boolean">isPermissible</a>(<a href="#703853" title="String">input</a>)) <a href="#59069" title="(x$1: Option[String])Unit">logging</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#703853" title="String">input</a>)
    <span class="keyword">else</span> <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Logging level '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703853" title="String">input</a> + <span title="java.lang.String(&quot;' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span>)
  }

  /** Sets the &lt;code&gt;logphase&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;logPhase&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59131">setLogPhase</a>(<a title="String" id="703870">input</a>: <span title="String">String</span>) {
    <a href="#59072" title="(x$1: List[String])Unit">logPhase</a> = <a href="#703870" title="String">input</a>.<a title="(x$1: java.lang.String)Array[java.lang.String]" id="7043">split</a>(<span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>).<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(f: (java.lang.String) =&gt; Traversable[java.lang.String])(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[String],List[java.lang.String]])List[String]">flatMap</span> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">{</span> s: <span title="String">String</span> =&gt;
      <span class="keyword">val</span> <a title="java.lang.String" id="703885">st</a> = <a href="#703884" title="String">s</a>.<a title="()java.lang.String" id="7051">trim</a>()
      <span title="List[java.lang.String]" class="keyword">if</span> (<a href="#59026" title="object Scalac.this.CompilerPhase">CompilerPhase</a>.<a href="#703400" title="(value: String)Boolean">isPermissible</a>(<a href="#703885" title="java.lang.String">st</a>))
        (<span title="List[java.lang.String]" class="keyword">if</span> (<a href="#703870" title="(x$1: AnyRef)Boolean" id="6540">input</a> != <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>) <span title="(xs: java.lang.String*)List[java.lang.String]">List</span>(<a href="#703885" title="java.lang.String">st</a>) <span class="keyword">else</span> <span title="object Nil">Nil</span>)
      <span class="keyword">else</span> {
        <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703885" title="java.lang.String">st</a> + <span title="java.lang.String(&quot; in log does not exist.&quot;)" class="string">&quot; in log does not exist.&quot;</span>)
        <span title="object Nil">Nil</span>
      }
    }
  }

  /** Set the &lt;code&gt;debug&lt;/code&gt; info attribute.
   *  @param input The value for &lt;code&gt;debug&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59132">setDebuginfo</a>(<a title="String" id="703923">input</a>: <span title="String">String</span>) { <a href="#59075" title="(x$1: Option[String])Unit">debugInfo</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#703923" title="String">input</a>) }

  /** Set the &lt;code&gt;addparams&lt;/code&gt; info attribute.
   *  @param input The value for &lt;code&gt;addparams&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59133">setAddparams</a>(<a title="String" id="703932">input</a>: <span title="String">String</span>) { <a href="#59078" title="(x$1: String)Unit">addParams</a> = <a href="#703932" title="String">input</a> }

  /** Set the &lt;code&gt;deprecation&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59134">setDeprecation</a>(<a title="String" id="703936">input</a>: <span title="String">String</span>) {
    <a href="#59081" title="(x$1: Option[Boolean])Unit">deprecation</a> = <a href="#703473" title="(flag: String)Option[Boolean]">Flag</a> <span title="(alternative: =&gt; Option[Boolean])Option[Boolean]">toBoolean</span> <a href="#703936" title="String">input</a> orElse <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown deprecation flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703936" title="String">input</a> + <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
  }

  /** Set the &lt;code&gt;optimise&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59135">setOptimise</a>(<a title="String" id="703955">input</a>: <span title="String">String</span>) {
    <a href="#59084" title="(x$1: Option[Boolean])Unit">optimise</a> = <a href="#703473" title="(flag: String)Option[Boolean]">Flag</a> <span title="(alternative: =&gt; Option[Boolean])Option[Boolean]">toBoolean</span> <a href="#703955" title="String">input</a> orElse <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown optimisation flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703955" title="String">input</a> + <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
  }

  /** Set the &lt;code&gt;unchecked&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59136">setUnchecked</a>(<a title="String" id="703974">input</a>: <span title="String">String</span>) {
    <a href="#59087" title="(x$1: Option[Boolean])Unit">unchecked</a> = <a href="#703473" title="(flag: String)Option[Boolean]">Flag</a> <span title="(alternative: =&gt; Option[Boolean])Option[Boolean]">toBoolean</span> <a href="#703974" title="String">input</a> orElse <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Unknown unchecked flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#703974" title="String">input</a> + <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
  }

  /** Sets the &lt;code&gt;force&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;force&lt;/code&gt;. */
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="59137">setFailonerror</a>(<a title="Boolean" id="703993">input</a>: <span title="Boolean">Boolean</span>) { <a href="#59090" title="(x$1: Boolean)Unit">failonerror</a> = <a href="#703993" title="Boolean">input</a> }

  /** Set the &lt;code&gt;scalacdebugging&lt;/code&gt; info attribute. If set to
   *  &lt;code&gt;true&lt;/code&gt;, the scalac ant task will print out the filenames
   *  being compiled.
   *  @param input The specified flag */
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="59138">setScalacdebugging</a>(<a title="Boolean" id="703997">input</a>: <span title="Boolean">Boolean</span>) { <a href="#59099" title="(x$1: Boolean)Unit">scalacDebugging</a> = <a href="#703997" title="Boolean">input</a> }

  <span class="keyword">def</span> <a title="(input: String)Unit" id="59139">setAssemname</a>(<a title="String" id="704001">input</a>: <span title="String">String</span>) { <a href="#59093" title="(x$1: Option[String])Unit">assemname</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#704001" title="String">input</a>) }
  <span class="keyword">def</span> <a title="(input: String)Unit" id="59140">setAssemrefs</a>(<a title="String" id="704010">input</a>: <span title="String">String</span>) { <a href="#59096" title="(x$1: Option[String])Unit">assemrefs</a> = <span title="(x: String)Some[String]">Some</span>(<a href="#704010" title="String">input</a>) }

/*============================================================================*\
**                             Properties getters                             **
\*============================================================================*/

  /** Gets the value of the &lt;code&gt;classpath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The class path as a list of files. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="59141">getClasspath</a>: <span title="List[java.io.File]">List</span>[File] = <a href="#59102" title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]">pathAsList</a>(<a href="#59039" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>, <span title="java.lang.String(&quot;classpath&quot;)" class="string">&quot;classpath&quot;</span>)

  /** Gets the value of the &lt;code&gt;origin&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The origin path as a list of files. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="59142">getOrigin</a>: <span title="List[java.io.File]">List</span>[File] = <a href="#59102" title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]">pathAsList</a>(<a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>, <span title="java.lang.String(&quot;origin&quot;)" class="string">&quot;origin&quot;</span>)

  /** Gets the value of the &lt;code&gt;destination&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The destination as a file. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="59143">getDestination</a>: <span title="java.io.File">File</span> =
    <span title="java.io.File" class="keyword">if</span> (<a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#59152" title="(message: String)Nothing">error</a>(<span title="java.lang.String(&quot;Member 'destination' is empty.&quot;)" class="string">&quot;Member 'destination' is empty.&quot;</span>)
    <span class="keyword">else</span> <a href="#59149" title="(file: java.io.File)java.io.File">existing</a>(<a href="#11319" title="()org.apache.tools.ant.Project">getProject</a>().<span title="(x$1: java.lang.String)java.io.File">resolveFile</span>(<a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; java.io.File">get</span>.<span title="()java.lang.String">toString</span>))

  /** Gets the value of the &lt;code&gt;sourcepath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The source path as a list of files. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="59144">getSourcepath</a>: <span title="List[java.io.File]">List</span>[File] = <a href="#59102" title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]">pathAsList</a>(<a href="#59042" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>, <span title="java.lang.String(&quot;sourcepath&quot;)" class="string">&quot;sourcepath&quot;</span>)

  /** Gets the value of the &lt;code&gt;bootclasspath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The boot class path as a list of files. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="59145">getBootclasspath</a>: <span title="List[java.io.File]">List</span>[File] = <a href="#59102" title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]">pathAsList</a>(<a href="#59045" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>, <span title="java.lang.String(&quot;bootclasspath&quot;)" class="string">&quot;bootclasspath&quot;</span>)

  /** Gets the value of the &lt;code&gt;extdirs&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The extensions path as a list of files. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="59146">getExtdirs</a>: <span title="List[java.io.File]">List</span>[File] = <a href="#59102" title="(p: Option[org.apache.tools.ant.types.Path],name: String)List[java.io.File]">pathAsList</a>(<a href="#59051" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>, <span title="java.lang.String(&quot;extdirs&quot;)" class="string">&quot;extdirs&quot;</span>)

/*============================================================================*\
**                       Compilation and support methods                      **
\*============================================================================*/

  /** Transforms a string name into a file relative to the provided base
   *  directory.
   *  @param base A file pointing to the location relative to which the name
   *              will be resolved.
   *  @param name A relative or absolute path to the file as a string.
   *  @return     A file created from the name and the base file. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: java.io.File)(name: String)java.io.File" id="59147">nameToFile</a>(<a title="java.io.File" id="703596">base</a>: <span title="java.io.File">File</span>)(<a title="String" id="703597">name</a>: <span title="String">String</span>): <span title="java.io.File">File</span> =
    <a href="#59149" title="(file: java.io.File)java.io.File">existing</a>(<a href="#59021" title="=&gt; org.apache.tools.ant.util.FileUtils">fileUtils</a>.<a title="(x$1: java.io.File,x$2: java.lang.String)java.io.File" id="34921">resolveFile</a>(<a href="#703596" title="java.io.File">base</a>, <a href="#703597" title="String">name</a>))

  /** Transforms a string name into a file relative to the build root
   *  directory.
   *  @param name A relative or absolute path to the file as a string.
   *  @return     A file created from the name. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String)java.io.File" id="59148">nameToFile</a>(<a title="String" id="703594">name</a>: <span title="String">String</span>): <span title="java.io.File">File</span> =
    <a href="#59149" title="(file: java.io.File)java.io.File">existing</a>(<a href="#11319" title="()org.apache.tools.ant.Project">getProject</a>().<span title="(x$1: java.lang.String)java.io.File">resolveFile</span>(<a href="#703594" title="String">name</a>))

  /** Tests if a file exists and prints a warning in case it doesn't. Always
   *  returns the file, even if it doesn't exist.
   *  @param file A file to test for existance.
   *  @return     The same file. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(file: java.io.File)java.io.File" id="59149">existing</a>(<a title="java.io.File" id="704031">file</a>: <span title="java.io.File">File</span>): <span title="java.io.File">File</span> = {
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#704031" title="java.io.File">file</a>.<a title="()Boolean" id="35192">exists</a>())
      <a href="#11319" title="(x$1: java.lang.String,x$2: Int)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Element '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#704031" title="java.io.File">file</a>.<span title="()java.lang.String">toString</span> + <span title="java.lang.String(&quot;' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span>,
          Project.<span title="Int(1)">MSG_WARN</span>)
    <a href="#704031" title="java.io.File">file</a>
  }

  /** Transforms a path into a Scalac-readable string.
   *  @param path A path to convert.
   *  @return     A string-representation of the path like &lt;code&gt;a.jar:b.jar&lt;/code&gt;. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(path: List[java.io.File])String" id="59150">asString</a>(<a title="List[java.io.File]" id="704095">path</a>: <span title="List[java.io.File]">List</span>[File]): <span title="String">String</span> =
    <a href="#704095" title="List[java.io.File]">path</a>.<span title="(f: (java.io.File) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,List[String],List[java.io.File]])List[String]">map</span><span title="scala.collection.generic.BuilderFactory[String,List[String],List#Coll]">(</span><a href="#59151" title="(file: java.io.File)String">asString</a>).<span title="(sep: String)String">mkString</span>(<span title="object java.io.File">File</span>.<a title="java.lang.String" id="35166">pathSeparator</a>)

  /** Transforms a file into a Scalac-readable string.
   *  @param path A file to convert.
   *  @return     A string-representation of the file like &lt;code&gt;/x/k/a.scala&lt;/code&gt;. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(file: java.io.File)String" id="59151">asString</a>(<a title="java.io.File" id="704107">file</a>: <span title="java.io.File">File</span>): <span title="String">String</span> =
    <a href="#704107" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span>()

  /** Generates a build error. Error location will be the current task in the  
   *  ant file.
   *  @param message         A message describing the error.
   *  @throws BuildException A build error exception thrown in every case. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(message: String)Nothing" id="59152">error</a>(<a title="String" id="60334">message</a>: <span title="String">String</span>): <a title="Nothing" id="3622">Nothing</a> =
    <span title="Nothing" class="keyword">throw</span> <a title="(x$1: java.lang.String,x$2: org.apache.tools.ant.Location)org.apache.tools.ant.BuildException" id="36622" class="keyword">new</a> <a title="org.apache.tools.ant.BuildException" id="32935">BuildException</a>(<a href="#60334" title="String">message</a>, <a href="#11319" title="()org.apache.tools.ant.Location" id="34484">getLocation</a>())


/*============================================================================*\
**                      Hooks for variants of Scala                           **
\*============================================================================*/

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(error: (String) =&gt; Unit)scala.tools.nsc.Settings" id="59153">newSettings</a>(<a title="(String) =&gt; Unit" id="704218">error</a>: String=&gt;Unit): <a href="../nsc/Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a> =
    <span title="scala.tools.nsc.Settings" class="keyword">new</span> <a href="../nsc/Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a>(<a href="#704218" title="(String) =&gt; Unit">error</a>)
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings,reporter: scala.tools.nsc.reporters.Reporter)scala.tools.nsc.Global" id="59154">newGlobal</a>(<a title="scala.tools.nsc.Settings" id="704224">settings</a>: <a href="../nsc/Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="704225">reporter</a>: <a href="../nsc/reporters/Reporter.scala.html#13075" title="scala.tools.nsc.reporters.Reporter">Reporter</a>) =
    <span title="scala.tools.nsc.Global" class="keyword">new</span> <a href="../nsc/Global.scala.html#8460" title="scala.tools.nsc.Global">Global</a>(<a href="#704224" title="scala.tools.nsc.Settings">settings</a>, <a href="#704225" title="scala.tools.nsc.reporters.Reporter">reporter</a>)


/*============================================================================*\
**                           The big execute method                           **
\*============================================================================*/

  /** Initializes settings and source files */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (scala.tools.nsc.Settings, List[java.io.File], Boolean)" id="59155">initialize</a>: <a title="(scala.tools.nsc.Settings, List[java.io.File], Boolean)" id="395">(</a>Settings, List[File], Boolean) = {
    // Tests if all mandatory attributes are set and valid.
    <span title="Unit" class="keyword">if</span> (<a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#59152" title="(message: String)Nothing">error</a>(<span title="java.lang.String(&quot;Attribute 'srcdir' is not set.&quot;)" class="string">&quot;Attribute 'srcdir' is not set.&quot;</span>)
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; java.io.File">get</span>.<a title="()Boolean" id="35193">isDirectory</a>())
      <a href="#59152" title="(message: String)Nothing">error</a>(<span title="java.lang.String(&quot;Attribute 'destdir' does not refer to an existing directory.&quot;)" class="string">&quot;Attribute 'destdir' does not refer to an existing directory.&quot;</span>)
    <span title="Unit" class="keyword">if</span> (<a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#59036" title="(x$1: Option[java.io.File])Unit">destination</a> = <span title="(x: java.io.File)Some[java.io.File]">Some</span>(<a href="#59142" title="=&gt; List[java.io.File]">getOrigin</a>.<a title="=&gt; java.io.File" id="25443">head</a>)

    <span class="keyword">val</span> <a title="org.apache.tools.ant.util.GlobPatternMapper" id="704243">mapper</a> = <span title="org.apache.tools.ant.util.GlobPatternMapper" class="keyword">new</span> <a title="org.apache.tools.ant.util.GlobPatternMapper" id="34265">GlobPatternMapper</a>()
    <a href="#704243" title="(x$1: java.lang.String)Unit" id="36781">mapper</a> setTo <span title="java.lang.String(&quot;*.class&quot;)" class="string">&quot;*.class&quot;</span>
    <a href="#704243" title="(x$1: java.lang.String)Unit" id="36779">mapper</a> setFrom <span title="java.lang.String(&quot;*.scala&quot;)" class="string">&quot;*.scala&quot;</span>
    
    <span class="keyword">var</span> <a title="Boolean" id="704244">javaOnly</a> = <span title="Boolean(true)" class="keyword">true</span>
    
    <span class="keyword">def</span> <a title="(originDir: java.io.File)List[java.lang.String]" id="704245">getOriginFiles</a>(<a title="java.io.File" id="704278">originDir</a>: <span title="java.io.File">File</span>) = {
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="704279">includedFiles</a> = <a href="#11319" title="(x$1: java.io.File)org.apache.tools.ant.DirectoryScanner" id="34534">getDirectoryScanner</a>(<a href="#704278" title="java.io.File">originDir</a>).<a title="()Array[java.lang.String]" id="36394">getIncludedFiles</a>()
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="704280">javaFiles</a> = <a href="#704279" title="(p: (java.lang.String) =&gt; Boolean)Array[java.lang.String]">includedFiles</a> filter (<a href="#704290" title="(x$1: java.lang.String)Boolean">_</a> endsWith <span title="java.lang.String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span>)
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="704281">scalaFiles</a> = {
        <span class="keyword">val</span> <a title="Array[java.lang.String]" id="704295">xs</a> = <a href="#704279" title="(p: (java.lang.String) =&gt; Boolean)Array[java.lang.String]">includedFiles</a> filter (<a href="#704298" title="(x$1: java.lang.String)Boolean">_</a> endsWith <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span>)
        <span title="Array[java.lang.String]" class="keyword">if</span> (<a href="#59060" title="=&gt; Boolean">force</a>) <a href="#704295" title="Array[java.lang.String]">xs</a>
        <span class="keyword">else</span> <span title="org.apache.tools.ant.util.SourceFileScanner" class="keyword">new</span> <a title="org.apache.tools.ant.util.SourceFileScanner" id="34151">SourceFileScanner</a>(<a href="#11319" title="scala.tools.ant.Scalac" class="keyword">this</a>).<a title="(x$1: Array[java.lang.String],x$2: java.io.File,x$3: java.io.File,x$4: org.apache.tools.ant.util.FileNameMapper)Array[java.lang.String]" id="176056">restrict</a>(<a href="#704295" title="Array[java.lang.String]">xs</a>, <a href="#704278" title="java.io.File">originDir</a>, <a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; java.io.File">get</span>, <a href="#704243" title="org.apache.tools.ant.util.GlobPatternMapper">mapper</a>)
      }

      <a href="#704244" title="Boolean">javaOnly</a> = <a href="#704244" title="(x$1: Boolean)Boolean">javaOnly</a> &amp;&amp; (<a href="#704281" title="Array[java.lang.String]">scalaFiles</a>.<a title="(x$1: Int)Boolean" id="2952">length</a> == <span title="Int(0)" class="int">0</span>)
      <span class="keyword">val</span> <a title="List[java.lang.String]" id="704282">list</a> = (<a href="#704281" title="(that: Traversable[java.lang.String])(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,Array[java.lang.String],Array[java.lang.String]])Array[java.lang.String]" id="25233">scalaFiles</a> <a title="scala.collection.generic.BuilderFactory[java.lang.String,Array[java.lang.String],Array[_]]" id="888">++</a> <a href="#704280" title="Array[java.lang.String]">javaFiles</a>).<span title="=&gt; List[java.lang.String]">toList</span>
      
      <span title="Unit" class="keyword">if</span> (<a href="#59099" title="(x$1: Boolean)Boolean">scalacDebugging</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#704282" title="List[java.lang.String]">list</a>.<span title="=&gt; Boolean">isEmpty</span>)
        <a href="#11319" title="(x$1: java.lang.String)Unit">log</a>(<span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;Compiling source file%s: %s to %s&quot;</span>.<span title="(args: Any*)String">format</span>(
          <a href="#59104" title="(xs: List[Any])java.lang.String">plural</a>(<a href="#704282" title="List[java.lang.String]">list</a>),
          <a href="#704282" title="List[java.lang.String]">list</a>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>),
          <a href="#59143" title="=&gt; java.io.File">getDestination</a>.<span title="()java.lang.String">toString</span>
        ))
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#704282" title="List[java.lang.String]">list</a>.<span title="=&gt; Boolean">isEmpty</span>) {
        <span class="keyword">val</span> <a title="String" id="704501">str</a> =
          <span title="String" class="keyword">if</span> (<a href="#704280" title="Array[java.lang.String]">javaFiles</a>.<a title="=&gt; Boolean" id="25732">isEmpty</a>) <span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;%d source file%s&quot;</span>.<span title="(args: Any*)String">format</span>(<a href="#704282" title="List[java.lang.String]">list</a>.<a title="=&gt; Int" id="28928">length</a>, <a href="#59104" title="(xs: List[Any])java.lang.String">plural</a>(<a href="#704282" title="List[java.lang.String]">list</a>))
          <span class="keyword">else</span> <span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;%d scala and %d java source files&quot;</span>.<span title="(args: Any*)String">format</span>(<a href="#704281" title="Array[java.lang.String]">scalaFiles</a>.<span title="=&gt; Int">length</span>, <a href="#704280" title="Array[java.lang.String]">javaFiles</a>.<span title="=&gt; Int">length</span>)
        <a href="#11319" title="(x$1: java.lang.String)Unit">log</a>(<span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;Compiling %s to %s&quot;</span>.<span title="(args: Any*)String">format</span>(<a href="#704501" title="String">str</a>, <a href="#59143" title="=&gt; java.io.File">getDestination</a>.<span title="()java.lang.String">toString</span>))
      }
      <span class="keyword">else</span> <a href="#11319" title="(x$1: java.lang.String,x$2: Int)Unit">log</a>(<span title="java.lang.String(&quot;No files selected for compilation&quot;)" class="string">&quot;No files selected for compilation&quot;</span>, Project.<span title="Int(3)">MSG_VERBOSE</span>)
      
      <a href="#704282" title="List[java.lang.String]">list</a>
    }
    
    // Scans source directories to build up a compile lists.
    // If force is false, only files were the .class file in destination is
    // older than the .scala file will be used.
    <span class="keyword">val</span> <a title="List[java.io.File]" id="704246">sourceFiles</a>: <span title="List[java.io.File]">List</span>[File] =
      <span class="keyword">for</span> (<a title="java.io.File" id="704599">originDir</a> &lt;- <a href="#59142" title="(f: (java.io.File) =&gt; Traversable[java.io.File])(implicit bf: scala.collection.generic.BuilderFactory[java.io.File,List[java.io.File],List[java.io.File]])List[java.io.File]">getOrigin</a> ; <a title="java.lang.String" id="704610">originFile</a> &lt;- <a href="#704245" title="(originDir: java.io.File)List[java.lang.String]">getOriginFiles</a><span title="(f: (java.lang.String) =&gt; java.io.File)(implicit bf: scala.collection.generic.BuilderFactory[java.io.File,List[java.io.File],List[java.lang.String]])List[java.io.File]">(</span><a href="#704599" title="java.io.File">originDir</a>)) <span class="keyword">yield</span> {
        <a href="#11319" title="(x$1: java.lang.String,x$2: Int)Unit">log</a>(<a href="#704610" title="java.lang.String">originFile</a>, Project.<span title="Int(4)">MSG_DEBUG</span>)
        <a href="#59147" title="(base: java.io.File)(name: String)java.io.File">nameToFile</a>(<a href="#704599" title="java.io.File">originDir</a>)(<a href="#704610" title="java.lang.String">originFile</a>)
      }

    // Builds-up the compilation settings for Scalac with the existing Ant
    // parameters.
    <span class="keyword">val</span> <a title="scala.tools.nsc.Settings" id="704247">settings</a> = <a href="#59153" title="(error: (String) =&gt; Unit)scala.tools.nsc.Settings">newSettings</a>(<a href="#59152" title="(message: String)Nothing">error</a>)
    <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37038" title="=&gt; scala.tools.nsc.Settings.OutputSetting">outdir</a>.<a href="../nsc/Settings.scala.html#37750" title="(str: String)Unit">value</a> = <a href="#59151" title="(file: java.io.File)String">asString</a>(<a href="#59036" title="=&gt; Option[java.io.File]">destination</a>.<span title="=&gt; java.io.File">get</span>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59039" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37036" title="=&gt; scala.tools.nsc.Settings.StringSetting">classpath</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.classpath.T)Unit">value</a> = <a href="#59150" title="(path: List[java.io.File])String">asString</a>(<a href="#59141" title="=&gt; List[java.io.File]">getClasspath</a>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59042" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37062" title="=&gt; scala.tools.nsc.Settings.StringSetting">sourcepath</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.sourcepath.T)Unit">value</a> = <a href="#59150" title="(path: List[java.io.File])String">asString</a>(<a href="#59144" title="=&gt; List[java.io.File]">getSourcepath</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<span title="=&gt; org.apache.tools.ant.types.Path">get</span>.<a title="()Int" id="35137">size</a><span title="(x$1: Int)Boolean">(</span>) &gt; <span title="Int(0)" class="int">0</span>)
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37062" title="=&gt; scala.tools.nsc.Settings.StringSetting">sourcepath</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.sourcepath.T)Unit">value</a> = <a href="#59033" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<span title="=&gt; org.apache.tools.ant.types.Path">get</span>.<span title="()Array[java.lang.String]">list</span><a title="(i: Int)java.lang.String" id="24570">(</a>)(<span title="Int(0)" class="int">0</span>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59045" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>.<span title="=&gt; Boolean">isEmpty</span>)
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37034" title="=&gt; scala.tools.nsc.Settings.StringSetting">bootclasspath</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.bootclasspath.T)Unit">value</a> = <a href="#59150" title="(path: List[java.io.File])String">asString</a>(<a href="#59145" title="=&gt; List[java.io.File]">getBootclasspath</a>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59051" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37048" title="=&gt; scala.tools.nsc.Settings.StringSetting">extdirs</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.extdirs.T)Unit">value</a> = <a href="#59150" title="(path: List[java.io.File])String">asString</a>(<a href="#59146" title="=&gt; List[java.io.File]">getExtdirs</a>)
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59054" title="=&gt; Option[String]">encoding</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37044" title="=&gt; scala.tools.nsc.Settings.StringSetting">encoding</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.encoding.T)Unit">value</a> = <a href="#59054" title="=&gt; Option[String]">encoding</a>.<span title="=&gt; String">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59057" title="=&gt; Option[String]">backend</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37064" title="=&gt; scala.tools.nsc.Settings.ChoiceSetting">target</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.target.T)Unit">value</a> = <a href="#59057" title="=&gt; Option[String]">backend</a>.<span title="=&gt; String">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#59069" title="=&gt; Option[String]">logging</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#59069" title="=&gt; Option[String]">logging</a>.<span title="(x$1: AnyRef)Boolean">get</span> == <span title="java.lang.String(&quot;verbose&quot;)" class="string">&quot;verbose&quot;</span>)
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37070" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">verbose</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.verbose.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">!</span><a href="#59069" title="=&gt; Option[String]">logging</a>.<span title="=&gt; Boolean">isEmpty</span> &amp;&amp; <a href="#59069" title="=&gt; Option[String]">logging</a>.<span title="(x$1: AnyRef)Boolean">get</span> == <span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span>) {
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37070" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">verbose</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.verbose.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37150" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">debug</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.debug.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
    }
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59072" title="=&gt; List[String]">logPhase</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37158" title="=&gt; scala.tools.nsc.Settings.PhasesSetting">log</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.log.T)Unit">value</a> = <a href="#59072" title="=&gt; List[String]">logPhase</a>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59075" title="=&gt; Option[String]">debugInfo</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37050" title="=&gt; scala.tools.nsc.Settings.DebugSetting">debuginfo</a>.<a href="../nsc/Settings.scala.html#59675" title="(choice: String)Unit">value</a> = <a href="#59075" title="=&gt; Option[String]">debugInfo</a>.<span title="=&gt; String">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59081" title="=&gt; Option[Boolean]">deprecation</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37042" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">deprecation</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.deprecation.T)Unit">value</a> = <a href="#59081" title="=&gt; Option[Boolean]">deprecation</a>.<span title="=&gt; Boolean">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59084" title="=&gt; Option[Boolean]">optimise</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37058" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">XO</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.XO.T)Unit">value</a> = <a href="#59084" title="=&gt; Option[Boolean]">optimise</a>.<span title="=&gt; Boolean">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59087" title="=&gt; Option[Boolean]">unchecked</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37066" title="=&gt; scala.tools.nsc.Settings.BooleanSetting">unchecked</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.unchecked.T)Unit">value</a> = <a href="#59087" title="=&gt; Option[Boolean]">unchecked</a>.<span title="=&gt; Boolean">get</span>

    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59093" title="=&gt; Option[String]">assemname</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37076" title="=&gt; scala.tools.nsc.Settings.StringSetting">assemname</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.assemname.T)Unit">value</a> = <a href="#59093" title="=&gt; Option[String]">assemname</a>.<span title="=&gt; String">get</span>
    <span title="Unit" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><a href="#59096" title="=&gt; Option[String]">assemrefs</a>.<span title="=&gt; Boolean">isEmpty</span>) <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37078" title="=&gt; scala.tools.nsc.Settings.StringSetting">assemrefs</a>.<a href="../nsc/Settings.scala.html#37760" title="(arg: settings.assemrefs.T)Unit">value</a> = <a href="#59096" title="=&gt; Option[String]">assemrefs</a>.<span title="=&gt; String">get</span>

    <a href="#11319" title="(x$1: java.lang.String,x$2: Int)Unit">log</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Scalac params = '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#59078" title="=&gt; String">addParams</a> + <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>, Project.<span title="Int(4)">MSG_DEBUG</span>)
    <a href="#704247" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37217" title="(line: String)List[String]">parseParams</a>(<a href="#59078" title="=&gt; String">addParams</a>)
  
    <span title="(_1: scala.tools.nsc.Settings,_2: List[java.io.File],_3: Boolean)(scala.tools.nsc.Settings, List[java.io.File], Boolean)">(</span><a href="#704247" title="scala.tools.nsc.Settings">settings</a>, <a href="#704246" title="List[java.io.File]">sourceFiles</a>, <a href="#704244" title="Boolean">javaOnly</a>)
  }

  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="59156">execute</a>() {
    <span class="keyword">val</span> <a href="#32686" title="(scala.tools.nsc.Settings, List[java.io.File], Boolean)">(</a><a href="#704959" title="scala.tools.nsc.Settings" id="32686">settings</a>, <a href="#704959" title="List[java.io.File]" id="32688">sourceFiles</a>, <a href="#704959" title="Boolean" id="32690">javaOnly</a>) = <a href="#59155" title="=&gt; (scala.tools.nsc.Settings, List[java.io.File], Boolean)">initialize</a>
    <span title="Unit" class="keyword">if</span> (<a href="#32688" title="List[java.io.File]">sourceFiles</a>.<span title="(x$1: Boolean)Boolean">isEmpty</span> || <a href="#32690" title="Boolean">javaOnly</a>)
      <span title="Nothing" class="keyword">return</span>
      
    <span title="Unit" class="keyword">if</span> (<a href="#59063" title="=&gt; Boolean">fork</a>) <a href="#59157" title="(settings: scala.tools.nsc.Settings,sourceFiles: List[java.io.File])Unit">executeFork</a>(<a href="#32686" title="scala.tools.nsc.Settings">settings</a>, <a href="#32688" title="List[java.io.File]">sourceFiles</a>)  // TODO - Error
    <span class="keyword">else</span> <a href="#59158" title="(settings: scala.tools.nsc.Settings,sourceFiles: List[java.io.File])Unit">executeInternal</a>(<a href="#32686" title="scala.tools.nsc.Settings">settings</a>, <a href="#32688" title="List[java.io.File]">sourceFiles</a>)
  }
  
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings,sourceFiles: List[java.io.File])Unit" id="59157">executeFork</a>(<a title="scala.tools.nsc.Settings" id="704986">settings</a>: <a href="../nsc/Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a>, <a title="List[java.io.File]" id="704987">sourceFiles</a>: <span title="List[java.io.File]">List</span>[File]) {
      <span class="keyword">val</span> <a title="org.apache.tools.ant.taskdefs.Java" id="704996">java</a> = <a title="(x$1: org.apache.tools.ant.Task)org.apache.tools.ant.taskdefs.Java" id="176225" class="keyword">new</a> <a title="org.apache.tools.ant.taskdefs.Java" id="33645">Java</a>(<a href="#11319" title="scala.tools.ant.Scalac" class="keyword">this</a>)
      <a href="#704996" title="(x$1: Boolean)Unit" id="176309">java</a> setFork <span title="Boolean(true)" class="keyword">true</span>
      // using 'setLine' creates multiple arguments out of a space-separated string
      <a href="#59066" title="(f: (String) =&gt; Unit)Unit" id="35058">jvmArgs</a> foreach { <a href="#704996" title="org.apache.tools.ant.taskdefs.Java">java</a>.<a title="()org.apache.tools.ant.types.Commandline.Argument" id="176313">createJvmarg</a><a title="(x$1: java.lang.String)Unit" id="176444">(</a>) setLine <a href="#705010" title="String">_</a> }

      // use user-provided path or retrieve from classloader
      // TODO - Allow user to override the compiler classpath
      <span class="keyword">val</span> <a title="org.apache.tools.ant.types.Path" id="704997">scalacPath</a>: <span title="org.apache.tools.ant.types.Path">Path</span> = {
        <span class="keyword">val</span> <a title="org.apache.tools.ant.types.Path" id="705018">path</a> = <span title="(x$1: org.apache.tools.ant.Project)org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span>(<a href="#11319" title="()org.apache.tools.ant.Project">getProject</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#59048" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>.<a title="=&gt; Boolean" id="35042">isDefined</a>) <a href="#705018" title="(x$1: org.apache.tools.ant.types.Path)Unit">path</a> add <a href="#59048" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>.<span title="=&gt; org.apache.tools.ant.types.Path">get</span>
        <span class="keyword">else</span> <a href="#11319" title="()java.lang.Class[_]" id="3628">getClass</a>.<a title="()java.lang.ClassLoader" id="4110">getClassLoader</a> <span title="Unit" class="keyword">match</span> {
          <span title="Unit" class="keyword">case</span> <a title="org.apache.tools.ant.AntClassLoader" id="705044">cl</a>: <a title="org.apache.tools.ant.AntClassLoader" id="33046">AntClassLoader</a> =&gt; <a href="#705018" title="(x$1: org.apache.tools.ant.types.Path)Unit">path</a> add <span title="org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span>(<a href="#11319" title="()org.apache.tools.ant.Project">getProject</a>, <a href="#705044" title="org.apache.tools.ant.AntClassLoader">cl</a>.<a title="()java.lang.String" id="705091">getClasspath</a>)
          <span title="Nothing" class="keyword">case</span> _                  =&gt; <a href="#59152" title="(message: String)Nothing">error</a>(<span title="java.lang.String(&quot;Cannot determine default classpath for sclac, please specify one!&quot;)" class="string">&quot;Cannot determine default classpath for sclac, please specify one!&quot;</span>)
        }
        <a href="#705018" title="org.apache.tools.ant.types.Path">path</a>
      }
      
      <a href="#704996" title="(x$1: org.apache.tools.ant.types.Path)Unit" id="176234">java</a> setClasspath <a href="#704997" title="org.apache.tools.ant.types.Path">scalacPath</a>
      <a href="#704996" title="(x$1: java.lang.String)Unit" id="176243">java</a> setClassname <span title="java.lang.String(&quot;scala.tools.nsc.Main&quot;)" class="string">&quot;scala.tools.nsc.Main&quot;</span>

      // Write all settings to a temporary file
      <span class="keyword">def</span> <a title="()java.io.File" id="704998">writeSettings</a>() : <span title="java.io.File">File</span> = {
        <span class="keyword">def</span> <a title="(arg: String)java.lang.String" id="705214">escapeArgument</a>(<a title="String" id="705217">arg</a> : <span title="String">String</span>) = <span title="java.lang.String" class="keyword">if</span>(<a href="#705217" title="String">arg</a>.<a title="(x$1: java.lang.String)Boolean" id="7027">matches</a>(<span title="java.lang.String(&quot;.*\s.*&quot;)" class="string">&quot;.*\\s.*&quot;</span>)) (<a title="(x$1: java.lang.String)java.lang.String" id="2643" class="char">'&quot;'</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#705217" title="String">arg</a> + <span title="Char('&quot;')" class="char">'&quot;'</span>) <span class="keyword">else</span> <a href="#705217" title="String">arg</a>
        <span class="keyword">val</span> <a title="java.io.File" id="705215">file</a> = <span title="object java.io.File">File</span>.<a title="(x$1: java.lang.String,x$2: java.lang.String)java.io.File" id="35240">createTempFile</a>(<span title="java.lang.String(&quot;scalac-ant-&quot;)" class="string">&quot;scalac-ant-&quot;</span>,<span title="java.lang.String(&quot;.args&quot;)" class="string">&quot;.args&quot;</span>)
        <a href="#705215" title="java.io.File">file</a>.<a title="()Unit" id="35200">deleteOnExit</a>()
        <span class="keyword">val</span> <a title="java.io.PrintWriter" id="705216">out</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <a title="java.io.PrintWriter" id="3906">PrintWriter</a>(<span title="java.io.BufferedWriter" class="keyword">new</span> <a title="java.io.BufferedWriter" id="3957">BufferedWriter</a>(<a title="(x$1: java.io.File)java.io.FileWriter" id="133424" class="keyword">new</a> <a title="java.io.FileWriter" id="3753">FileWriter</a>(<a href="#705215" title="java.io.File">file</a>)))
        
        <span class="keyword">try</span> {
          <span class="keyword">for</span> (<a title="scala.tools.nsc.Settings.Setting" id="705287">setting</a> &lt;- <a href="#704986" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/Settings.scala.html#37028" title="(f: (scala.tools.nsc.Settings.Setting) =&gt; Unit)Unit">allSettings</a> ; <a title="String" id="705305">arg</a> &lt;- <a href="#705287" title="scala.tools.nsc.Settings.Setting">setting</a>.<a href="../nsc/Settings.scala.html#37708" title="(f: (String) =&gt; Unit)Unit">unparse</a>)
            <a href="#705216" title="(x$1: java.lang.String)Unit">out</a> println <a href="#705214" title="(arg: String)java.lang.String">escapeArgument</a>(<a href="#705305" title="String">arg</a>)
          <span class="keyword">for</span> (<a title="java.io.File" id="705336">file</a> &lt;- <a href="#704987" title="(f: (java.io.File) =&gt; Unit)Unit">sourceFiles</a>)
            <a href="#705216" title="(x$1: java.lang.String)Unit">out</a> println <a href="#705336" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span>
        }
        <span class="keyword">finally</span> <a href="#705216" title="java.io.PrintWriter">out</a>.<a title="()Unit" id="38881">close</a>()
        
        <a href="#705215" title="java.io.File">file</a>
      }
      
      <a href="#704996" title="org.apache.tools.ant.taskdefs.Java">java</a>.<a title="()org.apache.tools.ant.types.Commandline.Argument" id="176249">createArg</a><a title="(x$1: java.lang.String)Unit" id="176442">(</a>) setValue (<span title="(x$1: Any)java.lang.String" class="string">&quot;@&quot;</span> + <a href="#704998" title="()java.io.File">writeSettings</a>.<a title="()java.lang.String" id="35186">getCanonicalPath</a>)
      <a href="#11319" title="(x$1: java.lang.String,x$2: Int)Unit">log</a>(<a href="#704996" title="org.apache.tools.ant.taskdefs.Java">java</a>.<a title="()org.apache.tools.ant.types.CommandlineJava" id="176381">getCommandLine</a>.<a title="()Array[java.lang.String]" id="176415">getCommandline</a>.<span title="(sep: String)String">mkString</span>(<span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>), Project.<span title="Int(3)">MSG_VERBOSE</span>)
      
      <span class="keyword">val</span> <a title="Int" id="704999">res</a> = <a href="#704996" title="org.apache.tools.ant.taskdefs.Java">java</a>.<a title="()Int" id="176228">executeJava</a>()
      <span title="Unit" class="keyword">if</span> (<a href="#59090" title="(x$1: Boolean)Boolean">failonerror</a> &amp;&amp; <a href="#704999" title="(x$1: Int)Boolean" id="2954">res</a> != <span title="Int(0)" class="int">0</span>)
        <a href="#59152" title="(message: String)Nothing">error</a>(<span class="string">&quot;Compilation failed because of an internal compiler error;&quot;</span><span title="java.lang.String(&quot;Compilation failed because of an internal compiler error; see the error output for details.&quot;)">+</span>
              <span class="string">&quot; see the error output for details.&quot;</span>)
  }
  
  /** Performs the compilation. */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings,sourceFiles: List[java.io.File])Unit" id="59158">executeInternal</a>(<a title="scala.tools.nsc.Settings" id="704991">settings</a>: <a href="../nsc/Settings.scala.html#8706" title="scala.tools.nsc.Settings">Settings</a>, <a title="List[java.io.File]" id="704992">sourceFiles</a> : <span title="List[java.io.File]">List</span>[File]) {
    <span class="keyword">val</span> <a title="scala.tools.nsc.reporters.ConsoleReporter" id="705394">reporter</a> = <a href="../nsc/reporters/ConsoleReporter.scala.html#38820" title="(settings: scala.tools.nsc.Settings)scala.tools.nsc.reporters.ConsoleReporter" class="keyword">new</a> <a href="../nsc/reporters/ConsoleReporter.scala.html#13099" title="scala.tools.nsc.reporters.ConsoleReporter">ConsoleReporter</a>(<a href="#704991" title="scala.tools.nsc.Settings">settings</a>)
    <span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="705395">compiler</a> = <a href="#59154" title="(settings: scala.tools.nsc.Settings,reporter: scala.tools.nsc.reporters.Reporter)scala.tools.nsc.Global">newGlobal</a>(<a href="#704991" title="scala.tools.nsc.Settings">settings</a>, <a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>)  // compiles the actual code
    
    <span class="keyword">try</span> <a href="../nsc/Global.scala.html#40220" title="(filenames: List[String])Unit" class="keyword">new</a> <a href="#705395" title="scala.tools.nsc.Global">compiler</a>.<a href="../nsc/Global.scala.html#39178" title="compiler.Run">Run</a> compile (<a href="#704992" title="(f: (java.io.File) =&gt; java.lang.String)(implicit bf: scala.collection.generic.BuilderFactory[java.lang.String,List[String],List[java.io.File]])List[String]">sourceFiles</a> <span title="scala.collection.generic.BuilderFactory[java.lang.String,List[java.lang.String],List#Coll]">map</span> (<a href="#705412" title="java.io.File">_</a>.<span title="()java.lang.String">toString</span>))
    <span class="keyword">catch</span> {
      <span title="Nothing" class="keyword">case</span> <a title="java.lang.Throwable" id="705427">ex</a>: <a title="Throwable" id="1887">Throwable</a> =&gt;
        <a href="#705427" title="java.lang.Throwable">ex</a>.<a title="()Unit" id="25932">printStackTrace</a>()
        <span class="keyword">val</span> <a title="java.lang.String" id="705428">msg</a> = <span title="java.lang.String" class="keyword">if</span> (<a href="#705427" title="java.lang.Throwable">ex</a>.<span title="(x$1: AnyRef)Boolean">getMessage</span> == <span title="Null(null)" class="keyword">null</span>) <span title="java.lang.String(&quot;no error message provided&quot;)" class="string">&quot;no error message provided&quot;</span> <span class="keyword">else</span> <a href="#705427" title="java.lang.Throwable">ex</a>.<span title="()java.lang.String">getMessage</span>
        <a href="#59152" title="(message: String)Nothing">error</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;Compile failed because of an internal compiler error (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#705428" title="java.lang.String">msg</a> + <span title="java.lang.String(&quot;); see the error output for details.&quot;)" class="string">&quot;); see the error output for details.&quot;</span>)
    }

    <a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/ConsoleReporter.scala.html#38827" title="()Unit">printSummary</a>()
    <span title="Unit" class="keyword">if</span> (<a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38774" title="=&gt; Boolean">hasErrors</a>) {
      <span class="keyword">val</span> <a title="String" id="705460">msg</a> = <span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;Compile failed with %d error%s; see the compiler error output for details.&quot;</span>.<span title="(args: Any*)String">format</span>(
        <a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38768" title="=&gt; reporter.Severity">ERROR</a>.<a href="../nsc/reporters/Reporter.scala.html#41072" title="=&gt; Int">count</a>, <a href="#59105" title="(x: Int)java.lang.String">plural</a>(<a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38768" title="=&gt; reporter.Severity">ERROR</a>.<a href="../nsc/reporters/Reporter.scala.html#41072" title="=&gt; Int">count</a>))
      <span title="Unit" class="keyword">if</span> (<a href="#59090" title="=&gt; Boolean">failonerror</a>) <a href="#59152" title="(message: String)Nothing">error</a>(<a href="#705460" title="String">msg</a>) <span class="keyword">else</span> <a href="#11319" title="(x$1: java.lang.String)Unit">log</a>(<a href="#705460" title="String">msg</a>)
    }
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38766" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#41072" title="(x$1: Int)Boolean">count</a> &gt; <span title="Int(0)" class="int">0</span>)
      <a href="#11319" title="(x$1: java.lang.String)Unit">log</a>(<span title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;Compile succeeded with %d warning%s; see the compiler output for details.&quot;</span>.<span title="(args: Any*)String">format</span>(
        <a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38766" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#41072" title="=&gt; Int">count</a>, <a href="#59105" title="(x: Int)java.lang.String">plural</a>(<a href="#705394" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#38766" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#41072" title="=&gt; Int">count</a>)))
  }
}

        </pre>
    </body>
</html>