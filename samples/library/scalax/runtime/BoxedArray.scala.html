<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scalax/runtime/BoxedArray.scala</title>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2002-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: BoxedArray.scala 17000 2009-01-29 13:05:53Z odersky $</span>


<span class="keyword">package</span> scalax.runtime

<span class="keyword">import</span> Predef._
<span class="keyword">import</span> collection.mutable.{Vector, ArrayBuffer}
<span class="keyword">import</span> collection.generic._

<span class="comment">/**
 *  &lt;p&gt;A class representing &lt;code&gt;Array[T]&lt;/code&gt;&lt;/p&gt;
 *
 *  @author  Martin Odersky, Stephane Micheloud
 *  @version 1.0
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class BoxedArray[A] extends java.lang.Object with scalax.collection.mutable.Vector[A] with scalax.collection.generic.MutableVectorTemplate[scalax.runtime.BoxedArray,A] with scalax.runtime.Boxed with ScalaObject</span><a id="10005">BoxedArray</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="15758">A</a></span>] <span class="keyword">extends</span> <span class="typed"><span class="type">scalax.collection.mutable.Vector[A]</span><a href="../collection/mutable/Vector.scala.html#6524">Vector</a></span>[A] <span class="keyword">with</span> <span class="typed"><span class="type">scalax.collection.generic.MutableVectorTemplate[scalax.runtime.BoxedArray,A]</span><a href="../collection/generic/MutableVectorTemplate.scala.html#10692">MutableVectorTemplate</a></span>[BoxedArray, A] <span class="keyword">with</span> <span class="typed"><span class="type">scalax.runtime.Boxed</span><a href="Boxed.scala.html#9951">Boxed</a></span> {

  <span class="comment">/** The length of the array */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="23062">length</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>

  <span class="comment">/** The element at given index */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)A</span><a id="23063">apply</a></span>(<span class="typed"><span class="type">Int</span><a id="79554">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">A</span><a href="#15758">A</a></span>

  <span class="comment">/** Update element at given index */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,A)Unit</span><a id="23064">update</a></span>(<span class="typed"><span class="type">Int</span><a id="79548">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">A</span><a id="79549">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#15758">A</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>

  <span class="comment">/** Creates new builder for this collection ==&gt; move to subclasses
   *
   * */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">&lt;refinement&gt;[B] extends java.lang.Object with scalax.collection.generic.Builder[scalax.runtime.BoxedArray,B] with Proxy</span><a id="23065">newBuilder</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="23067">B</a></span>] = <span class="typed"><span class="type">()scalax.collection.mutable.ArrayBuffer[B]</span><a href="../collection/mutable/ArrayBuffer.scala.html#17878" class="keyword">new</a></span> <span class="typed"><span class="type">scalax.collection.mutable.ArrayBuffer[B]</span><a href="../collection/mutable/ArrayBuffer.scala.html#6506">ArrayBuffer</a></span>[B].<span class="typed"><span class="type">((scalax.collection.mutable.ArrayBuffer[B]) =&gt; scalax.runtime.BoxedArray[B])java.lang.Object with scalax.collection.generic.Builder[scalax.runtime.BoxedArray,B] with Proxy{def self: scalax.collection.generic.Builder[scalax.collection.mutable.ArrayBuffer,B]}</span><a href="../collection/generic/Builder.scala.html#17936">mapResult</a></span>[<span class="typed"><span class="type">scalax.runtime.BoxedArray</span><a href="#10005">BoxedArray</a></span>] { <span class="comment">// !!! Adriaan: can't drop [BoxedArray] here</span>
    <span class="typed"><span class="type">scalax.collection.mutable.ArrayBuffer[B]</span><a href="#96792">_</a></span>.<span class="typed"><span class="type">Array[B]</span><a href="../collection/SizedIterable.scala.html#17623">toArray</a></span>.<span class="typed"><span class="type">scalax.runtime.BoxedArray[B]</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scalax.runtime.BoxedArray[B]</span><a href="#10005">BoxedArray</a></span>[B]]
  }

  <span class="comment">/** Convert to Java array.
   *  @param elemTag    Either one of the tags &quot;.N&quot; where N is the name of a primitive type
   *                    (@see ScalaRunTime), or a full class name.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Class[_])AnyRef</span><a id="23068">unbox</a></span>(<span class="typed"><span class="type">Class[_]</span><a id="79420">elemClass</a></span>: <span class="typed"><span class="type">Class[_]</span><a id="1670">Class</a></span>[_]): <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>

  <span class="comment">/** The underlying array value
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; AnyRef</span><a id="23069">value</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(AnyRef,Int,Int,Int)Unit</span><a id="23070">copyFrom</a></span>(<span class="typed"><span class="type">AnyRef</span><a id="91213">src</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">Int</span><a id="91214">from</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="91215">to</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="91216">len</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = 
    <span class="typed"><span class="type">object Array</span><a href="../../scala/Array.scala.html#1071">Array</a></span>.<span class="typed"><span class="type">(AnyRef,Int,AnyRef,Int,Int)Unit</span><a href="../../scala/Array.scala.html#17068">copy</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#91213">src</a></span>, <span class="typed"><span class="type">Int</span><a href="#91214">from</a></span>, <span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span>, <span class="typed"><span class="type">Int</span><a href="#91215">to</a></span>, <span class="typed"><span class="type">Int</span><a href="#91216">len</a></span>)

  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,AnyRef,Int,Int)Unit</span><a id="23071">copyTo</a></span>(<span class="typed"><span class="type">Int</span><a id="91207">from</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="91208">dest</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">Int</span><a id="91209">to</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="91210">len</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = {
    <span class="typed"><span class="type">object Array</span><a href="../../scala/Array.scala.html#1071">Array</a></span>.<span class="typed"><span class="type">(AnyRef,Int,AnyRef,Int,Int)Unit</span><a href="../../scala/Array.scala.html#17068">copy</a></span>(<span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span>, <span class="typed"><span class="type">Int</span><a href="#91207">from</a></span>, <span class="typed"><span class="type">AnyRef</span><a href="#91208">dest</a></span>, <span class="typed"><span class="type">Int</span><a href="#91209">to</a></span>, <span class="typed"><span class="type">Int</span><a href="#91210">len</a></span>)
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Any)Boolean</span><a id="23072">equals</a></span>(<span class="typed"><span class="type">Any</span><a id="96803">other</a></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>) =
    (<span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Any</span><a href="#96803">other</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">||</a></span>        
    <span class="typed"><span class="type">Any</span><a href="#96803">other</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3499">isInstanceOf</a></span>[<span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_]] <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> (<span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">Any</span><a href="#96803">other</a></span>.<span class="typed"><span class="type">scalax.runtime.BoxedArray[_$3]</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_]].<span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span>)

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Int</span><a id="23073">hashCode</a></span>(): <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">=&gt; AnyRef</span><a href="#23069">value</a></span>.<span class="typed"><span class="type">()Int</span><a id="5780">hashCode</a></span>()

  <span class="comment">/** Fills the given array &lt;code&gt;xs&lt;/code&gt; with the elements of
   *  this sequence starting at position &lt;code&gt;start&lt;/code&gt;.
   *
   *  @param  xs the array to fill.
   *  @param  start starting index.
   *  @pre    the array must be large enough to hold all elements.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">[B](Array[B],Int,Int)Unit</span><a id="23074">copyToArray</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="23076">B</a></span>](<span class="typed"><span class="type">Array[B]</span><a id="96817">xs</a></span>: <span class="typed"><span class="type">Array[B]</span><a href="../../scala/Array.scala.html#1070">Array</a></span>[B], <span class="typed"><span class="type">Int</span><a id="96818">start</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="96819">len</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> =
    <span class="typed"><span class="type">(Int,AnyRef,Int,Int)Unit</span><a href="#23071">copyTo</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Array[B]</span><a href="#96817">xs</a></span>, <span class="typed"><span class="type">Int</span><a href="#96818">start</a></span>, <span class="typed"><span class="type">Int</span><a href="#96819">len</a></span>)

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">()String</span><a id="23077">deepToString</a></span>() = <span class="typed"><span class="type">(String,String,String)String</span><a href="#23078">deepMkString</a></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#23081">stringPrefix</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;(&quot;)</span><span class="string">&quot;(&quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;, &quot;)</span><span class="string">&quot;, &quot;</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;)&quot;)</span><span class="string">&quot;)&quot;</span></span>)

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(String,String,String)String</span><a id="23078">deepMkString</a></span>(<span class="typed"><span class="type">String</span><a id="96827">start</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">String</span><a id="96828">sep</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">String</span><a id="96829">end</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = {
    <span class="keyword">def</span> <span class="typed"><span class="type">(Any)String</span><a id="96831">_deepToString</a></span>(<span class="typed"><span class="type">Any</span><a id="96835">x</a></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>) = <span class="typed"><span class="type">Any</span><a href="#96835">x</a></span> <span class="typed"><span class="type">String</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">String</span><span class="keyword">case</span></span> <span class="typed"><span class="type">AnyRef</span><a id="96836">a</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)Boolean</span><a href="ScalaRunTime.scala.html#79467">isArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96836">a</a></span>) =&gt;
        <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)scalax.runtime.BoxedArray[_]</span><a href="ScalaRunTime.scala.html#79491">boxArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96836">a</a></span>).<span class="typed"><span class="type">(String,String,String)String</span><a href="#23078">deepMkString</a></span>(<span class="typed"><span class="type">String</span><a href="#96827">start</a></span>, <span class="typed"><span class="type">String</span><a href="#96828">sep</a></span>, <span class="typed"><span class="type">String</span><a href="#96829">end</a></span>)
      <span class="typed"><span class="type">String</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(Any)String</span><a href="ScalaRunTime.scala.html#79492">stringOf</a></span>(<span class="typed"><span class="type">Any</span><a href="#96835">x</a></span>)
    }
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="96832">buf</a></span> = <span class="typed"><span class="type">()StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19620" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../../scala/StringBuilder.scala.html#1433">StringBuilder</a></span>()
    <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">String</span><a href="#96827">start</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">scalax.collection.Iterator[A]</span><a id="96833">elems</a></span> = <span class="typed"><span class="type">=&gt; scalax.collection.Iterator[A]</span><a href="../collection/generic/VectorTemplate.scala.html#17732">elements</a></span>
    <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scalax.collection.Iterator[A]</span><a href="#96833">elems</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span>) <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">(Any)String</span><a href="#96831">_deepToString</a></span>(<span class="typed"><span class="type">scalax.collection.Iterator[A]</span><a href="#96833">elems</a></span>.<span class="typed"><span class="type">()A</span><a href="../collection/Iterator.scala.html#20217">next</a></span>))
    <span class="typed"><span class="type">Unit</span><a href="#96834" class="keyword">while</a></span> (<span class="typed"><span class="type">scalax.collection.Iterator[A]</span><a href="#96833">elems</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span>) {
      <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">String</span><a href="#96828">sep</a></span>); <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">(Any)String</span><a href="#96831">_deepToString</a></span>(<span class="typed"><span class="type">scalax.collection.Iterator[A]</span><a href="#96833">elems</a></span>.<span class="typed"><span class="type">()A</span><a href="../collection/Iterator.scala.html#20217">next</a></span>))
    }
    <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../../scala/StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">String</span><a href="#96829">end</a></span>)
    <span class="typed"><span class="type">StringBuilder</span><a href="#96832">buf</a></span>.<span class="typed"><span class="type">()String</span><a href="../../scala/StringBuilder.scala.html#19672">toString</a></span>
  }

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(String)String</span><a id="23079">deepMkString</a></span>(<span class="typed"><span class="type">String</span><a id="96822">sep</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = <span class="typed"><span class="type">BoxedArray.this.type</span><a href="#10005" class="keyword">this</a></span>.<span class="typed"><span class="type">(String,String,String)String</span><a href="#23078">deepMkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>, <span class="typed"><span class="type">String</span><a href="#96822">sep</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)

  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Any)Boolean</span><a id="23080">deepEquals</a></span>(<span class="typed"><span class="type">Any</span><a id="96874">that</a></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = {
    <span class="keyword">def</span> <span class="typed"><span class="type">(Any,Any)Boolean</span><a id="96875">_deepEquals</a></span>(<span class="typed"><span class="type">Any</span><a id="96877">x1</a></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>, <span class="typed"><span class="type">Any</span><a id="96878">x2</a></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>) = <span class="typed"><span class="type">(Any,Any)(Any, Any)</span><a href="../../scala/Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">Any</span><a href="#96877">x1</a></span>, <span class="typed"><span class="type">Any</span><a href="#96878">x2</a></span>) <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a id="96881">a1</a></span>: <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_], <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a id="96883">a2</a></span>: <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_]) =&gt;
        <span class="typed"><span class="type">(scalax.runtime.BoxedArray[_],scalax.runtime.BoxedArray[_])Boolean</span><a href="#96876">_sameElements</a></span>(<span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#96881">a1</a></span>, <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#96883">a2</a></span>)
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">AnyRef</span><a id="96891">a1</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="96892">a2</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>)
           <span class="keyword">if</span> <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)Boolean</span><a href="ScalaRunTime.scala.html#79467">isArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96891">a1</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)Boolean</span><a href="ScalaRunTime.scala.html#79467">isArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96892">a2</a></span>) =&gt;
        <span class="typed"><span class="type">(scalax.runtime.BoxedArray[_],scalax.runtime.BoxedArray[_])Boolean</span><a href="#96876">_sameElements</a></span>(<span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)scalax.runtime.BoxedArray[_]</span><a href="ScalaRunTime.scala.html#79491">boxArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96891">a1</a></span>), <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)scalax.runtime.BoxedArray[_]</span><a href="ScalaRunTime.scala.html#79491">boxArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96892">a2</a></span>))
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">Any</span><a href="#96877">x1</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><a id="3496">equals</a></span>(<span class="typed"><span class="type">Any</span><a href="#96878">x2</a></span>)
    }
    <span class="keyword">def</span> <span class="typed"><span class="type">(scalax.runtime.BoxedArray[_],scalax.runtime.BoxedArray[_])Boolean</span><a id="96876">_sameElements</a></span>(<span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a id="96885">a1</a></span>: <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_], <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a id="96886">a2</a></span>: <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_]): <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a id="96897">it1</a></span> = <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#96885">a1</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.Iterator[Any]</span><a href="../collection/generic/VectorTemplate.scala.html#17732">elements</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a id="96898">it2</a></span> = <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#96886">a2</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.Iterator[Any]</span><a href="../collection/generic/VectorTemplate.scala.html#17732">elements</a></span>
      <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><a id="96899">res</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
      <span class="typed"><span class="type">Unit</span><a href="#96900" class="keyword">while</a></span> (<span class="typed"><span class="type">Boolean</span><a href="#96899">res</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96897">it1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96898">it2</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span>)
        <span class="typed"><span class="type">Boolean</span><a href="#96899">res</a></span> = <span class="typed"><span class="type">(Any,Any)Boolean</span><a href="#96875">_deepEquals</a></span>(<span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96897">it1</a></span>.<span class="typed"><span class="type">()Any</span><a href="../collection/Iterator.scala.html#20217">next</a></span>, <span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96898">it2</a></span>.<span class="typed"><span class="type">()Any</span><a href="../collection/Iterator.scala.html#20217">next</a></span>)
      <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96897">it1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">scalax.collection.Iterator[Any]</span><a href="#96898">it2</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../collection/Iterator.scala.html#20216">hasNext</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">Boolean</span><a href="#96899">res</a></span>
    }
    <span class="typed"><span class="type">Any</span><a href="#96874">that</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a id="96901">a</a></span>: <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#10005">BoxedArray</a></span>[_] =&gt;
        <span class="typed"><span class="type">(scalax.runtime.BoxedArray[_],scalax.runtime.BoxedArray[_])Boolean</span><a href="#96876">_sameElements</a></span>(<span class="typed"><span class="type">scalax.runtime.BoxedArray[A]</span><a href="#10005" class="keyword">this</a></span>, <span class="typed"><span class="type">scalax.runtime.BoxedArray[_]</span><a href="#96901">a</a></span>)
      <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <span class="typed"><span class="type">AnyRef</span><a id="96903">a</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)Boolean</span><a href="ScalaRunTime.scala.html#79467">isArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96903">a</a></span>) =&gt;
        <span class="typed"><span class="type">(scalax.runtime.BoxedArray[_],scalax.runtime.BoxedArray[_])Boolean</span><a href="#96876">_sameElements</a></span>(<span class="typed"><span class="type">scalax.runtime.BoxedArray[A]</span><a href="#10005" class="keyword">this</a></span>, <span class="typed"><span class="type">object scalax.runtime.ScalaRunTime</span><a href="ScalaRunTime.scala.html#9943">ScalaRunTime</a></span>.<span class="typed"><span class="type">(AnyRef)scalax.runtime.BoxedArray[_]</span><a href="ScalaRunTime.scala.html#79491">boxArray</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#96903">a</a></span>))
      <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
    }
  }

  <span class="keyword">override</span> <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; String</span><a id="23081">stringPrefix</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;Array&quot;)</span><span class="string">&quot;Array&quot;</span></span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">((A) =&gt; Boolean)(Int, Array[Boolean])</span><a id="23082">countAndMemo</a></span>(<span class="typed"><span class="type">(A) =&gt; Boolean</span><a id="79539">p</a></span>: A =&gt; Boolean): <span class="typed"><span class="type">(Int, Array[Boolean])</span><a href="../../scala/Tuple2.scala.html#1376">(</a></span>Int, Array[Boolean]) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="96905">len</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#23062">length</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[Boolean]</span><a id="96906">memo</a></span> = <span class="typed"><span class="type">Array[Boolean]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Boolean]</span><a href="../../scala/Array.scala.html#1070">Array</a></span>[Boolean](<span class="typed"><span class="type">Int</span><a href="#96905">len</a></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="96907">count</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="96908">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#96909" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#96908">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#96905">len</a></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(A)Boolean</span><a href="../../scala/Function1.scala.html#17300">p</a></span>(<span class="typed"><span class="type">(Int)A</span><a href="#23063" class="keyword">this</a></span>(<span class="typed"><span class="type">Int</span><a href="#96908">i</a></span>))) { <span class="typed"><span class="type">Array[Boolean]</span><a href="#96906">memo</a></span>(<span class="typed"><span class="type">Int</span><a href="#96908">i</a></span>) = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>; <span class="typed"><span class="type">Int</span><a href="#96907">count</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> }
      <span class="typed"><span class="type">Int</span><a href="#96908">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
    <span class="typed"><span class="type">(Int,Array[Boolean])(Int, Array[Boolean])</span><a href="../../scala/Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">Int</span><a href="#96907">count</a></span>, <span class="typed"><span class="type">Array[Boolean]</span><a href="#96906">memo</a></span>)
  }
}

        </pre>
    </body>
</html>