<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scalax/collection/immutable/HashSet.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: HashSet.scala 16884 2009-01-09 16:52:09Z cunei $</span>

<span class="keyword">package</span> scalax.collection.immutable

<span class="keyword">import</span> generic.{SetTemplate, SetFactory, AddableBuilder}

<span class="comment">/** The canonical factory methods for &lt;a href=&quot;HashSet.html&quot;&gt;immutable HashSet's&lt;la&gt;.
  *
  *  @author  Martin Odersky
  *  @version 2.8
  */</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object scalax.collection.immutable.HashSet</span><a id="7485">HashSet</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scalax.collection.generic.SetFactory[scalax.collection.immutable.HashSet]</span><a href="../generic/SetFactory.scala.html#10521">SetFactory</a></span>[HashSet] {

  <span class="comment">/** The empty set of this type.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">[A]scalax.collection.immutable.HashSet[A]</span><a id="122361">empty</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="122363">A</a></span>] = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A]

}

<span class="comment">/** This class implements immutable maps/sets using a hash table.
  * It is optimized for sequential accesses where the last updated table is accessed most often.
  * It supports with reasonable efficiency accesses to previous versions of the table by keeping
  * a change log that's regularly compacted.
  * It needs to synchronize most methods, so it is less suitable for highly concurrent accesses.
  *
  *  @author  Martin Odersky
  *  @version 2.0, 19/01/2007
  */</span>
@<span class="typed"><span class="type">serializable</span><a href="../../../scala/serializable.scala.html#647">serializable</a></span>
<span class="keyword">class</span> <span class="typed"><span class="type">class HashSet[A] extends java.lang.Object with scalax.collection.immutable.Set[A] with scalax.collection.generic.SetTemplate[scalax.collection.immutable.HashSet,A] with scalax.collection.mutable.FlatHashTable[A] with ScalaObject</span><a id="7484">HashSet</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="16690">A</a></span>] <span class="keyword">extends</span> <span class="typed"><span class="type">scalax.collection.immutable.Set[A]</span><a href="Set.scala.html#7493">Set</a></span>[A] 
                    <span class="keyword">with</span> <span class="typed"><span class="type">scalax.collection.generic.SetTemplate[scalax.collection.immutable.HashSet,A]</span><a href="../generic/SetTemplate.scala.html#10485">SetTemplate</a></span>[HashSet, A] 
                    <span class="keyword">with</span> mutable.<span class="typed"><span class="type">scalax.collection.mutable.FlatHashTable[A]</span><a href="../mutable/FlatHashTable.scala.html#6557">FlatHashTable</a></span>[A] {
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><span id="106034"><span id="106032"><span id="106033"><a id="122368">later</a></span></span></span></span>: <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A] = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">A</span><span id="106037"><span id="106035"><span id="106036"><a id="122369">changedElem</a></span></span></span></span>: <span class="typed"><span class="type">A</span><a href="#16690">A</a></span> = _
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="106040"><span id="106038"><span id="106039"><a id="122370">deleted</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = _

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)Boolean</span><a id="106041">contains</a></span>(<span class="typed"><span class="type">A</span><a id="106064">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#16690">A</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = <span class="typed"><span class="type">(Boolean)Boolean</span><a href="#7484" id="5794">synchronized</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a id="122372">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="122373">cnt</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#122374" class="keyword">while</a></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">A</span><a href="#106064">elem</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#106035">changedElem</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#106038">deleted</a></span>
      <span class="typed"><span class="type">Int</span><a href="#122373">cnt</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>
    }
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#122373">cnt</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#106049">logLimit</a></span>) <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#106051">makeCopy</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>)
    <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122372">m</a></span>.<span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#23891">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#106064">elem</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)scalax.collection.immutable.HashSet[A]</span><a id="106042">+</a></span> (<span class="typed"><span class="type">A</span><a id="106065">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#16690">A</a></span>): <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A] = <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])scalax.collection.immutable.HashSet[A]</span><a href="#7484" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#106052">makeCopyIfUpdated</a></span>()
    <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#23891">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#106065">elem</a></span>)) <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>
    <span class="keyword">else</span> {
      <span class="typed"><span class="type">(A,Boolean)Unit</span><a href="#106050">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a href="#106065">elem</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
      <span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span> <span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#23892">addEntry</a></span> <span class="typed"><span class="type">A</span><a href="#106065">elem</a></span>
      <span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)scalax.collection.immutable.HashSet[A]</span><a id="106043">-</a></span> (<span class="typed"><span class="type">A</span><a id="106069">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#16690">A</a></span>): <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A] = <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])scalax.collection.immutable.HashSet[A]</span><a href="#7484" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#106052">makeCopyIfUpdated</a></span>()
    <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#23891">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#106069">elem</a></span>)) <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>
    <span class="keyword">else</span> {
      <span class="typed"><span class="type">(A,Boolean)Unit</span><a href="#106050">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a href="#106069">elem</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
      <span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span> <span class="typed"><span class="type">(A)Option[A]</span><a href="../mutable/FlatHashTable.scala.html#23893">removeEntry</a></span> <span class="typed"><span class="type">A</span><a href="#106069">elem</a></span>
      <span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>
    }
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="106044">size</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#7484" id="5794">synchronized</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a id="122408">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="122409">cnt</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="122410">s</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#122411" class="keyword">while</a></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#106038">deleted</a></span>) <span class="typed"><span class="type">Int</span><a href="#122410">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#122410">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">Int</span><a href="#122409">cnt</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>
    }
    <span class="typed"><span class="type">Int</span><a href="#122410">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23883">tableSize</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#122409">cnt</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#106049">logLimit</a></span>) <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#106051">makeCopy</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122408">m</a></span>)  
    <span class="typed"><span class="type">Int</span><a href="#122410">s</a></span>
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scalax.collection.Iterator[A]</span><a id="106045">elements</a></span> = <span class="typed"><span class="type">(scalax.collection.Iterator[A])scalax.collection.Iterator[A]</span><a href="#7484" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#106052">makeCopyIfUpdated</a></span>()
    <span class="comment">// note need to cache because (later versions of) set might be mutated while elements are traversed.</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scalax.collection.mutable.Buffer[A]</span><a id="106084">cached</a></span> = <span class="typed"><span class="type">()scalax.collection.mutable.ArrayBuffer[A]</span><a href="../mutable/ArrayBuffer.scala.html#17878" class="keyword">new</a></span> mutable.<span class="typed"><span class="type">scalax.collection.mutable.ArrayBuffer[A]</span><a href="../mutable/ArrayBuffer.scala.html#6506">ArrayBuffer</a></span>() <span class="typed"><span class="type">(scalax.collection.Iterator[A])scalax.collection.mutable.Buffer[A]</span><a href="../generic/Addable.scala.html#17902">++</a></span> <span class="keyword">super</span>.<span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends java.lang.Object with scalax.collection.Iterator[A]</span><a href="../mutable/FlatHashTable.scala.html#23894">elements</a></span>
    <span class="typed"><span class="type">scalax.collection.mutable.Buffer[A]</span><a href="#106084">cached</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.Iterator[A]</span><a href="../generic/IterableTemplate.scala.html#17388">elements</a></span>
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">[B]scalax.collection.generic.Builder[scalax.collection.immutable.HashSet,B]</span><a id="106046">newBuilder</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="106048">B</a></span>]: generic.<span class="typed"><span class="type">scalax.collection.generic.Builder[scalax.collection.immutable.HashSet,B]</span><a href="../generic/Builder.scala.html#10377">Builder</a></span>[HashSet, B] = 
    <span class="typed"><span class="type">scalax.collection.generic.AddableBuilder[scalax.collection.immutable.HashSet,B]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scalax.collection.generic.AddableBuilder[scalax.collection.immutable.HashSet,B]</span><a href="../generic/AddableBuilder.scala.html#10437">AddableBuilder</a></span>[HashSet, B](<span class="typed"><span class="type">object scalax.collection.immutable.HashSet</span><a href="#7485">HashSet</a></span>.<span class="typed"><span class="type">scalax.collection.immutable.HashSet[B]</span><a href="#122361">empty</a></span>)

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="106049">logLimit</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">object Math</span><a href="../../../scala/Math.scala.html#606">Math</a></span>.<span class="typed"><span class="type">(Int)Int</span><a href="../../../scala/Math.scala.html#25133">sqrt</a></span>(<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span>).<span class="typed"><span class="type">=&gt; Int</span><a id="3083">toInt</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A,Boolean)Unit</span><a id="106050">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a id="122404">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#16690">A</a></span>, <span class="typed"><span class="type">Boolean</span><a id="122405">del</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span>) { 
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="122504">lv</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23875">loadFactor</a></span>
    <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#106033">later</a></span> = <span class="typed"><span class="type">template $anon extends scalax.collection.immutable.HashSet[A]</span><a id="122505" class="keyword">new</a></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A] {
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="122507">initialSize</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="122508">loadFactor</a></span> = <span class="typed"><span class="type">Int</span><a href="#122504">lv</a></span>
      <span class="typed"><span class="type">(Array[AnyRef])Unit</span><a href="../mutable/FlatHashTable.scala.html#23881">table</a></span>     = <span class="typed"><span class="type">HashSet.this.type</span><a href="#7484">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>
      <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#23884">tableSize</a></span> = <span class="typed"><span class="type">HashSet.this.type</span><a href="#7484">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23883">tableSize</a></span>
      <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#23887">threshold</a></span> = <span class="typed"><span class="type">HashSet.this.type</span><a href="#7484">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23886">threshold</a></span>
    }
    <span class="typed"><span class="type">(A)Unit</span><a href="#106036">changedElem</a></span> = <span class="typed"><span class="type">A</span><a href="#122404">elem</a></span>
    <span class="typed"><span class="type">(Boolean)Unit</span><a href="#106039">deleted</a></span> = <span class="typed"><span class="type">Boolean</span><a href="#122405">del</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a id="106051">makeCopy</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a id="122402">last</a></span>: <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A]) {
    <span class="keyword">def</span> <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a id="122510">undo</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a id="122511">m</a></span>: <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484">HashSet</a></span>[A]) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122511">m</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">ne</a></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122402">last</a></span>) {
        <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#122510">undo</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122511">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122511">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#106038">deleted</a></span>) <span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#23892">addEntry</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122511">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#106035">changedElem</a></span>)
        <span class="keyword">else</span> <span class="typed"><span class="type">(A)Option[A]</span><a href="../mutable/FlatHashTable.scala.html#23893">removeEntry</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122511">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#106035">changedElem</a></span>)
      }
    }
    <span class="typed"><span class="type">(Array[AnyRef])Unit</span><a href="../mutable/FlatHashTable.scala.html#23881">table</a></span> = <span class="typed"><span class="type">Array[AnyRef]</span><span class="keyword">new</span></span> scala.<span class="typed"><span class="type">Array[AnyRef]</span><a href="../../../scala/Array.scala.html#1070">Array</a></span>[AnyRef](<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122402">last</a></span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span>)
    scala.<span class="typed"><span class="type">object Array</span><a href="../../../scala/Array.scala.html#1071">Array</a></span>.<span class="typed"><span class="type">(AnyRef,Int,AnyRef,Int,Int)Unit</span><a href="../../../scala/Array.scala.html#17068">copy</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122402">last</a></span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#23880">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span>)
    <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#23884">tableSize</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122402">last</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23883">tableSize</a></span>
    <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#23887">threshold</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122402">last</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#23886">threshold</a></span>
    <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#122510">undo</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>)
    <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#106033">later</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="106052">makeCopyIfUpdated</a></span>() {
    <span class="keyword">var</span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a id="122515">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#122516" class="keyword">while</a></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122515">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122515">m</a></span> = <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122515">m</a></span>.<span class="typed"><span class="type">=&gt; scalax.collection.immutable.HashSet[A]</span><a href="#106032">later</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122515">m</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">ne</a></span> <span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#7484" class="keyword">this</a></span>) <span class="typed"><span class="type">(scalax.collection.immutable.HashSet[A])Unit</span><a href="#106051">makeCopy</a></span>(<span class="typed"><span class="type">scalax.collection.immutable.HashSet[A]</span><a href="#122515">m</a></span>)
  }
}


        </pre>
    </body>
</html>