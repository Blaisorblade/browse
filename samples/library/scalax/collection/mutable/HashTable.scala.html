<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scalax/collection/mutable/HashTable.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://www.scala-lang.org/           **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: HashTable.scala 16884 2009-01-09 16:52:09Z cunei $</span>


<span class="keyword">package</span> scalax.collection.mutable

<span class="comment">/** This class can be used to construct data structures that are based
 *  on hashtables. Class &lt;code&gt;HashTable[A]&lt;/code&gt; implements a hashtable
 *  that maps keys of type &lt;code&gt;A&lt;/code&gt; to values of the fully abstract
 *  member type &lt;code&gt;Entry&lt;/code&gt;. Classes that make use of &lt;code&gt;HashTable&lt;/code&gt;
 *  have to provide an implementation for &lt;code&gt;Entry&lt;/code&gt; 
 *
 *  There are mainly two parameters that affect the performance of a hashtable:
 *  the &lt;i&gt;initial size&lt;/i&gt; and the &lt;i&gt;load factor&lt;/i&gt;. The &lt;i&gt;size&lt;/i&gt;
 *  refers to the number of &lt;i&gt;buckets&lt;/i&gt; in the hashtable, and the &lt;i&gt;load
 *  factor&lt;/i&gt; is a measure of how full the hashtable is allowed to get before
 *  its size is automatically doubled. Both parameters may be changed by
 *  overriding the corresponding values in class &lt;code&gt;HashTable&lt;/code&gt;.
 *
 *  @author  Matthias Zenger
 *  @author  Martin Odersky  
 *  @version 2.0, 31/12/2006
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait HashTable[A] extends java.lang.Object with ScalaObject</span><a id="6545">HashTable</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="12793">A</a></span>] <span class="keyword">extends</span> <span class="typed"><span class="type">java.lang.Object</span><a id="2163">AnyRef</a></span> {

  <span class="keyword">protected</span> <span class="keyword">type</span> <span class="typed"><span class="type">&gt;: Null &lt;: scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a id="48248">Entry</a></span> &gt;: Null &lt;: HashEntry[A, Entry]

  <span class="comment">/** The load factor for the hash table (in 0.001 step).
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="48249">loadFactor</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">Int(750)</span><span class="int">750</span></span> <span class="comment">// corresponds to 75%</span>
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int(1000)</span><span id="48251"><a id="48250">loadFactorDenum</a></span></span> = <span class="typed"><span class="type">Int(1000)</span><span class="int">1000</span></span>;

  <span class="comment">/** The initial size of the hash table.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="48252">initialSize</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">Int(16)</span><span class="int">16</span></span>

  <span class="comment">/** The initial threshold
   */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="48253">initialThreshold</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48269">newThreshold</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#48252">initialSize</a></span>)

  <span class="comment">/** The actual hash table.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><span id="48256"><span id="48254"><span id="48255"><a id="48281">table</a></span></span></span></span>: scala.<span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="../../../scala/Array.scala.html#1070">Array</a></span>[HashEntry[A, Entry]] = 
    <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Int</span><a href="#48252">initialSize</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><span class="keyword">new</span></span> scala.<span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="../../../scala/Array.scala.html#1070">Array</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#48252">initialSize</a></span>)

  <span class="comment">/** The number of mappings contained in this hash table.
   */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="48259"><span id="48257"><span id="48258"><a id="48282">tableSize</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/** The next size value at which to resize (capacity * load factor).
   */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="48262"><span id="48260"><span id="48261"><a id="48283">threshold</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48253">initialThreshold</a></span>

  <span class="comment">/** Returns the size of this hash table.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="48263">size</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48257">tableSize</a></span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A)HashTable.this.Entry</span><a id="48264">findEntry</a></span>(<span class="typed"><span class="type">A</span><a id="48298">key</a></span>: <span class="typed"><span class="type">A</span><a href="#12793">A</a></span>): <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="48299">h</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48274">index</a></span>(<span class="typed"><span class="type">(A)Int</span><a href="#48272">elemHashCode</a></span>(<span class="typed"><span class="type">A</span><a href="#48298">key</a></span>))
    <span class="keyword">var</span> <span class="typed"><span class="type">HashTable.this.Entry</span><a id="48300">e</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48299">h</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
    <span class="typed"><span class="type">Unit</span><a href="#48301" class="keyword">while</a></span> (<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48300">e</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">(A,A)Boolean</span><a href="#48271">elemEquals</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48300">e</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#48277">key</a></span>, <span class="typed"><span class="type">A</span><a href="#48298">key</a></span>)) <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48300">e</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48300">e</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
    <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48300">e</a></span>
  }

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a id="48265">addEntry</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a id="48368">e</a></span>: <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="48369">h</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48274">index</a></span>(<span class="typed"><span class="type">(A)Int</span><a href="#48272">elemHashCode</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48368">e</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#48277">key</a></span>))
    <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48368">e</a></span>.<span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a href="#48279">next</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48369">h</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
    <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48369">h</a></span>) = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48368">e</a></span>
    <span class="typed"><span class="type">(Int)Unit</span><a href="#48258">tableSize</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48257">tableSize</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Int</span><a href="#48257">tableSize</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#48260">threshold</a></span>)
      <span class="typed"><span class="type">(Int)Unit</span><a href="#48270">resize</a></span>(<span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span>)
  }

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A)Option[HashTable.this.Entry]</span><a id="48266">removeEntry</a></span>(<span class="typed"><span class="type">A</span><a id="48447">key</a></span>: <span class="typed"><span class="type">A</span><a href="#12793">A</a></span>) : <span class="typed"><span class="type">Option[HashTable.this.Entry]</span><a href="../../../scala/Option.scala.html#932">Option</a></span>[Entry] = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="48448">h</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48274">index</a></span>(<span class="typed"><span class="type">(A)Int</span><a href="#48272">elemHashCode</a></span>(<span class="typed"><span class="type">A</span><a href="#48447">key</a></span>))
    <span class="keyword">var</span> <span class="typed"><span class="type">HashTable.this.Entry</span><a id="48449">e</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48448">h</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(A,A)Boolean</span><a href="#48271">elemEquals</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#48277">key</a></span>, <span class="typed"><span class="type">A</span><a href="#48447">key</a></span>)) {
        <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48448">h</a></span>) = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
        <span class="typed"><span class="type">(Int)Unit</span><a href="#48258">tableSize</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48257">tableSize</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(HashTable.this.Entry)Some[HashTable.this.Entry]</span><a href="../../../scala/Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span>)
      } <span class="keyword">else</span> {
        <span class="keyword">var</span> <span class="typed"><span class="type">HashTable.this.Entry</span><a id="48472">e1</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
        <span class="typed"><span class="type">Unit</span><a href="#48473" class="keyword">while</a></span> (<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">(A,A)Boolean</span><a href="#48271">elemEquals</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#48277">key</a></span>, <span class="typed"><span class="type">A</span><a href="#48447">key</a></span>)) {
          <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span>
          <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
        }
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
          <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48449">e</a></span>.<span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a href="#48279">next</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
          <span class="typed"><span class="type">(Int)Unit</span><a href="#48258">tableSize</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48257">tableSize</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
          <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">(HashTable.this.Entry)Some[HashTable.this.Entry]</span><a href="../../../scala/Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48472">e1</a></span>)
        }
      }
    }
    <span class="typed"><span class="type">object None</span><a href="../../../scala/Option.scala.html#534">None</a></span>
  }

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scalax.collection.Iterator[HashTable.this.Entry]</span><a id="48267">entries</a></span>: <span class="typed"><span class="type">scalax.collection.Iterator[HashTable.this.Entry]</span><a href="../Iterator.scala.html#6386">Iterator</a></span>[Entry] = <span class="typed"><span class="type">template $anon extends java.lang.Object with scalax.collection.Iterator[HashTable.this.Entry]</span><a id="48494" class="keyword">new</a></span> <span class="typed"><span class="type">scalax.collection.Iterator[HashTable.this.Entry]</span><a href="../Iterator.scala.html#6386">Iterator</a></span>[Entry] {
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><span id="48497"><a id="48496">iterTable</a></span></span> = <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="48500"><span id="48498"><span id="48499"><a id="48511">idx</a></span></span></span></span> = <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">HashTable.this.Entry</span><span id="48503"><span id="48501"><span id="48502"><a id="48515">es</a></span></span></span></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">iterTable</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#48498">idx</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
    <span class="typed"><span class="type">()Unit</span><a href="#48506">scan</a></span>()
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="48504">hasNext</a></span> = <span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48501">es</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">()HashTable.this.Entry</span><a id="48505">next</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">HashTable.this.Entry</span><a id="48522">res</a></span> = <span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48501">es</a></span>
      <span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a href="#48502">es</a></span> = <span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48501">es</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
      <span class="typed"><span class="type">()Unit</span><a href="#48506">scan</a></span>()
      <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48522">res</a></span>
    }
    <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="48506">scan</a></span>() {
      <span class="typed"><span class="type">Unit</span><a href="#48523" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48501">es</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#48498">idx</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) {
        <span class="typed"><span class="type">(Int)Unit</span><a href="#48499">idx</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#48498">idx</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
        <span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a href="#48502">es</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">iterTable</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#48498">idx</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
      }
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="48268">clear</a></span>() {
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="48544">i</a></span> = <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#48545" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#48544">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) { <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48544">i</a></span>) = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>; <span class="typed"><span class="type">Int</span><a href="#48544">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#48544">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> }
    <span class="typed"><span class="type">(Int)Unit</span><a href="#48258">tableSize</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="48269">newThreshold</a></span>(<span class="typed"><span class="type">Int</span><a id="48288">size</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) =
    ((<span class="typed"><span class="type">Int</span><a href="#48288">size</a></span>.<span class="typed"><span class="type">=&gt; Long</span><a id="3084">toLong</a></span> <span class="typed"><span class="type">(Int)Long</span><a id="3256">*</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#48249">loadFactor</a></span>)<span class="typed"><span class="type">(Int)Long</span><a id="3257">/</a></span><span class="typed"><span class="type">Int(1000)</span><span >loadFactorDenum</span></span>).<span class="typed"><span class="type">=&gt; Int</span><a id="3192">toInt</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Unit</span><a id="48270">resize</a></span>(<span class="typed"><span class="type">Int</span><a id="48395">newSize</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a id="48397">oldTable</a></span> = <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>
    <span class="typed"><span class="type">(Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]])Unit</span><a href="#48255">table</a></span> = <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><span class="keyword">new</span></span> scala.<span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="../../../scala/Array.scala.html#1070">Array</a></span>(<span class="typed"><span class="type">Int</span><a href="#48395">newSize</a></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="48398">i</a></span> = <span class="typed"><span class="type">Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48397">oldTable</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#48399" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#48398">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) {
      <span class="keyword">var</span> <span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a id="48404">e</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">oldTable</a></span>(<span class="typed"><span class="type">Int</span><a href="#48398">i</a></span>)
      <span class="typed"><span class="type">Unit</span><a href="#48405" class="keyword">while</a></span> (<span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="48411">h</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48274">index</a></span>(<span class="typed"><span class="type">(A)Int</span><a href="#48272">elemHashCode</a></span>(<span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#48277">key</a></span>))
        <span class="keyword">val</span> <span class="typed"><span class="type">HashTable.this.Entry</span><a id="48412">e1</a></span> = <span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span>.<span class="typed"><span class="type">=&gt; HashTable.this.Entry</span><a href="#48278">next</a></span>
        <span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span>.<span class="typed"><span class="type">(HashTable.this.Entry)Unit</span><a href="#48279">next</a></span> = <span class="typed"><span class="type">(Int)scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="../../../scala/Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48411">h</a></span>).<span class="typed"><span class="type">HashTable.this.Entry</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48248">Entry</a></span>]
        <span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#48411">h</a></span>) = <span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span>
        <span class="typed"><span class="type">scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]</span><a href="#48404">e</a></span> = <span class="typed"><span class="type">HashTable.this.Entry</span><a href="#48412">e1</a></span>
      }
      <span class="typed"><span class="type">Int</span><a href="#48398">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#48398">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
    <span class="typed"><span class="type">(Int)Unit</span><a href="#48261">threshold</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#48269">newThreshold</a></span>(<span class="typed"><span class="type">Int</span><a href="#48395">newSize</a></span>)
  }

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A,A)Boolean</span><a id="48271">elemEquals</a></span>(<span class="typed"><span class="type">A</span><a id="48366">key1</a></span>: <span class="typed"><span class="type">A</span><a href="#12793">A</a></span>, <span class="typed"><span class="type">A</span><a id="48367">key2</a></span>: <span class="typed"><span class="type">A</span><a href="#12793">A</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = (<span class="typed"><span class="type">A</span><a href="#48366">key1</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">A</span><a href="#48367">key2</a></span>)

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A)Int</span><a id="48272">elemHashCode</a></span>(<span class="typed"><span class="type">A</span><a id="48358">key</a></span>: <span class="typed"><span class="type">A</span><a href="#12793">A</a></span>) = <span class="typed"><span class="type">A</span><a href="#48358">key</a></span>.<span class="typed"><span class="type">()Int</span><a id="3497">hashCode</a></span>()

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="48273">improve</a></span>(<span class="typed"><span class="type">Int</span><a id="48304">hcode</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="48306">h</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">Int</span><a href="#48304">hcode</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">=&gt; Int</span><a id="3096">~</a></span>(<span class="typed"><span class="type">Int</span><a href="#48304">hcode</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3088">&lt;&lt;</a></span> <span class="typed"><span class="type">Int(9)</span><span class="int">9</span></span>)
    <span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> = <span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">^</a></span> (<span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(14)</span><span class="int">14</span></span>)
    <span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> = <span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> (<span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3088">&lt;&lt;</a></span> <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>)
    <span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">^</a></span> (<span class="typed"><span class="type">Int</span><a href="#48306">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span>)
  }

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="48274">index</a></span>(<span class="typed"><span class="type">Int</span><a id="48302">hcode</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = <span class="typed"><span class="type">(Int)Int</span><a href="#48273">improve</a></span>(<span class="typed"><span class="type">Int</span><a href="#48302">hcode</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3151">&amp;</a></span> (<span class="typed"><span class="type">=&gt; Array[scalax.collection.mutable.HashEntry[A,HashTable.this.Entry]]</span><a href="#48254">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../../scala/Array.scala.html#17252">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
}

<span class="keyword">trait</span> <span class="typed"><span class="type">trait HashEntry[A, E] extends java.lang.Object with ScalaObject</span><a id="6650">HashEntry</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="12794">A</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="12795">E</a></span>] {
  <span class="keyword">val</span> <span class="typed"><span class="type">=&gt; A</span><a id="48277">key</a></span>: <span class="typed"><span class="type">A</span><a href="#12794">A</a></span>
  <span class="keyword">var</span> <span class="typed"><span class="type">E</span><span id="48280"><span id="48278"><span id="48279"><a id="48565">next</a></span></span></span></span>: <span class="typed"><span class="type">E</span><a href="#12795">E</a></span> = _
}




        </pre>
    </body>
</html>