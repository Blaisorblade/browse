<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/actors/remote/NetKernel.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: NetKernel.scala 16884 2009-01-09 16:52:09Z cunei $</span>

<span class="keyword">package</span> scala.actors.remote

<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet}

<span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class NamedSend extends java.lang.Object with ScalaObject with Product</span><span id="8305"><span id="51308"><span id="51321"><span id="51313"><span id="51331"><span id="51324"><span id="51310"><span id="2748"><span id="51323"><span id="2749"><span id="8306"><span id="51309"><span id="5792"><span id="51322"><span id="51329"><span id="19891"><span id="51312"><span id="51330"><span id="51307"><span id="3507"><span id="51314"><span id="51332"><span id="3499"><a href="../../runtime/ScalaRunTime.scala.html#19785" id="3498">NamedSend</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><span id="51283"><span id="51282"><span id="51303"><a id="51496">senderLoc</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><span id="51285"><span id="51284"><span id="51304"><a id="51497">receiverLoc</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>, <span class="typed"><span class="type">Array[Byte]</span><span id="51287"><span id="51286"><span id="51305"><a id="51498">data</a></span></span></span></span>: <span class="typed"><span class="type">Array[Byte]</span><a href="../../Array.scala.html#1070">Array</a></span>[Byte], <span class="typed"><span class="type">Symbol</span><span id="51289"><span id="51288"><span id="51306"><a id="51499">session</a></span></span></span></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>)

<span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class RemoteApply0 extends java.lang.Object with ScalaObject with Product</span><span id="51357"><span id="8327"><span id="8326"><span id="2748"><span id="51372"><span id="51364"><span id="2749"><span id="51366"><span id="51352"><span id="5792"><span id="51373"><span id="51358"><span id="51353"><span id="19891"><span id="51354"><span id="51365"><span id="3507"><span id="51351"><span id="51356"><span id="3499"><span id="51371"><span id="51370"><a href="../../runtime/ScalaRunTime.scala.html#19785" id="3498">RemoteApply0</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><span id="51338"><span id="51337"><span id="51348"><a id="51541">senderLoc</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><span id="51340"><span id="51339"><span id="51349"><a id="51542">receiverLoc</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>, <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><span id="51342"><span id="51341"><span id="51350"><a id="51543">rfun</a></span></span></span></span>: <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a href="../../Function2.scala.html#1046">Function2</a></span>[AbstractActor, Proxy, Unit])
<span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class LocalApply0 extends java.lang.Object with ScalaObject with Product</span><span id="51404"><span id="51403"><span id="8254"><span id="2748"><span id="2749"><span id="51388"><span id="5792"><span id="51399"><span id="51405"><span id="51387"><span id="51393"><span id="19891"><span id="51400"><span id="51394"><span id="51389"><span id="3507"><span id="51392"><span id="3499"><span id="51406"><span id="8255"><span id="51390"><a href="../../runtime/ScalaRunTime.scala.html#19785" id="3498">LocalApply0</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><span id="51378"><span id="51377"><span id="51385"><a id="51590">rfun</a></span></span></span></span>: <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a href="../../Function2.scala.html#1046">Function2</a></span>[AbstractActor, Proxy, Unit], <span class="typed"><span class="type">scala.actors.AbstractActor</span><span id="51380"><span id="51379"><span id="51386"><a id="51591">a</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.AbstractActor</span><a href="../AbstractActor.scala.html#8201">AbstractActor</a></span>)

<span class="keyword">case</span> <span class="keyword">class</span>  <span class="typed"><span class="type">class SendTo extends java.lang.Object with ScalaObject with Product</span><span id="8299"><span id="51439"><span id="8300"><span id="51446"><span id="2748"><span id="2749"><span id="51428"><span id="51438"><span id="51443"><span id="51430"><span id="5792"><span id="51444"><span id="51431"><span id="51425"><span id="3494"><span id="19891"><span id="51440"><span id="51426"><span id="51432"><span id="51445"><span id="3507"><span id="51427"><span id="3499"><a href="../../runtime/ScalaRunTime.scala.html#19785" id="3498">SendTo</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><span id="51412"><span id="51411"><span id="51422"><a id="51608">a</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="../OutputChannel.scala.html#8150">OutputChannel</a></span>[Any], <span class="typed"><span class="type">Any</span><span id="51414"><span id="51413"><span id="51423"><a id="51609">msg</a></span></span></span></span>: <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>, <span class="typed"><span class="type">Symbol</span><span id="51416"><span id="51415"><span id="51424"><a id="51610">session</a></span></span></span></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>)
<span class="keyword">case</span> <span class="keyword">object</span> <span class="typed"><span class="type">object scala.actors.remote.Terminate</span><span id="19891"><span id="51453"><span id="51456"><span id="51452"><span id="51451"><span id="51454"><span id="8342"><span id="51450"><a id="3498">Terminate</a></span></span></span></span></span></span></span></span></span>

<span class="keyword">case</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Locator extends java.lang.Object with ScalaObject with Product</span><span id="51468"><span id="51478"><span id="2748"><span id="2749"><span id="8314"><span id="51475"><span id="51463"><span id="51480"><span id="51469"><span id="5792"><span id="8315"><span id="51464"><span id="19891"><span id="51465"><span id="3507"><span id="51481"><span id="51474"><span id="51479"><span id="51467"><span id="51462"><span id="3499"><a href="../../runtime/ScalaRunTime.scala.html#19785" id="3498">Locator</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><span id="51299"><span id="51298"><span id="51460"><a id="51524">node</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><span id="51301"><span id="51300"><span id="51461"><a id="51525">name</a></span></span></span></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>)

<span class="comment">/**
 * @version 0.9.17
 * @author Philipp Haller
 */</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class NetKernel extends java.lang.Object with ScalaObject</span><a id="8248">NetKernel</a></span>(<span class="typed"><span class="type">scala.actors.remote.Service</span><span id="39997"><a id="40060">service</a></span></span>: <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="Service.scala.html#8266">Service</a></span>) {

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,AnyRef)Unit</span><a id="39999">sendToNode</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51485">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="51486">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="51488">bytes</a></span> = <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Serializer</span><a href="Service.scala.html#23259">serializer</a></span>.<span class="typed"><span class="type">(AnyRef)Array[Byte]</span><a href="Serializer.scala.html#23248">serialize</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#51486">msg</a></span>)
    <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">(scala.actors.remote.Node,Array[Byte])Unit</span><a href="Service.scala.html#23261">send</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51485">node</a></span>, <span class="typed"><span class="type">Array[Byte]</span><a href="#51488">bytes</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Locator,scala.actors.remote.Locator,AnyRef,Symbol)Unit</span><a id="40000">namedSend</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51491">senderLoc</a></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51492">receiverLoc</a></span>: <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#8314">Locator</a></span>,
                <span class="typed"><span class="type">AnyRef</span><a id="51493">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51494">session</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="51495">bytes</a></span> = <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Serializer</span><a href="Service.scala.html#23259">serializer</a></span>.<span class="typed"><span class="type">(AnyRef)Array[Byte]</span><a href="Serializer.scala.html#23248">serialize</a></span>(<span class="typed"><span class="type">AnyRef</span><a href="#51493">msg</a></span>)
    <span class="typed"><span class="type">(scala.actors.remote.Node,AnyRef)Unit</span><a href="#39999">sendToNode</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51492">receiverLoc</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="#51298">node</a></span>, <span class="typed"><span class="type">(scala.actors.remote.Locator,scala.actors.remote.Locator,Array[Byte],Symbol)scala.actors.remote.NamedSend</span><a href="#51312">NamedSend</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51491">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51492">receiverLoc</a></span>, <span class="typed"><span class="type">Array[Byte]</span><a href="#51495">bytes</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51494">session</a></span>))
  }

  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><span id="40002"><a id="40001">actors</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><a href="../../collection/mutable/HashMap.scala.html#11326">HashMap</a></span>[Symbol, OutputChannel[Any]]
  <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.actors.OutputChannel[Any],Symbol]</span><span id="40004"><a id="40003">names</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.actors.OutputChannel[Any],Symbol]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.actors.OutputChannel[Any],Symbol]</span><a href="../../collection/mutable/HashMap.scala.html#11326">HashMap</a></span>[OutputChannel[Any], Symbol]

  <span class="keyword">def</span> <span class="typed"><span class="type">(Symbol,scala.actors.OutputChannel[Any])Unit</span><a id="40005">register</a></span>(<span class="typed"><span class="type">Symbol</span><a id="40094">name</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="40095">a</a></span>: <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="../OutputChannel.scala.html#8150">OutputChannel</a></span>[Any]): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = <span class="typed"><span class="type">(Unit)Unit</span><a href="#8248" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><a href="#40001">actors</a></span> <span class="typed"><span class="type">((Symbol, scala.actors.OutputChannel[Any]))Unit</span><a href="../../collection/mutable/Map.scala.html#21351">+=</a></span> <span class="typed"><span class="type">(Symbol,scala.actors.OutputChannel[Any])(Symbol, scala.actors.OutputChannel[Any])</span><a href="../../Predef.scala.html#27947">Pair</a></span>(<span class="typed"><span class="type">Symbol</span><a href="#40094">name</a></span>, <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#40095">a</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[scala.actors.OutputChannel[Any],Symbol]</span><a href="#40003">names</a></span> <span class="typed"><span class="type">((scala.actors.OutputChannel[Any], Symbol))Unit</span><a href="../../collection/mutable/Map.scala.html#21351">+=</a></span> <span class="typed"><span class="type">(scala.actors.OutputChannel[Any],Symbol)(scala.actors.OutputChannel[Any], Symbol)</span><a href="../../Predef.scala.html#27947">Pair</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#40095">a</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#40094">name</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.OutputChannel[Any])Symbol</span><a id="40006">getOrCreateName</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="51509">from</a></span>: <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="../OutputChannel.scala.html#8150">OutputChannel</a></span>[Any]) = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[scala.actors.OutputChannel[Any],Symbol]</span><a href="#40003">names</a></span>.<span class="typed"><span class="type">(scala.actors.OutputChannel[Any])Option[Symbol]</span><a href="../../collection/mutable/DefaultMapModel.scala.html#21440">get</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51509">from</a></span>) <span class="typed"><span class="type">Symbol</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">Symbol</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> =&gt;
      <span class="keyword">val</span> <span class="typed"><span class="type">Symbol</span><a id="51511">freshName</a></span> = <span class="typed"><span class="type">object scala.actors.remote.FreshNameCreator</span><a href="FreshNameCreator.scala.html#8345">FreshNameCreator</a></span>.<span class="typed"><span class="type">(String)Symbol</span><a href="FreshNameCreator.scala.html#21345">newName</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;remotesender&quot;)</span><span class="string">&quot;remotesender&quot;</span></span>)
      <span class="typed"><span class="type">(Symbol,scala.actors.OutputChannel[Any])Unit</span><a href="#40005">register</a></span>(<span class="typed"><span class="type">Symbol</span><a href="#51511">freshName</a></span>, <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51509">from</a></span>)
      <span class="typed"><span class="type">Symbol</span><a href="#51511">freshName</a></span>
    <span class="typed"><span class="type">Symbol</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">Symbol</span><a id="51513">name</a></span>) =&gt;
      <span class="typed"><span class="type">Symbol</span><a href="#51513">name</a></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol,AnyRef)Unit</span><a id="40007">send</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51514">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51515">name</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="51516">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> =
    <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol,AnyRef,Symbol)Unit</span><a href="#40008">send</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51514">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51515">name</a></span>, <span class="typed"><span class="type">AnyRef</span><a href="#51516">msg</a></span>, <span class="typed"><span class="type">(String)Symbol</span><a href="../../Symbol.scala.html#21460" class="symbol">'nosession</a></span>)

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol,AnyRef,Symbol)Unit</span><a id="40008">send</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51518">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51519">name</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="51520">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51521">session</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51522">senderLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="Service.scala.html#23260">node</a></span>, <span class="typed"><span class="type">(scala.actors.OutputChannel[Any])Symbol</span><a href="#40006">getOrCreateName</a></span>(<span class="typed"><span class="type">object scala.actors.Actor</span><a href="../Actor.scala.html#7908">Actor</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.Actor</span><a href="../Actor.scala.html#27712">self</a></span>))
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51523">receiverLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51518">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51519">name</a></span>)
    <span class="typed"><span class="type">(scala.actors.remote.Locator,scala.actors.remote.Locator,AnyRef,Symbol)Unit</span><a href="#40000">namedSend</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51522">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51523">receiverLoc</a></span>, <span class="typed"><span class="type">AnyRef</span><a href="#51520">msg</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51521">session</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.OutputChannel[Any],scala.actors.remote.Node,Symbol,AnyRef,Symbol)Unit</span><a id="40009">forward</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="51528">from</a></span>: <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="../OutputChannel.scala.html#8150">OutputChannel</a></span>[Any], <span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51529">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51530">name</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="51531">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51532">session</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51533">senderLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="Service.scala.html#23260">node</a></span>, <span class="typed"><span class="type">(scala.actors.OutputChannel[Any])Symbol</span><a href="#40006">getOrCreateName</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51528">from</a></span>))
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51534">receiverLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51529">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51530">name</a></span>)
    <span class="typed"><span class="type">(scala.actors.remote.Locator,scala.actors.remote.Locator,AnyRef,Symbol)Unit</span><a href="#40000">namedSend</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51533">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51534">receiverLoc</a></span>, <span class="typed"><span class="type">AnyRef</span><a href="#51531">msg</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51532">session</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol,scala.actors.OutputChannel[Any],(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit)Unit</span><a id="40010">remoteApply</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51535">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51536">name</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="51537">from</a></span>: <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="../OutputChannel.scala.html#8150">OutputChannel</a></span>[Any], <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a id="51538">rfun</a></span>: <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a href="../../Function2.scala.html#1046">Function2</a></span>[AbstractActor, Proxy, Unit]) {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51539">senderLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="Service.scala.html#23260">node</a></span>, <span class="typed"><span class="type">(scala.actors.OutputChannel[Any])Symbol</span><a href="#40006">getOrCreateName</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51537">from</a></span>))
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51540">receiverLoc</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Locator</span><a href="#51467">Locator</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51535">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51536">name</a></span>)
    <span class="typed"><span class="type">(scala.actors.remote.Node,AnyRef)Unit</span><a href="#39999">sendToNode</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51540">receiverLoc</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="#51298">node</a></span>, <span class="typed"><span class="type">(scala.actors.remote.Locator,scala.actors.remote.Locator,(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit)scala.actors.remote.RemoteApply0</span><a href="#51356">RemoteApply0</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51539">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51540">receiverLoc</a></span>, <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a href="#51538">rfun</a></span>))
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Proxy</span><a id="40011">createProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51544">node</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51545">sym</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>): <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="Proxy.scala.html#8302">Proxy</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51546">p</a></span> = <span class="typed"><span class="type">scala.actors.remote.Proxy</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="Proxy.scala.html#8302">Proxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51544">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51545">sym</a></span>, <span class="typed"><span class="type">scala.actors.remote.NetKernel</span><a href="#8248" class="keyword">this</a></span>)
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span> <span class="typed"><span class="type">(((scala.actors.remote.Node, Symbol), scala.actors.remote.Proxy))Unit</span><a href="../../collection/mutable/Map.scala.html#21351">+=</a></span> <span class="typed"><span class="type">((scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy)((scala.actors.remote.Node, Symbol), scala.actors.remote.Proxy)</span><a href="../../Predef.scala.html#27947">Pair</a></span>(<span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)(scala.actors.remote.Node, Symbol)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51544">node</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51545">sym</a></span>), <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51546">p</a></span>)
    <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51546">p</a></span>
  }

  <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><span id="40013"><a id="40012">proxies</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="../../collection/mutable/HashMap.scala.html#11326">HashMap</a></span>[(Node, Symbol), Proxy]

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Proxy</span><a id="40014">getOrCreateProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="40110">senderNode</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="40111">senderName</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>): <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="Proxy.scala.html#8302">Proxy</a></span> =
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span>.<span class="typed"><span class="type">(scala.actors.remote.Proxy)scala.actors.remote.Proxy</span><a id="5794">synchronized</a></span> {
      <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span>.<span class="typed"><span class="type">((scala.actors.remote.Node, Symbol))Option[scala.actors.remote.Proxy]</span><a href="../../collection/mutable/DefaultMapModel.scala.html#21440">get</a></span>(<span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)(scala.actors.remote.Node, Symbol)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#40110">senderNode</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#40111">senderName</a></span>)) <span class="typed"><span class="type">scala.actors.remote.Proxy</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">scala.actors.remote.Proxy</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51560">senderProxy</a></span>) =&gt; <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51560">senderProxy</a></span>
        <span class="typed"><span class="type">scala.actors.remote.Proxy</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>              =&gt; <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Proxy</span><a href="#40011">createProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#40110">senderNode</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#40111">senderName</a></span>)
      }
    }

  <span class="comment">/* Register proxy if no other proxy has been registered.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol,scala.actors.remote.Proxy)Unit</span><a id="40015">registerProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51561">senderNode</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51562">senderName</a></span>: <span class="typed"><span class="type">Symbol</span><a href="../../Symbol.scala.html#860">Symbol</a></span>, <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51563">p</a></span>: <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="Proxy.scala.html#8302">Proxy</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> =
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span>.<span class="typed"><span class="type">(Unit)Unit</span><a id="5794">synchronized</a></span> {
      <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span>.<span class="typed"><span class="type">((scala.actors.remote.Node, Symbol))Option[scala.actors.remote.Proxy]</span><a href="../../collection/mutable/DefaultMapModel.scala.html#21440">get</a></span>(<span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)(scala.actors.remote.Node, Symbol)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51561">senderNode</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51562">senderName</a></span>)) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51567">senderProxy</a></span>) =&gt; <span class="comment">// do nothing</span>
        <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>              =&gt; <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span> <span class="typed"><span class="type">(((scala.actors.remote.Node, Symbol), scala.actors.remote.Proxy))Unit</span><a href="../../collection/mutable/Map.scala.html#21351">+=</a></span> <span class="typed"><span class="type">((scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy)((scala.actors.remote.Node, Symbol), scala.actors.remote.Proxy)</span><a href="../../Predef.scala.html#27947">Pair</a></span>(<span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)(scala.actors.remote.Node, Symbol)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.actors.remote.Node</span><a href="#51561">senderNode</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51562">senderName</a></span>), <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51563">p</a></span>)
      }
    }

  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.remote.Node,AnyRef)Unit</span><a id="40016">processMsg</a></span>(<span class="typed"><span class="type">scala.actors.remote.Node</span><a id="51574">senderNode</a></span>: <span class="typed"><span class="type">scala.actors.remote.Node</span><a href="RemoteActor.scala.html#8287">Node</a></span>, <span class="typed"><span class="type">AnyRef</span><a id="51575">msg</a></span>: <span class="typed"><span class="type">AnyRef</span><a id="2015">AnyRef</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = <span class="typed"><span class="type">(Unit)Unit</span><a href="#8248" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">AnyRef</span><a href="#51575">msg</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.actors.remote.RemoteApply0</span><a id="51577">cmd</a></span>@<a id="1">RemoteApply0</a>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51578">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51579">receiverLoc</a></span>, <span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a id="51580">rfun</a></span>) =&gt;
        <span class="typed"><span class="type">object scala.actors.Debug</span><a href="../Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="../Debug.scala.html#40072">info</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><a href="../../Predef.scala.html#13520" class="keyword">this</a></span><span class="typed"><span class="type">(String)java.lang.String</span><a href="../../runtime/StringAdd.scala.html#19198">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;: processing &quot;)</span><span class="string">&quot;: processing &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="typed"><span class="type">scala.actors.remote.RemoteApply0</span><a href="#51577">cmd</a></span>)
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><a href="#40001">actors</a></span>.<span class="typed"><span class="type">(Symbol)Option[scala.actors.OutputChannel[Any]]</span><a href="../../collection/mutable/DefaultMapModel.scala.html#21440">get</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51579">receiverLoc</a></span>.<span class="typed"><span class="type">=&gt; Symbol</span><a href="#51300">name</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="51586">a</a></span>) =&gt;
            <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51587">senderProxy</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Proxy</span><a href="#40014">getOrCreateProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51578">senderLoc</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="#51298">node</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51578">senderLoc</a></span>.<span class="typed"><span class="type">=&gt; Symbol</span><a href="#51300">name</a></span>)
            <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51587">senderProxy</a></span>.<span class="typed"><span class="type">(Any,scala.actors.OutputChannel[Any])Unit</span><a href="Proxy.scala.html#40130">send</a></span>(<span class="typed"><span class="type">((scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit,scala.actors.AbstractActor)scala.actors.remote.LocalApply0</span><a href="#51392">LocalApply0</a></span>(<span class="typed"><span class="type">(scala.actors.AbstractActor, scala.actors.remote.Proxy) =&gt; Unit</span><a href="#51580">rfun</a></span>, <span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51586">a</a></span>.<span class="typed"><span class="type">scala.actors.AbstractActor</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.AbstractActor</span><a href="../AbstractActor.scala.html#8201">AbstractActor</a></span>]), <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> =&gt;
            <span class="comment">// message is lost</span>
            <span class="typed"><span class="type">object scala.actors.Debug</span><a href="../Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="../Debug.scala.html#40072">info</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><a href="../../Predef.scala.html#13520" class="keyword">this</a></span><span class="typed"><span class="type">(String)java.lang.String</span><a href="../../runtime/StringAdd.scala.html#19198">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;: lost message&quot;)</span><span class="string">&quot;: lost message&quot;</span></span>)
        }

      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.actors.remote.NamedSend</span><a id="51596">cmd</a></span>@<a id="1">NamedSend</a>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51597">senderLoc</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a id="51598">receiverLoc</a></span>, <span class="typed"><span class="type">Array[Byte]</span><a id="51599">data</a></span>, <span class="typed"><span class="type">Symbol</span><a id="51600">session</a></span>) =&gt;
        <span class="typed"><span class="type">object scala.actors.Debug</span><a href="../Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="../Debug.scala.html#40072">info</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><a href="../../Predef.scala.html#13520" class="keyword">this</a></span><span class="typed"><span class="type">(String)java.lang.String</span><a href="../../runtime/StringAdd.scala.html#19198">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;: processing &quot;)</span><span class="string">&quot;: processing &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="typed"><span class="type">scala.actors.remote.NamedSend</span><a href="#51596">cmd</a></span>)
        <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Symbol,scala.actors.OutputChannel[Any]]</span><a href="#40001">actors</a></span>.<span class="typed"><span class="type">(Symbol)Option[scala.actors.OutputChannel[Any]]</span><a href="../../collection/mutable/DefaultMapModel.scala.html#21440">get</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51598">receiverLoc</a></span>.<span class="typed"><span class="type">=&gt; Symbol</span><a href="#51300">name</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a id="51605">a</a></span>) =&gt;
            <span class="keyword">try</span> {
              <span class="keyword">val</span> <span class="typed"><span class="type">AnyRef</span><a id="51606">msg</a></span> = <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Serializer</span><a href="Service.scala.html#23259">serializer</a></span>.<span class="typed"><span class="type">(Array[Byte])AnyRef</span><a href="Serializer.scala.html#23249">deserialize</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#51599">data</a></span>)
              <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51607">senderProxy</a></span> = <span class="typed"><span class="type">(scala.actors.remote.Node,Symbol)scala.actors.remote.Proxy</span><a href="#40014">getOrCreateProxy</a></span>(<span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51597">senderLoc</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.remote.Node</span><a href="#51298">node</a></span>, <span class="typed"><span class="type">scala.actors.remote.Locator</span><a href="#51597">senderLoc</a></span>.<span class="typed"><span class="type">=&gt; Symbol</span><a href="#51300">name</a></span>)
              <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51607">senderProxy</a></span>.<span class="typed"><span class="type">(Any,scala.actors.OutputChannel[Any])Unit</span><a href="Proxy.scala.html#40130">send</a></span>(<span class="typed"><span class="type">(scala.actors.OutputChannel[Any],Any,Symbol)scala.actors.remote.SendTo</span><a href="#51430">SendTo</a></span>(<span class="typed"><span class="type">scala.actors.OutputChannel[Any]</span><a href="#51605">a</a></span>, <span class="typed"><span class="type">AnyRef</span><a href="#51606">msg</a></span>, <span class="typed"><span class="type">Symbol</span><a href="#51600">session</a></span>), <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
            } <span class="keyword">catch</span> {
              <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Exception</span><a id="51611">e</a></span>: <span class="typed"><span class="type">Exception</span><a id="2129">Exception</a></span> =&gt;
                <span class="typed"><span class="type">object scala.actors.Debug</span><a href="../Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="../Debug.scala.html#40074">error</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><a href="../../Predef.scala.html#13520" class="keyword">this</a></span><span class="typed"><span class="type">(String)java.lang.String</span><a href="../../runtime/StringAdd.scala.html#19198">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;: caught &quot;)</span><span class="string">&quot;: caught &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="typed"><span class="type">Exception</span><a href="#51611">e</a></span>)
            }

          <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> =&gt;
            <span class="comment">// message is lost</span>
            <span class="typed"><span class="type">object scala.actors.Debug</span><a href="../Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="../Debug.scala.html#40072">info</a></span>(<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><a href="../../Predef.scala.html#13520" class="keyword">this</a></span><span class="typed"><span class="type">(String)java.lang.String</span><a href="../../runtime/StringAdd.scala.html#19198">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;: lost message&quot;)</span><span class="string">&quot;: lost message&quot;</span></span>)
        }
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="40017">terminate</a></span>() {
    <span class="comment">// tell all proxies to terminate</span>
    <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[(scala.actors.remote.Node, Symbol),scala.actors.remote.Proxy]</span><a href="#40012">proxies</a></span>.<span class="typed"><span class="type">=&gt; Iterator[scala.actors.remote.Proxy]</span><a href="../../collection/Map.scala.html#21396">values</a></span> <span class="typed"><span class="type">((scala.actors.remote.Proxy) =&gt; Unit)Unit</span><a href="../../Iterator.scala.html#20001">foreach</a></span> { <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a id="51626">p</a></span> =&gt; <span class="typed"><span class="type">scala.actors.remote.Proxy</span><a href="#51626">p</a></span>.<span class="typed"><span class="type">(Any,scala.actors.OutputChannel[Any])Unit</span><a href="Proxy.scala.html#40130">send</a></span>(<span class="typed"><span class="type">object scala.actors.remote.Terminate</span><a href="#8342">Terminate</a></span>, <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) }

    <span class="comment">// tell service to terminate</span>
    <span class="typed"><span class="type">scala.actors.remote.Service</span><a href="#39997">service</a></span>.<span class="typed"><span class="type">()Unit</span><a href="Service.scala.html#23262">terminate</a></span>()
  }
}

        </pre>
    </body>
</html>