<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/actors/Scheduler.scala</title>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: Scheduler.scala 17008 2009-01-30 17:31:21Z phaller $</span>

<span class="keyword">package</span> scala.actors

<span class="keyword">import</span> compat.Platform

<span class="keyword">import</span> java.lang.{Runnable, Thread, InterruptedException}

<span class="keyword">import</span> scala.collection.Set
<span class="keyword">import</span> scala.collection.mutable.{ArrayBuffer, Buffer, HashMap, Queue, Stack, HashSet}

<span class="comment">/**
 * The &lt;code&gt;Scheduler&lt;/code&gt; object is used by
 * &lt;code&gt;Actor&lt;/code&gt; to execute tasks of an execution of an actor.
 *
 * @version 0.9.18
 * @author Philipp Haller
 */</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object scala.actors.Scheduler</span><a id="8166">Scheduler</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.actors.IScheduler</span><a href="#8114">IScheduler</a></span> {

  <span class="typed"><span class="type">object scala.actors.Debug</span><a href="Debug.scala.html#8211">Debug</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="Debug.scala.html#40072">info</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;initializing &quot;)</span><span class="string">&quot;initializing &quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="keyword">this</span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="typed"><span class="type">java.lang.String(&quot;...&quot;)</span><span class="string">&quot;...&quot;</span></span>)

  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">scala.actors.IScheduler</span><span id="26803"><span id="26801"><span id="26802"><a id="129780">sched</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.IScheduler</span><a href="#8114">IScheduler</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a id="129783">s</a></span> = <span class="typed"><span class="type">()scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#27242" class="keyword">new</a></span> <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#7988">FJTaskScheduler2</a></span>
    <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129783">s</a></span>.<span class="typed"><span class="type">()Unit</span><a id="20759">start</a></span>()
    <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129783">s</a></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a id="26804">impl</a></span> = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.actors.IScheduler)Unit</span><a id="26805">impl_=</a></span> (<span class="typed"><span class="type">scala.actors.IScheduler</span><a id="129790">scheduler</a></span>: <span class="typed"><span class="type">scala.actors.IScheduler</span><a href="#8114">IScheduler</a></span>) = {
    <span class="typed"><span class="type">(scala.actors.IScheduler)Unit</span><a href="#26802">sched</a></span> = <span class="typed"><span class="type">scala.actors.IScheduler</span><a href="#129790">scheduler</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">scala.actors.LinkedQueue</span><span id="26808"><span id="26806"><span id="26807"><a id="129781">tasks</a></span></span></span></span>: <span class="typed"><span class="type">scala.actors.LinkedQueue</span><a href="LinkedQueue.java.html#8186">LinkedQueue</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="26811"><span id="26809"><span id="26810"><a id="129782">pendingCount</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/* Assumes &lt;code&gt;sched&lt;/code&gt; holds an instance
   * of &lt;code&gt;FJTaskScheduler2&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="26812">snapshot</a></span>(): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> =
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3499">isInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#7988">FJTaskScheduler2</a></span>]) {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a id="129792">fjts</a></span> = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#7988">FJTaskScheduler2</a></span>]
      <span class="typed"><span class="type">(scala.actors.LinkedQueue)Unit</span><a href="#26807">tasks</a></span> = <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129792">fjts</a></span>.<span class="typed"><span class="type">()scala.actors.LinkedQueue</span><a href="FJTaskScheduler2.scala.html#27287">snapshot</a></span>()
      <span class="typed"><span class="type">(Int)Unit</span><a href="#26810">pendingCount</a></span> = <span class="typed"><span class="type">=&gt; scala.actors.ActorGC</span><a href="#26817">actorGC</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="ActorGC.scala.html#26838">getPendingCount</a></span>
      <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129792">fjts</a></span>.<span class="typed"><span class="type">()Unit</span><a href="FJTaskScheduler2.scala.html#27286">shutdown</a></span>()
    } <span class="keyword">else</span>
      <span class="typed"><span class="type">(String)Nothing</span><a href="../Predef.scala.html#13358">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;snapshot operation not supported.&quot;)</span><span class="string">&quot;snapshot operation not supported.&quot;</span></span>)

  <span class="comment">/* Creates an instance of class &lt;code&gt;FJTaskScheduler2&lt;/code&gt;
   * and submits &lt;code&gt;tasks&lt;/code&gt; for execution.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="26813">restart</a></span>(): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = <span class="typed"><span class="type">(Unit)Unit</span><a id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">(scala.actors.IScheduler)Unit</span><a href="#26802">sched</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a id="129796">s</a></span> = <span class="typed"><span class="type">()scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#27242" class="keyword">new</a></span> <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="FJTaskScheduler2.scala.html#7988">FJTaskScheduler2</a></span>
      <span class="typed"><span class="type">=&gt; scala.actors.ActorGC</span><a href="#26817">actorGC</a></span>.<span class="typed"><span class="type">(Int)Unit</span><a href="ActorGC.scala.html#26839">setPendingCount</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#26809">pendingCount</a></span>)
      <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129796">s</a></span>.<span class="typed"><span class="type">()Unit</span><a id="20759">start</a></span>()
      <span class="typed"><span class="type">scala.actors.FJTaskScheduler2</span><a href="#129796">s</a></span>
    }
    <span class="comment">//Actor.timer = new java.util.Timer</span>
    <span class="typed"><span class="type">Unit</span><a href="#129795" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">=&gt; scala.actors.LinkedQueue</span><a href="#26806">tasks</a></span>.<span class="typed"><span class="type">()Boolean</span><a href="LinkedQueue.java.html#120980">isEmpty</a></span>()) {
      <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a href="#26777">execute</a></span>(<span class="typed"><span class="type">=&gt; scala.actors.LinkedQueue</span><a href="#26806">tasks</a></span>.<span class="typed"><span class="type">()java.lang.Object</span><a href="LinkedQueue.java.html#120978">take</a></span>().<span class="typed"><span class="type">scala.actors.FJTask</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTask</span><a href="FJTask.java.html#8084">FJTask</a></span>])
    }
    <span class="typed"><span class="type">(scala.actors.LinkedQueue)Unit</span><a href="#26807">tasks</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a id="26814">execute</a></span>(<span class="typed"><span class="type">java.lang.Runnable</span><a id="129841">task</a></span>: <span class="typed"><span class="type">java.lang.Runnable</span><a id="2063">Runnable</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.Thread</span><a id="129842">t</a></span> = <span class="typed"><span class="type">=&gt; java.lang.Thread</span><a href="../Predef.scala.html#13657">currentThread</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.Thread</span><a href="#129842">t</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3499">isInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="FJTaskRunner.java.html#8009">FJTaskRunner</a></span>]) {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a id="129843">tr</a></span> = <span class="typed"><span class="type">java.lang.Thread</span><a href="#129842">t</a></span>.<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="FJTaskRunner.java.html#8009">FJTaskRunner</a></span>]
      <span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="#129843">tr</a></span>.<span class="typed"><span class="type">(scala.actors.FJTask)Unit</span><a href="FJTaskRunner.java.html#120895">push</a></span>(<span class="typed"><span class="type">template $anon extends scala.actors.FJTask</span><a id="129845" class="keyword">new</a></span> <span class="typed"><span class="type">scala.actors.FJTask</span><a href="FJTask.java.html#8084">FJTask</a></span> {
        <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="129847">run</a></span>() { <span class="typed"><span class="type">java.lang.Runnable</span><a href="#129841">task</a></span>.<span class="typed"><span class="type">()Unit</span><a id="20801">run</a></span>() }
      })
    } <span class="keyword">else</span>
      <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span> <span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a href="#26777">execute</a></span> <span class="typed"><span class="type">java.lang.Runnable</span><a href="#129841">task</a></span>
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a id="26815">execute</a></span>(<span class="typed"><span class="type">=&gt; Unit</span><a id="129850">fun</a></span>: =&gt; Unit) {
    <span class="keyword">val</span> <span class="typed"><span class="type">java.lang.Thread</span><a id="129851">t</a></span> = <span class="typed"><span class="type">=&gt; java.lang.Thread</span><a href="../Predef.scala.html#13657">currentThread</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">java.lang.Thread</span><a href="#129851">t</a></span>.<span class="typed"><span class="type">Boolean</span><a id="3499">isInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="FJTaskRunner.java.html#8009">FJTaskRunner</a></span>]) {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a id="129852">tr</a></span> = <span class="typed"><span class="type">java.lang.Thread</span><a href="#129851">t</a></span>.<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="FJTaskRunner.java.html#8009">FJTaskRunner</a></span>]
      <span class="typed"><span class="type">scala.actors.FJTaskRunner</span><a href="#129852">tr</a></span>.<span class="typed"><span class="type">(scala.actors.FJTask)Unit</span><a href="FJTaskRunner.java.html#120895">push</a></span>(<span class="typed"><span class="type">template $anon extends scala.actors.FJTask</span><a id="129853" class="keyword">new</a></span> <span class="typed"><span class="type">scala.actors.FJTask</span><a href="FJTask.java.html#8084">FJTask</a></span> {
        <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="129855">run</a></span>() { <span class="typed"><span class="type">=&gt; Unit</span><a href="#129850">fun</a></span> }
      })
    } <span class="keyword">else</span>
      <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a href="#26776">execute</a></span> { <span class="typed"><span class="type">=&gt; Unit</span><a href="#129850">fun</a></span> }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="26816">shutdown</a></span>() = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">()Unit</span><a href="#26778">shutdown</a></span>()

  <span class="comment">/** The &lt;code&gt;ActorGC&lt;/code&gt; instance that keeps track of the
   *  live actor objects that are managed by &lt;code&gt;this&lt;/code&gt;
   *  scheduler.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.actors.ActorGC</span><a id="26817">actorGC</a></span>: <span class="typed"><span class="type">scala.actors.ActorGC</span><a href="ActorGC.scala.html#8195">ActorGC</a></span> = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">=&gt; scala.actors.ActorGC</span><a href="#26779">actorGC</a></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(() =&gt; Unit)Unit</span><a id="26818">onLockup</a></span>(<span class="typed"><span class="type">() =&gt; Unit</span><a id="129858">handler</a></span>: () =&gt; Unit) = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">(() =&gt; Unit)Unit</span><a href="#26780">onLockup</a></span>(<span class="typed"><span class="type">() =&gt; Unit</span><a href="#129858">handler</a></span>)
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)(() =&gt; Unit)Unit</span><a id="26819">onLockup</a></span>(<span class="typed"><span class="type">Int</span><a id="129862">millis</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>)(<span class="typed"><span class="type">() =&gt; Unit</span><a id="129863">handler</a></span>: () =&gt; Unit) = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">(Int)(() =&gt; Unit)Unit</span><a href="#26781">onLockup</a></span>(<span class="typed"><span class="type">Int</span><a href="#129862">millis</a></span>)(<span class="typed"><span class="type">() =&gt; Unit</span><a href="#129863">handler</a></span>)
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="26820">printActorDump</a></span> = <span class="typed"><span class="type">=&gt; scala.actors.IScheduler</span><a href="#26801">sched</a></span>.<span class="typed"><span class="type">=&gt; Unit</span><a href="#26782">printActorDump</a></span>
}


<span class="comment">/**
 * The &lt;code&gt;IScheduler&lt;/code&gt; trait provides a common interface
 * for all schedulers used to execute actor tasks.
 *
 * Subclasses of &lt;code&gt;Actor&lt;/code&gt; that override its
 * &lt;code&gt;scheduler&lt;/code&gt; member value must provide
 * an implementation of the &lt;code&gt;IScheduler&lt;/code&gt;
 * trait.
 *
 * @version 0.9.18
 * @author Philipp Haller
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait IScheduler extends java.lang.Object with ScalaObject</span><a id="8114">IScheduler</a></span> {

  <span class="comment">/** Submits a closure for execution.
   *
   *  @param  fun  the closure to be executed
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a id="26776">execute</a></span>(<span class="typed"><span class="type">=&gt; Unit</span><a id="26798">fun</a></span>: =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>

  <span class="comment">/** Submits a &lt;code&gt;Runnable&lt;/code&gt; for execution.
   *
   *  @param  task  the task to be executed
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a id="26777">execute</a></span>(<span class="typed"><span class="type">java.lang.Runnable</span><a id="26797">task</a></span>: <span class="typed"><span class="type">java.lang.Runnable</span><a id="2063">Runnable</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>

  <span class="comment">/** Shuts down the scheduler.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="26778">shutdown</a></span>(): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>

  <span class="comment">/** The &lt;code&gt;ActorGC&lt;/code&gt; instance that keeps track of the
   *  live actor objects that are managed by &lt;code&gt;this&lt;/code&gt;
   *  &lt;code&gt;IScheduler&lt;/code&gt; instance.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.actors.ActorGC</span><a id="26779">actorGC</a></span>: <span class="typed"><span class="type">scala.actors.ActorGC</span><a href="ActorGC.scala.html#8195">ActorGC</a></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(() =&gt; Unit)Unit</span><a id="26780">onLockup</a></span>(<span class="typed"><span class="type">() =&gt; Unit</span><a id="120860">handler</a></span>: () =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)(() =&gt; Unit)Unit</span><a id="26781">onLockup</a></span>(<span class="typed"><span class="type">Int</span><a id="120858">millis</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>)(<span class="typed"><span class="type">() =&gt; Unit</span><a id="120859">handler</a></span>: () =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="26782">printActorDump</a></span>: <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span>

  <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.Reaction</span><span id="26784"><a id="26783">QUIT_TASK</a></span></span> = <span class="typed"><span class="type">template $anon extends scala.actors.Reaction</span><a id="129870" class="keyword">new</a></span> <span class="typed"><span class="type">scala.actors.Reaction</span><a href="Reaction.scala.html#8234">Reaction</a></span>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="129872">run</a></span>(): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = <span class="typed"><span class="type">Unit</span><span >{</span></span>}
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()java.lang.String</span><a id="129873">toString</a></span>() = <span class="typed"><span class="type">java.lang.String(&quot;QUIT_TASK&quot;)</span><span class="string">&quot;QUIT_TASK&quot;</span></span>
  }
}


<span class="comment">/**
 * This scheduler executes the tasks of an actor on a single
 * thread (the current thread).
 *
 * @version 0.9.18
 * @author Philipp Haller
 */</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class SingleThreadedScheduler extends java.lang.Object with scala.actors.IScheduler with ScalaObject</span><a id="7955">SingleThreadedScheduler</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.actors.IScheduler</span><a href="#8114">IScheduler</a></span> {

  <span class="keyword">def</span> <span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a id="129886">execute</a></span>(<span class="typed"><span class="type">java.lang.Runnable</span><a id="129895">task</a></span>: <span class="typed"><span class="type">java.lang.Runnable</span><a id="2063">Runnable</a></span>) {
    <span class="typed"><span class="type">java.lang.Runnable</span><a href="#129895">task</a></span>.<span class="typed"><span class="type">()Unit</span><a id="20801">run</a></span>()
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(=&gt; Unit)Unit</span><a id="129887">execute</a></span>(<span class="typed"><span class="type">=&gt; Unit</span><a id="129896">fun</a></span>: =&gt; Unit): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> =
    <span class="typed"><span class="type">(java.lang.Runnable)Unit</span><a href="#129886">execute</a></span>(<span class="typed"><span class="type">template $anon extends java.lang.Object with java.lang.Runnable</span><a id="129898" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.Runnable</span><a id="2063">Runnable</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="129900">run</a></span>() { <span class="typed"><span class="type">=&gt; Unit</span><a href="#129896">fun</a></span> }
    })

  <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="129888">shutdown</a></span>() <span class="typed"><span class="type">Unit</span><span >{</span></span>}

  <span class="comment">/** The &lt;code&gt;ActorGC&lt;/code&gt; instance that keeps track of the
   *  live actor objects that are managed by &lt;code&gt;this&lt;/code&gt;
   *  scheduler.
   */</span>
  <span class="keyword">val</span> <span class="typed"><span class="type">scala.actors.ActorGC</span><span id="129890"><a id="129889">actorGC</a></span></span>: <span class="typed"><span class="type">scala.actors.ActorGC</span><a href="ActorGC.scala.html#8195">ActorGC</a></span> = <span class="typed"><span class="type">scala.actors.ActorGC</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.actors.ActorGC</span><a href="ActorGC.scala.html#8195">ActorGC</a></span>

  <span class="keyword">def</span> <span class="typed"><span class="type">(() =&gt; Unit)Unit</span><a id="129891">onLockup</a></span>(<span class="typed"><span class="type">() =&gt; Unit</span><a id="129903">handler</a></span>: () =&gt; Unit) <span class="typed"><span class="type">Unit</span><span >{</span></span>}
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)(() =&gt; Unit)Unit</span><a id="129892">onLockup</a></span>(<span class="typed"><span class="type">Int</span><a id="129904">millis</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>)(<span class="typed"><span class="type">() =&gt; Unit</span><a id="129905">handler</a></span>: () =&gt; Unit) <span class="typed"><span class="type">Unit</span><span >{</span></span>}
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="129893">printActorDump</a></span> <span class="typed"><span class="type">Unit</span><span >{</span></span>}
}


<span class="comment">/**
 * The &lt;code&gt;QuitException&lt;/code&gt; class is used to manage control flow
 * of certain schedulers and worker threads.
 *
 * @version 0.9.8
 * @author Philipp Haller
 */</span>
<span class="keyword">private</span>[actors] <span class="keyword">class</span> <span class="typed"><span class="type">class QuitException extends java.lang.Throwable with ScalaObject</span><a id="8168">QuitException</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">java.lang.Throwable</span><a href="../Predef.scala.html#13331">Throwable</a></span> {
  <span class="comment">/*
   For efficiency reasons we do not fill in
   the execution stack trace.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Throwable</span><a id="120929">fillInStackTrace</a></span>(): <span class="typed"><span class="type">Throwable</span><a id="2141">Throwable</a></span> = <span class="typed"><span class="type">scala.actors.QuitException</span><a href="#8168" class="keyword">this</a></span>
}

        </pre>
    </body>
</html>