<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/generic/SetTemplate.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: SetTemplate.scala 18387 2009-07-24 15:28:37Z odersky $

<span class="keyword">package</span> scala.collection.generic
<span class="keyword">import</span> scala.collection._

/** &lt;p&gt;
 *    A generic template for sets of type &lt;code&gt;A&lt;/code&gt;.&lt;br/&gt;
 *    To implement a concrete set, you need to provide implementations of the
 *    following methods (where &lt;code&gt;This&lt;/code&gt; is the type of the set in
 *    question):
 *  &lt;/p&gt;
 *  &lt;pre&gt;
 *    &lt;b&gt;def&lt;/b&gt; contains(key: A): Boolean
 *    &lt;b&gt;def&lt;/b&gt; iterator: Iterator[A]
 *    &lt;b&gt;def&lt;/b&gt; +(elem: A): This
 *    &lt;b&gt;def&lt;/b&gt; -(elem: A): This&lt;/pre&gt;
 *  &lt;p&gt;
 *    If you wish that methods &lt;code&gt;like&lt;/code&gt;, &lt;code&gt;take&lt;/code&gt;, &lt;code&gt;drop&lt;/code&gt;,
 *    &lt;code&gt;filter&lt;/code&gt; return the same kind of set, you should also override:
 *  &lt;/p&gt;
 *  &lt;pre&gt;
 *   &lt;b&gt;def&lt;/b&gt; empty: This&lt;/pre&gt;
 *  &lt;p&gt;
 *    It is also good idea to override methods &lt;code&gt;foreach&lt;/code&gt; and
 *    &lt;code&gt;size&lt;/code&gt; for efficiency.
 *  &lt;/p&gt;
 *
 *  @author  Martin Odersky
 *  @version 2.8
 */
<span class="keyword">trait</span> <a title="trait SetTemplate[A, +This &lt;: scala.collection.generic.SetTemplate[A,This] with scala.collection.Set[A]] extends java.lang.Object with scala.collection.generic.IterableTemplate[A,This] with scala.collection.generic.Addable[A,This] with scala.collection.generic.Subtractable[A,This] with ScalaObject" id="10240">SetTemplate</a>[<a title="&gt;: Nothing &lt;: Any" id="13523">A</a>, +<a title="&gt;: Nothing &lt;: scala.collection.generic.SetTemplate[A,This] with scala.collection.Set[A]" id="13524">This</a> &lt;: <a id="1">SetTemplate</a>[A, This] <span class="keyword">with</span> Set[A]] <a href="../../ScalaObject.scala.html#969" title="ScalaObject" class="keyword">extends</a> <a href="IterableTemplate.scala.html#11038" title="scala.collection.generic.IterableTemplate[A,This]">IterableTemplate</a>[A, This] <span class="keyword">with</span> <a href="Addable.scala.html#10894" title="scala.collection.generic.Addable[A,This]">Addable</a>[A, This] <span class="keyword">with</span> <a href="Subtractable.scala.html#10252" title="scala.collection.generic.Subtractable[A,This]">Subtractable</a>[A, This] { 
self =&gt;

  /* The empty set of the dame type as this set */
  <span class="keyword">def</span> <a title="=&gt; This" id="34387">empty</a>: <a href="#13524" title="This">This</a>

  /** A common implementation of &lt;code&gt;newBuilder&lt;/code&gt; for all sets in terms
   *  of &lt;code&gt;empty&lt;/code&gt;. Overridden for mutable sets in
   *  &lt;a href=&quot;MutableSetTemplate.html&quot; target=&quot;ContentFrame&quot;&gt;
   *  &lt;code&gt;MutableSetTemplate&lt;/code&gt;&lt;/a&gt;.
   */
  <span class="keyword">override</span> <span class="keyword">protected</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="=&gt; scala.collection.generic.Builder[A,This]" id="34388">newBuilder</a>: <a href="Builder.scala.html#10105" title="scala.collection.generic.Builder[A,This]">Builder</a>[A, This] = <span title="scala.collection.generic.AddingBuilder[A,This]" class="keyword">new</span> <a href="AddingBuilder.scala.html#10927" title="scala.collection.generic.AddingBuilder[A,This]">AddingBuilder</a>[A, This](<a href="#34387" title="=&gt; This">empty</a>)

  /** Checks if this set contains element &lt;code&gt;elem&lt;/code&gt;.
   *
   *  @param elem the element to check for membership.
   *  @return     &lt;code&gt;true&lt;/code&gt; iff &lt;code&gt;elem&lt;/code&gt; is contained in
   *              this set.
   */
  <span class="keyword">def</span> <a title="(elem: A)Boolean" id="34389">contains</a>(<a title="A" id="34500">elem</a>: <a href="#13523" title="A">A</a>): <span title="Boolean">Boolean</span>

  /** Creates a new set with an additional element, unless the element is
   *  already present.
   *
   *  @param elem the element to be added
   */
  <span class="keyword">def</span> <a title="(elem: A)This" id="34390">+</a> (<a title="A" id="34585">elem</a>: <a href="#13523" title="A">A</a>): <a href="#13524" title="This">This</a>

  /** Creates a new set with given element removed from this set, unless the
   *  element is not present.
   *
   *  @param elem the element to be removed
   */
  <span class="keyword">def</span> <a title="(elem: A)This" id="34391">-</a> (<a title="A" id="34636">elem</a>: <a href="#13523" title="A">A</a>): <a href="#13524" title="This">This</a>

  /** Checks if this set is empty.
   *
   *  @return &lt;code&gt;true&lt;/code&gt; iff there is no element in the set.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="34392">isEmpty</a>: <span title="Boolean">Boolean</span> = <a href="TraversableTemplate.scala.html#17244" title="(x$1: Int)Boolean">size</a> == <span title="Int(0)" class="int">0</span>

  /** This method allows sets to be interpreted as predicates.
   *  It returns &lt;code&gt;true&lt;/code&gt;, iff this set contains element
   *  &lt;code&gt;elem&lt;/code&gt;.
   *
   *  @param elem the element to check for membership.
   *  @return     &lt;code&gt;true&lt;/code&gt; iff &lt;code&gt;elem&lt;/code&gt; is contained in
   *              this set.
   */
  <span class="keyword">def</span> <a title="(elem: A)Boolean" id="34393">apply</a>(<a title="A" id="56958">elem</a>: <a href="#13523" title="A">A</a>): <span title="Boolean">Boolean</span> = <a href="#34389" title="(elem: A)Boolean">contains</a>(<a href="#56958" title="A">elem</a>)

  /** Returns a new set consisting of all elements that are both in the current
   *  set and in the argument set.
   *
   *  @param that the set to intersect with.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34394">intersect</a>(<a title="scala.collection.Set[A]" id="91850">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="TraversableTemplate.scala.html#17278" title="(p: (A) =&gt; Boolean)This">filter</a>(<a href="#91850" title="scala.collection.Set[A]">that</a>.<a href="#34389" title="(elem: A)Boolean">contains</a>)

  /** Returns a new set consisting of all elements that are both in the current
   *  set and in the argument set.
   *
   *  @param that the set to intersect with.
   *  @note  same as &lt;code&gt;intersect&lt;/code&gt;.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34395">&amp;</a>(<a title="scala.collection.Set[A]" id="91859">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="#34394" title="(that: scala.collection.Set[A])This">intersect</a>(<a href="#91859" title="scala.collection.Set[A]">that</a>)

 /**  This method is an alias for &lt;code&gt;intersect&lt;/code&gt;. 
   *  It computes an intersection with set &lt;code&gt;that&lt;/code&gt;.
   *  It removes all the elements that are not present in &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that the set to intersect with
   */
  @deprecated(<span class="string">&quot;use &amp; instead&quot;</span>) <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34396">**</a> (<a title="scala.collection.Set[A]" id="91863">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="#34394" title="(that: scala.collection.Set[A])This">intersect</a>(<a href="#91863" title="scala.collection.Set[A]">that</a>)
  
  /** The union of this set and the given set &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that the set of elements to add
   *  @return     a set containing the elements of this
   *              set and those of the given set &lt;code&gt;that&lt;/code&gt;.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34397">union</a>(<a title="scala.collection.Set[A]" id="91867">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="#10240" title="SetTemplate.this.type" class="keyword">this</a>.<a href="Addable.scala.html#20079" title="(elems: Traversable[A])This">++</a>(<a href="#91867" title="scala.collection.Set[A]">that</a>)

  /** The union of this set and the given set &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that the set of elements to add
   *  @return     a set containing the elements of this
   *              set and those of the given set &lt;code&gt;that&lt;/code&gt;.
   *  @note       same as &lt;code&gt;union&lt;/code&gt;.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34398">|</a> (<a title="scala.collection.Set[A]" id="91981">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="#34397" title="(that: scala.collection.Set[A])This">union</a>(<a href="#91981" title="scala.collection.Set[A]">that</a>)

  /** The difference of this set and the given set &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that the set of elements to remove
   *  @return     a set containing those elements of this
   *              set that are not also contained in the given set &lt;code&gt;that&lt;/code&gt;.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34399">diff</a>(<a title="scala.collection.Set[A]" id="91985">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="Subtractable.scala.html#20086" title="(elems: Traversable[A])This">--</a>(<a href="#91985" title="scala.collection.Set[A]">that</a>)

  /** The difference of this set and the given set &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that the set of elements to remove
   *  @return     a set containing those elements of this
   *              set that are not also contained in the given set &lt;code&gt;that&lt;/code&gt;.
   *  @note       same as &lt;code&gt;diff&lt;/code&gt;.
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])This" id="34400">&amp;~</a>(<a title="scala.collection.Set[A]" id="91999">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <a href="#13524" title="This">This</a> = <a href="#34399" title="(that: scala.collection.Set[A])This">diff</a>(<a href="#91999" title="scala.collection.Set[A]">that</a>)

  /** Checks if this set is a subset of set &lt;code&gt;that&lt;/code&gt;.
   *
   *  @param that another set.
   *  @return     &lt;code&gt;true&lt;/code&gt; iff the other set is a superset of
   *              this set.
   *  todo: rename to isSubsetOf  
   */
  <span class="keyword">def</span> <a title="(that: scala.collection.Set[A])Boolean" id="34401">subsetOf</a>(<a title="scala.collection.Set[A]" id="92003">that</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]): <span title="Boolean">Boolean</span> = <a href="TraversableTemplate.scala.html#17290" title="(p: (A) =&gt; Boolean)Boolean">forall</a>(<a href="#92003" title="scala.collection.Set[A]">that</a>.<a href="#34389" title="(elem: A)Boolean">contains</a>)

  /** Compares this set with another object and returns true, iff the
   *  other object is also a set which contains the same elements as
   *  this set.
   *
   *  @param that the other object
   *  @note not necessarily run-time type safe.
   *  @return     &lt;code&gt;true&lt;/code&gt; iff this set and the other set
   *              contain the same elements.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="34402">equals</a>(<a title="Any" id="92012">that</a>: <a title="Any" id="47">Any</a>): <span title="Boolean">Boolean</span> = <a href="#92012" title="Any">that</a> <span title="Boolean" class="keyword">match</span> {
    <span title="Boolean" class="keyword">case</span> <a title="scala.collection.Set[_]" id="92014">other</a>: <a href="../Set.scala.html#4397" title="scala.collection.Set[_]">Set</a>[_] =&gt; 
      <span title="Boolean" class="keyword">if</span> (<a href="#10240" title="SetTemplate.this.type" class="keyword">this</a>.<a href="TraversableTemplate.scala.html#17244" title="(x$1: Int)Boolean">size</a> == <a href="#92014" title="scala.collection.Set[_]">other</a>.<a href="TraversableTemplate.scala.html#17244" title="=&gt; Int">size</a>) 
        <span class="keyword">try</span> { // can we find a safer way to do this?
          <a href="#34401" title="(that: scala.collection.Set[A])Boolean">subsetOf</a>(<a href="#92014" title="scala.collection.Set[_]">other</a>.<a title="[T0]T0" id="3636">asInstanceOf</a><span title="scala.collection.Set[A]">[</span><a href="../Set.scala.html#4397" title="scala.collection.Set[A]">Set</a>[A]])
        } <span class="keyword">catch</span> {
          <span title="Boolean(false)" class="keyword">case</span> <a title="ClassCastException" id="92025">ex</a>: <a title="ClassCastException" id="1849">ClassCastException</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        }
      <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
    <span title="Boolean(false)" class="keyword">case</span> _ =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
  }

  /** Defines the prefix of this object's &lt;code&gt;toString&lt;/code&gt; representation.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="34403">stringPrefix</a>: <a title="String" id="1618">String</a> = <span title="java.lang.String(&quot;Set&quot;)" class="string">&quot;Set&quot;</span>

  /** Need to override string, so that it's not the Function1's string that gets mixed in.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="34404">toString</a> = <span class="keyword">super</span>[IterableTemplate].<a href="TraversableTemplate.scala.html#17359" title="()String">toString</a>
}




        </pre>
    </body>
</html>