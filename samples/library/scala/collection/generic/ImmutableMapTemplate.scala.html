<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/generic/ImmutableMapTemplate.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: ImmutableMapTemplate.scala 18387 2009-07-24 15:28:37Z odersky $


<span class="keyword">package</span> scala.collection.generic
<span class="keyword">import</span> scala.collection._

/** &lt;p&gt;
 *    A generic template for immutable maps from keys of type &lt;code&gt;A&lt;/code&gt;
 *    to values of type &lt;code&gt;B&lt;/code&gt;.&lt;br/&gt;
 *    To implement a concrete map, you need to provide implementations of the
 *    following methods (where &lt;code&gt;This&lt;/code&gt; is the type of the map in
 *    question):
 *  &lt;/p&gt;
 *  &lt;pre&gt;
 *    &lt;b&gt;def&lt;/b&gt; get(key: A): Option[B]
 *    &lt;b&gt;def&lt;/b&gt; iterator: Iterator[(A, B)]
 *    &lt;b&gt;def&lt;/b&gt; + [B1 &gt;: B](kv: (A, B)): Map[A, B1]
 *    &lt;b&gt;def&lt;/b&gt; - (key: A): This&lt;/pre&gt;
 *  &lt;p&gt;
 *    If you wish that methods &lt;code&gt;like&lt;/code&gt;, &lt;code&gt;take&lt;/code&gt;, &lt;code&gt;drop&lt;/code&gt;,
 *    &lt;code&gt;filter&lt;/code&gt; return the same kind of map, you should also override:
 *  &lt;/p&gt;
 *  &lt;pre&gt;
 *    &lt;b&gt;def&lt;/b&gt; empty: This&lt;/pre&gt;
 *  &lt;p&gt;
 *    It is also good idea to override methods &lt;code&gt;foreach&lt;/code&gt; and
 *    &lt;code&gt;size&lt;/code&gt; for efficiency.
 *  &lt;/p&gt;
 *
 *  @author  Martin Odersky
 *  @version 2.8
 */
<span class="keyword">trait</span> <a title="trait ImmutableMapTemplate[A, +B, +This &lt;: scala.collection.generic.ImmutableMapTemplate[A,B,This] with scala.collection.immutable.Map[A,B]] extends java.lang.Object with scala.collection.generic.MapTemplate[A,B,This] with ScalaObject" id="10396">ImmutableMapTemplate</a>[<a title="&gt;: Nothing &lt;: Any" id="16880">A</a>, +<a title="&gt;: Nothing &lt;: Any" id="16881">B</a>, +<a title="&gt;: Nothing &lt;: scala.collection.generic.ImmutableMapTemplate[A,B,This] with scala.collection.immutable.Map[A,B]" id="16882">This</a> &lt;: ImmutableMapTemplate[A, B, This] <span class="keyword">with</span> immutable.Map[A, B]] 
  <a href="../../ScalaObject.scala.html#969" title="ScalaObject" class="keyword">extends</a> <a href="MapTemplate.scala.html#10645" title="scala.collection.generic.MapTemplate[A,B,This]">MapTemplate</a>[A, B, This] { 
self =&gt;

  /** A new immutable map containing updating this map with a given key/value mapping. 
   *  @param    key the key
   *  @param    value the value
   *  @return   A new map with the new key/value mapping 
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](key: A,value: B1)scala.collection.immutable.Map[A,B1]" id="35435">updated</a> [<a title="&gt;: B &lt;: Any" id="35437">B1</a> &gt;: B](<a title="A" id="35512">key</a>: <a href="#16880" title="A">A</a>, <a title="B1" id="35513">value</a>: <a href="#35437" title="B1">B1</a>): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1] = <a href="#35438" title="(kv: (A, B1))scala.collection.immutable.Map[A,B1]" class="keyword">this</a> + (<a href="../../Tuple2.scala.html#20777" title="(_1: A,_2: B1)(A, B1)">(</a><a href="#35512" title="A">key</a>, <a href="#35513" title="B1">value</a>))

  /** Add a key/value pair to this map, returning a new map. 
   *  @param    kv the key/value pair
   *  @return   A new map with the new binding added to this map
   */
  <span class="keyword">def</span> <a title="[B1 &gt;: B](kv: (A, B1))scala.collection.immutable.Map[A,B1]" id="35438">+</a> [<a title="&gt;: B &lt;: Any" id="35440">B1</a> &gt;: B] (<a title="(A, B1)" id="35717">kv</a>: <a href="../../Tuple2.scala.html#1167" title="(A, B1)">(</a>A, B1)): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1]

  /** Adds two or more elements to this collection and returns
   *  a new collection.
   *
   *  @param elem1 the first element to add.
   *  @param elem2 the second element to add.
   *  @param elems the remaining elements to add.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](elem1: (A, B1),elem2: (A, B1),elems: (A, B1)*)scala.collection.immutable.Map[A,B1]" id="35441">+</a> [<a title="&gt;: B &lt;: Any" id="35443">B1</a> &gt;: B] (<a title="(A, B1)" id="35634">elem1</a>: <a href="../../Tuple2.scala.html#1167" title="(A, B1)">(</a>A, B1), <a title="(A, B1)" id="35635">elem2</a>: <a href="../../Tuple2.scala.html#1167" title="(A, B1)">(</a>A, B1), <a title="(A, B1)*" id="35636">elems</a>: <a title="(A, B1)*" id="4191">(</a>A, B1) *): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1] =
    <a href="#35438" title="(kv: (A, B1))scala.collection.immutable.Map[A,B1]" class="keyword">this</a> <a href="../immutable/Map.scala.html#35331" title="(kv: (A, B1))scala.collection.immutable.Map[A,B1]">+</a> <a href="#35634" title="(A, B1)">elem1</a> <a href="#35444" title="(elems: Traversable[(A, B1)])scala.collection.immutable.Map[A,B1]">+</a> <a href="#35635" title="(A, B1)">elem2</a> ++ <a href="#35636" title="(A, B1)*">elems</a>

  /** Adds a number of elements provided by a traversable object
   *  and returns a new collection with the added elements.
   *
   *  @param elems     the traversable object.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](elems: Traversable[(A, B1)])scala.collection.immutable.Map[A,B1]" id="35444">++</a>[<a title="&gt;: B &lt;: Any" id="35446">B1</a> &gt;: B](<a title="Traversable[(A, B1)]" id="36278">elems</a>: <a href="../Traversable.scala.html#4487" title="Traversable[(A, B1)]">Traversable</a>[(A, B1)]): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1] = 
    ((<a href="TraversableTemplate.scala.html#17237" title="=&gt; This">thisCollection</a>: immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1]) <a href="#256009" title="scala.collection.immutable.Map[A,B1]">/:</a> <a href="TraversableTemplate.scala.html#17297" title="(z: scala.collection.immutable.Map[A,B1])(op: (scala.collection.immutable.Map[A,B1], (A, B1)) =&gt; scala.collection.immutable.Map[A,B1])scala.collection.immutable.Map[A,B1]">elems</a>) (<a href="../immutable/Map.scala.html#35331" title="(kv: (A, B1))scala.collection.immutable.Map[A,B1]">_</a> + <a href="#256027" title="(A, B1)">_</a>)

  /** Adds a number of elements provided by an iterator
   *  and returns a new collection with the added elements.
   *
   *  @param iter   the iterator
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B1 &gt;: B](iter: Iterator[(A, B1)])scala.collection.immutable.Map[A,B1]" id="35447">++</a>[<a title="&gt;: B &lt;: Any" id="35449">B1</a> &gt;: B] (<a title="Iterator[(A, B1)]" id="36385">iter</a>: <a href="../Iterator.scala.html#4301" title="Iterator[(A, B1)]">Iterator</a>[(A, B1)]): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1] = 
    ((<a href="TraversableTemplate.scala.html#17237" title="=&gt; This">thisCollection</a>: immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1]) <a href="#256125" title="scala.collection.immutable.Map[A,B1]">/:</a> <a href="../Iterator.scala.html#19343" title="(z: scala.collection.immutable.Map[A,B1])(op: (scala.collection.immutable.Map[A,B1], (A, B1)) =&gt; scala.collection.immutable.Map[A,B1])scala.collection.immutable.Map[A,B1]">iter</a>) (<a href="../immutable/Map.scala.html#35331" title="(kv: (A, B1))scala.collection.immutable.Map[A,B1]">_</a> + <a href="#256138" title="(A, B1)">_</a>)

  /** This function transforms all the values of mappings contained
   *  in this map with function &lt;code&gt;f&lt;/code&gt;.
   *
   *  @param f A function over keys and values
   *  @return  the updated map
   */
  <span class="keyword">def</span> <a title="[C, That](f: (A, B) =&gt; C)(implicit bf: scala.collection.generic.BuilderFactory[(A, C),That,This])That" id="35450">transform</a>[<a title="&gt;: Nothing &lt;: Any" id="35453">C</a>, <a title="&gt;: Nothing &lt;: Any" id="35454">That</a>](<a title="(A, B) =&gt; C" id="173591">f</a>: (A, B) =&gt; C)(<span class="keyword">implicit</span> <a title="scala.collection.generic.BuilderFactory[(A, C),That,This]" id="173592">bf</a>: <a href="BuilderFactory.scala.html#10906" title="scala.collection.generic.BuilderFactory[(A, C),That,This]">BuilderFactory</a>[(A, C), That, This]): <a href="#35454" title="That">That</a> = {
    <span class="keyword">val</span> <a title="scala.collection.generic.Builder[(A, C),That]" id="256236">b</a> = <a href="BuilderFactory.scala.html#20591" title="(from: This)scala.collection.generic.Builder[(A, C),That]">bf</a>(<a href="TraversableTemplate.scala.html#17237" title="=&gt; This">thisCollection</a>)
    <span class="keyword">for</span> ((<a title="A" id="256274">key</a>, <a title="B" id="256275">value</a>) &lt;- <a href="IterableTemplate.scala.html#17394" title="(f: ((A, B)) =&gt; scala.collection.generic.Builder[(A, C),That])Unit" class="keyword">this</a>) <a href="Builder.scala.html#19696" title="(elem: (A, C))b.type">b</a> += (<a href="../../Tuple2.scala.html#20777" title="(_1: A,_2: C)(A, C)">(</a><a href="#256274" title="A">key</a>, <a href="../../Function2.scala.html#20550" title="(v1: A,v2: B)C">f</a>(<a href="#256274" title="A">key</a>, <a href="#256275" title="B">value</a>)))
    <a href="#256236" title="scala.collection.generic.Builder[(A, C),That]">b</a>.<a href="Builder.scala.html#19698" title="()That">result</a>
  }

  /** Returns a new map with all key/value pairs for which the predicate
   *  &lt;code&gt;p&lt;/code&gt; returns &lt;code&gt;true&lt;/code&gt;.
   *
   *  @param p A predicate over key-value pairs
   *  @note    This method works by successively removing elements fro which the
   *           predicate is false from this set.
   *           If removal is slow, or you expect that most elements of the set$
   *           will be removed, you might consider using &lt;code&gt;filter&lt;/code&gt;
   *           with a negated predicate instead. 
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(p: ((A, B)) =&gt; Boolean)This" id="35455">filterNot</a>(<a title="((A, B)) =&gt; Boolean" id="256314">p</a>: ((A, B)) =&gt; Boolean): <a href="#16882" title="This">This</a> = {
    <span class="keyword">var</span> <a title="This" id="256317">res</a>: <a href="#16882" title="This">This</a> = <a href="TraversableTemplate.scala.html#17237" title="=&gt; This">thisCollection</a>
    <span class="keyword">for</span> (<a title="(A, B)" id="256325">kv</a> &lt;- <a href="IterableTemplate.scala.html#17394" title="(f: ((A, B)) =&gt; Unit)Unit" class="keyword">this</a>)
      <span title="Unit" class="keyword">if</span> (<a href="../../Function1.scala.html#17226" title="(v1: (A, B))Boolean">p</a>(<a href="#256325" title="(A, B)">kv</a>)) <a href="#256317" title="This">res</a> = (<a href="MapTemplate.scala.html#35391" title="(key: A)This">res</a> - <a href="#256325" title="(A, B)">kv</a>.<a href="../../Tuple2.scala.html#20579" title="=&gt; A">_1</a>).<span title="[T0]T0">asInstanceOf</span><span title="This">[</span><a href="#16882" title="This">This</a>] // !!! concrete overrides abstract problem
    <a href="#256317" title="This">res</a>
  }

  @deprecated(<span class="string">&quot;use `updated' instead&quot;</span>)
  <span class="keyword">def</span> <a title="[B1 &gt;: B](key: A,value: B1)scala.collection.immutable.Map[A,B1]" id="35456">update</a>[<a title="&gt;: B &lt;: Any" id="35458">B1</a> &gt;: B](<a title="A" id="174297">key</a>: <a href="#16880" title="A">A</a>, <a title="B1" id="174298">value</a>: <a href="#35458" title="B1">B1</a>): immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1] = <a href="#35435" title="(key: A,value: B1)scala.collection.immutable.Map[A,B1]">updated</a>(<a href="#174297" title="A">key</a>, <a href="#174298" title="B1">value</a>).<span title="[T0]T0">asInstanceOf</span><span title="scala.collection.immutable.Map[A,B1]">[</span>immutable.<a href="../immutable/Map.scala.html#8949" title="scala.collection.immutable.Map[A,B1]">Map</a>[A, B1]]
}

        </pre>
    </body>
</html>