<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/jcl/MapWrapper.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://www.scala-lang.org/           **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: MapWrapper.scala 16884 2009-01-09 16:52:09Z cunei $</span>

<span class="keyword">package</span> scala.collection.jcl

<span class="comment">/** A wrapper around a Java map.
 *
 *  @author Sean McDirmid
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait MapWrapper[K, E] extends java.lang.Object with scala.collection.jcl.Map[K,E] with ScalaObject</span><a id="8575">MapWrapper</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="13697">K</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="13698">E</a></span>] <span class="keyword">extends</span> jcl.<span class="typed"><span class="type">scala.collection.jcl.Map[K,E]</span><a href="Map.scala.html#8521">Map</a></span>[K, E] {
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a id="29224">underlying</a></span>: java.util.<span class="typed"><span class="type">java.util.Map[K,E]</span><a id="5015">Map</a></span>[K, E]
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="29225">size</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()Int</span><a id="29279">size</a></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="29226">isEmpty</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="29280">isEmpty</a></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="29227">clear</a></span>() = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()Unit</span><a id="29291">clear</a></span>

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(K,E)Option[E]</span><a id="29228">put</a></span>(<span class="typed"><span class="type">K</span><a id="59032">key</a></span>: <span class="typed"><span class="type">K</span><a href="#13697">K</a></span>, <span class="typed"><span class="type">E</span><a id="59033">elem</a></span>: <span class="typed"><span class="type">E</span><a href="#13698">E</a></span>) = {
    <span class="comment">//if (elem == null) throw new IllegalArgumentException;</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">E</span><a id="59039">ret</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(K,E)E</span><a id="29284">put</a></span>(<span class="typed"><span class="type">K</span><a href="#59032">key</a></span>, <span class="typed"><span class="type">E</span><a href="#59033">elem</a></span>)
    <span class="typed"><span class="type">Option[E]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">E</span><a href="#59039">ret</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(E)Some[E]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">E</span><a href="#59039">ret</a></span>.<span class="typed"><span class="type">E</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">E</span><a href="#13698">E</a></span>])
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(K)Option[E]</span><a id="29229">get</a></span>(<span class="typed"><span class="type">K</span><a id="59041">key</a></span> : <span class="typed"><span class="type">K</span><a href="#13697">K</a></span>) : <span class="typed"><span class="type">Option[E]</span><a href="../../Option.scala.html#932">Option</a></span>[E] = {
    <span class="keyword">val</span> <span class="typed"><span class="type">E</span><a id="59042">ret</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(Any)E</span><a id="29283">get</a></span>(<span class="typed"><span class="type">K</span><a href="#59041">key</a></span>);
    <span class="typed"><span class="type">Option[E]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">E</span><a href="#59042">ret</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(E)Some[E]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">E</span><a href="#59042">ret</a></span>.<span class="typed"><span class="type">E</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">E</span><a href="#13698">E</a></span>]);
  }
  
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Iterable[(K, E)])Unit</span><a id="29230">++=</a></span>(<span class="typed"><span class="type">Iterable[(K, E)]</span><a id="59044">that</a></span> : <span class="typed"><span class="type">Iterable[(K, E)]</span><a href="../../Iterable.scala.html#401">Iterable</a></span>[Tuple2[K,E]]) : <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = <span class="typed"><span class="type">Iterable[(K, E)]</span><a href="#59044">that</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a id="59045">that</a></span> : <span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a href="#8575">MapWrapper</a></span>[_,_] =&gt; <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(java.util.Map[_ &lt;: K, _ &lt;: E])Unit</span><a id="29288">putAll</a></span>(<span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a href="#59045">that</a></span>.<span class="typed"><span class="type">=&gt; java.util.Map[_,_]</span><a href="#29224">underlying</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(Iterable[(K, E)])Unit</span><a href="#131837" class="keyword">super</a></span>.<span class="typed"><span class="type">(Iterable[(K, E)])Unit</span><span id="131837"><a id="131838">++=</a></span></span>(<span class="typed"><span class="type">Iterable[(K, E)]</span><a href="#59044">that</a></span>)
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(K)Option[E]</span><a id="29231">removeKey</a></span>(<span class="typed"><span class="type">K</span><a id="59053">key</a></span>: <span class="typed"><span class="type">K</span><a href="#13697">K</a></span>) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">E</span><a id="59057">ret</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(Any)E</span><a id="29285">remove</a></span>(<span class="typed"><span class="type">K</span><a href="#59053">key</a></span>)
    <span class="typed"><span class="type">Option[E]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">E</span><a href="#59057">ret</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">(E)Some[E]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">E</span><a href="#59057">ret</a></span>.<span class="typed"><span class="type">E</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">E</span><a href="#13698">E</a></span>])
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(K)Boolean</span><a id="29232">contains</a></span>(<span class="typed"><span class="type">K</span><a id="59059">key</a></span>: <span class="typed"><span class="type">K</span><a href="#13697">K</a></span>) = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><a id="29281">containsKey</a></span>(<span class="typed"><span class="type">K</span><a href="#59059">key</a></span>)
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.jcl.Set.Projection[K]</span><a id="29233">keySet</a></span>: Set.<span class="typed"><span class="type">scala.collection.jcl.Set.Projection[K]</span><a href="Set.scala.html#34692">Projection</a></span>[K] = <span class="typed"><span class="type">MapWrapper.this.KeySet</span><span class="keyword">new</span></span> <span class="typed"><span class="type">MapWrapper.this.KeySet</span><a href="#29237">KeySet</a></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.jcl.MutableIterable.Projection[E]</span><a id="29234">valueSet</a></span>: MutableIterable.<span class="typed"><span class="type">scala.collection.jcl.MutableIterable.Projection[E]</span><a href="MutableIterable.scala.html#21568">Projection</a></span>[E] = <span class="typed"><span class="type">MapWrapper.this.ValueSet</span><span class="keyword">new</span></span> <span class="typed"><span class="type">MapWrapper.this.ValueSet</span><a href="#29238">ValueSet</a></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.jcl.MutableIterator[(K, E)]</span><a id="29235">elements</a></span>: <span class="typed"><span class="type">scala.collection.jcl.MutableIterator[(K, E)]</span><a href="MutableIterator.scala.html#8665">MutableIterator</a></span>[Tuple2[K,E]] = <span class="typed"><span class="type">MapWrapper.this.IteratorWrapper</span><span class="keyword">new</span></span> <span class="typed"><span class="type">MapWrapper.this.IteratorWrapper</span><a href="#29236">IteratorWrapper</a></span>

  <span class="keyword">class</span> <span class="typed"><span class="type">class IteratorWrapper extends java.lang.Object with scala.collection.jcl.MutableIterator[(K, E)] with ScalaObject</span><a id="29236">IteratorWrapper</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.collection.jcl.MutableIterator[(K, E)]</span><a href="MutableIterator.scala.html#8665">MutableIterator</a></span>[Tuple2[K,E]] {
    <span class="keyword">val</span> <span class="typed"><span class="type">java.util.Iterator[java.util.Map.Entry[K,E]]</span><span id="59083"><a id="59082">underlying</a></span></span> = <span class="typed"><span class="type">MapWrapper.this.type</span><a href="#8575">MapWrapper</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()java.util.Set[java.util.Map.Entry[K,E]]</span><a id="29295">entrySet</a></span>.<span class="typed"><span class="type">()java.util.Iterator[java.util.Map.Entry[K,E]]</span><a id="34836">iterator</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="59084">hasNext</a></span> = <span class="typed"><span class="type">=&gt; java.util.Iterator[java.util.Map.Entry[K,E]]</span><a href="#59082">underlying</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="59097">hasNext</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="59085">remove</a></span> = <span class="typed"><span class="type">=&gt; java.util.Iterator[java.util.Map.Entry[K,E]]</span><a href="#59082">underlying</a></span>.<span class="typed"><span class="type">()Unit</span><a id="59099">remove</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">()(K, E)</span><a id="59086">next</a></span> = {
      <span class="keyword">val</span> <span class="typed"><span class="type">java.util.Map.Entry[K,E]</span><a id="59108">next</a></span> = <span class="typed"><span class="type">=&gt; java.util.Iterator[java.util.Map.Entry[K,E]]</span><a href="#59082">underlying</a></span>.<span class="typed"><span class="type">()java.util.Map.Entry[K,E]</span><a id="59098">next</a></span>.<span class="typed"><span class="type">java.util.Map.Entry[K,E]</span><a id="3501">asInstanceOf</a></span>[java.util.Map.<span class="typed"><span class="type">java.util.Map.Entry[K,E]</span><a id="29274">Entry</a></span>[K,E]]
      <span class="typed"><span class="type">(K,E)(K, E)</span><a href="../../Tuple2.scala.html#20366">Tuple2</a></span>(<span class="typed"><span class="type">java.util.Map.Entry[K,E]</span><a href="#59108">next</a></span>.<span class="typed"><span class="type">()K</span><a id="59090">getKey</a></span>.<span class="typed"><span class="type">K</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">K</span><a href="#13697">K</a></span>],<span class="typed"><span class="type">java.util.Map.Entry[K,E]</span><a href="#59108">next</a></span>.<span class="typed"><span class="type">()E</span><a id="59091">getValue</a></span>.<span class="typed"><span class="type">E</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">E</span><a href="#13698">E</a></span>])
    }
  }

  <span class="keyword">class</span> <span class="typed"><span class="type">class KeySet extends MapWrapper.this.KeySet with scala.collection.jcl.SetWrapper[K] with scala.collection.jcl.Set.Projection[K] with ScalaObject</span><a id="29237">KeySet</a></span> <span class="keyword">extends</span> <span class="keyword">super</span>.<span class="typed"><span class="type">MapWrapper.this.KeySet</span><a href="Map.scala.html#29206">KeySet</a></span> <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.jcl.SetWrapper[K]</span><a href="SetWrapper.scala.html#8503">SetWrapper</a></span>[K] <span class="keyword">with</span> Set.<span class="typed"><span class="type">scala.collection.jcl.Set.Projection[K]</span><a href="Set.scala.html#34692">Projection</a></span>[K] {
    <span class="keyword">val</span> <span class="typed"><span class="type">java.util.Set[K]</span><span id="59071"><a id="59070">underlying</a></span></span> = <span class="typed"><span class="type">MapWrapper.this.type</span><a href="#8575">MapWrapper</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()java.util.Set[K]</span><a id="29292">keySet</a></span>
  }

  <span class="keyword">class</span> <span class="typed"><span class="type">class ValueSet extends java.lang.Object with scala.collection.jcl.IterableWrapper[E] with scala.collection.jcl.MutableIterable.Projection[E] with ScalaObject</span><a id="29238">ValueSet</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.collection.jcl.IterableWrapper[E]</span><a href="IterableWrapper.scala.html#8746">IterableWrapper</a></span>[E] <span class="keyword">with</span> MutableIterable.<span class="typed"><span class="type">scala.collection.jcl.MutableIterable.Projection[E]</span><a href="MutableIterable.scala.html#21568">Projection</a></span>[E] {
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="59075">size</a></span> = <span class="typed"><span class="type">MapWrapper.this.type</span><a href="#8575">MapWrapper</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#29225">size</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">java.util.Collection[E]</span><span id="59077"><a id="59076">underlying</a></span></span> = <span class="typed"><span class="type">MapWrapper.this.type</span><a href="#8575">MapWrapper</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()java.util.Collection[E]</span><a id="29294">values</a></span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(E)Boolean</span><a id="59078">has</a></span>(<span class="typed"><span class="type">E</span><a id="59115">e</a></span> : <span class="typed"><span class="type">E</span><a href="#13698">E</a></span>) = <span class="typed"><span class="type">MapWrapper.this.type</span><a href="#8575">MapWrapper</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><a id="29282">containsValue</a></span>(<span class="typed"><span class="type">E</span><a href="#59115">e</a></span>)
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()java.lang.String</span><a id="29239">toString</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="5783">toString</a></span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Int</span><a id="29240">hashCode</a></span> = <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span>.<span class="typed"><span class="type">()Int</span><a id="5780">hashCode</a></span>

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Any)Boolean</span><a id="29241">equals</a></span>(<span class="typed"><span class="type">Any</span><a id="59123">that</a></span> : <span class="typed"><span class="type">Any</span><a id="49">Any</a></span>) = <span class="typed"><span class="type">Any</span><a href="#59123">that</a></span> <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> {
    <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a id="59125">that</a></span>: <span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a href="#8575">MapWrapper</a></span>[_,_] =&gt; <span class="typed"><span class="type">=&gt; java.util.Map[K,E]</span><a href="#29224">underlying</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">scala.collection.jcl.MapWrapper[_,_]</span><a href="#59125">that</a></span>.<span class="typed"><span class="type">=&gt; java.util.Map[_,_]</span><a href="#29224">underlying</a></span>
    <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(Any)Boolean</span><a href="#131839" class="keyword">super</a></span>.<span class="typed"><span class="type">(Any)Boolean</span><span id="131839"><a id="131840">equals</a></span></span>(<span class="typed"><span class="type">Any</span><a href="#59123">that</a></span>)
  }
}

        </pre>
    </body>
</html>