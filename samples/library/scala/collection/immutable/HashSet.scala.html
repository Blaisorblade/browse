<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/immutable/HashSet.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: HashSet.scala 16884 2009-01-09 16:52:09Z cunei $</span>

<span class="keyword">package</span> scala.collection.immutable

<span class="comment">/** The canonical factory methods for &lt;a href=&quot;HashSet.html&quot;&gt;immutable HashSet's&lt;la&gt;.
  *
  *  @author  Martin Odersky
  *  @version 2.0, 19/01/2007
  */</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object scala.collection.immutable.HashSet</span><a id="9204">HashSet</a></span> {

  <span class="comment">/** The empty set of this type.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">[A]scala.collection.immutable.HashSet[A]</span><a id="52281">empty</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="52283">A</a></span>] = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203">HashSet</a></span>[A]

  <span class="comment">/** The canonical factory for this type
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">[A](A*)scala.collection.immutable.Set[A]</span><a id="52284">apply</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="52286">A</a></span>](<span class="typed"><span class="type">A*</span><a id="52287">elems</a></span>: <span class="typed"><span class="type">A*</span><a id="2739">A</a></span>*) = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#52281">empty</a></span>[<span class="typed"><span class="type">A</span><a href="#52286">A</a></span>] <span class="typed"><span class="type">(Iterable[A])scala.collection.immutable.Set[A]</span><a href="Set.scala.html#50962">++</a></span> <span class="typed"><span class="type">A*</span><a href="#52287">elems</a></span>
}

<span class="comment">/** This class implements immutable maps/sets using a hash table.
  * It is optimized for sequential accesses where the last updated table is accessed most often.
  * It supports with reasonable efficiency accesses to previous versions of the table by keeping
  * a change log that's regularly compacted.
  * It needs to synchronize most methods, so it is less suitable for highly concurrent accesses.
  *
  *  @author  Martin Odersky
  *  @version 2.0, 19/01/2007
  */</span>
@<span class="typed"><span class="type">serializable</span><a href="../../serializable.scala.html#647">serializable</a></span>
<span class="keyword">class</span> <span class="typed"><span class="type">class HashSet[A] extends java.lang.Object with scala.collection.immutable.Set[A] with scala.collection.mutable.FlatHashTable[A] with ScalaObject</span><a id="9203">HashSet</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="14060">A</a></span>] <span class="keyword">extends</span> <span class="typed"><span class="type">scala.collection.immutable.Set[A]</span><a href="Set.scala.html#9491">Set</a></span>[A] <span class="keyword">with</span> mutable.<span class="typed"><span class="type">scala.collection.mutable.FlatHashTable[A]</span><a href="../mutable/FlatHashTable.scala.html#11431">FlatHashTable</a></span>[A] {
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><span id="52294"><span id="52292"><span id="52293"><a id="62002">later</a></span></span></span></span>: <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203">HashSet</a></span>[A] = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">A</span><span id="52297"><span id="52295"><span id="52296"><a id="62003">changedElem</a></span></span></span></span>: <span class="typed"><span class="type">A</span><a href="#14060">A</a></span> = _
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="52300"><span id="52298"><span id="52299"><a id="62004">deleted</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = _

  <span class="keyword">def</span> <span class="typed"><span class="type">[C]scala.collection.immutable.Set[C]</span><a id="52301">empty</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="52303">C</a></span>]: <span class="typed"><span class="type">scala.collection.immutable.Set[C]</span><a href="Set.scala.html#9491">Set</a></span>[C] = <span class="typed"><span class="type">scala.collection.immutable.EmptySet[C]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.immutable.EmptySet[C]</span><a href="EmptySet.scala.html#9185">EmptySet</a></span>[C]

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)Boolean</span><a id="52304">contains</a></span>(<span class="typed"><span class="type">A</span><a id="62006">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#14060">A</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = <span class="typed"><span class="type">(Boolean)Boolean</span><a href="#9203" id="5794">synchronized</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a id="62008">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="62009">cnt</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#62010" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">A</span><a href="#62006">elem</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#52295">changedElem</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52298">deleted</a></span>
      <span class="typed"><span class="type">Int</span><a href="#62009">cnt</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>
    }
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#62009">cnt</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#52309">logLimit</a></span>) <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#52311">makeCopy</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>)
    <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62008">m</a></span>.<span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#38169">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#62006">elem</a></span>)
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)scala.collection.immutable.Set[A]</span><a id="52305">+</a></span> (<span class="typed"><span class="type">A</span><a id="62040">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#14060">A</a></span>): <span class="typed"><span class="type">scala.collection.immutable.Set[A]</span><a href="Set.scala.html#9491">Set</a></span>[A] = <span class="typed"><span class="type">(scala.collection.immutable.Set[A])scala.collection.immutable.Set[A]</span><a href="#9203" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#52312">makeCopyIfUpdated</a></span>()
    <span class="typed"><span class="type">scala.collection.immutable.Set[A]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#38169">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#62040">elem</a></span>)) <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>
    <span class="keyword">else</span> {
      <span class="typed"><span class="type">(A,Boolean)Unit</span><a href="#52310">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a href="#62040">elem</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span> <span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#38170">addEntry</a></span> <span class="typed"><span class="type">A</span><a href="#62040">elem</a></span>
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(A)scala.collection.immutable.Set[A]</span><a id="52306">-</a></span> (<span class="typed"><span class="type">A</span><a id="62045">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#14060">A</a></span>): <span class="typed"><span class="type">scala.collection.immutable.Set[A]</span><a href="Set.scala.html#9491">Set</a></span>[A] = <span class="typed"><span class="type">(scala.collection.immutable.Set[A])scala.collection.immutable.Set[A]</span><a href="#9203" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#52312">makeCopyIfUpdated</a></span>()
    <span class="typed"><span class="type">scala.collection.immutable.Set[A]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#38169">containsEntry</a></span>(<span class="typed"><span class="type">A</span><a href="#62045">elem</a></span>)) <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>
    <span class="keyword">else</span> {
      <span class="typed"><span class="type">(A,Boolean)Unit</span><a href="#52310">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a href="#62045">elem</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span> <span class="typed"><span class="type">(A)Option[A]</span><a href="../mutable/FlatHashTable.scala.html#38171">removeEntry</a></span> <span class="typed"><span class="type">A</span><a href="#62045">elem</a></span>
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>
    }
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="52307">size</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">(Int)Int</span><a href="#9203" id="5794">synchronized</a></span> {
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a id="62050">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="62051">cnt</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="62052">s</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#62053" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52298">deleted</a></span>) <span class="typed"><span class="type">Int</span><a href="#62052">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#62052">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">Int</span><a href="#62051">cnt</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>
    }
    <span class="typed"><span class="type">Int</span><a href="#62052">s</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38161">tableSize</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#62051">cnt</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#52309">logLimit</a></span>) <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#52311">makeCopy</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62050">m</a></span>)  
    <span class="typed"><span class="type">Int</span><a href="#62052">s</a></span>
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterator[A]</span><a id="52308">elements</a></span> = <span class="typed"><span class="type">(Iterator[A])Iterator[A]</span><a href="#9203" id="5794">synchronized</a></span> {
    <span class="typed"><span class="type">()Unit</span><a href="#52312">makeCopyIfUpdated</a></span>()
    <span class="comment">// note need to cache because (later versions of) set might be mutated while elements are traversed.</span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.Buffer[A]</span><a id="62243">cached</a></span> = <span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[A]</span><span class="keyword">new</span></span> mutable.<span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[A]</span><a href="../mutable/ArrayBuffer.scala.html#11377">ArrayBuffer</a></span>() <span class="typed"><span class="type">(Iterator[A])scala.collection.mutable.Buffer[A]</span><a href="../mutable/Buffer.scala.html#19238">++</a></span> <span class="keyword">super</span>.<span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[A]</span><a href="../mutable/FlatHashTable.scala.html#38172">elements</a></span>
    <span class="typed"><span class="type">scala.collection.mutable.Buffer[A]</span><a href="#62243">cached</a></span>.<span class="typed"><span class="type">=&gt; Iterator[A]</span><a href="../../Iterable.scala.html#17309">elements</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="52309">logLimit</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">object Math</span><a href="../../Math.scala.html#606">Math</a></span>.<span class="typed"><span class="type">(Int)Int</span><a href="../../Math.scala.html#25133">sqrt</a></span>(<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Array.scala.html#17252">length</a></span>).<span class="typed"><span class="type">=&gt; Int</span><a id="3083">toInt</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A,Boolean)Unit</span><a id="52310">markUpdated</a></span>(<span class="typed"><span class="type">A</span><a id="62042">elem</a></span>: <span class="typed"><span class="type">A</span><a href="#14060">A</a></span>, <span class="typed"><span class="type">Boolean</span><a id="62043">del</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span>) { 
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="62272">lv</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38153">loadFactor</a></span>
    <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#52293">later</a></span> = <span class="typed"><span class="type">template $anon extends scala.collection.immutable.HashSet[A]</span><a id="62274" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203">HashSet</a></span>[A] {
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="62276">initialSize</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="62277">loadFactor</a></span> = <span class="typed"><span class="type">Int</span><a href="#62272">lv</a></span>
      <span class="typed"><span class="type">(Array[AnyRef])Unit</span><a href="../mutable/FlatHashTable.scala.html#38159">table</a></span>     = <span class="typed"><span class="type">HashSet.this.type</span><a href="#9203">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>
      <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#38162">tableSize</a></span> = <span class="typed"><span class="type">HashSet.this.type</span><a href="#9203">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38161">tableSize</a></span>
      <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#38165">threshold</a></span> = <span class="typed"><span class="type">HashSet.this.type</span><a href="#9203">HashSet</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38164">threshold</a></span>
    }
    <span class="typed"><span class="type">(A)Unit</span><a href="#52296">changedElem</a></span> = <span class="typed"><span class="type">A</span><a href="#62042">elem</a></span>
    <span class="typed"><span class="type">(Boolean)Unit</span><a href="#52299">deleted</a></span> = <span class="typed"><span class="type">Boolean</span><a href="#62043">del</a></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a id="52311">makeCopy</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a id="62038">last</a></span>: <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203">HashSet</a></span>[A]) {
    <span class="keyword">def</span> <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a id="62280">undo</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a id="62281">m</a></span>: <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203">HashSet</a></span>[A]) {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62281">m</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">ne</a></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62038">last</a></span>) {
        <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#62280">undo</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62281">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>)
        <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62281">m</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#52298">deleted</a></span>) <span class="typed"><span class="type">(A)Boolean</span><a href="../mutable/FlatHashTable.scala.html#38170">addEntry</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62281">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#52295">changedElem</a></span>)
        <span class="keyword">else</span> <span class="typed"><span class="type">(A)Option[A]</span><a href="../mutable/FlatHashTable.scala.html#38171">removeEntry</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62281">m</a></span>.<span class="typed"><span class="type">=&gt; A</span><a href="#52295">changedElem</a></span>)
      }
    }
    <span class="typed"><span class="type">(Array[AnyRef])Unit</span><a href="../mutable/FlatHashTable.scala.html#38159">table</a></span> = <span class="typed"><span class="type">Array[AnyRef]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[AnyRef]</span><a href="../../Array.scala.html#1070">Array</a></span>[AnyRef](<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62038">last</a></span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Array.scala.html#17252">length</a></span>)
    <span class="typed"><span class="type">object Array</span><a href="../../Array.scala.html#1071">Array</a></span>.<span class="typed"><span class="type">(AnyRef,Int,AnyRef,Int,Int)Unit</span><a href="../../Array.scala.html#17068">copy</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62038">last</a></span>.<span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>, <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; Array[AnyRef]</span><a href="../mutable/FlatHashTable.scala.html#38158">table</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Array.scala.html#17252">length</a></span>)
    <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#38162">tableSize</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62038">last</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38161">tableSize</a></span>
    <span class="typed"><span class="type">(Int)Unit</span><a href="../mutable/FlatHashTable.scala.html#38165">threshold</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62038">last</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../mutable/FlatHashTable.scala.html#38164">threshold</a></span>
    <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#62280">undo</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>)
    <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#52293">later</a></span> = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="52312">makeCopyIfUpdated</a></span>() {
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a id="62285">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#62286" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62285">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62285">m</a></span> = <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62285">m</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.HashSet[A]</span><a href="#52292">later</a></span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62285">m</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5793">ne</a></span> <span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#9203" class="keyword">this</a></span>) <span class="typed"><span class="type">(scala.collection.immutable.HashSet[A])Unit</span><a href="#52311">makeCopy</a></span>(<span class="typed"><span class="type">scala.collection.immutable.HashSet[A]</span><a href="#62285">m</a></span>)
  }
}


        </pre>
    </body>
</html>