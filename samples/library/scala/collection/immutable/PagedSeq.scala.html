<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/immutable/PagedSeq.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: PagedSeq.scala 14497 2008-04-04 12:09:06Z washburn $</span>


<span class="keyword">package</span> scala.collection.immutable

<span class="keyword">import</span> java.io._
<span class="keyword">import</span> util.matching.Regex


<span class="comment">/** The PagedSeq object defines a lazy implementations of 
 *  a random access sequence. 
 */</span>  
<span class="keyword">object</span> <span class="typed"><span class="type">object scala.collection.immutable.PagedSeq</span><a id="9582">PagedSeq</a></span> {
  <span class="keyword">final</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="35347"><a id="35346">UndeterminedEnd</a></span></span> = <span class="typed"><span class="type">object Math</span><a href="../../Math.scala.html#606">Math</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../Math.scala.html#25087">MAX_INT</a></span>

  <span class="comment">/** Constructs a character sequence from a character iterator */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">[T](Iterator[T])scala.collection.immutable.PagedSeq[T]</span><a id="35348">fromIterator</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="35350">T</a></span>](<span class="typed"><span class="type">Iterator[T]</span><a id="103308">source</a></span>: <span class="typed"><span class="type">Iterator[T]</span><a href="../../Iterator.scala.html#1337">Iterator</a></span>[T]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[T]</span><a href="#9581">PagedSeq</a></span>[T] = 
    <span class="typed"><span class="type">((Array[T], Int, Int) =&gt; Int)scala.collection.immutable.PagedSeq[T]</span><a href="#35371" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[T]</span><a href="#9581">PagedSeq</a></span>[T]((<span class="typed"><span class="type">Array[T]</span><a id="103311">data</a></span>: <span class="typed"><span class="type">Array[T]</span><a href="../../Array.scala.html#1070">Array</a></span>[T], <span class="typed"><span class="type">Int</span><a id="103312">start</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="103313">len</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) =&gt; {
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="103314">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
      <span class="typed"><span class="type">Unit</span><a href="#103315" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#103314">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#103313">len</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">Iterator[T]</span><a href="#103308">source</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../Iterator.scala.html#19975">hasNext</a></span>) {
        <span class="typed"><span class="type">Array[T]</span><a href="#103311">data</a></span>(<span class="typed"><span class="type">Int</span><a href="#103312">start</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#103314">i</a></span>) = <span class="typed"><span class="type">Iterator[T]</span><a href="#103308">source</a></span>.<span class="typed"><span class="type">()T</span><a href="../../Iterator.scala.html#19976">next</a></span>
        <span class="typed"><span class="type">Int</span><a href="#103314">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      }
      <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103314">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#103314">i</a></span>
    })

  <span class="comment">/** Constructs a character sequence from a character iterable */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">[T](Iterable[T])scala.collection.immutable.PagedSeq[T]</span><a id="35351">fromIterable</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="35353">T</a></span>](<span class="typed"><span class="type">Iterable[T]</span><a id="103360">source</a></span>: <span class="typed"><span class="type">Iterable[T]</span><a href="../../Iterable.scala.html#401">Iterable</a></span>[T]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[T]</span><a href="#9581">PagedSeq</a></span>[T] = 
    <span class="typed"><span class="type">(Iterator[T])scala.collection.immutable.PagedSeq[T]</span><a href="#35348">fromIterator</a></span>(<span class="typed"><span class="type">Iterable[T]</span><a href="#103360">source</a></span>.<span class="typed"><span class="type">=&gt; Iterator[T]</span><a href="../../Iterable.scala.html#17309">elements</a></span>)

  <span class="comment">/** Constructs a character sequence from a string iterator */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a id="35354">fromStrings</a></span>(<span class="typed"><span class="type">Iterator[String]</span><a id="103362">source</a></span>: <span class="typed"><span class="type">Iterator[String]</span><a href="../../Iterator.scala.html#1337">Iterator</a></span>[String]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] = {
    <span class="keyword">var</span> <span class="typed"><span class="type">String</span><a id="103363">current</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(Array[Char],Int,Int)Int</span><a id="103364">more</a></span>(<span class="typed"><span class="type">Array[Char]</span><a id="103365">data</a></span>: <span class="typed"><span class="type">Array[Char]</span><a href="../../Array.scala.html#1070">Array</a></span>[Char], <span class="typed"><span class="type">Int</span><a id="103366">start</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="103367">len</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> =
      <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">String</span><a href="#103363">current</a></span>.<span class="typed"><span class="type">()Int</span><a id="5819">length</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3140">!=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) {
        <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="103371">cnt</a></span> = <span class="typed"><span class="type">String</span><a href="#103363">current</a></span>.<span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><a href="../../Predef.scala.html#13511" id="5819">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a href="../../runtime/RichInt.scala.html#19405">min</a></span> <span class="typed"><span class="type">Int</span><a href="#103367">len</a></span>
        <span class="typed"><span class="type">String</span><a href="#103363">current</a></span>.<span class="typed"><span class="type">(Int,Int,Array[Char],Int)Unit</span><a id="5826">getChars</a></span>(<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>, <span class="typed"><span class="type">Array[Char]</span><a href="#103365">data</a></span>, <span class="typed"><span class="type">Int</span><a href="#103366">start</a></span>)
        <span class="typed"><span class="type">String</span><a href="#103363">current</a></span> = <span class="typed"><span class="type">String</span><a href="#103363">current</a></span>.<span class="typed"><span class="type">(Int)java.lang.String</span><a id="5852">substring</a></span>(<span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>)
        <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int</span><a href="#103367">len</a></span>) <span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>
        <span class="keyword">else</span> (<span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><a href="../../Predef.scala.html#13511">more</a></span>(<span class="typed"><span class="type">Array[Char]</span><a href="#103365">data</a></span>, <span class="typed"><span class="type">Int</span><a href="#103366">start</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>, <span class="typed"><span class="type">Int</span><a href="#103367">len</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>) <span class="typed"><span class="type">(Int)Int</span><a href="../../runtime/RichInt.scala.html#19406">max</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#103371">cnt</a></span>
      } <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Iterator[String]</span><a href="#103362">source</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../Iterator.scala.html#19975">hasNext</a></span>) {
        <span class="typed"><span class="type">String</span><a href="#103363">current</a></span> = <span class="typed"><span class="type">Iterator[String]</span><a href="#103362">source</a></span>.<span class="typed"><span class="type">()String</span><a href="../../Iterator.scala.html#19976">next</a></span>
        <span class="typed"><span class="type">(Array[Char],Int,Int)Int</span><a href="#103364">more</a></span>(<span class="typed"><span class="type">Array[Char]</span><a href="#103365">data</a></span>, <span class="typed"><span class="type">Int</span><a href="#103366">start</a></span>, <span class="typed"><span class="type">Int</span><a href="#103367">len</a></span>)
      } <span class="keyword">else</span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">((Array[Char], Int, Int) =&gt; Int)scala.collection.immutable.PagedSeq[Char]</span><a href="#35371" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>(<span class="typed"><span class="type">(Array[Char],Int,Int)Int</span><a href="#103364">more</a></span>(<span class="typed"><span class="type">Array[Char]</span><a href="#103437">_</a></span>: <span class="typed"><span class="type">Array[Char]</span><a href="../../Array.scala.html#1070">Array</a></span>[Char], <span class="typed"><span class="type">Int</span><a href="#103438">_</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a href="#103439">_</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>))
  }

  <span class="comment">/** Constructs a character sequence from a string iterable */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Iterable[String])scala.collection.immutable.PagedSeq[Char]</span><a id="35355">fromStrings</a></span>(<span class="typed"><span class="type">Iterable[String]</span><a id="103440">source</a></span>: <span class="typed"><span class="type">Iterable[String]</span><a href="../../Iterable.scala.html#401">Iterable</a></span>[String]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] = 
    <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a href="#35354">fromStrings</a></span>(<span class="typed"><span class="type">Iterable[String]</span><a href="#103440">source</a></span>.<span class="typed"><span class="type">=&gt; Iterator[String]</span><a href="../../Iterable.scala.html#17309">elements</a></span>)

  <span class="comment">/** Constructs a character sequence from a line iterator
   *  Lines do not contain trailing `\n' characters; The method inserts
   *  a line separator `\n' between any two lines in the sequence.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a id="35356">fromLines</a></span>(<span class="typed"><span class="type">Iterator[String]</span><a id="103442">source</a></span>: <span class="typed"><span class="type">Iterator[String]</span><a href="../../Iterator.scala.html#1337">Iterator</a></span>[String]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><a id="103443">isFirst</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
    <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a href="#35354">fromStrings</a></span>(<span class="typed"><span class="type">Iterator[String]</span><a href="#103442">source</a></span> <span class="typed"><span class="type">((String) =&gt; String)Iterator[String]</span><a href="../../Iterator.scala.html#19980">map</a></span> { <span class="typed"><span class="type">String</span><a id="103447">line</a></span> =&gt;
      <span class="typed"><span class="type">String</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Boolean</span><a href="#103443">isFirst</a></span>) <span class="typed"><span class="type">String</span><a href="#103447">line</a></span> 
      <span class="keyword">else</span> { 
        <span class="typed"><span class="type">Boolean</span><a href="#103443">isFirst</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
        <span class="typed"><span class="type">java.lang.String(&quot;\012&quot;)</span><span class="string">&quot;\n&quot;</span></span><span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span><span class="typed"><span class="type">String</span><a href="#103447">line</a></span>
      }
    }) 
  }                    

  <span class="comment">/** Constructs a character sequence from a line iterable
   *  Lines do not contain trailing `\n' characters; The method inserts
   *  a line separator `\n' between any two lines in the sequence.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Iterable[String])scala.collection.immutable.PagedSeq[Char]</span><a id="35357">fromLines</a></span>(<span class="typed"><span class="type">Iterable[String]</span><a id="103448">source</a></span>: <span class="typed"><span class="type">Iterable[String]</span><a href="../../Iterable.scala.html#401">Iterable</a></span>[String]): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] =
    <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a href="#35356">fromLines</a></span>(<span class="typed"><span class="type">Iterable[String]</span><a href="#103448">source</a></span>.<span class="typed"><span class="type">=&gt; Iterator[String]</span><a href="../../Iterable.scala.html#17309">elements</a></span>)

  <span class="comment">/** Constructs a character sequence from an input reader
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.Reader)scala.collection.immutable.PagedSeq[Char]</span><a id="35358">fromReader</a></span>(<span class="typed"><span class="type">java.io.Reader</span><a id="36614">source</a></span>: <span class="typed"><span class="type">java.io.Reader</span><a id="3553">Reader</a></span>): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] =
    <span class="typed"><span class="type">((Array[Char], Int, Int) =&gt; Int)scala.collection.immutable.PagedSeq[Char]</span><a href="#35371" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>(<span class="typed"><span class="type">java.io.Reader</span><a href="#36614">source</a></span>.<span class="typed"><span class="type">(Array[Char],Int,Int)Int</span><a id="26306">read</a></span>(<span class="typed"><span class="type">Array[Char]</span><a href="#103453">_</a></span>: <span class="typed"><span class="type">Array[Char]</span><a href="../../Array.scala.html#1070">Array</a></span>[Char], <span class="typed"><span class="type">Int</span><a href="#103454">_</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a href="#103455">_</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>))

  <span class="comment">/** Constructs a character sequence from an input file
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)scala.collection.immutable.PagedSeq[Char]</span><a id="35359">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="103477">source</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] = 
    <span class="typed"><span class="type">(java.io.Reader)scala.collection.immutable.PagedSeq[Char]</span><a href="#35358">fromReader</a></span>(<span class="typed"><span class="type">(java.io.File)java.io.FileReader</span><a id="103479" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileReader</span><a id="3826">FileReader</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#103477">source</a></span>))
    
  <span class="comment">/** Constructs a character sequence from a file with given name
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)scala.collection.immutable.PagedSeq[Char]</span><a id="35360">fromFile</a></span>(<span class="typed"><span class="type">String</span><a id="103482">source</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[Char]</span><a href="#9581">PagedSeq</a></span>[Char] = 
    <span class="typed"><span class="type">(java.io.File)scala.collection.immutable.PagedSeq[Char]</span><a href="#35359">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>(<span class="typed"><span class="type">String</span><a href="#103482">source</a></span>))

  <span class="comment">/** Constructs a character sequence from a scala.io.Source value
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(scala.io.Source)scala.collection.immutable.PagedSeq[Char]</span><a id="35361">fromSource</a></span>(<span class="typed"><span class="type">scala.io.Source</span><a id="103486">source</a></span>: io.<span class="typed"><span class="type">scala.io.Source</span><a href="../../io/Source.scala.html#9107">Source</a></span>) = 
    <span class="typed"><span class="type">(Iterator[String])scala.collection.immutable.PagedSeq[Char]</span><a href="#35356">fromLines</a></span>(<span class="typed"><span class="type">scala.io.Source</span><a href="#103486">source</a></span>.<span class="typed"><span class="type">=&gt; Iterator[String]</span><a href="../../io/Source.scala.html#22172">getLines</a></span>)
}


<span class="keyword">import</span> PagedSeq._

<span class="comment">/** An implementation of lazily computed sequences, where elements are stored
 *  in ``pages'', i.e. arrays of fixed size.
 *
 * @author Martin Odersky 
 */</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class PagedSeq[T] extends java.lang.Object with RandomAccessSeq[T] with ScalaObject</span><a id="9581">PagedSeq</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="15990">T</a></span>] <span class="keyword">protected</span> (<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><span id="35366"><a id="36673">more</a></span></span>: (Array[T], Int, Int) =&gt; Int, 
                             <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span id="35367"><a id="36674">first</a></span></span>: <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T], <span class="typed"><span class="type">Int</span><span id="35368"><a id="36675">start</a></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><span id="35369"><a id="36676">end</a></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">RandomAccessSeq[T]</span><a href="../../RandomAccessSeq.scala.html#665">RandomAccessSeq</a></span>[T] {

  <span class="comment">/**  A paged sequence is constructed from a method that produces more characters when asked.
   *  The producer method is analogous to the read method in java.io.Reader.
   *  It takes three parameters: an array of characters, a start index, and an end index.
   *  It should try to fill the array between start and end indices (not including end index).
   *  It returns the number of characters produced, or -1 if end of logical input stream was reached
   *  before any character was read.
   */</span>  
  <span class="keyword">def</span> <span class="typed"><span class="type">((Array[T], Int, Int) =&gt; Int)scala.collection.immutable.PagedSeq[T]</span><a id="35371" class="keyword">this</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a id="36658">more</a></span>: (Array[T], Int, Int) =&gt; Int) = <span class="typed"><span class="type">PagedSeq.this.type</span><a href="#9581" class="keyword">this</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a href="#36658">more</a></span>, <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T](<span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>), <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#35346">UndeterminedEnd</a></span>)
  
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span id="35374"><span id="35372"><span id="35373"><a id="103494">current</a></span></span></span></span>: <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T] = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#35367">first</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a id="35375">latest</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#35367">first</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35442">latest</a></span>

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">()scala.collection.immutable.Page[T]</span><a id="35376">addMore</a></span>() = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35375">latest</a></span>.<span class="typed"><span class="type">((Array[T], Int, Int) =&gt; Int)scala.collection.immutable.Page[T]</span><a href="#35444">addMore</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a href="#35366">more</a></span>)

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)scala.collection.immutable.Page[T]</span><a id="35377">page</a></span>(<span class="typed"><span class="type">Int</span><a id="35415">absindex</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#35415">absindex</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#35440">start</a></span>) 
      <span class="typed"><span class="type">(scala.collection.immutable.Page[T])Unit</span><a href="#35373">current</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#35367">first</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#35417" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#35415">absindex</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#35441">end</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
      <span class="typed"><span class="type">(scala.collection.immutable.Page[T])Unit</span><a href="#35373">current</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#35418" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#35415">absindex</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#35441">end</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#35435">isLast</a></span>) {
      <span class="typed"><span class="type">(scala.collection.immutable.Page[T])Unit</span><a href="#35373">current</a></span> = <span class="typed"><span class="type">()scala.collection.immutable.Page[T]</span><a href="#35376">addMore</a></span>()
    }
    <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35372">current</a></span>
  }

  <span class="comment">/** The length of the character sequence
   *  Note: calling this method will force sequence to be read until the end.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="35378">length</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = {
    <span class="typed"><span class="type">Unit</span><a href="#103515" class="keyword">while</a></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35375">latest</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#35435">isLast</a></span>) <span class="typed"><span class="type">()scala.collection.immutable.Page[T]</span><a href="#35376">addMore</a></span>()
    (<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35375">latest</a></span>.<span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><a href="../../Predef.scala.html#13511">end</a></span> <span class="typed"><span class="type">(Int)Int</span><a href="../../runtime/RichInt.scala.html#19405">min</a></span> <span class="typed"><span class="type">Int</span><a href="#35369">end</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span>
  }

  <span class="comment">/** The character at position `index'. 
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)T</span><a id="35379">apply</a></span>(<span class="typed"><span class="type">Int</span><a id="35483">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) =
    <span class="typed"><span class="type">T</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int)Boolean</span><a href="#35380">isDefinedAt</a></span>(<span class="typed"><span class="type">Int</span><a href="#35483">index</a></span>)) <span class="typed"><span class="type">(Int)T</span><a href="#35443">page</a></span>(<span class="typed"><span class="type">Int</span><a href="#35483">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span>)(<span class="typed"><span class="type">Int</span><a href="#35483">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span>)
    <span class="keyword">else</span> <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.IndexOutOfBoundsException</span><a id="19891" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.IndexOutOfBoundsException</span><a href="../../Predef.scala.html#13337">IndexOutOfBoundsException</a></span>(<span class="typed"><span class="type">Int</span><a href="#35483">index</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="3498">toString</a></span>)

  <span class="comment">/** Is character sequence defined at `index'?
   *  Unlike `length' this operation does not force reading
   *  a lazy sequence to the end.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Boolean</span><a id="35380">isDefinedAt</a></span>(<span class="typed"><span class="type">Int</span><a id="35409">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = 
    <span class="typed"><span class="type">Int</span><a href="#35409">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">Int</span><a href="#35409">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#35369">end</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> {
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a id="35414">p</a></span> = <span class="typed"><span class="type">(Int)scala.collection.immutable.Page[T]</span><a href="#35377">page</a></span>(<span class="typed"><span class="type">Int</span><a href="#35409">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span>); <span class="typed"><span class="type">Int</span><a href="#35409">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#35414">p</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#35441">end</a></span>
    }
    
  <span class="comment">/** the subsequence from index `start' up to and excluding 
   *  the minimum of index `end' and the length of the current sequence.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,Int)scala.collection.immutable.PagedSeq[T]</span><a id="35381">slice</a></span>(<span class="typed"><span class="type">Int</span><a id="36644">_start</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Int</span><a id="36645">_end</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = {
    <span class="typed"><span class="type">(Int)scala.collection.immutable.Page[T]</span><a href="#35377">page</a></span>(<span class="typed"><span class="type">Int</span><a href="#35368">start</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="36648">s</a></span> = <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#36644">_start</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="36649">e</a></span> = <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#36645">_end</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35346">UndeterminedEnd</a></span>) <span class="typed"><span class="type">Int</span><a href="#36645">_end</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">Int</span><a href="#35368">start</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#36645">_end</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a id="36650">f</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#35367">first</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#36651" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#36650">f</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#35441">end</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">&lt;=</a></span> <span class="typed"><span class="type">Int</span><a href="#36648">s</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#36650">f</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#35435">isLast</a></span>) <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#36650">f</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#36650">f</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span>
    <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[T]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.immutable.PagedSeq[T]</span><a href="#9581">PagedSeq</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a href="#35366">more</a></span>, <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#36650">f</a></span>, <span class="typed"><span class="type">Int</span><a href="#36648">s</a></span>, <span class="typed"><span class="type">Int</span><a href="#36649">e</a></span>)
  }

  <span class="comment">/** the subsequence from index `start' up to the  
   *  length of the current sequence.
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)scala.collection.immutable.PagedSeq[T]</span><a id="35382">slice</a></span>(<span class="typed"><span class="type">Int</span><a id="36677">start</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = <span class="typed"><span class="type">(Int,Int)scala.collection.immutable.PagedSeq[T]</span><a href="#35381">slice</a></span>(<span class="typed"><span class="type">Int</span><a href="#36677">start</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#35346">UndeterminedEnd</a></span>)

  <span class="comment">/** Convert sequence to string */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()String</span><a id="35383">toString</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="36900">buf</a></span> = <span class="typed"><span class="type">()StringBuilder</span><a href="../../StringBuilder.scala.html#19620" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../../StringBuilder.scala.html#1433">StringBuilder</a></span>
    <span class="keyword">for</span> (<span class="typed"><span class="type">((T) =&gt; Unit)Unit</span><a href="../../Iterator.scala.html#20001" id="36905">ch</a></span> &lt;- <span class="typed"><span class="type">=&gt; Iterator[T]</span><a href="../../RandomAccessSeq.scala.html#17210">elements</a></span>) <span class="typed"><span class="type">StringBuilder</span><a href="#36900">buf</a></span> <span class="typed"><span class="type">(Any)StringBuilder</span><a href="../../StringBuilder.scala.html#19638">append</a></span> <span class="typed"><span class="type">T</span><a href="#36905">ch</a></span>
    <span class="typed"><span class="type">StringBuilder</span><a href="#36900">buf</a></span>.<span class="typed"><span class="type">()String</span><a href="../../StringBuilder.scala.html#19672">toString</a></span>
  }
}


<span class="comment">/** Page containing up to PageSize characters of the input sequence. 
 */</span>
<span class="keyword">private</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Page[T] extends java.lang.Object with ScalaObject</span><a id="9449">Page</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="15991">T</a></span>](<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="35422"><span id="35421"><a id="103513">num</a></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) {

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int(4096)</span><span id="35425"><a id="35424">PageSize</a></span></span> = <span class="typed"><span class="type">Int(4096)</span><span class="int">4096</span></span>

  <span class="comment">/** The next page in the sequence */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span id="35428"><span id="35426"><span id="35427"><a id="103536">next</a></span></span></span></span>  : <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T] = <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>

  <span class="comment">/** A later page in the sequence, serves a cachae for pointing to last page */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span id="35431"><span id="35429"><span id="35430"><a id="103537">later</a></span></span></span></span> : <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T] = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449" class="keyword">this</a></span>

  <span class="comment">/** The number of characters read into this page */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="35434"><span id="35432"><span id="35433"><a id="103538">filled</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/** Is this page the permamnently last one in the sequence? Only true once `more'
   *  method has returned -1 to signal end of input. */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Boolean</span><span id="35437"><span id="35435"><span id="35436"><a id="103539">isLast</a></span></span></span></span>: <span class="typed"><span class="type">Boolean</span><a id="2168">Boolean</a></span> = <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>

  <span class="comment">/** The character array */</span>
  <span class="keyword">final</span> <span class="keyword">val</span> <span class="typed"><span class="type">Array[T]</span><span id="35439"><a id="35438">data</a></span></span> = <span class="typed"><span class="type">Array[T]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[T]</span><a href="../../Array.scala.html#1070">Array</a></span>[T](<span class="typed"><span class="type">Int(4096)</span><span >PageSize</span></span>)

  <span class="comment">/** The index of the first character in this page relative to the whole sequence */</span> 
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="35440">start</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#35421">num</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> <span class="typed"><span class="type">Int(4096)</span><span >PageSize</span></span>

  <span class="comment">/** The index of the character following the last charcater in this page relative 
   *  to the whole sequence */</span> 
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="35441">end</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#35440">start</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35432">filled</a></span>

  <span class="comment">/** The currently last page in the sequence; might change as more charcaters are appended */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a id="35442">latest</a></span>: <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T] = {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35429">later</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">(scala.collection.immutable.Page[T])Unit</span><a href="#35430">later</a></span> = <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35429">later</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35442">latest</a></span>
    <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35429">later</a></span>
  }

  <span class="comment">/** The character at given sequence index. 
   *  That index is relative to the whole sequence, not the page. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)T</span><a id="35443">apply</a></span>(<span class="typed"><span class="type">Int</span><a id="35503">index</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#35503">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35440">start</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">||</a></span> <span class="typed"><span class="type">Int</span><a href="#35503">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35440">start</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3144">&gt;=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35432">filled</a></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.IndexOutOfBoundsException</span><a id="19891" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.IndexOutOfBoundsException</span><a href="../../Predef.scala.html#13337">IndexOutOfBoundsException</a></span>(<span class="typed"><span class="type">Int</span><a href="#35503">index</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="3498">toString</a></span>)
    <span class="typed"><span class="type">(Int)T</span><a href="../../Array.scala.html#17253">data</a></span>(<span class="typed"><span class="type">Int</span><a href="#35503">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35440">start</a></span>)
  }

  <span class="comment">/** produces more characters by calling `more' and appends them on the current page, 
   *  or fills a subsequent page if current page is full 
   *  pre: if current page is full, it is the last one in the sequence.
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">((Array[T], Int, Int) =&gt; Int)scala.collection.immutable.Page[T]</span><a id="35444">addMore</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a id="35460">more</a></span>: (Array[T], Int, Int) =&gt; Int): <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T] =
    <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Int</span><a href="#35432">filled</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int(4096)</span><span >PageSize</span></span>) {
      <span class="typed"><span class="type">(scala.collection.immutable.Page[T])Unit</span><a href="#35427">next</a></span> = <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449">Page</a></span>[T](<span class="typed"><span class="type">=&gt; Int</span><a href="#35421">num</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
      <span class="typed"><span class="type">=&gt; scala.collection.immutable.Page[T]</span><a href="#35426">next</a></span>.<span class="typed"><span class="type">((Array[T], Int, Int) =&gt; Int)scala.collection.immutable.Page[T]</span><a href="#35444">addMore</a></span>(<span class="typed"><span class="type">(Array[T], Int, Int) =&gt; Int</span><a href="#35460">more</a></span>)
    } <span class="keyword">else</span> {
      <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="103562">count</a></span> = <span class="typed"><span class="type">(Array[T],Int,Int)Int</span><a href="../../Function3.scala.html#23948">more</a></span>(<span class="typed"><span class="type">=&gt; Array[T]</span><a href="#35438">data</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#35432">filled</a></span>, <span class="typed"><span class="type">Int(4096)</span><span >PageSize</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#35432">filled</a></span>) 
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#103562">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">(Boolean)Unit</span><a href="#35436">isLast</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
      <span class="keyword">else</span> <span class="typed"><span class="type">(Int)Unit</span><a href="#35433">filled</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int</span><a href="#103562">count</a></span>
      <span class="typed"><span class="type">scala.collection.immutable.Page[T]</span><a href="#9449" class="keyword">this</a></span>
    }
}

        </pre>
    </body>
</html>