<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/mutable/ObservableBuffer.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |                                         **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: ObservableBuffer.scala 16893 2009-01-13 13:09:22Z cunei $</span>


<span class="keyword">package</span> scala.collection.mutable


<span class="comment">//import Predef.UnsupportedOperationException</span>

<span class="comment">/** This class is typically used as a mixin. It adds a subscription
 *  mechanism to the &lt;code&gt;Buffer&lt;/code&gt; class into which this abstract
 *  class is mixed in. Class &lt;code&gt;ObservableBuffer&lt;/code&gt; publishes
 *  events of the type &lt;code&gt;Message&lt;/code&gt;.
 *
 *  @author  Matthias Zenger
 *  @version 1.0, 08/07/2003
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait ObservableBuffer[A, This &lt;: scala.collection.mutable.ObservableBuffer[A,This]] extends java.lang.Object with scala.collection.mutable.Buffer[A] with scala.collection.mutable.Publisher[scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable,This] with ScalaObject</span><a id="11452">ObservableBuffer</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="15615">A</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: scala.collection.mutable.ObservableBuffer[A,This]</span><a id="15616">This</a></span> &lt;: ObservableBuffer[A, This]] 
      <span class="keyword">extends</span> <span class="typed"><span class="type">scala.collection.mutable.Buffer[A]</span><a href="Buffer.scala.html#11206">Buffer</a></span>[A]
      <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Publisher[scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable,This]</span><a href="Publisher.scala.html#11290">Publisher</a></span>[Message[(Location, A)]
      <span class="keyword">with</span> Undoable, This]
{ self: This =&gt;

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><a id="94766">+</a></span>(<span class="typed"><span class="type">A</span><a id="94774">element</a></span>: <span class="typed"><span class="type">A</span><a href="#15615">A</a></span>): <span class="typed"><span class="type">scala.collection.mutable.Buffer[A]</span><a href="Buffer.scala.html#11206">Buffer</a></span>[A] = {
    <span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><a href="#133203" class="keyword">super</a></span>.<span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><span id="133203"><a id="133204">+</a></span></span>(<span class="typed"><span class="type">A</span><a href="#94774">element</a></span>)
    <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Include[(object scala.collection.mutable.End, A)] with scala.collection.mutable.Undoable</span><a id="94776" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Include[(object scala.collection.mutable.End, A)]</span><a href="Message.scala.html#11464">Include</a></span>(<span class="typed"><span class="type">(object scala.collection.mutable.End,A)(object scala.collection.mutable.End, A)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">object scala.collection.mutable.End</span><a href="Location.scala.html#11174">End</a></span>, <span class="typed"><span class="type">A</span><a href="#94774">element</a></span>)) <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94782">undo</a></span>() { <span class="typed"><span class="type">(Int)Unit</span><a href="Buffer.scala.html#19250">trimEnd</a></span>(<span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) }
    })
    <span class="typed"><span class="type">This</span><a href="#11452" class="keyword">this</a></span>
  }

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><a id="94767">+:</a></span>(<span class="typed"><span class="type">A</span><a id="94792">element</a></span>: <span class="typed"><span class="type">A</span><a href="#15615">A</a></span>): <span class="typed"><span class="type">scala.collection.mutable.Buffer[A]</span><a href="Buffer.scala.html#11206">Buffer</a></span>[A] = {
    <span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><a href="#133205" class="keyword">super</a></span>.<span class="typed"><span class="type">(A)scala.collection.mutable.Buffer[A]</span><span id="133205"><a id="133206">+:</a></span></span>(<span class="typed"><span class="type">A</span><a href="#94792">element</a></span>);
    <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Include[(object scala.collection.mutable.Start, A)] with scala.collection.mutable.Undoable</span><a id="94794" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Include[(object scala.collection.mutable.Start, A)]</span><a href="Message.scala.html#11464">Include</a></span>(<span class="typed"><span class="type">(object scala.collection.mutable.Start,A)(object scala.collection.mutable.Start, A)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">object scala.collection.mutable.Start</span><a href="Location.scala.html#11435">Start</a></span>, <span class="typed"><span class="type">A</span><a href="#94792">element</a></span>)) <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94800">undo</a></span>() { <span class="typed"><span class="type">(Int)Unit</span><a href="Buffer.scala.html#19249">trimStart</a></span>(<span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) }
    })
    <span class="typed"><span class="type">This</span><a href="#11452" class="keyword">this</a></span>
  }

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,Iterable[A])Unit</span><a id="94768">insertAll</a></span>(<span class="typed"><span class="type">Int</span><a id="94810">n</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Iterable[A]</span><a id="94811">iter</a></span>: <span class="typed"><span class="type">Iterable[A]</span><a href="../../Iterable.scala.html#401">Iterable</a></span>[A]): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = {
    <span class="typed"><span class="type">(Int,Iterable[A])Unit</span><a href="#133207" class="keyword">super</a></span>.<span class="typed"><span class="type">(Int,Iterable[A])Unit</span><span id="133207"><span id="133208"><a id="133209">insertAll</a></span></span></span>(<span class="typed"><span class="type">Int</span><a href="#94810">n</a></span>, <span class="typed"><span class="type">Iterable[A]</span><a href="#94811">iter</a></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="94812">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#94810">n</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Iterator[A]</span><a id="94813">it</a></span> = <span class="typed"><span class="type">Iterable[A]</span><a href="#94811">iter</a></span>.<span class="typed"><span class="type">=&gt; Iterator[A]</span><a href="../../Iterable.scala.html#17309">elements</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#94815" class="keyword">while</a></span> (<span class="typed"><span class="type">Iterator[A]</span><a href="#94813">it</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../Iterator.scala.html#19975">hasNext</a></span>) {
      <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Include[(scala.collection.mutable.Index, A)] with scala.collection.mutable.Undoable</span><a id="94816" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Include[(scala.collection.mutable.Index, A)]</span><a href="Message.scala.html#11464">Include</a></span>(<span class="typed"><span class="type">(scala.collection.mutable.Index,A)(scala.collection.mutable.Index, A)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">(Int)scala.collection.mutable.Index</span><a href="Location.scala.html#94821">Index</a></span>(<span class="typed"><span class="type">Int</span><a href="#94812">i</a></span>), <span class="typed"><span class="type">Iterator[A]</span><a href="#94813">it</a></span>.<span class="typed"><span class="type">()A</span><a href="../../Iterator.scala.html#19976">next</a></span>)) <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> {
        <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94829">undo</a></span> { <span class="typed"><span class="type">(Int)A</span><a href="#94770">remove</a></span>(<span class="typed"><span class="type">Int</span><a href="#94812">i</a></span>) }
      })
      <span class="typed"><span class="type">Int</span><a href="#94812">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#94812">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
  }

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int,A)Unit</span><a id="94769">update</a></span>(<span class="typed"><span class="type">Int</span><a id="94859">n</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">A</span><a id="94860">newelement</a></span>: <span class="typed"><span class="type">A</span><a href="#15615">A</a></span>): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">A</span><a id="94861">oldelement</a></span> = <span class="typed"><span class="type">(Int)A</span><a href="../../Function1.scala.html#17300">apply</a></span>(<span class="typed"><span class="type">Int</span><a href="#94859">n</a></span>)
    <span class="typed"><span class="type">(Int,A)Unit</span><a href="#133210" class="keyword">super</a></span>.<span class="typed"><span class="type">(Int,A)Unit</span><span id="133210"><span id="133211"><a id="133212">update</a></span></span></span>(<span class="typed"><span class="type">Int</span><a href="#94859">n</a></span>, <span class="typed"><span class="type">A</span><a href="#94860">newelement</a></span>)
    <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Update[(scala.collection.mutable.Index, A)] with scala.collection.mutable.Undoable</span><a id="94863" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Update[(scala.collection.mutable.Index, A)]</span><a href="Message.scala.html#11380">Update</a></span>(<span class="typed"><span class="type">(scala.collection.mutable.Index,A)(scala.collection.mutable.Index, A)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">(Int)scala.collection.mutable.Index</span><a href="Location.scala.html#94821">Index</a></span>(<span class="typed"><span class="type">Int</span><a href="#94859">n</a></span>), <span class="typed"><span class="type">A</span><a href="#94860">newelement</a></span>)) <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94868">undo</a></span> { <span class="typed"><span class="type">(Int,A)Unit</span><a href="#94769">update</a></span>(<span class="typed"><span class="type">Int</span><a href="#94859">n</a></span>, <span class="typed"><span class="type">A</span><a href="#94861">oldelement</a></span>) }
    })
  }

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Int)A</span><a id="94770">remove</a></span>(<span class="typed"><span class="type">Int</span><a id="94839">n</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">A</span><a href="#15615">A</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">A</span><a id="94878">oldelement</a></span> = <span class="typed"><span class="type">(Int)A</span><a href="../../Function1.scala.html#17300">apply</a></span>(<span class="typed"><span class="type">Int</span><a href="#94839">n</a></span>)
    <span class="typed"><span class="type">(Int)A</span><a href="#133213" class="keyword">super</a></span>.<span class="typed"><span class="type">(Int)A</span><span id="133213"><a id="133214">remove</a></span></span>(<span class="typed"><span class="type">Int</span><a href="#94839">n</a></span>)
    <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Remove[(scala.collection.mutable.Index, A)] with scala.collection.mutable.Undoable</span><a id="94880" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Remove[(scala.collection.mutable.Index, A)]</span><a href="Message.scala.html#11197">Remove</a></span>(<span class="typed"><span class="type">(scala.collection.mutable.Index,A)(scala.collection.mutable.Index, A)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">(Int)scala.collection.mutable.Index</span><a href="Location.scala.html#94821">Index</a></span>(<span class="typed"><span class="type">Int</span><a href="#94839">n</a></span>), <span class="typed"><span class="type">A</span><a href="#94878">oldelement</a></span>)) <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94885">undo</a></span> { <span class="typed"><span class="type">(Int,A*)Unit</span><a href="Buffer.scala.html#19245">insert</a></span>(<span class="typed"><span class="type">Int</span><a href="#94839">n</a></span>, <span class="typed"><span class="type">A</span><a href="#94878">oldelement</a></span>) }
    })
    <span class="typed"><span class="type">A</span><a href="#94878">oldelement</a></span>
  }

  <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94771">clear</a></span>(): <span class="typed"><span class="type">Unit</span><a id="2167">Unit</a></span> = {
    <span class="typed"><span class="type">()Unit</span><a href="#133215" class="keyword">super</a></span>.<span class="typed"><span class="type">()Unit</span><a id="133215">clear</a></span>
    <span class="typed"><span class="type">(scala.collection.mutable.Message[(scala.collection.mutable.Location, A)] with scala.collection.mutable.Undoable)Unit</span><a href="Publisher.scala.html#51656">publish</a></span>(<span class="typed"><span class="type">template $anon extends scala.collection.mutable.Reset[Nothing] with scala.collection.mutable.Undoable</span><a id="94898" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.Reset[Nothing]</span><a href="Message.scala.html#11287">Reset</a></span> <span class="keyword">with</span> <span class="typed"><span class="type">scala.collection.mutable.Undoable</span><a href="Undoable.scala.html#11512">Undoable</a></span> { 
      <span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="94901">undo</a></span> { <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.UnsupportedOperationException</span><a id="30111" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.UnsupportedOperationException</span><a href="../../Predef.scala.html#13340">UnsupportedOperationException</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;cannot undo&quot;)</span><span class="string">&quot;cannot undo&quot;</span></span>) }
    })
  }
}

        </pre>
    </body>
</html>