<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/collection/mutable/OpenHashMap.scala</title>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |                                         **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: OpenHashMap.scala 17344 2009-03-22 13:53:15Z DRMacIver $</span>


<span class="keyword">package</span> scala.collection.mutable;

<span class="keyword">object</span> <span class="typed"><span class="type">object scala.collection.mutable.OpenHashMap</span><a id="11261">OpenHashMap</a></span>{
  <span class="keyword">def</span> <span class="typed"><span class="type">[K, V]((K, V)*)scala.collection.mutable.OpenHashMap[K,V]</span><a id="70841">apply</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="70844">K</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="70845">V</a></span>](<span class="typed"><span class="type">(K, V)*</span><a id="70852">elems</a></span> : <span class="typed"><span class="type">(K, V)*</span><a id="2739">(</a></span>K, V)*) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[K,V]</span><a id="70854">dict</a></span> = <span class="typed"><span class="type">()scala.collection.mutable.OpenHashMap[K,V]</span><a href="#70858" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[K,V]</span><a href="#11260">OpenHashMap</a></span>[K, V];
    <span class="typed"><span class="type">(K, V)*</span><a href="#70852">elems</a></span>.<span class="typed"><span class="type">(((K, V)) =&gt; Unit)Unit</span><a href="../../Iterable.scala.html#17328">foreach</a></span>(<span class="typed"><span class="type">Unit</span><a href="#70897">{</a></span><span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">(</a><span class="typed"><span class="type">K</span><a id="70898">x</a></span>, <span class="typed"><span class="type">V</span><a id="70899">y</a></span>) =&gt; <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[K,V]</span><a href="#70854">dict</a></span>(<span class="typed"><span class="type">K</span><a href="#70898">x</a></span>) = <span class="typed"><span class="type">V</span><a href="#70899">y</a></span>});
    <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[K,V]</span><a href="#70854">dict</a></span>;
  }

  <span class="keyword">private</span>[mutable] <span class="keyword">class</span> <span class="typed"><span class="type">class Entry[Key, Value] extends java.lang.Object with ScalaObject</span><a id="70846">Entry</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="70847">Key</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="70848">Value</a></span>](<span class="keyword">val</span> <span class="typed"><span class="type">Key</span><span id="70910"><span id="70909"><a id="70922">key</a></span></span></span> : <span class="typed"><span class="type">Key</span><a href="#70847">Key</a></span>, 
                                           <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="70912"><span id="70911"><a id="70923">hash</a></span></span></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>,
                                           <span class="keyword">var</span> <span class="typed"><span class="type">Option[Value]</span><span id="70914"><span id="70924"><span id="70921"><span id="70913"><a id="70915">value</a></span></span></span></span></span> : <span class="typed"><span class="type">Option[Value]</span><a href="../../Option.scala.html#932">Option</a></span>[Value])

  <span class="keyword">private</span>[mutable] <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="70849">highestOneBit</a></span>(<span class="typed"><span class="type">Int</span><a id="70925">j</a></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = { <span class="comment">// This should really go somewhere central as we're now code sharing by cut and paste. :(</span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70927">i</a></span> = <span class="typed"><span class="type">Int</span><a href="#70925">j</a></span>;
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3150">|=</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;</a></span>  <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>);
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3150">|=</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;</a></span>  <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>);
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3150">|=</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;</a></span>  <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>);
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3150">|=</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;</a></span>  <span class="typed"><span class="type">Int(8)</span><span class="int">8</span></span>);
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3150">|=</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;</a></span> <span class="typed"><span class="type">Int(16)</span><span class="int">16</span></span>);
    <span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> (<span class="typed"><span class="type">Int</span><a href="#70927">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>);
  }

  <span class="keyword">private</span>[mutable] <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Int</span><a id="70850">nextPowerOfTwo</a></span>(<span class="typed"><span class="type">Int</span><a id="70985">i</a></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = <span class="typed"><span class="type">(Int)Int</span><a href="#70849">highestOneBit</a></span>(<span class="typed"><span class="type">Int</span><a href="#70985">i</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3088">&lt;&lt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; 
}

<span class="keyword">import</span> OpenHashMap.Entry;

<span class="comment">/**
 * A mutable hash map based on an open hashing scheme. The precise scheme is undefined,
 * but it should make a reasonable effort to ensure that an insert with consecutive hash
 * codes is not unneccessarily penalised. In particular, mappings of consecutive integer
 * keys should work without significant performance loss.
 *
 * @author David MacIver
 */</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class OpenHashMap[Key, Value] extends java.lang.Object with scala.collection.mutable.Map[Key,Value] with ScalaObject</span><a id="11260">OpenHashMap</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="14783">Key</a></span>, <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="14784">Value</a></span>](<span class="typed"><span class="type">Int</span><span id="70856"><a id="70892">initialSize</a></span></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) <span class="keyword">extends</span> scala.collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.Map[Key,Value]</span><a href="Map.scala.html#11125">Map</a></span>[Key, Value]{
  <span class="keyword">def</span> <span class="typed"><span class="type">()scala.collection.mutable.OpenHashMap[Key,Value]</span><a id="70858" class="keyword">this</a></span>() = <span class="typed"><span class="type">OpenHashMap.this.type</span><a href="#11260" class="keyword">this</a></span>(<span class="typed"><span class="type">Int(8)</span><span class="int">8</span></span>);

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="70859">actualInitialSize</a></span> = <span class="typed"><span class="type">object scala.collection.mutable.OpenHashMap</span><a href="#11261">OpenHashMap</a></span>.<span class="typed"><span class="type">(Int)Int</span><a href="#70850">nextPowerOfTwo</a></span>(<span class="typed"><span class="type">Int</span><a href="#70856">initialSize</a></span>);

  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="70862"><span id="70860"><span id="70861"><a id="70991">mask</a></span></span></span></span> = <span class="typed"><span class="type">Int</span><a href="#70859">actualInitialSize</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;;
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><span id="70865"><span id="70863"><span id="70864"><a id="70992">table</a></span></span></span></span> : <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="../../Array.scala.html#1070">Array</a></span>[Entry[Key, Value]] = <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="../../Array.scala.html#1070">Array</a></span>[Entry[Key, Value]](<span class="typed"><span class="type">Int</span><a href="#70859">actualInitialSize</a></span>);
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="70868"><span id="70866"><span id="70867"><a id="70993">_size</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>;
  <span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="70871"><span id="70869"><span id="70870"><a id="70994">deleted</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>; 
 
  <span class="comment">// Used for tracking inserts so that iterators can determine in concurrent modification has occurred.</span>
  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="70872">modCount</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>;

  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="70873">size</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#70866">_size</a></span>;
  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">(Int)Unit</span><a id="70874">size_=</a></span>(<span class="typed"><span class="type">Int</span><a id="71003">s</a></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) = <span class="typed"><span class="type">(Int)Unit</span><a href="#70867">_size</a></span> = <span class="typed"><span class="type">Int</span><a href="#71003">s</a></span>;

  <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Key)Int</span><a id="70875">hashOf</a></span>(<span class="typed"><span class="type">Key</span><a id="71005">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>) = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71007">h</a></span> = <span class="typed"><span class="type">Key</span><a href="#71005">key</a></span>.<span class="typed"><span class="type">()Int</span><a id="3497">hashCode</a></span>;
    <span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">^=</a></span> ((<span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(20)</span><span class="int">20</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3152">^</a></span> (<span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(12)</span><span class="int">12</span></span>));
    <span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3152">^</a></span> (<span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(7)</span><span class="int">7</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3152">^</a></span> (<span class="typed"><span class="type">Int</span><a href="#71007">h</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3090">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>);
  }

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="70876">growTable</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71027">oldSize</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71028">newSize</a></span> = <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> <span class="typed"><span class="type">Int</span><a href="#71027">oldSize</a></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a id="71029">oldTable</a></span> = <span class="typed"><span class="type">=&gt; Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="#70863">table</a></span>;
    <span class="typed"><span class="type">(Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]])Unit</span><a href="#70864">table</a></span> = <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="../../Array.scala.html#1070">Array</a></span>[Entry[Key, Value]](<span class="typed"><span class="type">Int</span><a href="#71028">newSize</a></span>);
    <span class="typed"><span class="type">(Int)Unit</span><a href="#70861">mask</a></span> = <span class="typed"><span class="type">Int</span><a href="#71028">newSize</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;     
    <span class="typed"><span class="type">Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="#71029">oldTable</a></span>.<span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="../../Iterable.scala.html#17328">foreach</a></span>( <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71048">entry</a></span> =&gt;
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71048">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71048">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>) <span class="typed"><span class="type">(scala.collection.mutable.OpenHashMap.Entry[Key,Value])Unit</span><a href="#70879">addEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71048">entry</a></span>));
    <span class="typed"><span class="type">(Int)Unit</span><a href="#70870">deleted</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>;
  } 

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">(Key)Int</span><a id="70877">findIndex</a></span>(<span class="typed"><span class="type">Key</span><a id="71059">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>) : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">(Key,Int)Int</span><a href="#70878">findIndex</a></span>(<span class="typed"><span class="type">Key</span><a href="#71059">key</a></span>, <span class="typed"><span class="type">(Key)Int</span><a href="#70875">hashOf</a></span>(<span class="typed"><span class="type">Key</span><a href="#71059">key</a></span>));

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">(Key,Int)Int</span><a id="70878">findIndex</a></span>(<span class="typed"><span class="type">Key</span><a id="71057">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>, <span class="typed"><span class="type">Int</span><a id="71058">hash</a></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>) : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = {
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71070">j</a></span> = <span class="typed"><span class="type">Int</span><a href="#71058">hash</a></span>;

    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71071">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#71058">hash</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3151">&amp;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>;
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71072">perturb</a></span> = <span class="typed"><span class="type">Int</span><a href="#71071">index</a></span>;
    <span class="typed"><span class="type">Unit</span><a href="#71073" class="keyword">while</a></span>(<span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71071">index</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> 
          <span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span>(<span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71071">index</a></span>).<span class="typed"><span class="type">=&gt; Int</span><a href="#70911">hash</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int</span><a href="#71058">hash</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span>
            <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71071">index</a></span>).<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Key</span><a href="#71057">key</a></span>)){
      <span class="typed"><span class="type">Int</span><a href="#71070">j</a></span> = <span class="typed"><span class="type">Int(5)</span><span class="int">5</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> <span class="typed"><span class="type">Int</span><a href="#71070">j</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#71072">perturb</a></span>;
      <span class="typed"><span class="type">Int</span><a href="#71072">perturb</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;=</a></span> <span class="typed"><span class="type">Int(5)</span><span class="int">5</span></span>;
      <span class="typed"><span class="type">Int</span><a href="#71071">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#71070">j</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3151">&amp;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>;
    }
    <span class="typed"><span class="type">Int</span><a href="#71071">index</a></span>;
  }

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">(scala.collection.mutable.OpenHashMap.Entry[Key,Value])Unit</span><a id="70879">addEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71052">entry</a></span> : <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#70846">Entry</a></span>[Key, Value]) = 
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71052">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) <span class="typed"><span class="type">=&gt; Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="#70863">table</a></span>(<span class="typed"><span class="type">(Key,Int)Int</span><a href="#70878">findIndex</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71052">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71052">entry</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#70911">hash</a></span>)) = <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71052">entry</a></span>;

  <span class="keyword">def</span> <span class="typed"><span class="type">(Key,Value)Unit</span><a id="70880">update</a></span>(<span class="typed"><span class="type">Key</span><a id="70900">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>, <span class="typed"><span class="type">Value</span><a id="70901">value</a></span> : <span class="typed"><span class="type">Value</span><a href="#14784">Value</a></span>){
    <span class="typed"><span class="type">(Key,Int,Value)Unit</span><a href="#70881">update</a></span>(<span class="typed"><span class="type">Key</span><a href="#70900">key</a></span>, <span class="typed"><span class="type">(Key)Int</span><a href="#70875">hashOf</a></span>(<span class="typed"><span class="type">Key</span><a href="#70900">key</a></span>), <span class="typed"><span class="type">Value</span><a href="#70901">value</a></span>);
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Key,Int,Value)Unit</span><a id="70881">update</a></span>(<span class="typed"><span class="type">Key</span><a id="70903">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>, <span class="typed"><span class="type">Int</span><a id="70904">hash</a></span> : <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">Value</span><a id="70905">value</a></span> : <span class="typed"><span class="type">Value</span><a href="#14784">Value</a></span>) {
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> (<span class="typed"><span class="type">=&gt; Int</span><a href="#70873">size</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70869">deleted</a></span>) <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>) <span class="typed"><span class="type">=&gt; Unit</span><a href="#70876">growTable</a></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71123">index</a></span> = <span class="typed"><span class="type">(Key,Int)Int</span><a href="#70878">findIndex</a></span>(<span class="typed"><span class="type">Key</span><a href="#70903">key</a></span>, <span class="typed"><span class="type">Int</span><a href="#70904">hash</a></span>);
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71124">entry</a></span> = <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71123">index</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71124">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>) {
      <span class="typed"><span class="type">=&gt; Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="#70863">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71123">index</a></span>) = <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#70846">Entry</a></span>(<span class="typed"><span class="type">Key</span><a href="#70903">key</a></span>, <span class="typed"><span class="type">Int</span><a href="#70904">hash</a></span>, <span class="typed"><span class="type">(Value)Some[Value]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">Value</span><a href="#70905">value</a></span>));
      <span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
      <span class="typed"><span class="type">(Int)Unit</span><a href="#70874">size</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
    }
    <span class="keyword">else</span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71124">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>) { <span class="typed"><span class="type">(Int)Unit</span><a href="#70874">size</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; <span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> }
      <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71124">entry</a></span>.<span class="typed"><span class="type">(Option[Value])Unit</span><a href="#70914">value</a></span> = <span class="typed"><span class="type">(Value)Some[Value]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">Value</span><a href="#70905">value</a></span>);
    }
  } 

  <span class="keyword">def</span> <span class="typed"><span class="type">(Key)Unit</span><a id="70882">-=</a></span>(<span class="typed"><span class="type">Key</span><a id="71233">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>) = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71236">index</a></span> = <span class="typed"><span class="type">(Key)Int</span><a href="#70877">findIndex</a></span>(<span class="typed"><span class="type">Key</span><a href="#71233">key</a></span>);
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71236">index</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71236">index</a></span>).<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>){      
      <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71236">index</a></span>).<span class="typed"><span class="type">(Option[Value])Unit</span><a href="#70914">value</a></span> = <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>;
      <span class="typed"><span class="type">(Int)Unit</span><a href="#70874">size</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
      <span class="typed"><span class="type">(Int)Unit</span><a href="#70870">deleted</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
    }
  }

  <span class="keyword">def</span> <span class="typed"><span class="type">(Key)Option[Value]</span><a id="70883">get</a></span>(<span class="typed"><span class="type">Key</span><a id="71294">key</a></span> : <span class="typed"><span class="type">Key</span><a href="#14783">Key</a></span>) : <span class="typed"><span class="type">Option[Value]</span><a href="../../Option.scala.html#932">Option</a></span>[Value] = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71295">hash</a></span> = <span class="typed"><span class="type">(Key)Int</span><a href="#70875">hashOf</a></span>(<span class="typed"><span class="type">Key</span><a href="#71294">key</a></span>);

    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71296">j</a></span> = <span class="typed"><span class="type">Int</span><a href="#71295">hash</a></span>;
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71297">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#71295">hash</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3151">&amp;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>;
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="71298">perturb</a></span> = <span class="typed"><span class="type">Int</span><a href="#71297">index</a></span>;
    <span class="keyword">var</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71299">entry</a></span> = <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71297">index</a></span>);
    <span class="typed"><span class="type">Unit</span><a href="#71300" class="keyword">while</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71299">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>){
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71299">entry</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#70911">hash</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3139">==</a></span> <span class="typed"><span class="type">Int</span><a href="#71295">hash</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span>
          <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71299">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span> <span class="typed"><span class="type">(Any)Boolean</span><a id="3494">==</a></span> <span class="typed"><span class="type">Key</span><a href="#71294">key</a></span>){
        <span class="typed"><span class="type">Nothing</span><span class="keyword">return</span></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71299">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>;
      }
      
      <span class="typed"><span class="type">Int</span><a href="#71296">j</a></span> = <span class="typed"><span class="type">Int(5)</span><span class="int">5</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3147">*</a></span> <span class="typed"><span class="type">Int</span><a href="#71296">j</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+</a></span> <span class="typed"><span class="type">Int</span><a href="#71298">perturb</a></span>;
      <span class="typed"><span class="type">Int</span><a href="#71298">perturb</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3092">&gt;&gt;=</a></span> <span class="typed"><span class="type">Int(5)</span><span class="int">5</span></span>;
      <span class="typed"><span class="type">Int</span><a href="#71297">index</a></span> = <span class="typed"><span class="type">Int</span><a href="#71296">j</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3151">&amp;</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>;
      <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71299">entry</a></span> = <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">Int</span><a href="#71297">index</a></span>);
    }
    <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>;
  }
 
  <span class="comment">/**
   * An iterator over the elements of this map. Use of this iterator follows the same
   * contract for concurrent modification as the foreach method.
   */</span> 
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; &lt;refinement&gt; extends java.lang.Object with Iterator[(Key, Value)]</span><a id="70884">elements</a></span> = <span class="typed"><span class="type">template $anon extends java.lang.Object with Iterator[(Key, Value)]</span><a id="71347" class="keyword">new</a></span> <span class="typed"><span class="type">Iterator[(Key, Value)]</span><a href="../../Iterator.scala.html#1337">Iterator</a></span>[(Key, Value)]{
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="71351"><span id="71349"><span id="71350"><a id="71359">index</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>;
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="71353"><a id="71352">initialModCount</a></span></span> = <span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span>;

    <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="71354">advance</a></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Int</span><a href="#71352">initialModCount</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3140">!=</a></span> <span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span>) <span class="typed"><span class="type">(String)Nothing</span><a href="../../Predef.scala.html#13358">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Concurrent modification&quot;)</span><span class="string">&quot;Concurrent modification&quot;</span></span>);
      <span class="typed"><span class="type">Unit</span><a href="#71362" class="keyword">while</a></span>((<span class="typed"><span class="type">=&gt; Int</span><a href="#71349">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">&lt;=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> (<span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#71349">index</a></span>) <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">||</a></span> <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#71349">index</a></span>).<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3507">==</a></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>)) <span class="typed"><span class="type">(Int)Unit</span><a href="#71350">index</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
    }

    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="71355">hasNext</a></span> = {<span class="typed"><span class="type">=&gt; Unit</span><a href="#71354">advance</a></span>; <span class="typed"><span class="type">=&gt; Int</span><a href="#71349">index</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">&lt;=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#70860">mask</a></span>; }

    <span class="keyword">def</span> <span class="typed"><span class="type">()(Key, Value)</span><a id="71356">next</a></span> = {
      <span class="typed"><span class="type">=&gt; Unit</span><a href="#71354">advance</a></span>;
      <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71403">result</a></span> = <span class="typed"><span class="type">(Int)scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="../../Array.scala.html#17253">table</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#71349">index</a></span>);
      <span class="typed"><span class="type">(Int)Unit</span><a href="#71350">index</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;
      <span class="typed"><span class="type">(Key,Value)(Key, Value)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71403">result</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71403">result</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>.<span class="typed"><span class="type">=&gt; Value</span><a href="../../Option.scala.html#18270">get</a></span>);
    }
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">()scala.collection.mutable.OpenHashMap[Key,Value]</span><a id="70885">clone</a></span> : <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Key,Value]</span><a href="#11260">OpenHashMap</a></span>[Key, Value] = {
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Key,Value]</span><a id="71448">it</a></span> = <span class="typed"><span class="type">()scala.collection.mutable.OpenHashMap[Key,Value]</span><a href="#70858" class="keyword">new</a></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Key,Value]</span><a href="#11260">OpenHashMap</a></span>[Key, Value]
    <span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="#70887">foreachUndeletedEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71454">entry</a></span> =&gt; <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Key,Value]</span><a href="#71448">it</a></span>.<span class="typed"><span class="type">(Key,Int,Value)Unit</span><a href="#70881">update</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71454">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71454">entry</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#70911">hash</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71454">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>.<span class="typed"><span class="type">=&gt; Value</span><a href="../../Option.scala.html#18270">get</a></span>));
    <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap[Key,Value]</span><a href="#71448">it</a></span>
  }

  <span class="comment">/**
   * Loop over the key, value mappings of this map.
   *
   * The behaviour of modifying the map during an iteration is as follows: 
   *
   * &lt;ul&gt;
   *  &lt;li&gt;Deleting a mapping is always permitted.&lt;/li&gt;
   *  &lt;li&gt;Changing the value of mapping which is already present is permitted.&lt;/li&gt;
   *  &lt;li&gt;Anything else is not permitted. It will usually, but not always, throw an exception.&lt;/li&gt;
   * &lt;/ul&gt;
   *
   * @param  f The function to apply to each key, value mapping.
   */</span> 
  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(((Key, Value)) =&gt; Unit)Unit</span><a id="70886">foreach</a></span>(<span class="typed"><span class="type">((Key, Value)) =&gt; Unit</span><a id="71458">f</a></span> : ((Key, Value)) =&gt; Unit){
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="71459">startModCount</a></span> = <span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span>;
    <span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="#70887">foreachUndeletedEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71461">entry</a></span> =&gt; {
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#70872">modCount</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3140">!=</a></span> <span class="typed"><span class="type">Int</span><a href="#71459">startModCount</a></span>) <span class="typed"><span class="type">(String)Nothing</span><a href="../../Predef.scala.html#13358">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Concurrent Modification&quot;)</span><span class="string">&quot;Concurrent Modification&quot;</span></span>)
      <span class="typed"><span class="type">((Key, Value))Unit</span><a href="../../Function1.scala.html#17300">f</a></span>(<span class="typed"><span class="type">(Key,Value)(Key, Value)</span><a href="../../Tuple2.scala.html#20366">(</a></span><span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71461">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71461">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>.<span class="typed"><span class="type">=&gt; Value</span><a href="../../Option.scala.html#18270">get</a></span>))}
    );  
  }

  <span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a id="70887">foreachUndeletedEntry</a></span>(<span class="typed"><span class="type">(scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit</span><a id="71452">f</a></span> : Entry[Key, Value] =&gt; Unit){
    <span class="typed"><span class="type">=&gt; Array[scala.collection.mutable.OpenHashMap.Entry[Key,Value]]</span><a href="#70863">table</a></span>.<span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="../../Iterable.scala.html#17328">foreach</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71469">entry</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71469">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71469">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5791">!=</a></span> <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>) <span class="typed"><span class="type">(scala.collection.mutable.OpenHashMap.Entry[Key,Value])Unit</span><a href="../../Function1.scala.html#17300">f</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71469">entry</a></span>));
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">((Key, Value) =&gt; Value)Unit</span><a id="70888">transform</a></span>(<span class="typed"><span class="type">(Key, Value) =&gt; Value</span><a id="71473">f</a></span> : (Key, Value) =&gt; Value) =
    <span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="#70887">foreachUndeletedEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71476">entry</a></span> =&gt; <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71476">entry</a></span>.<span class="typed"><span class="type">(Option[Value])Unit</span><a href="#70914">value</a></span> = <span class="typed"><span class="type">(Value)Some[Value]</span><a href="../../Option.scala.html#19455">Some</a></span>(<span class="typed"><span class="type">(Key,Value)Value</span><a href="../../Function2.scala.html#20399">f</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71476">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71476">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>.<span class="typed"><span class="type">=&gt; Value</span><a href="../../Option.scala.html#18270">get</a></span>)));

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">((Key, Value) =&gt; Boolean)Unit</span><a id="70889">retain</a></span>(<span class="typed"><span class="type">(Key, Value) =&gt; Boolean</span><a id="71480">f</a></span> : (Key, Value) =&gt; Boolean) =
    <span class="typed"><span class="type">((scala.collection.mutable.OpenHashMap.Entry[Key,Value]) =&gt; Unit)Unit</span><a href="#70887">foreachUndeletedEntry</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a id="71483">entry</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">(Key,Value)Boolean</span><a href="../../Function2.scala.html#20399">f</a></span>(<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71483">entry</a></span>.<span class="typed"><span class="type">=&gt; Key</span><a href="#70909">key</a></span>, <span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71483">entry</a></span>.<span class="typed"><span class="type">=&gt; Option[Value]</span><a href="#70913">value</a></span>.<span class="typed"><span class="type">=&gt; Value</span><a href="../../Option.scala.html#18270">get</a></span>)) {<span class="typed"><span class="type">scala.collection.mutable.OpenHashMap.Entry[Key,Value]</span><a href="#71483">entry</a></span>.<span class="typed"><span class="type">(Option[Value])Unit</span><a href="#70914">value</a></span> = <span class="typed"><span class="type">object None</span><a href="../../Option.scala.html#534">None</a></span>; <span class="typed"><span class="type">(Int)Unit</span><a href="#70874">size</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3146">-=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; <span class="typed"><span class="type">(Int)Unit</span><a href="#70870">deleted</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>} );

  <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a id="70890">stringPrefix</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;OpenHashMap&quot;)</span><span class="string">&quot;OpenHashMap&quot;</span></span>
}

        </pre>
    </body>
</html>