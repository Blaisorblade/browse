<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/runtime/BoxedAnyArray.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2002-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: BoxedAnyArray.scala 18572 2009-08-25 14:14:11Z odersky $


<span class="keyword">package</span> scala.runtime
<span class="keyword">import</span> scala.reflect.ClassManifest
<span class="keyword">import</span> compat.Platform

/**
 * Arrays created by &lt;code&gt;new Array[T](length)&lt;/code&gt; where &lt;code&gt;T&lt;/code&gt;
 * is a type variable.
 *
 * @author Martin Odersky
 */
@serializable
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BoxedAnyArray[A] extends scala.runtime.BoxedArray[A] with ScalaObject" id="2028">BoxedAnyArray</a>[<a title="&gt;: Nothing &lt;: Any" id="12276">A</a><a id="1">]</a><a href="../ScalaObject.scala.html#969" title="ScalaObject">(</a><span class="keyword">val</span> <a title="Int" id="50793">length</a>: <span title="Int">Int</span>) <span class="keyword">extends</span> <a href="BoxedArray.scala.html#2049" title="scala.runtime.BoxedArray[A]">BoxedArray</a>[A] {

  <span class="keyword">def</span> <a title="=&gt; scala.reflect.ClassManifest[A]" id="50752">elemManifest</a>: <a href="../reflect/ClassManifest.scala.html#11598" title="scala.reflect.ClassManifest[A]">ClassManifest</a>[A] = <span title="Null(null)" class="keyword">null</span> 

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Array[AnyRef]" id="50754">boxed</a> = <span title="Array[AnyRef]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[AnyRef]">Array</a>[AnyRef](<a href="#50793" title="=&gt; Int">length</a>)
//  private val hash = boxed.hashCode()
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="AnyRef" id="50757">unboxed</a>: <span title="AnyRef">AnyRef</span> = <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Class[_]" id="50760">elemClass</a>: <span title="Class[_]">Class</span>[_] = <span title="Null(null)" class="keyword">null</span>

  <span class="keyword">def</span> <a title="(index: Int)A" id="50762">apply</a>(<a title="Int" id="50799">index</a>: <span title="Int">Int</span>): <a href="#12276" title="A">A</a> = <a href="#2028" title="(x$1: AnyRef)AnyRef">synchronized</a> { 
    <span title="AnyRef" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>)
      <a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#50799" title="Int">index</a>)
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Int]">[</span>Int])
      <span title="object Int">Int</span>.<a title="(x$1: Int)java.lang.Object" id="2193">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Int">[</a><a href="../Array.scala.html#897" title="Array[Int]">Array</a>[Int]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Double]">[</span>Double])
      <span title="object Double">Double</span>.<a title="(x$1: Double)java.lang.Object" id="2214">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Double">[</a><a href="../Array.scala.html#897" title="Array[Double]">Array</a>[Double]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Float]">[</span>Float])
      <span title="object Float">Float</span>.<a title="(x$1: Float)java.lang.Object" id="2207">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Float">[</a><a href="../Array.scala.html#897" title="Array[Float]">Array</a>[Float]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Long]">[</span>Long])
      <span title="object Long">Long</span>.<a title="(x$1: Long)java.lang.Object" id="2200">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Long">[</a><a href="../Array.scala.html#897" title="Array[Long]">Array</a>[Long]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Char]">[</span>Char])
      <span title="object Char">Char</span>.<a title="(x$1: Char)java.lang.Object" id="2179">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Char">[</a><a href="../Array.scala.html#897" title="Array[Char]">Array</a>[Char]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Byte]">[</span>Byte])
      <span title="object Byte">Byte</span>.<a title="(x$1: Byte)java.lang.Object" id="2172">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Byte">[</a><a href="../Array.scala.html#897" title="Array[Byte]">Array</a>[Byte]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Short]">[</span>Short])
      <span title="object Short">Short</span>.<a title="(x$1: Short)java.lang.Object" id="2186">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Short">[</a><a href="../Array.scala.html#897" title="Array[Short]">Array</a>[Short]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span> <span title="java.lang.Object" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Boolean]">[</span>Boolean])
      <span title="object Boolean">Boolean</span>.<a title="(x$1: Boolean)java.lang.Object" id="2165">box</a>(<a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)Boolean">[</a><a href="../Array.scala.html#897" title="Array[Boolean]">Array</a>[Boolean]](<a href="#50799" title="Int">index</a>))
    <span class="keyword">else</span>
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17823" title="(i: Int)AnyRef">[</a><a href="../Array.scala.html#897" title="Array[AnyRef]">Array</a>[AnyRef]](<a href="#50799" title="Int">index</a>)
  }.<span title="[T0]T0">asInstanceOf</span><span title="A">[</span><a href="#12276" title="A">A</a>]

  <span class="keyword">def</span> <a title="(index: Int,_elem: A)Unit" id="50763">update</a>(<a title="Int" id="50951">index</a>: <span title="Int">Int</span>, <a title="A" id="50952">_elem</a>: <a href="#12276" title="A">A</a>): <a title="Unit" id="1963">Unit</a> = <a href="#2028" title="(x$1: Unit)Unit">synchronized</a> {
    <span class="keyword">val</span> <a title="AnyRef" id="50966">elem</a> = <a href="#50952" title="A">_elem</a>.<span title="[T0]T0">asInstanceOf</span><span title="AnyRef">[</span><span title="AnyRef">AnyRef</span>]
    <span title="Unit" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>)
      <a href="../Array.scala.html#17824" title="(i: Int,x: AnyRef)Unit">boxed</a>(<a href="#50951" title="Int">index</a>) = <a href="#50966" title="AnyRef">elem</a>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Int]">[</span>Int])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Int)Unit">[</a><a href="../Array.scala.html#897" title="Array[Int]">Array</a>[Int]](<a href="#50951" title="Int">index</a>) = <span title="object Int">Int</span>.<span title="(x$1: java.lang.Object)Int">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Double]">[</span>Double])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Double)Unit">[</a><a href="../Array.scala.html#897" title="Array[Double]">Array</a>[Double]](<a href="#50951" title="Int">index</a>) = <span title="object Double">Double</span>.<span title="(x$1: java.lang.Object)Double">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Float]">[</span>Float])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Float)Unit">[</a><a href="../Array.scala.html#897" title="Array[Float]">Array</a>[Float]](<a href="#50951" title="Int">index</a>) = <span title="object Float">Float</span>.<span title="(x$1: java.lang.Object)Float">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Long]">[</span>Long])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Long)Unit">[</a><a href="../Array.scala.html#897" title="Array[Long]">Array</a>[Long]](<a href="#50951" title="Int">index</a>) = <span title="object Long">Long</span>.<span title="(x$1: java.lang.Object)Long">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Char]">[</span>Char])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Char)Unit">[</a><a href="../Array.scala.html#897" title="Array[Char]">Array</a>[Char]](<a href="#50951" title="Int">index</a>) = <span title="object Char">Char</span>.<span title="(x$1: java.lang.Object)Char">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Byte]">[</span>Byte])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Byte)Unit">[</a><a href="../Array.scala.html#897" title="Array[Byte]">Array</a>[Byte]](<a href="#50951" title="Int">index</a>) = <span title="object Byte">Byte</span>.<span title="(x$1: java.lang.Object)Byte">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Short]">[</span>Short])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Short)Unit">[</a><a href="../Array.scala.html#897" title="Array[Short]">Array</a>[Short]](<a href="#50951" title="Int">index</a>) = <span title="object Short">Short</span>.<span title="(x$1: java.lang.Object)Short">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#50760" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Boolean]">[</span>Boolean])
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: Boolean)Unit">[</a><a href="../Array.scala.html#897" title="Array[Boolean]">Array</a>[Boolean]](<a href="#50951" title="Int">index</a>) = <span title="object Boolean">Boolean</span>.<span title="(x$1: java.lang.Object)Boolean">unbox</span>(<a href="#50966" title="AnyRef">elem</a>)
    <span class="keyword">else</span>
      <a href="#50757" title="=&gt; AnyRef">unboxed</a>.<span title="[T0]T0">asInstanceOf</span><a href="../Array.scala.html#17824" title="(i: Int,x: AnyRef)Unit">[</a><a href="../Array.scala.html#897" title="Array[AnyRef]">Array</a>[AnyRef]](<a href="#50951" title="Int">index</a>) = <a href="#50966" title="AnyRef">elem</a>
  }

  <span class="keyword">def</span> <a title="(elemClass: Class[_])AnyRef" id="50764">unbox</a>(<a title="Class[_]" id="51142">elemClass</a>: <span title="Class[_]">Class</span>[_]): <span title="AnyRef">AnyRef</span> = <a href="#2028" title="(x$1: AnyRef)AnyRef">synchronized</a> {
    <span title="Unit" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>) {
      <a href="#2028" title="BoxedAnyArray.this.type" class="keyword">this</a>.<a href="#50760" title="(x$1: Class[_])Unit">elemClass</a> = <a href="#51142" title="Class[_]">elemClass</a>;
      <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Int]">[</span>Int]) {
        <span class="keyword">val</span> <a title="Array[Int]" id="51156">newvalue</a> = <span title="Array[Int]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Int]">Array</a>[Int](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51157">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51157" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51158" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Int)Unit">newvalue</a>(<a href="#51157" title="Int">i</a>) = <span title="object Int">Int</span>.<span title="(x$1: java.lang.Object)Int">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51157" title="Int">i</a>))
          <a href="#51157" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51156" title="Array[Int]">newvalue</a>
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Double]">[</span>Double]) {
        <span class="keyword">val</span> <a title="Array[Double]" id="51236">newvalue</a> = <span title="Array[Double]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Double]">Array</a>[Double](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51237">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51237" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51238" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Double)Unit">newvalue</a>(<a href="#51237" title="Int">i</a>) = <span title="object Double">Double</span>.<span title="(x$1: java.lang.Object)Double">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51237" title="Int">i</a>))
          <a href="#51237" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51236" title="Array[Double]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Float]">[</span>Float]) {
        <span class="keyword">val</span> <a title="Array[Float]" id="51313">newvalue</a> = <span title="Array[Float]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Float]">Array</a>[Float](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51314">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51314" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51315" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Float)Unit">newvalue</a>(<a href="#51314" title="Int">i</a>) = <span title="object Float">Float</span>.<span title="(x$1: java.lang.Object)Float">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51314" title="Int">i</a>))
          <a href="#51314" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51313" title="Array[Float]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Long]">[</span>Long]) {
        <span class="keyword">val</span> <a title="Array[Long]" id="51390">newvalue</a> = <span title="Array[Long]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Long]">Array</a>[Long](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51391">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51391" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51392" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Long)Unit">newvalue</a>(<a href="#51391" title="Int">i</a>) = <span title="object Long">Long</span>.<span title="(x$1: java.lang.Object)Long">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51391" title="Int">i</a>))
          <a href="#51391" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51390" title="Array[Long]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Char]">[</span>Char]) {
        <span class="keyword">val</span> <a title="Array[Char]" id="51467">newvalue</a> = <span title="Array[Char]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Char]">Array</a>[Char](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51468">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51468" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51469" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Char)Unit">newvalue</a>(<a href="#51468" title="Int">i</a>) = <span title="object Char">Char</span>.<span title="(x$1: java.lang.Object)Char">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51468" title="Int">i</a>))
          <a href="#51468" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51467" title="Array[Char]">newvalue</a>
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Byte]">[</span>Byte]) {
        <span class="keyword">val</span> <a title="Array[Byte]" id="51544">newvalue</a> = <span title="Array[Byte]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Byte]">Array</a>[Byte](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51545">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51545" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51546" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Byte)Unit">newvalue</a>(<a href="#51545" title="Int">i</a>) = <span title="object Byte">Byte</span>.<span title="(x$1: java.lang.Object)Byte">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51545" title="Int">i</a>))
          <a href="#51545" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51544" title="Array[Byte]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Short]">[</span>Short]) {
        <span class="keyword">val</span> <a title="Array[Short]" id="51621">newvalue</a> = <span title="Array[Short]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Short]">Array</a>[Short](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51622">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51622" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51623" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Short)Unit">newvalue</a>(<a href="#51622" title="Int">i</a>) = <span title="object Short">Short</span>.<span title="(x$1: java.lang.Object)Short">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51622" title="Int">i</a>))
          <a href="#51622" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51621" title="Array[Short]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean">elemClass</a> eq classOf<span title="java.lang.Class[Boolean]">[</span>Boolean]) {
        <span class="keyword">val</span> <a title="Array[Boolean]" id="51698">newvalue</a> = <span title="Array[Boolean]" class="keyword">new</span> <a href="../Array.scala.html#897" title="Array[Boolean]">Array</a>[Boolean](<a href="#50793" title="=&gt; Int">length</a>)
        <span class="keyword">var</span> <a title="Int" id="51699">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> (<a href="#51699" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51700" title="()Unit">{</a>
          <a href="../Array.scala.html#17824" title="(i: Int,x: Boolean)Unit">newvalue</a>(<a href="#51699" title="Int">i</a>) = <span title="object Boolean">Boolean</span>.<span title="(x$1: java.lang.Object)Boolean">unbox</span>(<a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51699" title="Int">i</a>))
          <a href="#51699" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
        }
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#51698" title="Array[Boolean]">newvalue</a>;
      } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a href="#51142" title="(x$1: AnyRef)Boolean" id="3639">elemClass</a> == classOf<span title="java.lang.Class[AnyRef]">[</span>AnyRef]) {
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>
      } <span class="keyword">else</span> {
        <a href="#50757" title="(x$1: AnyRef)Unit">unboxed</a> = <a href="../compat/Platform.scala.html#16745" title="object scala.compat.Platform">Platform</a>.<a href="../compat/Platform.scala.html#17793" title="(elemClass: Class[_],length: Int)AnyRef">createArray</a>(<a href="#51142" title="Class[_]">elemClass</a>, <a href="#50793" title="=&gt; Int">length</a>)
        <span title="Unit" class="keyword">if</span> (<a href="#51142" title="Class[_]">elemClass</a>.<a title="()Boolean" id="4118">isArray</a>) {
          <span class="keyword">var</span> <a title="Int" id="51793">i</a> = <span title="Int(0)" class="int">0</span>
          <span title="Unit" class="keyword">while</span> (<a href="#51793" title="(x$1: Int)Boolean">i</a> &lt; <a href="#50793" title="=&gt; Int">length</a>) <a href="#51794" title="()Unit">{</a>
            <a href="../Array.scala.html#17823" title="(i: Int)AnyRef">boxed</a>(<a href="#51793" title="Int">i</a>) <span title="Unit" class="keyword">match</span> {
              <span title="Unit" class="keyword">case</span> <a title="scala.runtime.BoxedArray[_]" id="51811">ba</a>: <a href="BoxedArray.scala.html#2049" title="scala.runtime.BoxedArray[_]">BoxedArray</a>[_] =&gt; <a href="../Array.scala.html#17824" title="(i: Int,x: AnyRef)Unit">boxed</a>(<a href="#51793" title="Int">i</a>) = <a href="#51811" title="scala.runtime.BoxedArray[_]">ba</a>.<a href="BoxedArray.scala.html#26258" title="(elemClass: Class[_])AnyRef">unbox</a>(<a href="#51142" title="Class[_]">elemClass</a>.<a title="()java.lang.Class[_]" id="4135">getComponentType</a>())
              <span title="Unit" class="keyword">case</span> _ =&gt;
            }
            <a href="#51793" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
          }
        }
        <a href="../compat/Platform.scala.html#16745" title="object scala.compat.Platform">Platform</a>.<a href="../compat/Platform.scala.html#17792" title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">arraycopy</a>(<a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>, <span title="Int(0)" class="int">0</span>, <a href="#50757" title="=&gt; AnyRef">unboxed</a>, <span title="Int(0)" class="int">0</span>, <a href="#50793" title="=&gt; Int">length</a>)
      }
      <a href="#50754" title="(x$1: Array[AnyRef])Unit">boxed</a> = <span title="Null(null)" class="keyword">null</span>
    }
    <a href="#50757" title="=&gt; AnyRef">unboxed</a>
  }

/* !!! todo: deal with array equality
  override def equals(other: Any): Boolean =    
    other.isInstanceOf[BoxedAnyArray[_]] &amp;&amp; (this eq (other.asInstanceOf[BoxedAnyArray[_]])) ||
    (if (unboxed eq null) boxed == other else unboxed == other)

  override def hashCode(): Int = hash
*/

  <span class="keyword">def</span> <a title="=&gt; AnyRef" id="50765">value</a>: <span title="AnyRef">AnyRef</span> = {
    <span title="Unit" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>) <span title="Nothing" class="keyword">throw</span> <span title="NotDefinedError" class="keyword">new</span> <a href="../NotDefinedError.scala.html#429" title="NotDefinedError">NotDefinedError</a>(<span title="java.lang.String(&quot;BoxedAnyArray.value&quot;)" class="string">&quot;BoxedAnyArray.value&quot;</span>)
    <a href="#50757" title="=&gt; AnyRef">unboxed</a>
  }

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: AnyRef)AnyRef" id="50766">adapt</a>(<a title="AnyRef" id="51890">other</a>: <span title="AnyRef">AnyRef</span>): <span title="AnyRef">AnyRef</span> =
    <span title="AnyRef" class="keyword">if</span> (<a href="#2028" title="BoxedAnyArray.this.type" class="keyword">this</a>.<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>)
      <a href="#51890" title="AnyRef">other</a> <span title="AnyRef" class="keyword">match</span> {
        <span title="AnyRef" class="keyword">case</span> <a title="scala.runtime.BoxedAnyArray[_]" id="51894">that</a>: <a href="#2028" title="scala.runtime.BoxedAnyArray[_]">BoxedAnyArray</a>[_] =&gt;
          <span title="AnyRef" class="keyword">if</span> (<a href="#51894" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> eq <span title="Null(null)" class="keyword">null</span>) {
            <a href="#51894" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>
          } <span class="keyword">else</span> {
            <span title="Any" class="keyword">if</span> (<a href="ScalaRunTime.scala.html#2002" title="object scala.runtime.ScalaRunTime">ScalaRunTime</a>.<a href="ScalaRunTime.scala.html#20723" title="(clazz: Class[_])Boolean">isValueClass</a>(<a href="#51894" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50760" title="=&gt; Class[_]">elemClass</a>)) <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(<a href="#51894" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50760" title="=&gt; Class[_]">elemClass</a>); 
            <a href="#51894" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50757" title="=&gt; AnyRef">unboxed</a>
          }
        <span title="AnyRef" class="keyword">case</span> <a title="scala.runtime.BoxedArray[_]" id="51917">that</a>: <a href="BoxedArray.scala.html#2049" title="scala.runtime.BoxedArray[_]">BoxedArray</a>[_] =&gt;
          <a href="#50766" title="(other: AnyRef)AnyRef">adapt</a>(<a href="#51917" title="scala.runtime.BoxedArray[_]">that</a>.<a href="BoxedArray.scala.html#26259" title="=&gt; AnyRef">value</a>)
        <span title="Array[Int]" class="keyword">case</span> <a title="Array[Int]" id="51921">that</a>: <a href="../Array.scala.html#897" title="Array[Int]">Array</a>[Int] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Int]">[</span>Int]); <a href="#51921" title="Array[Int]">that</a>
        <span title="Array[Double]" class="keyword">case</span> <a title="Array[Double]" id="51924">that</a>: <a href="../Array.scala.html#897" title="Array[Double]">Array</a>[Double] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Double]">[</span>Double]); <a href="#51924" title="Array[Double]">that</a>
        <span title="Array[Float]" class="keyword">case</span> <a title="Array[Float]" id="51927">that</a>: <a href="../Array.scala.html#897" title="Array[Float]">Array</a>[Float] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Float]">[</span>Float]); <a href="#51927" title="Array[Float]">that</a>
        <span title="Array[Long]" class="keyword">case</span> <a title="Array[Long]" id="51930">that</a>: <a href="../Array.scala.html#897" title="Array[Long]">Array</a>[Long] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Long]">[</span>Long]); <a href="#51930" title="Array[Long]">that</a>
        <span title="Array[Char]" class="keyword">case</span> <a title="Array[Char]" id="51933">that</a>: <a href="../Array.scala.html#897" title="Array[Char]">Array</a>[Char] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Char]">[</span>Char]); <a href="#51933" title="Array[Char]">that</a>
        <span title="Array[Short]" class="keyword">case</span> <a title="Array[Short]" id="51936">that</a>: <a href="../Array.scala.html#897" title="Array[Short]">Array</a>[Short] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Short]">[</span>Short]); <a href="#51936" title="Array[Short]">that</a>
        <span title="Array[Byte]" class="keyword">case</span> <a title="Array[Byte]" id="51939">that</a>: <a href="../Array.scala.html#897" title="Array[Byte]">Array</a>[Byte] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Byte]">[</span>Byte]); <a href="#51939" title="Array[Byte]">that</a>
        <span title="Array[Boolean]" class="keyword">case</span> <a title="Array[Boolean]" id="51942">that</a>: <a href="../Array.scala.html#897" title="Array[Boolean]">Array</a>[Boolean] =&gt;
          <a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(classOf<span title="java.lang.Class[Boolean]">[</span>Boolean]); <a href="#51942" title="Array[Boolean]">that</a>
        <span title="AnyRef" class="keyword">case</span> _ =&gt;
          <a href="#51890" title="AnyRef">other</a>
      }
    <span class="keyword">else</span>
      <a href="#51890" title="AnyRef">other</a> <span title="AnyRef" class="keyword">match</span> {
        <span title="AnyRef" class="keyword">case</span> <a title="scala.runtime.BoxedAnyArray[_]" id="51945">that</a>: <a href="#2028" title="scala.runtime.BoxedAnyArray[_]">BoxedAnyArray</a>[_] =&gt;
          <span title="AnyRef" class="keyword">if</span> (<a href="#51945" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#51945" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50757" title="=&gt; AnyRef">unboxed</a>
          <span class="keyword">else</span> <span title="AnyRef" class="keyword">if</span> (<a href="ScalaRunTime.scala.html#2002" title="object scala.runtime.ScalaRunTime">ScalaRunTime</a>.<a href="ScalaRunTime.scala.html#20723" title="(clazz: Class[_])Boolean">isValueClass</a>(<a href="#2028" title="BoxedAnyArray.this.type" class="keyword">this</a>.<a href="#50760" title="=&gt; Class[_]">elemClass</a>)) <a href="#51945" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50764" title="(elemClass: Class[_])AnyRef">unbox</a>(<a href="#2028" title="BoxedAnyArray.this.type" class="keyword">this</a>.<a href="#50760" title="=&gt; Class[_]">elemClass</a>)
          <span class="keyword">else</span> <a href="#51945" title="scala.runtime.BoxedAnyArray[_]">that</a>.<a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>
        <span title="AnyRef" class="keyword">case</span> <a title="scala.runtime.BoxedArray[_]" id="51955">that</a>: <a href="BoxedArray.scala.html#2049" title="scala.runtime.BoxedArray[_]">BoxedArray</a>[_] =&gt;
          <a href="#50766" title="(other: AnyRef)AnyRef">adapt</a>(<a href="#51955" title="scala.runtime.BoxedArray[_]">that</a>.<a href="BoxedArray.scala.html#26259" title="=&gt; AnyRef">value</a>)
        <span title="AnyRef" class="keyword">case</span> _ =&gt;
          <a href="#51890" title="AnyRef">other</a>
      }

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(src: AnyRef,from: Int,to: Int,len: Int)Unit" id="50767">copyFrom</a>(<a title="AnyRef" id="51959">src</a>: <span title="AnyRef">AnyRef</span>, <a title="Int" id="51960">from</a>: <span title="Int">Int</span>, <a title="Int" id="51961">to</a>: <span title="Int">Int</span>, <a title="Int" id="51962">len</a>: <span title="Int">Int</span>) {
    <span class="keyword">val</span> <a title="AnyRef" id="51969">src1</a> = <a href="#50766" title="(other: AnyRef)AnyRef">adapt</a>(<a href="#51959" title="AnyRef">src</a>)
    <a href="../Array.scala.html#898" title="object Array">Array</a>.<a href="../Array.scala.html#29321" title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</a>(<a href="#51969" title="AnyRef">src1</a>, <a href="#51960" title="Int">from</a>, <span title="AnyRef" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#50757" title="=&gt; AnyRef">unboxed</a> <span class="keyword">else</span> <a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>, <a href="#51961" title="Int">to</a>, <a href="#51962" title="Int">len</a>)
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(from: Int,dest: AnyRef,to: Int,len: Int)Unit" id="50768">copyTo</a>(<a title="Int" id="51976">from</a>: <span title="Int">Int</span>, <a title="AnyRef" id="51977">dest</a>: <span title="AnyRef">AnyRef</span>, <a title="Int" id="51978">to</a>: <span title="Int">Int</span>, <a title="Int" id="51979">len</a>: <span title="Int">Int</span>) {
    <span class="keyword">var</span> <a title="AnyRef" id="51986">dest1</a> = <a href="#50766" title="(other: AnyRef)AnyRef">adapt</a>(<a href="#51977" title="AnyRef">dest</a>)
    <a href="../Array.scala.html#898" title="object Array">Array</a>.<a href="../Array.scala.html#29321" title="(src: AnyRef,srcPos: Int,dest: AnyRef,destPos: Int,length: Int)Unit">copy</a>(<span title="AnyRef" class="keyword">if</span> (<a href="#50757" title="(x$1: AnyRef)Boolean">unboxed</a> ne <span title="Null(null)" class="keyword">null</span>) <a href="#50757" title="=&gt; AnyRef">unboxed</a> <span class="keyword">else</span> <a href="#50754" title="=&gt; Array[AnyRef]">boxed</a>, <a href="#51976" title="Int">from</a>, <a href="#51986" title="AnyRef">dest1</a>, <a href="#51978" title="Int">to</a>, <a href="#51979" title="Int">len</a>)
  }
}

        </pre>
    </body>
</html>