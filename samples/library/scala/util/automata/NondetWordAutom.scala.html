<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/util/automata/NondetWordAutom.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: NondetWordAutom.scala 17757 2009-05-18 16:02:09Z extempore $


<span class="keyword">package</span> scala.util.automata

<span class="keyword">import</span> scala.collection.{immutable, mutable, Set, Map}

/** A nondeterministic automaton. States are integers, where
 *  0 is always the only initial state. Transitions are represented
 *  in the delta function. Default transitions are transitions that
 *  are taken when no other transitions can be applied.
 *  All states are reachable. Accepting states are those for which
 *  the partial function 'finals' is defined.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class NondetWordAutom[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="14170">NondetWordAutom</a>[<a title="&gt;: Nothing &lt;: AnyRef" id="17075">T</a> &lt;: <a id="1">AnyRef</a>]
<a href="../../ScalaObject.scala.html#969" title="ScalaObject">{</a>
  <span class="keyword">val</span> <a title="=&gt; Int" id="56471">nstates</a>: <span title="Int">Int</span>
  <span class="keyword">val</span> <a title="=&gt; Seq[T]" id="56472">labels</a>: <a href="../../collection/Sequence.scala.html#4376" title="Seq[T]">Seq</a>[T]

  <span class="keyword">val</span> <a title="=&gt; Array[Int]" id="56473">finals</a>: <a href="../../Array.scala.html#897" title="Array[Int]">Array</a>[Int] // 0 means not final
  <span class="keyword">val</span> <a title="=&gt; Array[scala.collection.Map[T,scala.collection.immutable.BitSet]]" id="56474">delta</a>: <a href="../../Array.scala.html#897" title="Array[scala.collection.Map[T,scala.collection.immutable.BitSet]]">Array</a>[Map[T, immutable.BitSet]]
  <span class="keyword">val</span> <a title="=&gt; Array[scala.collection.immutable.BitSet]" id="56475">default</a>: <a href="../../Array.scala.html#897" title="Array[scala.collection.immutable.BitSet]">Array</a>[immutable.BitSet]

  /** returns true if the state is final */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: Int)Boolean" id="56476">isFinal</a>(<a title="Int" id="264638">state</a>: <span title="Int">Int</span>) = <a href="../../Array.scala.html#17823" title="(i: Int)Int">finals</a><a title="(x$1: Int)Boolean" id="2973">(</a><a href="#264638" title="Int">state</a>) &gt; <span title="Int(0)" class="int">0</span>

  /** returns tag of final state */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: Int)Int" id="56477">finalTag</a>(<a title="Int" id="264656">state</a>: <span title="Int">Int</span>) = <a href="../../Array.scala.html#17823" title="(i: Int)Int">finals</a>(<a href="#264656" title="Int">state</a>)
  
  /** returns true if the set of states contains at least one final state */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(Q: scala.collection.immutable.BitSet)Boolean" id="56478">containsFinal</a>(<a title="scala.collection.immutable.BitSet" id="264668">Q</a>: immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a>): <a title="Boolean" id="1964">Boolean</a> = <a href="../../collection/generic/TraversableTemplate.scala.html#17291" title="(p: (Int) =&gt; Boolean)Boolean">Q</a> exists <a href="#56476" title="(state: Int)Boolean">isFinal</a>
  
  /** returns true if there are no accepting states */
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="56479">isEmpty</a> = <a href="../../collection/generic/VectorTemplate.scala.html#17862" title="(p: (Int) =&gt; Boolean)Boolean">(</a><a href="../../runtime/RichInt.scala.html#19167" title="(end: Int)Range" class="int">0</a> until <a href="#56471" title="=&gt; Int">nstates</a>) forall (<a title="Int" id="264706">x</a> =&gt; <a title="=&gt; Boolean" id="2218">!</a><a href="#56476" title="(state: Int)Boolean">isFinal</a>(<a href="#264706" title="Int">x</a>))

  /** returns a bitset with the next states for given state and label */
  <span class="keyword">def</span> <a title="(q: Int,a: T)scala.collection.immutable.BitSet" id="56480">next</a>(<a title="Int" id="264711">q</a>: <span title="Int">Int</span>, <a title="T" id="264712">a</a>: <a href="#17075" title="T">T</a>): immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a> = <a href="../../Array.scala.html#17823" title="(i: Int)scala.collection.Map[T,scala.collection.immutable.BitSet]">delta</a>(<a href="#264711" title="Int">q</a>).<a href="../../collection/generic/MapTemplate.scala.html#35386" title="(key: T)Option[scala.collection.immutable.BitSet]">get</a><a href="../../Option.scala.html#19870" title="(default: =&gt; scala.collection.immutable.BitSet)scala.collection.immutable.BitSet">(</a><a href="#264712" title="T">a</a>) getOrElse <a href="../../Array.scala.html#17823" title="(i: Int)scala.collection.immutable.BitSet">default</a>(<a href="#264711" title="Int">q</a>)

  /** returns a bitset with the next states for given state and label */
  <span class="keyword">def</span> <a title="(Q: scala.collection.immutable.BitSet,a: T)scala.collection.immutable.BitSet" id="56481">next</a>(<a title="scala.collection.immutable.BitSet" id="264742">Q</a>: immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a>, <a title="T" id="264743">a</a>: <a href="#17075" title="T">T</a>): immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a> = <a href="#56483" title="(Q: scala.collection.immutable.BitSet,f: (Int) =&gt; scala.collection.immutable.BitSet)scala.collection.immutable.BitSet">next</a>(<a href="#264742" title="scala.collection.immutable.BitSet">Q</a>, <a href="#56480" title="(q: Int,a: T)scala.collection.immutable.BitSet">next</a>(<a href="#264771" title="Int">_</a>, <a href="#264743" title="T">a</a>))
  <span class="keyword">def</span> <a title="(Q: scala.collection.immutable.BitSet)scala.collection.immutable.BitSet" id="56482">nextDefault</a>(<a title="scala.collection.immutable.BitSet" id="264781">Q</a>: immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a>): immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a> = <a href="#56483" title="(Q: scala.collection.immutable.BitSet,f: (Int) =&gt; scala.collection.immutable.BitSet)scala.collection.immutable.BitSet">next</a>(<a href="#264781" title="scala.collection.immutable.BitSet">Q</a>, <a href="#56475" title="=&gt; Array[scala.collection.immutable.BitSet]">default</a>)
  
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(Q: scala.collection.immutable.BitSet,f: (Int) =&gt; scala.collection.immutable.BitSet)scala.collection.immutable.BitSet" id="56483">next</a>(<a title="scala.collection.immutable.BitSet" id="264748">Q</a>: immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a>, <a title="(Int) =&gt; scala.collection.immutable.BitSet" id="264749">f</a>: (Int) =&gt; immutable.BitSet): immutable.<a href="../../collection/immutable/BitSet.scala.html#8991" title="scala.collection.immutable.BitSet">BitSet</a> =
    (<a href="../../collection/generic/TraversableTemplate.scala.html#17268" title="(f: (Int) =&gt; scala.collection.immutable.BitSet)(implicit bf: scala.collection.generic.BuilderFactory[scala.collection.immutable.BitSet,scala.collection.immutable.Set[scala.collection.immutable.BitSet],scala.collection.immutable.BitSet])scala.collection.immutable.Set[scala.collection.immutable.BitSet]">Q</a> <a href="../../collection/immutable/Set.scala.html#57085" title="scala.collection.generic.BuilderFactory[scala.collection.immutable.BitSet,scala.collection.immutable.Set[scala.collection.immutable.BitSet],scala.collection.immutable.Set#Coll]">map</a> <a href="#264749" title="(Int) =&gt; scala.collection.immutable.BitSet">f</a>).<a href="../../collection/generic/TraversableTemplate.scala.html#17294" title="(z: scala.collection.immutable.BitSet)(op: (scala.collection.immutable.BitSet, scala.collection.immutable.BitSet) =&gt; scala.collection.immutable.BitSet)scala.collection.immutable.BitSet">foldLeft</a>(immutable.<a href="../../collection/immutable/BitSet.scala.html#8992" title="object scala.collection.immutable.BitSet">BitSet</a>.<a href="../../collection/immutable/BitSet.scala.html#56177" title="=&gt; scala.collection.immutable.BitSet">empty</a>)(<a href="../../collection/generic/Addable.scala.html#20079" title="(elems: Traversable[Int])scala.collection.immutable.BitSet">_</a> ++ <a href="#264864" title="scala.collection.immutable.BitSet">_</a>)

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="56484">toString</a> = {
    <span class="keyword">val</span> <a title="String" id="264977">finalString</a> = <a href="../../collection/generic/MapFactory.scala.html#35294" title="(elems: (Int, Int)*)scala.collection.immutable.Map[Int,Int]">Map</a>(<a href="../../runtime/RichInt.scala.html#19167" title="(end: Int)Range" class="int">0</a> <a href="../../collection/generic/TraversableViewTemplate.scala.html#26085" title="(p: (Int) =&gt; Boolean)scala.collection.generic.VectorView[Int,scala.collection.immutable.Vector[Int]]">until</a> <a href="#56471" title="=&gt; Int">nstates</a> <a href="../../collection/generic/TraversableViewTemplate.scala.html#26075" title="(f: (Int) =&gt; (Int, Int))(implicit bf: scala.collection.generic.BuilderFactory[(Int, Int),scala.collection.generic.VectorView[(Int, Int),Vector[_]],scala.collection.generic.VectorView[Int,scala.collection.immutable.Vector[Int]]])scala.collection.generic.VectorView[(Int, Int),Vector[_]]">filter</a> <a href="#56476" title="(state: Int)Boolean">isFinal</a> <a href="../../collection/generic/VectorView.scala.html#26192" title="scala.collection.generic.BuilderFactory[(Int, Int),scala.collection.generic.VectorView[(Int, Int),Vector[_]],scala.collection.generic.VectorView#Coll]">map</a> (<a title="Int" id="265033">j</a> =&gt; <a href="../../Predef.scala.html#19210" title="(y: Int)(Int, Int)">j</a> -&gt; <a href="../../Array.scala.html#17823" title="(i: Int)Int">finals</a>(<a href="#265033" title="Int">j</a>)) : _*).<a href="../../collection/generic/MapTemplate.scala.html#35430" title="()String">toString</a>
    <span class="keyword">val</span> <a title="String" id="264978">deltaString</a> = (<a href="../../runtime/RichInt.scala.html#19167" title="(end: Int)Range" class="int">0</a> until <a href="#56471" title="=&gt; Int">nstates</a>) .
      <a href="../../collection/generic/TraversableViewTemplate.scala.html#26075" title="(f: (Int) =&gt; String)(implicit bf: scala.collection.generic.BuilderFactory[String,scala.collection.generic.VectorView[String,Vector[_]],scala.collection.generic.VectorView[Int,scala.collection.immutable.Vector[Int]]])scala.collection.generic.VectorView[String,Vector[_]]">map</a> <a href="../../collection/generic/VectorView.scala.html#26192" title="scala.collection.generic.BuilderFactory[String,scala.collection.generic.VectorView[String,Vector[_]],scala.collection.generic.VectorView#Coll]">(</a><a title="Int" id="265204">i</a> =&gt; <a href="../../Predef.scala.html#16471" title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;   %d-&gt;%s\n    _&gt;%s\n&quot;</a>.<a href="../../runtime/RichString.scala.html#18167" title="(args: Any*)String">format</a>(<a href="#265204" title="Int">i</a>, <a href="../../Array.scala.html#17823" title="(i: Int)scala.collection.Map[T,scala.collection.immutable.BitSet]">delta</a>(<a href="#265204" title="Int">i</a>).<a href="../../collection/generic/MapTemplate.scala.html#35430" title="()String">toString</a>, <a href="../../Array.scala.html#17823" title="(i: Int)scala.collection.immutable.BitSet">default</a>(<a href="#265204" title="Int">i</a>).<a href="../../collection/generic/SetTemplate.scala.html#34404" title="()String">toString</a>)) <a href="../../collection/generic/TraversableTemplate.scala.html#17355" title="=&gt; String">mkString</a>
    
    <a href="../../Predef.scala.html#16471" title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;[NondetWordAutom  nstates=%d  finals=%s  delta=\n%s&quot;</a>.<a href="../../runtime/RichString.scala.html#18167" title="(args: Any*)String">format</a>(<a href="#56471" title="=&gt; Int">nstates</a>, <a href="#264977" title="String">finalString</a>, <a href="#264978" title="String">deltaString</a>)
  }
}

        </pre>
    </body>
</html>