<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/util/automata/DetWordAutom.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: DetWordAutom.scala 17707 2009-05-12 09:58:25Z odersky $


<span class="keyword">package</span> scala.util.automata


<span class="keyword">import</span> scala.collection.{Set, Map}

/** A deterministic automaton. States are integers, where
 *  0 is always the only initial state. Transitions are represented
 *  in the delta function. A default transitions is one that
 *  is taken when no other transition can be taken.
 *  All states are reachable. Accepting states are those for which
 *  the partial function 'finals' is defined.
 *
 *  @author Burak Emir
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class DetWordAutom[T &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="14056">DetWordAutom</a>[<a title="&gt;: Nothing &lt;: AnyRef" id="16416">T</a> &lt;: AnyRef] <a href="../../ScalaObject.scala.html#957" title="ScalaObject">{</a>

  <span class="keyword">val</span> <a title="=&gt; Int" id="56246">nstates</a>: <span title="Int">Int</span>
  <span class="keyword">val</span> <a title="=&gt; Array[Int]" id="56247">finals</a>: <a href="../../Array.scala.html#885" title="Array[Int]">Array</a>[Int]
  <span class="keyword">val</span> <a title="=&gt; Array[scala.collection.Map[T,Int]]" id="56248">delta</a>: <a href="../../Array.scala.html#885" title="Array[scala.collection.Map[T,Int]]">Array</a>[Map[T,Int]]
  <span class="keyword">val</span> <a title="=&gt; Array[Int]" id="56249">default</a>: <a href="../../Array.scala.html#885" title="Array[Int]">Array</a>[Int]

  /**
   *  @param q ...
   *  @return  ...
   */
  <span class="keyword">def</span> <a title="(q: Int)Boolean" id="56250">isFinal</a>(<a title="Int" id="57270">q</a>: <span title="Int">Int</span>) = <a href="../../Array.scala.html#17716" title="(i: Int)Int">finals</a><a title="(x$1: Int)Boolean" id="2952">(</a><a href="#57270" title="Int">q</a>) != <span title="Int(0)" class="int">0</span>

  /**
   *  @param q ...
   *  @return  ...
   */
  <span class="keyword">def</span> <a title="(q: Int)Boolean" id="56251">isSink</a>(<a title="Int" id="233007">q</a>: <span title="Int">Int</span>) = <a href="../../Array.scala.html#17716" title="(i: Int)scala.collection.Map[T,Int]">delta</a>(<a href="#233007" title="Int">q</a>).<a href="../../collection/generic/MapTemplate.scala.html#35279" title="(x$1: Boolean)Boolean" id="2210">isEmpty</a> &amp;&amp; <a href="../../Array.scala.html#17716" title="(i: Int)Int">default</a><a title="(x$1: Int)Boolean" id="2950">(</a><a href="#233007" title="Int">q</a>) == <a href="#233007" title="Int">q</a>

  /**
   *  @param q     ...
   *  @param label ...
   *  @return      ...
   */
  <span class="keyword">def</span> <a title="(q: Int,label: T)Int" id="56252">next</a>(<a title="Int" id="177083">q</a>: <span title="Int">Int</span>, <a title="T" id="177084">label</a>: <a href="#16416" title="T">T</a>) = {
    <a href="../../Array.scala.html#17716" title="(i: Int)scala.collection.Map[T,Int]">delta</a>(<a href="#177083" title="Int">q</a>).<a href="../../collection/generic/MapTemplate.scala.html#35273" title="(key: T)Option[Int]">get</a>(<a href="#177084" title="T">label</a>) <span title="Int" class="keyword">match</span> {
      <span title="Int" class="keyword">case</span> Some(<a title="Int" id="177100">p</a>) =&gt; <a href="#177100" title="Int">p</a>
      <span title="Int" class="keyword">case</span> _       =&gt; <a href="../../Array.scala.html#17716" title="(i: Int)Int">default</a>(<a href="#177083" title="Int">q</a>)
    }
  }

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="56253">toString</a>() = {
    <span class="keyword">val</span> <a title="StringBuilder" id="233040">sb</a> = <a href="../../collection/mutable/StringBuilder.scala.html#23350" title="(str: String)StringBuilder" class="keyword">new</a> <a href="../../package.scala.html#14791" title="StringBuilder">StringBuilder</a>(<span title="java.lang.String(&quot;[DetWordAutom  nstates=&quot;)" class="string">&quot;[DetWordAutom  nstates=&quot;</span>)
    <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23382" title="(x: Int)StringBuilder">append</a>(<a href="#56246" title="=&gt; Int">nstates</a>)
    <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<span title="java.lang.String(&quot; finals=&quot;)" class="string">&quot; finals=&quot;</span>)
    <span class="keyword">var</span> <a title="scala.collection.immutable.Map[Int,Int]" id="233041">map</a> = scala.collection.immutable.<a href="../../collection/generic/MapFactory.scala.html#35181" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (Int, Int)*)scala.collection.immutable.Map[Int,Int]">[</span><span title="Int">Int</span>,<span title="Int">Int</span>]()
    <span class="keyword">var</span> <a title="Int" id="233042">j</a> = <span title="Int(0)" class="int">0</span>; <span title="Unit" class="keyword">while</span>( <a href="#233042" title="(x$1: Int)Boolean">j</a> &lt; <a href="#56246" title="=&gt; Int">nstates</a> ) <a href="#233043" title="()Unit">{</a>
      <span title="Unit" class="keyword">if</span> (<a href="#233042" title="(x$1: Int)Boolean">j</a> &lt; <a href="#56247" title="=&gt; Array[Int]">finals</a>.<a href="../../Array.scala.html#17715" title="=&gt; Int">length</a>) 
        <a href="#233041" title="scala.collection.immutable.Map[Int,Int]">map</a> = <a href="#233041" title="scala.collection.immutable.Map[Int,Int]">map</a>.<a href="../../collection/generic/ImmutableMapTemplate.scala.html#35322" title="(key: Int,value: Int)scala.collection.immutable.Map[Int,Int]">updated</a>(<a href="#233042" title="Int">j</a>, <a href="../../Array.scala.html#17716" title="(i: Int)Int">finals</a>(<a href="#233042" title="Int">j</a>))
      <a href="#233042" title="Int" id="2962">j</a> += <span title="Int(1)" class="int">1</span>
    }
    <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="#233041" title="scala.collection.immutable.Map[Int,Int]">map</a>.<a href="../../collection/generic/MapTemplate.scala.html#35317" title="()String">toString</a>())
    <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<span title="java.lang.String(&quot; delta=\012&quot;)" class="string">&quot; delta=\n&quot;</span>)
    <span class="keyword">for</span> (<a title="Int" id="233223">i</a> &lt;- <a href="../../runtime/RichInt.scala.html#19060" title="(end: Int)Range" class="int">0</a> <a href="../../Range.scala.html#38256" title="(f: (Int) =&gt; Any)Unit">until</a> <a href="#56246" title="=&gt; Int">nstates</a>) {
      <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23382" title="(x: Int)StringBuilder">append</a>( <a href="#233223" title="Int">i</a> )
      <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<span title="java.lang.String(&quot;-&gt;&quot;)" class="string">&quot;-&gt;&quot;</span>)
      <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="../../Array.scala.html#17716" title="(i: Int)scala.collection.Map[T,Int]">delta</a>(<a href="#233223" title="Int">i</a>).<a href="../../collection/generic/MapTemplate.scala.html#35317" title="()String">toString</a>())
      <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<span title="Char('\012')" class="char">'\n'</span>)
      <span title="Any" class="keyword">if</span> (<a href="#233223" title="(x$1: Int)Boolean">i</a> &lt; <a href="#56249" title="=&gt; Array[Int]">default</a>.<a href="../../Array.scala.html#17715" title="=&gt; Int">length</a>) {
        <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<span title="java.lang.String(&quot;_&gt;&quot;)" class="string">&quot;_&gt;&quot;</span>)
        <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="../../Array.scala.html#17716" title="(i: Int)Int">default</a>(<a href="#233223" title="Int">i</a>).<a title="()java.lang.String" id="3617">toString</a>())
        <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<span title="Char('\012')" class="char">'\n'</span>)
      }
    }
    <a href="#233040" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#23409" title="()String">toString</a>()
  }
}

        </pre>
    </body>
</html>