<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/util/parsing/combinator/lexical/Scanners.scala</title>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: Scanners.scala 16893 2009-01-13 13:09:22Z cunei $</span>


<span class="keyword">package</span> scala.util.parsing.combinator.lexical

<span class="keyword">import</span> scala.util.parsing.syntax._
<span class="keyword">import</span> scala.util.parsing.input._

<span class="comment">/** &lt;p&gt;
 *    This component provides core functionality for lexical parsers.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    See its subclasses {@see Lexical} and -- most interestingly
 *    {@see StdLexical}, for more functionality.
 *  &lt;/p&gt;
 *
 *  @requires token      a parser that produces a token (from a stream of characters)
 *  @requires whitespace a unit-parser for white-space
 *  @provides Scanner    essentially a parser that parses a stream of characters
 *                       to produce `Token's, which are typically passed to a
 *                       syntactical parser (which operates on `Token's, not on
 *                       individual characters).
 *
 *  @author Martin Odersky, Adriaan Moors 
 */</span>
<span class="keyword">trait</span> <span class="typed"><span class="type">trait Scanners extends java.lang.Object with scala.util.parsing.combinator.Parsers with ScalaObject</span><a id="10219">Scanners</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.util.parsing.combinator.Parsers</span><a href="../Parsers.scala.html#6848">Parsers</a></span> {
  <span class="keyword">type</span> <span class="typed"><span class="type">Char</span><a id="18118">Elem</a></span> = <span class="typed"><span class="type">Char</span><a id="2387">Char</a></span>
  <span class="keyword">type</span> <span class="typed"><span class="type">&gt;: Nothing &lt;: Any</span><a id="18119">Token</a></span>
  
  <span class="comment">/** This token is produced by a scanner {@see Scanner} when scanning failed. */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)Scanners.this.Token</span><a id="18120">errorToken</a></span>(<span class="typed"><span class="type">String</span><a id="24011">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">Scanners.this.Token</span><a href="#18119">Token</a></span>
  
  <span class="comment">/** a parser that produces a token (from a stream of characters) */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Scanners.this.Parser[Scanners.this.Token]</span><a id="18121">token</a></span>: <span class="typed"><span class="type">Scanners.this.Parser[Scanners.this.Token]</span><a href="../Parsers.scala.html#18008">Parser</a></span>[Token]
  
  <span class="comment">/** a parser for white-space -- its result will be discarded */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Scanners.this.Parser[Any]</span><a id="18122">whitespace</a></span>: <span class="typed"><span class="type">Scanners.this.Parser[Any]</span><a href="../Parsers.scala.html#18008">Parser</a></span>[Any]

  <span class="comment">/** &lt;p&gt;
   *    &lt;code&gt;Scanner&lt;/code&gt; is essentially(*) a parser that produces `Token's
   *    from a stream of characters. The tokens it produces are typically
   *    passed to parsers in &lt;code&gt;TokenParsers&lt;/code&gt;.
   *  &lt;/p&gt;
   *  &lt;p&gt;
   *   Note: (*) &lt;code&gt;Scanner&lt;/code&gt; is really a `Reader' of `Token's
   *  &lt;/p&gt;
   */</span>
  <span class="keyword">class</span> <span class="typed"><span class="type">class Scanner extends scala.util.parsing.input.Reader[Scanners.this.Token] with ScalaObject</span><a id="18123">Scanner</a></span>(<span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><span id="24073"><a id="24205">in</a></span></span>: <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="../../input/Reader.scala.html#10014">Reader</a></span>[Char]) <span class="keyword">extends</span> <span class="typed"><span class="type">scala.util.parsing.input.Reader[Scanners.this.Token]</span><a href="../../input/Reader.scala.html#10014">Reader</a></span>[Token] {
    <span class="comment">/** Convenience constructor (makes a character reader out of the given string) */</span>
    <span class="keyword">def</span> <span class="typed"><span class="type">(String)Scanners.this.Scanner</span><a id="24075" class="keyword">this</a></span>(<span class="typed"><span class="type">String</span><a id="24208">in</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>) = <span class="typed"><span class="type">Scanner.this.type</span><a href="#18123" class="keyword">this</a></span>(<span class="typed"><span class="type">(Array[Char])scala.util.parsing.input.CharArrayReader</span><a href="../../input/CharArrayReader.scala.html#23165" class="keyword">new</a></span> <span class="typed"><span class="type">scala.util.parsing.input.CharArrayReader</span><a href="../../input/CharArrayReader.scala.html#10023">CharArrayReader</a></span>(<span class="typed"><span class="type">String</span><a href="#24208">in</a></span>.<span class="typed"><span class="type">()Array[Char]</span><a id="5870">toCharArray</a></span>()))
    <span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><a href="../../../../Tuple3.scala.html#21271">(</a></span><span class="typed"><span class="type">Scanners.this.Token</span><span id="24196"><span id="24078"><a href="../../../../Tuple3.scala.html#19143" id="24077">tok</a></span></span></span>, <span class="typed"><span class="type">Scanners.this.Input</span><span id="24197"><span id="24080"><a href="../../../../Tuple3.scala.html#19145" id="24079">rest1</a></span></span></span>, <span class="typed"><span class="type">Scanners.this.Input</span><span id="24198"><span id="24082"><a href="../../../../Tuple3.scala.html#19147" id="24081">rest2</a></span></span></span>) = <span class="typed"><span class="type">(Scanners.this.Input)Scanners.this.ParseResult[Any]</span><a href="../Parsers.scala.html#24019">whitespace</a></span>(<span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24073">in</a></span>) <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><span class="keyword">case</span></span> <a id="1">Success</a>(_, <span class="typed"><span class="type">Scanners.this.Input</span><a id="24154">in1</a></span>) =&gt; 
        <span class="typed"><span class="type">(Scanners.this.Input)Scanners.this.ParseResult[Scanners.this.Token]</span><a href="../Parsers.scala.html#24019">token</a></span>(<span class="typed"><span class="type">Scanners.this.Input</span><a href="#24154">in1</a></span>) <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><span class="keyword">match</span></span> {
          <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><span class="keyword">case</span></span> <a id="1">Success</a>(<span class="typed"><span class="type">Scanners.this.Token</span><a id="24159">tok</a></span>, <span class="typed"><span class="type">Scanners.this.Input</span><a id="24160">in2</a></span>) =&gt; <span class="typed"><span class="type">(Scanners.this.Token,Scanners.this.Input,Scanners.this.Input)(Scanners.this.Token, Scanners.this.Input, Scanners.this.Input)</span><a href="../../../../Tuple3.scala.html#21271">(</a></span><span class="typed"><span class="type">Scanners.this.Token</span><a href="#24159">tok</a></span>, <span class="typed"><span class="type">Scanners.this.Input</span><a href="#24154">in1</a></span>, <span class="typed"><span class="type">Scanners.this.Input</span><a href="#24160">in2</a></span>)
          <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, scala.util.parsing.input.Reader[Char])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a id="24164">ns</a></span>: <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="../Parsers.scala.html#17995">NoSuccess</a></span> =&gt; <span class="typed"><span class="type">(Scanners.this.Token,Scanners.this.Input,scala.util.parsing.input.Reader[Char])(Scanners.this.Token, Scanners.this.Input, scala.util.parsing.input.Reader[Char])</span><a href="../../../../Tuple3.scala.html#21271">(</a></span><span class="typed"><span class="type">(String)Scanners.this.Token</span><a href="#18120">errorToken</a></span>(<span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24164">ns</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../Parsers.scala.html#24167">msg</a></span>), <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24164">ns</a></span>.<span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="../Parsers.scala.html#24169">next</a></span>, <span class="typed"><span class="type">(scala.util.parsing.input.Reader[Char])scala.util.parsing.input.Reader[Char]</span><a href="#24083">skip</a></span>(<span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24164">ns</a></span>.<span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="../Parsers.scala.html#24169">next</a></span>))
        }
      <span class="typed"><span class="type">(Scanners.this.Token, Scanners.this.Input, scala.util.parsing.input.Reader[Char])</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a id="24191">ns</a></span>: <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="../Parsers.scala.html#17995">NoSuccess</a></span> =&gt; <span class="typed"><span class="type">(Scanners.this.Token,Scanners.this.Input,scala.util.parsing.input.Reader[Char])(Scanners.this.Token, Scanners.this.Input, scala.util.parsing.input.Reader[Char])</span><a href="../../../../Tuple3.scala.html#21271">(</a></span><span class="typed"><span class="type">(String)Scanners.this.Token</span><a href="#18120">errorToken</a></span>(<span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24191">ns</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../Parsers.scala.html#24167">msg</a></span>), <span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24191">ns</a></span>.<span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="../Parsers.scala.html#24169">next</a></span>, <span class="typed"><span class="type">(scala.util.parsing.input.Reader[Char])scala.util.parsing.input.Reader[Char]</span><a href="#24083">skip</a></span>(<span class="typed"><span class="type">Scanners.this.NoSuccess</span><a href="#24191">ns</a></span>.<span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="../Parsers.scala.html#24169">next</a></span>))
    }
    <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.util.parsing.input.Reader[Char])scala.util.parsing.input.Reader[Char]</span><a id="24083">skip</a></span>(<span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a id="24187">in</a></span>: <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="../../input/Reader.scala.html#10014">Reader</a></span>[Char]) = <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24187">in</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../input/Reader.scala.html#23145">atEnd</a></span>) <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24187">in</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24187">in</a></span>.<span class="typed"><span class="type">=&gt; scala.util.parsing.input.Reader[Char]</span><a href="../../input/Reader.scala.html#23142">rest</a></span>

    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.CharSequence</span><a id="24084">source</a></span>: java.lang.<span class="typed"><span class="type">java.lang.CharSequence</span><a id="2120">CharSequence</a></span> = <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24073">in</a></span>.<span class="typed"><span class="type">=&gt; java.lang.CharSequence</span><a href="../../input/Reader.scala.html#23139">source</a></span>
    <span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Int</span><a id="24085">offset</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24073">in</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="../../input/Reader.scala.html#23140">offset</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Scanners.this.Token</span><a id="24086">first</a></span> = <span class="typed"><span class="type">=&gt; Scanners.this.Token</span><a href="#24077">tok</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Scanners.this.Scanner</span><a id="24087">rest</a></span> = <span class="typed"><span class="type">Scanners.this.Scanner</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Scanners.this.Scanner</span><a href="#18123">Scanner</a></span>(<span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="#24081">rest2</a></span>)
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; scala.util.parsing.input.Position</span><a id="24088">pos</a></span> = <span class="typed"><span class="type">=&gt; Scanners.this.Input</span><a href="#24079">rest1</a></span>.<span class="typed"><span class="type">=&gt; scala.util.parsing.input.Position</span><a href="../../input/Reader.scala.html#23144">pos</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="24089">atEnd</a></span> = <span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24073">in</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../input/Reader.scala.html#23145">atEnd</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">||</a></span> (<span class="typed"><span class="type">(Scanners.this.Input)Scanners.this.ParseResult[Any]</span><a href="../Parsers.scala.html#24019">whitespace</a></span>(<span class="typed"><span class="type">scala.util.parsing.input.Reader[Char]</span><a href="#24073">in</a></span>) <span class="typed"><span class="type">Boolean</span><span class="keyword">match</span></span> { <span class="typed"><span class="type">Boolean</span><span class="keyword">case</span></span> <a id="1">Success</a>(_, <span class="typed"><span class="type">Scanners.this.Input</span><a id="24231">in1</a></span>) =&gt; <span class="typed"><span class="type">Scanners.this.Input</span><a href="#24231">in1</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../../input/Reader.scala.html#23145">atEnd</a></span> <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span> })
  }
}


        </pre>
    </body>
</html>