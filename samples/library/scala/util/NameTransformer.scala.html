<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/util/NameTransformer.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2009 LAMP/EPFL
 * @author  Martin Odersky
 */
// $Id: NameTransformer.scala 17983 2009-06-02 20:01:35Z extempore $

<span class="keyword">package</span> scala.util

<span class="keyword">object</span> <a title="object scala.util.NameTransformer" id="8090">NameTransformer</a> <a href="../ScalaObject.scala.html#957" title="ScalaObject">{</a>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="229872">nops</a> = <span title="Int(128)" class="int">128</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="229874">ncodes</a> = <span class="int">26</span> <span title="Int(676)">*</span> <span class="int">26</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class OpCodes extends java.lang.Object with ScalaObject" id="229876">OpCodes</a><a href="../ScalaObject.scala.html#957" title="ScalaObject">(</a><span class="keyword">val</span> <a title="Char" id="229915">op</a>: <span title="Char">Char</span>, <span class="keyword">val</span> <a title="String" id="229916">code</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="scala.util.NameTransformer.OpCodes" id="229917">next</a>: <a href="#229876" title="scala.util.NameTransformer.OpCodes">OpCodes</a>)

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[String]" id="229877">op2code</a> = <span title="Array[String]" class="keyword">new</span> <a href="../Array.scala.html#885" title="Array[String]">Array</a>[String](<a href="#229872" title="=&gt; Int">nops</a>)
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[scala.util.NameTransformer.OpCodes]" id="229879">code2op</a> = <span title="Array[scala.util.NameTransformer.OpCodes]" class="keyword">new</span> <a href="../Array.scala.html#885" title="Array[scala.util.NameTransformer.OpCodes]">Array</a>[OpCodes](<a href="#229874" title="=&gt; Int">ncodes</a>)

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(op: Char,code: String)Unit" id="229881">enterOp</a>(<a title="Char" id="229920">op</a>: <span title="Char">Char</span>, <a title="String" id="229921">code</a>: <span title="String">String</span>) = {
    <a href="../Array.scala.html#17717" title="(i: Int,x: String)Unit">op2code</a>(<a href="../Predef.scala.html#16381" title="implicit scala.Predef.char2int : (x: Char)Int">op</a>) = <a href="#229921" title="String">code</a>
    <span class="keyword">val</span> <a title="Int" id="229924">c</a> = <span title="(x$1: Int)Int">(</span><a href="#229921" title="String">code</a>.<span title="(x$1: Int)Char">charAt</span><span title="(x$1: Char)Int">(</span><span title="Int(1)" class="int">1</span>) - <span title="Char('a')" class="char">'a'</span>) <span title="(x$1: Char)Int">*</span> <span title="Int(26)" class="int">26</span> <span title="(x$1: Char)Int">+</span> <a href="#229921" title="String">code</a>.<span title="(x$1: Int)Char">charAt</span>(<span title="Int(2)" class="int">2</span>) - <span title="Char('a')" class="char">'a'</span>
    <a href="../Array.scala.html#17717" title="(i: Int,x: scala.util.NameTransformer.OpCodes)Unit">code2op</a>(<a href="#229924" title="Int">c</a>) = <span title="scala.util.NameTransformer.OpCodes" class="keyword">new</span> <a href="#229876" title="scala.util.NameTransformer.OpCodes">OpCodes</a>(<a href="#229920" title="Char">op</a>, <a href="#229921" title="String">code</a>, <a href="../Array.scala.html#17716" title="(i: Int)scala.util.NameTransformer.OpCodes">code2op</a>(<a href="#229924" title="Int">c</a>))
  }

  /* Note: decoding assumes opcodes are only ever lowercase. */
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('~')" class="char">'~'</span>, <span title="java.lang.String(&quot;$tilde&quot;)" class="string">&quot;$tilde&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('=')" class="char">'='</span>, <span title="java.lang.String(&quot;$eq&quot;)" class="string">&quot;$eq&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('&lt;')" class="char">'&lt;'</span>, <span title="java.lang.String(&quot;$less&quot;)" class="string">&quot;$less&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('&gt;')" class="char">'&gt;'</span>, <span title="java.lang.String(&quot;$greater&quot;)" class="string">&quot;$greater&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('!')" class="char">'!'</span>, <span title="java.lang.String(&quot;$bang&quot;)" class="string">&quot;$bang&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('#')" class="char">'#'</span>, <span title="java.lang.String(&quot;$hash&quot;)" class="string">&quot;$hash&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('%')" class="char">'%'</span>, <span title="java.lang.String(&quot;$percent&quot;)" class="string">&quot;$percent&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('^')" class="char">'^'</span>, <span title="java.lang.String(&quot;$up&quot;)" class="string">&quot;$up&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('&amp;')" class="char">'&amp;'</span>, <span title="java.lang.String(&quot;$amp&quot;)" class="string">&quot;$amp&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('|')" class="char">'|'</span>, <span title="java.lang.String(&quot;$bar&quot;)" class="string">&quot;$bar&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('*')" class="char">'*'</span>, <span title="java.lang.String(&quot;$times&quot;)" class="string">&quot;$times&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('/')" class="char">'/'</span>, <span title="java.lang.String(&quot;$div&quot;)" class="string">&quot;$div&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('+')" class="char">'+'</span>, <span title="java.lang.String(&quot;$plus&quot;)" class="string">&quot;$plus&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('-')" class="char">'-'</span>, <span title="java.lang.String(&quot;$minus&quot;)" class="string">&quot;$minus&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char(':')" class="char">':'</span>, <span title="java.lang.String(&quot;$colon&quot;)" class="string">&quot;$colon&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('\')" class="char">'\\'</span>, <span title="java.lang.String(&quot;$bslash&quot;)" class="string">&quot;$bslash&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('?')" class="char">'?'</span>, <span title="java.lang.String(&quot;$qmark&quot;)" class="string">&quot;$qmark&quot;</span>)
  <a href="#229881" title="(op: Char,code: String)Unit">enterOp</a>(<span title="Char('@')" class="char">'@'</span>, <span title="java.lang.String(&quot;$at&quot;)" class="string">&quot;$at&quot;</span>)

  /** Replace operator symbols by corresponding &quot;&lt;code&gt;$op_name&lt;/code&gt;&quot;.
   *
   *  @param name ...
   *  @return     ...
   */
  <span class="keyword">def</span> <a title="(name: String)String" id="229882">encode</a>(<a title="String" id="230033">name</a>: <span title="String">String</span>): <span title="String">String</span> = {
    <span class="keyword">var</span> <a title="StringBuilder" id="230035">buf</a>: <a href="../collection/mutable/StringBuilder.scala.html#7821" title="StringBuilder">StringBuilder</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="230036">len</a> = <a href="#230033" title="String">name</a>.<span title="()Int">length</span>()
    <span class="keyword">var</span> <a title="Int" id="230037">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> (<a href="#230037" title="(x$1: Int)Boolean">i</a> &lt; <a href="#230036" title="Int">len</a>) <a href="#230038" title="()Unit">{</a>
      <span class="keyword">val</span> <a title="Char" id="230047">c</a> = <a href="#230033" title="(x$1: Int)Char">name</a> charAt <a href="#230037" title="Int">i</a>
      <span title="Any" class="keyword">if</span> (<a href="#230047" title="(x$1: Int)Boolean" id="2746">c</a> <span title="(x$1: Boolean)Boolean">&lt;</span> <a href="#229872" title="=&gt; Int">nops</a> &amp;&amp; (<a href="../Array.scala.html#17716" title="(i: Int)String">op2code</a><span title="(x$1: AnyRef)Boolean">(</span><a href="../Predef.scala.html#16381" title="implicit scala.Predef.char2int : (x: Char)Int">c</a>) ne <span title="Null(null)" class="keyword">null</span>)) {
        <span title="Any" class="keyword">if</span> (<a href="#230035" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) {
          <a href="#230035" title="StringBuilder">buf</a> = <a href="../collection/mutable/StringBuilder.scala.html#23348" title="()StringBuilder" class="keyword">new</a> <a href="../package.scala.html#14791" title="StringBuilder">StringBuilder</a>()
          <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="#230033" title="String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#230037" title="Int">i</a>))
        }
        <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="../Array.scala.html#17716" title="(i: Int)String">op2code</a>(<a href="../Predef.scala.html#16381" title="implicit scala.Predef.char2int : (x: Char)Int">c</a>))
      /* Handle glyphs that are not valid Java/JVM identifiers */
      } 
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<span title="=&gt; Boolean">!</span><span title="object java.lang.Character">Character</span>.<a title="(x$1: Char)Boolean" id="18665">isJavaIdentifierPart</a>(<a href="#230047" title="Char">c</a>)) {
        <span title="Any" class="keyword">if</span> (<a href="#230035" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) {
          <a href="#230035" title="StringBuilder">buf</a> = <a href="../collection/mutable/StringBuilder.scala.html#23348" title="()StringBuilder" class="keyword">new</a> <a href="../package.scala.html#14791" title="StringBuilder">StringBuilder</a>()
          <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="#230033" title="String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#230037" title="Int">i</a>))
        }
        <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="../Predef.scala.html#16366" title="implicit scala.Predef.stringWrapper : (x: String)scala.runtime.RichString" class="string">&quot;$u%04X&quot;</a>.<a href="../runtime/RichString.scala.html#18060" title="(args: Any*)String">format</a>(<a href="#230047" title="Char">c</a>.<a title="=&gt; Int" id="2637">toInt</a>))
      }
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> (<a href="#230035" title="(x$1: AnyRef)Boolean">buf</a> ne <span title="Null(null)" class="keyword">null</span>) {
        <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<a href="#230047" title="Char">c</a>)
      }
      <a href="#230037" title="Int">i</a> += <span title="Int(1)" class="int">1</span>
    }
    <span title="String" class="keyword">if</span> (<a href="#230035" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="#230033" title="String">name</a> <span class="keyword">else</span> <a href="#230035" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23409" title="()String">toString</a>()
  }

  /** Replace &lt;code&gt;$op_name&lt;/code&gt; by corresponding operator symbol.
   *
   *  @param name0 ...
   *  @return      ...
   */
  <span class="keyword">def</span> <a title="(name0: String)String" id="229883">decode</a>(<a title="String" id="230255">name0</a>: <span title="String">String</span>): <span title="String">String</span> = {
    //System.out.println(&quot;decode: &quot; + name);//DEBUG
    <span class="keyword">val</span> <a title="java.lang.String" id="230257">name</a> = <span title="java.lang.String" class="keyword">if</span> (<a href="#230255" title="String">name0</a>.<a title="(x$1: java.lang.String)Boolean" id="6964">endsWith</a>(<span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>)) <a href="#230255" title="String">name0</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span><a title="(x$1: Any)java.lang.String" id="6542">(</a><span title="Int(0)" class="int">0</span>, <a href="#230255" title="String">name0</a>.<span title="()Int">length</span><span title="(x$1: Int)Int">(</span>) - (<span title="java.lang.String(&quot;&lt;init&gt;&quot;)" class="string">&quot;&lt;init&gt;&quot;</span>).<span title="()Int">length</span>()) + <span title="java.lang.String(&quot;this&quot;)" class="string">&quot;this&quot;</span>
               <span class="keyword">else</span> <a href="#230255" title="String">name0</a>;
    <span class="keyword">var</span> <a title="StringBuilder" id="230258">buf</a>: <a href="../collection/mutable/StringBuilder.scala.html#7821" title="StringBuilder">StringBuilder</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="230259">len</a> = <a href="#230257" title="java.lang.String">name</a>.<span title="()Int">length</span>()
    <span class="keyword">var</span> <a title="Int" id="230260">i</a> = <span title="Int(0)" class="int">0</span>
    <span title="Unit" class="keyword">while</span> (<a href="#230260" title="(x$1: Int)Boolean">i</a> &lt; <a href="#230259" title="Int">len</a>) <a href="#230261" title="()Unit">{</a>
      <span class="keyword">var</span> <a title="scala.util.NameTransformer.OpCodes" id="230305">ops</a>: <a href="#229876" title="scala.util.NameTransformer.OpCodes">OpCodes</a> = <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">var</span> <a title="Boolean" id="230306">unicode</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">val</span> <a title="Char" id="230307">c</a> = <a href="#230257" title="(x$1: Int)Char">name</a> charAt <a href="#230260" title="Int">i</a>
      <span title="Unit" class="keyword">if</span> (<a href="#230307" title="(x$1: Char)Boolean">c</a> <span title="(x$1: Boolean)Boolean">==</span> <span title="Char('$')" class="char">'$'</span> &amp;&amp; <a href="#230260" title="(x$1: Int)Int">i</a> <span title="(x$1: Int)Boolean">+</span> <span title="Int(2)" class="int">2</span> &lt; <a href="#230259" title="Int">len</a>) {
        <span class="keyword">val</span> <a title="Char" id="230330">ch1</a> = <a href="#230257" title="java.lang.String">name</a>.<span title="(x$1: Int)Char">charAt</span>(<a href="#230260" title="(x$1: Int)Int">i</a>+<span title="Int(1)" class="int">1</span>)
        <span title="Unit" class="keyword">if</span> (<span title="(x$1: Char)Boolean" class="char">'a'</span> <span title="(x$1: Boolean)Boolean">&lt;=</span> <a href="#230330" title="Char">ch1</a> &amp;&amp; <a href="#230330" title="(x$1: Char)Boolean">ch1</a> &lt;= <span title="Char('z')" class="char">'z'</span>) {
          <span class="keyword">val</span> <a title="Char" id="230369">ch2</a> = <a href="#230257" title="java.lang.String">name</a>.<span title="(x$1: Int)Char">charAt</span>(<a href="#230260" title="(x$1: Int)Int">i</a>+<span title="Int(2)" class="int">2</span>)
          <span title="Unit" class="keyword">if</span> (<span title="(x$1: Char)Boolean" class="char">'a'</span> <span title="(x$1: Boolean)Boolean">&lt;=</span> <a href="#230369" title="Char">ch2</a> &amp;&amp; <a href="#230369" title="(x$1: Char)Boolean">ch2</a> &lt;= <span title="Char('z')" class="char">'z'</span>) {
            <a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a> = <a href="../Array.scala.html#17716" title="(i: Int)scala.util.NameTransformer.OpCodes">code2op</a>(<span title="(x$1: Int)Int">(</span><a href="#230330" title="(x$1: Char)Int">ch1</a> - <span title="Char('a')" class="char">'a'</span>) <span title="(x$1: Char)Int">*</span> <span title="Int(26)" class="int">26</span> <span title="(x$1: Char)Int">+</span> <a href="#230369" title="Char">ch2</a> - <span title="Char('a')" class="char">'a'</span>)
            <span title="Unit" class="keyword">while</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#230305" title="(x$1: AnyRef)Boolean">ops</a> ne <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#230257" title="java.lang.String">name</a>.<a title="(x$1: java.lang.String,x$2: Int)Boolean" id="6959">startsWith</a>(<a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a>.<a href="#229916" title="=&gt; String">code</a>, <a href="#230260" title="Int">i</a>)) <a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a> = <a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a>.<a href="#229917" title="=&gt; scala.util.NameTransformer.OpCodes">next</a>
            <span title="Unit" class="keyword">if</span> (<a href="#230305" title="(x$1: AnyRef)Boolean">ops</a> ne <span title="Null(null)" class="keyword">null</span>) {
              <span title="Any" class="keyword">if</span> (<a href="#230258" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) {
                <a href="#230258" title="StringBuilder">buf</a> = <a href="../collection/mutable/StringBuilder.scala.html#23348" title="()StringBuilder" class="keyword">new</a> <a href="../package.scala.html#14791" title="StringBuilder">StringBuilder</a>()
                <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="#230257" title="java.lang.String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#230260" title="Int">i</a>))
              }
              <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a>.<a href="#229915" title="=&gt; Char">op</a>)
              <a href="#230260" title="Int">i</a> += <a href="#230305" title="scala.util.NameTransformer.OpCodes">ops</a>.<a href="#229916" title="=&gt; String">code</a>.<span title="()Int">length</span>()
            }
            /* Handle the decoding of Unicode glyphs that are 
             * not valid Java/JVM identifiers */
          } <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> (<a title="(x$1: Int)Boolean" id="2960">(</a><a href="#230259" title="(x$1: Int)Int">len</a> - <a href="#230260" title="Int">i</a>) <span title="(x$1: Boolean)Boolean">&gt;=</span> <span title="Int(6)" class="int">6</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> // Check that there are enough characters left
                     <a href="#230330" title="(x$1: Char)Boolean">ch1</a> == <span title="Char('u')" class="char">'u'</span> &amp;&amp; 
                     (<a title="(x$1: Boolean)Boolean" id="2208">(</a><span title="object java.lang.Character">Character</span>.<a title="(x$1: Char)Boolean" id="18641">isDigit</a>(<a href="#230369" title="Char">ch2</a>)) || 
                     (<span title="(x$1: Char)Boolean" class="char">'A'</span> <span title="(x$1: Boolean)Boolean">&lt;=</span> <a href="#230369" title="Char">ch2</a> &amp;&amp; <a href="#230369" title="(x$1: Char)Boolean">ch2</a> &lt;= <span title="Char('F')" class="char">'F'</span>))) {
            /* Skip past &quot;$u&quot;, next four should be hexadecimal */
            <span class="keyword">val</span> <a title="java.lang.String" id="230591">hex</a> = <a href="#230257" title="java.lang.String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<a href="#230260" title="(x$1: Int)Int">i</a>+<span title="Int(2)" class="int">2</span>, <a href="#230260" title="(x$1: Int)Int">i</a>+<span title="Int(6)" class="int">6</span>)
            <span class="keyword">try</span> {
              <span class="keyword">val</span> <a title="Char" id="230644">str</a> = <a title="object java.lang.Integer" id="1532">Integer</a>.<a title="(x$1: java.lang.String,x$2: Int)Int" id="18385">parseInt</a>(<a href="#230591" title="java.lang.String">hex</a>, <span title="Int(16)" class="int">16</span>).<a title="=&gt; Char" id="2844">toChar</a>
              <span title="Any" class="keyword">if</span> (<a href="#230258" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) {
                <a href="#230258" title="StringBuilder">buf</a> = <a href="../collection/mutable/StringBuilder.scala.html#23348" title="()StringBuilder" class="keyword">new</a> <a href="../package.scala.html#14791" title="StringBuilder">StringBuilder</a>()
                <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23370" title="(s: String)StringBuilder">append</a>(<a href="#230257" title="java.lang.String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span>(<span title="Int(0)" class="int">0</span>, <a href="#230260" title="Int">i</a>))
              }
              <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<a href="#230644" title="Char">str</a>)
              /* 2 for &quot;$u&quot;, 4 for hexadecimal number */
              <a href="#230260" title="Int">i</a> += <span title="Int(6)" class="int">6</span>
              <a href="#230306" title="Boolean">unicode</a> = <span title="Boolean(true)" class="keyword">true</span>
            } <span class="keyword">catch</span> {
              <span title="Unit" class="keyword">case</span> _:<a title="NumberFormatException" id="1846">NumberFormatException</a> =&gt;
                /* &lt;code&gt;hex&lt;/code&gt; did not decode to a hexadecimal number, so
                 * do nothing. */
            }
                       }
        }
      }
      /* If we didn't see an opcode or encoded Unicode glyph, and the
        buffer is non-empty, write the current character and advance
         one */ 
      <span title="Unit" class="keyword">if</span> (<span title="(x$1: Boolean)Boolean">(</span><a href="#230305" title="(x$1: AnyRef)Boolean">ops</a> eq <span title="Null(null)" class="keyword">null</span>) &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#230306" title="Boolean">unicode</a>) { 
        <span title="Any" class="keyword">if</span> (<a href="#230258" title="(x$1: AnyRef)Boolean">buf</a> ne <span title="Null(null)" class="keyword">null</span>)
          <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23380" title="(x: Char)StringBuilder">append</a>(<a href="#230307" title="Char">c</a>) 
        <a href="#230260" title="Int">i</a> += <span title="Int(1)" class="int">1</span> 
      } 
    }
    //System.out.println(&quot;= &quot; + (if (buf == null) name else buf.toString()));//DEBUG
    <span title="String" class="keyword">if</span> (<a href="#230258" title="(x$1: AnyRef)Boolean">buf</a> eq <span title="Null(null)" class="keyword">null</span>) <a href="#230257" title="java.lang.String">name</a> <span class="keyword">else</span> <a href="#230258" title="StringBuilder">buf</a>.<a href="../collection/mutable/StringBuilder.scala.html#23409" title="()String">toString</a>()
  }
}

        </pre>
    </body>
</html>