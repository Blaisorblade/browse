<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/io/BytePickle.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

// $Id: BytePickle.scala 17856 2009-05-27 19:35:02Z dubochet $


<span class="keyword">package</span> scala.io

<span class="keyword">import</span> scala.collection.mutable.{HashMap, ArrayBuffer}

/**
 * Pickler combinators.
 * Based on a Haskell library by Andrew Kennedy,
 * see &lt;a href=&quot;http://research.microsoft.com/~akenn/fun/&quot;
 * target=&quot;_top&quot;&gt;http://research.microsoft.com/~akenn/fun/&lt;/a&gt;.
 *
 * @author  Philipp Haller
 * @version 1.1
 */
<span class="keyword">object</span> <a title="object scala.io.BytePickle" id="9578">BytePickle</a> <a href="../ScalaObject.scala.html#957" title="ScalaObject">{</a>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SPU[T] extends java.lang.Object with ScalaObject" id="213915">SPU</a>[<a title="&gt;: Nothing &lt;: Any" id="213916">T</a>] <a href="../ScalaObject.scala.html#957" title="ScalaObject">{</a>
    <span class="keyword">def</span> <a title="(a: T,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="214020">appP</a>(<a title="T" id="214025">a</a>: <a href="#213916" title="T">T</a>, <a title="scala.io.BytePickle.PicklerState" id="214026">state</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>
    <span class="keyword">def</span> <a title="(state: scala.io.BytePickle.UnPicklerState)(T, scala.io.BytePickle.UnPicklerState)" id="214021">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="214035">state</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>): <a href="../Tuple2.scala.html#1152" title="(T, scala.io.BytePickle.UnPicklerState)">(</a>T, UnPicklerState)
  }

  <span class="keyword">def</span> <a title="[T](p: scala.io.BytePickle.SPU[T],a: T)Array[Byte]" id="213917">pickle</a>[<a title="&gt;: Nothing &lt;: Any" id="213919">T</a>](<a title="scala.io.BytePickle.SPU[T]" id="214044">p</a>: <a href="#213915" title="scala.io.BytePickle.SPU[T]">SPU</a>[T], <a title="T" id="214045">a</a>: <a href="#213919" title="T">T</a>): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
    <a href="#214044" title="scala.io.BytePickle.SPU[T]">p</a>.<a href="#214020" title="(a: T,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState">appP</a>(<a href="#214045" title="T">a</a>, <span title="scala.io.BytePickle.PicklerState" class="keyword">new</span> <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>(<span title="Array[Byte]" class="keyword">new</span> <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte](<span title="Int(0)" class="int">0</span>), <span title="scala.io.BytePickle.PicklerEnv" class="keyword">new</span> <a href="#213931" title="scala.io.BytePickle.PicklerEnv">PicklerEnv</a>)).<a href="#214051" title="=&gt; Array[Byte]">stream</a>

  <span class="keyword">def</span> <a title="[T](p: scala.io.BytePickle.SPU[T],stream: Array[Byte])T" id="213920">unpickle</a>[<a title="&gt;: Nothing &lt;: Any" id="213922">T</a>](<a title="scala.io.BytePickle.SPU[T]" id="214076">p</a>: <a href="#213915" title="scala.io.BytePickle.SPU[T]">SPU</a>[T], <a title="Array[Byte]" id="214077">stream</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="#213922" title="T">T</a> =
    <a href="#214076" title="scala.io.BytePickle.SPU[T]">p</a>.<a href="#214021" title="(state: scala.io.BytePickle.UnPicklerState)(T, scala.io.BytePickle.UnPicklerState)">appU</a>(<span title="scala.io.BytePickle.UnPicklerState" class="keyword">new</span> <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>(<a href="#214077" title="Array[Byte]">stream</a>, <span title="scala.io.BytePickle.UnPicklerEnv" class="keyword">new</span> <a href="#213932" title="scala.io.BytePickle.UnPicklerEnv">UnPicklerEnv</a>)).<a href="../Tuple2.scala.html#20472" title="=&gt; T">_1</a>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class PU[T] extends java.lang.Object with ScalaObject" id="213923">PU</a>[<a title="&gt;: Nothing &lt;: Any" id="213924">T</a>] <a href="../ScalaObject.scala.html#957" title="ScalaObject">{</a>
    <span class="keyword">def</span> <a title="(a: T,state: Array[Byte])Array[Byte]" id="214104">appP</a>(<a title="T" id="214109">a</a>: <a href="#213924" title="T">T</a>, <a title="Array[Byte]" id="214110">state</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]
    <span class="keyword">def</span> <a title="(state: Array[Byte])(T, Array[Byte])" id="214105">appU</a>(<a title="Array[Byte]" id="214112">state</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Tuple2.scala.html#1152" title="(T, Array[Byte])">(</a>T, Array[Byte])
  }

  <span class="keyword">def</span> <a title="[T](p: scala.io.BytePickle.PU[T],a: T)Array[Byte]" id="213925">upickle</a>[<a title="&gt;: Nothing &lt;: Any" id="213927">T</a>](<a title="scala.io.BytePickle.PU[T]" id="214114">p</a>: <a href="#213923" title="scala.io.BytePickle.PU[T]">PU</a>[T], <a title="T" id="214115">a</a>: <a href="#213927" title="T">T</a>): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
    <a href="#214114" title="scala.io.BytePickle.PU[T]">p</a>.<a href="#214104" title="(a: T,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214115" title="T">a</a>, <span title="Array[Byte]" class="keyword">new</span> <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte](<span title="Int(0)" class="int">0</span>))

  <span class="keyword">def</span> <a title="[T](p: scala.io.BytePickle.PU[T],stream: Array[Byte])T" id="213928">uunpickle</a>[<a title="&gt;: Nothing &lt;: Any" id="213930">T</a>](<a title="scala.io.BytePickle.PU[T]" id="214127">p</a>: <a href="#213923" title="scala.io.BytePickle.PU[T]">PU</a>[T], <a title="Array[Byte]" id="214128">stream</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="#213930" title="T">T</a> =
    <a href="#214127" title="scala.io.BytePickle.PU[T]">p</a>.<a href="#214105" title="(state: Array[Byte])(T, Array[Byte])">appU</a>(<a href="#214128" title="Array[Byte]">stream</a>).<a href="../Tuple2.scala.html#20472" title="=&gt; T">_1</a>

  <span class="keyword">class</span> <a title="class PicklerEnv extends scala.collection.mutable.HashMap[Any,Int] with ScalaObject" id="213931">PicklerEnv</a> <a href="../ScalaObject.scala.html#957" title="ScalaObject" class="keyword">extends</a> <a href="../collection/mutable/HashMap.scala.html#7755" title="scala.collection.mutable.HashMap[Any,Int]">HashMap</a>[Any, Int] {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="214059">cnt</a>: <span title="Int">Int</span> = <span title="Int(64)" class="int">64</span>
    <span class="keyword">def</span> <a title="()Int" id="214061">nextLoc</a>() = { <a href="#214059" title="(x$1: Int)Unit">cnt</a> += <span title="Int(1)" class="int">1</span>; <a href="#214059" title="=&gt; Int">cnt</a> }
  }

  <span class="keyword">class</span> <a title="class UnPicklerEnv extends scala.collection.mutable.HashMap[Int,Any] with ScalaObject" id="213932">UnPicklerEnv</a> <a href="../ScalaObject.scala.html#957" title="ScalaObject" class="keyword">extends</a> <a href="../collection/mutable/HashMap.scala.html#7755" title="scala.collection.mutable.HashMap[Int,Any]">HashMap</a>[Int, Any] {
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="214085">cnt</a>: <span title="Int">Int</span> = <span title="Int(64)" class="int">64</span>
    <span class="keyword">def</span> <a title="()Int" id="214087">nextLoc</a>() = { <a href="#214085" title="(x$1: Int)Unit">cnt</a> += <span title="Int(1)" class="int">1</span>; <a href="#214085" title="=&gt; Int">cnt</a> }
  }

  <span class="keyword">class</span> <a title="class PicklerState extends java.lang.Object with ScalaObject" id="213933">PicklerState</a><a href="../ScalaObject.scala.html#957" title="ScalaObject">(</a><span class="keyword">val</span> <a title="Array[Byte]" id="214051">stream</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte], <span class="keyword">val</span> <a title="scala.io.BytePickle.PicklerEnv" id="214052">dict</a>: <a href="#213931" title="scala.io.BytePickle.PicklerEnv">PicklerEnv</a>)
  <span class="keyword">class</span> <a title="class UnPicklerState extends java.lang.Object with ScalaObject" id="213934">UnPicklerState</a><a href="../ScalaObject.scala.html#957" title="ScalaObject">(</a><span class="keyword">val</span> <a title="Array[Byte]" id="214081">stream</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte], <span class="keyword">val</span> <a title="scala.io.BytePickle.UnPicklerEnv" id="214082">dict</a>: <a href="#213932" title="scala.io.BytePickle.UnPicklerEnv">UnPicklerEnv</a>)

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefDef extends java.lang.Object with ScalaObject" id="213935">RefDef</a>
  case <span class="keyword">class</span> <a href="../runtime/ScalaRunTime.scala.html#20630" title="class Ref extends scala.io.BytePickle.RefDef with ScalaObject with Product" id="214251">Ref</a><a href="../ScalaObject.scala.html#957" title="ScalaObject">(</a>) <span class="keyword">extends</span> <a href="#213935" title="scala.io.BytePickle.RefDef">RefDef</a>
  case <span class="keyword">class</span> <a href="../runtime/ScalaRunTime.scala.html#20630" title="class Def extends scala.io.BytePickle.RefDef with ScalaObject with Product" id="214291">Def</a><a href="../ScalaObject.scala.html#957" title="ScalaObject">(</a>) <span class="keyword">extends</span> <a href="#213935" title="scala.io.BytePickle.RefDef">RefDef</a>

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]" id="213942">refDef</a>: <a href="#213923" title="scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]">PU</a>[RefDef] = <a href="#214318" title="scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]" id="214318">PU</a>[RefDef] {
    <span class="keyword">def</span> <a title="(b: scala.io.BytePickle.RefDef,s: Array[Byte])Array[Byte]" id="214320">appP</a>(<a title="scala.io.BytePickle.RefDef" id="214325">b</a>: <a href="#213935" title="scala.io.BytePickle.RefDef">RefDef</a>, <a title="Array[Byte]" id="214326">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
      <a href="#214325" title="scala.io.BytePickle.RefDef">b</a> <span title="Array[Byte]" class="keyword">match</span> {
        <span title="Array[Byte]" class="keyword">case</span> Ref() =&gt; <a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#214326" title="Array[Byte]">s</a>, (<a href="../collection/immutable/List.scala.html#17535" title="[A](xs: A*)List[A]">List</a><span title="(xs: Byte*)List[Byte]">[</span><span title="Byte">Byte</span>](<span title="Byte(0)" class="int">0</span>)).<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>)
        <span title="Array[Byte]" class="keyword">case</span> Def() =&gt; <a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#214326" title="Array[Byte]">s</a>, (<a href="../collection/immutable/List.scala.html#17535" title="[A](xs: A*)List[A]">List</a><span title="(xs: Byte*)List[Byte]">[</span><span title="Byte">Byte</span>](<span title="Byte(1)" class="int">1</span>)).<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>)
      };
    <span class="keyword">def</span> <a title="(s: Array[Byte])(scala.io.BytePickle.RefDef, Array[Byte])" id="214321">appU</a>(<a title="Array[Byte]" id="214396">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Tuple2.scala.html#1152" title="(scala.io.BytePickle.RefDef, Array[Byte])">(</a>RefDef, Array[Byte]) =
      <span title="(scala.io.BytePickle.RefDef, Array[Byte])" class="keyword">if</span> (<a href="../Array.scala.html#17716" title="(i: Int)Byte">s</a><a title="(x$1: Int)Boolean" id="2326">(</a><span title="Int(0)" class="int">0</span>) == <span title="Int(0)" class="int">0</span>) <a href="../Tuple2.scala.html#20670" title="(_1: scala.io.BytePickle.Ref,_2: Array[Byte])(scala.io.BytePickle.Ref, Array[Byte])">(</a><a href="#214251" title="()scala.io.BytePickle.Ref">Ref</a>(), <a href="#214396" title="Array[Byte]">s</a>.<a href="../collection/generic/VectorTemplate.scala.html#17788" title="(from: Int,until: Int)Array[Byte]">slice</a>(<span title="Int(1)" class="int">1</span>, <a href="#214396" title="Array[Byte]">s</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>))
      <span class="keyword">else</span> <a href="../Tuple2.scala.html#20670" title="(_1: scala.io.BytePickle.Def,_2: Array[Byte])(scala.io.BytePickle.Def, Array[Byte])">(</a><a href="#214291" title="()scala.io.BytePickle.Def">Def</a>(), <a href="#214396" title="Array[Byte]">s</a>.<a href="../collection/generic/VectorTemplate.scala.html#17788" title="(from: Int,until: Int)Array[Byte]">slice</a>(<span title="Int(1)" class="int">1</span>, <a href="#214396" title="Array[Byte]">s</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>));
  }

  <span class="keyword">val</span> <a title="Int" id="213943">REF</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">val</span> <a title="Int" id="213945">DEF</a> = <span title="Int(1)" class="int">1</span>

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.PU[Int]" id="213947">unat</a>: <a href="#213923" title="scala.io.BytePickle.PU[Int]">PU</a>[Int] = <a href="#214455" title="scala.io.BytePickle.PU[Int]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.PU[Int]" id="214455">PU</a>[Int] {
    <span class="keyword">def</span> <a title="(n: Int,s: Array[Byte])Array[Byte]" id="214457">appP</a>(<a title="Int" id="214462">n</a>: <span title="Int">Int</span>, <a title="Array[Byte]" id="214463">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
      <a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#214463" title="Array[Byte]">s</a>, <a href="#213995" title="(x: Int)Array[Byte]">nat2Bytes</a>(<a href="#214462" title="Int">n</a>));
    <span class="keyword">def</span> <a title="(s: Array[Byte])(Int, Array[Byte])" id="214458">appU</a>(<a title="Array[Byte]" id="214483">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Tuple2.scala.html#1152" title="(Int, Array[Byte])">(</a>Int, Array[Byte]) = {
      <span class="keyword">var</span> <a title="Int" id="214484">num</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="214485">readNat</a>: <span title="Int">Int</span> = {
        <span class="keyword">var</span> <a title="Int" id="214486">b</a> = <span title="Int(0)" class="int">0</span>;
        <span class="keyword">var</span> <a title="Int" id="214487">x</a> = <span title="Int(0)" class="int">0</span>;
        <a href="#214488" title="Unit" class="keyword">do</a> {
          <a href="#214486" title="Int">b</a> = <a href="../Array.scala.html#17716" title="(i: Int)Byte">s</a><a href="../Predef.scala.html#16373" title="implicit scala.Predef.byte2int : (x: Byte)Int">(</a><a href="#214484" title="Int">num</a>)
          <a href="#214484" title="Int">num</a> += <span title="Int(1)" class="int">1</span>
          <a href="#214487" title="Int">x</a> = <span title="(x$1: Int)Int">(</span><a href="#214487" title="(x$1: Int)Int">x</a> &lt;&lt; <span title="Int(7)" class="int">7</span>) + (<a href="#214486" title="(x$1: Int)Int">b</a> &amp; <span title="Int(127)" class="int">0x7f</span>);
        } <span class="keyword">while</span> (<span title="(x$1: Int)Boolean">(</span><a href="#214486" title="(x$1: Int)Int">b</a> &amp; <span title="Int(128)" class="int">0x80</span>) != <span title="Int(0)" class="int">0</span>);
        <a href="#214487" title="Int">x</a>
      }
      <a href="../Tuple2.scala.html#20670" title="(_1: Int,_2: Array[Byte])(Int, Array[Byte])">(</a><a href="#214485" title="=&gt; Int">readNat</a>, <a href="#214483" title="Array[Byte]">s</a>.<a href="../collection/generic/VectorTemplate.scala.html#17788" title="(from: Int,until: Int)Array[Byte]">slice</a>(<a href="#214484" title="Int">num</a>, <a href="#214483" title="Array[Byte]">s</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>))
    }
  }

  <span class="keyword">def</span> <a title="[a](pa: scala.io.BytePickle.SPU[a])scala.io.BytePickle.SPU[a]" id="213948">share</a>[<a title="&gt;: Nothing &lt;: Any" id="213950">a</a>](<a title="scala.io.BytePickle.SPU[a]" id="214605">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a]): <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a] = <a href="#214608" title="scala.io.BytePickle.SPU[a]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.SPU[a]" id="214608">SPU</a>[a] {
    <span class="keyword">def</span> <a title="(v: a,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="214610">appP</a>(<a title="a" id="214615">v</a>: <a href="#213950" title="a">a</a>, <a title="scala.io.BytePickle.PicklerState" id="214616">state</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a> = {
      /*
      - is there some value equal to v associated with a location l in the pickle environment?
      - yes: write REF-tag to outstream together with l
      - no:
          write DEF-tag to outstream
          record current location l of outstream
          --&gt; serialize value
          add entry to pickle environment, mapping v onto l
      */
      <span class="keyword">val</span> <a title="scala.io.BytePickle.PicklerEnv" id="214619">pe</a> = <a href="#214616" title="scala.io.BytePickle.PicklerState">state</a>.<a href="#214052" title="=&gt; scala.io.BytePickle.PicklerEnv">dict</a>
      <a href="#214619" title="scala.io.BytePickle.PicklerEnv">pe</a>.<a href="../collection/mutable/HashMap.scala.html#91073" title="(key: Any)Option[Int]">get</a>(<a href="#214615" title="a">v</a>) <span title="scala.io.BytePickle.PicklerState" class="keyword">match</span> {
        <span title="Nothing" class="keyword">case</span> <a href="../Option.scala.html#463" title="object None">None</a> =&gt;
          <span class="keyword">val</span> <a title="Array[Byte]" id="214625">sPrime</a> = <a href="#213942" title="=&gt; scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]">refDef</a>.<a href="#214104" title="(a: scala.io.BytePickle.RefDef,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214291" title="()scala.io.BytePickle.Def">Def</a>(), <a href="#214616" title="scala.io.BytePickle.PicklerState">state</a>.<a href="#214051" title="=&gt; Array[Byte]">stream</a>)
          <span class="keyword">val</span> <a title="Int" id="214626">l</a> = <a href="#214619" title="scala.io.BytePickle.PicklerEnv">pe</a>.<a href="#214061" title="()Int">nextLoc</a>()
          
          <span class="keyword">val</span> <a title="scala.io.BytePickle.PicklerState" id="214627">sPrimePrime</a> = <a href="#214605" title="scala.io.BytePickle.SPU[a]">pa</a>.<a href="#214020" title="(a: a,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState">appP</a>(<a href="#214615" title="a">v</a>, <span title="scala.io.BytePickle.PicklerState" class="keyword">new</span> <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>(<a href="#214625" title="Array[Byte]">sPrime</a>, <a href="#214619" title="scala.io.BytePickle.PicklerEnv">pe</a>))
          
          <a href="#214619" title="scala.io.BytePickle.PicklerEnv">pe</a>.<a href="../collection/mutable/HashMap.scala.html#91075" title="(key: Any,value: Int)Unit">update</a>(<a href="#214615" title="a">v</a>, <a href="#214626" title="Int">l</a>)
          
          <span title="Nothing" class="keyword">return</span> <a href="#214627" title="scala.io.BytePickle.PicklerState">sPrimePrime</a>
        <span title="Nothing" class="keyword">case</span> Some(<a title="Int" id="214651">l</a>) =&gt;
          <span class="keyword">val</span> <a title="Array[Byte]" id="214654">sPrime</a> = <a href="#213942" title="=&gt; scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]">refDef</a>.<a href="#214104" title="(a: scala.io.BytePickle.RefDef,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214251" title="()scala.io.BytePickle.Ref">Ref</a>(), <a href="#214616" title="scala.io.BytePickle.PicklerState">state</a>.<a href="#214051" title="=&gt; Array[Byte]">stream</a>)

          <span title="Nothing" class="keyword">return</span> <span title="scala.io.BytePickle.PicklerState" class="keyword">new</span> <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>(<a href="#213947" title="=&gt; scala.io.BytePickle.PU[Int]">unat</a>.<a href="#214104" title="(a: Int,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214651" title="Int">l</a>, <a href="#214654" title="Array[Byte]">sPrime</a>), <a href="#214619" title="scala.io.BytePickle.PicklerEnv">pe</a>)
      }
    }
    <span class="keyword">def</span> <a title="(state: scala.io.BytePickle.UnPicklerState)(a, scala.io.BytePickle.UnPicklerState)" id="214611">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="214667">state</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>): <a href="../Tuple2.scala.html#1152" title="(a, scala.io.BytePickle.UnPicklerState)">(</a>a, UnPicklerState) = {
      /*
      - first, read tag (i.e. DEF or REF)
      - if REF:
          read location l
          look up resulting value in unpickler environment
      - if DEF:
          record location l of input stream
          --&gt; deserialize value v with argument deserializer
          add entry to unpickler environment, mapping l onto v
      */
      <span class="keyword">val</span> <a title="scala.io.BytePickle.UnPicklerEnv" id="214668">upe</a> = <a href="#214667" title="scala.io.BytePickle.UnPicklerState">state</a>.<a href="#214082" title="=&gt; scala.io.BytePickle.UnPicklerEnv">dict</a>
      <span class="keyword">val</span> <a title="(scala.io.BytePickle.RefDef, Array[Byte])" id="214669">res</a> = <a href="#213942" title="=&gt; scala.io.BytePickle.PU[scala.io.BytePickle.RefDef]">refDef</a>.<a href="#214105" title="(state: Array[Byte])(scala.io.BytePickle.RefDef, Array[Byte])">appU</a>(<a href="#214667" title="scala.io.BytePickle.UnPicklerState">state</a>.<a href="#214081" title="=&gt; Array[Byte]">stream</a>)
      <a href="#214669" title="(scala.io.BytePickle.RefDef, Array[Byte])">res</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; scala.io.BytePickle.RefDef">_1</a> <span title="(a, scala.io.BytePickle.UnPicklerState)" class="keyword">match</span> {
        <span title="Nothing" class="keyword">case</span> Def() =&gt;
          <span class="keyword">val</span> <a title="Int" id="214674">l</a> = <a href="#214668" title="scala.io.BytePickle.UnPicklerEnv">upe</a>.<a href="#214087" title="()Int">nextLoc</a>
          <span class="keyword">val</span> <a title="(a, scala.io.BytePickle.UnPicklerState)" id="214675">res2</a> = <a href="#214605" title="scala.io.BytePickle.SPU[a]">pa</a>.<a href="#214021" title="(state: scala.io.BytePickle.UnPicklerState)(a, scala.io.BytePickle.UnPicklerState)">appU</a>(<span title="scala.io.BytePickle.UnPicklerState" class="keyword">new</span> <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>(<a href="#214669" title="(scala.io.BytePickle.RefDef, Array[Byte])">res</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; Array[Byte]">_2</a>, <a href="#214668" title="scala.io.BytePickle.UnPicklerEnv">upe</a>))
          <a href="#214668" title="scala.io.BytePickle.UnPicklerEnv">upe</a>.<a href="../collection/mutable/HashMap.scala.html#91075" title="(key: Int,value: Any)Unit">update</a>(<a href="#214674" title="Int">l</a>, <a href="#214675" title="(a, scala.io.BytePickle.UnPicklerState)">res2</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; a">_1</a>)
          <span title="Nothing" class="keyword">return</span> <a href="#214675" title="(a, scala.io.BytePickle.UnPicklerState)">res2</a>
        <span title="(a, scala.io.BytePickle.UnPicklerState)" class="keyword">case</span> Ref() =&gt;
          <span class="keyword">val</span> <a title="(Int, Array[Byte])" id="214692">res2</a> = <a href="#213947" title="=&gt; scala.io.BytePickle.PU[Int]">unat</a>.<a href="#214105" title="(state: Array[Byte])(Int, Array[Byte])">appU</a>(<a href="#214669" title="(scala.io.BytePickle.RefDef, Array[Byte])">res</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; Array[Byte]">_2</a>)  // read location
          <a href="#214668" title="scala.io.BytePickle.UnPicklerEnv">upe</a>.<a href="../collection/mutable/HashMap.scala.html#91073" title="(key: Int)Option[Any]">get</a>(<a href="#214692" title="(Int, Array[Byte])">res2</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; Int">_1</a>) <span title="(a, scala.io.BytePickle.UnPicklerState)" class="keyword">match</span> {     // lookup value in unpickler env
            <span title="Nothing" class="keyword">case</span> <a href="../Option.scala.html#463" title="object None">None</a> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalArgumentException" class="keyword">new</span> <a href="../Predef.scala.html#16170" title="java.lang.IllegalArgumentException">IllegalArgumentException</a>(<span title="java.lang.String(&quot;invalid unpickler environment&quot;)" class="string">&quot;invalid unpickler environment&quot;</span>); <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
            <span title="Nothing" class="keyword">case</span> Some(<a title="Any" id="214707">v</a>) =&gt; <span title="Nothing" class="keyword">return</span> <a href="../Tuple2.scala.html#20670" title="(_1: a,_2: scala.io.BytePickle.UnPicklerState)(a, scala.io.BytePickle.UnPicklerState)">(</a><a href="#214707" title="Any">v</a>.<span title="[T0]T0">asInstanceOf</span><span title="a">[</span><a href="#213950" title="a">a</a>], <span title="scala.io.BytePickle.UnPicklerState" class="keyword">new</span> <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>(<a href="#214692" title="(Int, Array[Byte])">res2</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; Array[Byte]">_2</a>, <a href="#214668" title="scala.io.BytePickle.UnPicklerEnv">upe</a>))
          }
      }
    }
  }

  <span class="keyword">def</span> <a title="[t](x: t)scala.io.BytePickle.PU[t]" id="213951">ulift</a>[<a title="&gt;: Nothing &lt;: Any" id="213953">t</a>](<a title="t" id="214722">x</a>: <a href="#213953" title="t">t</a>): <a href="#213923" title="scala.io.BytePickle.PU[t]">PU</a>[t] = <a href="#214725" title="scala.io.BytePickle.PU[t]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.PU[t]" id="214725">PU</a>[t] {
    <span class="keyword">def</span> <a title="(a: t,state: Array[Byte])Array[Byte]" id="214727">appP</a>(<a title="t" id="214732">a</a>: <a href="#213953" title="t">t</a>, <a title="Array[Byte]" id="214733">state</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
      <span title="Array[Byte]" class="keyword">if</span> (<a href="#214722" title="(x$1: Any)Boolean">x</a> != <a href="#214732" title="t">a</a>) { <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.IllegalArgumentException" class="keyword">new</span> <a href="../Predef.scala.html#16170" title="java.lang.IllegalArgumentException">IllegalArgumentException</a>(<span title="(x$1: Any)java.lang.String" class="string">&quot;value to be pickled (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#214732" title="t">a</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;) != &quot;)" class="string">&quot;) != &quot;</span> + <a href="#214722" title="t">x</a>); <a href="#214733" title="Array[Byte]">state</a> }
      <span class="keyword">else</span> <a href="#214733" title="Array[Byte]">state</a>;
    <span class="keyword">def</span> <a title="(state: Array[Byte])(t, Array[Byte])" id="214728">appU</a>(<a title="Array[Byte]" id="214750">state</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]) = <a href="../Tuple2.scala.html#20670" title="(_1: t,_2: Array[Byte])(t, Array[Byte])">(</a><a href="#214722" title="t">x</a>, <a href="#214750" title="Array[Byte]">state</a>)
  }

  <span class="keyword">def</span> <a title="[t](x: t)scala.io.BytePickle.SPU[t]" id="213954">lift</a>[<a title="&gt;: Nothing &lt;: Any" id="213956">t</a>](<a title="t" id="214761">x</a>: <a href="#213956" title="t">t</a>): <a href="#213915" title="scala.io.BytePickle.SPU[t]">SPU</a>[t] = <a href="#214764" title="scala.io.BytePickle.SPU[t]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.SPU[t]" id="214764">SPU</a>[t] {
    <span class="keyword">def</span> <a title="(a: t,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="214766">appP</a>(<a title="t" id="214771">a</a>: <a href="#213956" title="t">t</a>, <a title="scala.io.BytePickle.PicklerState" id="214772">state</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a> =
      <span title="scala.io.BytePickle.PicklerState" class="keyword">if</span> (<a href="#214761" title="(x$1: Any)Boolean">x</a> != <a href="#214771" title="t">a</a>) { /*throw new IllegalArgumentException(&quot;value to be pickled (&quot; + a + &quot;) != &quot; + x);*/ <a href="#214772" title="scala.io.BytePickle.PicklerState">state</a> }
      <span class="keyword">else</span> <a href="#214772" title="scala.io.BytePickle.PicklerState">state</a>;
    <span class="keyword">def</span> <a title="(state: scala.io.BytePickle.UnPicklerState)(t, scala.io.BytePickle.UnPicklerState)" id="214767">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="214777">state</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>) = <a href="../Tuple2.scala.html#20670" title="(_1: t,_2: scala.io.BytePickle.UnPicklerState)(t, scala.io.BytePickle.UnPicklerState)">(</a><a href="#214761" title="t">x</a>, <a href="#214777" title="scala.io.BytePickle.UnPicklerState">state</a>)
  }

  <span class="keyword">def</span> <a title="[t, u](f: (u) =&gt; t,pa: scala.io.BytePickle.PU[t],k: (t) =&gt; scala.io.BytePickle.PU[u])scala.io.BytePickle.PU[u]" id="213957">usequ</a>[<a title="&gt;: Nothing &lt;: Any" id="213960">t</a>,<a title="&gt;: Nothing &lt;: Any" id="213961">u</a>](<a title="(u) =&gt; t" id="214788">f</a>: u =&gt; t, <a title="scala.io.BytePickle.PU[t]" id="214789">pa</a>: <a href="#213923" title="scala.io.BytePickle.PU[t]">PU</a>[t], <a title="(t) =&gt; scala.io.BytePickle.PU[u]" id="214790">k</a>: t =&gt; PU[u]): <a href="#213923" title="scala.io.BytePickle.PU[u]">PU</a>[u] = <a href="#214795" title="scala.io.BytePickle.PU[u]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.PU[u]" id="214795">PU</a>[u] {
    <span class="keyword">def</span> <a title="(b: u,s: Array[Byte])Array[Byte]" id="214797">appP</a>(<a title="u" id="214802">b</a>: <a href="#213961" title="u">u</a>, <a title="Array[Byte]" id="214803">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] = {
      <span class="keyword">val</span> <a title="t" id="214806">a</a> = <a href="../Function1.scala.html#17119" title="(v1: u)t">f</a>(<a href="#214802" title="u">b</a>)
      <span class="keyword">val</span> <a title="Array[Byte]" id="214807">sPrime</a> = <a href="#214789" title="scala.io.BytePickle.PU[t]">pa</a>.<a href="#214104" title="(a: t,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214806" title="t">a</a>, <a href="#214803" title="Array[Byte]">s</a>)
      <span class="keyword">val</span> <a title="scala.io.BytePickle.PU[u]" id="214808">pb</a> = <a href="../Function1.scala.html#17119" title="(v1: t)scala.io.BytePickle.PU[u]">k</a>(<a href="#214806" title="t">a</a>)
      <span class="keyword">val</span> <a title="Array[Byte]" id="214809">sPrimePrime</a> = <a href="#214808" title="scala.io.BytePickle.PU[u]">pb</a>.<a href="#214104" title="(a: u,state: Array[Byte])Array[Byte]">appP</a>(<a href="#214802" title="u">b</a>, <a href="#214807" title="Array[Byte]">sPrime</a>)
      <a href="#214809" title="Array[Byte]">sPrimePrime</a>
    }
    <span class="keyword">def</span> <a title="(s: Array[Byte])(u, Array[Byte])" id="214798">appU</a>(<a title="Array[Byte]" id="214824">s</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]): <a href="../Tuple2.scala.html#1152" title="(u, Array[Byte])">(</a>u, Array[Byte]) = {
      <span class="keyword">val</span> <a title="(t, Array[Byte])" id="214825">resPa</a> = <a href="#214789" title="scala.io.BytePickle.PU[t]">pa</a>.<a href="#214105" title="(state: Array[Byte])(t, Array[Byte])">appU</a>(<a href="#214824" title="Array[Byte]">s</a>)
      <span class="keyword">val</span> <a title="t" id="214826">a</a> = <a href="#214825" title="(t, Array[Byte])">resPa</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; t">_1</a>
      <span class="keyword">val</span> <a title="Array[Byte]" id="214827">sPrime</a> = <a href="#214825" title="(t, Array[Byte])">resPa</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; Array[Byte]">_2</a>
      <span class="keyword">val</span> <a title="scala.io.BytePickle.PU[u]" id="214828">pb</a> = <a href="../Function1.scala.html#17119" title="(v1: t)scala.io.BytePickle.PU[u]">k</a>(<a href="#214826" title="t">a</a>)
      <a href="#214828" title="scala.io.BytePickle.PU[u]">pb</a>.<a href="#214105" title="(state: Array[Byte])(u, Array[Byte])">appU</a>(<a href="#214827" title="Array[Byte]">sPrime</a>)
    }
  }

  <span class="keyword">def</span> <a title="[t, u](f: (u) =&gt; t,pa: scala.io.BytePickle.SPU[t],k: (t) =&gt; scala.io.BytePickle.SPU[u])scala.io.BytePickle.SPU[u]" id="213962">sequ</a>[<a title="&gt;: Nothing &lt;: Any" id="213965">t</a>,<a title="&gt;: Nothing &lt;: Any" id="213966">u</a>](<a title="(u) =&gt; t" id="214838">f</a>: u =&gt; t, <a title="scala.io.BytePickle.SPU[t]" id="214839">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[t]">SPU</a>[t], <a title="(t) =&gt; scala.io.BytePickle.SPU[u]" id="214840">k</a>: t =&gt; SPU[u]): <a href="#213915" title="scala.io.BytePickle.SPU[u]">SPU</a>[u] = <a href="#214845" title="scala.io.BytePickle.SPU[u]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.SPU[u]" id="214845">SPU</a>[u] {
    <span class="keyword">def</span> <a title="(b: u,s: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="214847">appP</a>(<a title="u" id="214852">b</a>: <a href="#213966" title="u">u</a>, <a title="scala.io.BytePickle.PicklerState" id="214853">s</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a> = {
      <span class="keyword">val</span> <a title="t" id="214856">a</a> = <a href="../Function1.scala.html#17119" title="(v1: u)t">f</a>(<a href="#214852" title="u">b</a>)
      <span class="keyword">val</span> <a title="scala.io.BytePickle.PicklerState" id="214857">sPrime</a> = <a href="#214839" title="scala.io.BytePickle.SPU[t]">pa</a>.<a href="#214020" title="(a: t,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState">appP</a>(<a href="#214856" title="t">a</a>, <a href="#214853" title="scala.io.BytePickle.PicklerState">s</a>)
      <span class="keyword">val</span> <a title="scala.io.BytePickle.SPU[u]" id="214858">pb</a> = <a href="../Function1.scala.html#17119" title="(v1: t)scala.io.BytePickle.SPU[u]">k</a>(<a href="#214856" title="t">a</a>)
      <a href="#214858" title="scala.io.BytePickle.SPU[u]">pb</a>.<a href="#214020" title="(a: u,state: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState">appP</a>(<a href="#214852" title="u">b</a>, <a href="#214857" title="scala.io.BytePickle.PicklerState">sPrime</a>)
    }
    <span class="keyword">def</span> <a title="(s: scala.io.BytePickle.UnPicklerState)(u, scala.io.BytePickle.UnPicklerState)" id="214848">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="214873">s</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>): <a href="../Tuple2.scala.html#1152" title="(u, scala.io.BytePickle.UnPicklerState)">(</a>u, UnPicklerState) = {
      <span class="keyword">val</span> <a title="(t, scala.io.BytePickle.UnPicklerState)" id="214874">resPa</a> = <a href="#214839" title="scala.io.BytePickle.SPU[t]">pa</a>.<a href="#214021" title="(state: scala.io.BytePickle.UnPicklerState)(t, scala.io.BytePickle.UnPicklerState)">appU</a>(<a href="#214873" title="scala.io.BytePickle.UnPicklerState">s</a>)
      <span class="keyword">val</span> <a title="t" id="214875">a</a> = <a href="#214874" title="(t, scala.io.BytePickle.UnPicklerState)">resPa</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; t">_1</a>
      <span class="keyword">val</span> <a title="scala.io.BytePickle.UnPicklerState" id="214876">sPrime</a> = <a href="#214874" title="(t, scala.io.BytePickle.UnPicklerState)">resPa</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; scala.io.BytePickle.UnPicklerState">_2</a>
      <span class="keyword">val</span> <a title="scala.io.BytePickle.SPU[u]" id="214877">pb</a> = <a href="../Function1.scala.html#17119" title="(v1: t)scala.io.BytePickle.SPU[u]">k</a>(<a href="#214875" title="t">a</a>)
      <a href="#214877" title="scala.io.BytePickle.SPU[u]">pb</a>.<a href="#214021" title="(state: scala.io.BytePickle.UnPicklerState)(u, scala.io.BytePickle.UnPicklerState)">appU</a>(<a href="#214876" title="scala.io.BytePickle.UnPicklerState">sPrime</a>)
    }
  }

  <span class="keyword">def</span> <a title="[a, b](pa: scala.io.BytePickle.PU[a],pb: scala.io.BytePickle.PU[b])scala.io.BytePickle.PU[(a, b)]" id="213967">upair</a>[<a title="&gt;: Nothing &lt;: Any" id="213970">a</a>,<a title="&gt;: Nothing &lt;: Any" id="213971">b</a>](<a title="scala.io.BytePickle.PU[a]" id="214887">pa</a>: <a href="#213923" title="scala.io.BytePickle.PU[a]">PU</a>[a], <a title="scala.io.BytePickle.PU[b]" id="214888">pb</a>: <a href="#213923" title="scala.io.BytePickle.PU[b]">PU</a>[b]): <a href="#213923" title="scala.io.BytePickle.PU[(a, b)]">PU</a>[(a,b)] = {
    <span class="keyword">def</span> <a title="(p: (a, b))a" id="214892">fst</a>(<a title="(a, b)" id="214894">p</a>: <a href="../Tuple2.scala.html#1152" title="(a, b)">(</a>a,b)): <a href="#213970" title="a">a</a> = <a href="#214894" title="(a, b)">p</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; a">_1</a>
    <span class="keyword">def</span> <a title="(p: (a, b))b" id="214893">snd</a>(<a title="(a, b)" id="214895">p</a>: <a href="../Tuple2.scala.html#1152" title="(a, b)">(</a>a,b)): <a href="#213971" title="b">b</a> = <a href="#214895" title="(a, b)">p</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; b">_2</a>
    <a href="#213957" title="(f: ((a, b)) =&gt; a,pa: scala.io.BytePickle.PU[a],k: (a) =&gt; scala.io.BytePickle.PU[(a, b)])scala.io.BytePickle.PU[(a, b)]">usequ</a>(<a href="#214892" title="(p: (a, b))a">fst</a>, <a href="#214887" title="scala.io.BytePickle.PU[a]">pa</a>, (x: <a href="#213970" title="a">a</a>) =&gt; <a href="#213957" title="(f: ((a, b)) =&gt; b,pa: scala.io.BytePickle.PU[b],k: (b) =&gt; scala.io.BytePickle.PU[(a, b)])scala.io.BytePickle.PU[(a, b)]">usequ</a>(<a href="#214893" title="(p: (a, b))b">snd</a>, <a href="#214888" title="scala.io.BytePickle.PU[b]">pb</a>, (y: <a href="#213971" title="b">b</a>) =&gt; <a href="#213951" title="(x: (a, b))scala.io.BytePickle.PU[(a, b)]">ulift</a>(<a href="../Tuple2.scala.html#20670" title="(_1: a,_2: b)(a, b)">(</a><a href="#214906" title="a">x</a>, <a href="#214917" title="b">y</a>))))
  }

  <span class="keyword">def</span> <a title="[a, b](pa: scala.io.BytePickle.SPU[a],pb: scala.io.BytePickle.SPU[b])scala.io.BytePickle.SPU[(a, b)]" id="213972">pair</a>[<a title="&gt;: Nothing &lt;: Any" id="213975">a</a>,<a title="&gt;: Nothing &lt;: Any" id="213976">b</a>](<a title="scala.io.BytePickle.SPU[a]" id="214941">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a], <a title="scala.io.BytePickle.SPU[b]" id="214942">pb</a>: <a href="#213915" title="scala.io.BytePickle.SPU[b]">SPU</a>[b]): <a href="#213915" title="scala.io.BytePickle.SPU[(a, b)]">SPU</a>[(a,b)] = {
    <span class="keyword">def</span> <a title="(p: (a, b))a" id="214946">fst</a>(<a title="(a, b)" id="214948">p</a>: <a href="../Tuple2.scala.html#1152" title="(a, b)">(</a>a,b)): <a href="#213975" title="a">a</a> = <a href="#214948" title="(a, b)">p</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; a">_1</a>
    <span class="keyword">def</span> <a title="(p: (a, b))b" id="214947">snd</a>(<a title="(a, b)" id="214949">p</a>: <a href="../Tuple2.scala.html#1152" title="(a, b)">(</a>a,b)): <a href="#213976" title="b">b</a> = <a href="#214949" title="(a, b)">p</a>.<a href="../Tuple2.scala.html#20474" title="=&gt; b">_2</a>
    <a href="#213962" title="(f: ((a, b)) =&gt; a,pa: scala.io.BytePickle.SPU[a],k: (a) =&gt; scala.io.BytePickle.SPU[(a, b)])scala.io.BytePickle.SPU[(a, b)]">sequ</a>(<a href="#214946" title="(p: (a, b))a">fst</a>, <a href="#214941" title="scala.io.BytePickle.SPU[a]">pa</a>, (x: <a href="#213975" title="a">a</a>) =&gt; <a href="#213962" title="(f: ((a, b)) =&gt; b,pa: scala.io.BytePickle.SPU[b],k: (b) =&gt; scala.io.BytePickle.SPU[(a, b)])scala.io.BytePickle.SPU[(a, b)]">sequ</a>(<a href="#214947" title="(p: (a, b))b">snd</a>, <a href="#214942" title="scala.io.BytePickle.SPU[b]">pb</a>, (y: <a href="#213976" title="b">b</a>) =&gt; <a href="#213954" title="(x: (a, b))scala.io.BytePickle.SPU[(a, b)]">lift</a>(<a href="../Tuple2.scala.html#20670" title="(_1: a,_2: b)(a, b)">(</a><a href="#214960" title="a">x</a>, <a href="#214971" title="b">y</a>))))
  }

  <span class="keyword">def</span> <a title="[a, b, c](pa: scala.io.BytePickle.SPU[a],pb: scala.io.BytePickle.SPU[b],pc: scala.io.BytePickle.SPU[c])scala.io.BytePickle.SPU[(a, b, c)]" id="213977">triple</a>[<a title="&gt;: Nothing &lt;: Any" id="213981">a</a>,<a title="&gt;: Nothing &lt;: Any" id="213982">b</a>,<a title="&gt;: Nothing &lt;: Any" id="213983">c</a>](<a title="scala.io.BytePickle.SPU[a]" id="214995">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a], <a title="scala.io.BytePickle.SPU[b]" id="214996">pb</a>: <a href="#213915" title="scala.io.BytePickle.SPU[b]">SPU</a>[b], <a title="scala.io.BytePickle.SPU[c]" id="214997">pc</a>: <a href="#213915" title="scala.io.BytePickle.SPU[c]">SPU</a>[c]): <a href="#213915" title="scala.io.BytePickle.SPU[(a, b, c)]">SPU</a>[(a,b,c)] = {
    <span class="keyword">def</span> <a title="(p: (a, b, c))a" id="215002">fst</a>(<a title="(a, b, c)" id="215005">p</a>: <a href="../Tuple3.scala.html#393" title="(a, b, c)">(</a>a,b,c)): <a href="#213981" title="a">a</a> = <a href="#215005" title="(a, b, c)">p</a>.<a href="../Tuple3.scala.html#17981" title="=&gt; a">_1</a>
    <span class="keyword">def</span> <a title="(p: (a, b, c))b" id="215003">snd</a>(<a title="(a, b, c)" id="215006">p</a>: <a href="../Tuple3.scala.html#393" title="(a, b, c)">(</a>a,b,c)): <a href="#213982" title="b">b</a> = <a href="#215006" title="(a, b, c)">p</a>.<a href="../Tuple3.scala.html#17983" title="=&gt; b">_2</a>
    <span class="keyword">def</span> <a title="(p: (a, b, c))c" id="215004">trd</a>(<a title="(a, b, c)" id="215007">p</a>: <a href="../Tuple3.scala.html#393" title="(a, b, c)">(</a>a,b,c)): <a href="#213983" title="c">c</a> = <a href="#215007" title="(a, b, c)">p</a>.<a href="../Tuple3.scala.html#17985" title="=&gt; c">_3</a>

    <a href="#213962" title="(f: ((a, b, c)) =&gt; a,pa: scala.io.BytePickle.SPU[a],k: (a) =&gt; scala.io.BytePickle.SPU[(a, b, c)])scala.io.BytePickle.SPU[(a, b, c)]">sequ</a>(<a href="#215002" title="(p: (a, b, c))a">fst</a>, <a href="#214995" title="scala.io.BytePickle.SPU[a]">pa</a>,
         (x: <a href="#213981" title="a">a</a>) =&gt; <a href="#213962" title="(f: ((a, b, c)) =&gt; b,pa: scala.io.BytePickle.SPU[b],k: (b) =&gt; scala.io.BytePickle.SPU[(a, b, c)])scala.io.BytePickle.SPU[(a, b, c)]">sequ</a>(<a href="#215003" title="(p: (a, b, c))b">snd</a>, <a href="#214996" title="scala.io.BytePickle.SPU[b]">pb</a>,
         (y: <a href="#213982" title="b">b</a>) =&gt; <a href="#213962" title="(f: ((a, b, c)) =&gt; c,pa: scala.io.BytePickle.SPU[c],k: (c) =&gt; scala.io.BytePickle.SPU[(a, b, c)])scala.io.BytePickle.SPU[(a, b, c)]">sequ</a>(<a href="#215004" title="(p: (a, b, c))c">trd</a>, <a href="#214997" title="scala.io.BytePickle.SPU[c]">pc</a>,
         (z: <a href="#213983" title="c">c</a>) =&gt; <a href="#213954" title="(x: (a, b, c))scala.io.BytePickle.SPU[(a, b, c)]">lift</a>(<a href="../Tuple3.scala.html#19124" title="(_1: a,_2: b,_3: c)(a, b, c)">(</a><a href="#215018" title="a">x</a>, <a href="#215029" title="b">y</a>, <a href="#215040" title="c">z</a>)))))
  }

  <span class="keyword">def</span> <a title="[a, b](i: (a) =&gt; b,j: (b) =&gt; a,pa: scala.io.BytePickle.PU[a])scala.io.BytePickle.PU[b]" id="213984">uwrap</a>[<a title="&gt;: Nothing &lt;: Any" id="213987">a</a>,<a title="&gt;: Nothing &lt;: Any" id="213988">b</a>](<a title="(a) =&gt; b" id="215072">i</a>: a =&gt; b, <a title="(b) =&gt; a" id="215073">j</a>: b =&gt; a, <a title="scala.io.BytePickle.PU[a]" id="215074">pa</a>: <a href="#213923" title="scala.io.BytePickle.PU[a]">PU</a>[a]): <a href="#213923" title="scala.io.BytePickle.PU[b]">PU</a>[b] =
    <a href="#213957" title="(f: (b) =&gt; a,pa: scala.io.BytePickle.PU[a],k: (a) =&gt; scala.io.BytePickle.PU[b])scala.io.BytePickle.PU[b]">usequ</a>(<a href="#215073" title="(b) =&gt; a">j</a>, <a href="#215074" title="scala.io.BytePickle.PU[a]">pa</a>, (x: <a href="#213987" title="a">a</a>) =&gt; <a href="#213951" title="(x: b)scala.io.BytePickle.PU[b]">ulift</a>(<a href="../Function1.scala.html#17119" title="(v1: a)b">i</a>(<a href="#215085" title="a">x</a>)))

  <span class="keyword">def</span> <a title="[a, b](i: (a) =&gt; b,j: (b) =&gt; a,pa: scala.io.BytePickle.SPU[a])scala.io.BytePickle.SPU[b]" id="213989">wrap</a>[<a title="&gt;: Nothing &lt;: Any" id="213992">a</a>,<a title="&gt;: Nothing &lt;: Any" id="213993">b</a>](<a title="(a) =&gt; b" id="215099">i</a>: a =&gt; b, <a title="(b) =&gt; a" id="215100">j</a>: b =&gt; a, <a title="scala.io.BytePickle.SPU[a]" id="215101">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a]): <a href="#213915" title="scala.io.BytePickle.SPU[b]">SPU</a>[b] =
    <a href="#213962" title="(f: (b) =&gt; a,pa: scala.io.BytePickle.SPU[a],k: (a) =&gt; scala.io.BytePickle.SPU[b])scala.io.BytePickle.SPU[b]">sequ</a>(<a href="#215100" title="(b) =&gt; a">j</a>, <a href="#215101" title="scala.io.BytePickle.SPU[a]">pa</a>, (x: <a href="#213992" title="a">a</a>) =&gt; <a href="#213954" title="(x: b)scala.io.BytePickle.SPU[b]">lift</a>(<a href="../Function1.scala.html#17119" title="(v1: a)b">i</a>(<a href="#215112" title="a">x</a>)))

  <span class="keyword">def</span> <a title="(a: Array[Byte],b: Int)Array[Byte]" id="213994">appendByte</a>(<a title="Array[Byte]" id="215126">a</a>: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte], <a title="Int" id="215127">b</a>: <span title="Int">Int</span>): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] =
    <a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#215126" title="Array[Byte]">a</a>, (<a href="../collection/immutable/List.scala.html#17535" title="[A](xs: A*)List[A]">List</a><span title="(xs: Byte*)List[Byte]">[</span><span title="Byte">Byte</span>](<a href="#215127" title="Int">b</a>.<span title="[T0]T0">asInstanceOf</span><span title="Byte">[</span><span title="Byte">Byte</span>])).<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>)

  <span class="keyword">def</span> <a title="(x: Int)Array[Byte]" id="213995">nat2Bytes</a>(<a title="Int" id="214470">x</a>: <span title="Int">Int</span>): <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte] = {
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[Byte]" id="215159">buf</a> = <a href="../collection/mutable/ArrayBuffer.scala.html#19914" title="()scala.collection.mutable.ArrayBuffer[Byte]" class="keyword">new</a> <a href="../collection/mutable/ArrayBuffer.scala.html#7797" title="scala.collection.mutable.ArrayBuffer[Byte]">ArrayBuffer</a>[Byte]
    <span class="keyword">def</span> <a title="(x: Int)Unit" id="215160">writeNatPrefix</a>(<a title="Int" id="215170">x</a>: <span title="Int">Int</span>) {
      <span class="keyword">val</span> <a title="Int" id="215171">y</a> = <a href="#215170" title="(x$1: Int)Int">x</a> &gt;&gt;&gt; <span title="Int(7)" class="int">7</span>;
      <span title="Unit" class="keyword">if</span> (<a href="#215171" title="(x$1: Int)Boolean">y</a> != <span title="Int(0)" class="int">0</span>) <a href="#215160" title="(x: Int)Unit">writeNatPrefix</a>(<a href="#215171" title="Int">y</a>);
      <a href="../collection/mutable/ArrayBuffer.scala.html#19917" title="(elem: Byte)buf.type">buf</a> <span title="Unit">+=</span> (<a title="(x$1: Int)Int" id="2972">(</a><a href="#215170" title="(x$1: Int)Int">x</a> &amp; <span title="Int(127)" class="int">0x7f</span>) | <span title="Int(128)" class="int">0x80</span>).<span title="[T0]T0">asInstanceOf</span><span title="Byte">[</span><span title="Byte">Byte</span>];
    }
    <span class="keyword">val</span> <a title="Int" id="215161">y</a> = <a href="#214470" title="(x$1: Int)Int">x</a> &gt;&gt;&gt; <span title="Int(7)" class="int">7</span>;
    <span title="Unit" class="keyword">if</span> (<a href="#215161" title="(x$1: Int)Boolean">y</a> != <span title="Int(0)" class="int">0</span>) <a href="#215160" title="(x: Int)Unit">writeNatPrefix</a>(<a href="#215161" title="Int">y</a>);
    <a href="../collection/mutable/ArrayBuffer.scala.html#19917" title="(elem: Byte)buf.type">buf</a> += (<a href="#214470" title="(x$1: Int)Int">x</a> &amp; <span title="Int(127)" class="int">0x7f</span>).<span title="[T0]T0">asInstanceOf</span><span title="Byte">[</span><span title="Byte">Byte</span>];
    <a href="#215159" title="scala.collection.mutable.ArrayBuffer[Byte]">buf</a>.<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>
  }

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.SPU[Int]" id="213996">nat</a>: <a href="#213915" title="scala.io.BytePickle.SPU[Int]">SPU</a>[Int] = <a href="#215292" title="scala.io.BytePickle.SPU[Int]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.SPU[Int]" id="215292">SPU</a>[Int] {
    <span class="keyword">def</span> <a title="(n: Int,s: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="215294">appP</a>(<a title="Int" id="215299">n</a>: <span title="Int">Int</span>, <a title="scala.io.BytePickle.PicklerState" id="215300">s</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a> = {
      <span title="scala.io.BytePickle.PicklerState" class="keyword">new</span> <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>(<a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#215300" title="scala.io.BytePickle.PicklerState">s</a>.<a href="#214051" title="=&gt; Array[Byte]">stream</a>, <a href="#213995" title="(x: Int)Array[Byte]">nat2Bytes</a>(<a href="#215299" title="Int">n</a>)), <a href="#215300" title="scala.io.BytePickle.PicklerState">s</a>.<a href="#214052" title="=&gt; scala.io.BytePickle.PicklerEnv">dict</a>);
    }
    <span class="keyword">def</span> <a title="(s: scala.io.BytePickle.UnPicklerState)(Int, scala.io.BytePickle.UnPicklerState)" id="215295">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="215320">s</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>): <a href="../Tuple2.scala.html#1152" title="(Int, scala.io.BytePickle.UnPicklerState)">(</a>Int,UnPicklerState) = {
      <span class="keyword">var</span> <a title="Int" id="215321">num</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="215322">readNat</a>: <span title="Int">Int</span> = {
        <span class="keyword">var</span> <a title="Int" id="215323">b</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">var</span> <a title="Int" id="215324">x</a> = <span title="Int(0)" class="int">0</span>
        <a href="#215325" title="Unit" class="keyword">do</a> {
          <a href="#215323" title="Int">b</a> = <a href="#215320" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="../Array.scala.html#17716" title="(i: Int)Byte">stream</a><a href="../Predef.scala.html#16373" title="implicit scala.Predef.byte2int : (x: Byte)Int">(</a><a href="#215321" title="Int">num</a>)
          <a href="#215321" title="Int">num</a> += <span title="Int(1)" class="int">1</span>
          <a href="#215324" title="Int">x</a> = <span title="(x$1: Int)Int">(</span><a href="#215324" title="(x$1: Int)Int">x</a> &lt;&lt; <span title="Int(7)" class="int">7</span>) + (<a href="#215323" title="(x$1: Int)Int">b</a> &amp; <span title="Int(127)" class="int">0x7f</span>);
        } <span class="keyword">while</span> (<span title="(x$1: Int)Boolean">(</span><a href="#215323" title="(x$1: Int)Int">b</a> &amp; <span title="Int(128)" class="int">0x80</span>) != <span title="Int(0)" class="int">0</span>);
        <a href="#215324" title="Int">x</a>
      }
      <a href="../Tuple2.scala.html#20670" title="(_1: Int,_2: scala.io.BytePickle.UnPicklerState)(Int, scala.io.BytePickle.UnPicklerState)">(</a><a href="#215322" title="=&gt; Int">readNat</a>, <span title="scala.io.BytePickle.UnPicklerState" class="keyword">new</span> <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>(<a href="#215320" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214081" title="=&gt; Array[Byte]">stream</a>.<a href="../collection/generic/VectorTemplate.scala.html#17788" title="(from: Int,until: Int)Array[Byte]">slice</a>(<a href="#215321" title="Int">num</a>, <a href="#215320" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214081" title="=&gt; Array[Byte]">stream</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>), <a href="#215320" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214082" title="=&gt; scala.io.BytePickle.UnPicklerEnv">dict</a>))
    }
  }

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.SPU[Byte]" id="213997">byte</a>: <a href="#213915" title="scala.io.BytePickle.SPU[Byte]">SPU</a>[Byte] = <a href="#215446" title="scala.io.BytePickle.SPU[Byte]{ ... }" class="keyword">new</a> <a title="anonymous class $anon extends scala.io.BytePickle.SPU[Byte]" id="215446">SPU</a>[Byte] {
    <span class="keyword">def</span> <a title="(b: Byte,s: scala.io.BytePickle.PicklerState)scala.io.BytePickle.PicklerState" id="215448">appP</a>(<a title="Byte" id="215453">b</a>: <span title="Byte">Byte</span>, <a title="scala.io.BytePickle.PicklerState" id="215454">s</a>: <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>): <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a> =
      <span title="scala.io.BytePickle.PicklerState" class="keyword">new</span> <a href="#213933" title="scala.io.BytePickle.PicklerState">PicklerState</a>(<a href="../Array.scala.html#886" title="object Array">Array</a>.<a href="../Array.scala.html#29245" title="(xss: Traversable[Byte]*)(implicit evidence$8: scala.reflect.ClassManifest[Byte])Array[Byte]">concat</a><a href="../reflect/Manifest.scala.html#26254" title="=&gt; &lt;refinement&gt; extends java.lang.Object with scala.reflect.Manifest[Byte]">(</a><a href="#215454" title="scala.io.BytePickle.PicklerState">s</a>.<a href="#214051" title="=&gt; Array[Byte]">stream</a>, (<a href="../collection/immutable/List.scala.html#17535" title="[A](xs: A*)List[A]">List</a><span title="(xs: Byte*)List[Byte]">[</span><span title="Byte">Byte</span>](<a href="#215453" title="Byte">b</a>)).<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>), <a href="#215454" title="scala.io.BytePickle.PicklerState">s</a>.<a href="#214052" title="=&gt; scala.io.BytePickle.PicklerEnv">dict</a>);
    <span class="keyword">def</span> <a title="(s: scala.io.BytePickle.UnPicklerState)(Byte, scala.io.BytePickle.UnPicklerState)" id="215449">appU</a>(<a title="scala.io.BytePickle.UnPicklerState" id="215489">s</a>: <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>): <a href="../Tuple2.scala.html#1152" title="(Byte, scala.io.BytePickle.UnPicklerState)">(</a>Byte, UnPicklerState) =
      <a href="../Tuple2.scala.html#20670" title="(_1: Byte,_2: scala.io.BytePickle.UnPicklerState)(Byte, scala.io.BytePickle.UnPicklerState)">(</a><a href="#215489" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="../Array.scala.html#17716" title="(i: Int)Byte">stream</a>(<span title="Int(0)" class="int">0</span>), <span title="scala.io.BytePickle.UnPicklerState" class="keyword">new</span> <a href="#213934" title="scala.io.BytePickle.UnPicklerState">UnPicklerState</a>(<a href="#215489" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214081" title="=&gt; Array[Byte]">stream</a>.<a href="../collection/generic/VectorTemplate.scala.html#17788" title="(from: Int,until: Int)Array[Byte]">slice</a>(<span title="Int(1)" class="int">1</span>, <a href="#215489" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214081" title="=&gt; Array[Byte]">stream</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>), <a href="#215489" title="scala.io.BytePickle.UnPicklerState">s</a>.<a href="#214082" title="=&gt; scala.io.BytePickle.UnPicklerEnv">dict</a>));
  }

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.SPU[String]" id="213998">string</a>: <a href="#213915" title="scala.io.BytePickle.SPU[String]">SPU</a>[String] =
    <a href="#213948" title="(pa: scala.io.BytePickle.SPU[String])scala.io.BytePickle.SPU[String]">share</a>(<a href="#213989" title="(i: (Array[Byte]) =&gt; String,j: (String) =&gt; Array[Byte],pa: scala.io.BytePickle.SPU[Array[Byte]])scala.io.BytePickle.SPU[String]">wrap</a>((a: <a href="../Array.scala.html#885" title="Array[Byte]">Array</a>[Byte]) =&gt; <a href="UTF8Codec.scala.html#9671" title="object scala.io.UTF8Codec">UTF8Codec</a>.<a href="UTF8Codec.scala.html#141626" title="(src: Array[Byte],from: Int,len: Int)String">decode</a>(<a href="#215529" title="Array[Byte]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#215529" title="Array[Byte]">a</a>.<a href="../Array.scala.html#17715" title="=&gt; Int">length</a>), (s:<a title="String" id="1603">String</a>) =&gt; <a href="UTF8Codec.scala.html#9671" title="object scala.io.UTF8Codec">UTF8Codec</a>.<a href="UTF8Codec.scala.html#141624" title="(s: String)Array[Byte]">encode</a>(<a href="#215535" title="String">s</a>), <a href="#213999" title="=&gt; scala.io.BytePickle.SPU[Array[Byte]]">bytearray</a>));

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.SPU[Array[Byte]]" id="213999">bytearray</a>: <a href="#213915" title="scala.io.BytePickle.SPU[Array[Byte]]">SPU</a>[Array[Byte]] = {
    <a href="#213989" title="(i: (List[Byte]) =&gt; Array[Byte],j: (Array[Byte]) =&gt; List[Byte],pa: scala.io.BytePickle.SPU[List[Byte]])scala.io.BytePickle.SPU[Array[Byte]]">wrap</a>((l:<a href="../collection/immutable/List.scala.html#8973" title="List[Byte]">List</a>[Byte]) =&gt; <a href="#215558" title="List[Byte]">l</a>.<a href="../collection/generic/TraversableTemplate.scala.html#17233" title="(implicit evidence$1: scala.reflect.ClassManifest[Byte])Array[Byte]">toArray</a>, (<a href="#215570" title="Array[Byte]">_</a>.<a href="../collection/generic/TraversableTemplate.scala.html#17236" title="=&gt; List[Byte]">toList</a>), <a href="#214007" title="(pa: scala.io.BytePickle.SPU[Byte])scala.io.BytePickle.SPU[List[Byte]]">list</a>(<a href="#213997" title="=&gt; scala.io.BytePickle.SPU[Byte]">byte</a>))
  }

  <span class="keyword">def</span> <a title="=&gt; scala.io.BytePickle.SPU[Boolean]" id="214000">bool</a>: <a href="#213915" title="scala.io.BytePickle.SPU[Boolean]">SPU</a>[Boolean] = {
    <span class="keyword">def</span> <a title="(b: Boolean)Int" id="215586">toEnum</a>(<a title="Boolean" id="215588">b</a>: <a title="Boolean" id="1949">Boolean</a>) = <span title="Int" class="keyword">if</span> (<a href="#215588" title="Boolean">b</a>) <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="(n: Int)Boolean" id="215587">fromEnum</a>(<a title="Int" id="215589">n</a>: <span title="Int">Int</span>) = <span title="Boolean" class="keyword">if</span> (<a href="#215589" title="(x$1: Int)Boolean">n</a> == <span title="Int(0)" class="int">0</span>) <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
    <a href="#213989" title="(i: (Int) =&gt; Boolean,j: (Boolean) =&gt; Int,pa: scala.io.BytePickle.SPU[Int])scala.io.BytePickle.SPU[Boolean]">wrap</a>(<a href="#215587" title="(n: Int)Boolean">fromEnum</a>, <a href="#215586" title="(b: Boolean)Int">toEnum</a>, <a href="#213996" title="=&gt; scala.io.BytePickle.SPU[Int]">nat</a>)
  }

  <span class="keyword">def</span> <a title="[A](pa: scala.io.BytePickle.PU[A])(n: Int)scala.io.BytePickle.PU[List[A]]" id="214001">ufixedList</a>[<a title="&gt;: Nothing &lt;: Any" id="214003">A</a>](<a title="scala.io.BytePickle.PU[A]" id="215614">pa</a>: <a href="#213923" title="scala.io.BytePickle.PU[A]">PU</a>[A])(<a title="Int" id="215615">n</a>: <span title="Int">Int</span>): <a href="#213923" title="scala.io.BytePickle.PU[List[A]]">PU</a>[List[A]] = {
    <span class="keyword">def</span> <a title="(p: (A, List[A]))List[A]" id="215618">pairToList</a>(<a title="(A, List[A])" id="215620">p</a>: <a href="../Tuple2.scala.html#1152" title="(A, List[A])">(</a>A, List[A])): <a href="../collection/immutable/List.scala.html#8973" title="List[A]">List</a>[A] =
      <a href="#215620" title="(A, List[A])">p</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; A">_1</a> <a href="#215621" title="A">::</a> <a href="#215620" title="(A, List[A])">p</a>.<a href="../collection/immutable/List.scala.html#17630" title="(x: A)List[A]">_2</a>;
    <span class="keyword">def</span> <a title="(l: List[A])(A, List[A])" id="215619">listToPair</a>(<a title="List[A]" id="215629">l</a>: <a href="../collection/immutable/List.scala.html#8973" title="List[A]">List</a>[A]): <a href="../Tuple2.scala.html#1152" title="(A, List[A])">(</a>A, List[A]) =
      (<a href="#215629" title="List[A]">l</a>: @<a href="../collection/immutable/List.scala.html#8973" title="List[A] @unchecked">unchecked</a>) <span title="(A, List[A])" class="keyword">match</span> { <span title="(A, List[A])" class="keyword">case</span> <a title="A" id="215636">x</a> :: <a title="List[A]" id="215637">xs</a> =&gt; <a href="../Tuple2.scala.html#20670" title="(_1: A,_2: List[A])(A, List[A])">(</a><a href="#215636" title="A">x</a>, <a href="#215637" title="List[A]">xs</a>) }

    <span title="scala.io.BytePickle.PU[List[A]]" class="keyword">if</span> (<a href="#215615" title="(x$1: Int)Boolean">n</a> == <span title="Int(0)" class="int">0</span>) <a href="#213951" title="(x: List[A])scala.io.BytePickle.PU[List[A]]">ulift</a>(<a href="../collection/immutable/List.scala.html#9259" title="object Nil">Nil</a>)
    <span class="keyword">else</span>
      <a href="#213984" title="(i: ((A, List[A])) =&gt; List[A],j: (List[A]) =&gt; (A, List[A]),pa: scala.io.BytePickle.PU[(A, List[A])])scala.io.BytePickle.PU[List[A]]">uwrap</a>(<a href="#215618" title="(p: (A, List[A]))List[A]">pairToList</a>, <a href="#215619" title="(l: List[A])(A, List[A])">listToPair</a>, <a href="#213967" title="(pa: scala.io.BytePickle.PU[A],pb: scala.io.BytePickle.PU[List[A]])scala.io.BytePickle.PU[(A, List[A])]">upair</a>(<a href="#215614" title="scala.io.BytePickle.PU[A]">pa</a>, <a href="#214001" title="(pa: scala.io.BytePickle.PU[A])(n: Int)scala.io.BytePickle.PU[List[A]]">ufixedList</a>(<a href="#215614" title="scala.io.BytePickle.PU[A]">pa</a>)(<a href="#215615" title="(x$1: Int)Int">n</a>-<span title="Int(1)" class="int">1</span>)))
  }

  <span class="keyword">def</span> <a title="[a](pa: scala.io.BytePickle.SPU[a])(n: Int)scala.io.BytePickle.SPU[List[a]]" id="214004">fixedList</a>[<a title="&gt;: Nothing &lt;: Any" id="214006">a</a>](<a title="scala.io.BytePickle.SPU[a]" id="215715">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a])(<a title="Int" id="215716">n</a>: <span title="Int">Int</span>): <a href="#213915" title="scala.io.BytePickle.SPU[List[a]]">SPU</a>[List[a]] = {
    <span class="keyword">def</span> <a title="(p: (a, List[a]))List[a]" id="215719">pairToList</a>(<a title="(a, List[a])" id="215721">p</a>: <a href="../Tuple2.scala.html#1152" title="(a, List[a])">(</a>a,List[a])): <a href="../collection/immutable/List.scala.html#8973" title="List[a]">List</a>[a] =
      <a href="#215721" title="(a, List[a])">p</a>.<a href="../Tuple2.scala.html#20472" title="=&gt; a">_1</a> <a href="#215722" title="a">::</a> <a href="#215721" title="(a, List[a])">p</a>.<a href="../collection/immutable/List.scala.html#17630" title="(x: a)List[a]">_2</a>;
    <span class="keyword">def</span> <a title="(l: List[a])(a, List[a])" id="215720">listToPair</a>(<a title="List[a]" id="215730">l</a>: <a href="../collection/immutable/List.scala.html#8973" title="List[a]">List</a>[a]): <a href="../Tuple2.scala.html#1152" title="(a, List[a])">(</a>a,List[a]) =
      (<a href="#215730" title="List[a]">l</a>: @<a href="../collection/immutable/List.scala.html#8973" title="List[a] @unchecked">unchecked</a>) <span title="(a, List[a])" class="keyword">match</span> { <span title="(a, List[a])" class="keyword">case</span> <a title="a" id="215737">x</a> :: <a title="List[a]" id="215738">xs</a> =&gt; <a href="../Tuple2.scala.html#20670" title="(_1: a,_2: List[a])(a, List[a])">(</a><a href="#215737" title="a">x</a>, <a href="#215738" title="List[a]">xs</a>) }

    <span title="scala.io.BytePickle.SPU[List[a]]" class="keyword">if</span> (<a href="#215716" title="(x$1: Int)Boolean">n</a> == <span title="Int(0)" class="int">0</span>) <a href="#213954" title="(x: List[a])scala.io.BytePickle.SPU[List[a]]">lift</a>(<a href="../collection/immutable/List.scala.html#9259" title="object Nil">Nil</a>)
    <span class="keyword">else</span>
      <a href="#213989" title="(i: ((a, List[a])) =&gt; List[a],j: (List[a]) =&gt; (a, List[a]),pa: scala.io.BytePickle.SPU[(a, List[a])])scala.io.BytePickle.SPU[List[a]]">wrap</a>(<a href="#215719" title="(p: (a, List[a]))List[a]">pairToList</a>, <a href="#215720" title="(l: List[a])(a, List[a])">listToPair</a>, <a href="#213972" title="(pa: scala.io.BytePickle.SPU[a],pb: scala.io.BytePickle.SPU[List[a]])scala.io.BytePickle.SPU[(a, List[a])]">pair</a>(<a href="#215715" title="scala.io.BytePickle.SPU[a]">pa</a>, <a href="#214004" title="(pa: scala.io.BytePickle.SPU[a])(n: Int)scala.io.BytePickle.SPU[List[a]]">fixedList</a>(<a href="#215715" title="scala.io.BytePickle.SPU[a]">pa</a>)(<a href="#215716" title="(x$1: Int)Int">n</a>-<span title="Int(1)" class="int">1</span>)))
  }

  <span class="keyword">def</span> <a title="[a](pa: scala.io.BytePickle.SPU[a])scala.io.BytePickle.SPU[List[a]]" id="214007">list</a>[<a title="&gt;: Nothing &lt;: Any" id="214009">a</a>](<a title="scala.io.BytePickle.SPU[a]" id="215571">pa</a>: <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a]): <a href="#213915" title="scala.io.BytePickle.SPU[List[a]]">SPU</a>[List[a]] =
    <a href="#213962" title="(f: (List[a]) =&gt; Int,pa: scala.io.BytePickle.SPU[Int],k: (Int) =&gt; scala.io.BytePickle.SPU[List[a]])scala.io.BytePickle.SPU[List[a]]">sequ</a>((l: <a href="../collection/immutable/List.scala.html#8973" title="List[a]">List</a>[a])=&gt;<a href="#215827" title="List[a]">l</a>.<a href="../collection/generic/LinearSequenceTemplate.scala.html#19399" title="=&gt; Int">length</a>, <a href="#213996" title="=&gt; scala.io.BytePickle.SPU[Int]">nat</a>, <a href="#214004" title="(pa: scala.io.BytePickle.SPU[a])(n: Int)scala.io.BytePickle.SPU[List[a]]">fixedList</a><a href="#215834" title="Int">(</a><a href="#215571" title="scala.io.BytePickle.SPU[a]">pa</a>));

  <span class="keyword">def</span> <a title="[a](pa: scala.io.BytePickle.PU[a])scala.io.BytePickle.PU[List[a]]" id="214010">ulist</a>[<a title="&gt;: Nothing &lt;: Any" id="214012">a</a>](<a title="scala.io.BytePickle.PU[a]" id="215845">pa</a>: <a href="#213923" title="scala.io.BytePickle.PU[a]">PU</a>[a]): <a href="#213923" title="scala.io.BytePickle.PU[List[a]]">PU</a>[List[a]] =
    <a href="#213957" title="(f: (List[a]) =&gt; Int,pa: scala.io.BytePickle.PU[Int],k: (Int) =&gt; scala.io.BytePickle.PU[List[a]])scala.io.BytePickle.PU[List[a]]">usequ</a>((l:<a href="../collection/immutable/List.scala.html#8973" title="List[a]">List</a>[a]) =&gt; <a href="#215859" title="List[a]">l</a>.<a href="../collection/generic/LinearSequenceTemplate.scala.html#19399" title="=&gt; Int">length</a>, <a href="#213947" title="=&gt; scala.io.BytePickle.PU[Int]">unat</a>, <a href="#214001" title="(pa: scala.io.BytePickle.PU[a])(n: Int)scala.io.BytePickle.PU[List[a]]">ufixedList</a><a href="#215866" title="Int">(</a><a href="#215845" title="scala.io.BytePickle.PU[a]">pa</a>));

  <span class="keyword">def</span> <a title="[a](tag: (a) =&gt; Int,ps: List[() =&gt; scala.io.BytePickle.SPU[a]])scala.io.BytePickle.SPU[a]" id="214013">data</a>[<a title="&gt;: Nothing &lt;: Any" id="214015">a</a>](<a title="(a) =&gt; Int" id="215877">tag</a>: a =&gt; Int, <a title="List[() =&gt; scala.io.BytePickle.SPU[a]]" id="215878">ps</a>: <a href="../collection/immutable/List.scala.html#8973" title="List[() =&gt; scala.io.BytePickle.SPU[a]]">List</a>[()=&gt;SPU[a]]): <a href="#213915" title="scala.io.BytePickle.SPU[a]">SPU</a>[a] =
    <a href="#213962" title="(f: (a) =&gt; Int,pa: scala.io.BytePickle.SPU[Int],k: (Int) =&gt; scala.io.BytePickle.SPU[a])scala.io.BytePickle.SPU[a]">sequ</a>(<a href="#215877" title="(a) =&gt; Int">tag</a>, <a href="#213996" title="=&gt; scala.io.BytePickle.SPU[Int]">nat</a>, (x: <span title="Int">Int</span>)=&gt; <a href="#215878" title="List[() =&gt; scala.io.BytePickle.SPU[a]]">ps</a>.<a href="../collection/generic/LinearSequenceTemplate.scala.html#19400" title="(n: Int)() =&gt; scala.io.BytePickle.SPU[a]">apply</a><a href="../Function0.scala.html#34096" title="()scala.io.BytePickle.SPU[a]">(</a><a href="#215888" title="Int">x</a>)());
}

        </pre>
    </body>
</html>