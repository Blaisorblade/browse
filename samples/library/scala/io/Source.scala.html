<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>scala/io/Source.scala</title>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2009, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

<span class="comment">// $Id: Source.scala 17274 2009-03-10 11:39:04Z michelou $</span>


<span class="keyword">package</span> scala.io


<span class="keyword">import</span> java.io.{BufferedInputStream, File, FileInputStream, InputStream,
                PrintStream}
<span class="keyword">import</span> java.net.{URI, URL}
<span class="keyword">import</span> java.nio.{ByteBuffer, CharBuffer}
<span class="keyword">import</span> java.nio.charset.Charset

<span class="comment">/** This object provides convenience methods to create an iterable
 *  representation of a source file.
 *
 *  @author  Burak Emir
 *  @version 1.0, 19/08/2004
 */</span>
<span class="keyword">object</span> <span class="typed"><span class="type">object scala.io.Source</span><a id="9108">Source</a></span> {

  <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="30253"><a id="30252">DefaultBufSize</a></span></span> = <span class="typed"><span class="type">Int(2048)</span><span class="int">2048</span></span>

  <span class="keyword">val</span> <span class="typed"><span class="type">() =&gt; scala.io.Source</span><span id="30255"><a id="30254">NoReset</a></span></span>: () =&gt; Source = () =&gt; <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">java.lang.UnsupportedOperationException</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.lang.UnsupportedOperationException</span><a href="../Predef.scala.html#13340">UnsupportedOperationException</a></span>()

  <span class="comment">/** Creates a &lt;code&gt;Source&lt;/code&gt; instance from the given array of bytes,
   *  with empty description.
   *
   *  @param bytes ...
   *  @return      the created &lt;code&gt;Source&lt;/code&gt; instance.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Array[Byte])scala.io.Source</span><a id="30256">fromBytes</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a id="30282">bytes</a></span>: <span class="typed"><span class="type">Array[Byte]</span><a href="../Array.scala.html#1070">Array</a></span>[Byte]): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(String)scala.io.Source</span><a href="#30260">fromString</a></span>(<span class="typed"><span class="type">(Array[Byte])java.lang.String</span><a id="5815" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="../Predef.scala.html#13327">String</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#30282">bytes</a></span>))

  <span class="comment">/** Creates Source from array of bytes with given encoding, with
   *  empty description.
   *
   *  @param bytes ...
   *  @param enc   ...
   *  @return      ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Array[Byte],String)scala.io.Source</span><a id="30257">fromBytes</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a id="30360">bytes</a></span>: <span class="typed"><span class="type">Array[Byte]</span><a href="../Array.scala.html#1070">Array</a></span>[Byte], <span class="typed"><span class="type">String</span><a id="30361">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(String)scala.io.Source</span><a href="#30260">fromString</a></span>(<span class="typed"><span class="type">(Array[Byte],java.lang.String)java.lang.String</span><a id="5813" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="../Predef.scala.html#13327">String</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#30360">bytes</a></span>, <span class="typed"><span class="type">String</span><a href="#30361">enc</a></span>))

  <span class="comment">/** Creates a &lt;code&gt;Source&lt;/code&gt; instance from a single character.
   *
   *  @param c ...
   *  @return  the create &lt;code&gt;Source&lt;/code&gt; instance.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Char)scala.io.Source</span><a id="30258">fromChar</a></span>(<span class="typed"><span class="type">Char</span><a id="30413">c</a></span>: <span class="typed"><span class="type">Char</span><a id="2387">Char</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><a id="30414">it</a></span> = <span class="typed"><span class="type">object Iterator</span><a href="../Iterator.scala.html#1338">Iterator</a></span>.<span class="typed"><span class="type">(Char)java.lang.Object with Iterator[Char]</span><a href="../Iterator.scala.html#22748">single</a></span>(<span class="typed"><span class="type">Char</span><a href="#30413">c</a></span>)
    <span class="typed"><span class="type">template $anon extends scala.io.Source</span><a id="30442" class="keyword">new</a></span> <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()scala.io.Source</span><a id="30444">reset</a></span>() = <span class="typed"><span class="type">(Char)scala.io.Source</span><a href="#30258">fromChar</a></span>(<span class="typed"><span class="type">Char</span><a href="#30413">c</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><span id="30446"><a id="30445">iter</a></span></span> = <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><a href="#30414">it</a></span>
    }
  }

  <span class="comment">/** creates Source from array of characters, with empty description.
   *
   *  @param chars ...
   *  @return      ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Array[Char])scala.io.Source</span><a id="30259">fromChars</a></span>(<span class="typed"><span class="type">Array[Char]</span><a id="30448">chars</a></span>: <span class="typed"><span class="type">Array[Char]</span><a href="../Array.scala.html#1070">Array</a></span>[Char]): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Iterator[Char]</span><a id="30449">it</a></span> = <span class="typed"><span class="type">Array[Char]</span><a href="#30448">chars</a></span>.<span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="../Array.scala.html#17255">elements</a></span>
    <span class="typed"><span class="type">template $anon extends scala.io.Source</span><a id="30451" class="keyword">new</a></span> <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()scala.io.Source</span><a id="30453">reset</a></span>() = <span class="typed"><span class="type">(Array[Char])scala.io.Source</span><a href="#30259">fromChars</a></span>(<span class="typed"><span class="type">Array[Char]</span><a href="#30448">chars</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">Iterator[Char]</span><span id="30455"><a id="30454">iter</a></span></span> = <span class="typed"><span class="type">Iterator[Char]</span><a href="#30449">it</a></span>
    }
  }

  <span class="comment">/** creates Source from string, with empty description.
   *
   *  @param s ...
   *  @return  ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)scala.io.Source</span><a id="30260">fromString</a></span>(<span class="typed"><span class="type">String</span><a id="30283">s</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Iterator[Char]</span><a id="30457">it</a></span> = <span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><a href="../Predef.scala.html#13518">s</a></span>.<span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="../RandomAccessSeq.scala.html#17210">elements</a></span>
    <span class="typed"><span class="type">template $anon extends scala.io.Source</span><a id="30465" class="keyword">new</a></span> <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()scala.io.Source</span><a id="30467">reset</a></span>() = <span class="typed"><span class="type">(String)scala.io.Source</span><a href="#30260">fromString</a></span>(<span class="typed"><span class="type">String</span><a href="#30283">s</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">Iterator[Char]</span><span id="30469"><a id="30468">iter</a></span></span> = <span class="typed"><span class="type">Iterator[Char]</span><a href="#30457">it</a></span>
    }
  }

  <span class="comment">/** creates Source from file with given name, setting its description to
   *  filename.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)scala.io.Source</span><a id="30261">fromFile</a></span>(<span class="typed"><span class="type">String</span><a id="30471">name</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(String,String)scala.io.Source</span><a href="#30262">fromFile</a></span>(<span class="typed"><span class="type">String</span><a href="#30471">name</a></span>, util.<span class="typed"><span class="type">object scala.util.Properties</span><a href="../util/Properties.scala.html#6727">Properties</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../util/Properties.scala.html#30598">encodingString</a></span>)

  <span class="comment">/** creates Source from file with given name, using given encoding, setting
   *  its description to filename.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String,String)scala.io.Source</span><a id="30262">fromFile</a></span>(<span class="typed"><span class="type">String</span><a id="30570">name</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">String</span><a id="30571">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.io.File,String)scala.io.Source</span><a href="#30266">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>(<span class="typed"><span class="type">String</span><a href="#30570">name</a></span>), <span class="typed"><span class="type">String</span><a href="#30571">enc</a></span>)

  <span class="comment">/** creates &lt;code&gt;Source&lt;/code&gt; from file with given file: URI
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.net.URI)scala.io.Source</span><a id="30263">fromFile</a></span>(<span class="typed"><span class="type">java.net.URI</span><a id="30563">uri</a></span>: <span class="typed"><span class="type">java.net.URI</span><a id="4542">URI</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.net.URI,String)scala.io.Source</span><a href="#30264">fromFile</a></span>(<span class="typed"><span class="type">java.net.URI</span><a href="#30563">uri</a></span>, util.<span class="typed"><span class="type">object scala.util.Properties</span><a href="../util/Properties.scala.html#6727">Properties</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../util/Properties.scala.html#30598">encodingString</a></span>)

  <span class="comment">/** creates Source from file with given file: URI
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.net.URI,String)scala.io.Source</span><a id="30264">fromFile</a></span>(<span class="typed"><span class="type">java.net.URI</span><a id="30485">uri</a></span>: <span class="typed"><span class="type">java.net.URI</span><a id="4542">URI</a></span>, <span class="typed"><span class="type">String</span><a id="30486">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.io.File,String)scala.io.Source</span><a href="#30266">fromFile</a></span>(<span class="typed"><span class="type">(java.net.URI)java.io.File</span><a id="25989" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>(<span class="typed"><span class="type">java.net.URI</span><a href="#30485">uri</a></span>), <span class="typed"><span class="type">String</span><a href="#30486">enc</a></span>)

  <span class="comment">/** creates Source from file, using default character encoding, setting its
   *  description to filename.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)scala.io.Source</span><a id="30265">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="30478">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.io.File,String,Int)scala.io.Source</span><a href="#30267">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30478">file</a></span>, util.<span class="typed"><span class="type">object scala.util.Properties</span><a href="../util/Properties.scala.html#6727">Properties</a></span>.<span class="typed"><span class="type">=&gt; String</span><a href="../util/Properties.scala.html#30598">encodingString</a></span>, <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>)

  <span class="comment">/** same as fromFile(file, enc, Source.DefaultBufSize)
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,String)scala.io.Source</span><a id="30266">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="30476">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>, <span class="typed"><span class="type">String</span><a id="30477">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = 
    <span class="typed"><span class="type">(java.io.File,String,Int)scala.io.Source</span><a href="#30267">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30476">file</a></span>, <span class="typed"><span class="type">String</span><a href="#30477">enc</a></span>, <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>)

  <span class="comment">/** Creates Source from &lt;code&gt;file&lt;/code&gt;, using given character encoding,
   *  setting its description to filename. Input is buffered in a buffer of
   *  size &lt;code&gt;bufferSize&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,String,Int)scala.io.Source</span><a id="30267">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="30473">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>, <span class="typed"><span class="type">String</span><a id="30474">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">Int</span><a id="30475">bufferSize</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">java.io.FileInputStream</span><a id="30726">inpStream</a></span> = <span class="typed"><span class="type">(java.io.File)java.io.FileInputStream</span><a id="26315" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.FileInputStream</span><a id="3808">FileInputStream</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30473">file</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="30727">size</a></span> = <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#30475">bufferSize</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3143">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Int</span><a href="#30475">bufferSize</a></span> <span class="keyword">else</span> <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>
    <span class="typed"><span class="type">(java.io.File,scala.io.Source)scala.io.Source</span><a href="#30268">setFileDescriptor</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30473">file</a></span>, 
      <span class="typed"><span class="type">object scala.io.BufferedSource</span><a href="BufferedSource.scala.html#8970">BufferedSource</a></span>.<span class="typed"><span class="type">(java.io.InputStream,String,Int,() =&gt; scala.io.Source)scala.io.BufferedSource</span><a href="BufferedSource.scala.html#22127">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.FileInputStream</span><a href="#30726">inpStream</a></span>, <span class="typed"><span class="type">String</span><a href="#30474">enc</a></span>, <span class="typed"><span class="type">Int</span><a href="#30727">size</a></span>, { () =&gt; <span class="typed"><span class="type">(java.io.File,String,Int)scala.io.Source</span><a href="#30267">fromFile</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30473">file</a></span>, <span class="typed"><span class="type">String</span><a href="#30474">enc</a></span>, <span class="typed"><span class="type">Int</span><a href="#30727">size</a></span>)}))
  }

  <span class="comment">/** This method sets the descr property of the given source to a string of the form &quot;file:&quot;+path
   *  @param file the file whose path we want to describe
   *  @param s    the source whose property we set
   *  @return     s
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,scala.io.Source)scala.io.Source</span><a id="30268">setFileDescriptor</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="30730">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3667">File</a></span>, <span class="typed"><span class="type">scala.io.Source</span><a id="30731">s</a></span>: <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="typed"><span class="type">scala.io.Source</span><a href="#30731">s</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="#22160">descr</a></span> = <span class="typed"><span class="type">(String)StringBuilder</span><a href="../StringBuilder.scala.html#19622" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../StringBuilder.scala.html#1433">StringBuilder</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;file:&quot;)</span><span class="string">&quot;file:&quot;</span></span>).<span class="typed"><span class="type">(String)StringBuilder</span><a href="../StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#30730">file</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="25995">getAbsolutePath</a></span>()).<span class="typed"><span class="type">()String</span><a href="../StringBuilder.scala.html#19672">toString</a></span>();
    <span class="typed"><span class="type">scala.io.Source</span><a href="#30731">s</a></span>
  }

  <span class="comment">/**
   *  @param s    ...
   *  @return     ...
   *  @deprecated use fromURL(s, enc)
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String)scala.io.Source</span><a id="30269">fromURL</a></span>(<span class="typed"><span class="type">String</span><a id="30756">s</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.net.URL)scala.io.Source</span><a href="#30271">fromURL</a></span>(<span class="typed"><span class="type">(java.lang.String)java.net.URL</span><a id="30768" class="keyword">new</a></span> <span class="typed"><span class="type">java.net.URL</span><a id="4389">URL</a></span>(<span class="typed"><span class="type">String</span><a href="#30756">s</a></span>))

  <span class="comment">/** same as fromURL(new URL(s), enc) 
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(String,String)scala.io.Source</span><a id="30270">fromURL</a></span>(<span class="typed"><span class="type">String</span><a id="30799">s</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">String</span><a id="30800">enc</a></span>:<span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> =
    <span class="typed"><span class="type">(java.net.URL,String)scala.io.Source</span><a href="#30272">fromURL</a></span>(<span class="typed"><span class="type">(java.lang.String)java.net.URL</span><a id="30768" class="keyword">new</a></span> <span class="typed"><span class="type">java.net.URL</span><a id="4389">URL</a></span>(<span class="typed"><span class="type">String</span><a href="#30799">s</a></span>), <span class="typed"><span class="type">String</span><a href="#30800">enc</a></span>)

  <span class="comment">/**
   *  @param url  the source URL
   *  @return     ...
   *  @deprecated use fromURL(url, enc)
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.net.URL)scala.io.Source</span><a id="30271">fromURL</a></span>(<span class="typed"><span class="type">java.net.URL</span><a id="30798">url</a></span>: <span class="typed"><span class="type">java.net.URL</span><a id="4389">URL</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><a id="30829">it</a></span> = <span class="typed"><span class="type">template $anon extends java.lang.Object with Iterator[Char]</span><a id="30831" class="keyword">new</a></span> <span class="typed"><span class="type">Iterator[Char]</span><a href="../Iterator.scala.html#1337">Iterator</a></span>[Char] {
      <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="30835"><span id="30833"><span id="30834"><a id="30844">data</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span> = _
      <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="30836">hasNext</a></span> = {<span class="typed"><span class="type">=&gt; Int</span><a href="#30833">data</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3140">!=</a></span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span>}
      <span class="keyword">def</span> <span class="typed"><span class="type">()Char</span><a id="30837">next</a></span> = {<span class="keyword">val</span> <span class="typed"><span class="type">Char</span><a id="30868">x</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#30833">data</a></span>.<span class="typed"><span class="type">Char</span><a id="3501">asInstanceOf</a></span>[<span class="typed"><span class="type">Char</span><a id="2387">Char</a></span>]; <span class="typed"><span class="type">(Int)Unit</span><a href="#30834">data</a></span> = <span class="typed"><span class="type">=&gt; java.io.BufferedInputStream</span><a href="#30840">bufIn</a></span>.<span class="typed"><span class="type">()Int</span><a id="30852">read</a></span>(); <span class="typed"><span class="type">Char</span><a href="#30868">x</a></span>}
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.InputStream</span><span id="30839"><a id="30838">in</a></span></span> = <span class="typed"><span class="type">java.net.URL</span><a href="#30798">url</a></span>.<span class="typed"><span class="type">()java.io.InputStream</span><a id="30791">openStream</a></span>()
      <span class="keyword">val</span> <span class="typed"><span class="type">java.io.BufferedInputStream</span><span id="30841"><a id="30840">bufIn</a></span></span> = <span class="typed"><span class="type">java.io.BufferedInputStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.BufferedInputStream</span><a id="3733">BufferedInputStream</a></span>(<span class="typed"><span class="type">=&gt; java.io.InputStream</span><a href="#30838">in</a></span>)
      <span class="typed"><span class="type">(Int)Unit</span><a href="#30834">data</a></span> = <span class="typed"><span class="type">=&gt; java.io.BufferedInputStream</span><a href="#30840">bufIn</a></span>.<span class="typed"><span class="type">()Int</span><a id="30852">read</a></span>()
    }
    <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends scala.io.Source</span><a id="30830">s</a></span> = <span class="typed"><span class="type">template $anon extends scala.io.Source</span><a id="30906" class="keyword">new</a></span> <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> {
      <span class="keyword">def</span> <span class="typed"><span class="type">()scala.io.Source</span><a id="30908">reset</a></span>() = <span class="typed"><span class="type">(java.net.URL)scala.io.Source</span><a href="#30271">fromURL</a></span>(<span class="typed"><span class="type">java.net.URL</span><a href="#30798">url</a></span>)
      <span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><span id="30910"><a id="30909">iter</a></span></span> = <span class="typed"><span class="type">&lt;refinement&gt; extends java.lang.Object with Iterator[Char]</span><a href="#30829">it</a></span>
    }
    <span class="typed"><span class="type">&lt;refinement&gt; extends scala.io.Source</span><a href="#30830">s</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="#22160">descr</a></span> = <span class="typed"><span class="type">java.net.URL</span><a href="#30798">url</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="30786">toString</a></span>()
    <span class="typed"><span class="type">&lt;refinement&gt; extends scala.io.Source</span><a href="#30830">s</a></span>
  }

  <span class="comment">/** same as fromInputStream(url.openStream(), enc) 
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.net.URL,String)scala.io.Source</span><a id="30272">fromURL</a></span>(<span class="typed"><span class="type">java.net.URL</span><a id="30758">url</a></span>: <span class="typed"><span class="type">java.net.URL</span><a id="4389">URL</a></span>, <span class="typed"><span class="type">String</span><a id="30759">enc</a></span>:<span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = 
    <span class="typed"><span class="type">(java.io.InputStream,String)scala.io.Source</span><a href="#30274">fromInputStream</a></span>(<span class="typed"><span class="type">java.net.URL</span><a href="#30758">url</a></span>.<span class="typed"><span class="type">()java.io.InputStream</span><a id="30791">openStream</a></span>(), <span class="typed"><span class="type">String</span><a href="#30759">enc</a></span>)
  
  <span class="comment">/** reads data from &lt;code&gt;istream&lt;/code&gt; into a byte array, and calls
   *  &lt;code&gt;fromBytes&lt;/code&gt; with given encoding &lt;code&gt;enc&lt;/code&gt;. 
   *  If &lt;code&gt;maxlen&lt;/code&gt; is given, reads not more bytes than &lt;code&gt;maxlen&lt;/code&gt;;
   *  if &lt;code&gt;maxlen&lt;/code&gt; was not given, or &lt;code&gt;was &amp;lt;= 0&lt;/code&gt;, then
   *  whole &lt;code&gt;istream&lt;/code&gt; is read and closed afterwards.
   * 
   *  @param istream the input stream from which to read
   *  @param enc the encoding to apply to the bytes
   *  @param maxlen optionally, a positive int specifying maximum number of bytes to read
   */</span>
  @<span class="typed"><span class="type">deprecated</span><a href="../deprecated.scala.html#215">deprecated</a></span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream,String,Option[Int])scala.io.Source</span><a id="30273">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="30929">istream</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3742">InputStream</a></span>, <span class="typed"><span class="type">String</span><a id="30930">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">Option[Int]</span><a id="30931">maxlen</a></span>: <span class="typed"><span class="type">Option[Int]</span><a href="../Option.scala.html#932">Option</a></span>[Int]): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = {
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="30932">limit</a></span> = <span class="typed"><span class="type">Option[Int]</span><a href="#30931">maxlen</a></span> <span class="typed"><span class="type">Int</span><span class="keyword">match</span></span> { <span class="typed"><span class="type">Int</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">Int</span><a id="30938">i</a></span>) =&gt; <span class="typed"><span class="type">Int</span><a href="#30938">i</a></span>; <span class="typed"><span class="type">Int(0)</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a href="../Option.scala.html#534">None</a></span> =&gt; <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> }
    <span class="keyword">val</span> <span class="typed"><span class="type">java.io.BufferedInputStream</span><a id="30933">bi</a></span> = <span class="typed"><span class="type">(java.io.InputStream,Int)java.io.BufferedInputStream</span><a id="30851" class="keyword">new</a></span> <span class="typed"><span class="type">java.io.BufferedInputStream</span><a id="3733">BufferedInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#30929">istream</a></span>, <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[Byte]</span><a id="30934">bytes</a></span> = <span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[Byte]</span><span class="keyword">new</span></span> collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[Byte]</span><a href="../collection/mutable/ArrayBuffer.scala.html#11377">ArrayBuffer</a></span>[Byte]()
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="30935">b</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="30936">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#30937" class="keyword">while</a></span> ( {<span class="typed"><span class="type">Int</span><a href="#30935">b</a></span> = <span class="typed"><span class="type">java.io.BufferedInputStream</span><a href="#30933">bi</a></span>.<span class="typed"><span class="type">()Int</span><a id="30852">read</a></span>; <span class="typed"><span class="type">Int</span><a href="#30936">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>; <span class="typed"><span class="type">Int</span><a href="#30935">b</a></span>} <span class="typed"><span class="type">(Int)Boolean</span><a id="3140">!=</a></span> -<span class="typed"><span class="type">Int(-1)</span><span class="int">1</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> (<span class="typed"><span class="type">Int</span><a href="#30932">limit</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">&lt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2748">||</a></span> <span class="typed"><span class="type">Int</span><a href="#30936">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#30932">limit</a></span>)) {
      <span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[Byte]</span><a href="#30934">bytes</a></span> <span class="typed"><span class="type">(Byte)Unit</span><a href="../collection/mutable/ArrayBuffer.scala.html#22574">+=</a></span> <span class="typed"><span class="type">Int</span><a href="#30935">b</a></span>.<span class="typed"><span class="type">=&gt; Byte</span><a id="3080">toByte</a></span>; 
    }
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Int</span><a href="#30932">limit</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3142">&lt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">java.io.BufferedInputStream</span><a href="#30933">bi</a></span>.<span class="typed"><span class="type">()Unit</span><a id="30859">close</a></span>
    <span class="typed"><span class="type">(Array[Byte],String)scala.io.Source</span><a href="#30257">fromBytes</a></span>(<span class="typed"><span class="type">scala.collection.mutable.ArrayBuffer[Byte]</span><a href="#30934">bytes</a></span>.<span class="typed"><span class="type">Array[Byte]</span><a href="../Seq.scala.html#17185">toArray</a></span>, <span class="typed"><span class="type">String</span><a href="#30930">enc</a></span>)
  }

  <span class="comment">/** same as BufferedSource.fromInputStream(is, enc, Source.DefaultBufSize) 
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream,String)scala.io.Source</span><a id="30274">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="30927">is</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3742">InputStream</a></span>, <span class="typed"><span class="type">String</span><a id="30928">enc</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = 
    <span class="typed"><span class="type">object scala.io.BufferedSource</span><a href="BufferedSource.scala.html#8970">BufferedSource</a></span>.<span class="typed"><span class="type">(java.io.InputStream,String,Int,() =&gt; scala.io.Source)scala.io.BufferedSource</span><a href="BufferedSource.scala.html#22127">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#30927">is</a></span>, <span class="typed"><span class="type">String</span><a href="#30928">enc</a></span>, <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>, { () =&gt; <span class="typed"><span class="type">(java.io.InputStream,String)scala.io.Source</span><a href="#30274">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#30927">is</a></span>, <span class="typed"><span class="type">String</span><a href="#30928">enc</a></span>) })
  
  <span class="comment">/** same as BufferedSource.fromInputStream(is, &quot;utf-8&quot;, Source.DefaultBufSize) */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream)scala.io.Source</span><a id="30275">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="30922">is</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3742">InputStream</a></span>): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span> = 
    <span class="typed"><span class="type">object scala.io.BufferedSource</span><a href="BufferedSource.scala.html#8970">BufferedSource</a></span>.<span class="typed"><span class="type">(java.io.InputStream,String,Int,() =&gt; scala.io.Source)scala.io.BufferedSource</span><a href="BufferedSource.scala.html#22127">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#30922">is</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;utf-8&quot;)</span><span class="string">&quot;utf-8&quot;</span></span>, <span class="typed"><span class="type">object scala.io.Source</span><a href="#9108">Source</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#30252">DefaultBufSize</a></span>, { () =&gt; <span class="typed"><span class="type">(java.io.InputStream)scala.io.Source</span><a href="#30275">fromInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#30922">is</a></span>) })
  
}

<span class="comment">/** The class &lt;code&gt;Source&lt;/code&gt; implements an iterable representation
 *  of source files. Calling method &lt;code&gt;reset&lt;/code&gt; returns an identical,
 *  resetted source.
 *
 *  @author  Burak Emir
 *  @version 1.0
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class Source extends java.lang.Object with Iterator[Char] with ScalaObject</span><a id="9107">Source</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">Iterator[Char]</span><a href="../Iterator.scala.html#1337">Iterator</a></span>[Char] {

  <span class="comment">// ------ protected values</span>

  <span class="comment">/** the actual iterator */</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a id="22146">iter</a></span>: <span class="typed"><span class="type">Iterator[Char]</span><a href="../Iterator.scala.html#1337">Iterator</a></span>[Char]

  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22149"><span id="22147"><span id="22148"><a id="31002">cline</a></span></span></span></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22152"><span id="22150"><span id="22151"><a id="31003">ccol</a></span></span></span></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>

  <span class="comment">// ------ public values</span>

  <span class="comment">/** position of last character returned by next*/</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22155"><span id="22153"><span id="22154"><a id="31004">pos</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/** the last character returned by next.
   *  the value before the first call to next is undefined.
   */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Char</span><span id="22158"><span id="22156"><span id="22157"><a id="31005">ch</a></span></span></span></span>: <span class="typed"><span class="type">Char</span><a id="2387">Char</a></span> = _

  <span class="comment">/** description of this source, default empty */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">String</span><span id="22161"><span id="22159"><span id="22160"><a id="31006">descr</a></span></span></span></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>

  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22164"><span id="22162"><span id="22163"><a id="31007">nerrors</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22167"><span id="22165"><span id="22166"><a id="31008">nwarnings</a></span></span></span></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

  <span class="comment">/** default col increment for tabs '\t', set to 4 initially
   */</span>
  <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="22170"><span id="22168"><span id="22169"><a id="31009">tabinc</a></span></span></span></span> = <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>

  <span class="comment">//</span>
  <span class="comment">// -- methods</span>
  <span class="comment">//</span>

  <span class="comment">/** convenience method, returns given line (not including newline)
   *  from Source.
   *
   *  @param line the line index, first line is 1
   *  @return     the character string of the specified line.
   *  @throws scala.compat.Platform.IllegalArgumentException
   *
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int)String</span><a id="22171">getLine</a></span>(<span class="typed"><span class="type">Int</span><a id="31010">line</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>): <span class="typed"><span class="type">String</span><a id="1859">String</a></span> = { <span class="comment">// faster than getLines.drop(line).next</span>
    <span class="comment">// todo: should @throws scala.compat.Platform.IndexOutOfBoundsException</span>
    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Int</span><a href="#31010">line</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.IllegalArgumentException</span><a id="21630" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.IllegalArgumentException</span><a href="../Predef.scala.html#13341">IllegalArgumentException</a></span>(<span class="typed"><span class="type">Int</span><a href="#31010">line</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="3498">toString</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="31011">buf</a></span> = <span class="typed"><span class="type">()StringBuilder</span><a href="../StringBuilder.scala.html#19620" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../StringBuilder.scala.html#1433">StringBuilder</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">scala.io.Source</span><a id="31012">it</a></span> = <span class="typed"><span class="type">()scala.io.Source</span><a href="#22180">reset</a></span>
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="31013">i</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>

    <span class="typed"><span class="type">Unit</span><a href="#31016" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#22173">hasNext</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">Int</span><a href="#31013">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> (<span class="typed"><span class="type">Int</span><a href="#31010">line</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3146">-</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>))
      <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Char('\012')</span><span class="char">'\n'</span></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3016">==</a></span> <span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">()Char</span><a href="#22174">next</a></span>)
        <span class="typed"><span class="type">Int</span><a href="#31013">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>;

    <span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2745">!</a></span><span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#22173">hasNext</a></span>) <span class="comment">// this should not happen</span>
      <span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.IllegalArgumentException</span><a id="21630" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.IllegalArgumentException</span><a href="../Predef.scala.html#13341">IllegalArgumentException</a></span>(
        <span class="typed"><span class="type">java.lang.String(&quot;line &quot;)</span><span class="string">&quot;line &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">Int</span><a href="#31010">line</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; does not exist&quot;)</span><span class="string">&quot; does not exist&quot;</span></span>
      )

    <span class="keyword">var</span> <span class="typed"><span class="type">Char</span><a id="31014">ch</a></span> = <span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">()Char</span><a href="#22174">next</a></span>
    <span class="typed"><span class="type">Unit</span><a href="#31017" class="keyword">while</a></span> (<span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="#22173">hasNext</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">Char('\012')</span><span class="char">'\n'</span></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3017">!=</a></span> <span class="typed"><span class="type">Char</span><a href="#31014">ch</a></span>) {
      <span class="typed"><span class="type">StringBuilder</span><a href="#31011">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char</span><a href="#31014">ch</a></span>
      <span class="typed"><span class="type">Char</span><a href="#31014">ch</a></span> = <span class="typed"><span class="type">scala.io.Source</span><a href="#31012">it</a></span>.<span class="typed"><span class="type">()Char</span><a href="#22174">next</a></span>
    }

    <span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Char('\012')</span><span class="char">'\n'</span></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3017">!=</a></span> <span class="typed"><span class="type">Char</span><a href="#31014">ch</a></span>)
      <span class="typed"><span class="type">StringBuilder</span><a href="#31011">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char</span><a href="#31014">ch</a></span>

    <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="31015">res</a></span> = <span class="typed"><span class="type">StringBuilder</span><a href="#31011">buf</a></span>.<span class="typed"><span class="type">()String</span><a href="../StringBuilder.scala.html#19672">toString</a></span>()
    <span class="typed"><span class="type">StringBuilder</span><a href="#31011">buf</a></span> <span class="typed"><span class="type">(Int)Unit</span><a href="../StringBuilder.scala.html#19626">setLength</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>  <span class="comment">// hopefully help collector to deallocate StringBuilder</span>
    <span class="typed"><span class="type">String</span><a href="#31015">res</a></span>
  }

  <span class="comment">/** returns an iterator who returns lines (including newline character). 
   *  a line ends in \n.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterator[String]</span><a id="22172">getLines</a></span>: <span class="typed"><span class="type">Iterator[String]</span><a href="../Iterator.scala.html#1337">Iterator</a></span>[String] = <span class="typed"><span class="type">template $anon extends java.lang.Object with Iterator[String]</span><a id="31071" class="keyword">new</a></span> <span class="typed"><span class="type">Iterator[String]</span><a href="../Iterator.scala.html#1337">Iterator</a></span>[String] {
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><span id="31074"><a id="31073">buf</a></span></span> = <span class="typed"><span class="type">()StringBuilder</span><a href="../StringBuilder.scala.html#19620" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../StringBuilder.scala.html#1433">StringBuilder</a></span>
    <span class="keyword">def</span> <span class="typed"><span class="type">()String</span><a id="31075">next</a></span> = {
      <span class="keyword">var</span> <span class="typed"><span class="type">Char</span><a id="31084">ch</a></span> = <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">()Char</span><a href="../Iterator.scala.html#19976">next</a></span>
      <span class="typed"><span class="type">Unit</span><a href="#31086" class="keyword">while</a></span> (<span class="typed"><span class="type">Char</span><a href="#31084">ch</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3017">!=</a></span> <span class="typed"><span class="type">Char('\012')</span><span class="char">'\n'</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2749">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../Iterator.scala.html#19975">hasNext</a></span>) {
        <span class="typed"><span class="type">=&gt; StringBuilder</span><a href="#31073">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char</span><a href="#31084">ch</a></span>
        <span class="typed"><span class="type">Char</span><a href="#31084">ch</a></span> = <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">()Char</span><a href="../Iterator.scala.html#19976">next</a></span>
      }
      <span class="typed"><span class="type">=&gt; StringBuilder</span><a href="#31073">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char</span><a href="#31084">ch</a></span>
      <span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="31085">res</a></span> = <span class="typed"><span class="type">=&gt; StringBuilder</span><a href="#31073">buf</a></span>.<span class="typed"><span class="type">()String</span><a href="../StringBuilder.scala.html#19672">toString</a></span>()
      <span class="typed"><span class="type">=&gt; StringBuilder</span><a href="#31073">buf</a></span> <span class="typed"><span class="type">(Int)Unit</span><a href="../StringBuilder.scala.html#19626">setLength</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>  <span class="comment">// clean things up for next call of &quot;next&quot;</span>
      <span class="typed"><span class="type">String</span><a href="#31085">res</a></span>
    }
    <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="31076">hasNext</a></span> = <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../Iterator.scala.html#19975">hasNext</a></span>
  }
  <span class="comment">/** Returns &lt;code&gt;true&lt;/code&gt; if this source has more characters.
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="22173">hasNext</a></span> = <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a href="../Iterator.scala.html#19975">hasNext</a></span>

  <span class="comment">/** returns next character and has the following side-effects: updates 
   *  position (ccol and cline) and assigns the character to ch
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()Char</span><a id="22174">next</a></span>: <span class="typed"><span class="type">Char</span><a id="2387">Char</a></span> = {
    <span class="typed"><span class="type">(Char)Unit</span><a href="#22157">ch</a></span> = <span class="typed"><span class="type">=&gt; Iterator[Char]</span><a href="#22146">iter</a></span>.<span class="typed"><span class="type">()Char</span><a href="../Iterator.scala.html#19976">next</a></span>
    <span class="typed"><span class="type">(Int)Unit</span><a href="#22154">pos</a></span> = <span class="typed"><span class="type">object scala.io.Position</span><a href="Position.scala.html#9132">Position</a></span>.<span class="typed"><span class="type">(Int,Int)Int</span><a href="Position.scala.html#31108">encode</a></span>(<span class="typed"><span class="type">=&gt; Int</span><a href="#22147">cline</a></span>, <span class="typed"><span class="type">=&gt; Int</span><a href="#22150">ccol</a></span>)
    <span class="typed"><span class="type">=&gt; Char</span><a href="#22156">ch</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span> {
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('\012')</span><span class="char">'\n'</span></span> =&gt;
        <span class="typed"><span class="type">(Int)Unit</span><a href="#22151">ccol</a></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
        <span class="typed"><span class="type">(Int)Unit</span><a href="#22148">cline</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">Char('\011')</span><span class="char">'\t'</span></span> =&gt;
        <span class="typed"><span class="type">(Int)Unit</span><a href="#22151">ccol</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">=&gt; Int</span><a href="#22168">tabinc</a></span>
      <span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt;
        <span class="typed"><span class="type">(Int)Unit</span><a href="#22151">ccol</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
    <span class="typed"><span class="type">=&gt; Char</span><a href="#22156">ch</a></span>
  }

  <span class="comment">/** Reports an error message to console.
   *
   *  @param pos the source position (line/column)
   *  @param msg the error message to report
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,String)Unit</span><a id="22175">reportError</a></span>(<span class="typed"><span class="type">Int</span><a id="31180">pos</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">String</span><a id="31181">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>) {
    <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a href="#22176">reportError</a></span>(<span class="typed"><span class="type">Int</span><a href="#31180">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#31181">msg</a></span>, <span class="typed"><span class="type">object Console</span><a href="../Console.scala.html#438">Console</a></span>.<span class="typed"><span class="type">=&gt; java.io.PrintStream</span><a href="../Console.scala.html#31277">out</a></span>)
  }

  <span class="comment">/** Reports an error message to the output stream &lt;code&gt;out&lt;/code&gt;.
   *
   *  @param pos the source position (line/column)
   *  @param msg the error message to report
   *  @param out ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a id="22176">reportError</a></span>(<span class="typed"><span class="type">Int</span><a id="31183">pos</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">String</span><a id="31184">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">java.io.PrintStream</span><a id="31185">out</a></span>: <span class="typed"><span class="type">java.io.PrintStream</span><a id="3850">PrintStream</a></span>) {
    <span class="typed"><span class="type">(Int)Unit</span><a href="#22163">nerrors</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a href="#22177">report</a></span>(<span class="typed"><span class="type">Int</span><a href="#31183">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#31184">msg</a></span>, <span class="typed"><span class="type">java.io.PrintStream</span><a href="#31185">out</a></span>)
  }

  <span class="comment">/**
   *  @param pos the source position (line/column)
   *  @param msg the error message to report
   *  @param out ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a id="22177">report</a></span>(<span class="typed"><span class="type">Int</span><a id="31554">pos</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">String</span><a id="31555">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">java.io.PrintStream</span><a id="31556">out</a></span>: <span class="typed"><span class="type">java.io.PrintStream</span><a id="3850">PrintStream</a></span>) {
    <span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="31557">buf</a></span> = <span class="typed"><span class="type">()StringBuilder</span><a href="../StringBuilder.scala.html#19620" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a href="../StringBuilder.scala.html#1433">StringBuilder</a></span>
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="31558">line</a></span> = <span class="typed"><span class="type">object scala.io.Position</span><a href="Position.scala.html#9132">Position</a></span>.<span class="typed"><span class="type">(Int)Int</span><a href="Position.scala.html#31109">line</a></span>(<span class="typed"><span class="type">Int</span><a href="#31554">pos</a></span>)
    <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="31559">col</a></span> = <span class="typed"><span class="type">object scala.io.Position</span><a href="Position.scala.html#9132">Position</a></span>.<span class="typed"><span class="type">(Int)Int</span><a href="Position.scala.html#31110">column</a></span>(<span class="typed"><span class="type">Int</span><a href="#31554">pos</a></span>)
    <span class="typed"><span class="type">StringBuilder</span><a href="#31557">buf</a></span>.<span class="typed"><span class="type">(String)StringBuilder</span><a href="../StringBuilder.scala.html#19639">append</a></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#22159">descr</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">Int</span><a href="#31558">line</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">Int</span><a href="#31559">col</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;: &quot;)</span><span class="string">&quot;: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">String</span><a href="#31555">msg</a></span>)
    <span class="typed"><span class="type">StringBuilder</span><a href="#31557">buf</a></span> <span class="typed"><span class="type">(String)StringBuilder</span><a href="../StringBuilder.scala.html#19639">append</a></span> <span class="typed"><span class="type">(Int)String</span><a href="#22171">getLine</a></span>(<span class="typed"><span class="type">Int</span><a href="#31558">line</a></span>)
    <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><a id="31560">i</a></span> = <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">Unit</span><a href="#31561" class="keyword">while</a></span> (<span class="typed"><span class="type">Int</span><a href="#31560">i</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3141">&lt;</a></span> <span class="typed"><span class="type">Int</span><a href="#31559">col</a></span>) {
      <span class="typed"><span class="type">StringBuilder</span><a href="#31557">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char(' ')</span><span class="char">' '</span></span>
      <span class="typed"><span class="type">Int</span><a href="#31560">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    }
    <span class="typed"><span class="type">StringBuilder</span><a href="#31557">buf</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a href="../StringBuilder.scala.html#19646">append</a></span> <span class="typed"><span class="type">Char('^')</span><span class="char">'^'</span></span>
    <span class="typed"><span class="type">java.io.PrintStream</span><a href="#31556">out</a></span>.<span class="typed"><span class="type">(java.lang.String)Unit</span><a id="31216">println</a></span>(<span class="typed"><span class="type">StringBuilder</span><a href="#31557">buf</a></span>.<span class="typed"><span class="type">()String</span><a href="../StringBuilder.scala.html#19672">toString</a></span>)
  }

  <span class="comment">/** Reports a warning message to &lt;code&gt;Console.out&lt;/code&gt;.
   *
   *  @param pos the source position (line/column)
   *  @param msg the warning message to report
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,String)Unit</span><a id="22178">reportWarning</a></span>(<span class="typed"><span class="type">Int</span><a id="31600">pos</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">String</span><a id="31601">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>) {
    <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a href="#22179">reportWarning</a></span>(<span class="typed"><span class="type">Int</span><a href="#31600">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#31601">msg</a></span>, <span class="typed"><span class="type">object Console</span><a href="../Console.scala.html#438">Console</a></span>.<span class="typed"><span class="type">=&gt; java.io.PrintStream</span><a href="../Console.scala.html#31277">out</a></span>)
  }

  <span class="comment">/**
   *  @param pos the source position (line/column)
   *  @param msg the warning message to report
   *  @param out ...
   */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a id="22179">reportWarning</a></span>(<span class="typed"><span class="type">Int</span><a id="31603">pos</a></span>: <span class="typed"><span class="type">Int</span><a id="2392">Int</a></span>, <span class="typed"><span class="type">String</span><a id="31604">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1859">String</a></span>, <span class="typed"><span class="type">java.io.PrintStream</span><a id="31605">out</a></span>: <span class="typed"><span class="type">java.io.PrintStream</span><a id="3850">PrintStream</a></span>) {
    <span class="typed"><span class="type">(Int)Unit</span><a href="#22166">nwarnings</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3145">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
    <span class="typed"><span class="type">(Int,String,java.io.PrintStream)Unit</span><a href="#22177">report</a></span>(<span class="typed"><span class="type">Int</span><a href="#31603">pos</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;warning! &quot;)</span><span class="string">&quot;warning! &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5800">+</a></span> <span class="typed"><span class="type">String</span><a href="#31604">msg</a></span>, <span class="typed"><span class="type">java.io.PrintStream</span><a href="#31605">out</a></span>)
  }

  <span class="comment">/** the actual reset method */</span>
  <span class="keyword">def</span> <span class="typed"><span class="type">()scala.io.Source</span><a id="22180">reset</a></span>(): <span class="typed"><span class="type">scala.io.Source</span><a href="#9107">Source</a></span>

}

        </pre>
    </body>
</html>