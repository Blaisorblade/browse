<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Dag.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 David MacIver
 */</span>
<span class="keyword">package</span> sbt;

<span class="keyword">import</span> scala.collection._;

<span class="keyword">trait</span> <span class="typed"><span class="type">trait Dag[Node &lt;: sbt.Dag[Node]] extends java.lang.Object with ScalaObject</span><a id="6325">Dag</a></span>[<span class="typed"><span class="type">&gt;: Nothing &lt;: sbt.Dag[Node]</span><a id="6326">Node</a></span> &lt;: Dag[Node]]{
	self : Node =&gt;

	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterable[Node]</span><a id="25363">dependencies</a></span> : <span class="typed"><span class="type">Iterable[Node]</span><a id="384">Iterable</a></span>[Node]

	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; List[Node]</span><a id="25364">topologicalSort</a></span> = {
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashSet[Node]</span><a id="28800">discovered</a></span> = <span class="typed"><span class="type">scala.collection.mutable.HashSet[Node]</span><span class="keyword">new</span></span> mutable.<span class="typed"><span class="type">scala.collection.mutable.HashSet[Node]</span><a id="8018">HashSet</a></span>[Node];
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.jcl.LinkedHashSet[Node]</span><a id="28801">finished</a></span> = <span class="typed"><span class="type">()scala.collection.jcl.LinkedHashSet[Node]</span><a id="28721" class="keyword">new</a></span> jcl.<span class="typed"><span class="type">scala.collection.jcl.LinkedHashSet[Node]</span><a id="7886">LinkedHashSet</a></span>[Node];

		<span class="keyword">def</span> <span class="typed"><span class="type">(Node)Unit</span><a id="28802">visit</a></span>(<span class="typed"><span class="type">Node</span><a id="28807">dag</a></span> : <span class="typed"><span class="type">Node</span><a href="#6326">Node</a></span>){
			<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">(Node)Boolean</span><a href="#28800" id="22295">discovered</a></span>(<span class="typed"><span class="type">Node</span><a href="#28807">dag</a></span>)) {
				<span class="typed"><span class="type">scala.collection.mutable.HashSet[Node]</span><a href="#28800">discovered</a></span>(<span class="typed"><span class="type">Node</span><a href="#28807">dag</a></span>) = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>; 
				<span class="typed"><span class="type">Node</span><a href="#28807">dag</a></span>.<span class="typed"><span class="type">=&gt; Iterable[Node]</span><a href="#25363">dependencies</a></span>.<span class="typed"><span class="type">((Node) =&gt; Unit)Unit</span><a id="7365">foreach</a></span>(<span class="typed"><span class="type">(Node)Unit</span><a href="#28802">visit</a></span>);
				<span class="typed"><span class="type">scala.collection.jcl.LinkedHashSet[Node]</span><a href="#28801">finished</a></span>(<span class="typed"><span class="type">Node</span><a href="#28807">dag</a></span>) = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>; 
			}
		}

		<span class="typed"><span class="type">(Node)Unit</span><a href="#28802">visit</a></span>(<span class="typed"><span class="type">Node</span><a href="#6325">self</a></span>);
	
		<span class="typed"><span class="type">scala.collection.jcl.LinkedHashSet[Node]</span><a href="#28801">finished</a></span>.<span class="typed"><span class="type">=&gt; List[Node]</span><a id="7388">toList</a></span>;
	}
}


        </pre>
    </body>
</html>