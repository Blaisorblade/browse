<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Logger.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> scala.collection.jcl.WeakHashMap
<span class="keyword">import</span> scala.collection.mutable.{Buffer, ListBuffer}

<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait LogEvent extends java.lang.Object with NotNull" id="6658">LogEvent</a> <span class="keyword">extends</span> <a title="NotNull" id="187">NotNull</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Success extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6659">Success</a>(<span class="keyword">val</span> <span id="59306"><span id="59305"><a title="String" id="59310">msg</a></span></span>: <a title="String" id="1751">String</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Log extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6660">Log</a>(<span class="keyword">val</span> <span id="59314"><span id="59313"><a title="sbt.Level.Value" id="59321">level</a></span></span>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <span class="keyword">val</span> <span id="59316"><span id="59315"><a title="String" id="59322">msg</a></span></span>: <a title="String" id="1751">String</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Trace extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6661">Trace</a>(<span class="keyword">val</span> <span id="59325"><span id="59324"><a title="Throwable" id="59329">exception</a></span></span>: <a title="Throwable" id="2033">Throwable</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class SetLevel extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6662">SetLevel</a>(<span class="keyword">val</span> <span id="59332"><span id="59331"><a title="sbt.Level.Value" id="59336">newLevel</a></span></span>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class SetTrace extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6663">SetTrace</a>(<span class="keyword">val</span> <span id="59339"><span id="59338"><a title="Boolean" id="59343">enabled</a></span></span>: <a title="Boolean" id="2060">Boolean</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class ControlEvent extends java.lang.Object with sbt.LogEvent with ScalaObject" id="6664">ControlEvent</a>(<span class="keyword">val</span> <span id="59347"><span id="59346"><a title="sbt.ControlEvent.Value" id="59354">event</a></span></span>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <span class="keyword">val</span> <span id="59349"><span id="59348"><a title="String" id="59355">msg</a></span></span>: <a title="String" id="1751">String</a>) <span class="keyword">extends</span> <a href="#6658" title="sbt.LogEvent">LogEvent</a>

<span class="keyword">object</span> <a title="object sbt.ControlEvent" id="6665">ControlEvent</a> <span class="keyword">extends</span> <span id="1084"><a title="Enumeration" id="20341">Enumeration</a></span>
{
	<span class="keyword">val</span> <span id="53967"><a title="sbt.ControlEvent.Value" id="53966">Start</a></span>, <span id="53969"><a title="sbt.ControlEvent.Value" id="53968">Header</a></span>, <span id="53971"><a title="sbt.ControlEvent.Value" id="53970">Finish</a></span> = <a title="=&gt; sbt.ControlEvent.Value" id="20379">Value</a>
}

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Logger extends java.lang.Object with NotNull with ScalaObject" id="6667">Logger</a> <span class="keyword">extends</span> <a title="NotNull" id="187">NotNull</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="8345">getLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>
	<span class="keyword">def</span> <a title="(sbt.Level.Value)Unit" id="8346">setLevel</a>(<a title="sbt.Level.Value" id="47061">newLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>)
	<span class="keyword">def</span> <a title="(Boolean)Unit" id="8347">enableTrace</a>(<a title="Boolean" id="47063">flag</a>: <a title="Boolean" id="2060">Boolean</a>)
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="8348">traceEnabled</a>: <a title="Boolean" id="2060">Boolean</a>
	
	<span class="keyword">def</span> <a title="(sbt.Level.Value)Boolean" id="8349">atLevel</a>(<a title="sbt.Level.Value" id="33362">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) = <a href="#33362" title="sbt.Level.Value">level</a>.<a title="=&gt; Int" id="20347">id</a> <a title="(Int)Boolean" id="3036">&gt;=</a> <a href="#8345" title="=&gt; sbt.Level.Value">getLevel</a>.<a title="=&gt; Int" id="20347">id</a>
	<span class="keyword">def</span> <a title="(=&gt; Throwable)Unit" id="8350">trace</a>(<a title="=&gt; Throwable" id="28055">t</a>: =&gt; Throwable): <a title="Unit" id="2059">Unit</a>
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; String)Unit" id="8351">debug</a>(<a title="=&gt; String" id="10240">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> = <a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20852" title="=&gt; sbt.Level.Value">Debug</a>, <a href="#10240" title="=&gt; String">message</a>)
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; String)Unit" id="8352">info</a>(<a title="=&gt; String" id="8373">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> = <a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>, <a href="#8373" title="=&gt; String">message</a>)
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; String)Unit" id="8353">warn</a>(<a title="=&gt; String" id="20584">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> = <a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20856" title="=&gt; sbt.Level.Value">Warn</a>, <a href="#20584" title="=&gt; String">message</a>)
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(=&gt; String)Unit" id="8354">error</a>(<a title="=&gt; String" id="20586">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> = <a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20858" title="=&gt; sbt.Level.Value">Error</a>, <a href="#20586" title="=&gt; String">message</a>)
	<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="8355">success</a>(<a title="=&gt; String" id="52767">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a>
	<span class="keyword">def</span> <a title="(sbt.Level.Value,=&gt; String)Unit" id="8356">log</a>(<a title="sbt.Level.Value" id="20906">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="=&gt; String" id="20907">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a>
	<span class="keyword">def</span> <a title="(sbt.ControlEvent.Value,=&gt; String)Unit" id="8357">control</a>(<a title="sbt.ControlEvent.Value" id="53963">event</a>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <a title="=&gt; String" id="53964">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a>
	
	<span class="comment">/** Use this method to ensure calls. */</span>
	<span class="keyword">def</span> <a title="(Seq[sbt.LogEvent])Unit" id="8358">logAll</a>(<a title="Seq[sbt.LogEvent]" id="59384">events</a>: <a title="Seq[sbt.LogEvent]" id="715">Seq</a>[LogEvent]): <a title="Unit" id="2059">Unit</a>
	<span class="comment">/** Defined in terms of other methods in Logger and should not be called from them. */</span>
	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(sbt.LogEvent)Unit" id="8359">log</a>(<a title="sbt.LogEvent" id="20901">event</a>: <a href="#6658" title="sbt.LogEvent">LogEvent</a>)
	{
		<a href="#20901" title="sbt.LogEvent">event</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a title="sbt.Success" id="59385">s</a>: <a href="#6659" title="sbt.Success">Success</a> =&gt; <a href="#8355" title="(=&gt; String)Unit">success</a>(<a href="#59385" title="sbt.Success">s</a>.<a href="#59305" title="=&gt; String">msg</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.Log" id="59386">l</a>: <a href="#6660" title="sbt.Log">Log</a> =&gt; <a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#59386" title="sbt.Log">l</a>.<a href="#59313" title="=&gt; sbt.Level.Value">level</a>, <a href="#59386" title="sbt.Log">l</a>.<a href="#59315" title="=&gt; String">msg</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.Trace" id="59392">t</a>: <a href="#6661" title="sbt.Trace">Trace</a> =&gt; <a href="#8350" title="(=&gt; Throwable)Unit">trace</a>(<a href="#59392" title="sbt.Trace">t</a>.<a href="#59324" title="=&gt; Throwable">exception</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.SetLevel" id="59393">setL</a>: <a href="#6662" title="sbt.SetLevel">SetLevel</a> =&gt; <a href="#8346" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#59393" title="sbt.SetLevel">setL</a>.<a href="#59331" title="=&gt; sbt.Level.Value">newLevel</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.SetTrace" id="59394">setT</a>: <a href="#6663" title="sbt.SetTrace">SetTrace</a> =&gt; <a href="#8347" title="(Boolean)Unit">enableTrace</a>(<a href="#59394" title="sbt.SetTrace">setT</a>.<a href="#59338" title="=&gt; Boolean">enabled</a>)
			<span title="Unit" class="keyword">case</span> <a title="sbt.ControlEvent" id="59395">c</a>: <a href="#6664" title="sbt.ControlEvent">ControlEvent</a> =&gt; <a href="#8357" title="(sbt.ControlEvent.Value,=&gt; String)Unit">control</a>(<a href="#59395" title="sbt.ControlEvent">c</a>.<a href="#59346" title="=&gt; sbt.ControlEvent.Value">event</a>, <a href="#59395" title="sbt.ControlEvent">c</a>.<a href="#59348" title="=&gt; String">msg</a>)
		}
	}
}

<span class="comment">/** Implements the level-setting methods of Logger.*/</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class BasicLogger extends sbt.Logger with ScalaObject" id="6668">BasicLogger</a> <span class="keyword">extends</span> <a href="#6667" title="sbt.Logger">Logger</a>
{
	<span class="keyword">private</span> <span class="keyword">var</span> <span id="46127"><span id="46125"><span id="46126"><a title="Boolean" id="59397">traceEnabledVar</a></span></span></span> = <span title="Boolean(false)" class="keyword">false</span>
	<span class="keyword">private</span> <span class="keyword">var</span> <span id="46130"><span id="46128"><span id="46129"><a title="sbt.Level.Value" id="59398">level</a></span></span></span>: Level.<a title="sbt.Level.Value" id="20345">Value</a> = <a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>
	<span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="46131">getLevel</a> = <a href="#46128" title="=&gt; sbt.Level.Value">level</a>
	<span class="keyword">def</span> <a title="(sbt.Level.Value)Unit" id="46132">setLevel</a>(<a title="sbt.Level.Value" id="47060">newLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) { <a href="#46129" title="(sbt.Level.Value)Unit">level</a> = <a href="#47060" title="sbt.Level.Value">newLevel</a> }
	<span class="keyword">def</span> <a title="(Boolean)Unit" id="46133">enableTrace</a>(<a title="Boolean" id="47062">flag</a>: <a title="Boolean" id="2060">Boolean</a>) { <a href="#46126" title="(Boolean)Unit">traceEnabledVar</a> = <a href="#47062" title="Boolean">flag</a> }
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="46134">traceEnabled</a> = <a href="#46125" title="=&gt; Boolean">traceEnabledVar</a>
}

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class SynchronizedLogger extends sbt.Logger with ScalaObject" id="6669">SynchronizedLogger</a>(<span id="59404"><a title="sbt.Logger" id="59417">delegate</a></span>: <a href="#6667" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> <a href="#6667" title="sbt.Logger">Logger</a>
{
	<span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="59406">getLevel</a> = { <a href="#6669" title="(sbt.Level.Value)sbt.Level.Value" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8345" title="=&gt; sbt.Level.Value">getLevel</a> } }
	<span class="keyword">def</span> <a title="(sbt.Level.Value)Unit" id="59407">setLevel</a>(<a title="sbt.Level.Value" id="59421">newLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8346" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#59421" title="sbt.Level.Value">newLevel</a>) } }
	<span class="keyword">def</span> <a title="(Boolean)Unit" id="59408">enableTrace</a>(<a title="Boolean" id="59423">enabled</a>: <a title="Boolean" id="2060">Boolean</a>) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8347" title="(Boolean)Unit">enableTrace</a>(<a href="#59423" title="Boolean">enabled</a>) } }
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="59409">traceEnabled</a>: <a title="Boolean" id="2060">Boolean</a> = { <a href="#6669" title="(Boolean)Boolean" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8348" title="=&gt; Boolean">traceEnabled</a> } }
	
	<span class="keyword">def</span> <a title="(=&gt; Throwable)Unit" id="59410">trace</a>(<a title="=&gt; Throwable" id="59427">t</a>: =&gt; Throwable) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8350" title="(=&gt; Throwable)Unit">trace</a>(<a href="#59427" title="=&gt; Throwable">t</a>) } }
	<span class="keyword">def</span> <a title="(sbt.Level.Value,=&gt; String)Unit" id="59411">log</a>(<a title="sbt.Level.Value" id="59429">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="=&gt; String" id="59430">message</a>: =&gt; String) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#59429" title="sbt.Level.Value">level</a>, <a href="#59430" title="=&gt; String">message</a>) } }
	<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="59412">success</a>(<a title="=&gt; String" id="59437">message</a>: =&gt; String) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8355" title="(=&gt; String)Unit">success</a>(<a href="#59437" title="=&gt; String">message</a>) } }
	<span class="keyword">def</span> <a title="(sbt.ControlEvent.Value,=&gt; String)Unit" id="59413">control</a>(<a title="sbt.ControlEvent.Value" id="59439">event</a>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <a title="=&gt; String" id="59440">message</a>: =&gt; String) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8357" title="(sbt.ControlEvent.Value,=&gt; String)Unit">control</a>(<a href="#59439" title="sbt.ControlEvent.Value">event</a>, <a href="#59440" title="=&gt; String">message</a>) } }
	<span class="keyword">def</span> <a title="(Seq[sbt.LogEvent])Unit" id="59414">logAll</a>(<a title="Seq[sbt.LogEvent]" id="59442">events</a>: <a title="Seq[sbt.LogEvent]" id="715">Seq</a>[LogEvent]) { <a href="#6669" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59404" title="sbt.Logger">delegate</a>.<a href="#8358" title="(Seq[sbt.LogEvent])Unit">logAll</a>(<a href="#59442" title="Seq[sbt.LogEvent]">events</a>) } }
}

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class MultiLogger extends sbt.BasicLogger with ScalaObject" id="6670">MultiLogger</a>(<span id="59445"><a title="List[sbt.Logger]" id="59457">delegates</a></span>: <a title="List[sbt.Logger]" id="481">List</a>[Logger]) <span class="keyword">extends</span> <a href="#6668" title="sbt.BasicLogger">BasicLogger</a>
{
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(sbt.Level.Value)Unit" id="59447">setLevel</a>(<a title="sbt.Level.Value" id="59458">newLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>)
	{
		<span class="keyword">super</span>.<a href="#46132" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#59458" title="sbt.Level.Value">newLevel</a>)
		<a href="#59454" title="(sbt.LogEvent)Unit">dispatch</a>(<span title="sbt.SetLevel" class="keyword">new</span> <a href="#6662" title="sbt.SetLevel">SetLevel</a>(<a href="#59458" title="sbt.Level.Value">newLevel</a>))
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(Boolean)Unit" id="59448">enableTrace</a>(<a title="Boolean" id="59461">enabled</a>: <a title="Boolean" id="2060">Boolean</a>)
	{
		<span class="keyword">super</span>.<a href="#46133" title="(Boolean)Unit">enableTrace</a>(<a href="#59461" title="Boolean">enabled</a>)
		<a href="#59454" title="(sbt.LogEvent)Unit">dispatch</a>(<span title="sbt.SetTrace" class="keyword">new</span> <a href="#6663" title="sbt.SetTrace">SetTrace</a>(<a href="#59461" title="Boolean">enabled</a>))
	}
	<span class="keyword">def</span> <a title="(=&gt; Throwable)Unit" id="59449">trace</a>(<a title="=&gt; Throwable" id="59463">t</a>: =&gt; Throwable) { <a href="#59454" title="(sbt.LogEvent)Unit">dispatch</a>(<span title="sbt.Trace" class="keyword">new</span> <a href="#6661" title="sbt.Trace">Trace</a>(<a href="#59463" title="=&gt; Throwable">t</a>)) }
	<span class="keyword">def</span> <a title="(sbt.Level.Value,=&gt; String)Unit" id="59450">log</a>(<a title="sbt.Level.Value" id="59464">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="=&gt; String" id="59465">message</a>: =&gt; String) { <a href="#59454" title="(sbt.LogEvent)Unit">dispatch</a>(<span title="sbt.Log" class="keyword">new</span> <a href="#6660" title="sbt.Log">Log</a>(<a href="#59464" title="sbt.Level.Value">level</a>, <a href="#59465" title="=&gt; String">message</a>)) }
	<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="59451">success</a>(<a title="=&gt; String" id="59466">message</a>: =&gt; String) { <a href="#59454" title="(sbt.LogEvent)Unit">dispatch</a>(<span title="sbt.Success" class="keyword">new</span> <a href="#6659" title="sbt.Success">Success</a>(<a href="#59466" title="=&gt; String">message</a>)) }
	<span class="keyword">def</span> <a title="(Seq[sbt.LogEvent])Unit" id="59452">logAll</a>(<a title="Seq[sbt.LogEvent]" id="59467">events</a>: <a title="Seq[sbt.LogEvent]" id="715">Seq</a>[LogEvent]) { <a href="#59445" title="List[sbt.Logger]">delegates</a>.<a title="((sbt.Logger) =&gt; Unit)Unit" id="6839">foreach</a>(<a href="#59469" title="sbt.Logger">_</a>.<a href="#8358" title="(Seq[sbt.LogEvent])Unit">logAll</a>(<a href="#59467" title="Seq[sbt.LogEvent]">events</a>)) }
	<span class="keyword">def</span> <a title="(sbt.ControlEvent.Value,=&gt; String)Unit" id="59453">control</a>(<a title="sbt.ControlEvent.Value" id="59470">event</a>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <a title="=&gt; String" id="59471">message</a>: =&gt; String) { <a href="#59445" title="List[sbt.Logger]">delegates</a>.<a title="((sbt.Logger) =&gt; Unit)Unit" id="6839">foreach</a>(<a href="#59473" title="sbt.Logger">_</a>.<a href="#8357" title="(sbt.ControlEvent.Value,=&gt; String)Unit">control</a>(<a href="#59470" title="sbt.ControlEvent.Value">event</a>, <a href="#59471" title="=&gt; String">message</a>)) }
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.LogEvent)Unit" id="59454">dispatch</a>(<a title="sbt.LogEvent" id="59460">event</a>: <a href="#6658" title="sbt.LogEvent">LogEvent</a>) { <a href="#59445" title="List[sbt.Logger]">delegates</a>.<a title="((sbt.Logger) =&gt; Unit)Unit" id="6839">foreach</a>(<a href="#59475" title="sbt.Logger">_</a>.<a href="#8359" title="(sbt.LogEvent)Unit">log</a>(<a href="#59460" title="sbt.LogEvent">event</a>)) }
}

<span class="comment">/** A logger that can buffer the logging done on it by currently executing actor and
* then can flush the buffer to the delegate logger provided in the constructor.  Use
* 'startRecording' to start buffering and then 'play' from to flush the buffer for the
* current actor to the backing logger.  The logging level set at the
* time a message is originally logged is used, not the level at the time 'play' is
* called.
*
* This class assumes that it is the only client of the delegate logger.
*
* This logger is thread-safe.
* */</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class BufferedLogger extends sbt.Logger with ScalaObject" id="6671">BufferedLogger</a>(<span id="46095"><a title="sbt.Logger" id="46123">delegate</a></span>: <a href="#6667" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> <a href="#6667" title="sbt.Logger">Logger</a>
{
	<span class="keyword">import</span> scala.actors.Actor
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">val</span> <a title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]" id="46098">buffers</a> = <a title="()scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]" id="59484" class="keyword">new</a> <a title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]" id="7711">WeakHashMap</a>[Actor, Buffer[LogEvent]]
	<span class="comment">/* The recording depth part is to enable a weak nesting of recording calls.  When recording is
	*  nested (recordingDepth &gt;= 2), calls to play/playAll add the buffers for actors to the serial buffer
	*  (no actor) and calls to clear/clearAll clear actor buffers only. */</span>
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="=&gt; Boolean" id="46099">recording</a> = <a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(0)" class="int">0</span>
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">var</span> <a title="Int" id="46100">recordingDepth</a> = <span title="Int(0)" class="int">0</span>
	
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="(scala.actors.Actor)scala.collection.mutable.Buffer[sbt.LogEvent]" id="46101">bufferForActor</a>(<a title="scala.actors.Actor" id="59572">a</a>: <a title="scala.actors.Actor" id="46499">Actor</a>) = <a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>.<a title="(scala.actors.Actor,=&gt; scala.collection.mutable.Buffer[sbt.LogEvent])scala.collection.mutable.Buffer[sbt.LogEvent]" id="20473">getOrElseUpdate</a>(<a href="#59572" title="scala.actors.Actor">a</a>, <span title="scala.collection.mutable.ListBuffer[sbt.LogEvent]" class="keyword">new</span> <a title="scala.collection.mutable.ListBuffer[sbt.LogEvent]" id="7939">ListBuffer</a>[LogEvent])
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]" id="46102">buffer</a> = <a href="#46101" title="(scala.actors.Actor)scala.collection.mutable.Buffer[sbt.LogEvent]">bufferForActor</a>(<a title="object scala.actors.Actor" id="46500">Actor</a>.<a title="=&gt; scala.actors.Actor" id="54261">self</a>)
	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]" id="46103">serialBuffer</a> = <a href="#46101" title="(scala.actors.Actor)scala.collection.mutable.Buffer[sbt.LogEvent]">bufferForActor</a>(<span title="Null(null)" class="keyword">null</span>)

	<span class="keyword">private</span>[<span class="keyword">this</span>] <span class="keyword">def</span> <a title="=&gt; Boolean" id="46104">inActor</a> = <a title="object scala.actors.Actor" id="46500">Actor</a>.<a title="=&gt; scala.actors.Actor" id="54261">self</a> <a title="(AnyRef)Boolean" id="5674">!=</a> <span title="Null(null)" class="keyword">null</span>
	
	<span class="comment">/** Enables buffering. */</span>
	<span class="keyword">def</span> <a title="()Unit" id="46105">startRecording</a>() { <a href="#6671" title="(Unit)Unit" id="5677">synchronized</a> { <a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Int" id="3037">+=</a> <span title="Int(1)" class="int">1</span> } }
	<span class="comment">/** Flushes the buffer to the delegate logger for the current actor.  This method calls logAll on the delegate
	* so that the messages are written consecutively. The buffer is cleared in the process. */</span>
	<span class="keyword">def</span> <a title="()Unit" id="46106">play</a>(): <a title="Unit" id="2059">Unit</a> =
 		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3031">==</a> <span title="Int(1)" class="int">1</span>)
				<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8358" title="(Seq[sbt.LogEvent])Unit">logAll</a>(<a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a>.<a title="=&gt; Seq[sbt.LogEvent]" id="21721">readOnly</a>)
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(1)" class="int">1</span> <a title="(Boolean)Boolean" id="2641">&amp;&amp;</a> <a href="#46104" title="=&gt; Boolean">inActor</a>)
				<a href="#46103" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">serialBuffer</a> <a title="(Iterable[sbt.LogEvent])Unit" id="21719">++=</a> <a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a>
		}
	<span class="keyword">def</span> <a title="()Unit" id="46107">playAll</a>(): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3031">==</a> <span title="Int(1)" class="int">1</span>)
			{
				<span class="keyword">for</span>(<span id="20249"><a title="((scala.collection.mutable.Buffer[sbt.LogEvent]) =&gt; Unit)Unit" id="59615">buffer</a></span> &lt;- <a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>.<a title="=&gt; Iterator[scala.collection.mutable.Buffer[sbt.LogEvent]]" id="20509">values</a>)
					<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8358" title="(Seq[sbt.LogEvent])Unit">logAll</a>(<a href="#59615" title="scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a>.<a title="=&gt; Seq[sbt.LogEvent]" id="21721">readOnly</a>)
			}
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(1)" class="int">1</span>)
			{
				<span class="keyword">for</span>(<span id="7256"><a href="#59618" title="(((scala.actors.Actor, scala.collection.mutable.Buffer[sbt.LogEvent])) =&gt; Unit)Unit" id="7250">(</a></span><span id="59619"><span id="59623"><a title="scala.actors.Actor" id="59628">key</a></span></span>, <span id="59620"><span id="59624"><a title="scala.collection.mutable.Buffer[sbt.LogEvent]" id="59629">buffer</a></span></span>) &lt;- <a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a> <span class="keyword">if</span> <a href="#59623" title="scala.actors.Actor">key</a> <a title="(AnyRef)Boolean" id="5674">!=</a> <span title="Null(null)" class="keyword">null</span>)
					<a href="#46103" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">serialBuffer</a> <a title="(Iterable[sbt.LogEvent])Unit" id="21719">++=</a> <a href="#59629" title="scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a>
			}
		}
	<span class="comment">/** Clears buffered events for the current actor.  It does not disable buffering. */</span>
	<span class="keyword">def</span> <a title="()Unit" id="46108">clear</a>(): <a title="Unit" id="2059">Unit</a> = <a href="#6671" title="(Unit)Unit" id="5677">synchronized</a> { <span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3031">==</a> <span title="Int(1)" class="int">1</span> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#46104" title="=&gt; Boolean">inActor</a>) <a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>.<a title="(scala.actors.Actor)Option[scala.collection.mutable.Buffer[sbt.LogEvent]]" id="46398">removeKey</a>(<a title="object scala.actors.Actor" id="46500">Actor</a>.<a title="=&gt; scala.actors.Actor" id="54261">self</a>) }
	<span class="comment">/** Clears buffered events for all actors and disables buffering. */</span>
	<span class="keyword">def</span> <a title="()Unit" id="46109">stop</a>(): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<a href="#46110" title="()Unit">clearAll</a>()
			<span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(0)" class="int">0</span>)
				<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Int" id="3038">-=</a> <span title="Int(1)" class="int">1</span>
		}
	<span class="comment">/** Clears buffered events for all actors. */</span>
	<span class="keyword">def</span> <a title="()Unit" id="46110">clearAll</a>(): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46100" title="Int">recordingDepth</a> <a title="(Int)Boolean" id="3034">&lt;=</a> <span title="Int(1)" class="int">1</span>)
				<a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>.<a title="()Unit" id="46394">clear</a>()
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="scala.collection.mutable.Buffer[sbt.LogEvent]" id="59657">serial</a> = <a href="#46103" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">serialBuffer</a>
				<a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>.<a title="()Unit" id="46394">clear</a>()
				<a href="#46098" title="scala.collection.jcl.WeakHashMap[scala.actors.Actor,scala.collection.mutable.Buffer[sbt.LogEvent]]">buffers</a>(<span title="Null(null)" class="keyword">null</span>) = <a href="#59657" title="scala.collection.mutable.Buffer[sbt.LogEvent]">serial</a>
			}
		}
	<span class="keyword">def</span> <a title="[T](=&gt; T)T" id="46111">runAndFlush</a>[<a title="&gt;: Nothing &lt;: Any" id="46113">T</a>](<a title="=&gt; T" id="59658">f</a>: =&gt; T): <a href="#46113" title="T">T</a> =
	{
		<span class="keyword">try</span> { <a href="#59658" title="=&gt; T">f</a> }
		<span class="keyword">finally</span> { <a href="#46106" title="()Unit">play</a>();  <a href="#46108" title="()Unit">clear</a>() }
	}
	
	<span class="keyword">def</span> <a title="(sbt.Level.Value)Unit" id="46114">setLevel</a>(<a title="sbt.Level.Value" id="59659">newLevel</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a> {
			<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>) <a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.SetLevel" class="keyword">new</span> <a href="#6662" title="sbt.SetLevel">SetLevel</a>(<a href="#59659" title="sbt.Level.Value">newLevel</a>)
			<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8346" title="(sbt.Level.Value)Unit">setLevel</a>(<a href="#59659" title="sbt.Level.Value">newLevel</a>)
		}
	<span class="keyword">def</span> <a title="=&gt; sbt.Level.Value" id="46115">getLevel</a> = <a href="#6671" title="(sbt.Level.Value)sbt.Level.Value" id="5677">synchronized</a> { <a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8345" title="=&gt; sbt.Level.Value">getLevel</a> }
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="46116">traceEnabled</a> = <a href="#6671" title="(Boolean)Boolean" id="5677">synchronized</a> { <a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8348" title="=&gt; Boolean">traceEnabled</a> }
	<span class="keyword">def</span> <a title="(Boolean)Unit" id="46117">enableTrace</a>(<a title="Boolean" id="59667">flag</a>: <a title="Boolean" id="2060">Boolean</a>): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>) <a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.SetTrace" class="keyword">new</span> <a href="#6663" title="sbt.SetTrace">SetTrace</a>(<a href="#59667" title="Boolean">flag</a>)
			<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8347" title="(Boolean)Unit">enableTrace</a>(<a href="#59667" title="Boolean">flag</a>)
		}
	
	<span class="keyword">def</span> <a title="(=&gt; Throwable)Unit" id="46118">trace</a>(<a title="=&gt; Throwable" id="59669">t</a>: =&gt; Throwable): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46116" title="=&gt; Boolean">traceEnabled</a>)
			{
				<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>) <a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.Trace" class="keyword">new</span> <a href="#6661" title="sbt.Trace">Trace</a>(<a href="#59669" title="=&gt; Throwable">t</a>)
				<span class="keyword">else</span> <a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8350" title="(=&gt; Throwable)Unit">trace</a>(<a href="#59669" title="=&gt; Throwable">t</a>)
			}
		}
	<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="46119">success</a>(<a title="=&gt; String" id="59671">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>))
			{
				<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>)
					<a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.Success" class="keyword">new</span> <a href="#6659" title="sbt.Success">Success</a>(<a href="#59671" title="=&gt; String">message</a>)
				<span class="keyword">else</span>
					<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8355" title="(=&gt; String)Unit">success</a>(<a href="#59671" title="=&gt; String">message</a>)
			}
		}
	<span class="keyword">def</span> <a title="(sbt.Level.Value,=&gt; String)Unit" id="46120">log</a>(<a title="sbt.Level.Value" id="59673">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="=&gt; String" id="59674">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="#59673" title="sbt.Level.Value">level</a>))
			{
				<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>)
					<a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.Log" class="keyword">new</span> <a href="#6660" title="sbt.Log">Log</a>(<a href="#59673" title="sbt.Level.Value">level</a>, <a href="#59674" title="=&gt; String">message</a>)
				<span class="keyword">else</span>
					<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#59673" title="sbt.Level.Value">level</a>, <a href="#59674" title="=&gt; String">message</a>)
			}
		}
	<span class="keyword">def</span> <a title="(Seq[sbt.LogEvent])Unit" id="46121">logAll</a>(<a title="Seq[sbt.LogEvent]" id="59681">events</a>: <a title="Seq[sbt.LogEvent]" id="715">Seq</a>[LogEvent]): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>)
				<a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(Iterable[sbt.LogEvent])Unit" id="21719">++=</a> <a href="#59681" title="Seq[sbt.LogEvent]">events</a>
			<span class="keyword">else</span>
				<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8358" title="(Seq[sbt.LogEvent])Unit">logAll</a>(<a href="#59681" title="Seq[sbt.LogEvent]">events</a>)
		}
	<span class="keyword">def</span> <a title="(sbt.ControlEvent.Value,=&gt; String)Unit" id="46122">control</a>(<a title="sbt.ControlEvent.Value" id="59685">event</a>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <a title="=&gt; String" id="59686">message</a>: =&gt; String): <a title="Unit" id="2059">Unit</a> =
		<a href="#6671" title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>))
			{
				<span title="Unit" class="keyword">if</span>(<a href="#46099" title="=&gt; Boolean">recording</a>)
					<a href="#46102" title="=&gt; scala.collection.mutable.Buffer[sbt.LogEvent]">buffer</a> <a title="(sbt.LogEvent)Unit" id="21715">+=</a> <span title="sbt.ControlEvent" class="keyword">new</span> <a href="#6664" title="sbt.ControlEvent">ControlEvent</a>(<a href="#59685" title="sbt.ControlEvent.Value">event</a>, <a href="#59686" title="=&gt; String">message</a>)
				<span class="keyword">else</span>
					<a href="#46095" title="sbt.Logger">delegate</a>.<a href="#8357" title="(sbt.ControlEvent.Value,=&gt; String)Unit">control</a>(<a href="#59685" title="sbt.ControlEvent.Value">event</a>, <a href="#59686" title="=&gt; String">message</a>)
			}
		}
}

<span class="keyword">object</span> <a title="object sbt.ConsoleLogger" id="6672">ConsoleLogger</a>
{
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="52707">os</a> = <a title="object java.lang.System" id="1776">System</a>.<a title="(java.lang.String)java.lang.String" id="24457">getProperty</a>(<span title="java.lang.String(&quot;os.name&quot;)" class="string">&quot;os.name&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="52708">isWindows</a> = <a href="#52707" title="=&gt; java.lang.String">os</a>.<a title="()java.lang.String" id="5748">toLowerCase</a>.<a title="(java.lang.String)Int" id="5729">indexOf</a>(<span title="java.lang.String(&quot;windows&quot;)" class="string">&quot;windows&quot;</span>) <a title="(Int)Boolean" id="3036">&gt;=</a> <span title="Int(0)" class="int">0</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="52709">formatExplicitlyDisabled</a> = java.lang.<a title="object java.lang.Boolean" id="1917">Boolean</a>.<a title="(java.lang.String)Boolean" id="7326">getBoolean</a>(<span title="java.lang.String(&quot;sbt.log.noformat&quot;)" class="string">&quot;sbt.log.noformat&quot;</span>)
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="52711"><a title="Boolean" id="52710">formatEnabled</a></span> = <a title="=&gt; Boolean" id="2637">!</a>(<a href="#52709" title="=&gt; Boolean">formatExplicitlyDisabled</a> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#52708" title="=&gt; Boolean">isWindows</a>)
}

<span class="comment">/** A logger that logs to the console.  On non-windows systems, the level labels are
* colored. 
*
* This logger is not thread-safe.*/</span>
<span class="keyword">class</span> <a title="class ConsoleLogger extends sbt.BasicLogger with ScalaObject" id="6674">ConsoleLogger</a> <span class="keyword">extends</span> <a href="#6668" title="sbt.BasicLogger">BasicLogger</a>
{
	<span class="keyword">import</span> ConsoleLogger.formatEnabled
	<span class="keyword">def</span> <a title="(sbt.Level.Value)java.lang.String" id="46137">messageColor</a>(<a title="sbt.Level.Value" id="59701">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) = Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>
	<span class="keyword">def</span> <a title="(sbt.Level.Value)java.lang.String" id="46138">labelColor</a>(<a title="sbt.Level.Value" id="59703">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>) =
		<a href="#59703" title="sbt.Level.Value">level</a> <span title="java.lang.String" class="keyword">match</span>
		{
			<span title="java.lang.String(&quot;\033[31m&quot;)" class="keyword">case</span> <a href="#6675" title="object sbt.Level">Level</a>.<a href="#20858" title="=&gt; sbt.Level.Value">Error</a> =&gt; Console.<span title="java.lang.String(&quot;\033[31m&quot;)">RED</span>
			<span title="java.lang.String(&quot;\033[33m&quot;)" class="keyword">case</span> <a href="#6675" title="object sbt.Level">Level</a>.<a href="#20856" title="=&gt; sbt.Level.Value">Warn</a> =&gt; Console.<span title="java.lang.String(&quot;\033[33m&quot;)">YELLOW</span>
			<span title="java.lang.String(&quot;\033[0m&quot;)" class="keyword">case</span> _ =&gt; Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>
		}
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="46139">successLabelColor</a> = Console.<span title="java.lang.String(&quot;\033[32m&quot;)">GREEN</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="46140">successMessageColor</a> = Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="(=&gt; String)Unit" id="46141">success</a>(<a title="=&gt; String" id="59709">message</a>: =&gt; String)
	{
		<span title="Unit" class="keyword">if</span>(<a href="#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>))
			<a href="#46145" title="(String,String,String,String)Unit">log</a>(<a href="#46139" title="=&gt; java.lang.String">successLabelColor</a>, <a href="#6675" title="object sbt.Level">Level</a>.<a href="#20860" title="=&gt; java.lang.String">SuccessLabel</a>, <a href="#46140" title="=&gt; java.lang.String">successMessageColor</a>, <a href="#59709" title="=&gt; String">message</a>)
	}
	<span class="keyword">def</span> <a title="(=&gt; Throwable)Unit" id="46142">trace</a>(<a title="=&gt; Throwable" id="52705">t</a>: =&gt; Throwable): <a title="Unit" id="2059">Unit</a> =
		<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span title="Unit" class="keyword">if</span>(<a href="#46134" title="=&gt; Boolean">traceEnabled</a>)
				<a href="#52705" title="=&gt; Throwable">t</a>.<a title="()Unit" id="9278">printStackTrace</a>
		}
	<span class="keyword">def</span> <a title="(sbt.Level.Value,=&gt; String)Unit" id="46143">log</a>(<a title="sbt.Level.Value" id="59710">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="=&gt; String" id="59711">message</a>: =&gt; String)
	{
		<span title="Unit" class="keyword">if</span>(<a href="#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="#59710" title="sbt.Level.Value">level</a>))
			<a href="#46145" title="(String,String,String,String)Unit">log</a>(<a href="#46138" title="(sbt.Level.Value)java.lang.String">labelColor</a>(<a href="#59710" title="sbt.Level.Value">level</a>), <a href="#59710" title="sbt.Level.Value">level</a>.<a title="()java.lang.String" id="5666">toString</a>, <a href="#46137" title="(sbt.Level.Value)java.lang.String">messageColor</a>(<a href="#59710" title="sbt.Level.Value">level</a>), <a href="#59711" title="=&gt; String">message</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String)Unit" id="46144">setColor</a>(<a title="String" id="59728">color</a>: <a title="String" id="1751">String</a>)
	{
		<span title="Unit" class="keyword">if</span>(<a href="#52710" title="=&gt; Boolean">formatEnabled</a>)
			<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(Unit)Unit" id="5677">synchronized</a> { <a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(java.lang.String)Unit" id="34573">print</a>(<a href="#59728" title="String">color</a>) }
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(String,String,String,String)Unit" id="46145">log</a>(<a title="String" id="59712">labelColor</a>: <a title="String" id="1751">String</a>, <a title="String" id="59713">label</a>: <a title="String" id="1751">String</a>, <a title="String" id="59714">messageColor</a>: <a title="String" id="1751">String</a>, <a title="String" id="59715">message</a>: <a title="String" id="1751">String</a>): <a title="Unit" id="2059">Unit</a> =
		<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(Unit)Unit" id="5677">synchronized</a>
		{
			<span class="keyword">for</span>(<span id="7256"><a title="((java.lang.String) =&gt; Unit)Unit" id="59734">line</a></span> &lt;- <a href="#59715" title="String">message</a>.<a title="(java.lang.String)Array[java.lang.String]" id="5746">split</a>(<span title="java.lang.String(&quot;\n&quot;)" class="string">&quot;&quot;&quot;\n&quot;&quot;&quot;</span>))
			{
				<a href="#46144" title="(String)Unit">setColor</a>(Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>)
				<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(Char)Unit" id="34567">print</a>(<span title="Char('[')" class="char">'['</span>)
				<a href="#46144" title="(String)Unit">setColor</a>(<a href="#59712" title="String">labelColor</a>)
				<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(java.lang.String)Unit" id="34573">print</a>(<a href="#59713" title="String">label</a>)
				<a href="#46144" title="(String)Unit">setColor</a>(Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>)
				<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(java.lang.String)Unit" id="34573">print</a>(<span title="java.lang.String(&quot;] &quot;)" class="string">&quot;] &quot;</span>)
				<a href="#46144" title="(String)Unit">setColor</a>(<a href="#59714" title="String">messageColor</a>)
				<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(java.lang.String)Unit" id="34573">print</a>(<a href="#59734" title="java.lang.String">line</a>)
				<a href="#46144" title="(String)Unit">setColor</a>(Console.<span title="java.lang.String(&quot;\033[0m&quot;)">RESET</span>)
				<a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="()Unit" id="34575">println</a>()
			}
		}
	
	<span class="keyword">def</span> <a title="(Seq[sbt.LogEvent])Unit" id="46146">logAll</a>(<a title="Seq[sbt.LogEvent]" id="59765">events</a>: <a title="Seq[sbt.LogEvent]" id="715">Seq</a>[LogEvent]) = <a title="object java.lang.System" id="1776">System</a>.<a title="java.io.PrintStream" id="24443">out</a>.<a title="(Unit)Unit" id="5677">synchronized</a> { <a href="#59765" title="Seq[sbt.LogEvent]">events</a>.<a title="((sbt.LogEvent) =&gt; Unit)Unit" id="7256">foreach</a>(<a href="#8359" title="(sbt.LogEvent)Unit">log</a>) }
	<span class="keyword">def</span> <a title="(sbt.ControlEvent.Value,=&gt; String)Unit" id="46147">control</a>(<a title="sbt.ControlEvent.Value" id="59772">event</a>: ControlEvent.<a title="sbt.ControlEvent.Value" id="20345">Value</a>, <a title="=&gt; String" id="59773">message</a>: =&gt; String)
		{ <a href="#46145" title="(String,String,String,String)Unit">log</a>(<a href="#46138" title="(sbt.Level.Value)java.lang.String">labelColor</a>(<a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>), <a href="#6675" title="object sbt.Level">Level</a>.<a href="#20854" title="=&gt; sbt.Level.Value">Info</a>.<a title="()java.lang.String" id="5666">toString</a>, Console.<span title="java.lang.String(&quot;\033[34m&quot;)">BLUE</span>, <a href="#59773" title="=&gt; String">message</a>) }
}

<span class="comment">/** An enumeration defining the levels available for logging.  A level includes all of the levels
* with id larger than its own id.  For example, Warn (id=3) includes Error (id=4).*/</span>
<span class="keyword">object</span> <a title="object sbt.Level" id="6675">Level</a> <span class="keyword">extends</span> <span id="1084"><a title="Enumeration" id="20341">Enumeration</a></span> <span class="keyword">with</span> <a title="NotNull" id="187">NotNull</a>
{
	<span class="keyword">val</span> <span id="20853"><a title="sbt.Level.Value" id="20852">Debug</a></span> = <a title="(Int,String)sbt.Level.Value" id="20382">Value</a>(<span title="Int(1)" class="int">1</span>, <span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span>)
	<span class="keyword">val</span> <span id="20855"><a title="sbt.Level.Value" id="20854">Info</a></span> = <a title="(Int,String)sbt.Level.Value" id="20382">Value</a>(<span title="Int(2)" class="int">2</span>, <span title="java.lang.String(&quot;info&quot;)" class="string">&quot;info&quot;</span>)
	<span class="keyword">val</span> <span id="20857"><a title="sbt.Level.Value" id="20856">Warn</a></span> = <a title="(Int,String)sbt.Level.Value" id="20382">Value</a>(<span title="Int(3)" class="int">3</span>, <span title="java.lang.String(&quot;warn&quot;)" class="string">&quot;warn&quot;</span>)
	<span class="keyword">val</span> <span id="20859"><a title="sbt.Level.Value" id="20858">Error</a></span> = <a title="(Int,String)sbt.Level.Value" id="20382">Value</a>(<span title="Int(4)" class="int">4</span>, <span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>)
	<span class="comment">/** Defines the label to use for success messages.  A success message is logged at the info level but
	* uses this label.  Because the label for levels is defined in this module, the success
	* label is also defined here. */</span>
	<span class="keyword">val</span> <span id="20861"><a title="java.lang.String" id="20860">SuccessLabel</a></span> = <span title="java.lang.String(&quot;success&quot;)" class="string">&quot;success&quot;</span>
	
	<span class="comment">/** Returns the level with the given name wrapped in Some, or None if no level exists for that name. */</span>
	<span class="keyword">def</span> <a title="(String)Option[sbt.Level.Value]" id="20862">apply</a>(<a title="String" id="53094">s</a>: <a title="String" id="1751">String</a>) = <a title="=&gt; Iterator[sbt.Level.Value]" id="20369">elements</a>.<a title="((sbt.Level.Value) =&gt; Boolean)Option[sbt.Level.Value]" id="20253">find</a>(<a href="#53094" title="String">s</a> <a title="(AnyRef)Boolean" id="3399">==</a> <a href="#53097" title="sbt.Level.Value">_</a>.<a title="()java.lang.String" id="5666">toString</a>)
	<span class="comment">/** Same as apply, defined for use in pattern matching. */</span>
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(String)Option[sbt.Level.Value]" id="20863">unapply</a>(<a title="String" id="53092">s</a>: <a title="String" id="1751">String</a>) = <a href="#20862" title="(String)Option[sbt.Level.Value]">apply</a>(<a href="#53092" title="String">s</a>)
}
        </pre>
    </body>
</html>