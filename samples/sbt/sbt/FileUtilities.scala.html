<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/FileUtilities.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.{Closeable, File, FileInputStream, FileOutputStream, InputStream, OutputStream}
<span class="keyword">import</span> java.io.{ByteArrayOutputStream, InputStreamReader, OutputStreamWriter}
<span class="keyword">import</span> java.io.{BufferedReader, BufferedWriter, FileReader, FileWriter, Reader, Writer}
<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> java.nio.charset.{Charset, CharsetDecoder, CharsetEncoder}
<span class="keyword">import</span> java.nio.channels.FileChannel
<span class="keyword">import</span> java.util.jar.{Attributes, JarEntry, JarFile, JarOutputStream, Manifest}
<span class="keyword">import</span> java.util.zip.{GZIPOutputStream, ZipEntry, ZipInputStream, ZipOutputStream}

<span class="comment">/** A collection of file related methods. */</span>
<span class="keyword">object</span> <a title="object sbt.FileUtilities" id="6351">FileUtilities</a>
{
	<span class="comment">/** The size of the byte or char buffer used in various methods.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="9389"><a title="Int" id="9388">BufferSize</a></span> = <span title="Int(8192)" class="int">8192</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="9391"><a title="java.lang.String" id="9390">Newline</a></span> = <a title="object java.lang.System" id="1776">System</a>.<a title="(java.lang.String)java.lang.String" id="24457">getProperty</a>(<span title="java.lang.String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span>)
	<span class="comment">/** A pattern used to split a String by path separator characters.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="9393"><a title="java.util.regex.Pattern" id="9392">PathSeparatorPattern</a></span> = java.util.regex.<a title="object java.util.regex.Pattern" id="8635">Pattern</a>.<a title="(java.lang.String)java.util.regex.Pattern" id="24054">compile</a>(<a title="object java.io.File" id="3560">File</a>.<a title="java.lang.String" id="9539">pathSeparator</a>)

	<span class="comment">/** Splits a String around path separator characters. */</span>
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(String)Array[java.lang.String]" id="9394">pathSplit</a>(<a title="String" id="23787">s</a>: <a title="String" id="1751">String</a>) = <a href="#9392" title="=&gt; java.util.regex.Pattern">PathSeparatorPattern</a>.<a title="(java.lang.CharSequence)Array[java.lang.String]" id="24062">split</a>(<a href="#23787" title="String">s</a>)
	
	<span class="comment">/** Gzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="9395">gzip</a>(<a title="sbt.Path" id="43415">in</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="43416">out</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43417">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a href="#43415" title="sbt.Path">in</a> <a title="(AnyRef)Boolean" id="5674">!=</a> <a href="#43416" title="sbt.Path">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span>)
		<a href="#9468" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">readStream</a>(<a href="#43415" title="sbt.Path">in</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#43417" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="43429">inputStream</a> =&gt;
			<a href="#9466" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#43416" title="sbt.Path">out</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#43417" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="43436">outputStream</a> =&gt;
				<span class="keyword">val</span> <a title="java.util.zip.GZIPOutputStream" id="43437">gzStream</a> = <a title="(java.io.OutputStream)java.util.zip.GZIPOutputStream" id="43440" class="keyword">new</a> <a title="java.util.zip.GZIPOutputStream" id="10091">GZIPOutputStream</a>(<a href="#43436" title="java.io.OutputStream">outputStream</a>)
				<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10190" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error gzipping '&quot;)" class="string">&quot;Error gzipping '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43415" title="sbt.Path">in</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43416" title="sbt.Path">out</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;': &quot;)" class="string">&quot;': &quot;</span>, <a href="#43417" title="sbt.Logger">log</a>)
					{ <a href="#9413" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#43429" title="java.io.InputStream">inputStream</a>, <a href="#43437" title="java.util.zip.GZIPOutputStream">gzStream</a>, <a href="#43417" title="sbt.Logger">log</a>) }
					{ <a href="#43437" title="java.util.zip.GZIPOutputStream">gzStream</a>.<a title="()Unit" id="43453">close</a>() }
			}
		}
	}
	<span class="comment">/** Gzips the InputStream 'in' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="9396">gzip</a>(<a title="java.io.InputStream" id="43459">input</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="java.io.OutputStream" id="43460">output</a>: <a title="java.io.OutputStream" id="3691">OutputStream</a>, <a title="sbt.Logger" id="43461">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span class="keyword">val</span> <a title="java.util.zip.GZIPOutputStream" id="43462">gzStream</a> = <a title="(java.io.OutputStream)java.util.zip.GZIPOutputStream" id="43440" class="keyword">new</a> <a title="java.util.zip.GZIPOutputStream" id="10091">GZIPOutputStream</a>(<a href="#43460" title="java.io.OutputStream">output</a>)
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10190" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error gzipping: &quot;)" class="string">&quot;Error gzipping: &quot;</span>, <a href="#43461" title="sbt.Logger">log</a>)
			{ <a href="#9413" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#43459" title="java.io.InputStream">input</a>, <a href="#43462" title="java.util.zip.GZIPOutputStream">gzStream</a>, <a href="#43461" title="sbt.Logger">log</a>) }
			{ <a href="#43462" title="java.util.zip.GZIPOutputStream">gzStream</a>.<a title="()Unit" id="43442">finish</a>() }
	}
	
	<span class="comment">/** Creates a jar file.
	* @param sources The files to include in the jar file.  The path used for the jar is
	* relative to the base directory for the source.  That is, the path in the jar for source
	* &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is &lt;code&gt;x / y&lt;/code&gt;.
	* @param outputJar The file to write the jar to.
	* @param manifest The manifest for the jar.
	* @param recursive If true, any directories in &lt;code&gt;sources&lt;/code&gt; are recursively processed.  Otherwise,
	* they are not
	* @param log The Logger to use. */</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]" id="9397">jar</a>(<a title="Iterable[sbt.Path]" id="43464">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="43465">outputJar</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="java.util.jar.Manifest" id="43466">manifest</a>: <a title="java.util.jar.Manifest" id="10037">Manifest</a>, <a title="Boolean" id="43467">recursive</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43468">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
		<a href="#9400" title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]">archive</a>(<a href="#43464" title="Iterable[sbt.Path]">sources</a>, <a href="#43465" title="sbt.Path">outputJar</a>, <span id="10256"><a title="(java.util.jar.Manifest)Some[java.util.jar.Manifest]" id="275">Some</a></span>(<a href="#43466" title="java.util.jar.Manifest">manifest</a>), <a href="#43467" title="Boolean">recursive</a>, <a href="#43468" title="sbt.Logger">log</a>)
	@<a title="deprecated" id="199">deprecated</a> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]" id="9398">pack</a>(<a title="Iterable[sbt.Path]" id="43649">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="43650">outputJar</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="java.util.jar.Manifest" id="43651">manifest</a>: <a title="java.util.jar.Manifest" id="10037">Manifest</a>, <a title="Boolean" id="43652">recursive</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43653">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
		<a href="#9397" title="(Iterable[sbt.Path],sbt.Path,java.util.jar.Manifest,Boolean,sbt.Logger)Option[String]">jar</a>(<a href="#43649" title="Iterable[sbt.Path]">sources</a>, <a href="#43650" title="sbt.Path">outputJar</a>, <a href="#43651" title="java.util.jar.Manifest">manifest</a>, <a href="#43652" title="Boolean">recursive</a>, <a href="#43653" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a zip file.
	* @param sources The files to include in the jar file.  The path used for the jar is
	* relative to the base directory for the source.  That is, the path in the jar for source
	* &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is &lt;code&gt;x / y&lt;/code&gt;.
	* @param outputZip The file to write the zip to.
	* @param recursive If true, any directories in &lt;code&gt;sources&lt;/code&gt; are recursively processed.  Otherwise,
	* they are not
	* @param log The Logger to use. */</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Boolean,sbt.Logger)Option[String]" id="9399">zip</a>(<a title="Iterable[sbt.Path]" id="43655">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="43656">outputZip</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="Boolean" id="43657">recursive</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43658">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
		<a href="#9400" title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]">archive</a>(<a href="#43655" title="Iterable[sbt.Path]">sources</a>, <a href="#43656" title="sbt.Path">outputZip</a>, <a title="object None" id="488">None</a>, <a href="#43657" title="Boolean">recursive</a>, <a href="#43658" title="sbt.Logger">log</a>)
	
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,Option[java.util.jar.Manifest],Boolean,sbt.Logger)Option[String]" id="9400">archive</a>(<a title="Iterable[sbt.Path]" id="43470">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="43471">outputPath</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="Option[java.util.jar.Manifest]" id="43472">manifest</a>: <a title="Option[java.util.jar.Manifest]" id="871">Option</a>[Manifest], <a title="Boolean" id="43473">recursive</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43474">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<a href="#43474" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8352" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Packaging &quot;)" class="string">&quot;Packaging &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43471" title="sbt.Path">outputPath</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
		<span class="keyword">val</span> <a title="java.io.File" id="43476">outputFile</a> = <a href="#43471" title="sbt.Path">outputPath</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
		<span title="Option[String]" class="keyword">if</span>(<a href="#43476" title="java.io.File">outputFile</a>.<a title="()Boolean" id="9560">isDirectory</a>)
			<span id="10256"><a title="(java.lang.String)Some[java.lang.String]" id="275">Some</a></span>(<span title="java.lang.String(&quot;Specified output file &quot;)" class="string">&quot;Specified output file &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43476" title="java.io.File">outputFile</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; is a directory.&quot;)" class="string">&quot; is a directory.&quot;</span>)
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="java.io.File" id="43478">outputDir</a> = <a href="#43476" title="java.io.File">outputFile</a>.<a title="()java.io.File" id="9548">getParentFile</a>
			<span class="keyword">val</span> <a title="Option[String]" id="43479">result</a> = <a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43478" title="java.io.File">outputDir</a>, <a href="#43474" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a>
				<a href="#9402" title="(java.io.File,Option[java.util.jar.Manifest],sbt.Logger)((java.util.zip.ZipOutputStream) =&gt; Option[String])Option[String]">withZipOutput</a>(<a href="#43476" title="java.io.File">outputFile</a>, <a href="#43472" title="Option[java.util.jar.Manifest]">manifest</a>, <a href="#43474" title="sbt.Logger">log</a>)
				{ <a title="java.util.zip.ZipOutputStream" id="43518">output</a> =&gt;
					<span class="keyword">val</span> <a title="(String) =&gt; java.util.zip.ZipEntry" id="43519">createEntry</a>: (String =&gt; ZipEntry) = <span title="(String) =&gt; java.util.zip.ZipEntry" class="keyword">if</span>(<a href="#43472" title="Option[java.util.jar.Manifest]">manifest</a>.<a title="=&gt; Boolean" id="10151">isDefined</a>) <span title="java.util.jar.JarEntry" class="keyword">new</span> <a title="java.util.jar.JarEntry" id="10022">JarEntry</a>(<a href="#43558" title="String">_</a>) <span class="keyword">else</span> <span title="java.util.zip.ZipEntry" class="keyword">new</span> <a title="java.util.zip.ZipEntry" id="10082">ZipEntry</a>(<a href="#43610" title="String">_</a>)
					<a href="#9401" title="(Iterable[sbt.Path],java.util.zip.ZipOutputStream,Boolean,sbt.Logger)((String) =&gt; java.util.zip.ZipEntry)object None">writeZip</a>(<a href="#43470" title="Iterable[sbt.Path]">sources</a>, <a href="#43518" title="java.util.zip.ZipOutputStream">output</a>, <a href="#43473" title="Boolean">recursive</a>, <a href="#43474" title="sbt.Logger">log</a>)(<a href="#43519" title="(String) =&gt; java.util.zip.ZipEntry">createEntry</a>)
				}
			<span title="Unit" class="keyword">if</span>(<a href="#43479" title="Option[String]">result</a>.<a title="=&gt; Boolean" id="10150">isEmpty</a>)
				<a href="#43474" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8352" title="(=&gt; String)Unit">info</a>(<span title="java.lang.String(&quot;Packaging complete.&quot;)" class="string">&quot;Packaging complete.&quot;</span>)
			<a href="#43479" title="Option[String]">result</a>
		}
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],java.util.zip.ZipOutputStream,Boolean,sbt.Logger)((String) =&gt; java.util.zip.ZipEntry)object None" id="9401">writeZip</a>(<a title="Iterable[sbt.Path]" id="43613">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="java.util.zip.ZipOutputStream" id="43614">output</a>: <a title="java.util.zip.ZipOutputStream" id="10121">ZipOutputStream</a>, <a title="Boolean" id="43615">recursive</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43616">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(String) =&gt; java.util.zip.ZipEntry" id="43617">createEntry</a>: String =&gt; ZipEntry) =
	{
		<span class="keyword">def</span> <a title="(sbt.Path)Unit" id="43619">add</a>(<a title="sbt.Path" id="43620">source</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>)
		{
			<span class="keyword">val</span> <a title="java.io.File" id="43621">sourceFile</a> = <a href="#43620" title="sbt.Path">source</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
			<span title="Unit" class="keyword">if</span>(<a href="#43621" title="java.io.File">sourceFile</a>.<a title="()Boolean" id="9560">isDirectory</a>)
			{
				<span title="Unit" class="keyword">if</span>(<a href="#43615" title="Boolean">recursive</a>)
					<a href="#9481" title="(Array[java.io.File])Array[java.io.File]">wrapNull</a>(<a href="#43621" title="java.io.File">sourceFile</a>.<a title="()Array[java.io.File]" id="9570">listFiles</a>).<a title="((java.io.File) =&gt; Unit)Unit" id="7256">foreach</a>(<a title="java.io.File" id="43626">file</a> =&gt; <a href="#43619" title="(sbt.Path)Unit">add</a>(<a href="#43620" title="sbt.Path">source</a> <a href="Path.scala.html#9523" title="(String)sbt.Path">/</a> <a href="#43626" title="java.io.File">file</a>.<a title="()java.lang.String" id="9546">getName</a>))
			}
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#43621" title="java.io.File">sourceFile</a>.<a title="()Boolean" id="9559">exists</a>)
			{
				<a href="#43616" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;\011Adding &quot;)" class="string">&quot;\tAdding &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43620" title="sbt.Path">source</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; ...&quot;)" class="string">&quot; ...&quot;</span>)
				<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="43627">nextEntry</a> = <a href="#43617" title="(String)java.util.zip.ZipEntry" id="7221">createEntry</a>(<a href="#43620" title="sbt.Path">source</a>.<a href="Path.scala.html#9531" title="=&gt; String">relativePath</a>)
				<a href="#43627" title="java.util.zip.ZipEntry">nextEntry</a>.<a title="(Long)Unit" id="43538">setTime</a>(<a href="#43621" title="java.io.File">sourceFile</a>.<a title="()Long" id="9563">lastModified</a>)
				<a href="#43614" title="java.util.zip.ZipOutputStream">output</a>.<a title="(java.util.zip.ZipEntry)Unit" id="43493">putNextEntry</a>(<a href="#43627" title="java.util.zip.ZipEntry">nextEntry</a>)
				<a href="#9414" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transferAndClose</a>(<a title="(java.io.File)java.io.FileInputStream" id="43632" class="keyword">new</a> <a title="java.io.FileInputStream" id="3700">FileInputStream</a>(<a href="#43621" title="java.io.File">sourceFile</a>), <a href="#43614" title="java.util.zip.ZipOutputStream">output</a>, <a href="#43616" title="sbt.Logger">log</a>)
			}
			<span class="keyword">else</span>
				<a href="#43616" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8353" title="(=&gt; String)Unit">warn</a>(<span title="java.lang.String(&quot;\011Source &quot;)" class="string">&quot;\tSource &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43620" title="sbt.Path">source</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; does not exist.&quot;)" class="string">&quot; does not exist.&quot;</span>)
		}
		<a href="#43613" title="Iterable[sbt.Path]">sources</a>.<a title="((sbt.Path) =&gt; Unit)Unit" id="7256">foreach</a>(<a href="#43619" title="(sbt.Path)Unit">add</a>)
		<a href="#43614" title="java.util.zip.ZipOutputStream">output</a>.<a title="()Unit" id="43494">closeEntry</a>()
		<a title="object None" id="488">None</a>
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Option[java.util.jar.Manifest],sbt.Logger)((java.util.zip.ZipOutputStream) =&gt; Option[String])Option[String]" id="9402">withZipOutput</a>(<a title="java.io.File" id="43483">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Option[java.util.jar.Manifest]" id="43484">manifest</a>: <a title="Option[java.util.jar.Manifest]" id="871">Option</a>[Manifest], <a title="sbt.Logger" id="43485">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.util.zip.ZipOutputStream) =&gt; Option[String]" id="43486">f</a>: ZipOutputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<a href="#9466" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#43483" title="java.io.File">file</a>: <a title="java.io.File" id="3559">File</a>, <a href="#43485" title="sbt.Logger">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)
		{
			<a title="java.io.OutputStream" id="43662">fileOut</a> =&gt;
			{
				<span class="keyword">val</span> <span id="9252"><a href="#43740" title="(java.util.zip.ZipOutputStream, java.lang.String)" id="1283">(</a></span><span id="43740"><span id="43664"><a href="#43663" title="java.util.zip.ZipOutputStream" id="9240">zipOut</a></span></span>, <span id="43741"><span id="43665"><a href="#43663" title="java.lang.String" id="9242">ext</a></span></span>) =
					<a href="#43484" title="Option[java.util.jar.Manifest]">manifest</a> <span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">match</span>
					{
						<span title="(java.util.jar.JarOutputStream, java.lang.String)" class="keyword">case</span> <a id="1">Some</a>(<a title="java.util.jar.Manifest" id="43666">mf</a>) =&gt;
						{
							<span class="keyword">import</span> Attributes.Name.MANIFEST_VERSION
							<span class="keyword">val</span> <a title="java.util.jar.Attributes" id="43668">main</a> = <a href="#43666" title="java.util.jar.Manifest">mf</a>.<a title="()java.util.jar.Attributes" id="43505">getMainAttributes</a>
							<span title="Unit" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#43668" title="java.util.jar.Attributes">main</a>.<a title="(Any)Boolean" id="43685">containsKey</a>(<span id="43706"><span id="43670"><a title="java.util.jar.Attributes.Name" id="10059">MANIFEST_VERSION</a></span></span>))
								<a href="#43668" title="java.util.jar.Attributes">main</a>.<a title="(Any,Any)java.lang.Object" id="43681">put</a>(<span id="43706"><span id="43670"><a title="java.util.jar.Attributes.Name" id="10059">MANIFEST_VERSION</a></span></span>, <span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span>)
							<span id="9252"><a title="(java.util.jar.JarOutputStream,java.lang.String)(java.util.jar.JarOutputStream, java.lang.String)" id="1283">(</a></span><span title="java.util.jar.JarOutputStream" class="keyword">new</span> <a title="java.util.jar.JarOutputStream" id="10034">JarOutputStream</a>(<a href="#43662" title="java.io.OutputStream">fileOut</a>, <a href="#43666" title="java.util.jar.Manifest">mf</a>), <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span>)
						}
						<span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">case</span> <a title="object None" id="488">None</a> =&gt; <span id="9252"><a title="(java.util.zip.ZipOutputStream,java.lang.String)(java.util.zip.ZipOutputStream, java.lang.String)" id="1283">(</a></span><span title="java.util.zip.ZipOutputStream" class="keyword">new</span> <a title="java.util.zip.ZipOutputStream" id="10121">ZipOutputStream</a>(<a href="#43662" title="java.io.OutputStream">fileOut</a>), <span title="java.lang.String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span>)
					}
				<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10190" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error writing &quot;)" class="string">&quot;Error writing &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43665" title="java.lang.String">ext</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#43485" title="sbt.Logger">log</a>)
					{ <a href="#43486" title="(java.util.zip.ZipOutputStream)Option[String]" id="7221">f</a>(<a href="#43664" title="java.util.zip.ZipOutputStream">zipOut</a>) } { <a href="#43664" title="java.util.zip.ZipOutputStream">zipOut</a>.<a title="()Unit" id="43497">close</a> }
			}
		}
	}
	<span class="keyword">import</span> scala.collection.Set
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9404">unzip</a>(<a title="sbt.Path" id="43744">from</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="43745">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43746">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9408" title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43744" title="sbt.Path">from</a>, <a href="#43745" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#43746" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9405">unzip</a>(<a title="java.io.File" id="43770">from</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Path" id="43771">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43772">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9409" title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43770" title="java.io.File">from</a>, <a href="#43771" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#43772" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9406">unzip</a>(<a title="java.io.InputStream" id="43767">from</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="sbt.Path" id="43768">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43769">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9411" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43767" title="java.io.InputStream">from</a>, <a href="#43768" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#43769" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9407">unzip</a>(<a title="java.net.URL" id="43764">from</a>: <a title="java.net.URL" id="4281">URL</a>, <a title="sbt.Path" id="43765">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43766">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9410" title="(java.net.URL,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43764" title="java.net.URL">from</a>, <a href="#43765" title="sbt.Path">toDirectory</a>, <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>, <a href="#43766" title="sbt.Logger">log</a>)
	
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9408">unzip</a>(<a title="sbt.Path" id="43760">from</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="43761">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="43762">filter</a>: <a href="NameFilter.scala.html#6525" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="43763">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9409" title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43760" title="sbt.Path">from</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#43761" title="sbt.Path">toDirectory</a>, <a href="#43762" title="sbt.NameFilter">filter</a>, <a href="#43763" title="sbt.Logger">log</a>)
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9409">unzip</a>(<a title="java.io.File" id="43756">from</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Path" id="43757">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="43758">filter</a>: <a href="NameFilter.scala.html#6525" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="43759">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9469" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">readStreamValue</a>(<a href="#43756" title="java.io.File">from</a>, <a href="#43759" title="sbt.Logger">log</a>)(<a title="java.io.InputStream" id="43791">in</a> =&gt; <a href="#9411" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43791" title="java.io.InputStream">in</a>, <a href="#43757" title="sbt.Path">toDirectory</a>, <a href="#43758" title="sbt.NameFilter">filter</a>, <a href="#43759" title="sbt.Logger">log</a>))
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9410">unzip</a>(<a title="java.net.URL" id="43752">from</a>: <a title="java.net.URL" id="4281">URL</a>, <a title="sbt.Path" id="43753">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="43754">filter</a>: <a href="NameFilter.scala.html#6525" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="43755">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
		<a href="#9473" title="(java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">readStreamValue</a>(<a href="#43752" title="java.net.URL">from</a>, <a href="#43755" title="sbt.Logger">log</a>) { <a title="java.io.InputStream" id="43801">stream</a> =&gt; <a href="#9411" title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]">unzip</a>(<a href="#43801" title="java.io.InputStream">stream</a>, <a href="#43753" title="sbt.Path">toDirectory</a>, <a href="#43754" title="sbt.NameFilter">filter</a>, <a href="#43755" title="sbt.Logger">log</a>) }
	<span class="comment">/** Unzips the contents of the zip file &lt;code&gt;from&lt;/code&gt; to the &lt;code&gt;toDirectory&lt;/code&gt; directory.
	* Only the entries that match the given filter are extracted. */</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9411">unzip</a>(<a title="java.io.InputStream" id="43748">from</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="sbt.Path" id="43749">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="43750">filter</a>: <a href="NameFilter.scala.html#6525" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="43751">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,scala.collection.Set[sbt.Path]]" id="322">Either</a>[String, Set[Path]] =
	{
		<a href="#9418" title="(sbt.Path,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43749" title="sbt.Path">toDirectory</a>, <a href="#43751" title="sbt.Logger">log</a>) <span title="Either[String,scala.collection.Set[sbt.Path]]" class="keyword">match</span>
		{
			<span title="Left[String,Nothing]" class="keyword">case</span> <a id="1">Some</a>(<a title="String" id="43805">err</a>) =&gt; <span id="29944"><a title="(String)Left[String,Nothing]" id="1130">Left</a></span>(<a href="#43805" title="String">err</a>)
			<span title="Either[String,scala.collection.Set[sbt.Path]]" class="keyword">case</span> <a title="object None" id="488">None</a> =&gt;
			{
				<span class="keyword">val</span> <a title="java.util.zip.ZipInputStream" id="43808">zipInput</a> = <span title="java.util.zip.ZipInputStream" class="keyword">new</span> <a title="java.util.zip.ZipInputStream" id="10094">ZipInputStream</a>(<a href="#43748" title="java.io.InputStream">from</a>)
				<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10186" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,scala.collection.Set[sbt.Path]])(=&gt; Unit)Either[String,scala.collection.Set[sbt.Path]]">trapAndFinally</a>(<span title="java.lang.String(&quot;Error unzipping: &quot;)" class="string">&quot;Error unzipping: &quot;</span>, <a href="#43751" title="sbt.Logger">log</a>)
				{ <a href="#9412" title="(java.util.zip.ZipInputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product">extract</a>(<a href="#43808" title="java.util.zip.ZipInputStream">zipInput</a>, <a href="#43749" title="sbt.Path">toDirectory</a>, <a href="#43750" title="sbt.NameFilter">filter</a>, <a href="#43751" title="sbt.Logger">log</a>) }
				{ <a href="#43808" title="java.util.zip.ZipInputStream">zipInput</a>.<a title="()Unit" id="43815">close</a>() }
			}
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.util.zip.ZipInputStream,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product" id="9412">extract</a>(<a title="java.util.zip.ZipInputStream" id="43834">from</a>: <a title="java.util.zip.ZipInputStream" id="10094">ZipInputStream</a>, <a title="sbt.Path" id="43835">toDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.NameFilter" id="43836">filter</a>: <a href="NameFilter.scala.html#6525" title="sbt.NameFilter">NameFilter</a>, <a title="sbt.Logger" id="43837">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="43839">set</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashSet[sbt.Path]" id="7909">HashSet</a>[Path]
		<span class="keyword">def</span> <a title="()Option[String]" id="43840">next</a>(): <a title="Option[String]" id="871">Option</a>[String] =
		{
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="43841">entry</a> = <a href="#43834" title="java.util.zip.ZipInputStream">from</a>.<a title="()java.util.zip.ZipEntry" id="43810">getNextEntry</a>
			<span title="Option[String]" class="keyword">if</span>(<a href="#43841" title="java.util.zip.ZipEntry">entry</a> <a title="(AnyRef)Boolean" id="3399">==</a> <span title="Null(null)" class="keyword">null</span>)
				<a title="object None" id="488">None</a>
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="43843">name</a> = <a href="#43841" title="java.util.zip.ZipEntry">entry</a>.<a title="()java.lang.String" id="43537">getName</a>
				<span class="keyword">val</span> <a title="Option[String]" id="43844">result</a> =
					<span title="Option[String]" class="keyword">if</span>(<a href="#43836" title="sbt.NameFilter">filter</a>.<a href="NameFilter.scala.html#27508" title="(String)Boolean">accept</a>(<a href="#43843" title="java.lang.String">name</a>))
					{
						<span class="keyword">val</span> <a title="sbt.Path" id="43848">target</a> = <a href="Path.scala.html#6701" title="object sbt.Path">Path</a>.<a href="Path.scala.html#9500" title="(sbt.Path,String)sbt.Path">fromString</a>(<a href="#43835" title="sbt.Path">toDirectory</a>, <a href="#43843" title="java.lang.String">name</a>)
						<a href="#43837" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Extracting zip entry '&quot;)" class="string">&quot;Extracting zip entry '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43843" title="java.lang.String">name</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43848" title="sbt.Path">target</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						<span class="keyword">val</span> <a title="Option[String]" id="43849">result</a> =
							<span title="Option[String]" class="keyword">if</span>(<a href="#43841" title="java.util.zip.ZipEntry">entry</a>.<a title="()Boolean" id="43552">isDirectory</a>)
								<a href="#9418" title="(sbt.Path,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43848" title="sbt.Path">target</a>, <a href="#43837" title="sbt.Logger">log</a>)
							<span class="keyword">else</span>
								<a href="#9466" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#43848" title="sbt.Path">target</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#43837" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="43853">out</a> =&gt; <a href="#6351" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#9413" title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]">transfer</a>(<a href="#43834" title="java.util.zip.ZipInputStream">from</a>, <a href="#43853" title="java.io.OutputStream">out</a>, <a href="#43837" title="sbt.Logger">log</a>) }
						<span class="comment">//target.asFile.setLastModified(entry.getTime)</span>
						<a href="#43849" title="Option[String]">result</a>
					}
					<span class="keyword">else</span>
					{
						<a href="#43837" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Ignoring zip entry '&quot;)" class="string">&quot;Ignoring zip entry '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43843" title="java.lang.String">name</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;'&quot;)" class="string">&quot;'&quot;</span>)
						<a title="object None" id="488">None</a>
					}
				<a href="#43834" title="java.util.zip.ZipInputStream">from</a>.<a title="()Unit" id="43811">closeEntry</a>()
				<a href="#43844" title="Option[String]">result</a> <span title="Option[String]" class="keyword">match</span> { <span title="Option[String]" class="keyword">case</span> <a title="object None" id="488">None</a> =&gt; <a href="#43840" title="()Option[String]">next</a>(); <span title="Option[String]" class="keyword">case</span> <a title="Option[String]" id="43854">x</a> =&gt; <a href="#43854" title="Option[String]">x</a> }
			}
		}
		<a href="#43840" title="()Option[String]">next</a>().<a title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product" id="10169">toLeft</a>(<a href="#43839" title="scala.collection.mutable.HashSet[sbt.Path]">set</a>.<a title="=&gt; scala.collection.Set[sbt.Path]" id="21535">readOnly</a>)
	}
	
	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.
	* Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="9413">transfer</a>(<a title="java.io.InputStream" id="43456">in</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="java.io.OutputStream" id="43457">out</a>: <a title="java.io.OutputStream" id="3691">OutputStream</a>, <a title="sbt.Logger" id="43458">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9415" title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]">transferImpl</a>(<a href="#43456" title="java.io.InputStream">in</a>, <a href="#43457" title="java.io.OutputStream">out</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#43458" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.  The
	* input stream is closed after the method completes.*/</span>
	<span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,sbt.Logger)Option[String]" id="9414">transferAndClose</a>(<a title="java.io.InputStream" id="43628">in</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="java.io.OutputStream" id="43629">out</a>: <a title="java.io.OutputStream" id="3691">OutputStream</a>, <a title="sbt.Logger" id="43630">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9415" title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]">transferImpl</a>(<a href="#43628" title="java.io.InputStream">in</a>, <a href="#43629" title="java.io.OutputStream">out</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#43630" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.InputStream,java.io.OutputStream,Boolean,sbt.Logger)Option[String]" id="9415">transferImpl</a>(<a title="java.io.InputStream" id="43861">in</a>: <a title="java.io.InputStream" id="3634">InputStream</a>, <a title="java.io.OutputStream" id="43862">out</a>: <a title="java.io.OutputStream" id="3691">OutputStream</a>, <a title="Boolean" id="43863">close</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43864">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10190" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])(=&gt; Unit)Option[String]">trapUnitAndFinally</a>(<span title="java.lang.String(&quot;Error during transfer: &quot;)" class="string">&quot;Error during transfer: &quot;</span>, <a href="#43864" title="sbt.Logger">log</a>)
		{
			<span class="keyword">val</span> <a title="Array[Byte]" id="43865">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a title="Array[Byte]" id="1003">Array</a>[Byte](<a href="#9388" title="=&gt; Int">BufferSize</a>)
			<span class="keyword">def</span> <a title="=&gt; None.type" id="43866">read</a>: None.<span class="keyword">type</span> =
			{
				<span class="keyword">val</span> <a title="Int" id="43868">byteCount</a> = <a href="#43861" title="java.io.InputStream">in</a>.<a title="(Array[Byte])Int" id="22799">read</a>(<a href="#43865" title="Array[Byte]">buffer</a>)
				<span title="None.type" class="keyword">if</span>(<a href="#43868" title="Int">byteCount</a> <a title="(Int)Boolean" id="3036">&gt;=</a> <span title="Int(0)" class="int">0</span>)
				{
					<a href="#43862" title="java.io.OutputStream">out</a>.<a title="(Array[Byte],Int,Int)Unit" id="22041">write</a>(<a href="#43865" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#43868" title="Int">byteCount</a>)
					<a href="#43866" title="=&gt; None.type">read</a>
				}
				<span class="keyword">else</span>
					<a title="object None" id="488">None</a>
			}
			<a href="#43866" title="=&gt; None.type">read</a>
		}
		{ <span title="Unit" class="keyword">if</span>(<a href="#43863" title="Boolean">close</a>) <a href="#43861" title="java.io.InputStream">in</a>.<a title="()Unit" id="22803">close</a> }
	}

	<span class="comment">/** Creates a file at the given location.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Option[String]" id="9416">touch</a>(<a title="sbt.Path" id="43892">path</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="43893">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9417" title="(java.io.File,sbt.Logger)Option[String]">touch</a>(<a href="#43892" title="sbt.Path">path</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#43893" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a file at the given location.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Option[String]" id="9417">touch</a>(<a title="java.io.File" id="43895">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="43896">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Could not create file &quot;)" class="string">&quot;Could not create file &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43895" title="java.io.File">file</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#43896" title="sbt.Logger">log</a>)
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#43895" title="java.io.File">file</a>.<a title="()Boolean" id="9559">exists</a>)
			{
				<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="43897">updateFailBase</a> = <span title="java.lang.String(&quot;Could not update last modified for file &quot;)" class="string">&quot;Could not update last modified for file &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43895" title="java.io.File">file</a>
				<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<a href="#43897" title="=&gt; java.lang.String">updateFailBase</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#43896" title="sbt.Logger">log</a>)
					{ <span title="Option[String]" class="keyword">if</span>(<a href="#43895" title="java.io.File">file</a>.<a title="(Long)Boolean" id="9576">setLastModified</a>(<a title="object java.lang.System" id="1776">System</a>.<a title="()Long" id="24451">currentTimeMillis</a>)) <a title="object None" id="488">None</a> <span class="keyword">else</span> <span id="10256"><a title="(java.lang.String)Some[java.lang.String]" id="275">Some</a></span>(<a href="#43897" title="=&gt; java.lang.String">updateFailBase</a>) }
			}
			<span class="keyword">else</span>
				<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43895" title="java.io.File">file</a>.<a title="()java.io.File" id="9548">getParentFile</a>, <a href="#43896" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a> { <a href="#43895" title="java.io.File">file</a>.<a title="()Boolean" id="9565">createNewFile</a>(); <a title="object None" id="488">None</a> }
		}
	}
	<span class="comment">/** Creates a directory at the given location.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Logger)Option[String]" id="9418">createDirectory</a>(<a title="sbt.Path" id="10171">dir</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="10172">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#10171" title="sbt.Path">dir</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#10172" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates a directory at the given location.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Option[String]" id="9419">createDirectory</a>(<a title="java.io.File" id="9589">dir</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="9590">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Could not create directory &quot;)" class="string">&quot;Could not create directory &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#9589" title="java.io.File">dir</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#9590" title="sbt.Logger">log</a>)
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#9589" title="java.io.File">dir</a>.<a title="()Boolean" id="9559">exists</a>)
			{
				<span title="Option[String]" class="keyword">if</span>(<a href="#9589" title="java.io.File">dir</a>.<a title="()Boolean" id="9560">isDirectory</a>)
					<a title="object None" id="488">None</a>
				<span class="keyword">else</span>
					<span id="10256"><a title="(java.lang.String)Some[java.lang.String]" id="275">Some</a></span>(<span id="6014"><a href="#9589" title="implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd" id="770">dir</a></span> <a title="(String)java.lang.String" id="9286">+</a> <span title="java.lang.String(&quot; exists and is not a directory.&quot;)" class="string">&quot; exists and is not a directory.&quot;</span>)
			}
			<span class="keyword">else</span>
			{
				<a href="#9589" title="java.io.File">dir</a>.<a title="()Boolean" id="9574">mkdirs</a>()
				<a href="#9590" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Created directory &quot;)" class="string">&quot;Created directory &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#9589" title="java.io.File">dir</a>)
				<a title="object None" id="488">None</a>
			}
		}
	}
	<span class="comment">/** Creates directories at the given locations.*/</span>
	<span class="keyword">def</span> <a title="(Seq[sbt.Path],sbt.Logger)Option[String]" id="9420">createDirectories</a>(<a title="Seq[sbt.Path]" id="43908">d</a>: <a title="Seq[sbt.Path]" id="715">Seq</a>[Path], <a title="sbt.Logger" id="43909">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9421" title="(List[java.io.File],sbt.Logger)Option[String]">createDirectories</a>(<a href="#43908" title="Seq[sbt.Path]">d</a>.<a title="=&gt; List[sbt.Path]" id="7279">toList</a>.<a title="((sbt.Path) =&gt; java.io.File)List[java.io.File]" id="6835">map</a>(<a href="#43916" title="sbt.Path">_</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>), <a href="#43909" title="sbt.Logger">log</a>)
	<span class="comment">/** Creates directories at the given locations.*/</span>
	<span class="keyword">def</span> <a title="(List[java.io.File],sbt.Logger)Option[String]" id="9421">createDirectories</a>(<a title="List[java.io.File]" id="43911">d</a>: <a title="List[java.io.File]" id="481">List</a>[File], <a title="sbt.Logger" id="43912">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#43911" title="List[java.io.File]">d</a> <span title="Option[String]" class="keyword">match</span>
		{
			<span title="None.type" class="keyword">case</span> <a title="object Nil" id="299">Nil</a> =&gt; <a title="object None" id="488">None</a>
			<span title="Option[String]" class="keyword">case</span> <a title="java.io.File" id="43943">head</a> <a id="1">::</a> <a title="List[java.io.File]" id="43944">tail</a> =&gt; <a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43943" title="java.io.File">head</a>, <a href="#43912" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a> <a href="#9421" title="(List[java.io.File],sbt.Logger)Option[String]">createDirectories</a>(<a href="#43944" title="List[java.io.File]">tail</a>, <a href="#43912" title="sbt.Logger">log</a>)
		}
	<span class="comment">/** The maximum number of times a unique temporary filename is attempted to be created.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="9423"><a title="Int" id="9422">MaximumTries</a></span> = <span title="Int(10)" class="int">10</span>
	<span class="comment">/** Creates a temporary directory and returns it.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Logger)Either[String,java.io.File]" id="9424">createTemporaryDirectory</a>(<a title="sbt.Logger" id="43949">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,java.io.File]" id="322">Either</a>[String, File] =
	{
		<span class="keyword">def</span> <a title="(Int)Either[String,java.io.File]" id="43950">create</a>(<a title="Int" id="43951">tries</a>: <a title="Int" id="2296">Int</a>): <a title="Either[String,java.io.File]" id="322">Either</a>[String, File] =
		{
			<span title="Either[String,java.io.File]" class="keyword">if</span>(<a href="#43951" title="Int">tries</a> <a title="(Int)Boolean" id="3035">&gt;</a> <a href="#9422" title="=&gt; Int">MaximumTries</a>)
				<span id="29944"><a title="(java.lang.String)Left[java.lang.String,Nothing]" id="1130">Left</a></span>(<span title="java.lang.String(&quot;Could not create temporary directory.&quot;)" class="string">&quot;Could not create temporary directory.&quot;</span>)
			<span class="keyword">else</span>
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="43955">randomName</a> = <span title="java.lang.String(&quot;sbt_&quot;)" class="string">&quot;sbt_&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> java.lang.<a title="object java.lang.Integer" id="1674">Integer</a>.<a title="(Int)java.lang.String" id="20605">toHexString</a>(<a href="#9487" title="=&gt; java.util.Random">random</a>.<a title="()Int" id="43403">nextInt</a>)
				<span class="keyword">val</span> <a title="java.io.File" id="43956">f</a> = <a title="(java.io.File,java.lang.String)java.io.File" id="9544" class="keyword">new</a> <a title="java.io.File" id="3559">File</a>(<a href="#9483" title="=&gt; java.io.File">temporaryDirectory</a>, <a href="#43955" title="java.lang.String">randomName</a>)
				
				<span title="Either[String,java.io.File]" class="keyword">if</span>(<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#43956" title="java.io.File">f</a>, <a href="#43949" title="sbt.Logger">log</a>).<a title="=&gt; Boolean" id="10150">isEmpty</a>)
					<span id="29414"><a title="(java.io.File)Right[Nothing,java.io.File]" id="476">Right</a></span>(<a href="#43956" title="java.io.File">f</a>)
				<span class="keyword">else</span>
					<a href="#43950" title="(Int)Either[String,java.io.File]">create</a>(<a href="#43951" title="Int">tries</a> <a title="(Int)Int" id="3037">+</a> <span title="Int(1)" class="int">1</span>)
			}
		}
		<a href="#43950" title="(Int)Either[String,java.io.File]">create</a>(<span title="Int(0)" class="int">0</span>)
	}

	<span class="comment">/** Creates a temporary directory and provides its location to the given function.  The directory
	* is deleted after the function returns.*/</span>
	<span class="keyword">def</span> <a title="[T](sbt.Logger)((java.io.File) =&gt; Either[String,T])Either[String,T]" id="9425">doInTemporaryDirectory</a>[<a title="&gt;: Nothing &lt;: Any" id="9427">T</a>](<a title="sbt.Logger" id="43993">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.File) =&gt; Either[String,T]" id="43994">action</a>: File =&gt; Either[String, T]): <a title="Either[String,T]" id="322">Either</a>[String, T] =
	{
		<span class="keyword">def</span> <a title="(java.io.File)Either[String,T]" id="43995">doInDirectory</a>(<a title="java.io.File" id="43996">dir</a>: <a title="java.io.File" id="3559">File</a>): <a title="Either[String,T]" id="322">Either</a>[String, T] =
		{
			<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10186" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])(=&gt; Unit)Either[String,T]">trapAndFinally</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#43993" title="sbt.Logger">log</a>)
				{ <a href="#43994" title="(java.io.File)Either[String,T]" id="7221">action</a>(<a href="#43996" title="java.io.File">dir</a>) }
				{ <a href="#9441" title="(java.io.File,Boolean,sbt.Logger)Option[String]">delete</a>(<a href="#43996" title="java.io.File">dir</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#43993" title="sbt.Logger">log</a>) }
		}
		<a href="#9424" title="(sbt.Logger)Either[String,java.io.File]">createTemporaryDirectory</a>(<a href="#43993" title="sbt.Logger">log</a>).<a title="=&gt; Either.RightProjection[String,java.io.File]" id="22142">right</a>.<a title="((java.io.File) =&gt; Either[String,T])Either[String,T]" id="22106">flatMap</a>(<a href="#43995" title="(java.io.File)Either[String,T]">doInDirectory</a>)
	}
	
	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;destinationDirectory&lt;/code&gt;
	* directory.  The source directory hierarchy is flattened so that all copies are immediate
	* children of &lt;code&gt;destinationDirectory&lt;/code&gt;.  Directories are not recursively entered.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product" id="9428">copyFlat</a>(<a title="Iterable[sbt.Path]" id="44007">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="44008">destinationDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44009">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="44011">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashSet[sbt.Path]" id="7909">HashSet</a>[Path]
		<a href="#9429" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]">copyImpl</a>(<a href="#44007" title="Iterable[sbt.Path]">sources</a>, <a href="#44008" title="sbt.Path">destinationDirectory</a>, <a href="#44009" title="sbt.Logger">log</a>)
		{
			<a title="sbt.Path" id="44017">source</a> =&gt;
			{
				<span class="keyword">val</span> <a title="java.io.File" id="44018">from</a> = <a href="#44017" title="sbt.Path">source</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
				<span class="keyword">val</span> <a title="sbt.Path" id="44019">toPath</a> = <a href="#44008" title="sbt.Path">destinationDirectory</a> <a href="Path.scala.html#9523" title="(String)sbt.Path">/</a> <a href="#44018" title="java.io.File">from</a>.<a title="()java.lang.String" id="9546">getName</a>
				<a href="#44011" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <a title="(sbt.Path)Unit" id="21760">+=</a> <a href="#44019" title="sbt.Path">toPath</a>
				<span class="keyword">val</span> <a title="java.io.File" id="44020">to</a> = <a href="#44019" title="sbt.Path">toPath</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
				<span title="Option[String]" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#44020" title="java.io.File">to</a>.<a title="()Boolean" id="9559">exists</a> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#44018" title="java.io.File">from</a>.<a title="()Long" id="9563">lastModified</a> <a title="(Long)Boolean" id="3158">&gt;</a> <a href="#44020" title="java.io.File">to</a>.<a title="()Long" id="9563">lastModified</a> <a title="(Boolean)Boolean" id="2641">&amp;&amp;</a> <a title="=&gt; Boolean" id="2637">!</a><a href="#44018" title="java.io.File">from</a>.<a title="()Boolean" id="9560">isDirectory</a>)
				{
					<a href="#44009" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44017" title="sbt.Path">source</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44019" title="sbt.Path">toPath</a>)
					<a href="#9433" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#44018" title="java.io.File">from</a>, <a href="#44020" title="java.io.File">to</a>, <a href="#44009" title="sbt.Logger">log</a>)
				}
				<span class="keyword">else</span>
					<a title="object None" id="488">None</a>
			}
		}.<a title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product" id="10169">toLeft</a>(<a href="#44011" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>.<a title="=&gt; scala.collection.Set[sbt.Path]" id="21535">readOnly</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]" id="9429">copyImpl</a>(<a title="Iterable[sbt.Path]" id="44012">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="44013">destinationDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44014">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)
		(<a title="(sbt.Path) =&gt; Option[String]" id="44015">doCopy</a>: Path =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span class="keyword">val</span> <a title="java.io.File" id="44036">target</a> = <a href="#44013" title="sbt.Path">destinationDirectory</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
		<span class="keyword">val</span> <a title="Option[String]" id="44037">creationError</a> =
			<span title="Option[String]" class="keyword">if</span>(<a href="#44036" title="java.io.File">target</a>.<a title="()Boolean" id="9560">isDirectory</a>)
				<a title="object None" id="488">None</a>
			<span class="keyword">else</span>
				<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#44036" title="java.io.File">target</a>, <a href="#44014" title="sbt.Logger">log</a>)
		<span class="keyword">def</span> <a title="(List[sbt.Path])Option[String]" id="44038">copy</a>(<a title="List[sbt.Path]" id="44040">sources</a>: <a title="List[sbt.Path]" id="481">List</a>[Path]): <a title="Option[String]" id="871">Option</a>[String] =
		{
			<a href="#44040" title="List[sbt.Path]">sources</a> <span title="Option[String]" class="keyword">match</span>
			{
				<span title="Option[String]" class="keyword">case</span> <a title="sbt.Path" id="44041">src</a> <a id="1">::</a> <a title="List[sbt.Path]" id="44042">remaining</a> =&gt;
				{
					<a href="#44015" title="(sbt.Path)Option[String]" id="7221">doCopy</a>(<a href="#44041" title="sbt.Path">src</a>) <span title="Option[String]" class="keyword">match</span>
					{
						<span title="Option[String]" class="keyword">case</span> <a title="object None" id="488">None</a> =&gt; <a href="#44038" title="(List[sbt.Path])Option[String]">copy</a>(<a href="#44042" title="List[sbt.Path]">remaining</a>)
						<span title="Option[String]" class="keyword">case</span> <a title="Option[String]" id="44043">error</a> =&gt; <a href="#44043" title="Option[String]">error</a>
					}
				}
				<span title="None.type" class="keyword">case</span> <a title="object Nil" id="299">Nil</a> =&gt; <a title="object None" id="488">None</a>
			}
		}
		<a href="#44037" title="Option[String]">creationError</a> <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a> ( <a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#44014" title="sbt.Logger">log</a>) { <a href="#44038" title="(List[sbt.Path])Option[String]">copy</a>(<a href="#44012" title="Iterable[sbt.Path]">sources</a>.<a title="=&gt; List[sbt.Path]" id="7279">toList</a>) } )
	}
	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;destinationDirectory&lt;/code&gt;
	* directory.  Directories are not recursively entered.  The destination hierarchy matches the
	* source paths relative to any base directories.  For example:
	*
	* A source &lt;code&gt;(basePath ##) / x / y&lt;/code&gt; is copied to &lt;code&gt;destinationDirectory / x / y&lt;/code&gt;.
	* */</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product" id="9430">copy</a>(<a title="Iterable[sbt.Path]" id="44046">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Path" id="44047">destinationDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44048">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="44050">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashSet[sbt.Path]" id="7909">HashSet</a>[Path]
		<a href="#9429" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)((sbt.Path) =&gt; Option[String])Option[String]">copyImpl</a>(<a href="#44046" title="Iterable[sbt.Path]">sources</a>, <a href="#44047" title="sbt.Path">destinationDirectory</a>, <a href="#44048" title="sbt.Logger">log</a>)
		{
			<a title="sbt.Path" id="44052">source</a> =&gt;
			{
				<span class="keyword">val</span> <a title="java.io.File" id="44053">from</a> = <a href="#44052" title="sbt.Path">source</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
				<span class="keyword">val</span> <a title="sbt.Path" id="44054">toPath</a> = <a href="Path.scala.html#6701" title="object sbt.Path">Path</a>.<a href="Path.scala.html#9500" title="(sbt.Path,String)sbt.Path">fromString</a>(<a href="#44047" title="sbt.Path">destinationDirectory</a>, <a href="#44052" title="sbt.Path">source</a>.<a href="Path.scala.html#9531" title="=&gt; String">relativePath</a>)
				<a href="#44050" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <a title="(sbt.Path)Unit" id="21760">+=</a> <a href="#44054" title="sbt.Path">toPath</a>
				<span class="keyword">val</span> <a title="java.io.File" id="44055">to</a> = <a href="#44054" title="sbt.Path">toPath</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
				<span title="Option[String]" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#44055" title="java.io.File">to</a>.<a title="()Boolean" id="9559">exists</a> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#44053" title="java.io.File">from</a>.<a title="()Long" id="9563">lastModified</a> <a title="(Long)Boolean" id="3158">&gt;</a> <a href="#44055" title="java.io.File">to</a>.<a title="()Long" id="9563">lastModified</a>)
				{
					<span title="Option[String]" class="keyword">if</span>(<a href="#44053" title="java.io.File">from</a>.<a title="()Boolean" id="9560">isDirectory</a>)
						<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#44055" title="java.io.File">to</a>, <a href="#44048" title="sbt.Logger">log</a>)
					<span class="keyword">else</span>
					{
						<a href="#44048" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44052" title="sbt.Path">source</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44054" title="sbt.Path">toPath</a>)
						<a href="#9433" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#44053" title="java.io.File">from</a>, <a href="#44055" title="java.io.File">to</a>, <a href="#44048" title="sbt.Logger">log</a>)
					}
				}
				<span class="keyword">else</span>
					<a title="object None" id="488">None</a>
			}
		}.<a title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product" id="10169">toLeft</a>(<a href="#44050" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>.<a title="=&gt; scala.collection.Set[sbt.Path]" id="21535">readOnly</a>)
	}
	
	<span class="comment">/** Copies the files declared in &lt;code&gt;sources&lt;/code&gt; to the &lt;code&gt;targetDirectory&lt;/code&gt;
	* directory.  The source directory hierarchy is flattened so that all copies are immediate
	* children of &lt;code&gt;targetDirectory&lt;/code&gt;.  Directories are not recursively entered.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[java.io.File],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="9431">copyFilesFlat</a>(<a title="Iterable[java.io.File]" id="44066">sources</a>: <a title="Iterable[java.io.File]" id="358">Iterable</a>[File], <a title="sbt.Path" id="44067">targetDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44068">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a href="#44067" title="sbt.Path">targetDirectory</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>.<a title="()Boolean" id="9560">isDirectory</a>, <span title="java.lang.String(&quot;Target '&quot;)" class="string">&quot;Target '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44067" title="sbt.Path">targetDirectory</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' is not a directory.&quot;)" class="string">&quot;' is not a directory.&quot;</span>)
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,java.io.File]" id="44070">byName</a> = <span title="scala.collection.mutable.HashMap[String,java.io.File]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashMap[String,java.io.File]" id="8092">HashMap</a>[String, File]
		<span class="keyword">for</span>(<span id="7256"><a title="((java.io.File) =&gt; Unit)Unit" id="44083">source</a></span> &lt;- <a href="#44066" title="Iterable[java.io.File]">sources</a>) <a href="#44070" title="scala.collection.mutable.HashMap[String,java.io.File]">byName</a>.<a title="(String,java.io.File)Option[java.io.File]" id="20468">put</a>(<a href="#44083" title="java.io.File">source</a>.<a title="()java.lang.String" id="9546">getName</a>, <a href="#44083" title="java.io.File">source</a>)
		<span class="keyword">val</span> <a title="Iterator[java.io.File]" id="44071">uniquelyNamedSources</a> = <a href="#44070" title="scala.collection.mutable.HashMap[String,java.io.File]">byName</a>.<a title="=&gt; Iterator[java.io.File]" id="20509">values</a>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[sbt.Path]" id="44072">targetSet</a> = <span title="scala.collection.mutable.HashSet[sbt.Path]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashSet[sbt.Path]" id="7909">HashSet</a>[Path]
		<span class="keyword">def</span> <a title="(java.io.File)Option[String]" id="44073">copy</a>(<a title="java.io.File" id="44084">source</a>: <a title="java.io.File" id="3559">File</a>): <a title="Option[String]" id="871">Option</a>[String] =
		{
			<span title="Option[String]" class="keyword">if</span>(<a href="#44084" title="java.io.File">source</a>.<a title="()Boolean" id="9560">isDirectory</a>)
				<a href="#44074" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#44084" title="java.io.File">source</a>.<a title="()Array[java.io.File]" id="9570">listFiles</a>.<a title="=&gt; List[java.io.File]" id="7279">toList</a>)
			<span class="keyword">else</span> <span title="Option[String]" class="keyword">if</span>(<a href="#44084" title="java.io.File">source</a>.<a title="()Boolean" id="9559">exists</a>)
			{
				<span class="keyword">val</span> <a title="sbt.Path" id="44087">targetPath</a> = <a href="#44067" title="sbt.Path">targetDirectory</a> <a href="Path.scala.html#9523" title="(String)sbt.Path">/</a> <a href="#44084" title="java.io.File">source</a>.<a title="()java.lang.String" id="9546">getName</a>
				<a href="#44072" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a> <a title="(sbt.Path)Unit" id="21760">+=</a> <a href="#44087" title="sbt.Path">targetPath</a>
				<span title="Option[String]" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#44087" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#9524" title="=&gt; Boolean">exists</a> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#44084" title="java.io.File">source</a>.<a title="()Long" id="9563">lastModified</a> <a title="(Long)Boolean" id="3158">&gt;</a> <a href="#44087" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#9526" title="=&gt; Long">lastModified</a>)
				{
					<a href="#44068" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Copying &quot;)" class="string">&quot;Copying &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44084" title="java.io.File">source</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44087" title="sbt.Path">targetPath</a>)
					<a href="#9433" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#44084" title="java.io.File">source</a>, <a href="#44087" title="sbt.Path">targetPath</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#44068" title="sbt.Logger">log</a>)
				}
				<span class="keyword">else</span>
					<a title="object None" id="488">None</a>
			}
			<span class="keyword">else</span>
				<a title="object None" id="488">None</a>
		}
		<span class="keyword">def</span> <a title="(List[java.io.File])Option[String]" id="44074">copyAll</a>(<a title="List[java.io.File]" id="44085">sources</a>: <a title="List[java.io.File]" id="481">List</a>[File]): <a title="Option[String]" id="871">Option</a>[String] =
			<a href="#44085" title="List[java.io.File]">sources</a> <span title="Option[String]" class="keyword">match</span>
			{
				<span title="Option[String]" class="keyword">case</span> <a title="java.io.File" id="44093">head</a> <a id="1">::</a> <a title="List[java.io.File]" id="44094">tail</a> =&gt;
					<a href="#44073" title="(java.io.File)Option[String]">copy</a>(<a href="#44093" title="java.io.File">head</a>) <span title="Option[String]" class="keyword">match</span>
					{
						<span title="Option[String]" class="keyword">case</span> <a title="object None" id="488">None</a> =&gt; <a href="#44074" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#44094" title="List[java.io.File]">tail</a>)
						<span title="Option[String]" class="keyword">case</span> <a title="Option[String]" id="44095">x</a> =&gt; <a href="#44095" title="Option[String]">x</a>
					}
				<span title="None.type" class="keyword">case</span> <a title="object Nil" id="299">Nil</a> =&gt; <a title="object None" id="488">None</a>
			}
		
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10183" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,scala.collection.Set[sbt.Path]])Either[String,scala.collection.Set[sbt.Path]]">trap</a>(<span title="java.lang.String(&quot;Error copying files: &quot;)" class="string">&quot;Error copying files: &quot;</span>, <a href="#44068" title="sbt.Logger">log</a>) { <a href="#44074" title="(List[java.io.File])Option[String]">copyAll</a>(<a href="#44071" title="Iterator[java.io.File]">uniquelyNamedSources</a>.<a title="=&gt; List[java.io.File]" id="20282">toList</a>).<a title="(=&gt; scala.collection.Set[sbt.Path])Either[String,scala.collection.Set[sbt.Path]] with Product" id="10169">toLeft</a>(<a href="#44072" title="scala.collection.mutable.HashSet[sbt.Path]">targetSet</a>.<a title="=&gt; scala.collection.Set[sbt.Path]" id="21535">readOnly</a>) }
	}
	<span class="comment">/** Copies &lt;code&gt;sourceFile&lt;/code&gt; to &lt;code&gt;targetFile&lt;/code&gt;.  If &lt;code&gt;targetFile&lt;/code&gt;
	* exists, it is overwritten.  Note that unlike higher level copies in FileUtilities, this
	* method always performs the copy, even if sourceFile is older than targetFile.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="9432">copyFile</a>(<a title="sbt.Path" id="44027">sourceFile</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="44028">targetFile</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44029">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9433" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#44027" title="sbt.Path">sourceFile</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#44028" title="sbt.Path">targetFile</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#44029" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies &lt;code&gt;sourceFile&lt;/code&gt; to &lt;code&gt;targetFile&lt;/code&gt;.  If &lt;code&gt;targetFile&lt;/code&gt;
	* exists, it is overwritten.  Note that unlike higher level copies in FileUtilities, this
	* method always performs the copy, even if sourceFile is older than targetFile.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.io.File,sbt.Logger)Option[String]" id="9433">copyFile</a>(<a title="java.io.File" id="44024">sourceFile</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.io.File" id="44025">targetFile</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44026">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a href="#44024" title="java.io.File">sourceFile</a>.<a title="()Boolean" id="9559">exists</a>, <span title="java.lang.String(&quot;Source file '&quot;)" class="string">&quot;Source file '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44024" title="java.io.File">sourceFile</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span>)
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#44024" title="java.io.File">sourceFile</a>.<a title="()Boolean" id="9560">isDirectory</a>, <span title="java.lang.String(&quot;Source file '&quot;)" class="string">&quot;Source file '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44024" title="java.io.File">sourceFile</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' is a directory.&quot;)" class="string">&quot;' is a directory.&quot;</span>)
		<a href="#9477" title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">readChannel</a>(<a href="#44024" title="java.io.File">sourceFile</a>, <a href="#44026" title="sbt.Logger">log</a>)(
			<a title="java.nio.channels.FileChannel" id="44176">in</a> =&gt; <a href="#9476" title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">writeChannel</a>(<a href="#44025" title="java.io.File">targetFile</a>, <a href="#44026" title="sbt.Logger">log</a>) {
				<a title="java.nio.channels.FileChannel" id="44181">out</a> =&gt; {
					<span class="keyword">val</span> <a title="Long" id="44182">copied</a> = <a href="#44181" title="java.nio.channels.FileChannel">out</a>.<a title="(java.nio.channels.ReadableByteChannel,Long,Long)Long" id="44167">transferFrom</a>(<a href="#44176" title="java.nio.channels.FileChannel">in</a>, <span title="Long(0L)" class="int">0</span>, <a href="#44176" title="java.nio.channels.FileChannel">in</a>.<a title="()Long" id="44163">size</a>)
					<span title="Option[String]" class="keyword">if</span>(<a href="#44182" title="Long">copied</a> <a title="(Long)Boolean" id="3154">==</a> <a href="#44176" title="java.nio.channels.FileChannel">in</a>.<a title="()Long" id="44163">size</a>)
						<a title="object None" id="488">None</a>
					<span class="keyword">else</span>
						<span id="10256"><a title="(java.lang.String)Some[java.lang.String]" id="275">Some</a></span>(<span title="java.lang.String(&quot;Could not copy '&quot;)" class="string">&quot;Could not copy '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44024" title="java.io.File">sourceFile</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44025" title="java.io.File">targetFile</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' (&quot;)" class="string">&quot;' (&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44182" title="Long">copied</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44176" title="java.nio.channels.FileChannel">in</a>.<a title="()Long" id="44163">size</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; bytes copied)&quot;)" class="string">&quot; bytes copied)&quot;</span>)
				}
			}
		)
	}
	
	<span class="comment">/** Synchronizes the contents of the &lt;code&gt;sourceDirectory&lt;/code&gt; directory to the
	* &lt;code&gt;targetDirectory&lt;/code&gt; directory.*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="9434">sync</a>(<a title="sbt.Path" id="44205">sourceDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="44206">targetDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44207">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<a href="#9430" title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product">copy</a>(((<a href="#44205" title="sbt.Path">sourceDirectory</a> <a href="Path.scala.html#9521" title="=&gt; sbt.Path">##</a>) <a href="Path.scala.html#9512" title="(sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>).<a href="Path.scala.html#9518" title="=&gt; scala.collection.Set[sbt.Path]">get</a>, <a href="#44206" title="sbt.Path">targetDirectory</a>, <a href="#44207" title="sbt.Logger">log</a>).<a title="=&gt; Either.RightProjection[String,scala.collection.Set[sbt.Path]]" id="22142">right</a>.<a title="((scala.collection.Set[sbt.Path]) =&gt; Either[String,Unit])Either[String,Unit]" id="22106">flatMap</a>
			{ <a title="scala.collection.Set[sbt.Path]" id="44213">copiedTo</a> =&gt; <a href="#9435" title="(sbt.Path,Iterable[sbt.Path],sbt.Logger)Option[String]">prune</a>(<a href="#44206" title="sbt.Path">targetDirectory</a>, <a href="#44213" title="scala.collection.Set[sbt.Path]">copiedTo</a>, <a href="#44207" title="sbt.Logger">log</a>).<a title="(=&gt; Unit)Either[String,Unit] with Product" id="10169">toLeft</a>(<span title="Unit">(</span>)) }.<a title="=&gt; Either.LeftProjection[String,Unit]" id="22055">left</a>.<a title="=&gt; Option[String]" id="22077">toOption</a>
	}
	<span class="keyword">def</span> <a title="(sbt.Path,Iterable[sbt.Path],sbt.Logger)Option[String]" id="9435">prune</a>(<a title="sbt.Path" id="44214">directory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="Iterable[sbt.Path]" id="44215">keepOnly</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Logger" id="44216">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span class="keyword">val</span> <a title="scala.collection.Set[sbt.Path]" id="44223">existing</a> = ((<a href="#44214" title="sbt.Path">directory</a> <a href="Path.scala.html#9521" title="=&gt; sbt.Path">##</a>) <a href="Path.scala.html#9512" title="(sbt.FileFilter)sbt.PathFinder">**</a> <a href="NameFilter.scala.html#6536" title="object sbt.AllPassFilter">AllPassFilter</a>).<a href="Path.scala.html#9518" title="=&gt; scala.collection.Set[sbt.Path]">get</a>
		<span class="keyword">val</span> <a title="scala.collection.mutable.Set[sbt.Path]" id="44224">toRemove</a> = scala.collection.mutable.<span id="21765"><a title="(sbt.Path*)scala.collection.mutable.Set[sbt.Path]" id="7910">HashSet</a></span>(<a href="#44223" title="scala.collection.Set[sbt.Path]">existing</a>.<a title="=&gt; Seq[sbt.Path]" id="7280">toSeq</a>: _*)
		<a href="#44224" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a> <a title="(Iterable[sbt.Path])Unit" id="21523">--=</a> <a href="#44215" title="Iterable[sbt.Path]">keepOnly</a>
		<span title="Unit" class="keyword">if</span>(<a href="#44216" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8349" title="(sbt.Level.Value)Boolean">atLevel</a>(<a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20852" title="=&gt; sbt.Level.Value">Debug</a>))
			<a href="#44224" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a>.<a title="((sbt.Path) =&gt; Unit)Unit" id="7256">foreach</a>(<a title="sbt.Path" id="44228">r</a> =&gt; <a href="#44216" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Pruning &quot;)" class="string">&quot;Pruning &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44228" title="sbt.Path">r</a>))
		<a href="#9439" title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]">clean</a>(<a href="#44224" title="scala.collection.mutable.Set[sbt.Path]">toRemove</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#44216" title="sbt.Logger">log</a>)
	}
	
	<span class="comment">/** Copies the contents of the &lt;code&gt;source&lt;/code&gt; directory to the &lt;code&gt;target&lt;/code&gt; directory .*/</span>
	<span class="keyword">def</span> <a title="(sbt.Path,sbt.Path,sbt.Logger)Option[String]" id="9436">copyDirectory</a>(<a title="sbt.Path" id="44230">source</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Path" id="44231">target</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="sbt.Logger" id="44232">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9437" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyDirectory</a>(<a href="#44230" title="sbt.Path">source</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#44231" title="sbt.Path">target</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>, <a href="#44232" title="sbt.Logger">log</a>)
	<span class="comment">/** Copies the contents of the &lt;code&gt;source&lt;/code&gt; directory to the &lt;code&gt;target&lt;/code&gt; directory .*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.io.File,sbt.Logger)Option[String]" id="9437">copyDirectory</a>(<a title="java.io.File" id="44234">source</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.io.File" id="44235">target</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44236">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a href="#44234" title="java.io.File">source</a>.<a title="()Boolean" id="9560">isDirectory</a>, <span title="java.lang.String(&quot;Source '&quot;)" class="string">&quot;Source '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44234" title="java.io.File">source</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' is not a directory.&quot;)" class="string">&quot;' is not a directory.&quot;</span>)
		<span id="5881"><a title="(Boolean,Any)Unit" id="770">require</a></span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#44235" title="java.io.File">target</a>.<a title="()Boolean" id="9559">exists</a>, <span title="java.lang.String(&quot;Target '&quot;)" class="string">&quot;Target '&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44235" title="java.io.File">target</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;' already exists.&quot;)" class="string">&quot;' already exists.&quot;</span>)
		<span class="keyword">def</span> <a title="(java.io.File,java.io.File)Option[String]" id="44237">copyDirectory</a>(<a title="java.io.File" id="44253">sourceDir</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.io.File" id="44254">targetDir</a>: <a title="java.io.File" id="3559">File</a>): <a title="Option[String]" id="871">Option</a>[String] =
			<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#44254" title="java.io.File">targetDir</a>, <a href="#44236" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a> <a href="#44238" title="(java.io.File,java.io.File)Option[String]">copyContents</a>(<a href="#44253" title="java.io.File">sourceDir</a>, <a href="#44254" title="java.io.File">targetDir</a>)
		<span class="keyword">def</span> <a title="(java.io.File,java.io.File)Option[String]" id="44238">copyContents</a>(<a title="java.io.File" id="44258">sourceDir</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.io.File" id="44259">targetDir</a>: <a title="java.io.File" id="3559">File</a>): <a title="Option[String]" id="871">Option</a>[String] =
			<a href="#44258" title="java.io.File">sourceDir</a>.<a title="()Array[java.io.File]" id="9570">listFiles</a>.<a title="(Option[String])((Option[String], java.io.File) =&gt; Option[String])Option[String]" id="7263">foldLeft</a>(<a title="object None" id="488">None</a>: <a title="Option[String]" id="871">Option</a>[String])
			{
				(<a title="Option[String]" id="44263">result</a>, <a title="java.io.File" id="44264">file</a>) =&gt;
					<a href="#44263" title="Option[String]">result</a> <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a>
					{
						<span class="keyword">val</span> <a title="java.io.File" id="44267">targetFile</a> = <a title="(java.io.File,java.lang.String)java.io.File" id="9544" class="keyword">new</a> <a title="java.io.File" id="3559">File</a>(<a href="#44259" title="java.io.File">targetDir</a>, <a href="#44264" title="java.io.File">file</a>.<a title="()java.lang.String" id="9546">getName</a>)
						<span title="Option[String]" class="keyword">if</span>(<a href="#44264" title="java.io.File">file</a>.<a title="()Boolean" id="9560">isDirectory</a>)
							<a href="#44237" title="(java.io.File,java.io.File)Option[String]">copyDirectory</a>(<a href="#44264" title="java.io.File">file</a>, <a href="#44267" title="java.io.File">targetFile</a>)
						<span class="keyword">else</span>
							<a href="#9433" title="(java.io.File,java.io.File,sbt.Logger)Option[String]">copyFile</a>(<a href="#44264" title="java.io.File">file</a>, <a href="#44267" title="java.io.File">targetFile</a>, <a href="#44236" title="sbt.Logger">log</a>)
					}
			}
		<a href="#44237" title="(java.io.File,java.io.File)Option[String]">copyDirectory</a>(<a href="#44234" title="java.io.File">source</a>, <a href="#44235" title="java.io.File">target</a>)
	}

	
	<span class="comment">/** Deletes the given files recursively.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],sbt.Logger)Option[String]" id="9438">clean</a>(<a title="Iterable[sbt.Path]" id="21653">files</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="sbt.Logger" id="21654">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9439" title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]">clean</a>(<a href="#21653" title="Iterable[sbt.Path]">files</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#21654" title="sbt.Logger">log</a>)
	<span class="comment">/** Deletes the given files recursively.  &lt;code&gt;quiet&lt;/code&gt; determines the logging level.
	* If it is true, each file in &lt;code&gt;files&lt;/code&gt; is logged at the &lt;code&gt;info&lt;/code&gt; level.
	* If it is false, the &lt;code&gt;debug&lt;/code&gt; level is used.*/</span>
	<span class="keyword">def</span> <a title="(Iterable[sbt.Path],Boolean,sbt.Logger)Option[String]" id="9439">clean</a>(<a title="Iterable[sbt.Path]" id="21650">files</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="Boolean" id="21651">quiet</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="21652">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9440" title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]">deleteFiles</a>(<a href="#21650" title="Iterable[sbt.Path]">files</a>.<a title="((sbt.Path) =&gt; java.io.File)Iterable[java.io.File]" id="7246">map</a>(<a href="#44289" title="sbt.Path">_</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>), <a href="#21651" title="Boolean">quiet</a>, <a href="#21652" title="sbt.Logger">log</a>)
			
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]" id="9440">deleteFiles</a>(<a title="Iterable[java.io.File]" id="44284">files</a>: <a title="Iterable[java.io.File]" id="358">Iterable</a>[File], <a title="Boolean" id="44285">quiet</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="44286">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		((<a title="object None" id="488">None</a>: <a title="Option[String]" id="871">Option</a>[String]) <a href="#44290" title="(Option[String])((Option[String], java.io.File) =&gt; Option[String])Option[String]" id="7267">/:</a> <a href="#44284" title="Iterable[java.io.File]">files</a>)( (<a title="Option[String]" id="44293">result</a>, <a title="java.io.File" id="44294">file</a>) =&gt; <a href="#44293" title="Option[String]">result</a> <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a> <a href="#9441" title="(java.io.File,Boolean,sbt.Logger)Option[String]">delete</a>(<a href="#44294" title="java.io.File">file</a>, <a href="#44285" title="Boolean">quiet</a>, <a href="#44286" title="sbt.Logger">log</a>))
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean,sbt.Logger)Option[String]" id="9441">delete</a>(<a title="java.io.File" id="43998">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Boolean" id="43999">quiet</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="44000">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span class="keyword">def</span> <a title="(=&gt; String)Unit" id="44297">logMessage</a>(<a title="=&gt; String" id="44298">message</a>: =&gt; String)
		{
			<a href="#44000" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<span title="sbt.Level.Value" class="keyword">if</span>(<a href="#43999" title="Boolean">quiet</a>) <a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20852" title="=&gt; sbt.Level.Value">Debug</a> <span class="keyword">else</span> <a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20854" title="=&gt; sbt.Level.Value">Info</a>, <a href="#44298" title="=&gt; String">message</a>)
		}
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Error deleting file &quot;)" class="string">&quot;Error deleting file &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43998" title="java.io.File">file</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#44000" title="sbt.Logger">log</a>)
		{
			<span title="AnyVal with NotNull" class="keyword">if</span>(<a href="#43998" title="java.io.File">file</a>.<a title="()Boolean" id="9560">isDirectory</a>)
			{
				<a href="#44297" title="(=&gt; String)Unit">logMessage</a>(<span title="java.lang.String(&quot;Deleting directory &quot;)" class="string">&quot;Deleting directory &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43998" title="java.io.File">file</a>)
				<a href="#9440" title="(Iterable[java.io.File],Boolean,sbt.Logger)Option[String]">deleteFiles</a>(<a href="#9481" title="(Array[java.io.File])Array[java.io.File]">wrapNull</a>(<a href="#43998" title="java.io.File">file</a>.<a title="()Array[java.io.File]" id="9570">listFiles</a>), <span title="Boolean(true)" class="keyword">true</span>, <a href="#44000" title="sbt.Logger">log</a>)
				<a href="#43998" title="java.io.File">file</a>.<a title="()Boolean" id="9566">delete</a>
			}
			<span class="keyword">else</span> <span title="Unit" class="keyword">if</span>(<a href="#43998" title="java.io.File">file</a>.<a title="()Boolean" id="9559">exists</a>)
			{
				<a href="#44297" title="(=&gt; String)Unit">logMessage</a>(<span title="java.lang.String(&quot;Deleting file &quot;)" class="string">&quot;Deleting file &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#43998" title="java.io.File">file</a>)
				<a href="#43998" title="java.io.File">file</a>.<a title="()Boolean" id="9566">delete</a>
			}
			<a title="object None" id="488">None</a>
		}
	}
	
	<span class="comment">/** Appends the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the default encoding.
	* A new file is created if it does not exist.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,sbt.Logger)Option[String]" id="9442">append</a>(<a title="java.io.File" id="44311">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="String" id="44312">content</a>: <a title="String" id="1751">String</a>, <a title="sbt.Logger" id="44313">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9443" title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]">append</a>(<a href="#44311" title="java.io.File">file</a>, <a href="#44312" title="String">content</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#44313" title="sbt.Logger">log</a>)
	<span class="comment">/** Appends the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the given encoding.
	* A new file is created if it does not exist.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]" id="9443">append</a>(<a title="java.io.File" id="44318">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="String" id="44319">content</a>: <a title="String" id="1751">String</a>, <a title="java.nio.charset.Charset" id="44320">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="44321">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9446" title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]">write</a>(<a href="#44318" title="java.io.File">file</a>, <a href="#44319" title="String">content</a>, <a href="#44320" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#44321" title="sbt.Logger">log</a>)
	
	<span class="comment">/** Writes the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the default encoding.
	* If the file exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,sbt.Logger)Option[String]" id="9444">write</a>(<a title="java.io.File" id="21225">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="String" id="21226">content</a>: <a title="String" id="1751">String</a>, <a title="sbt.Logger" id="21227">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] = <a href="#9445" title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]">write</a>(<a href="#21225" title="java.io.File">file</a>, <a href="#21226" title="String">content</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#21227" title="sbt.Logger">log</a>)
	<span class="comment">/** Writes the given &lt;code&gt;String content&lt;/code&gt; to the provided &lt;code&gt;file&lt;/code&gt; using the given encoding.
	* If the file already exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,sbt.Logger)Option[String]" id="9445">write</a>(<a title="java.io.File" id="21221">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="String" id="21222">content</a>: <a title="String" id="1751">String</a>, <a title="java.nio.charset.Charset" id="21223">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="21224">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9446" title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]">write</a>(<a href="#21221" title="java.io.File">file</a>, <a href="#21222" title="String">content</a>, <a href="#21223" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#21224" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,String,java.nio.charset.Charset,Boolean,sbt.Logger)Option[String]" id="9446">write</a>(<a title="java.io.File" id="44328">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="String" id="44329">content</a>: <a title="String" id="1751">String</a>, <a title="java.nio.charset.Charset" id="44330">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="Boolean" id="44331">append</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="44332">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
	{
		<span title="Option[String]" class="keyword">if</span>(<a href="#44330" title="java.nio.charset.Charset">charset</a>.<a title="()java.nio.charset.CharsetEncoder" id="21200">newEncoder</a>.<a title="(java.lang.CharSequence)Boolean" id="44359">canEncode</a>(<a href="#44329" title="String">content</a>))
			<a href="#9450" title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#44328" title="java.io.File">file</a>, <a href="#44330" title="java.nio.charset.Charset">charset</a>, <a href="#44331" title="Boolean">append</a>, <a href="#44332" title="sbt.Logger">log</a>) { <a title="java.io.Writer" id="44365">w</a> =&gt;  <a href="#44365" title="java.io.Writer">w</a>.<a title="(java.lang.String)Unit" id="21177">write</a>(<a href="#44329" title="String">content</a>); <a title="object None" id="488">None</a> }
		<span class="keyword">else</span>
			<span id="10256"><a title="(java.lang.String)Some[java.lang.String]" id="275">Some</a></span>(<span title="java.lang.String(&quot;String cannot be encoded by default charset.&quot;)" class="string">&quot;String cannot be encoded by default charset.&quot;</span>)
	}
	
	<span class="keyword">import</span> OpenResource._
	
	<span class="comment">/** Opens a &lt;code&gt;Writer&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Writer&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="9448">write</a>(<a title="java.io.File" id="21218">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="21219">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="21220">f</a>: Writer =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9449" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#21218" title="java.io.File">file</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#21219" title="sbt.Logger">log</a>)(<a href="#21220" title="(java.io.Writer) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Writer&lt;/code&gt; on the given file using the given encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Writer&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="9449">write</a>(<a title="java.io.File" id="21167">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.nio.charset.Charset" id="21168">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="21169">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="21170">f</a>: Writer =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9450" title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">write</a>(<a href="#21167" title="java.io.File">file</a>, <a href="#21168" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#21169" title="sbt.Logger">log</a>)(<a href="#21170" title="(java.io.Writer) =&gt; Option[String]">f</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,Boolean,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]" id="9450">write</a>(<a title="java.io.File" id="44323">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.nio.charset.Charset" id="44324">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="Boolean" id="44325">append</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="44326">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Writer) =&gt; Option[String]" id="44327">f</a>: Writer =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21135" title="(java.nio.charset.Charset,Boolean)sbt.OpenFile[java.io.Writer]">fileWriter</a>(<a href="#44324" title="java.nio.charset.Charset">charset</a>, <a href="#44325" title="Boolean">append</a>).<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.io.Writer) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#44323" title="java.io.File">file</a>, <span title="java.lang.String(&quot;writing&quot;)" class="string">&quot;writing&quot;</span>, <a href="#44326" title="sbt.Logger">log</a>)(<a href="#44327" title="(java.io.Writer) =&gt; Option[String]">f</a>)
		
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]" id="9451">read</a>(<a title="java.io.File" id="44464">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44465">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Option[String]" id="44466">f</a>: Reader =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9452" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]">read</a>(<a href="#44464" title="java.io.File">file</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#44465" title="sbt.Logger">log</a>)(<a href="#44466" title="(java.io.Reader) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]" id="9452">read</a>(<a title="java.io.File" id="44468">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.nio.charset.Charset" id="44469">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="44470">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Option[String]" id="44471">f</a>: Reader =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21136" title="(java.nio.charset.Charset)sbt.OpenFile[java.io.Reader]">fileReader</a>(<a href="#44469" title="java.nio.charset.Charset">charset</a>).<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.io.Reader) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#44468" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#44470" title="sbt.Logger">log</a>)(<a href="#44471" title="(java.io.Reader) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the default encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]" id="9453">readValue</a>[<a title="&gt;: Nothing &lt;: Any" id="9455">R</a>](<a title="java.io.File" id="44539">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44540">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Either[String,R]" id="44541">f</a>: Reader =&gt; Either[String, R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#9456" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]">readValue</a>(<a href="#44539" title="java.io.File">file</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#44540" title="sbt.Logger">log</a>)(<a href="#44541" title="(java.io.Reader) =&gt; Either[String,R]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;Reader&lt;/code&gt; on the given file using the given encoding,
	* passes it to the provided function, and closes the &lt;code&gt;Reader&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]" id="9456">readValue</a>[<a title="&gt;: Nothing &lt;: Any" id="9458">R</a>](<a title="java.io.File" id="44543">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.nio.charset.Charset" id="44544">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="44545">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.Reader) =&gt; Either[String,R]" id="44546">f</a>: Reader =&gt; Either[String, R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#21136" title="(java.nio.charset.Charset)sbt.OpenFile[java.io.Reader]">fileReader</a>(<a href="#44544" title="java.nio.charset.Charset">charset</a>).<a href="#44381" title="(java.io.File,String,sbt.Logger)((java.io.Reader) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#44543" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#44545" title="sbt.Logger">log</a>)(<a href="#44546" title="(java.io.Reader) =&gt; Either[String,R]">f</a>)
		
	<span class="comment">/** Reads the contents of the given file into a &lt;code&gt;String&lt;/code&gt; using the default encoding.
	*  The resulting &lt;code&gt;String&lt;/code&gt; is wrapped in &lt;code&gt;Right&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,String]" id="9459">readString</a>(<a title="java.io.File" id="44551">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44552">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,String]" id="322">Either</a>[String, String] = <a href="#9460" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)Either[String,String]">readString</a>(<a href="#44551" title="java.io.File">file</a>, <a title="object java.nio.charset.Charset" id="9887">Charset</a>.<a title="()java.nio.charset.Charset" id="21191">defaultCharset</a>, <a href="#44552" title="sbt.Logger">log</a>)
	<span class="comment">/** Reads the contents of the given file into a &lt;code&gt;String&lt;/code&gt; using the given encoding.
	*  The resulting &lt;code&gt;String&lt;/code&gt; is wrapped in &lt;code&gt;Right&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,java.nio.charset.Charset,sbt.Logger)Either[String,String]" id="9460">readString</a>(<a title="java.io.File" id="44554">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="java.nio.charset.Charset" id="44555">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="sbt.Logger" id="44556">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,String]" id="322">Either</a>[String, String] =
	{
		<a href="#9456" title="(java.io.File,java.nio.charset.Charset,sbt.Logger)((java.io.Reader) =&gt; Either[String,String])Either[String,String]">readValue</a>(<a href="#44554" title="java.io.File">file</a>, <a href="#44555" title="java.nio.charset.Charset">charset</a>, <a href="#44556" title="sbt.Logger">log</a>) {
			<a title="java.io.Reader" id="44562">in</a> =&gt;
			{
				<span class="keyword">val</span> <a title="StringBuilder" id="44563">builder</a> = <a title="()StringBuilder" id="9298" class="keyword">new</a> <a title="StringBuilder" id="1339">StringBuilder</a>
				<span class="keyword">val</span> <a title="Array[Char]" id="44564">buffer</a> = <span title="Array[Char]" class="keyword">new</span> <a title="Array[Char]" id="1003">Array</a>[Char](<a href="#9388" title="=&gt; Int">BufferSize</a>)
				<span class="keyword">def</span> <a title="()Unit" id="44565">readNext</a>()
				{
					<span class="keyword">val</span> <a title="Int" id="44570">read</a> = <a href="#44562" title="java.io.Reader">in</a>.<a title="(Array[Char],Int,Int)Int" id="24752">read</a>(<a href="#44564" title="Array[Char]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#44564" title="Array[Char]">buffer</a>.<a title="=&gt; Int" id="6981">length</a>)
					<span title="Unit" class="keyword">if</span>(<a href="#44570" title="Int">read</a> <a title="(Int)Boolean" id="3036">&gt;=</a> <span title="Int(0)" class="int">0</span>)
					{
						<a href="#44563" title="StringBuilder">builder</a>.<a title="(Array[Char],Int,Int)StringBuilder" id="9321">append</a>(<a href="#44564" title="Array[Char]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#44570" title="Int">read</a>)
						<a href="#44565" title="()Unit">readNext</a>()
					}
					<span class="keyword">else</span>
						<a title="object None" id="488">None</a>
				}
				<a href="#44565" title="()Unit">readNext</a>()
				<span id="29414"><a title="(String)Right[Nothing,String]" id="476">Right</a></span>(<a href="#44563" title="StringBuilder">builder</a>.<a title="()String" id="9350">toString</a>)
			}
		}
	}
	<span class="comment">/** Appends the given bytes to the given file. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,Array[Byte],sbt.Logger)Option[String]" id="9461">append</a>(<a title="java.io.File" id="44315">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Array[Byte]" id="44316">bytes</a>: <a title="Array[Byte]" id="1003">Array</a>[Byte], <a title="sbt.Logger" id="44317">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9463" title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]">writeBytes</a>(<a href="#44315" title="java.io.File">file</a>, <a href="#44316" title="Array[Byte]">bytes</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#44317" title="sbt.Logger">log</a>)
	<span class="comment">/** Writes the given bytes to the given file. If the file already exists, it is overwritten.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,Array[Byte],sbt.Logger)Option[String]" id="9462">write</a>(<a title="java.io.File" id="21122">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Array[Byte]" id="21123">bytes</a>: <a title="Array[Byte]" id="1003">Array</a>[Byte], <a title="sbt.Logger" id="21124">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9463" title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]">writeBytes</a>(<a href="#21122" title="java.io.File">file</a>, <a href="#21123" title="Array[Byte]">bytes</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#21124" title="sbt.Logger">log</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Array[Byte],Boolean,sbt.Logger)Option[String]" id="9463">writeBytes</a>(<a title="java.io.File" id="44748">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Array[Byte]" id="44749">bytes</a>: <a title="Array[Byte]" id="1003">Array</a>[Byte], <a title="Boolean" id="44750">append</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="44751">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#9467" title="(java.io.File,Boolean,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#44748" title="java.io.File">file</a>, <a href="#44750" title="Boolean">append</a>, <a href="#44751" title="sbt.Logger">log</a>) { <a title="java.io.OutputStream" id="44754">out</a> =&gt; <a href="#44754" title="java.io.OutputStream">out</a>.<a title="(Array[Byte])Unit" id="22040">write</a>(<a href="#44749" title="Array[Byte]">bytes</a>); <a title="object None" id="488">None</a> }
	
	<span class="comment">/** Reads the entire file into a byte array. */</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,Array[Byte]]" id="9464">readBytes</a>(<a title="java.io.File" id="44757">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44758">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,Array[Byte]]" id="322">Either</a>[String, Array[Byte]] =
		<a href="#9469" title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,Array[Byte]])Either[String,Array[Byte]]">readStreamValue</a>(<a href="#44757" title="java.io.File">file</a>, <a href="#44758" title="sbt.Logger">log</a>)
		{ <a title="java.io.InputStream" id="44766">in</a> =&gt;
			<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="44767">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <a title="java.io.ByteArrayOutputStream" id="3541">ByteArrayOutputStream</a>
			<span class="keyword">val</span> <a title="Array[Byte]" id="44768">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <a title="Array[Byte]" id="1003">Array</a>[Byte](<a href="#9388" title="=&gt; Int">BufferSize</a>)
			<span class="keyword">def</span> <a title="()Unit" id="44769">readNext</a>()
			{
				<span class="keyword">val</span> <a title="Int" id="44788">read</a> = <a href="#44766" title="java.io.InputStream">in</a>.<a title="(Array[Byte])Int" id="22799">read</a>(<a href="#44768" title="Array[Byte]">buffer</a>)
				<span title="Unit" class="keyword">if</span>(<a href="#44788" title="Int">read</a> <a title="(Int)Boolean" id="3036">&gt;=</a> <span title="Int(0)" class="int">0</span>)
				{
					<a href="#44767" title="java.io.ByteArrayOutputStream">out</a>.<a title="(Array[Byte],Int,Int)Unit" id="44775">write</a>(<a href="#44768" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#44788" title="Int">read</a>)
					<a href="#44769" title="()Unit">readNext</a>()
				}
			}
			<a href="#44769" title="()Unit">readNext</a>()
			<span id="29414"><a title="(Array[Byte])Right[Nothing,Array[Byte]]" id="476">Right</a></span>(<a href="#44767" title="java.io.ByteArrayOutputStream">out</a>.<a title="()Array[Byte]" id="44778">toByteArray</a>)
		}
		
	<span class="comment">/** Opens an &lt;code&gt;OutputStream&lt;/code&gt; on the given file with append=true and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="9465">appendStream</a>(<a title="java.io.File" id="44814">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44815">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="44816">f</a>: OutputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21130" title="(Boolean)sbt.OpenFile[java.io.FileOutputStream]">fileOutputStream</a>(<span title="Boolean(true)" class="keyword">true</span>).<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.io.FileOutputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#44814" title="java.io.File">file</a>, <span title="java.lang.String(&quot;appending&quot;)" class="string">&quot;appending&quot;</span>, <a href="#44815" title="sbt.Logger">log</a>)(<a href="#44816" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;OutputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="9466">writeStream</a>(<a title="java.io.File" id="22035">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="22036">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="22037">f</a>: OutputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21130" title="(Boolean)sbt.OpenFile[java.io.FileOutputStream]">fileOutputStream</a>(<span title="Boolean(false)" class="keyword">false</span>).<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.io.FileOutputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#22035" title="java.io.File">file</a>, <span title="java.lang.String(&quot;writing&quot;)" class="string">&quot;writing&quot;</span>, <a href="#22036" title="sbt.Logger">log</a>)(<a href="#22037" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(java.io.File,Boolean,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]" id="9467">writeStream</a>(<a title="java.io.File" id="43431">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="Boolean" id="43432">append</a>: <a title="Boolean" id="2060">Boolean</a>, <a title="sbt.Logger" id="43433">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.OutputStream) =&gt; Option[String]" id="43434">f</a>: OutputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<span title="Option[String]" class="keyword">if</span>(<a href="#43432" title="Boolean">append</a>) <a href="#9465" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">appendStream</a>(<a href="#43431" title="java.io.File">file</a>, <a href="#43433" title="sbt.Logger">log</a>)(<a href="#43434" title="(java.io.OutputStream) =&gt; Option[String]">f</a>) <span class="keyword">else</span> <a href="#9466" title="(java.io.File,sbt.Logger)((java.io.OutputStream) =&gt; Option[String])Option[String]">writeStream</a>(<a href="#43431" title="java.io.File">file</a>, <a href="#43433" title="sbt.Logger">log</a>)(<a href="#43434" title="(java.io.OutputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]" id="9468">readStream</a>(<a title="java.io.File" id="22847">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="22848">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Option[String]" id="22849">f</a>: InputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21131" title="=&gt; sbt.OpenFile[java.io.FileInputStream]">fileInputStream</a>.<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.io.FileInputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#22847" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#22848" title="sbt.Logger">log</a>)(<a href="#22849" title="(java.io.InputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given file and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]" id="9469">readStreamValue</a>[<a title="&gt;: Nothing &lt;: Any" id="9471">R</a>](<a title="java.io.File" id="43238">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="43239">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Either[String,R]" id="43240">f</a>: InputStream =&gt; Either[String, R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#21131" title="=&gt; sbt.OpenFile[java.io.FileInputStream]">fileInputStream</a>.<a href="#44381" title="(java.io.File,String,sbt.Logger)((java.io.FileInputStream) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#43238" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#43239" title="sbt.Logger">log</a>)(<a href="#43240" title="(java.io.InputStream) =&gt; Either[String,R]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given &lt;code&gt;URL&lt;/code&gt; and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]" id="9472">readStream</a>(<a title="java.net.URL" id="22794">url</a>: <a title="java.net.URL" id="4281">URL</a>, <a title="sbt.Logger" id="22795">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Option[String]" id="22796">f</a>: InputStream =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21132" title="=&gt; sbt.OpenResource[java.net.URL,java.io.InputStream]">urlInputStream</a>.<a href="#44380" title="(java.net.URL,String,sbt.Logger)((java.io.InputStream) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#22794" title="java.net.URL">url</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#22795" title="sbt.Logger">log</a>)(<a href="#22796" title="(java.io.InputStream) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens an &lt;code&gt;InputStream&lt;/code&gt; on the given &lt;code&gt;URL&lt;/code&gt; and passes the stream
	* to the provided function.  The stream is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.net.URL,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]" id="9473">readStreamValue</a>[<a title="&gt;: Nothing &lt;: Any" id="9475">R</a>](<a title="java.net.URL" id="43234">url</a>: <a title="java.net.URL" id="4281">URL</a>, <a title="sbt.Logger" id="43235">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.io.InputStream) =&gt; Either[String,R]" id="43236">f</a>: InputStream =&gt; Either[String, R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#21132" title="=&gt; sbt.OpenResource[java.net.URL,java.io.InputStream]">urlInputStream</a>.<a href="#44381" title="(java.net.URL,String,sbt.Logger)((java.io.InputStream) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#43234" title="java.net.URL">url</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#43235" title="sbt.Logger">log</a>)(<a href="#43236" title="(java.io.InputStream) =&gt; Either[String,R]">f</a>)
		
	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for writing and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]" id="9476">writeChannel</a>(<a title="java.io.File" id="44177">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44178">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Option[String]" id="44179">f</a>: FileChannel =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21133" title="=&gt; sbt.OpenFile[java.nio.channels.FileChannel]">fileOutputChannel</a>.<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#44177" title="java.io.File">file</a>, <span title="java.lang.String(&quot;writing&quot;)" class="string">&quot;writing&quot;</span>, <a href="#44178" title="sbt.Logger">log</a>)(<a href="#44179" title="(java.nio.channels.FileChannel) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for reading and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]" id="9477">readChannel</a>(<a title="java.io.File" id="44124">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44125">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Option[String]" id="44126">f</a>: FileChannel =&gt; Option[String]): <a title="Option[String]" id="871">Option</a>[String] =
		<a href="#21134" title="=&gt; sbt.OpenFile[java.nio.channels.FileChannel]">fileInputChannel</a>.<a href="#44380" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Option[String])Option[String]">ioOption</a>(<a href="#44124" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#44125" title="sbt.Logger">log</a>)(<a href="#44126" title="(java.nio.channels.FileChannel) =&gt; Option[String]">f</a>)
	<span class="comment">/** Opens a &lt;code&gt;FileChannel&lt;/code&gt; on the given file for reading and passes the channel
	* to the given function.  The channel is closed before this function returns.*/</span>
	<span class="keyword">def</span> <a title="[R](java.io.File,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Either[String,R])Either[String,R]" id="9478">readChannelValue</a>[<a title="&gt;: Nothing &lt;: Any" id="9480">R</a>](<a title="java.io.File" id="44912">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44913">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(java.nio.channels.FileChannel) =&gt; Either[String,R]" id="44914">f</a>: FileChannel =&gt; Either[String, R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#21134" title="=&gt; sbt.OpenFile[java.nio.channels.FileChannel]">fileInputChannel</a>.<a href="#44381" title="(java.io.File,String,sbt.Logger)((java.nio.channels.FileChannel) =&gt; Either[String,R])Either[String,R]">io</a>(<a href="#44912" title="java.io.File">file</a>, <span title="java.lang.String(&quot;reading&quot;)" class="string">&quot;reading&quot;</span>, <a href="#44913" title="sbt.Logger">log</a>)(<a href="#44914" title="(java.nio.channels.FileChannel) =&gt; Either[String,R]">f</a>)
	
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(Array[java.io.File])Array[java.io.File]" id="9481">wrapNull</a>(<a title="Array[java.io.File]" id="43622">a</a>: <a title="Array[java.io.File]" id="1003">Array</a>[File]): <a title="Array[java.io.File]" id="1003">Array</a>[File] =
		<span title="Array[java.io.File]" class="keyword">if</span>(<a href="#43622" title="Array[java.io.File]">a</a> <a title="(AnyRef)Boolean" id="3399">==</a> <span title="Null(null)" class="keyword">null</span>)
			<span title="Array[java.io.File]" class="keyword">new</span> <a title="Array[java.io.File]" id="1003">Array</a>[File](<span title="Int(0)" class="int">0</span>)
		<span class="keyword">else</span>
			<a href="#43622" title="Array[java.io.File]">a</a>
			
	<span class="comment">/** Writes the given string to the writer followed by a newline.*/</span>
	<span class="keyword">private</span>[sbt] <span class="keyword">def</span> <a title="(java.io.Writer,String)Unit" id="9482">writeLine</a>(<a title="java.io.Writer" id="21323">writer</a>: <a title="java.io.Writer" id="3694">Writer</a>, <a title="String" id="21324">line</a>: <a title="String" id="1751">String</a>)
	{
		<a href="#21323" title="java.io.Writer">writer</a>.<a title="(java.lang.String)Unit" id="21177">write</a>(<a href="#21324" title="String">line</a>)
		<a href="#21323" title="java.io.Writer">writer</a>.<a title="(java.lang.String)Unit" id="21177">write</a>(<a href="#9390" title="=&gt; java.lang.String">Newline</a>)
	}
	
	<span class="comment">/** The directory in which temporary files are placed.*/</span>
	<span class="keyword">val</span> <span id="9484"><a title="java.io.File" id="9483">temporaryDirectory</a></span> = <span title="java.io.File" class="keyword">new</span> <a title="java.io.File" id="3559">File</a>(<a title="object java.lang.System" id="1776">System</a>.<a title="(java.lang.String)java.lang.String" id="24457">getProperty</a>(<span title="java.lang.String(&quot;java.io.tmpdir&quot;)" class="string">&quot;java.io.tmpdir&quot;</span>))
	<span class="comment">/** The location of the jar containing this class.*/</span>
	<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.File" id="9486">sbtJar</a>: <a title="java.io.File" id="3559">File</a> = <a title="(java.net.URI)java.io.File" id="9545" class="keyword">new</a> <a title="java.io.File" id="3559">File</a>(<a title="()java.lang.Class[_ &lt;: java.lang.Object]" id="3401">getClass</a>.<a title="()java.security.ProtectionDomain" id="4881">getProtectionDomain</a>.<a title="()java.security.CodeSource" id="44927">getCodeSource</a>.<a title="()java.net.URL" id="44938">getLocation</a>.<a title="()java.net.URI" id="22837">toURI</a>)
	<span class="comment">/** The producer of randomness for unique name generation.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="9488"><a title="java.util.Random" id="9487">random</a></span> = <span title="java.util.Random" class="keyword">new</span> java.util.<a title="java.util.Random" id="5600">Random</a>
}
<span class="keyword">class</span> <a title="class CloseableJarFile extends java.util.jar.JarFile with java.io.Closeable with ScalaObject" id="6353">CloseableJarFile</a>(<span id="44964"><a title="java.io.File" id="45017">f</a></span>: <a title="java.io.File" id="3559">File</a>, <span id="44965"><a title="Boolean" id="45018">verify</a></span>: <a title="Boolean" id="2060">Boolean</a>) <span class="keyword">extends</span> <span id="10061"><a title="java.util.jar.JarFile" id="44950">JarFile</a></span>(<a href="#45017" title="java.io.File">f</a>, <a href="#45018" title="Boolean">verify</a>) <span class="keyword">with</span> <a title="java.io.Closeable" id="3535">Closeable</a>
{
	<span class="keyword">def</span> <a title="(java.io.File)sbt.CloseableJarFile" id="44967" class="keyword">this</a>(<a title="java.io.File" id="45036">f</a>: <a title="java.io.File" id="3559">File</a>) = <a href="#6353" title="CloseableJarFile.this.type" class="keyword">this</a>(<a href="#45036" title="java.io.File">f</a>, <span title="Boolean(false)" class="keyword">false</span>)
}

<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OpenResource[Source, T &lt;: java.io.Closeable] extends java.lang.Object with NotNull with ScalaObject" id="6354">OpenResource</a>[<a title="&gt;: Nothing &lt;: Any" id="6355">Source</a>, <a title="&gt;: Nothing &lt;: java.io.Closeable" id="6356">T</a> &lt;: Closeable] <span class="keyword">extends</span> <a title="NotNull" id="187">NotNull</a>
{
	<span class="keyword">import</span> OpenResource.{unwrapEither, wrapEither}
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(Source,sbt.Logger)Either[String,T]" id="44379">open</a>(<a title="Source" id="44393">src</a>: <a href="#6355" title="Source">Source</a>, <a title="sbt.Logger" id="44394">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,T]" id="322">Either</a>[String, T]
	<span class="keyword">def</span> <a title="(Source,String,sbt.Logger)((T) =&gt; Option[String])Option[String]" id="44380">ioOption</a>(<a title="Source" id="44451">src</a>: <a href="#6355" title="Source">Source</a>, <a title="String" id="44452">op</a>: <a title="String" id="1751">String</a>, <a title="sbt.Logger" id="44453">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(T) =&gt; Option[String]" id="44454">f</a>: T =&gt; Option[String]) =
		<a href="#21129" title="(Either[String,Unit])Option[String]">unwrapEither</a>( <a href="#44381" title="(Source,String,sbt.Logger)((T) =&gt; Either[String,Unit])Either[String,Unit]">io</a>(<a href="#44451" title="Source">src</a>, <a href="#44452" title="String">op</a>, <a href="#44453" title="sbt.Logger">log</a>)(<a href="#21126" title="((T) =&gt; Option[String])(T) =&gt; Either[String,Unit]">wrapEither</a>(<a href="#44454" title="(T) =&gt; Option[String]">f</a>)) )
	<span class="keyword">def</span> <a title="[R](Source,String,sbt.Logger)((T) =&gt; Either[String,R])Either[String,R]" id="44381">io</a>[<a title="&gt;: Nothing &lt;: Any" id="44383">R</a>](<a title="Source" id="44457">src</a>: <a href="#6355" title="Source">Source</a>, <a title="String" id="44458">op</a>: <a title="String" id="1751">String</a>, <a title="sbt.Logger" id="44459">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>)(<a title="(T) =&gt; Either[String,R]" id="44460">f</a>: T =&gt; Either[String,R]): <a title="Either[String,R]" id="322">Either</a>[String, R] =
		<a href="#44379" title="(Source,sbt.Logger)Either[String,T]">open</a>(<a href="#44457" title="Source">src</a>, <a href="#44459" title="sbt.Logger">log</a>).<a title="=&gt; Either.RightProjection[String,T]" id="22142">right</a> <a title="((T) =&gt; Either[String,R])Either[String,R]" id="22106">flatMap</a>
		{
			<a title="T" id="45052">resource</a> =&gt; <a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10186" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,R])(=&gt; Unit)Either[String,R]">trapAndFinally</a>(<span title="java.lang.String(&quot;Error &quot;)" class="string">&quot;Error &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44458" title="String">op</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><a title="(Any)java.lang.String" id="5683">+</a> <a href="#44457" title="Source">src</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#44459" title="sbt.Logger">log</a>)
				{ <a href="#44460" title="(T)Either[String,R]" id="7221">f</a>(<a href="#45052" title="T">resource</a>) }
				{ <a href="#45052" title="T">resource</a>.<a title="()Unit" id="24760">close</a> }
		}
}
<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OpenFile[T &lt;: java.io.Closeable] extends sbt.OpenResource[java.io.File,T] with ScalaObject" id="6357">OpenFile</a>[<a title="&gt;: Nothing &lt;: java.io.Closeable" id="6358">T</a> &lt;: Closeable] <span class="keyword">extends</span> <a href="#6354" title="sbt.OpenResource[java.io.File,T]">OpenResource</a>[File, T]
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)T" id="44385">open</a>(<a title="java.io.File" id="44392">file</a>: <a title="java.io.File" id="3559">File</a>): <a href="#6358" title="T">T</a>
	<span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(java.io.File,sbt.Logger)Either[String,T]" id="44386">open</a>(<a title="java.io.File" id="44395">file</a>: <a title="java.io.File" id="3559">File</a>, <a title="sbt.Logger" id="44396">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Either[String,T]" id="322">Either</a>[String, T] =
	{
		<span class="keyword">val</span> <a title="java.io.File" id="45055">parent</a> = <a href="#44395" title="java.io.File">file</a>.<a title="()java.io.File" id="9548">getParentFile</a>
		<span title="Unit" class="keyword">if</span>(<a href="#45055" title="java.io.File">parent</a> <a title="(AnyRef)Boolean" id="5674">!=</a> <span title="Null(null)" class="keyword">null</span>)
			<a href="#6351" title="object sbt.FileUtilities">FileUtilities</a>.<a href="#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#45055" title="java.io.File">parent</a>, <a href="#44396" title="sbt.Logger">log</a>)
		<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10183" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,T])Either[String,T]">trap</a>(<span title="java.lang.String(&quot;Error opening &quot;)" class="string">&quot;Error opening &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44395" title="java.io.File">file</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#44396" title="sbt.Logger">log</a>) { <span id="29414"><a title="(T)Right[Nothing,T]" id="476">Right</a></span>(<a href="#44385" title="(java.io.File)T">open</a>(<a href="#44395" title="java.io.File">file</a>)) }
	}
}
<span class="keyword">private</span> <span class="keyword">object</span> <a title="object sbt.OpenResource" id="6359">OpenResource</a>
{
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="[R]((R) =&gt; Option[String])(R) =&gt; Either[String,Unit]" id="21126">wrapEither</a>[<a title="&gt;: Nothing &lt;: Any" id="21128">R</a>](<a title="(R) =&gt; Option[String]" id="44462">f</a>: R =&gt; Option[String]): (R =&gt; Either[String, Unit]) = (<a title="R" id="45070">r</a>: <a href="#21128" title="R">R</a>) =&gt; <a href="#44462" title="(R)Option[String]" id="7221">f</a>(<a href="#45070" title="R">r</a>).<a title="(=&gt; Unit)Either[String,Unit] with Product" id="10169">toLeft</a>(<span title="Unit">(</span>))
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(Either[String,Unit])Option[String]" id="21129">unwrapEither</a>(<a title="Either[String,Unit]" id="44456">e</a>: <a title="Either[String,Unit]" id="322">Either</a>[String, Unit]): <a title="Option[String]" id="871">Option</a>[String] = <a href="#44456" title="Either[String,Unit]">e</a>.<a title="=&gt; Either.LeftProjection[String,Unit]" id="22055">left</a>.<a title="=&gt; Option[String]" id="22077">toOption</a>
	
	<span class="keyword">def</span> <a title="(Boolean)sbt.OpenFile[java.io.FileOutputStream]" id="21130">fileOutputStream</a>(<a title="Boolean" id="44817">append</a>: <a title="Boolean" id="2060">Boolean</a>) =
		<a title="template $anon extends sbt.OpenFile[java.io.FileOutputStream]" id="44819" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.io.FileOutputStream]">OpenFile</a>[FileOutputStream] { <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.FileOutputStream" id="44821">open</a>(<a title="java.io.File" id="44823">file</a>: <a title="java.io.File" id="3559">File</a>) = <a title="(java.io.File,Boolean)java.io.FileOutputStream" id="44418" class="keyword">new</a> <a title="java.io.FileOutputStream" id="3688">FileOutputStream</a>(<a href="#44823" title="java.io.File">file</a>, <a href="#44817" title="Boolean">append</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.OpenFile[java.io.FileInputStream]" id="21131">fileInputStream</a> = <a title="template $anon extends sbt.OpenFile[java.io.FileInputStream]" id="44852" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.io.FileInputStream]">OpenFile</a>[FileInputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.FileInputStream" id="44854">open</a>(<a title="java.io.File" id="44856">file</a>: <a title="java.io.File" id="3559">File</a>) = <a title="(java.io.File)java.io.FileInputStream" id="43632" class="keyword">new</a> <a title="java.io.FileInputStream" id="3700">FileInputStream</a>(<a href="#44856" title="java.io.File">file</a>) }
	<span class="keyword">def</span> <a title="=&gt; sbt.OpenResource[java.net.URL,java.io.InputStream]" id="21132">urlInputStream</a> = <a title="template $anon extends sbt.OpenResource[java.net.URL,java.io.InputStream]" id="44866" class="keyword">new</a> <a href="#6354" title="sbt.OpenResource[java.net.URL,java.io.InputStream]">OpenResource</a>[URL, InputStream]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.net.URL,sbt.Logger)Either[String,java.io.InputStream]" id="44868">open</a>(<a title="java.net.URL" id="44870">url</a>: <a title="java.net.URL" id="4281">URL</a>, <a title="sbt.Logger" id="44871">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) = <a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10183" title="(=&gt; String,sbt.Logger)(=&gt; Either[String,java.io.InputStream])Either[String,java.io.InputStream]">trap</a>(<span title="java.lang.String(&quot;Error opening &quot;)" class="string">&quot;Error opening &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#44870" title="java.net.URL">url</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span>, <a href="#44871" title="sbt.Logger">log</a>) { <span id="29414"><a title="(java.io.InputStream)Right[Nothing,java.io.InputStream]" id="476">Right</a></span>(<a href="#44870" title="java.net.URL">url</a>.<a title="()java.io.InputStream" id="22840">openStream</a>) } }
	<span class="keyword">def</span> <a title="=&gt; sbt.OpenFile[java.nio.channels.FileChannel]" id="21133">fileOutputChannel</a> = <a title="template $anon extends sbt.OpenFile[java.nio.channels.FileChannel]" id="44887" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.nio.channels.FileChannel]">OpenFile</a>[FileChannel]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.nio.channels.FileChannel" id="44889">open</a>(<a title="java.io.File" id="44891">f</a>: <a title="java.io.File" id="3559">File</a>) = (<a title="(java.io.File)java.io.FileOutputStream" id="44417" class="keyword">new</a> <a title="java.io.FileOutputStream" id="3688">FileOutputStream</a>(<a href="#44891" title="java.io.File">f</a>)).<a title="()java.nio.channels.FileChannel" id="44425">getChannel</a> }
	<span class="keyword">def</span> <a title="=&gt; sbt.OpenFile[java.nio.channels.FileChannel]" id="21134">fileInputChannel</a> = <a title="template $anon extends sbt.OpenFile[java.nio.channels.FileChannel]" id="44901" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.nio.channels.FileChannel]">OpenFile</a>[FileChannel]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.nio.channels.FileChannel" id="44903">open</a>(<a title="java.io.File" id="44905">f</a>: <a title="java.io.File" id="3559">File</a>) = (<a title="(java.io.File)java.io.FileInputStream" id="43632" class="keyword">new</a> <a title="java.io.FileInputStream" id="3700">FileInputStream</a>(<a href="#44905" title="java.io.File">f</a>)).<a title="()java.nio.channels.FileChannel" id="43641">getChannel</a> }
	<span class="keyword">def</span> <a title="(java.nio.charset.Charset,Boolean)sbt.OpenFile[java.io.Writer]" id="21135">fileWriter</a>(<a title="java.nio.charset.Charset" id="44373">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>, <a title="Boolean" id="44374">append</a>: <a title="Boolean" id="2060">Boolean</a>) = <a title="template $anon extends sbt.OpenFile[java.io.Writer]" id="44376" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.io.Writer]">OpenFile</a>[Writer]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.BufferedWriter" id="44388">open</a>(<a title="java.io.File" id="44390">f</a>: <a title="java.io.File" id="3559">File</a>) = <span title="java.io.BufferedWriter" class="keyword">new</span> <a title="java.io.BufferedWriter" id="3697">BufferedWriter</a>(<a title="(java.io.OutputStream,java.nio.charset.Charset)java.io.OutputStreamWriter" id="34762" class="keyword">new</a> <a title="java.io.OutputStreamWriter" id="3736">OutputStreamWriter</a>(<a title="(java.io.File,Boolean)java.io.FileOutputStream" id="44418" class="keyword">new</a> <a title="java.io.FileOutputStream" id="3688">FileOutputStream</a>(<a href="#44390" title="java.io.File">f</a>, <a href="#44374" title="Boolean">append</a>), <a href="#44373" title="java.nio.charset.Charset">charset</a>)) }
	<span class="keyword">def</span> <a title="(java.nio.charset.Charset)sbt.OpenFile[java.io.Reader]" id="21136">fileReader</a>(<a title="java.nio.charset.Charset" id="44472">charset</a>: <a title="java.nio.charset.Charset" id="9886">Charset</a>) = <a title="template $anon extends sbt.OpenFile[java.io.Reader]" id="44474" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[java.io.Reader]">OpenFile</a>[Reader]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)java.io.BufferedReader" id="44476">open</a>(<a title="java.io.File" id="44478">f</a>: <a title="java.io.File" id="3559">File</a>) = <a title="(java.io.Reader)java.io.BufferedReader" id="44482" class="keyword">new</a> <a title="java.io.BufferedReader" id="3439">BufferedReader</a>(<a title="(java.io.InputStream,java.nio.charset.Charset)java.io.InputStreamReader" id="44497" class="keyword">new</a> <a title="java.io.InputStreamReader" id="3631">InputStreamReader</a>(<a title="(java.io.File)java.io.FileInputStream" id="43632" class="keyword">new</a> <a title="java.io.FileInputStream" id="3700">FileInputStream</a>(<a href="#44478" title="java.io.File">f</a>), <a href="#44472" title="java.nio.charset.Charset">charset</a>)) }
	<span class="keyword">def</span> <a title="(Boolean)sbt.OpenFile[sbt.CloseableJarFile]" id="21137">openJarFile</a>(<a title="Boolean" id="45077">verify</a>: <a title="Boolean" id="2060">Boolean</a>) = <a title="template $anon extends sbt.OpenFile[sbt.CloseableJarFile]" id="45079" class="keyword">new</a> <a href="#6357" title="sbt.OpenFile[sbt.CloseableJarFile]">OpenFile</a>[CloseableJarFile]
		{ <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(java.io.File)sbt.CloseableJarFile" id="45081">open</a>(<a title="java.io.File" id="45083">f</a>: <a title="java.io.File" id="3559">File</a>) = <span title="sbt.CloseableJarFile" class="keyword">new</span> <a href="#6353" title="sbt.CloseableJarFile">CloseableJarFile</a>(<a href="#45083" title="java.io.File">f</a>, <a href="#45077" title="Boolean">verify</a>) }
}
        </pre>
    </body>
</html>