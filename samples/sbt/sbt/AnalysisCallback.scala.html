<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/AnalysisCallback.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009  Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.AnalysisCallback</span><a id="6317">AnalysisCallback</a></span>
{
	<span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><span id="33758"><a id="33757">map</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><span class="keyword">new</span></span> scala.collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><a id="8204">HashMap</a></span>[Int, AnalysisCallback]
	<span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Int</span><span id="33761"><span id="33759"><span id="33760"><a id="33766">nextID</a></span></span></span></span>: <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span> = <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.AnalysisCallback)Int</span><a id="33762">register</a></span>(<span class="typed"><span class="type">sbt.AnalysisCallback</span><a id="33767">callback</a></span>: <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#6319">AnalysisCallback</a></span>): <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span> =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="33778">id</a></span> = <span class="typed"><span class="type">=&gt; Int</span><a href="#33759">nextID</a></span>
		<span class="typed"><span class="type">(Int)Unit</span><a href="#33760">nextID</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3128">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
		<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><a href="#33757">map</a></span>(<span class="typed"><span class="type">Int</span><a href="#33778">id</a></span>) = <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#33767">callback</a></span>
		<span class="typed"><span class="type">Int</span><a href="#33778">id</a></span>
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(Int)Option[sbt.AnalysisCallback]</span><a id="33763">apply</a></span>(<span class="typed"><span class="type">Int</span><a id="33802">id</a></span>: <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span>): <span class="typed"><span class="type">Option[sbt.AnalysisCallback]</span><a id="915">Option</a></span>[AnalysisCallback] = <span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><a href="#33757">map</a></span>.<span class="typed"><span class="type">(Int)Option[sbt.AnalysisCallback]</span><a id="21498">get</a></span>(<span class="typed"><span class="type">Int</span><a href="#33802">id</a></span>)
	<span class="keyword">def</span> <span class="typed"><span class="type">(Int)Unit</span><a id="33764">unregister</a></span>(<span class="typed"><span class="type">Int</span><a id="33803">id</a></span>: <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span>)
	{
		<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[Int,sbt.AnalysisCallback]</span><a href="#33757">map</a></span> <span class="typed"><span class="type">(Int)Unit</span><a id="21256">-=</a></span> <span class="typed"><span class="type">Int</span><a href="#33803">id</a></span>
	}
}

<span class="keyword">trait</span> <span class="typed"><span class="type">trait AnalysisCallback extends java.lang.Object with NotNull</span><a id="6319">AnalysisCallback</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">NotNull</span><a id="186">NotNull</a></span>
{
	<span class="comment">/** The names of classes that the analyzer should find subclasses of.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Iterable[String]</span><a id="33768">superclassNames</a></span>: <span class="typed"><span class="type">Iterable[String]</span><a id="384">Iterable</a></span>[String]
	<span class="comment">/** The base path for the project.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; sbt.Path</span><a id="33769">basePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>
	<span class="comment">/** Called when the the given superclass could not be found on the classpath by the compiler.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)Unit</span><a id="33770">superclassNotFound</a></span>(<span class="typed"><span class="type">String</span><a id="33808">superclassName</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called before the source at the given location is processed. */</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path)Unit</span><a id="33771">beginSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33809">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called when the a subclass of one of the classes given in &lt;code&gt;superclassNames&lt;/code&gt; is
	* discovered.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,String,String,Boolean)Unit</span><a id="33772">foundSubclass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33810">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">String</span><a id="33811">subclassName</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">String</span><a id="33812">superclassName</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">Boolean</span><a id="33813">isModule</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called to indicate that the source file &lt;code&gt;sourcePath&lt;/code&gt; depends on the source file
	* &lt;code&gt;dependsOnPath&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a id="33773">sourceDependency</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33814">dependsOnPath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33815">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called to indicate that the source file &lt;code&gt;sourcePath&lt;/code&gt; depends on the jar
	* &lt;code&gt;jarPath&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a id="33774">jarDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="33816">jarPath</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33817">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called to indicate that the source file &lt;code&gt;sourcePath&lt;/code&gt; depends on the class file
	* &lt;code&gt;classFile&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a id="33775">classDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="33818">classFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33819">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called to indicate that the source file &lt;code&gt;sourcePath&lt;/code&gt; produces a class file at
	* &lt;code&gt;modulePath&lt;/code&gt;.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a id="33776">generatedClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33820">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33821">modulePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
	<span class="comment">/** Called after the source at the given location has been processed. */</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path)Unit</span><a id="33777">endSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33822">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>): <span class="typed"><span class="type">Unit</span><a id="2150">Unit</a></span>
}
<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class BasicAnalysisCallback extends java.lang.Object with sbt.AnalysisCallback with ScalaObject</span><a id="6320">BasicAnalysisCallback</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">sbt.Path</span><span id="33827"><span id="33826"><a id="33844">basePath</a></span></span></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="keyword">val</span> <span class="typed"><span class="type">Iterable[String]</span><span id="33829"><span id="33828"><a id="33845">superclassNames</a></span></span></span>: <span class="typed"><span class="type">Iterable[String]</span><a id="384">Iterable</a></span>[String],
	<span class="keyword">protected</span> <span class="keyword">val</span> <span class="typed"><span class="type">sbt.CompileAnalysis</span><span id="33831"><span id="33830"><a id="33846">analysis</a></span></span></span>: <span class="typed"><span class="type">sbt.CompileAnalysis</span><a href="Analysis.scala.html#6230">CompileAnalysis</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#6319">AnalysisCallback</a></span>
{
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)Unit</span><a id="33833">superclassNotFound</a></span>(<span class="typed"><span class="type">String</span><a id="33847">superclassName</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) <span class="typed"><span class="type">Unit</span><span >{</span></span>}
	
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path)Unit</span><a id="33834">beginSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33848">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(sbt.Path)Unit</span><a href="Analysis.scala.html#22436">addSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#33848">sourcePath</a></span>)
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a id="33835">sourceDependency</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33849">dependsOnPath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33850">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a href="Analysis.scala.html#22433">addSourceDependency</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#33849">dependsOnPath</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#33850">sourcePath</a></span>)
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a id="33836">jarDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="33851">jarFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33852">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a href="Analysis.scala.html#22434">addExternalDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#33851">jarFile</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#33852">sourcePath</a></span>)
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a id="33837">classDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="33853">classFile</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33854">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a href="Analysis.scala.html#22434">addExternalDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#33853">classFile</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#33854">sourcePath</a></span>)
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a id="33838">generatedClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33855">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="33856">modulePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a href="Analysis.scala.html#22435">addProduct</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#33855">sourcePath</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#33856">modulePath</a></span>)
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path)Unit</span><a id="33839">endSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="33857">sourcePath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>)
	{
		<span class="typed"><span class="type">=&gt; sbt.CompileAnalysis</span><a href="#33830">analysis</a></span>.<span class="typed"><span class="type">(sbt.Path)Unit</span><a href="Analysis.scala.html#22420">removeSelfDependency</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#33857">sourcePath</a></span>)
	}
}
        </pre>
    </body>
</html>