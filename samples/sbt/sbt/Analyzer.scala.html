<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Analyzer.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> scala.tools.nsc.{io, plugins, symtab, Global, Phase}
<span class="keyword">import</span> io.{AbstractFile, PlainFile, ZipArchive}
<span class="keyword">import</span> plugins.{Plugin, PluginComponent}
<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> scala.collection.mutable.{HashMap, HashSet, Map, Set}

<span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.Analyzer</span><a id="6749">Analyzer</a></span>
{
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="56760"><a id="56759">PluginName</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;sbt-analyzer&quot;)</span><span class="string">&quot;sbt-analyzer&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="56762"><a id="56761">CallbackIDOptionName</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;callback:&quot;)</span><span class="string">&quot;callback:&quot;</span></span>
}
<span class="keyword">class</span> <span class="typed"><span class="type">class Analyzer extends scala.tools.nsc.plugins.Plugin with ScalaObject</span><a id="6751">Analyzer</a></span>(<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.Global</span><span id="56782"><span id="56781"><a id="56854">global</a></span></span></span>: <span class="typed"><span class="type">scala.tools.nsc.Global</span><a id="10656">Global</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.plugins.Plugin</span><a id="14122">Plugin</a></span>
{
	<span class="keyword">import</span> global._
	<span class="keyword">import</span> Analyzer._
	
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="56787"><a id="56786">name</a></span></span> = <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56759">PluginName</a></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="56789"><a id="56788">description</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;A plugin to find all concrete instances of a given class and extract dependency information.&quot;)</span><span class="string">&quot;A plugin to find all concrete instances of a given class and extract dependency information.&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">List[scala.tools.nsc.plugins.PluginComponent]</span><span id="56791"><a id="56790">components</a></span></span> = <span class="typed"><span class="type">(scala.tools.nsc.plugins.PluginComponent*)List[scala.tools.nsc.plugins.PluginComponent]</span><span id="6901"><a id="508">List</a></span></span>[<span class="typed"><span class="type">scala.tools.nsc.plugins.PluginComponent</span><a id="14161">PluginComponent</a></span>](<span class="typed"><span class="type">object Analyzer.this.Component</span><a href="#56801">Component</a></span>)
	
	<span class="keyword">private</span> <span class="keyword">var</span> <span class="typed"><span class="type">Option[sbt.AnalysisCallback]</span><span id="56794"><span id="56792"><span id="56793"><a id="56853">callbackOption</a></span></span></span></span>: <span class="typed"><span class="type">Option[sbt.AnalysisCallback]</span><a id="915">Option</a></span>[AnalysisCallback] = <span class="typed"><span class="type">object None</span><a id="517">None</a></span>
	
	<span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],(String) =&gt; Unit)Unit</span><a id="56795">processOptions</a></span>(<span class="typed"><span class="type">List[String]</span><a id="56855">options</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">(String) =&gt; Unit</span><a id="56856">error</a></span>: String =&gt; Unit)
	{
		<span class="keyword">for</span>(<span class="typed"><span class="type">((String) =&gt; Unit)Unit</span><span id="6939"><a id="56858">option</a></span></span> &lt;- <span class="typed"><span class="type">List[String]</span><a href="#56855">options</a></span>)
		{
			<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">String</span><a href="#56858">option</a></span>.<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5813">startsWith</a></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56761">CallbackIDOptionName</a></span>))
				<span class="typed"><span class="type">(Option[sbt.AnalysisCallback])Unit</span><a href="#56793">callbackOption</a></span> = <span class="typed"><span class="type">(Int)Option[sbt.AnalysisCallback]</span><a href="AnalysisCallback.scala.html#33763">AnalysisCallback</a></span>(<span class="typed"><span class="type">String</span><a href="#56858">option</a></span>.<span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6104"><span id="802"><a id="5826">substring</a></span></span></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56761">CallbackIDOptionName</a></span>.<span class="typed"><span class="type">()Int</span><a id="5793">length</a></span>).<span class="typed"><span class="type">=&gt; Int</span><a id="8888">toInt</a></span>)
			<span class="keyword">else</span>
				<span class="typed"><span class="type">(String)Unit</span><a href="#56856" id="7330">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Option not understood: &quot;)</span><span class="string">&quot;Option not understood: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">String</span><a href="#56858">option</a></span>)
		}
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Option[sbt.AnalysisCallback]</span><a href="#56792">callbackOption</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
			<span class="typed"><span class="type">(String)Unit</span><a href="#56856" id="7330">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Callback ID not specified.&quot;)</span><span class="string">&quot;Callback ID not specified.&quot;</span></span>)
	}

	<span class="keyword">override</span> <span class="keyword">val</span> <span class="typed"><span class="type">Option[String]</span><span id="56797"><a id="56796">optionsHelp</a></span></span>: <span class="typed"><span class="type">Option[String]</span><a id="915">Option</a></span>[String] =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="56866">prefix</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;  -P:&quot;)</span><span class="string">&quot;  -P:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56786">name</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span>
		<span class="typed"><span class="type">(java.lang.String)Some[java.lang.String]</span><span id="10375"><a id="289">Some</a></span></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#56866">prefix</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56761">CallbackIDOptionName</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;&lt;callback-id&gt;            Set the callback id.\012&quot;)</span><span class="string">&quot;&lt;callback-id&gt;            Set the callback id.\n&quot;</span></span>)
	}

	<span class="comment">/* ================================================== */</span>
	<span class="comment">// These two templates abuse scope for source compatibility between Scala 2.7.x and 2.8.x so that a single</span>
	<span class="comment">// sbt codebase compiles with both series of versions.</span>
	<span class="comment">// In 2.8.x, PluginComponent.runsAfter has type List[String] and the method runsBefore is defined on</span>
	<span class="comment">//   PluginComponent with default value Nil.</span>
	<span class="comment">// In 2.7.x, runsBefore does not exist on PluginComponent and PluginComponent.runsAfter has type String.</span>
	<span class="comment">//</span>
	<span class="comment">// Therefore, in 2.8.x, object runsBefore is shadowed by PluginComponent.runsBefore (which is Nil) and so</span>
	<span class="comment">//   afterPhase :: runsBefore</span>
	<span class="comment">// is equivalent to List[String](afterPhase)</span>
	<span class="comment">// In 2.7.x, object runsBefore is not shadowed and so runsAfter has type String.</span>
	<span class="keyword">private</span> <span class="keyword">object</span> <span class="typed"><span class="type">object Analyzer.this.runsBefore</span><a id="56798">runsBefore</a></span> { <span class="keyword">def</span> <span class="typed"><span class="type">(String)String</span><a id="56869">::</a></span> (<span class="typed"><span class="type">String</span><a id="56871">s</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) = <span class="typed"><span class="type">String</span><a href="#56871">s</a></span> }
	<span class="keyword">private</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class CompatiblePluginComponent extends scala.tools.nsc.plugins.PluginComponent with ScalaObject</span><a id="56800">CompatiblePluginComponent</a></span>(<span class="typed"><span class="type">String</span><span id="56843"><a id="56878">afterPhase</a></span></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.plugins.PluginComponent</span><a id="14161">PluginComponent</a></span>
	{
		<span class="keyword">override</span> <span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><span id="56846"><a id="56845">runsAfter</a></span></span> = <span class="typed"><span class="type">String</span><a href="#56843">afterPhase</a></span> <span class="typed"><span class="type">(String)List[String]</span><a href="#56875" id="6908">::</a></span> <span class="typed"><span class="type">=&gt; List[String]</span><a href="#56800" id="56820">runsBefore</a></span>
	}
	<span class="comment">/* ================================================== */</span>
	
	<span class="keyword">private</span> <span class="keyword">object</span> <span class="typed"><span class="type">object Analyzer.this.Component</span><a id="56801">Component</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">Analyzer.this.CompatiblePluginComponent</span><a href="#56800">CompatiblePluginComponent</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;jvm&quot;)</span><span class="string">&quot;jvm&quot;</span></span>)
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.Global</span><span id="56849"><a id="56848">global</a></span></span> = <span class="typed"><span class="type">Analyzer.this.type</span><a href="#6751">Analyzer</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a href="#56781">global</a></span>
		<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="56851"><a id="56850">phaseName</a></span></span> = <span class="typed"><span class="type">Analyzer.this.type</span><a href="#6751">Analyzer</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56786">name</a></span>
		<span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.Phase)Analyzer.this.AnalyzerPhase</span><a id="56852">newPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="56880">prev</a></span>: <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="11040">Phase</a></span>) = <span class="typed"><span class="type">Analyzer.this.AnalyzerPhase</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Analyzer.this.AnalyzerPhase</span><a href="#56803">AnalyzerPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#56880">prev</a></span>)
	}

	<span class="keyword">private</span> <span class="keyword">class</span> <span class="typed"><span class="type">class AnalyzerPhase extends scala.tools.nsc.Phase with ScalaObject</span><a id="56803">AnalyzerPhase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><span id="56908"><a id="56912">prev</a></span></span>: <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="11040">Phase</a></span>) <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.Phase</span><a id="11040">Phase</a></span>(<span class="typed"><span class="type">scala.tools.nsc.Phase</span><a href="#56912">prev</a></span>)
	{
		<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a id="56910">name</a></span> = <span class="typed"><span class="type">Analyzer.this.type</span><a href="#6751">Analyzer</a></span>.<span class="keyword">this</span>.<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#56786">name</a></span>
		<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="56911">run</a></span>
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">sbt.AnalysisCallback</span><a id="56918">callback</a></span> = <span class="typed"><span class="type">=&gt; Option[sbt.AnalysisCallback]</span><a href="#56792">callbackOption</a></span>.<span class="typed"><span class="type">=&gt; sbt.AnalysisCallback</span><a id="10261">get</a></span>
			<span class="keyword">val</span> <span class="typed"><span class="type">sbt.Path</span><a id="56919">projectPath</a></span> = <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">=&gt; sbt.Path</span><a href="AnalysisCallback.scala.html#33769">basePath</a></span>
			<span class="keyword">val</span> <span class="typed"><span class="type">String</span><a id="56920">projectPathString</a></span> = <span class="typed"><span class="type">object sbt.Path</span><a href="Path.scala.html#6800">Path</a></span>.<span class="typed"><span class="type">(sbt.Path)Option[String]</span><a href="Path.scala.html#9615">basePathString</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56919">projectPath</a></span>).<span class="typed"><span class="type">(=&gt; String)String</span><a id="10264">getOrElse</a></span>({<span class="typed"><span class="type">(String)Unit</span><a href="#56781" id="14273">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Could not determine base path for &quot;)</span><span class="string">&quot;Could not determine base path for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">sbt.Path</span><a href="#56919">projectPath</a></span>); <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>})
			<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File)Option[sbt.Path]</span><a id="56921">relativize</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="56935">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>) = <span class="typed"><span class="type">object sbt.Path</span><a href="Path.scala.html#6800">Path</a></span>.<span class="typed"><span class="type">(sbt.Path,String,java.io.File)Option[sbt.Path]</span><a href="Path.scala.html#9613">relativize</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56919">projectPath</a></span>, <span class="typed"><span class="type">String</span><a href="#56920">projectPathString</a></span>, <span class="typed"><span class="type">java.io.File</span><a href="#56935">file</a></span>)
			
			<span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><a id="56922">outputDir</a></span> = <span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a href="#56781">global</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a id="14200">settings</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting</span><a id="12242">outdir</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings.StringSetting#T</span><a id="12023">value</a></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">Option[sbt.Path]</span><a id="56923">outputPathOption</a></span> = <span class="typed"><span class="type">(java.io.File)Option[sbt.Path]</span><a href="#56921">relativize</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#56922">outputDir</a></span>)
			<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Option[sbt.Path]</span><a href="#56923">outputPathOption</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
				<span class="typed"><span class="type">(String)Unit</span><a href="#56781" id="14273">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Output directory &quot;)</span><span class="string">&quot;Output directory &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.io.File</span><a href="#56922">outputDir</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="9660">getAbsolutePath</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; must be in the project directory.&quot;)</span><span class="string">&quot; must be in the project directory.&quot;</span></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">sbt.Path</span><a id="56924">outputPath</a></span> = <span class="typed"><span class="type">Option[sbt.Path]</span><a href="#56923">outputPathOption</a></span>.<span class="typed"><span class="type">=&gt; sbt.Path</span><a id="10261">get</a></span>
			
			<span class="keyword">val</span> <span class="typed"><span class="type">Iterable[Analyzer.this.global.Name]</span><a id="56925">superclassNames</a></span> = <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">=&gt; Iterable[String]</span><a href="AnalysisCallback.scala.html#33768">superclassNames</a></span>.<span class="typed"><span class="type">((String) =&gt; Analyzer.this.global.Name)Iterable[Analyzer.this.global.Name]</span><a id="7355">map</a></span>(<span class="typed"><span class="type">(String)Analyzer.this.global.Name</span><a href="#56781" id="15591">newTermName</a></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">Iterable[Option[Analyzer.this.global.Symbol]]</span><a id="56926">superclassesAll</a></span> =
				<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.Name) =&gt; Option[Analyzer.this.global.Symbol])Iterable[Option[Analyzer.this.global.Symbol]]</span><span id="7355"><a id="56952">name</a></span></span> &lt;- <span class="typed"><span class="type">Iterable[Analyzer.this.global.Name]</span><a href="#56925">superclassNames</a></span>) <span class="keyword">yield</span>
				{
					<span class="keyword">try</span> { <span class="typed"><span class="type">(Analyzer.this.global.Symbol)Some[Analyzer.this.global.Symbol]</span><span id="10375"><a id="289">Some</a></span></span>(<span class="typed"><span class="type">=&gt; scala.tools.nsc.Global</span><a href="#56781">global</a></span>.<span class="typed"><span class="type">object Analyzer.this.global.definitions</span><a id="17413">definitions</a></span>.<span class="typed"><span class="type">(Analyzer.this.global.Name)Analyzer.this.global.Symbol</span><a id="17774">getClass</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Name</span><a href="#56952">name</a></span>)) }
					<span class="keyword">catch</span> { <span class="typed"><span class="type">None.type</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.tools.nsc.FatalError</span><a id="56955">fe</a></span>: scala.tools.nsc.<span class="typed"><span class="type">scala.tools.nsc.FatalError</span><a id="10437">FatalError</a></span> =&gt; <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="AnalysisCallback.scala.html#33770">superclassNotFound</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Name</span><a href="#56952">name</a></span>.<span class="typed"><span class="type">()String</span><a id="15560">toString</a></span>); <span class="typed"><span class="type">object None</span><a id="517">None</a></span> }
				}
			<span class="keyword">val</span> <span class="typed"><span class="type">Iterable[Analyzer.this.global.Symbol]</span><a id="56927">superclasses</a></span> = <span class="typed"><span class="type">Iterable[Option[Analyzer.this.global.Symbol]]</span><a href="#56926">superclassesAll</a></span>.<span class="typed"><span class="type">((Option[Analyzer.this.global.Symbol]) =&gt; Boolean)Iterable[Option[Analyzer.this.global.Symbol]]</span><a id="7359">filter</a></span>(<span class="typed"><span class="type">Option[Analyzer.this.global.Symbol]</span><a href="#56986">_</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10260">isDefined</a></span>).<span class="typed"><span class="type">((Option[Analyzer.this.global.Symbol]) =&gt; Analyzer.this.global.Symbol)Iterable[Analyzer.this.global.Symbol]</span><a id="7355">map</a></span>(<span class="typed"><span class="type">Option[Analyzer.this.global.Symbol]</span><a href="#56989">_</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="10261">get</a></span>)
			
			<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.CompilationUnit) =&gt; Unit)Unit</span><span id="21186"><a id="56995">unit</a></span></span> &lt;- <span class="typed"><span class="type">=&gt; Analyzer.this.global.Run</span><a href="#56781" id="14659">currentRun</a></span>.<span class="typed"><span class="type">=&gt; Iterator[Analyzer.this.global.CompilationUnit]</span><a id="14646">units</a></span>)
			{
				<span class="comment">// build dependencies structure</span>
				<span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><a id="56996">sourceFile</a></span> = <span class="typed"><span class="type">Analyzer.this.global.CompilationUnit</span><a href="#56995">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.util.SourceFile</span><a id="19875">source</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a id="21860">file</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a id="21980">file</a></span>
				<span class="keyword">val</span> <span class="typed"><span class="type">Option[sbt.Path]</span><a id="56997">sourcePathOption</a></span> = <span class="typed"><span class="type">(java.io.File)Option[sbt.Path]</span><a href="#56921">relativize</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#56996">sourceFile</a></span>)
				<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Option[sbt.Path]</span><a href="#56997">sourcePathOption</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
					<span class="typed"><span class="type">(String)Unit</span><a href="#56781" id="14273">error</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Source file &quot;)</span><span class="string">&quot;Source file &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.io.File</span><a href="#56996">sourceFile</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="9660">getAbsolutePath</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; must be in the project directory.&quot;)</span><span class="string">&quot; must be in the project directory.&quot;</span></span>)
				<span class="keyword">val</span> <span class="typed"><span class="type">sbt.Path</span><a id="56998">sourcePath</a></span> = <span class="typed"><span class="type">Option[sbt.Path]</span><a href="#56997">sourcePathOption</a></span>.<span class="typed"><span class="type">=&gt; sbt.Path</span><a id="10261">get</a></span>
				<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33771">beginSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>)
				<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.Symbol) =&gt; Unit)Unit</span><span id="7365"><a id="57004">on</a></span></span> &lt;- <span class="typed"><span class="type">Analyzer.this.global.CompilationUnit</span><a href="#56995">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[Analyzer.this.global.Symbol]</span><a id="19884">depends</a></span>)
				{
					<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="57005">onSource</a></span> = <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57004">on</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a id="15979">sourceFile</a></span>
					<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#57005">onSource</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3490">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
					{
						<span class="typed"><span class="type">(Analyzer.this.global.Symbol)Option[scala.tools.nsc.io.AbstractFile]</span><a href="#56804">classFile</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57004">on</a></span>) <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span>
						{
							<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <a id="1">Some</a>(<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a id="57016">f</a></span>) =&gt;
							{
								<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#57016">f</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span>
								{
									<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.tools.nsc.io.ZipArchive#Entry</span><a id="57017">ze</a></span>: ZipArchive#<span class="typed"><span class="type">scala.tools.nsc.io.ZipArchive#Entry</span><a id="57029">Entry</a></span> =&gt; <span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33774">jarDependency</a></span>(<span class="typed"><span class="type">java.io.File</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>(<span class="typed"><span class="type">scala.tools.nsc.io.ZipArchive#Entry</span><a href="#57017">ze</a></span>.<span class="typed"><span class="type">=&gt; java.util.zip.ZipFile</span><a id="57036">getArchive</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="45994">getName</a></span>), <span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>)
									<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">scala.tools.nsc.io.PlainFile</span><a id="57115">pf</a></span>: <span class="typed"><span class="type">scala.tools.nsc.io.PlainFile</span><a id="21941">PlainFile</a></span> =&gt;
									{
										 <span class="comment">// ignore dependencies in the output directory: these are handled by source dependencies</span>
										<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">object sbt.Path</span><a href="Path.scala.html#6800">Path</a></span>.<span class="typed"><span class="type">(sbt.Path,java.io.File)Option[sbt.Path]</span><a href="Path.scala.html#9612">relativize</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56924">outputPath</a></span>, <span class="typed"><span class="type">scala.tools.nsc.io.PlainFile</span><a href="#57115">pf</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a id="57074">file</a></span>).<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
											<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33775">classDependency</a></span>(<span class="typed"><span class="type">scala.tools.nsc.io.PlainFile</span><a href="#57115">pf</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a id="57074">file</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>)
									}
									<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>)
								}
							}
							<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">object None</span><a id="517">None</a></span> =&gt; <span class="typed"><span class="type">Unit</span><span >(</span></span>)
						}
					}
					<span class="keyword">else</span>
					{
						<span class="keyword">for</span>(<span class="typed"><span class="type">((sbt.Path) =&gt; Unit)Unit</span><span id="10271"><a id="57119">depPath</a></span></span> &lt;- <span class="typed"><span class="type">(java.io.File)Option[sbt.Path]</span><a href="#56921">relativize</a></span>(<span class="typed"><span class="type">scala.tools.nsc.io.AbstractFile</span><a href="#57005">onSource</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a id="21980">file</a></span>))
							<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33773">sourceDependency</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#57119">depPath</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>)
					}
				}
				
				<span class="comment">// find subclasses</span>
				<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.Tree) =&gt; Unit)Unit</span><span id="6939"><span id="18802"><span id="57122"><a href="#57121" id="57129">clazz</a></span></span></span></span> @ <a id="1">ClassDef</a>(<span class="typed"><span class="type">Analyzer.this.global.Modifiers</span><span id="57124"><a id="57131">mods</a></span></span>, <span class="typed"><span class="type">Analyzer.this.global.Name</span><span id="57125"><a id="57132">n</a></span></span>, _, _) &lt;- <span class="typed"><span class="type">Analyzer.this.global.CompilationUnit</span><a href="#56995">unit</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Tree</span><a id="19881">body</a></span>)
				{
					<span class="keyword">val</span> <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="57133">sym</a></span> = <span class="typed"><span class="type">Analyzer.this.global.ClassDef</span><a href="#57129">clazz</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="18842">symbol</a></span>
					<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Analyzer.this.global.Modifiers</span><a href="#57131">mods</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="18885">isPublic</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Modifiers</span><a href="#57131">mods</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="18878">isAbstract</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Modifiers</span><a href="#57131">mods</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="18883">isTrait</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span>
						 <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15852">isImplClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15857">isStatic</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15864">isNestedClass</a></span>)
					{
						<span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><a id="57134">isModule</a></span> = <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15830">isModuleClass</a></span>
						<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.Symbol) =&gt; Unit)Unit</span><span id="7365"><a id="57138">superclass</a></span></span> &lt;- <span class="typed"><span class="type">Iterable[Analyzer.this.global.Symbol]</span><a href="#56927">superclasses</a></span>.<span class="typed"><span class="type">((Analyzer.this.global.Symbol) =&gt; Boolean)Iterable[Analyzer.this.global.Symbol]</span><a id="7359">filter</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">(Analyzer.this.global.Symbol)Boolean</span><a href="#57136" id="15928">isSubClass</a></span>))
							<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(sbt.Path,String,String,Boolean)Unit</span><a href="AnalysisCallback.scala.html#33772">foundSubclass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57133">sym</a></span>.<span class="typed"><span class="type">=&gt; String</span><a id="15991">fullNameString</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57138">superclass</a></span>.<span class="typed"><span class="type">=&gt; String</span><a id="15991">fullNameString</a></span>, <span class="typed"><span class="type">Boolean</span><a href="#57134">isModule</a></span>)
					}
				}
				
				<span class="comment">// build list of generated classes</span>
				<span class="keyword">for</span>(<span class="typed"><span class="type">((Analyzer.this.global.icodes.IClass) =&gt; Unit)Unit</span><span id="7365"><a id="58344">iclass</a></span></span> &lt;- <span class="typed"><span class="type">Analyzer.this.global.CompilationUnit</span><a href="#56995">unit</a></span>.<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashSet[Analyzer.this.global.icodes.IClass]</span><a id="19896">icode</a></span>)
				{
					<span class="keyword">val</span> <span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a id="58345">sym</a></span> = <span class="typed"><span class="type">Analyzer.this.global.icodes.IClass</span><a href="#58344">iclass</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.icodes.global.Symbol</span><a id="58317">symbol</a></span>
					<span class="keyword">def</span> <span class="typed"><span class="type">(Boolean)Unit</span><a id="58346">addGenerated</a></span>(<span class="typed"><span class="type">Boolean</span><a id="59761">separatorRequired</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>)
					{
						<span class="keyword">val</span> <span class="typed"><span class="type">sbt.Path</span><a id="59762">classPath</a></span> = <span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol,Boolean)sbt.Path</span><a href="#56806">pathOfClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56924">outputPath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a href="#58345">sym</a></span>, <span class="typed"><span class="type">Boolean</span><a href="#59761">separatorRequired</a></span>)
						<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#59762">classPath</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="Path.scala.html#9638">asFile</a></span>.<span class="typed"><span class="type">()Boolean</span><a id="9668">exists</a></span>)
							<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(sbt.Path,sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33776">generatedClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>, <span class="typed"><span class="type">sbt.Path</span><a href="#59762">classPath</a></span>)
					}
					<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a href="#58345">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15830">isModuleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a href="#58345">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15852">isImplClass</a></span>)
					{
						<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">(Analyzer.this.global.Symbol)Boolean</span><a href="#56805">isTopLevelModule</a></span>(<span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a href="#58345">sym</a></span>) <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Analyzer.this.global.icodes.global.Symbol</span><a href="#58345">sym</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.icodes.global.Symbol</span><a id="15955">linkedClassOfModule</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3490">==</a></span> <span class="typed"><span class="type">object Analyzer.this.global.NoSymbol</span><a href="#56781" id="16035">NoSymbol</a></span>)
							<span class="typed"><span class="type">(Boolean)Unit</span><a href="#58346">addGenerated</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
						<span class="typed"><span class="type">(Boolean)Unit</span><a href="#58346">addGenerated</a></span>(<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>)
					}
					<span class="keyword">else</span>
						<span class="typed"><span class="type">(Boolean)Unit</span><a href="#58346">addGenerated</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
				}
				<span class="typed"><span class="type">sbt.AnalysisCallback</span><a href="#56918">callback</a></span>.<span class="typed"><span class="type">(sbt.Path)Unit</span><a href="AnalysisCallback.scala.html#33777">endSource</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#56998">sourcePath</a></span>)
			}
		}
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Analyzer.this.global.Symbol)Option[scala.tools.nsc.io.AbstractFile]</span><a id="56804">classFile</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="57007">sym</a></span>: <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="15631">Symbol</a></span>): <span class="typed"><span class="type">Option[scala.tools.nsc.io.AbstractFile]</span><a id="915">Option</a></span>[AbstractFile] =
	{
		<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
		<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="59775">name</a></span> = <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57007">sym</a></span>.<span class="typed"><span class="type">(Char)String</span><a id="15990">fullNameString</a></span>(java.io.<span class="typed"><span class="type">object java.io.File</span><a id="3651">File</a></span>.<span class="typed"><span class="type">Char</span><a id="9645">separatorChar</a></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> (<span class="typed"><span class="type">Any</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#57007">sym</a></span>.<span class="typed"><span class="type">(Long)Boolean</span><a id="15887">hasFlag</a></span>(Flags.<span class="typed"><span class="type">Long(256L)</span><span >MODULE</span></span>)) <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Analyzer.this.global.classPath0.Context</span><a id="59776">entry</a></span> = <span class="typed"><span class="type">=&gt; Analyzer.this.global.classPath0.Build</span><a href="#56781" id="14297">classPath</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.classPath0.Context</span><a id="60100">root</a></span>.<span class="typed"><span class="type">(String,Boolean)Analyzer.this.global.classPath0.Context</span><a id="60085">find</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#59775">name</a></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
		<span class="typed"><span class="type">Option[scala.tools.nsc.io.AbstractFile]</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">Analyzer.this.global.classPath0.Context</span><a href="#59776">entry</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5767">ne</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
			<span class="typed"><span class="type">(scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]</span><span id="10375"><a id="289">Some</a></span></span>(<span class="typed"><span class="type">Analyzer.this.global.classPath0.Context</span><a href="#59776">entry</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a id="60093">classFile</a></span>)
		<span class="keyword">else</span>
			<span class="typed"><span class="type">object None</span><a id="517">None</a></span>
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Analyzer.this.global.Symbol)Boolean</span><a id="56805">isTopLevelModule</a></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="59771">sym</a></span>: <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="15631">Symbol</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span> =
		<span class="typed"><span class="type">(scala.tools.nsc.Phase)(=&gt; Boolean)Boolean</span><a href="#56781" id="15517">atPhase</a></span> (<span class="typed"><span class="type">=&gt; Analyzer.this.global.Run</span><a href="#56781" id="14659">currentRun</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a id="14625">picklerPhase</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Phase</span><a id="56897">next</a></span>) {
			<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59771">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15830">isModuleClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59771">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15852">isImplClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59771">sym</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15864">isNestedClass</a></span>
		}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol,Boolean)sbt.Path</span><a id="56806">pathOfClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="59768">outputPath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="59769">s</a></span>: <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="15631">Symbol</a></span>, <span class="typed"><span class="type">Boolean</span><a id="59770">separatorRequired</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>): <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span> =
		<span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol,Boolean,String)sbt.Path</span><a href="#56807">pathOfClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#59768">outputPath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59769">s</a></span>, <span class="typed"><span class="type">Boolean</span><a href="#59770">separatorRequired</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;.class&quot;)</span><span class="string">&quot;.class&quot;</span></span>)
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol,Boolean,String)sbt.Path</span><a id="56807">pathOfClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="59764">outputPath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="59765">s</a></span>: <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="15631">Symbol</a></span>, <span class="typed"><span class="type">Boolean</span><a id="59766">separatorRequired</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>, <span class="typed"><span class="type">String</span><a id="59767">postfix</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>): <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span> =
	{
		<span class="typed"><span class="type">sbt.Path</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59765">s</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="15875">owner</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15831">isPackageClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59765">s</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15831">isPackageClass</a></span>)
			<span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol)sbt.Path</span><a href="#56808">packagePath</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#59764">outputPath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59765">s</a></span>) <span class="typed"><span class="type">(String)sbt.Path</span><a href="Path.scala.html#9632">/</a></span> <span class="typed"><span class="type">String</span><a href="#59767">postfix</a></span>
		<span class="keyword">else</span>
			<span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol,Boolean,String)sbt.Path</span><a href="#56807">pathOfClass</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#59764">outputPath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59765">s</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="15875">owner</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="15935">enclClass</a></span>, <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#59765">s</a></span>.<span class="typed"><span class="type">implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd</span><span id="6106"><span id="802"><a id="15985">simpleName</a></span></span></span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="9396">+</a></span> (<span class="typed"><span class="type">String</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Boolean</span><a href="#59766">separatorRequired</a></span>) <span class="typed"><span class="type">java.lang.String(&quot;$&quot;)</span><span class="string">&quot;$&quot;</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">String</span><a href="#59767">postfix</a></span>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol)sbt.Path</span><a id="56808">packagePath</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="60117">outputPath</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="60118">s</a></span>: <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a id="15631">Symbol</a></span>): <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span> =
	{
		<span class="typed"><span class="type">sbt.Path</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#60118">s</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15835">isEmptyPackageClass</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2731">||</a></span> <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#60118">s</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="15832">isRoot</a></span>)
			<span class="typed"><span class="type">sbt.Path</span><a href="#60117">outputPath</a></span>
		<span class="keyword">else</span>
			<span class="typed"><span class="type">(sbt.Path,Analyzer.this.global.Symbol)sbt.Path</span><a href="#56808">packagePath</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#60117">outputPath</a></span>, <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#60118">s</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="15875">owner</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Symbol</span><a id="15935">enclClass</a></span>) <span class="typed"><span class="type">(String)sbt.Path</span><a href="Path.scala.html#9632">/</a></span> <span class="typed"><span class="type">Analyzer.this.global.Symbol</span><a href="#60118">s</a></span>.<span class="typed"><span class="type">=&gt; Analyzer.this.global.Name</span><a id="15985">simpleName</a></span>.<span class="typed"><span class="type">()String</span><a id="15560">toString</a></span>
	}
}
        </pre>
    </body>
</html>