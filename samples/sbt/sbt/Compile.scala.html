<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Compile.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">abstract</span> <span class="keyword">class</span> <span class="typed"><span class="type">class CompilerCore extends java.lang.Object with ScalaObject</span><a id="6200">CompilerCore</a></span>
{
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="6886"><a id="6885">ClasspathOptionString</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;-classpath&quot;)</span><span class="string">&quot;-classpath&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="6888"><a id="6887">OutputOptionString</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;-d&quot;)</span><span class="string">&quot;-d&quot;</span></span>
	
	<span class="comment">// Returns false if there were errors, true if there were not.</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a id="6889">process</a></span>(<span class="typed"><span class="type">List[String]</span><a id="7419">args</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="7420">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>
	<span class="comment">// Returns false if there were errors, true if there were not.</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a id="6890">processJava</a></span>(<span class="typed"><span class="type">List[String]</span><a id="8475">args</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="8476">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)String</span><a id="6891">actionStartMessage</a></span>(<span class="typed"><span class="type">String</span><a id="8477">label</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>): <span class="typed"><span class="type">String</span><a id="1842">String</a></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; String</span><a id="6892">actionNothingToDoMessage</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; String</span><a id="6893">actionSuccessfulMessage</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; String</span><a id="6894">actionUnsuccessfulMessage</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>

	<span class="keyword">final</span> <span class="keyword">def</span> <span class="typed"><span class="type">(String,Iterable[sbt.Path],String,sbt.Path,Iterable[String],sbt.Logger)Option[String]</span><a id="6895">apply</a></span>(<span class="typed"><span class="type">String</span><a id="8481">label</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">Iterable[sbt.Path]</span><a id="8482">sources</a></span>: <span class="typed"><span class="type">Iterable[sbt.Path]</span><a id="384">Iterable</a></span>[Path], <span class="typed"><span class="type">String</span><a id="8483">classpathString</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">sbt.Path</span><a id="8484">outputDirectory</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">Iterable[String]</span><a id="8485">options</a></span>: <span class="typed"><span class="type">Iterable[String]</span><a id="384">Iterable</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="8486">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>) =
	{
		<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8467">info</a></span>(<span class="typed"><span class="type">(String)String</span><a href="#6891">actionStartMessage</a></span>(<span class="typed"><span class="type">String</span><a href="#8481">label</a></span>))
		<span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="8488">classpathOption</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String] =
			<span class="typed"><span class="type">List[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6104"><a href="#8483" id="802">classpathString</a></span></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="7218">isEmpty</a></span>)
				<span class="typed"><span class="type">object Nil</span><a id="316">Nil</a></span>
			<span class="keyword">else</span>
				<span class="typed"><span class="type">(String*)List[String]</span><span id="6901"><a id="508">List</a></span></span>(<span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#6885">ClasspathOptionString</a></span>, <span class="typed"><span class="type">String</span><a href="#8483">classpathString</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">java.io.File</span><a id="8489">outputDir</a></span> = <span class="typed"><span class="type">sbt.Path</span><a href="#8484">outputDirectory</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="Path.scala.html#9638">asFile</a></span>
		<span class="typed"><span class="type">object sbt.FileUtilities</span><a href="FileUtilities.scala.html#6450">FileUtilities</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Logger)Option[String]</span><a href="FileUtilities.scala.html#9528">createDirectory</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#8489">outputDir</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>) <span class="typed"><span class="type">(=&gt; Option[String])Option[String]</span><a id="10272">orElse</a></span>
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="10284">classpathAndOut</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String] = <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#6887">OutputOptionString</a></span> <span class="typed"><span class="type">(String)List[String]</span><a href="#10285" id="6908">::</a></span> <span class="typed"><span class="type">java.io.File</span><a href="#8489">outputDir</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="9660">getAbsolutePath</a></span> <span class="typed"><span class="type">(String)List[String]</span><a href="#10286" id="6908">::</a></span> <span class="typed"><span class="type">List[String]</span><a href="#8488">classpathOption</a></span>
			
			<span class="typed"><span class="type">object sbt.Control</span><a href="Control.scala.html#6704">Control</a></span>.<span class="typed"><span class="type">(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]</span><a href="Control.scala.html#10298">trapUnit</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Compiler error: &quot;)</span><span class="string">&quot;Compiler error: &quot;</span></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>)
			{
				<span class="keyword">val</span> <span class="typed"><span class="type">List[java.lang.String]</span><a id="10322">sourceList</a></span> = <span class="typed"><span class="type">Iterable[sbt.Path]</span><a href="#8482">sources</a></span>.<span class="typed"><span class="type">((sbt.Path) =&gt; java.lang.String)Iterable[java.lang.String]</span><a id="7355">map</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#10334">_</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="Path.scala.html#9638">asFile</a></span>.<span class="typed"><span class="type">()java.lang.String</span><a id="9660">getAbsolutePath</a></span>).<span class="typed"><span class="type">=&gt; List[java.lang.String]</span><a id="7388">toList</a></span>
				<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">List[java.lang.String]</span><a href="#10322">sourceList</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="7218">isEmpty</a></span>)
				{
					<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8467">info</a></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#6892">actionNothingToDoMessage</a></span>)
					<span class="typed"><span class="type">object None</span><a id="517">None</a></span>
				}
				<span class="keyword">else</span>
				{
					<span class="keyword">val</span> <span class="typed"><span class="type">List[String]</span><a id="10343">arguments</a></span> = (<span class="typed"><span class="type">Iterable[String]</span><a href="#8485">options</a></span> <span class="typed"><span class="type">(Iterable[String])Collection[String]</span><a id="7353">++</a></span> <span class="typed"><span class="type">List[String]</span><a href="#10284">classpathAndOut</a></span> <span class="typed"><span class="type">(Iterable[String])Collection[String]</span><a id="7353">++</a></span> <span class="typed"><span class="type">List[java.lang.String]</span><a href="#10322">sourceList</a></span>).<span class="typed"><span class="type">=&gt; List[String]</span><a id="7388">toList</a></span>
					<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8466">debug</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Scala arguments: &quot;)</span><span class="string">&quot;Scala arguments: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">List[String]</span><a href="#10343">arguments</a></span>.<span class="typed"><span class="type">(String)String</span><a id="7392">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>))
					<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a href="#6889">process</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#10343">arguments</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>))
					{
						<span class="keyword">val</span> <span class="typed"><span class="type">List[java.lang.String]</span><a id="10350">javaSourceList</a></span> = <span class="typed"><span class="type">List[java.lang.String]</span><a href="#10322">sourceList</a></span>.<span class="typed"><span class="type">((java.lang.String) =&gt; Boolean)List[java.lang.String]</span><a id="6940">filter</a></span>(<span class="typed"><span class="type">java.lang.String</span><a href="#10352">_</a></span>.<span class="typed"><span class="type">(java.lang.String)Boolean</span><a id="5814">endsWith</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;.java&quot;)</span><span class="string">&quot;.java&quot;</span></span>))
						<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">List[java.lang.String]</span><a href="#10350">javaSourceList</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="7218">isEmpty</a></span>)
							<span class="typed"><span class="type">(sbt.Logger)object None</span><a href="#6896">success</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>)
						<span class="keyword">else</span>
						{
							<span class="keyword">val</span> <span class="typed"><span class="type">List[java.lang.String]</span><a id="10355">javaArguments</a></span> = <span class="typed"><span class="type">List[String]</span><a href="#10284">classpathAndOut</a></span> <span class="typed"><span class="type">(List[java.lang.String])List[java.lang.String]</span><a href="#10356" id="6912">:::</a></span> <span class="typed"><span class="type">List[java.lang.String]</span><a href="#10350">javaSourceList</a></span>
							<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8466">debug</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Java arguments: &quot;)</span><span class="string">&quot;Java arguments: &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">List[java.lang.String]</span><a href="#10355">javaArguments</a></span>.<span class="typed"><span class="type">(String)String</span><a id="7392">mkString</a></span>(<span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>))
							<span class="typed"><span class="type">Option[String]</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a href="#6890">processJava</a></span>(<span class="typed"><span class="type">List[java.lang.String]</span><a href="#10355">javaArguments</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>))
								<span class="typed"><span class="type">(sbt.Logger)object None</span><a href="#6896">success</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a href="#8486">log</a></span>)
							<span class="keyword">else</span>
								<span class="typed"><span class="type">=&gt; Some[String]</span><a href="#6897">failure</a></span>
						}
					}
					<span class="keyword">else</span>
						<span class="typed"><span class="type">=&gt; Some[String]</span><a href="#6897">failure</a></span>
				}
			}
		}
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Logger)object None</span><a id="6896">success</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a id="10353">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>) =
	{
		<span class="typed"><span class="type">sbt.Logger</span><a href="#10353">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8467">info</a></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#6893">actionSuccessfulMessage</a></span>)
		<span class="typed"><span class="type">object None</span><a id="517">None</a></span>
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Some[String]</span><a id="6897">failure</a></span> = <span class="typed"><span class="type">(String)Some[String]</span><span id="10375"><a id="289">Some</a></span></span>(<span class="typed"><span class="type">=&gt; String</span><a href="#6894">actionUnsuccessfulMessage</a></span>)
}
<span class="comment">// The following code is based on scala.tools.nsc.Main and scala.tools.nsc.ScalaDoc</span>
<span class="comment">// Copyright 2005-2008 LAMP/EPFL</span>
<span class="comment">// Original author: Martin Odersky</span>
	
<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.Compile</span><a id="6201">Compile</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">sbt.CompilerCore</span><a href="#6200">CompilerCore</a></span>
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a id="10381">process</a></span>(<span class="typed"><span class="type">List[String]</span><a id="10391">arguments</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="10392">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>) =
	{
		<span class="keyword">import</span> scala.tools.nsc.{CompilerCommand, FatalError, Global, Settings, reporters, util}
		<span class="keyword">import</span> util.FakePos
		<span class="keyword">var</span> <span class="typed"><span class="type">sbt.LoggerReporter</span><a id="10396">reporter</a></span> = <span class="typed"><span class="type">sbt.LoggerReporter</span><span class="keyword">new</span></span> <span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#6205">LoggerReporter</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a href="#10392">log</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.Settings</span><a id="10397">settings</a></span> = <span class="typed"><span class="type">scala.tools.nsc.Settings</span><span class="keyword">new</span></span> <span class="typed"><span class="type">scala.tools.nsc.Settings</span><a id="10911">Settings</a></span>(<span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#10396">reporter</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="#11982">error</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a id="10398">command</a></span> = <span class="typed"><span class="type">(List[String],scala.tools.nsc.Settings,(String) =&gt; Unit,Boolean)scala.tools.nsc.CompilerCommand</span><a id="12414" class="keyword">new</a></span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a id="11076">CompilerCommand</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#10391">arguments</a></span>, <span class="typed"><span class="type">scala.tools.nsc.Settings</span><a href="#10397">settings</a></span>, <span class="typed"><span class="type">(String)Nothing</span><span id="5964"><a href="#12440" id="802">error</a></span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
		
		<span class="keyword">object</span> <span class="typed"><span class="type">object compiler</span><a id="10399">compiler</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.Global</span><a id="10656">Global</a></span>(<span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a href="#10398">command</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a id="12408">settings</a></span>, <span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#10396">reporter</a></span>)
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#10396">reporter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="11958">hasErrors</a></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">compiler.Run</span><a id="19984">run</a></span> = <span class="typed"><span class="type">compiler.Run</span><span class="keyword">new</span></span> <span class="typed"><span class="type">object compiler</span><a href="#10399">compiler</a></span>.<span class="typed"><span class="type">compiler.Run</span><a id="14592">Run</a></span>
			<span class="typed"><span class="type">compiler.Run</span><a href="#19984">run</a></span> <span class="typed"><span class="type">(List[String])Unit</span><a id="14655">compile</a></span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a href="#10398">command</a></span>.<span class="typed"><span class="type">=&gt; List[String]</span><a id="12420">files</a></span>
			<span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#10396">reporter</a></span>.<span class="typed"><span class="type">()Unit</span><a href="#11983">printSummary</a></span>()
		}
		<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#10396">reporter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="11958">hasErrors</a></span>
	}
	<span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a id="10382">processJava</a></span>(<span class="typed"><span class="type">List[String]</span><a id="19985">args</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="19986">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span> =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">sbt.ProcessRunner</span><a id="19987">process</a></span> = (<span class="typed"><span class="type">(String,Seq[String])sbt.ProcessRunner</span><a href="Process.scala.html#20003" class="keyword">new</a></span> <span class="typed"><span class="type">sbt.ProcessRunner</span><a href="Process.scala.html#6485">ProcessRunner</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;javac&quot;)</span><span class="string">&quot;javac&quot;</span></span>, <span class="typed"><span class="type">List[String]</span><a href="#19985">args</a></span>) ).<span class="typed"><span class="type">(sbt.Logger)sbt.ProcessRunner</span><a href="Process.scala.html#20011">logIO</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a href="#19986">log</a></span>)
		<span class="typed"><span class="type">sbt.ProcessRunner</span><a href="#19987">process</a></span>.<span class="typed"><span class="type">=&gt; sbt.SProcess</span><a href="Process.scala.html#20012">run</a></span>.<span class="typed"><span class="type">()Int</span><a href="Process.scala.html#20103">exitValue</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3122">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="10383">actionStartMessage</a></span>(<span class="typed"><span class="type">String</span><a id="20107">label</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) = <span class="typed"><span class="type">java.lang.String(&quot;Compiling &quot;)</span><span class="string">&quot;Compiling &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">String</span><a href="#20107">label</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; sources...&quot;)</span><span class="string">&quot; sources...&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="10385"><a id="10384">actionNothingToDoMessage</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;Nothing to compile.&quot;)</span><span class="string">&quot;Nothing to compile.&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="10387"><a id="10386">actionSuccessfulMessage</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;Compilation successful.&quot;)</span><span class="string">&quot;Compilation successful.&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="10389"><a id="10388">actionUnsuccessfulMessage</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;Compilation unsuccessful.&quot;)</span><span class="string">&quot;Compilation unsuccessful.&quot;</span></span>
}
<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.Scaladoc</span><a id="6203">Scaladoc</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">sbt.CompilerCore</span><a href="#6200">CompilerCore</a></span>
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(List[String],sbt.Logger)Boolean</span><a id="20110">process</a></span>(<span class="typed"><span class="type">List[String]</span><a id="20118">arguments</a></span>: <span class="typed"><span class="type">List[String]</span><a id="507">List</a></span>[String], <span class="typed"><span class="type">sbt.Logger</span><a id="20119">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>) =
	{
		<span class="keyword">import</span> scala.tools.nsc.{doc, CompilerCommand, FatalError, Global, reporters, util}
		<span class="keyword">import</span> util.FakePos
		<span class="keyword">val</span> <span class="typed"><span class="type">sbt.LoggerReporter</span><a id="20123">reporter</a></span> = <span class="typed"><span class="type">sbt.LoggerReporter</span><span class="keyword">new</span></span> <span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#6205">LoggerReporter</a></span>(<span class="typed"><span class="type">sbt.Logger</span><a href="#20119">log</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a id="20124">docSettings</a></span>: doc.<span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a id="20407">Settings</a></span> = <span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><span class="keyword">new</span></span> doc.<span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a id="20407">Settings</a></span>(<span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#20123">reporter</a></span>.<span class="typed"><span class="type">(String)Unit</span><a href="#11982">error</a></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a id="20125">command</a></span> = <span class="typed"><span class="type">(List[String],scala.tools.nsc.Settings,(String) =&gt; Unit,Boolean)scala.tools.nsc.CompilerCommand</span><a id="12414" class="keyword">new</a></span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a id="11076">CompilerCommand</a></span>(<span class="typed"><span class="type">List[String]</span><a href="#20118">arguments</a></span>, <span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a href="#20124">docSettings</a></span>, <span class="typed"><span class="type">(String)Nothing</span><span id="5964"><a href="#20656" id="802">error</a></span></span>, <span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>)
		<span class="keyword">object</span> <span class="typed"><span class="type">object compiler</span><a id="20126">compiler</a></span> <span class="keyword">extends</span> <span class="typed"><span class="type">scala.tools.nsc.Global</span><a id="10656">Global</a></span>(<span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a href="#20125">command</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.Settings</span><a id="12408">settings</a></span>, <span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#20123">reporter</a></span>)
		{
			<span class="keyword">override</span> <span class="keyword">val</span> <span class="typed"><span class="type">Boolean</span><span id="20659"><a id="20658">onlyPresentation</a></span></span> = <span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
		}
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#20123">reporter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="11958">hasErrors</a></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">compiler.Run</span><a id="20673">run</a></span> = <span class="typed"><span class="type">compiler.Run</span><span class="keyword">new</span></span> <span class="typed"><span class="type">object compiler</span><a href="#20126">compiler</a></span>.<span class="typed"><span class="type">compiler.Run</span><a id="14592">Run</a></span>
			<span class="typed"><span class="type">compiler.Run</span><a href="#20673">run</a></span> <span class="typed"><span class="type">(List[String])Unit</span><a id="14655">compile</a></span> <span class="typed"><span class="type">scala.tools.nsc.CompilerCommand</span><a href="#20125">command</a></span>.<span class="typed"><span class="type">=&gt; List[String]</span><a id="12420">files</a></span>
			<span class="keyword">val</span> <span class="typed"><span class="type">&lt;refinement&gt; extends scala.tools.nsc.doc.DefaultDocDriver</span><a id="20674">generator</a></span> = <span class="typed"><span class="type">template $anon extends scala.tools.nsc.doc.DefaultDocDriver</span><a id="20675" class="keyword">new</a></span> doc.<span class="typed"><span class="type">scala.tools.nsc.doc.DefaultDocDriver</span><a id="20590">DefaultDocDriver</a></span>
			{
				<span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">compiler.type</span><a id="20717">global</a></span>: compiler.<span class="keyword">type</span> = <span class="typed"><span class="type">object compiler</span><a href="#20126">compiler</a></span>
				<span class="keyword">lazy</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a id="20719">settings</a></span> = <span class="typed"><span class="type">scala.tools.nsc.doc.Settings</span><a href="#20124">docSettings</a></span>
			}
			<span class="typed"><span class="type">&lt;refinement&gt; extends scala.tools.nsc.doc.DefaultDocDriver</span><a href="#20674">generator</a></span>.<span class="typed"><span class="type">(Iterator[generator.global.CompilationUnit])Unit</span><a id="20684">process</a></span>(<span class="typed"><span class="type">compiler.Run</span><a href="#20673">run</a></span>.<span class="typed"><span class="type">=&gt; Iterator[compiler.CompilationUnit]</span><a id="14646">units</a></span>)
			<span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#20123">reporter</a></span>.<span class="typed"><span class="type">()Unit</span><a href="#11983">printSummary</a></span>()
		}
		<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">sbt.LoggerReporter</span><a href="#20123">reporter</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="11958">hasErrors</a></span>
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)java.lang.String</span><a id="20111">actionStartMessage</a></span>(<span class="typed"><span class="type">String</span><a id="21245">label</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) = <span class="typed"><span class="type">java.lang.String(&quot;Generating API documentation for &quot;)</span><span class="string">&quot;Generating API documentation for &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">String</span><a href="#21245">label</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; sources...&quot;)</span><span class="string">&quot; sources...&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="20113"><a id="20112">actionNothingToDoMessage</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;No sources specified.&quot;)</span><span class="string">&quot;No sources specified.&quot;</span></span>
	<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><span id="20115"><a id="20114">actionSuccessfulMessage</a></span></span> = <span class="typed"><span class="type">java.lang.String(&quot;API documentation generation successful.&quot;)</span><span class="string">&quot;API documentation generation successful.&quot;</span></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a id="20116">actionUnsuccessfulMessage</a></span> = <span class="typed"><span class="type">java.lang.String(&quot;API documentation generation unsuccessful.&quot;)</span><span class="string">&quot;API documentation generation unsuccessful.&quot;</span></span>
}

<span class="comment">// The following code is based on scala.tools.nsc.reporters.{AbstractReporter, ConsoleReporter}</span>
<span class="comment">// Copyright 2002-2008 LAMP/EPFL</span>
<span class="comment">// Original author: Martin Odersky</span>
<span class="keyword">class</span> <span class="typed"><span class="type">class LoggerReporter extends scala.tools.nsc.reporters.Reporter with ScalaObject</span><a id="6205">LoggerReporter</a></span>(<span class="typed"><span class="type">sbt.Logger</span><span id="11977"><a id="11990">log</a></span></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>) <span class="keyword">extends</span> scala.tools.nsc.reporters.<span class="typed"><span class="type">scala.tools.nsc.reporters.Reporter</span><a id="11901">Reporter</a></span>
{
	<span class="keyword">import</span> scala.tools.nsc.util.{FakePos,Position}
	<span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><span id="11981"><a id="11980">positions</a></span></span> = <span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><span class="keyword">new</span></span> scala.collection.mutable.<span class="typed"><span class="type">scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><a id="8204">HashMap</a></span>[Position, Severity]
	
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)Unit</span><a id="11982">error</a></span>(<span class="typed"><span class="type">String</span><a id="12394">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>) { <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String)Unit</span><a href="#6205" id="11968">error</a></span>(<span class="typed"><span class="type">(String)scala.tools.nsc.util.FakePos</span><span id="21517"><a id="11779">FakePos</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;scalac&quot;)</span><span class="string">&quot;scalac&quot;</span></span>), <span class="typed"><span class="type">String</span><a href="#12394">msg</a></span>) }

	<span class="keyword">def</span> <span class="typed"><span class="type">()Unit</span><a id="11983">printSummary</a></span>()
	{
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11950">WARNING</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11944">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3126">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
			<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8468">warn</a></span>(<span class="typed"><span class="type">(Int,String)String</span><a href="#6205" id="11974">countElementsAsString</a></span>(<span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11950">WARNING</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11944">count</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;warning&quot;)</span><span class="string">&quot;warning&quot;</span></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; found&quot;)</span><span class="string">&quot; found&quot;</span></span>)
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11952">ERROR</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11944">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3126">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>)
			<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(=&gt; String)Unit</span><a href="Logger.scala.html#8469">error</a></span>(<span class="typed"><span class="type">(Int,String)String</span><a href="#6205" id="11974">countElementsAsString</a></span>(<span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11952">ERROR</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11944">count</a></span>, <span class="typed"><span class="type">java.lang.String(&quot;error&quot;)</span><span class="string">&quot;error&quot;</span></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; found&quot;)</span><span class="string">&quot; found&quot;</span></span>)
	}
	
	<span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit</span><a id="11984">display</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="21523">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="11883">Position</a></span>, <span class="typed"><span class="type">String</span><a id="21524">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="21525">severity</a></span>: <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="11941">Severity</a></span>)
	{
		<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#21525">severity</a></span>.<span class="typed"><span class="type">(Int)Unit</span><span id="11945"><a id="11944">count</a></span></span> <span class="typed"><span class="type">(Int)Int</span><a id="3128">+=</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#21525">severity</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="5765">!=</a></span> <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11952">ERROR</a></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2731">||</a></span> <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#21525">severity</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="11944">count</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3125">&lt;=</a></span> <span class="typed"><span class="type">object sbt.LoggerReporter</span><a href="#6206">LoggerReporter</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a href="#21782">ErrorLimit</a></span>)
			<span class="typed"><span class="type">(sbt.Level.Value,scala.tools.nsc.util.Position,String)Unit</span><a href="#11986">print</a></span>(<span class="typed"><span class="type">(LoggerReporter.this.Severity)sbt.Level.Value</span><a href="#11985">severityToLevel</a></span>(<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#21525">severity</a></span>), <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21523">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#21524">msg</a></span>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(LoggerReporter.this.Severity)sbt.Level.Value</span><a id="11985">severityToLevel</a></span>(<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="21800">severity</a></span>: <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="11941">Severity</a></span>): Level.<span class="typed"><span class="type">sbt.Level.Value</span><a id="21282">Value</a></span> =
		<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#21800">severity</a></span> <span class="typed"><span class="type">sbt.Level.Value</span><span class="keyword">match</span></span>
		{
			<span class="typed"><span class="type">sbt.Level.Value</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11952">ERROR</a></span> =&gt; <span class="typed"><span class="type">object sbt.Level</span><a href="Logger.scala.html#6774">Level</a></span>.<span class="typed"><span class="type">=&gt; sbt.Level.Value</span><a href="Logger.scala.html#21794">Error</a></span>
			<span class="typed"><span class="type">sbt.Level.Value</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11950">WARNING</a></span> =&gt; <span class="typed"><span class="type">object sbt.Level</span><a href="Logger.scala.html#6774">Level</a></span>.<span class="typed"><span class="type">=&gt; sbt.Level.Value</span><a href="Logger.scala.html#21792">Warn</a></span>
			<span class="typed"><span class="type">sbt.Level.Value</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11948">INFO</a></span> =&gt; <span class="typed"><span class="type">object sbt.Level</span><a href="Logger.scala.html#6774">Level</a></span>.<span class="typed"><span class="type">=&gt; sbt.Level.Value</span><a href="Logger.scala.html#21790">Info</a></span>
		}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Level.Value,scala.tools.nsc.util.Position,String)Unit</span><a id="11986">print</a></span>(<span class="typed"><span class="type">sbt.Level.Value</span><a id="21784">level</a></span>: Level.<span class="typed"><span class="type">sbt.Level.Value</span><a id="21282">Value</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="21785">posIn</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="11883">Position</a></span>, <span class="typed"><span class="type">String</span><a id="21786">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>)
	{
		<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21785">posIn</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3490">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>)
			<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(sbt.Level.Value,=&gt; String)Unit</span><a href="Logger.scala.html#8471">log</a></span>(<span class="typed"><span class="type">sbt.Level.Value</span><a href="#21784">level</a></span>, <span class="typed"><span class="type">String</span><a href="#21786">msg</a></span>)
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="21844">pos</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21785">posIn</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.Position</span><a id="21273">inUltimateSource</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21785">posIn</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a id="21269">source</a></span>.<span class="typed"><span class="type">(=&gt; scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.SourceFile</span><a id="10264">getOrElse</a></span>(<span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span>))
			<span class="keyword">def</span> <span class="typed"><span class="type">=&gt; java.lang.String</span><a id="21845">message</a></span> =
			{
				<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="21875">sourcePrefix</a></span> =
					<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span> <span class="typed"><span class="type">java.lang.String</span><span class="keyword">match</span></span>
					{
						<span class="typed"><span class="type">java.lang.String</span><span class="keyword">case</span></span> <a id="1">FakePos</a>(<span class="typed"><span class="type">String</span><a id="21877">msg</a></span>) =&gt; <span class="typed"><span class="type">String</span><a href="#21877">msg</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>
						<span class="typed"><span class="type">String</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[scala.tools.nsc.util.SourceFile]</span><a id="21269">source</a></span>.<span class="typed"><span class="type">((scala.tools.nsc.util.SourceFile) =&gt; String)Option[String]</span><a id="10266">map</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.SourceFile</span><a href="#21880">_</a></span>.<span class="typed"><span class="type">=&gt; scala.tools.nsc.io.AbstractFile</span><a id="21860">file</a></span>.<span class="typed"><span class="type">=&gt; String</span><a id="21978">path</a></span>).<span class="typed"><span class="type">(=&gt; String)String</span><a id="10264">getOrElse</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;&quot;)</span><span class="string">&quot;&quot;</span></span>)
					}
				<span class="keyword">val</span> <span class="typed"><span class="type">java.lang.String</span><a id="21876">lineNumberString</a></span> = <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a id="21270">line</a></span>.<span class="typed"><span class="type">((Int) =&gt; java.lang.String)Option[java.lang.String]</span><a id="10266">map</a></span>(<span class="typed"><span class="type">Int</span><a id="22002">line</a></span> =&gt; <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">Int</span><a href="#22002">line</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span>).<span class="typed"><span class="type">(=&gt; java.lang.String)java.lang.String</span><a id="10264">getOrElse</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;:&quot;)</span><span class="string">&quot;:&quot;</span></span>) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; &quot;)</span><span class="string">&quot; &quot;</span></span>
				<span class="typed"><span class="type">java.lang.String</span><a href="#21875">sourcePrefix</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String</span><a href="#21876">lineNumberString</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">String</span><a href="#21786">msg</a></span>
			}
			<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(sbt.Level.Value,=&gt; String)Unit</span><a href="Logger.scala.html#8471">log</a></span>(<span class="typed"><span class="type">sbt.Level.Value</span><a href="#21784">level</a></span>, <span class="typed"><span class="type">=&gt; java.lang.String</span><a href="#21845">message</a></span>)
			<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span> (<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a id="21270">line</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
			{
				<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(sbt.Level.Value,=&gt; String)Unit</span><a href="Logger.scala.html#8471">log</a></span>(<span class="typed"><span class="type">sbt.Level.Value</span><a href="#21784">level</a></span>, <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span>.<span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6104"><span id="802"><a id="21272">lineContent</a></span></span></span>.<span class="typed"><span class="type">=&gt; String</span><a id="8613">stripLineEnd</a></span>) <span class="comment">// source line with error/warning</span>
				<span class="keyword">for</span>(<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="10271"><span id="10270"><span id="22020"><a id="22023">column</a></span></span></span></span> &lt;- <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#21844">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a id="21271">column</a></span> <span class="keyword">if</span> <span class="typed"><span class="type">Int</span><a href="#22020">column</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="3126">&gt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="comment">// pointer to the column position of the error/warning</span>
					<span class="typed"><span class="type">sbt.Logger</span><a href="#11977">log</a></span>.<span class="typed"><span class="type">(sbt.Level.Value,=&gt; String)Unit</span><a href="Logger.scala.html#8471">log</a></span>(<span class="typed"><span class="type">sbt.Level.Value</span><a href="#21784">level</a></span>, (<span class="typed"><span class="type">implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString</span><span id="6104"><a id="802" class="string">&quot; &quot;</a></span></span> <span class="typed"><span class="type">(Int)String</span><a id="8610">*</a></span> (<span class="typed"><span class="type">Int</span><a href="#22023">column</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3129">-</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)) <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">Char('^')</span><span class="char">'^'</span></span>)
			}
		}
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <span class="typed"><span class="type">=&gt; Unit</span><a id="11987">reset</a></span> =
	{
		<span class="keyword">super</span>.<span class="typed"><span class="type">=&gt; Unit</span><a id="11954">reset</a></span>
		<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><a href="#11980">positions</a></span>.<span class="typed"><span class="type">()Unit</span><a id="21257">clear</a></span>
	}

	<span class="keyword">protected</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity,Boolean)Unit</span><a id="11988">info0</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="22050">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="11883">Position</a></span>, <span class="typed"><span class="type">String</span><a id="22051">msg</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="22052">severity</a></span>: <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="11941">Severity</a></span>, <span class="typed"><span class="type">Boolean</span><a id="22053">force</a></span>: <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span>)
	{
		<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22052">severity</a></span> <span class="typed"><span class="type">Unit</span><span class="keyword">match</span></span>
		{
			<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11950">WARNING</a></span> | <span class="typed"><span class="type">=&gt; LoggerReporter.this.Severity</span><a href="#6205" id="11952">ERROR</a></span> =&gt;
			{
				<span class="typed"><span class="type">Unit</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; Boolean</span><a id="2728">!</a></span><span class="typed"><span class="type">(scala.tools.nsc.util.Position,LoggerReporter.this.Severity)Boolean</span><a href="#11989">testAndLog</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22050">pos</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22052">severity</a></span>))
					<span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit</span><a href="#11984">display</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22050">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#22051">msg</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22052">severity</a></span>)
			}
			<span class="typed"><span class="type">Unit</span><span class="keyword">case</span></span> _ =&gt; <span class="typed"><span class="type">(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit</span><a href="#11984">display</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22050">pos</a></span>, <span class="typed"><span class="type">String</span><a href="#22051">msg</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22052">severity</a></span>)
		}
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(scala.tools.nsc.util.Position,LoggerReporter.this.Severity)Boolean</span><a id="11989">testAndLog</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="22054">pos</a></span>: <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a id="11883">Position</a></span>, <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="22055">severity</a></span>: <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a id="11941">Severity</a></span>): <span class="typed"><span class="type">Boolean</span><a id="2151">Boolean</a></span> =
	{
		<span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22054">pos</a></span> <span class="typed"><span class="type">(AnyRef)Boolean</span><a id="3490">==</a></span> <span class="typed"><span class="type">Null(null)</span><span class="keyword">null</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2731">||</a></span> <span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22054">pos</a></span>.<span class="typed"><span class="type">=&gt; Option[Int]</span><a id="21268">offset</a></span>.<span class="typed"><span class="type">=&gt; Boolean</span><a id="10259">isEmpty</a></span>)
			<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
		<span class="keyword">else</span> <span class="typed"><span class="type">Boolean</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><a href="#11980">positions</a></span>.<span class="typed"><span class="type">(scala.tools.nsc.util.Position)Option[LoggerReporter.this.Severity]</span><a id="21498">get</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22054">pos</a></span>).<span class="typed"><span class="type">((LoggerReporter.this.Severity) =&gt; Boolean)Option[Boolean]</span><a id="10266">map</a></span>(<span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22059">_</a></span> <span class="typed"><span class="type">(LoggerReporter.this.severity.Value)Boolean</span><a id="8915">&gt;=</a></span> <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22055">severity</a></span>).<span class="typed"><span class="type">(=&gt; Boolean)Boolean</span><a id="10264">getOrElse</a></span>(<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>))
			<span class="typed"><span class="type">Boolean(true)</span><span class="keyword">true</span></span>
		<span class="keyword">else</span>
		{
			<span class="typed"><span class="type">=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]</span><a href="#11980">positions</a></span>(<span class="typed"><span class="type">scala.tools.nsc.util.Position</span><a href="#22054">pos</a></span>) = <span class="typed"><span class="type">LoggerReporter.this.Severity</span><a href="#22055">severity</a></span>
			<span class="typed"><span class="type">Boolean(false)</span><span class="keyword">false</span></span>
		}
	}
}
<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.LoggerReporter</span><a id="6206">LoggerReporter</a></span>
{
	<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="21783"><a id="21782">ErrorLimit</a></span></span> = <span class="typed"><span class="type">Int(100)</span><span class="int">100</span></span>
}
        </pre>
    </body>
</html>