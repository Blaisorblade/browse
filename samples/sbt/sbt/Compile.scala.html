<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Compile.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CompilerCore extends java.lang.Object with ScalaObject" id="6108">CompilerCore</a>
{
	<span class="keyword">val</span> <span id="6789"><a title="java.lang.String" id="6788">ClasspathOptionString</a></span> = <span title="java.lang.String(&quot;-classpath&quot;)" class="string">&quot;-classpath&quot;</span>
	<span class="keyword">val</span> <span id="6791"><a title="java.lang.String" id="6790">OutputOptionString</a></span> = <span title="java.lang.String(&quot;-d&quot;)" class="string">&quot;-d&quot;</span>
	
	<span class="comment">// Returns false if there were errors, true if there were not.</span>
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(List[String],sbt.Logger)Boolean" id="6792">process</a>(<a title="List[String]" id="7310">args</a>: <a title="List[String]" id="481">List</a>[String], <a title="sbt.Logger" id="7311">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>): <a title="Boolean" id="2060">Boolean</a>
	<span class="keyword">def</span> <a title="(String)String" id="6793">actionStartMessage</a>(<a title="String" id="8360">label</a>: <a title="String" id="1751">String</a>): <a title="String" id="1751">String</a>
	<span class="keyword">def</span> <a title="=&gt; String" id="6794">actionNothingToDoMessage</a>: <a title="String" id="1751">String</a>
	<span class="keyword">def</span> <a title="=&gt; String" id="6795">actionSuccessfulMessage</a>: <a title="String" id="1751">String</a>
	<span class="keyword">def</span> <a title="=&gt; String" id="6796">actionUnsuccessfulMessage</a>: <a title="String" id="1751">String</a>

	<span class="keyword">final</span> <span class="keyword">def</span> <a title="(String,Iterable[sbt.Path],String,sbt.Path,Iterable[String],sbt.Logger)Option[String]" id="6797">apply</a>(<a title="String" id="8364">label</a>: <a title="String" id="1751">String</a>, <a title="Iterable[sbt.Path]" id="8365">sources</a>: <a title="Iterable[sbt.Path]" id="358">Iterable</a>[Path], <a title="String" id="8366">classpathString</a>: <a title="String" id="1751">String</a>, <a title="sbt.Path" id="8367">outputDirectory</a>: <a href="Path.scala.html#6697" title="sbt.Path">Path</a>, <a title="Iterable[String]" id="8368">options</a>: <a title="Iterable[String]" id="358">Iterable</a>[String], <a title="sbt.Logger" id="8369">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<a href="#8369" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8352" title="(=&gt; String)Unit">info</a>(<a href="#6793" title="(String)String">actionStartMessage</a>(<a href="#8364" title="String">label</a>))
		<span class="keyword">val</span> <a title="List[String]" id="8371">classpathOption</a>: <a title="List[String]" id="481">List</a>[String] =
			<span title="List[String]" class="keyword">if</span>(<span id="6012"><a href="#8366" title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" id="770">classpathString</a></span>.<a title="=&gt; Boolean" id="7108">isEmpty</a>)
				<a title="object Nil" id="299">Nil</a>
			<span class="keyword">else</span>
				<span id="6801"><a title="(String*)List[String]" id="482">List</a></span>(<a href="#6788" title="=&gt; java.lang.String">ClasspathOptionString</a>, <a href="#8366" title="String">classpathString</a>)
		<span class="keyword">val</span> <a title="java.io.File" id="8372">outputDir</a> = <a href="#8367" title="sbt.Path">outputDirectory</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>
		<a href="FileUtilities.scala.html#6351" title="object sbt.FileUtilities">FileUtilities</a>.<a href="FileUtilities.scala.html#9419" title="(java.io.File,sbt.Logger)Option[String]">createDirectory</a>(<a href="#8372" title="java.io.File">outputDir</a>, <a href="#8369" title="sbt.Logger">log</a>) <a title="(=&gt; Option[String])Option[String]" id="10163">orElse</a>
		{
			<span class="keyword">val</span> <a title="List[String]" id="10175">classpathAndOut</a>: <a title="List[String]" id="481">List</a>[String] = <a href="#6790" title="=&gt; java.lang.String">OutputOptionString</a> <a href="#10176" title="(String)List[String]" id="6808">::</a> <a href="#8372" title="java.io.File">outputDir</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a> <a href="#10177" title="(String)List[String]" id="6808">::</a> <a href="#8371" title="List[String]">classpathOption</a>
			
			<a href="Control.scala.html#6605" title="object sbt.Control">Control</a>.<a href="Control.scala.html#10189" title="(=&gt; String,sbt.Logger)(=&gt; Option[String])Option[String]">trapUnit</a>(<span title="java.lang.String(&quot;Compiler error: &quot;)" class="string">&quot;Compiler error: &quot;</span>, <a href="#8369" title="sbt.Logger">log</a>)
			{
				<span class="keyword">val</span> <a title="List[java.lang.String]" id="10213">sourceList</a> = <a href="#8365" title="Iterable[sbt.Path]">sources</a>.<a title="((sbt.Path) =&gt; java.lang.String)Iterable[java.lang.String]" id="7246">map</a>(<a href="#10225" title="sbt.Path">_</a>.<a href="Path.scala.html#9529" title="=&gt; java.io.File">asFile</a>.<a title="()java.lang.String" id="9551">getAbsolutePath</a>).<a title="=&gt; List[java.lang.String]" id="7279">toList</a>
				<span title="Option[String]" class="keyword">if</span>(<a href="#10213" title="List[java.lang.String]">sourceList</a>.<a title="=&gt; Boolean" id="7108">isEmpty</a>)
				{
					<a href="#8369" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8352" title="(=&gt; String)Unit">info</a>(<a href="#6794" title="=&gt; String">actionNothingToDoMessage</a>)
					<a title="object None" id="488">None</a>
				}
				<span class="keyword">else</span>
				{
					<span class="keyword">val</span> <a title="List[String]" id="10235">arguments</a> = (<a href="#8368" title="Iterable[String]">options</a> <a title="(Iterable[String])Collection[String]" id="7244">++</a> <a href="#10175" title="List[String]">classpathAndOut</a> <a title="(Iterable[String])Collection[String]" id="7244">++</a> <a href="#10213" title="List[java.lang.String]">sourceList</a>).<a title="=&gt; List[String]" id="7279">toList</a>
					<a href="#8369" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8351" title="(=&gt; String)Unit">debug</a>(<span title="java.lang.String(&quot;Arguments: &quot;)" class="string">&quot;Arguments: &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#10235" title="List[String]">arguments</a>.<a title="(String)String" id="7283">mkString</a>(<span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>))
					<span title="Option[String]" class="keyword">if</span>(<a href="#6792" title="(List[String],sbt.Logger)Boolean">process</a>(<a href="#10235" title="List[String]">arguments</a>, <a href="#8369" title="sbt.Logger">log</a>))
					{
						<a href="#8369" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8352" title="(=&gt; String)Unit">info</a>(<a href="#6795" title="=&gt; String">actionSuccessfulMessage</a>)
						<a title="object None" id="488">None</a>
					}
					<span class="keyword">else</span>
						<span id="10256"><a title="(String)Some[String]" id="275">Some</a></span>(<a href="#6796" title="=&gt; String">actionUnsuccessfulMessage</a>)
				}
			}
		}
	}
}
<span class="comment">// The following code is based on scala.tools.nsc.Main and scala.tools.nsc.ScalaDoc</span>
<span class="comment">// Copyright 2005-2008 LAMP/EPFL</span>
<span class="comment">// Original author: Martin Odersky</span>
	
<span class="keyword">object</span> <a title="object sbt.Compile" id="6109">Compile</a> <span class="keyword">extends</span> <a href="#6108" title="sbt.CompilerCore">CompilerCore</a>
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(List[String],sbt.Logger)Boolean" id="10262">process</a>(<a title="List[String]" id="10270">arguments</a>: <a title="List[String]" id="481">List</a>[String], <a title="sbt.Logger" id="10271">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">import</span> scala.tools.nsc.{CompilerCommand, FatalError, Global, Settings, reporters, util}
		<span class="keyword">import</span> util.FakePos
		<span class="keyword">var</span> <a title="sbt.LoggerReporter" id="10275">reporter</a> = <span title="sbt.LoggerReporter" class="keyword">new</span> <a href="#6113" title="sbt.LoggerReporter">LoggerReporter</a>(<a href="#10271" title="sbt.Logger">log</a>)
		<span class="keyword">val</span> <a title="scala.tools.nsc.Settings" id="10276">settings</a> = <span title="scala.tools.nsc.Settings" class="keyword">new</span> <a title="scala.tools.nsc.Settings" id="11009">Settings</a>(<a href="#10275" title="sbt.LoggerReporter">reporter</a>.<a href="#11541" title="(String)Unit">error</a>)
		<span class="keyword">val</span> <a title="scala.tools.nsc.CompilerCommand" id="10277">command</a> = <span title="scala.tools.nsc.CompilerCommand" class="keyword">new</span> <a title="scala.tools.nsc.CompilerCommand" id="10370">CompilerCommand</a>(<a href="#10270" title="List[String]">arguments</a>, <a href="#10276" title="scala.tools.nsc.Settings">settings</a>, <span id="5873"><a href="#11971" title="(String)Nothing" id="770">error</a></span>, <span title="Boolean(false)" class="keyword">false</span>)
		
		<span class="keyword">object</span> <a title="object compiler" id="10278">compiler</a> <span class="keyword">extends</span> <a title="scala.tools.nsc.Global" id="10685">Global</a>(<a href="#10277" title="scala.tools.nsc.CompilerCommand">command</a>.<a title="=&gt; scala.tools.nsc.Settings" id="11947">settings</a>, <a href="#10275" title="sbt.LoggerReporter">reporter</a>)
		<span title="Unit" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#10275" title="sbt.LoggerReporter">reporter</a>.<a title="=&gt; Boolean" id="11517">hasErrors</a>)
		{
			<span class="keyword">val</span> <a title="compiler.Run" id="19161">run</a> = <span title="compiler.Run" class="keyword">new</span> <a href="#10278" title="object compiler">compiler</a>.<a title="compiler.Run" id="13866">Run</a>
			<a href="#19161" title="compiler.Run">run</a> <a title="(List[String])Unit" id="13931">compile</a> <a href="#10277" title="scala.tools.nsc.CompilerCommand">command</a>.<a title="=&gt; List[String]" id="11955">files</a>
			<a href="#10275" title="sbt.LoggerReporter">reporter</a>.<a href="#11542" title="()Unit">printSummary</a>()
		}
		<a title="=&gt; Boolean" id="2637">!</a><a href="#10275" title="sbt.LoggerReporter">reporter</a>.<a title="=&gt; Boolean" id="11517">hasErrors</a>
	}
	<span class="keyword">def</span> <a title="(String)java.lang.String" id="10263">actionStartMessage</a>(<a title="String" id="19162">label</a>: <a title="String" id="1751">String</a>) = <span title="java.lang.String(&quot;Compiling &quot;)" class="string">&quot;Compiling &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#19162" title="String">label</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; sources...&quot;)" class="string">&quot; sources...&quot;</span>
	<span class="keyword">val</span> <span id="10265"><a title="java.lang.String" id="10264">actionNothingToDoMessage</a></span> = <span title="java.lang.String(&quot;Nothing to compile.&quot;)" class="string">&quot;Nothing to compile.&quot;</span>
	<span class="keyword">val</span> <span id="10267"><a title="java.lang.String" id="10266">actionSuccessfulMessage</a></span> = <span title="java.lang.String(&quot;Compilation successful.&quot;)" class="string">&quot;Compilation successful.&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="10268">actionUnsuccessfulMessage</a> = <span title="java.lang.String(&quot;Compilation unsuccessful.&quot;)" class="string">&quot;Compilation unsuccessful.&quot;</span>
}
<span class="keyword">object</span> <a title="object sbt.Scaladoc" id="6111">Scaladoc</a> <span class="keyword">extends</span> <a href="#6108" title="sbt.CompilerCore">CompilerCore</a>
{
	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(List[String],sbt.Logger)Boolean" id="19167">process</a>(<a title="List[String]" id="19175">arguments</a>: <a title="List[String]" id="481">List</a>[String], <a title="sbt.Logger" id="19176">log</a>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) =
	{
		<span class="keyword">import</span> scala.tools.nsc.{doc, CompilerCommand, FatalError, Global, reporters, util}
		<span class="keyword">import</span> util.FakePos
		<span class="keyword">val</span> <a title="sbt.LoggerReporter" id="19180">reporter</a> = <span title="sbt.LoggerReporter" class="keyword">new</span> <a href="#6113" title="sbt.LoggerReporter">LoggerReporter</a>(<a href="#19176" title="sbt.Logger">log</a>)
		<span class="keyword">val</span> <a title="scala.tools.nsc.doc.Settings" id="19181">docSettings</a>: doc.<a title="scala.tools.nsc.doc.Settings" id="19464">Settings</a> = <span title="scala.tools.nsc.doc.Settings" class="keyword">new</span> doc.<a title="scala.tools.nsc.doc.Settings" id="19464">Settings</a>(<a href="#19180" title="sbt.LoggerReporter">reporter</a>.<a href="#11541" title="(String)Unit">error</a>)
		<span class="keyword">val</span> <a title="scala.tools.nsc.CompilerCommand" id="19182">command</a> = <span title="scala.tools.nsc.CompilerCommand" class="keyword">new</span> <a title="scala.tools.nsc.CompilerCommand" id="10370">CompilerCommand</a>(<a href="#19175" title="List[String]">arguments</a>, <a href="#19181" title="scala.tools.nsc.doc.Settings">docSettings</a>, <span id="5873"><a href="#19712" title="(String)Nothing" id="770">error</a></span>, <span title="Boolean(false)" class="keyword">false</span>)
		<span class="keyword">object</span> <a title="object compiler" id="19183">compiler</a> <span class="keyword">extends</span> <a title="scala.tools.nsc.Global" id="10685">Global</a>(<a href="#19182" title="scala.tools.nsc.CompilerCommand">command</a>.<a title="=&gt; scala.tools.nsc.Settings" id="11947">settings</a>, <a href="#19180" title="sbt.LoggerReporter">reporter</a>)
		{
			<span class="keyword">override</span> <span class="keyword">val</span> <span id="19715"><a title="Boolean" id="19714">onlyPresentation</a></span> = <span title="Boolean(true)" class="keyword">true</span>
		}
		<span title="Unit" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#19180" title="sbt.LoggerReporter">reporter</a>.<a title="=&gt; Boolean" id="11517">hasErrors</a>)
		{
			<span class="keyword">val</span> <a title="compiler.Run" id="19727">run</a> = <span title="compiler.Run" class="keyword">new</span> <a href="#19183" title="object compiler">compiler</a>.<a title="compiler.Run" id="13866">Run</a>
			<a href="#19727" title="compiler.Run">run</a> <a title="(List[String])Unit" id="13931">compile</a> <a href="#19182" title="scala.tools.nsc.CompilerCommand">command</a>.<a title="=&gt; List[String]" id="11955">files</a>
			<span class="keyword">val</span> <a title="&lt;refinement&gt; extends scala.tools.nsc.doc.DefaultDocDriver" id="19728">generator</a> = <a title="template $anon extends scala.tools.nsc.doc.DefaultDocDriver" id="19729" class="keyword">new</a> doc.<a title="scala.tools.nsc.doc.DefaultDocDriver" id="19647">DefaultDocDriver</a>
			{
				<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="compiler.type" id="19771">global</a>: compiler.<span class="keyword">type</span> = <a href="#19183" title="object compiler">compiler</a>
				<span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.tools.nsc.doc.Settings" id="19773">settings</a> = <a href="#19181" title="scala.tools.nsc.doc.Settings">docSettings</a>
			}
			<a href="#19728" title="&lt;refinement&gt; extends scala.tools.nsc.doc.DefaultDocDriver">generator</a>.<a title="(Iterator[generator.global.CompilationUnit])Unit" id="19738">process</a>(<a href="#19727" title="compiler.Run">run</a>.<a title="=&gt; Iterator[compiler.CompilationUnit]" id="13922">units</a>)
			<a href="#19180" title="sbt.LoggerReporter">reporter</a>.<a href="#11542" title="()Unit">printSummary</a>()
		}
		<a title="=&gt; Boolean" id="2637">!</a><a href="#19180" title="sbt.LoggerReporter">reporter</a>.<a title="=&gt; Boolean" id="11517">hasErrors</a>
	}
	<span class="keyword">def</span> <a title="(String)java.lang.String" id="19168">actionStartMessage</a>(<a title="String" id="20308">label</a>: <a title="String" id="1751">String</a>) = <span title="java.lang.String(&quot;Generating API documentation for &quot;)" class="string">&quot;Generating API documentation for &quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#20308" title="String">label</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; sources...&quot;)" class="string">&quot; sources...&quot;</span>
	<span class="keyword">val</span> <span id="19170"><a title="java.lang.String" id="19169">actionNothingToDoMessage</a></span> = <span title="java.lang.String(&quot;No sources specified.&quot;)" class="string">&quot;No sources specified.&quot;</span>
	<span class="keyword">val</span> <span id="19172"><a title="java.lang.String" id="19171">actionSuccessfulMessage</a></span> = <span title="java.lang.String(&quot;API documentation generation successful.&quot;)" class="string">&quot;API documentation generation successful.&quot;</span>
	<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="19173">actionUnsuccessfulMessage</a> = <span title="java.lang.String(&quot;API documentation generation unsuccessful.&quot;)" class="string">&quot;API documentation generation unsuccessful.&quot;</span>
}

<span class="comment">// The following code is based on scala.tools.nsc.reporters.{AbstractReporter, ConsoleReporter}</span>
<span class="comment">// Copyright 2002-2008 LAMP/EPFL</span>
<span class="comment">// Original author: Martin Odersky</span>
<span class="keyword">class</span> <a title="class LoggerReporter extends scala.tools.nsc.reporters.Reporter with ScalaObject" id="6113">LoggerReporter</a>(<span id="11536"><a title="sbt.Logger" id="11549">log</a></span>: <a href="Logger.scala.html#6667" title="sbt.Logger">Logger</a>) <span class="keyword">extends</span> scala.tools.nsc.reporters.<a title="scala.tools.nsc.reporters.Reporter" id="11460">Reporter</a>
{
	<span class="keyword">import</span> scala.tools.nsc.util.{FakePos,Position}
	<span class="keyword">private</span> <span class="keyword">val</span> <span id="11540"><a title="scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]" id="11539">positions</a></span> = <span title="scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]" class="keyword">new</span> scala.collection.mutable.<a title="scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]" id="8092">HashMap</a>[Position, Severity]
	
	<span class="keyword">def</span> <a title="(String)Unit" id="11541">error</a>(<a title="String" id="11933">msg</a>: <a title="String" id="1751">String</a>) { <a href="#6113" title="(scala.tools.nsc.util.Position,String)Unit" id="11527">error</a>(<span id="20581"><a title="(String)scala.tools.nsc.util.FakePos" id="11341">FakePos</a></span>(<span title="java.lang.String(&quot;scalac&quot;)" class="string">&quot;scalac&quot;</span>), <a href="#11933" title="String">msg</a>) }

	<span class="keyword">def</span> <a title="()Unit" id="11542">printSummary</a>()
	{
		<span title="Unit" class="keyword">if</span>(<a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11509">WARNING</a>.<a title="=&gt; Int" id="11503">count</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(0)" class="int">0</span>)
			<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8353" title="(=&gt; String)Unit">warn</a>(<a href="#6113" title="(Int,String)String" id="11533">countElementsAsString</a>(<a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11509">WARNING</a>.<a title="=&gt; Int" id="11503">count</a>, <span title="java.lang.String(&quot;warning&quot;)" class="string">&quot;warning&quot;</span>) <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>)
		<span title="Unit" class="keyword">if</span>(<a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11511">ERROR</a>.<a title="=&gt; Int" id="11503">count</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(0)" class="int">0</span>)
			<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8354" title="(=&gt; String)Unit">error</a>(<a href="#6113" title="(Int,String)String" id="11533">countElementsAsString</a>(<a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11511">ERROR</a>.<a title="=&gt; Int" id="11503">count</a>, <span title="java.lang.String(&quot;error&quot;)" class="string">&quot;error&quot;</span>) <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span>)
	}
	
	<span class="keyword">def</span> <a title="(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit" id="11543">display</a>(<a title="scala.tools.nsc.util.Position" id="20587">pos</a>: <a title="scala.tools.nsc.util.Position" id="11442">Position</a>, <a title="String" id="20588">msg</a>: <a title="String" id="1751">String</a>, <a title="LoggerReporter.this.Severity" id="20589">severity</a>: <a title="LoggerReporter.this.Severity" id="11500">Severity</a>)
	{
		<a href="#20589" title="LoggerReporter.this.Severity">severity</a>.<span id="11504"><a title="(Int)Unit" id="11503">count</a></span> <a title="(Int)Int" id="3037">+=</a> <span title="Int(1)" class="int">1</span>
		<span title="Unit" class="keyword">if</span>(<a href="#20589" title="LoggerReporter.this.Severity">severity</a> <a title="(AnyRef)Boolean" id="5674">!=</a> <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11511">ERROR</a> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#20589" title="LoggerReporter.this.Severity">severity</a>.<a title="=&gt; Int" id="11503">count</a> <a title="(Int)Boolean" id="3034">&lt;=</a> <a href="#6114" title="object sbt.LoggerReporter">LoggerReporter</a>.<a href="#20846" title="=&gt; Int">ErrorLimit</a>)
			<a href="#11545" title="(sbt.Level.Value,scala.tools.nsc.util.Position,String)Unit">print</a>(<a href="#11544" title="(LoggerReporter.this.Severity)sbt.Level.Value">severityToLevel</a>(<a href="#20589" title="LoggerReporter.this.Severity">severity</a>), <a href="#20587" title="scala.tools.nsc.util.Position">pos</a>, <a href="#20588" title="String">msg</a>)
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(LoggerReporter.this.Severity)sbt.Level.Value" id="11544">severityToLevel</a>(<a title="LoggerReporter.this.Severity" id="20864">severity</a>: <a title="LoggerReporter.this.Severity" id="11500">Severity</a>): Level.<a title="sbt.Level.Value" id="20345">Value</a> =
		<a href="#20864" title="LoggerReporter.this.Severity">severity</a> <span title="sbt.Level.Value" class="keyword">match</span>
		{
			<span title="sbt.Level.Value" class="keyword">case</span> <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11511">ERROR</a> =&gt; <a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20858" title="=&gt; sbt.Level.Value">Error</a>
			<span title="sbt.Level.Value" class="keyword">case</span> <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11509">WARNING</a> =&gt; <a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20856" title="=&gt; sbt.Level.Value">Warn</a>
			<span title="sbt.Level.Value" class="keyword">case</span> <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11507">INFO</a> =&gt; <a href="Logger.scala.html#6675" title="object sbt.Level">Level</a>.<a href="Logger.scala.html#20854" title="=&gt; sbt.Level.Value">Info</a>
		}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sbt.Level.Value,scala.tools.nsc.util.Position,String)Unit" id="11545">print</a>(<a title="sbt.Level.Value" id="20848">level</a>: Level.<a title="sbt.Level.Value" id="20345">Value</a>, <a title="scala.tools.nsc.util.Position" id="20849">posIn</a>: <a title="scala.tools.nsc.util.Position" id="11442">Position</a>, <a title="String" id="20850">msg</a>: <a title="String" id="1751">String</a>)
	{
		<span title="Unit" class="keyword">if</span>(<a href="#20849" title="scala.tools.nsc.util.Position">posIn</a> <a title="(AnyRef)Boolean" id="3399">==</a> <span title="Null(null)" class="keyword">null</span>)
			<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#20848" title="sbt.Level.Value">level</a>, <a href="#20850" title="String">msg</a>)
		<span class="keyword">else</span>
		{
			<span class="keyword">val</span> <a title="scala.tools.nsc.util.Position" id="20908">pos</a> = <a href="#20849" title="scala.tools.nsc.util.Position">posIn</a>.<a title="(scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.Position" id="20336">inUltimateSource</a>(<a href="#20849" title="scala.tools.nsc.util.Position">posIn</a>.<a title="=&gt; Option[scala.tools.nsc.util.SourceFile]" id="20332">source</a>.<a title="(=&gt; scala.tools.nsc.util.SourceFile)scala.tools.nsc.util.SourceFile" id="10155">getOrElse</a>(<span title="Null(null)" class="keyword">null</span>))
			<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="20909">message</a> =
			{
				<span class="keyword">val</span> <a title="java.lang.String" id="20939">sourcePrefix</a> =
					<a href="#20908" title="scala.tools.nsc.util.Position">pos</a> <span title="java.lang.String" class="keyword">match</span>
					{
						<span title="java.lang.String" class="keyword">case</span> <a id="1">FakePos</a>(<a title="String" id="20941">msg</a>) =&gt; <a href="#20941" title="String">msg</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
						<span title="String" class="keyword">case</span> _ =&gt; <a href="#20908" title="scala.tools.nsc.util.Position">pos</a>.<a title="=&gt; Option[scala.tools.nsc.util.SourceFile]" id="20332">source</a>.<a title="((scala.tools.nsc.util.SourceFile) =&gt; String)Option[String]" id="10157">map</a>(<a href="#20944" title="scala.tools.nsc.util.SourceFile">_</a>.<a title="=&gt; scala.tools.nsc.io.AbstractFile" id="20924">file</a>.<a title="=&gt; String" id="21012">path</a>).<a title="(=&gt; String)String" id="10155">getOrElse</a>(<span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>)
					}
				<span class="keyword">val</span> <a title="java.lang.String" id="20940">lineNumberString</a> = <a href="#20908" title="scala.tools.nsc.util.Position">pos</a>.<a title="=&gt; Option[Int]" id="20333">line</a>.<a title="((Int) =&gt; java.lang.String)Option[java.lang.String]" id="10157">map</a>(<a title="Int" id="21036">line</a> =&gt; <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#21036" title="Int">line</a> <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span>).<a title="(=&gt; java.lang.String)java.lang.String" id="10155">getOrElse</a>(<span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span>) <a title="(Any)java.lang.String" id="5683">+</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
				<a href="#20939" title="java.lang.String">sourcePrefix</a> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#20940" title="java.lang.String">lineNumberString</a> <a title="(Any)java.lang.String" id="5683">+</a> <a href="#20850" title="String">msg</a>
			}
			<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#20848" title="sbt.Level.Value">level</a>, <a href="#20909" title="=&gt; java.lang.String">message</a>)
			<span title="Unit" class="keyword">if</span> (<a title="=&gt; Boolean" id="2637">!</a><a href="#20908" title="scala.tools.nsc.util.Position">pos</a>.<a title="=&gt; Option[Int]" id="20333">line</a>.<a title="=&gt; Boolean" id="10150">isEmpty</a>)
			{
				<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#20848" title="sbt.Level.Value">level</a>, <a href="#20908" title="scala.tools.nsc.util.Position">pos</a>.<span id="6012"><span id="770"><a title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" id="20335">lineContent</a></span></span>.<a title="=&gt; String" id="8496">stripLineEnd</a>) <span class="comment">// source line with error/warning</span>
				<span class="keyword">for</span>(<span id="10162"><span id="10161"><span id="21054"><a title="((Int) =&gt; Unit)Unit" id="21057">column</a></span></span></span> &lt;- <a href="#20908" title="scala.tools.nsc.util.Position">pos</a>.<a title="=&gt; Option[Int]" id="20334">column</a> <span class="keyword">if</span> <a href="#21054" title="Int">column</a> <a title="(Int)Boolean" id="3035">&gt;</a> <span title="Int(0)" class="int">0</span>) <span class="comment">// pointer to the column position of the error/warning</span>
					<a href="#11536" title="sbt.Logger">log</a>.<a href="Logger.scala.html#8356" title="(sbt.Level.Value,=&gt; String)Unit">log</a>(<a href="#20848" title="sbt.Level.Value">level</a>, (<span id="6012"><a title="implicit scala.Predef.stringWrapper : (String)scala.runtime.RichString" id="770" class="string">&quot; &quot;</a></span> <a title="(Int)String" id="8493">*</a> (<a href="#21057" title="Int">column</a><a title="(Int)Int" id="3038">-</a><span title="Int(1)" class="int">1</span>)) <a title="(Any)java.lang.String" id="5683">+</a> <span title="Char('^')" class="char">'^'</span>)
			}
		}
	}
	<span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Unit" id="11546">reset</a> =
	{
		<span class="keyword">super</span>.<a title="=&gt; Unit" id="11513">reset</a>
		<a href="#11539" title="=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]">positions</a>.<a title="()Unit" id="20320">clear</a>
	}

	<span class="keyword">protected</span> <span class="keyword">def</span> <a title="(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity,Boolean)Unit" id="11547">info0</a>(<a title="scala.tools.nsc.util.Position" id="21084">pos</a>: <a title="scala.tools.nsc.util.Position" id="11442">Position</a>, <a title="String" id="21085">msg</a>: <a title="String" id="1751">String</a>, <a title="LoggerReporter.this.Severity" id="21086">severity</a>: <a title="LoggerReporter.this.Severity" id="11500">Severity</a>, <a title="Boolean" id="21087">force</a>: <a title="Boolean" id="2060">Boolean</a>)
	{
		<a href="#21086" title="LoggerReporter.this.Severity">severity</a> <span title="Unit" class="keyword">match</span>
		{
			<span title="Unit" class="keyword">case</span> <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11509">WARNING</a> | <a href="#6113" title="=&gt; LoggerReporter.this.Severity" id="11511">ERROR</a> =&gt;
			{
				<span title="Unit" class="keyword">if</span>(<a title="=&gt; Boolean" id="2637">!</a><a href="#11548" title="(scala.tools.nsc.util.Position,LoggerReporter.this.Severity)Boolean">testAndLog</a>(<a href="#21084" title="scala.tools.nsc.util.Position">pos</a>, <a href="#21086" title="LoggerReporter.this.Severity">severity</a>))
					<a href="#11543" title="(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit">display</a>(<a href="#21084" title="scala.tools.nsc.util.Position">pos</a>, <a href="#21085" title="String">msg</a>, <a href="#21086" title="LoggerReporter.this.Severity">severity</a>)
			}
			<span title="Unit" class="keyword">case</span> _ =&gt; <a href="#11543" title="(scala.tools.nsc.util.Position,String,LoggerReporter.this.Severity)Unit">display</a>(<a href="#21084" title="scala.tools.nsc.util.Position">pos</a>, <a href="#21085" title="String">msg</a>, <a href="#21086" title="LoggerReporter.this.Severity">severity</a>)
		}
	}
	
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(scala.tools.nsc.util.Position,LoggerReporter.this.Severity)Boolean" id="11548">testAndLog</a>(<a title="scala.tools.nsc.util.Position" id="21088">pos</a>: <a title="scala.tools.nsc.util.Position" id="11442">Position</a>, <a title="LoggerReporter.this.Severity" id="21089">severity</a>: <a title="LoggerReporter.this.Severity" id="11500">Severity</a>): <a title="Boolean" id="2060">Boolean</a> =
	{
		<span title="Boolean" class="keyword">if</span>(<a href="#21088" title="scala.tools.nsc.util.Position">pos</a> <a title="(AnyRef)Boolean" id="3399">==</a> <span title="Null(null)" class="keyword">null</span> <a title="(Boolean)Boolean" id="2640">||</a> <a href="#21088" title="scala.tools.nsc.util.Position">pos</a>.<a title="=&gt; Option[Int]" id="20331">offset</a>.<a title="=&gt; Boolean" id="10150">isEmpty</a>)
			<span title="Boolean(false)" class="keyword">false</span>
		<span class="keyword">else</span> <span title="Boolean" class="keyword">if</span>(<a href="#11539" title="=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]">positions</a>.<a title="(scala.tools.nsc.util.Position)Option[LoggerReporter.this.Severity]" id="20560">get</a>(<a href="#21088" title="scala.tools.nsc.util.Position">pos</a>).<a title="((LoggerReporter.this.Severity) =&gt; Boolean)Option[Boolean]" id="10157">map</a>(<a href="#21093" title="LoggerReporter.this.Severity">_</a> <a title="(LoggerReporter.this.severity.Value)Boolean" id="8798">&gt;=</a> <a href="#21089" title="LoggerReporter.this.Severity">severity</a>).<a title="(=&gt; Boolean)Boolean" id="10155">getOrElse</a>(<span title="Boolean(false)" class="keyword">false</span>))
			<span title="Boolean(true)" class="keyword">true</span>
		<span class="keyword">else</span>
		{
			<a href="#11539" title="=&gt; scala.collection.mutable.HashMap[scala.tools.nsc.util.Position,LoggerReporter.this.Severity]">positions</a>(<a href="#21088" title="scala.tools.nsc.util.Position">pos</a>) = <a href="#21089" title="LoggerReporter.this.Severity">severity</a>
			<span title="Boolean(false)" class="keyword">false</span>
		}
	}
}
<span class="keyword">object</span> <a title="object sbt.LoggerReporter" id="6114">LoggerReporter</a>
{
	<span class="keyword">val</span> <span id="20847"><a title="Int" id="20846">ErrorLimit</a></span> = <span title="Int(100)" class="int">100</span>
}
        </pre>
    </body>
</html>