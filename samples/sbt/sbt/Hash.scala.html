<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>sbt/Hash.scala</title>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style">
    </head>
    <body onload="initializeLinked()">
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2009 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> java.io.{ByteArrayInputStream, File, InputStream}

<span class="keyword">object</span> <span class="typed"><span class="type">object sbt.Hash</span><a id="6437">Hash</a></span>
{
	<span class="keyword">private</span> <span class="keyword">val</span> <span class="typed"><span class="type">Int</span><span id="23677"><a id="23676">BufferSize</a></span></span> = <span class="typed"><span class="type">Int(8192)</span><span class="int">8192</span></span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(Array[Byte])String</span><a id="23678">toHex</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a id="23744">bytes</a></span>: <span class="typed"><span class="type">Array[Byte]</span><a id="1053">Array</a></span>[Byte]): <span class="typed"><span class="type">String</span><a id="1842">String</a></span> =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">StringBuilder</span><a id="44108">buffer</a></span> = <span class="typed"><span class="type">(Int)StringBuilder</span><a id="9409" class="keyword">new</a></span> <span class="typed"><span class="type">StringBuilder</span><a id="1416">StringBuilder</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#23744">bytes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="7081">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3130">*</a></span> <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>)
		<span class="keyword">for</span>(<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="44128"><a id="44148">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6097"><a id="802" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="21591">until</a></span> <span class="typed"><span class="type">Array[Byte]</span><a href="#23744">bytes</a></span>.<span class="typed"><span class="type">=&gt; Int</span><a id="7081">length</a></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">Byte</span><a id="44149">b</a></span> = <span class="typed"><span class="type">(Int)Byte</span><a href="#23744" id="7082">bytes</a></span>(<span class="typed"><span class="type">Int</span><a href="#44148">i</a></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="44150">bi</a></span>: <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span> = <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Byte</span><a href="#44149">b</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="2797">&lt;</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Byte</span><a href="#44149">b</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="2801">+</a></span> <span class="typed"><span class="type">Int(256)</span><span class="int">256</span></span> <span class="keyword">else</span> <span class="typed"><span class="type">implicit scala.Predef.byte2int : (Byte)Int</span><span id="6164"><a href="#44149" id="802">b</a></span></span>
			<span class="typed"><span class="type">StringBuilder</span><a href="#44108">buffer</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a id="9434">append</a></span> <span class="typed"><span class="type">(Byte)Char</span><a href="#23684">toHex</a></span>((<span class="typed"><span class="type">Int</span><a href="#44150">bi</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3073">&gt;&gt;&gt;</a></span> <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>).<span class="typed"><span class="type">Byte</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Byte</span><a id="2360">Byte</a></span>])
			<span class="typed"><span class="type">StringBuilder</span><a href="#44108">buffer</a></span> <span class="typed"><span class="type">(Char)StringBuilder</span><a id="9434">append</a></span> <span class="typed"><span class="type">(Byte)Char</span><a href="#23684">toHex</a></span>((<span class="typed"><span class="type">Int</span><a href="#44150">bi</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3134">&amp;</a></span> <span class="typed"><span class="type">Int(15)</span><span class="int">0x0F</span></span>).<span class="typed"><span class="type">Byte</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Byte</span><a id="2360">Byte</a></span>])
		}
		<span class="typed"><span class="type">StringBuilder</span><a href="#44108">buffer</a></span>.<span class="typed"><span class="type">()String</span><a id="9460">toString</a></span>
	}
	<span class="keyword">def</span> <span class="typed"><span class="type">(String)Array[Byte]</span><a id="23679">fromHex</a></span>(<span class="typed"><span class="type">String</span><a id="23687">hex</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>): <span class="typed"><span class="type">Array[Byte]</span><a id="1053">Array</a></span>[Byte] =
	{
		<span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="5972"><a id="802">require</a></span></span>((<span class="typed"><span class="type">String</span><a href="#23687">hex</a></span>.<span class="typed"><span class="type">()Int</span><a id="5793">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3134">&amp;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) <span class="typed"><span class="type">(Int)Boolean</span><a id="3122">==</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;Hex string must have length 2n.&quot;)</span><span class="string">&quot;Hex string must have length 2n.&quot;</span></span>)
		<span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="44182">array</a></span> = <span class="typed"><span class="type">Array[Byte]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Byte]</span><a id="1053">Array</a></span>[Byte](<span class="typed"><span class="type">String</span><a href="#23687">hex</a></span>.<span class="typed"><span class="type">()Int</span><a id="5793">length</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3075">&gt;&gt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
		<span class="keyword">for</span>(<span class="typed"><span class="type">((Int) =&gt; Unit)Unit</span><span id="44128"><a id="44204">i</a></span></span> &lt;- <span class="typed"><span class="type">implicit scala.Predef.intWrapper : (Int)scala.runtime.RichInt</span><span id="6097"><a id="802" class="int">0</a></span></span> <span class="typed"><span class="type">(Int)Range</span><a id="21591">until</a></span> <span class="typed"><span class="type">String</span><a href="#23687">hex</a></span>.<span class="typed"><span class="type">()Int</span><a id="5793">length</a></span> <span class="typed"><span class="type">(Int)Range</span><a id="44127">by</a></span> <span class="typed"><span class="type">Int(2)</span><span class="int">2</span></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">Char</span><a id="44205">c1</a></span> = <span class="typed"><span class="type">String</span><a href="#23687">hex</a></span>.<span class="typed"><span class="type">(Int)Char</span><a id="5794">charAt</a></span>(<span class="typed"><span class="type">Int</span><a href="#44204">i</a></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">Char</span><a id="44206">c2</a></span> = <span class="typed"><span class="type">String</span><a href="#23687">hex</a></span>.<span class="typed"><span class="type">(Int)Char</span><a id="5794">charAt</a></span>(<span class="typed"><span class="type">Int</span><a href="#44204">i</a></span><span class="typed"><span class="type">(Int)Int</span><a id="3128">+</a></span><span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>)
			<span class="typed"><span class="type">Array[Byte]</span><a href="#44182">array</a></span>(<span class="typed"><span class="type">Int</span><a href="#44204">i</a></span> <span class="typed"><span class="type">(Int)Int</span><a id="3075">&gt;&gt;</a></span> <span class="typed"><span class="type">Int(1)</span><span class="int">1</span></span>) = ((<span class="typed"><span class="type">(Char)Int</span><a href="#23685">fromHex</a></span>(<span class="typed"><span class="type">Char</span><a href="#44205">c1</a></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3071">&lt;&lt;</a></span> <span class="typed"><span class="type">Int(4)</span><span class="int">4</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3133">|</a></span> <span class="typed"><span class="type">(Char)Int</span><a href="#23685">fromHex</a></span>(<span class="typed"><span class="type">Char</span><a href="#44206">c2</a></span>)).<span class="typed"><span class="type">Byte</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Byte</span><a id="2360">Byte</a></span>]
		}
		<span class="typed"><span class="type">Array[Byte]</span><a href="#44182">array</a></span>
	}
	<span class="comment">/** Calculates the SHA-1 hash of the given String.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(String,sbt.Logger)Either[String,Array[Byte]]</span><a id="23680">apply</a></span>(<span class="typed"><span class="type">String</span><a id="34310">s</a></span>: <span class="typed"><span class="type">String</span><a id="1842">String</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a id="34311">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Either[String,Array[Byte]]</span><a id="342">Either</a></span>[String, Array[Byte]] = <span class="typed"><span class="type">(java.io.InputStream,sbt.Logger)Either[String,Array[Byte]]</span><a href="#23683">apply</a></span>(<span class="typed"><span class="type">java.io.ByteArrayInputStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.io.ByteArrayInputStream</span><a id="3539">ByteArrayInputStream</a></span>(<span class="typed"><span class="type">String</span><a href="#34310">s</a></span>.<span class="typed"><span class="type">(java.lang.String)Array[Byte]</span><a id="5802">getBytes</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;UTF-8&quot;)</span><span class="string">&quot;UTF-8&quot;</span></span>)), <span class="typed"><span class="type">sbt.Logger</span><a href="#34311">log</a></span>)
	<span class="comment">/** Calculates the SHA-1 hash of the given file.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(sbt.Path,sbt.Logger)Either[String,Array[Byte]]</span><a id="23681">apply</a></span>(<span class="typed"><span class="type">sbt.Path</span><a id="34308">path</a></span>: <span class="typed"><span class="type">sbt.Path</span><a href="Path.scala.html#6796">Path</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a id="34309">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Either[String,Array[Byte]]</span><a id="342">Either</a></span>[String, Array[Byte]] = <span class="typed"><span class="type">(java.io.File,sbt.Logger)Either[String,Array[Byte]]</span><a href="#23682">apply</a></span>(<span class="typed"><span class="type">sbt.Path</span><a href="#34308">path</a></span>.<span class="typed"><span class="type">=&gt; java.io.File</span><a href="Path.scala.html#9638">asFile</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#34309">log</a></span>)
	<span class="comment">/** Calculates the SHA-1 hash of the given file.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.File,sbt.Logger)Either[String,Array[Byte]]</span><a id="23682">apply</a></span>(<span class="typed"><span class="type">java.io.File</span><a id="34306">file</a></span>: <span class="typed"><span class="type">java.io.File</span><a id="3650">File</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a id="34307">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Either[String,Array[Byte]]</span><a id="342">Either</a></span>[String, Array[Byte]] =
		<span class="typed"><span class="type">object sbt.FileUtilities</span><a href="FileUtilities.scala.html#6450">FileUtilities</a></span>.<span class="typed"><span class="type">(java.io.File,sbt.Logger)((java.io.InputStream) =&gt; Either[String,Array[Byte]])Either[String,Array[Byte]]</span><a href="FileUtilities.scala.html#9578">readStreamValue</a></span>(<span class="typed"><span class="type">java.io.File</span><a href="#34306">file</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#34307">log</a></span>) { <span class="typed"><span class="type">java.io.InputStream</span><a id="44248">stream</a></span> =&gt; <span class="typed"><span class="type">(java.io.InputStream,sbt.Logger)Either[String,Array[Byte]]</span><a href="#23683">apply</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#44248">stream</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#34307">log</a></span>) }
	<span class="comment">/** Calculates the SHA-1 hash of the given stream, closing it when finished.*/</span>
	<span class="keyword">def</span> <span class="typed"><span class="type">(java.io.InputStream,sbt.Logger)Either[String,Array[Byte]]</span><a id="23683">apply</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a id="34304">stream</a></span>: <span class="typed"><span class="type">java.io.InputStream</span><a id="3725">InputStream</a></span>, <span class="typed"><span class="type">sbt.Logger</span><a id="34305">log</a></span>: <span class="typed"><span class="type">sbt.Logger</span><a href="Logger.scala.html#6766">Logger</a></span>): <span class="typed"><span class="type">Either[String,Array[Byte]]</span><a id="342">Either</a></span>[String, Array[Byte]] =
	{
		<span class="keyword">import</span> java.security.{MessageDigest, DigestInputStream}
		<span class="keyword">val</span> <span class="typed"><span class="type">java.security.MessageDigest</span><a id="44251">digest</a></span> = <span class="typed"><span class="type">object java.security.MessageDigest</span><a id="4641">MessageDigest</a></span>.<span class="typed"><span class="type">(java.lang.String)java.security.MessageDigest</span><a id="44256">getInstance</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;SHA&quot;)</span><span class="string">&quot;SHA&quot;</span></span>)
		<span class="typed"><span class="type">object sbt.Control</span><a href="Control.scala.html#6704">Control</a></span>.<span class="typed"><span class="type">(=&gt; String,sbt.Logger)(=&gt; Either[String,Array[Byte]])(=&gt; Unit)Either[String,Array[Byte]]</span><a href="Control.scala.html#10295">trapAndFinally</a></span>(<span class="typed"><span class="type">java.lang.String(&quot;Error computing digest: &quot;)</span><span class="string">&quot;Error computing digest: &quot;</span></span>, <span class="typed"><span class="type">sbt.Logger</span><a href="#34305">log</a></span>)
		{
			<span class="keyword">val</span> <span class="typed"><span class="type">java.security.DigestInputStream</span><a id="44327">dis</a></span> = <span class="typed"><span class="type">java.security.DigestInputStream</span><span class="keyword">new</span></span> <span class="typed"><span class="type">java.security.DigestInputStream</span><a id="4931">DigestInputStream</a></span>(<span class="typed"><span class="type">java.io.InputStream</span><a href="#34304">stream</a></span>, <span class="typed"><span class="type">java.security.MessageDigest</span><a href="#44251">digest</a></span>)
			<span class="keyword">val</span> <span class="typed"><span class="type">Array[Byte]</span><a id="44328">buffer</a></span> = <span class="typed"><span class="type">Array[Byte]</span><span class="keyword">new</span></span> <span class="typed"><span class="type">Array[Byte]</span><a id="1053">Array</a></span>[Byte](<span class="typed"><span class="type">=&gt; Int</span><a href="#23676">BufferSize</a></span>)
			<span class="typed"><span class="type">Unit</span><a href="#44329" class="keyword">while</a></span>(<span class="typed"><span class="type">java.security.DigestInputStream</span><a href="#44327">dis</a></span>.<span class="typed"><span class="type">(Array[Byte])Int</span><a id="44341">read</a></span>(<span class="typed"><span class="type">Array[Byte]</span><a href="#44328">buffer</a></span>) <span class="typed"><span class="type">(Int)Boolean</span><a id="3127">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span>) <span class="typed"><span class="type">Unit</span><span >{</span></span>}
			<span class="typed"><span class="type">java.security.DigestInputStream</span><a href="#44327">dis</a></span>.<span class="typed"><span class="type">()Unit</span><a id="44345">close</a></span>()
			<span class="typed"><span class="type">(Array[Byte])Right[Nothing,Array[Byte]]</span><span id="30775"><a id="502">Right</a></span></span>(<span class="typed"><span class="type">java.security.MessageDigest</span><a href="#44251">digest</a></span>.<span class="typed"><span class="type">()Array[Byte]</span><a id="44264">digest</a></span>)
		}
		{ <span class="typed"><span class="type">java.io.InputStream</span><a href="#34304">stream</a></span>.<span class="typed"><span class="type">()Unit</span><a id="20095">close</a></span>() }
	}

	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Byte)Char</span><a id="23684">toHex</a></span>(<span class="typed"><span class="type">Byte</span><a id="44176">b</a></span>: <span class="typed"><span class="type">Byte</span><a id="2360">Byte</a></span>): <span class="typed"><span class="type">Char</span><a id="2370">Char</a></span> =
	{
		<span class="typed"><span class="type">(Boolean,=&gt; Any)Unit</span><span id="5972"><a id="802">require</a></span></span>(<span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="2800">&gt;=</a></span> <span class="typed"><span class="type">Int(0)</span><span class="int">0</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="2798">&lt;=</a></span> <span class="typed"><span class="type">Int(15)</span><span class="int">15</span></span>, <span class="typed"><span class="type">java.lang.String(&quot;Byte &quot;)</span><span class="string">&quot;Byte &quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot; was not between 0 and 15&quot;)</span><span class="string">&quot; was not between 0 and 15&quot;</span></span>)
		<span class="typed"><span class="type">Char</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span> <span class="typed"><span class="type">(Int)Boolean</span><a id="2797">&lt;</a></span> <span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span>)
			(<span class="typed"><span class="type">Char('0')</span><span class="char">'0'</span></span>.<span class="typed"><span class="type">Int</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Int</span><a id="2375">Int</a></span>] <span class="typed"><span class="type">(Byte)Int</span><a id="3086">+</a></span> <span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span>).<span class="typed"><span class="type">Char</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Char</span><a id="2370">Char</a></span>]
		<span class="keyword">else</span>
			(<span class="typed"><span class="type">Char('a')</span><span class="char">'a'</span></span>.<span class="typed"><span class="type">Int</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Int</span><a id="2375">Int</a></span>] <span class="typed"><span class="type">(Int)Int</span><a id="3128">+</a></span> (<span class="typed"><span class="type">Byte</span><a href="#44176">b</a></span><span class="typed"><span class="type">(Int)Int</span><a id="2802">-</a></span><span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span>)).<span class="typed"><span class="type">Char</span><a id="3484">asInstanceOf</a></span>[<span class="typed"><span class="type">Char</span><a id="2370">Char</a></span>]
	}
	<span class="keyword">private</span> <span class="keyword">def</span> <span class="typed"><span class="type">(Char)Int</span><a id="23685">fromHex</a></span>(<span class="typed"><span class="type">Char</span><a id="44227">c</a></span>: <span class="typed"><span class="type">Char</span><a id="2370">Char</a></span>): <span class="typed"><span class="type">Int</span><a id="2375">Int</a></span> =
	{
		<span class="keyword">val</span> <span class="typed"><span class="type">Int</span><a id="44377">b</a></span> =
			<span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3004">&gt;=</a></span> <span class="typed"><span class="type">Char('0')</span><span class="char">'0'</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3002">&lt;=</a></span> <span class="typed"><span class="type">Char('9')</span><span class="char">'9'</span></span>)
				(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Int</span><a id="3006">-</a></span> <span class="typed"><span class="type">Char('0')</span><span class="char">'0'</span></span>)
			<span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3004">&gt;=</a></span> <span class="typed"><span class="type">Char('a')</span><span class="char">'a'</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3002">&lt;=</a></span> <span class="typed"><span class="type">Char('f')</span><span class="char">'f'</span></span>)
				(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Int</span><a id="3006">-</a></span> <span class="typed"><span class="type">Char('a')</span><span class="char">'a'</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3128">+</a></span> <span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span>
			<span class="keyword">else</span> <span class="typed"><span class="type">Int</span><span class="keyword">if</span></span>(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3004">&gt;=</a></span> <span class="typed"><span class="type">Char('A')</span><span class="char">'A'</span></span> <span class="typed"><span class="type">(Boolean)Boolean</span><a id="2732">&amp;&amp;</a></span> <span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Boolean</span><a id="3002">&lt;=</a></span> <span class="typed"><span class="type">Char('F')</span><span class="char">'F'</span></span>)
				(<span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Char)Int</span><a id="3006">-</a></span> <span class="typed"><span class="type">Char('A')</span><span class="char">'A'</span></span>) <span class="typed"><span class="type">(Int)Int</span><a id="3128">+</a></span> <span class="typed"><span class="type">Int(10)</span><span class="int">10</span></span>
			<span class="keyword">else</span>
				<span class="typed"><span class="type">Nothing</span><span class="keyword">throw</span></span> <span class="typed"><span class="type">(java.lang.String)java.lang.RuntimeException</span><a id="29019" class="keyword">new</a></span> <span class="typed"><span class="type">java.lang.RuntimeException</span><span id="5940"><a id="802">RuntimeException</a></span></span>(<span class="typed"><span class="type">java.lang.String(&quot;Invalid hex character: '&quot;)</span><span class="string">&quot;Invalid hex character: '&quot;</span></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">Char</span><a href="#44227">c</a></span> <span class="typed"><span class="type">(Any)java.lang.String</span><a id="5774">+</a></span> <span class="typed"><span class="type">java.lang.String(&quot;'.&quot;)</span><span class="string">&quot;'.&quot;</span></span>)
		<span class="typed"><span class="type">Int</span><a href="#44377">b</a></span>
	}
}
        </pre>
    </body>
</html>